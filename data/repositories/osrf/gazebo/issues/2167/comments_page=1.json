{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2167/comments/35155778.json"}, "html": {"href": "#!/osrf/gazebo/issues/2167#comment-35155778"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2167.json"}}, "type": "issue", "id": 2167, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Not possible to change the pose of heightmaps"}, "content": {"raw": "There's one bit of nuance I would add: the ODE heightmap collisions currently respect the rotation of the pose element, but they ignore the translation (try loading the world with the following patch and see the boxes fall because they miss the corners):\n\n~~~\ndiff -r db9dd0b2eca3 worlds/heightmap.world\n--- a/worlds/heightmap.world\tThu Mar 09 15:40:14 2017 -0800\n+++ b/worlds/heightmap.world\tThu Mar 16 14:22:11 2017 -0700\n@@ -94,9 +94,12 @@\n       </link>\n     </model>\n     <model name=\"heightmap\">\n+      <pose>0 0 0  0 0 0</pose>\n       <static>true</static>\n       <link name=\"link\">\n+        <pose>0 0 0  0 0 0</pose>\n         <collision name=\"collision\">\n+          <pose>0 0 0  0 0 0.7</pose>\n           <geometry>\n             <heightmap>\n               <uri>file://media/materials/textures/heightmap_bowl.png</uri>\n~~~\n\nThe rendering ignores both translation and rotation.", "markup": "markdown", "html": "<p>There's one bit of nuance I would add: the ODE heightmap collisions currently respect the rotation of the pose element, but they ignore the translation (try loading the world with the following patch and see the boxes fall because they miss the corners):</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gh\">diff -r db9dd0b2eca3 worlds/heightmap.world</span>\n<span class=\"gd\">--- a/worlds/heightmap.world    Thu Mar 09 15:40:14 2017 -0800</span>\n<span class=\"gi\">+++ b/worlds/heightmap.world    Thu Mar 16 14:22:11 2017 -0700</span>\n<span class=\"gu\">@@ -94,9 +94,12 @@</span>\n       &lt;/link&gt;\n     &lt;/model&gt;\n     &lt;model name=&quot;heightmap&quot;&gt;\n<span class=\"gi\">+      &lt;pose&gt;0 0 0  0 0 0&lt;/pose&gt;</span>\n       &lt;static&gt;true&lt;/static&gt;\n       &lt;link name=&quot;link&quot;&gt;\n<span class=\"gi\">+        &lt;pose&gt;0 0 0  0 0 0&lt;/pose&gt;</span>\n         &lt;collision name=&quot;collision&quot;&gt;\n<span class=\"gi\">+          &lt;pose&gt;0 0 0  0 0 0.7&lt;/pose&gt;</span>\n           &lt;geometry&gt;\n             &lt;heightmap&gt;\n               &lt;uri&gt;file://media/materials/textures/heightmap_bowl.png&lt;/uri&gt;\n</pre></div>\n\n\n<p>The rendering ignores both translation and rotation.</p>", "type": "rendered"}, "created_on": "2017-03-16T21:22:54.493023+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 35155778}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2167/comments/35157474.json"}, "html": {"href": "#!/osrf/gazebo/issues/2167#comment-35157474"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2167.json"}}, "type": "issue", "id": 2167, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Not possible to change the pose of heightmaps"}, "content": {"raw": "I added terrain offsets to the ODEHeightmapShape class in 887044cc9e21 (branch `terrain_offset_7`). This can be tested with the following height map world patch, which should show two boxes land on the terrain but two others fall, since the origin has been shifted to the side.\n\n~~~\ndiff -r db9dd0b2eca3 worlds/heightmap.world\n--- a/worlds/heightmap.world\tThu Mar 09 15:40:14 2017 -0800\n+++ b/worlds/heightmap.world\tThu Mar 16 16:20:33 2017 -0700\n@@ -94,9 +94,12 @@\n       </link>\n     </model>\n     <model name=\"heightmap\">\n+      <pose>0 0 0  0 0 0</pose>\n       <static>true</static>\n       <link name=\"link\">\n+        <pose>0 0 0  0 0 0</pose>\n         <collision name=\"collision\">\n+          <pose>10 0 0  0 0 0</pose>\n           <geometry>\n             <heightmap>\n               <uri>file://media/materials/textures/heightmap_bowl.png</uri>\n~~~", "markup": "markdown", "html": "<p>I added terrain offsets to the ODEHeightmapShape class in <a href=\"#!/osrf/gazebo/commits/887044cc9e21\" rel=\"nofollow\" class=\"ap-connect-link\">887044cc9e21</a> (branch <code>terrain_offset_7</code>). This can be tested with the following height map world patch, which should show two boxes land on the terrain but two others fall, since the origin has been shifted to the side.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gh\">diff -r db9dd0b2eca3 worlds/heightmap.world</span>\n<span class=\"gd\">--- a/worlds/heightmap.world    Thu Mar 09 15:40:14 2017 -0800</span>\n<span class=\"gi\">+++ b/worlds/heightmap.world    Thu Mar 16 16:20:33 2017 -0700</span>\n<span class=\"gu\">@@ -94,9 +94,12 @@</span>\n       &lt;/link&gt;\n     &lt;/model&gt;\n     &lt;model name=&quot;heightmap&quot;&gt;\n<span class=\"gi\">+      &lt;pose&gt;0 0 0  0 0 0&lt;/pose&gt;</span>\n       &lt;static&gt;true&lt;/static&gt;\n       &lt;link name=&quot;link&quot;&gt;\n<span class=\"gi\">+        &lt;pose&gt;0 0 0  0 0 0&lt;/pose&gt;</span>\n         &lt;collision name=&quot;collision&quot;&gt;\n<span class=\"gi\">+          &lt;pose&gt;10 0 0  0 0 0&lt;/pose&gt;</span>\n           &lt;geometry&gt;\n             &lt;heightmap&gt;\n               &lt;uri&gt;file://media/materials/textures/heightmap_bowl.png&lt;/uri&gt;\n</pre></div>", "type": "rendered"}, "created_on": "2017-03-16T23:28:22.435317+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 35157474}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2167/comments/35157483.json"}, "html": {"href": "#!/osrf/gazebo/issues/2167#comment-35157483"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2167.json"}}, "type": "issue", "id": 2167, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Not possible to change the pose of heightmaps"}, "content": {"raw": "It looks like it is possible to set the translation of an ogre terrain, but this [forum post](http://linode.ogre3d.org/forums/viewtopic.php?f=5&t=82121) suggests that it's not actually possible to rotate terrains.", "markup": "markdown", "html": "<p>It looks like it is possible to set the translation of an ogre terrain, but this <a data-is-external-link=\"true\" href=\"http://linode.ogre3d.org/forums/viewtopic.php?f=5&amp;t=82121\" rel=\"nofollow\">forum post</a> suggests that it's not actually possible to rotate terrains.</p>", "type": "rendered"}, "created_on": "2017-03-16T23:28:58.232094+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 35157483}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2167/comments/35157573.json"}, "html": {"href": "#!/osrf/gazebo/issues/2167#comment-35157573"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2167.json"}}, "type": "issue", "id": 2167, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Not possible to change the pose of heightmaps"}, "content": {"raw": "Perhaps we could allow Ogre heightmaps to be rotated by integer multiples of 90 degrees and just transpose the coordinates when loading them?", "markup": "markdown", "html": "<p>Perhaps we could allow Ogre heightmaps to be rotated by integer multiples of 90 degrees and just transpose the coordinates when loading them?</p>", "type": "rendered"}, "created_on": "2017-03-16T23:37:50.166855+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 35157573}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2167/comments/35157584.json"}, "html": {"href": "#!/osrf/gazebo/issues/2167#comment-35157584"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2167.json"}}, "type": "issue", "id": 2167, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Not possible to change the pose of heightmaps"}, "content": {"raw": "yes I think that's correct. Heightmap rotation is not supported in ogre. Translation (in world frame) is done through the heightmap `<pos>` element.", "markup": "markdown", "html": "<p>yes I think that's correct. Heightmap rotation is not supported in ogre. Translation (in world frame) is done through the heightmap <code>&lt;pos&gt;</code> element.</p>", "type": "rendered"}, "created_on": "2017-03-16T23:38:48.559683+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": null, "type": "issue_comment", "id": 35157584}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2167/comments/35157621.json"}, "html": {"href": "#!/osrf/gazebo/issues/2167#comment-35157621"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2167.json"}}, "type": "issue", "id": 2167, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Not possible to change the pose of heightmaps"}, "content": {"raw": "It be more consistent to use the `<pose>` elements of the heightmap's parent collision, link, and model to get the position. Is that desirable?", "markup": "markdown", "html": "<p>It be more consistent to use the <code>&lt;pose&gt;</code> elements of the heightmap's parent collision, link, and model to get the position. Is that desirable?</p>", "type": "rendered"}, "created_on": "2017-03-16T23:42:55.150033+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 35157621}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2167/comments/35157737.json"}, "html": {"href": "#!/osrf/gazebo/issues/2167#comment-35157737"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2167.json"}}, "type": "issue", "id": 2167, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Not possible to change the pose of heightmaps"}, "content": {"raw": "ya I agree `<pos>` doesn't fit well there. We should be able to set the world pose by querying the parent collision / visual. We could do the 90 degrees workaround and display a warning to the user if other rotations are specified.", "markup": "markdown", "html": "<p>ya I agree <code>&lt;pos&gt;</code> doesn't fit well there. We should be able to set the world pose by querying the parent collision / visual. We could do the 90 degrees workaround and display a warning to the user if other rotations are specified.</p>", "type": "rendered"}, "created_on": "2017-03-16T23:56:35.704329+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": null, "type": "issue_comment", "id": 35157737}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2167/comments/35160853.json"}, "html": {"href": "#!/osrf/gazebo/issues/2167#comment-35160853"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2167.json"}}, "type": "issue", "id": 2167, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Not possible to change the pose of heightmaps"}, "content": {"raw": "+1 to inheriting translation and allowing 90 degrees rotations with warnings for other angles.", "markup": "markdown", "html": "<p>+1 to inheriting translation and allowing 90 degrees rotations with warnings for other angles.</p>", "type": "rendered"}, "created_on": "2017-03-17T05:27:58.987700+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": null, "type": "issue_comment", "id": 35160853}], "page": 1, "size": 8}