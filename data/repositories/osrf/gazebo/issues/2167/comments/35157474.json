{"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2167/comments/35157474.json"}, "html": {"href": "#!/osrf/gazebo/issues/2167#comment-35157474"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2167.json"}}, "type": "issue", "id": 2167, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Not possible to change the pose of heightmaps"}, "content": {"raw": "I added terrain offsets to the ODEHeightmapShape class in 887044cc9e21 (branch `terrain_offset_7`). This can be tested with the following height map world patch, which should show two boxes land on the terrain but two others fall, since the origin has been shifted to the side.\n\n~~~\ndiff -r db9dd0b2eca3 worlds/heightmap.world\n--- a/worlds/heightmap.world\tThu Mar 09 15:40:14 2017 -0800\n+++ b/worlds/heightmap.world\tThu Mar 16 16:20:33 2017 -0700\n@@ -94,9 +94,12 @@\n       </link>\n     </model>\n     <model name=\"heightmap\">\n+      <pose>0 0 0  0 0 0</pose>\n       <static>true</static>\n       <link name=\"link\">\n+        <pose>0 0 0  0 0 0</pose>\n         <collision name=\"collision\">\n+          <pose>10 0 0  0 0 0</pose>\n           <geometry>\n             <heightmap>\n               <uri>file://media/materials/textures/heightmap_bowl.png</uri>\n~~~", "markup": "markdown", "html": "<p>I added terrain offsets to the ODEHeightmapShape class in <a href=\"#!/osrf/gazebo/commits/887044cc9e21\" rel=\"nofollow\" class=\"ap-connect-link\">887044cc9e21</a> (branch <code>terrain_offset_7</code>). This can be tested with the following height map world patch, which should show two boxes land on the terrain but two others fall, since the origin has been shifted to the side.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gh\">diff -r db9dd0b2eca3 worlds/heightmap.world</span>\n<span class=\"gd\">--- a/worlds/heightmap.world    Thu Mar 09 15:40:14 2017 -0800</span>\n<span class=\"gi\">+++ b/worlds/heightmap.world    Thu Mar 16 16:20:33 2017 -0700</span>\n<span class=\"gu\">@@ -94,9 +94,12 @@</span>\n       &lt;/link&gt;\n     &lt;/model&gt;\n     &lt;model name=&quot;heightmap&quot;&gt;\n<span class=\"gi\">+      &lt;pose&gt;0 0 0  0 0 0&lt;/pose&gt;</span>\n       &lt;static&gt;true&lt;/static&gt;\n       &lt;link name=&quot;link&quot;&gt;\n<span class=\"gi\">+        &lt;pose&gt;0 0 0  0 0 0&lt;/pose&gt;</span>\n         &lt;collision name=&quot;collision&quot;&gt;\n<span class=\"gi\">+          &lt;pose&gt;10 0 0  0 0 0&lt;/pose&gt;</span>\n           &lt;geometry&gt;\n             &lt;heightmap&gt;\n               &lt;uri&gt;file://media/materials/textures/heightmap_bowl.png&lt;/uri&gt;\n</pre></div>", "type": "rendered"}, "created_on": "2017-03-16T23:28:22.435317+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 35157474}