{"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2493/comments/46643166.json"}, "html": {"href": "#!/osrf/gazebo/issues/2493#comment-46643166"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2493.json"}}, "type": "issue", "id": 2493, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "A bug in SetClipDist() in rendering::WideAngleCamera"}, "content": {"raw": "Hi, Ian. I think this position is a kind of \"center\" position of the object(either geometric center or gravity center), if I use the projection of this center position vector to check visibility, another exception would raise that a corner(or part) of the object is actually visible in the frustum of camera, in spite of the center is out of it, we can't ensure the consistency of the visibility of all the corners & center.\n\nCurrently I use the pointer of Ogre::Camera to set the near & far clip distances to make it work normally, some pseudocode as below:\n\n\n```\n#!c++\n\nOgre::Camera* o_camera = wide_angle_camera_ptr->OgreCamera();\n\no_camera->setNearClipDistance(near_clip_dist);\no_camera->setFarClipDistance(far_clip_dist);\n```\nwhat's your concern? thank you.", "markup": "markdown", "html": "<p>Hi, Ian. I think this position is a kind of \"center\" position of the object(either geometric center or gravity center), if I use the projection of this center position vector to check visibility, another exception would raise that a corner(or part) of the object is actually visible in the frustum of camera, in spite of the center is out of it, we can't ensure the consistency of the visibility of all the corners &amp; center.</p>\n<p>Currently I use the pointer of Ogre::Camera to set the near &amp; far clip distances to make it work normally, some pseudocode as below:</p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"n\">Ogre</span><span class=\"o\">::</span><span class=\"n\">Camera</span><span class=\"o\">*</span> <span class=\"n\">o_camera</span> <span class=\"o\">=</span> <span class=\"n\">wide_angle_camera_ptr</span><span class=\"o\">-&gt;</span><span class=\"n\">OgreCamera</span><span class=\"p\">();</span>\n\n<span class=\"n\">o_camera</span><span class=\"o\">-&gt;</span><span class=\"n\">setNearClipDistance</span><span class=\"p\">(</span><span class=\"n\">near_clip_dist</span><span class=\"p\">);</span>\n<span class=\"n\">o_camera</span><span class=\"o\">-&gt;</span><span class=\"n\">setFarClipDistance</span><span class=\"p\">(</span><span class=\"n\">far_clip_dist</span><span class=\"p\">);</span>\n</pre></div>\n\n\n<p>what's your concern? thank you.</p>", "type": "rendered"}, "created_on": "2018-07-09T02:55:10.524571+00:00", "user": {"display_name": "Huang Fan", "uuid": "{257c3fe5-11e0-445e-b0e3-da3ee68633e1}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B257c3fe5-11e0-445e-b0e3-da3ee68633e1%7D"}, "html": {"href": "https://bitbucket.org/%7B257c3fe5-11e0-445e-b0e3-da3ee68633e1%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/a5d640cbda9f9296ed67a4e78c8f6e0cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsHF-2.png"}}, "nickname": "clawinshadow", "type": "user", "account_id": "5b3f4a2519502f2ea53aa82e"}, "updated_on": null, "type": "issue_comment", "id": 46643166}