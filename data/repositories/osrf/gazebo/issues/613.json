{"priority": "minor", "kind": "proposal", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/613/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/613.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/613/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/613/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/613/raise-a-flag-on-the-command-line-when-a"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/613/vote"}}, "reporter": {"display_name": "Benjamin Blumer", "uuid": "{10138156-c19f-4db7-8335-e7e93de2e71d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B10138156-c19f-4db7-8335-e7e93de2e71d%7D"}, "html": {"href": "https://bitbucket.org/%7B10138156-c19f-4db7-8335-e7e93de2e71d%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/e8232b91ef7a1bc30f2b5f865d8d5ab8d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsBB-1.png"}}, "nickname": "Benjamin_Blumer", "type": "user", "account_id": "557058:eb77bd10-15d6-497d-8d04-f4e7dd4da659"}, "title": "Raise a flag on the command line when a closing tag in an SDF isn't found.", "component": null, "votes": 0, "watches": 1, "content": {"raw": " I don't know if this is expected behaviour already. If so, there's a case where it doesn't work. If it's not implemented, I think it should be. Feel free to close this if it's not appropriate.  Raising a warning when Gazebo doesn't find closing tags would be very helpful for debugging.\r\n\r\nIn an SDF, I'd forgot to close an <axis> tag. As a result, it ignored the rest of the code. I was trying to debug my plugin. Little did I know, Gazebo wasn't even parsing the plugin tag because of the missing <axis> tag.  \r\n\r\nExample: running this SDF in Gazebo from the command line will not raise any flags, but also fails to look at the plugin code.  Note the missing </axis> tag in my_joint\r\n\r\n```\r\n#!xml\r\n\r\n<?xml version=\"1.0\" ?>\r\n<sdf version=\"1.3\">\r\n    \r\n  <world name=\"default\">\r\n    <!-- Ground Plane -->\r\n    <include>\r\n      <uri>model://ground_plane</uri>\r\n    </include>\r\n    <include>\r\n      <uri>model://sun</uri>\r\n    </include>\r\n  \r\n   <model name=\"box\">\r\n   <static>false</static>\r\n      <link name=\"base_link\">\r\n        <pose>0 0 0.5 0 0 0</pose>\r\n        <inertial>\r\n          <pose>0 0 0.5 0 0 0</pose>\r\n          <inertia>\r\n            <ixx>1</ixx>\r\n            <ixy>0</ixy>\r\n            <ixz>0</ixz>\r\n            <iyy>1</iyy>\r\n            <iyz>0</iyz>\r\n            <izz>1</izz>\r\n          </inertia>\r\n          <mass>1</mass>\r\n     \r\n        </inertial>\r\n\r\n        <collision name=\"collision\">\r\n          <geometry>\r\n            <box>\r\n              <size>1 1 1</size>\r\n            </box>\r\n          </geometry>\r\n        </collision>\r\n\r\n        <visual name=\"visual\">\r\n          <geometry>\r\n            <box>\r\n              <size>1 1 1</size>\r\n            </box>\r\n          </geometry>\r\n        </visual>\r\n      </link>\r\n\r\n      <link name=\"top_link\">\r\n        <pose> 0 0 1.3 0 0 0 </pose>\r\n        <inertial>\r\n          <pose>0 0 0.5 0 0 0</pose>\r\n          <inertia>\r\n            <ixx>1</ixx>\r\n            <ixy>0</ixy>\r\n            <ixz>0</ixz>\r\n            <iyy>1</iyy>\r\n            <iyz>0</iyz>\r\n            <izz>1</izz>\r\n          </inertia>\r\n          <mass>1</mass>\r\n     \r\n        </inertial>\r\n\r\n\r\n        <collision name=\"collision\">\r\n          <geometry>\r\n            <box>\r\n              <size>.5 .5 .5</size>\r\n            </box>>\r\n          </geometry>\r\n        </collision>\r\n\r\n        <visual name=\"visual\">\r\n          <geometry>\r\n            <box>\r\n              <size>.5 .5 .5</size>\r\n            </box>>\r\n          </geometry>\r\n        </visual>\r\n      </link>\r\n\r\n      <joint name=\"my_joint\" type=\"revolute\">\r\n        <parent>base_link</parent>\r\n        <child>top_link</child>\r\n        <axis>\r\n        <xyz>0 0 1</xyz>\r\n        \r\n      </joint>\r\n      \r\n      \r\n      <plugin name=\"set_joints\" filename=\"build/libset_joints.so\"/>\r\n    </model>\r\n  </world>\r\n</sdf>\r\n```", "markup": "markdown", "html": "<p>I don't know if this is expected behaviour already. If so, there's a case where it doesn't work. If it's not implemented, I think it should be. Feel free to close this if it's not appropriate.  Raising a warning when Gazebo doesn't find closing tags would be very helpful for debugging.</p>\n<p>In an SDF, I'd forgot to close an &lt;axis&gt; tag. As a result, it ignored the rest of the code. I was trying to debug my plugin. Little did I know, Gazebo wasn't even parsing the plugin tag because of the missing &lt;axis&gt; tag.  </p>\n<p>Example: running this SDF in Gazebo from the command line will not raise any flags, but also fails to look at the plugin code.  Note the missing &lt;/axis&gt; tag in my_joint</p>\n<div class=\"codehilite language-xml\"><pre><span></span><span class=\"cp\">&lt;?xml version=&quot;1.0&quot; ?&gt;</span>\n<span class=\"nt\">&lt;sdf</span> <span class=\"na\">version=</span><span class=\"s\">&quot;1.3&quot;</span><span class=\"nt\">&gt;</span>\n\n  <span class=\"nt\">&lt;world</span> <span class=\"na\">name=</span><span class=\"s\">&quot;default&quot;</span><span class=\"nt\">&gt;</span>\n    <span class=\"c\">&lt;!-- Ground Plane --&gt;</span>\n    <span class=\"nt\">&lt;include&gt;</span>\n      <span class=\"nt\">&lt;uri&gt;</span>model://ground_plane<span class=\"nt\">&lt;/uri&gt;</span>\n    <span class=\"nt\">&lt;/include&gt;</span>\n    <span class=\"nt\">&lt;include&gt;</span>\n      <span class=\"nt\">&lt;uri&gt;</span>model://sun<span class=\"nt\">&lt;/uri&gt;</span>\n    <span class=\"nt\">&lt;/include&gt;</span>\n\n   <span class=\"nt\">&lt;model</span> <span class=\"na\">name=</span><span class=\"s\">&quot;box&quot;</span><span class=\"nt\">&gt;</span>\n   <span class=\"nt\">&lt;static&gt;</span>false<span class=\"nt\">&lt;/static&gt;</span>\n      <span class=\"nt\">&lt;link</span> <span class=\"na\">name=</span><span class=\"s\">&quot;base_link&quot;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;pose&gt;</span>0 0 0.5 0 0 0<span class=\"nt\">&lt;/pose&gt;</span>\n        <span class=\"nt\">&lt;inertial&gt;</span>\n          <span class=\"nt\">&lt;pose&gt;</span>0 0 0.5 0 0 0<span class=\"nt\">&lt;/pose&gt;</span>\n          <span class=\"nt\">&lt;inertia&gt;</span>\n            <span class=\"nt\">&lt;ixx&gt;</span>1<span class=\"nt\">&lt;/ixx&gt;</span>\n            <span class=\"nt\">&lt;ixy&gt;</span>0<span class=\"nt\">&lt;/ixy&gt;</span>\n            <span class=\"nt\">&lt;ixz&gt;</span>0<span class=\"nt\">&lt;/ixz&gt;</span>\n            <span class=\"nt\">&lt;iyy&gt;</span>1<span class=\"nt\">&lt;/iyy&gt;</span>\n            <span class=\"nt\">&lt;iyz&gt;</span>0<span class=\"nt\">&lt;/iyz&gt;</span>\n            <span class=\"nt\">&lt;izz&gt;</span>1<span class=\"nt\">&lt;/izz&gt;</span>\n          <span class=\"nt\">&lt;/inertia&gt;</span>\n          <span class=\"nt\">&lt;mass&gt;</span>1<span class=\"nt\">&lt;/mass&gt;</span>\n\n        <span class=\"nt\">&lt;/inertial&gt;</span>\n\n        <span class=\"nt\">&lt;collision</span> <span class=\"na\">name=</span><span class=\"s\">&quot;collision&quot;</span><span class=\"nt\">&gt;</span>\n          <span class=\"nt\">&lt;geometry&gt;</span>\n            <span class=\"nt\">&lt;box&gt;</span>\n              <span class=\"nt\">&lt;size&gt;</span>1 1 1<span class=\"nt\">&lt;/size&gt;</span>\n            <span class=\"nt\">&lt;/box&gt;</span>\n          <span class=\"nt\">&lt;/geometry&gt;</span>\n        <span class=\"nt\">&lt;/collision&gt;</span>\n\n        <span class=\"nt\">&lt;visual</span> <span class=\"na\">name=</span><span class=\"s\">&quot;visual&quot;</span><span class=\"nt\">&gt;</span>\n          <span class=\"nt\">&lt;geometry&gt;</span>\n            <span class=\"nt\">&lt;box&gt;</span>\n              <span class=\"nt\">&lt;size&gt;</span>1 1 1<span class=\"nt\">&lt;/size&gt;</span>\n            <span class=\"nt\">&lt;/box&gt;</span>\n          <span class=\"nt\">&lt;/geometry&gt;</span>\n        <span class=\"nt\">&lt;/visual&gt;</span>\n      <span class=\"nt\">&lt;/link&gt;</span>\n\n      <span class=\"nt\">&lt;link</span> <span class=\"na\">name=</span><span class=\"s\">&quot;top_link&quot;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;pose&gt;</span> 0 0 1.3 0 0 0 <span class=\"nt\">&lt;/pose&gt;</span>\n        <span class=\"nt\">&lt;inertial&gt;</span>\n          <span class=\"nt\">&lt;pose&gt;</span>0 0 0.5 0 0 0<span class=\"nt\">&lt;/pose&gt;</span>\n          <span class=\"nt\">&lt;inertia&gt;</span>\n            <span class=\"nt\">&lt;ixx&gt;</span>1<span class=\"nt\">&lt;/ixx&gt;</span>\n            <span class=\"nt\">&lt;ixy&gt;</span>0<span class=\"nt\">&lt;/ixy&gt;</span>\n            <span class=\"nt\">&lt;ixz&gt;</span>0<span class=\"nt\">&lt;/ixz&gt;</span>\n            <span class=\"nt\">&lt;iyy&gt;</span>1<span class=\"nt\">&lt;/iyy&gt;</span>\n            <span class=\"nt\">&lt;iyz&gt;</span>0<span class=\"nt\">&lt;/iyz&gt;</span>\n            <span class=\"nt\">&lt;izz&gt;</span>1<span class=\"nt\">&lt;/izz&gt;</span>\n          <span class=\"nt\">&lt;/inertia&gt;</span>\n          <span class=\"nt\">&lt;mass&gt;</span>1<span class=\"nt\">&lt;/mass&gt;</span>\n\n        <span class=\"nt\">&lt;/inertial&gt;</span>\n\n\n        <span class=\"nt\">&lt;collision</span> <span class=\"na\">name=</span><span class=\"s\">&quot;collision&quot;</span><span class=\"nt\">&gt;</span>\n          <span class=\"nt\">&lt;geometry&gt;</span>\n            <span class=\"nt\">&lt;box&gt;</span>\n              <span class=\"nt\">&lt;size&gt;</span>.5 .5 .5<span class=\"nt\">&lt;/size&gt;</span>\n            <span class=\"nt\">&lt;/box&gt;</span>&gt;\n          <span class=\"nt\">&lt;/geometry&gt;</span>\n        <span class=\"nt\">&lt;/collision&gt;</span>\n\n        <span class=\"nt\">&lt;visual</span> <span class=\"na\">name=</span><span class=\"s\">&quot;visual&quot;</span><span class=\"nt\">&gt;</span>\n          <span class=\"nt\">&lt;geometry&gt;</span>\n            <span class=\"nt\">&lt;box&gt;</span>\n              <span class=\"nt\">&lt;size&gt;</span>.5 .5 .5<span class=\"nt\">&lt;/size&gt;</span>\n            <span class=\"nt\">&lt;/box&gt;</span>&gt;\n          <span class=\"nt\">&lt;/geometry&gt;</span>\n        <span class=\"nt\">&lt;/visual&gt;</span>\n      <span class=\"nt\">&lt;/link&gt;</span>\n\n      <span class=\"nt\">&lt;joint</span> <span class=\"na\">name=</span><span class=\"s\">&quot;my_joint&quot;</span> <span class=\"na\">type=</span><span class=\"s\">&quot;revolute&quot;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;parent&gt;</span>base_link<span class=\"nt\">&lt;/parent&gt;</span>\n        <span class=\"nt\">&lt;child&gt;</span>top_link<span class=\"nt\">&lt;/child&gt;</span>\n        <span class=\"nt\">&lt;axis&gt;</span>\n        <span class=\"nt\">&lt;xyz&gt;</span>0 0 1<span class=\"nt\">&lt;/xyz&gt;</span>\n\n      <span class=\"nt\">&lt;/joint&gt;</span>\n\n\n      <span class=\"nt\">&lt;plugin</span> <span class=\"na\">name=</span><span class=\"s\">&quot;set_joints&quot;</span> <span class=\"na\">filename=</span><span class=\"s\">&quot;build/libset_joints.so&quot;</span><span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;/model&gt;</span>\n  <span class=\"nt\">&lt;/world&gt;</span>\n<span class=\"nt\">&lt;/sdf&gt;</span>\n</pre></div>", "type": "rendered"}, "assignee": null, "state": "duplicate", "version": {"name": "all", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/225575.json"}}}, "edited_on": null, "created_on": "2013-03-27T23:26:57.972039+00:00", "milestone": null, "updated_on": "2016-09-14T19:24:46.130997+00:00", "type": "issue", "id": 613}