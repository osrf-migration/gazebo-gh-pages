{"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/1307/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/1307.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/1307/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/1307/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/1307/file-install-fails-with-default"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/1307/vote"}}, "reporter": {"display_name": "Peter Jeffris", "uuid": "{681edd29-017b-40d6-b97a-9a85d2c8c8f6}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B681edd29-017b-40d6-b97a-9a85d2c8c8f6%7D"}, "html": {"href": "https://bitbucket.org/%7B681edd29-017b-40d6-b97a-9a85d2c8c8f6%7D/"}, "avatar": {"href": "https://bitbucket.org/account/peter_jeffris/avatar/"}}, "nickname": "peter_jeffris", "type": "user", "account_id": null}, "title": "file INSTALL fails with default CMAKE_INSTALL_PREFIX", "component": null, "votes": 0, "watches": 2, "content": {"raw": "If I configure gazebo 4.0 with cmake without a -DCMAKE_INSTALL_PREFIX  declaration it fails to install various configuration files with errors like the following:\r\n\r\nfile INSTALL cannot find \"/opt/gazebo/gazebo-4.0.0/media/gui/looknfeel/OgreTray.looknfeel\r\n\r\nThe file listed in the error always exists in these errors. My process looks like this:\r\n\r\n```\r\n#!bash\r\n\r\ncd gazebo-4.0\r\nmkdir build\r\ncd build\r\ncmake -DCMAKE_INSTALL_PREFIX=/usr ..\r\nmake -j4\r\nsudo checkinstall make install\r\n```\r\nThe error occurs when checkinstall invokes make install.\r\n\r\nThe nested cmake list file that installs these files looks like the folowing:\r\n\r\nset (files Falagard.xsd\r\n           OgreTray.looknfeel\r\n           TaharezLook.looknfeel\r\n           Vanilla.looknfeel\r\n           WindowsLook.looknfeel\r\n           Gazebo.looknfeel\r\n)\r\n\r\n\r\ninstall(FILES ${files} DESTINATION ${CMAKE_INSTALL_PREFIX}/share/gazebo-${GAZEBO_VERSION}/media/gui/looknfeel/)\r\n\r\n\r\nI couldn't figure out what the problem was or why explicitly declaring the install prefix might change things. If I'm doing something stupid in the compile process feel free to poke fun at me, but this is the process I've used succesfully for many other builds. Without an install prefix the default install directory has always been /usr/local, this is the first time I've seen the file INSTALL error.\r\n", "markup": "markdown", "html": "<p>If I configure gazebo 4.0 with cmake without a -DCMAKE_INSTALL_PREFIX  declaration it fails to install various configuration files with errors like the following:</p>\n<p>file INSTALL cannot find \"/opt/gazebo/gazebo-4.0.0/media/gui/looknfeel/OgreTray.looknfeel</p>\n<p>The file listed in the error always exists in these errors. My process looks like this:</p>\n<div class=\"codehilite language-bash\"><pre><span></span><span class=\"nb\">cd</span> gazebo-4.0\nmkdir build\n<span class=\"nb\">cd</span> build\ncmake -DCMAKE_INSTALL_PREFIX<span class=\"o\">=</span>/usr ..\nmake -j4\nsudo checkinstall make install\n</pre></div>\n\n\n<p>The error occurs when checkinstall invokes make install.</p>\n<p>The nested cmake list file that installs these files looks like the folowing:</p>\n<p>set (files Falagard.xsd\n           OgreTray.looknfeel\n           TaharezLook.looknfeel\n           Vanilla.looknfeel\n           WindowsLook.looknfeel\n           Gazebo.looknfeel\n)</p>\n<p>install(FILES ${files} DESTINATION ${CMAKE_INSTALL_PREFIX}/share/gazebo-${GAZEBO_VERSION}/media/gui/looknfeel/)</p>\n<p>I couldn't figure out what the problem was or why explicitly declaring the install prefix might change things. If I'm doing something stupid in the compile process feel free to poke fun at me, but this is the process I've used succesfully for many other builds. Without an install prefix the default install directory has always been /usr/local, this is the first time I've seen the file INSTALL error.</p>", "type": "rendered"}, "assignee": null, "state": "closed", "version": {"name": "all", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/225575.json"}}}, "edited_on": null, "created_on": "2014-10-19T00:56:53.177595+00:00", "milestone": null, "updated_on": "2016-09-14T19:43:33.012760+00:00", "type": "issue", "id": 1307}