{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/594/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/594.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/594/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/594/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/594/atlas-robot-gets-stuck-sometimes-around"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/594/vote"}}, "reporter": {"display_name": "Patrick Beeson", "uuid": "{d33f061a-d3c9-4b15-96cc-d08b463d97c6}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd33f061a-d3c9-4b15-96cc-d08b463d97c6%7D"}, "html": {"href": "https://bitbucket.org/%7Bd33f061a-d3c9-4b15-96cc-d08b463d97c6%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/initials/PB-0.png"}}, "nickname": "Patrick Beeson", "type": "user", "account_id": "557058:eff3a3b0-e19b-43e6-b0a0-22d6a8721c3b"}, "title": "Atlas robot gets stuck sometimes around limits", "component": null, "votes": 0, "watches": 4, "content": {"raw": "We have noticed that sometimes the back roll (back_ubx) on Atlas can get stuck if it gets around the joint limits.  This seems to happen much more frequently when using an effort-only conotrller rather than a position PID controller.\r\n\r\nWe have found that we can apply max efforts (+ or - 95) and not get any velocity or position change when at the limit (around -0.8 or 0.8 radian for back_ubx).  \r\n\r\nWe have also found (oddly) that we can get unstuck by pushing into the \"physical\" limits of the joints, causing the sim to move beyond the limits of the joint (similarly, sometimes simply setting effort to 0 and letting gravity pull it past the limts works).  Once you are significantly away from the limit (in either the positive or negaive direction), efforts start to work again.  \r\n\r\nI traced through Gazebo, and it seems this may go all the way through to the way ODE handles limits when sending torques.   This is pretty easy to replicate though.  Just set all effort on the back_ubx to 0, let it tip to the side, then try to lfit back up with lets say 70 effort (away from limt).  It won't make it, but it should put it right in the sweet spot to get stuck.  After that any effort away from the limit won't work.  Pressing hard into the limit, ususlaly breaks it out of this state and lets you move back away.", "markup": "markdown", "html": "<p>We have noticed that sometimes the back roll (back_ubx) on Atlas can get stuck if it gets around the joint limits.  This seems to happen much more frequently when using an effort-only conotrller rather than a position PID controller.</p>\n<p>We have found that we can apply max efforts (+ or - 95) and not get any velocity or position change when at the limit (around -0.8 or 0.8 radian for back_ubx).  </p>\n<p>We have also found (oddly) that we can get unstuck by pushing into the \"physical\" limits of the joints, causing the sim to move beyond the limits of the joint (similarly, sometimes simply setting effort to 0 and letting gravity pull it past the limts works).  Once you are significantly away from the limit (in either the positive or negaive direction), efforts start to work again.  </p>\n<p>I traced through Gazebo, and it seems this may go all the way through to the way ODE handles limits when sending torques.   This is pretty easy to replicate though.  Just set all effort on the back_ubx to 0, let it tip to the side, then try to lfit back up with lets say 70 effort (away from limt).  It won't make it, but it should put it right in the sweet spot to get stuck.  After that any effort away from the limit won't work.  Pressing hard into the limit, ususlaly breaks it out of this state and lets you move back away.</p>", "type": "rendered"}, "assignee": null, "state": "closed", "version": {"name": "all", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/225575.json"}}}, "edited_on": null, "created_on": "2013-03-20T21:42:42.071351+00:00", "milestone": null, "updated_on": "2016-09-14T19:43:34.248657+00:00", "type": "issue", "id": 594}