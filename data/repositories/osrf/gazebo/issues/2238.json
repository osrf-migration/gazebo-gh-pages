{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2238/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2238.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2238/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2238/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2238/gzserver-or-gazebo-76-crashes-on-startup"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2238/vote"}}, "reporter": {"display_name": "S Albert", "uuid": "{90822606-8149-4c1b-bbc0-a02e185f124a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B90822606-8149-4c1b-bbc0-a02e185f124a%7D"}, "html": {"href": "https://bitbucket.org/%7B90822606-8149-4c1b-bbc0-a02e185f124a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/d21590d20a09a46f37b00d53cfa35ed5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSA-0.png"}}, "nickname": "starthal", "type": "user", "account_id": "557058:63a416f7-2151-433c-a2af-0b048aa805aa"}, "title": "gzserver (or gazebo) 7.6 crashes on startup when loading certain models.", "component": null, "votes": 0, "watches": 1, "content": {"raw": "This issue seems to be present in 7.6 but not 7.5.\r\n\r\nI am using the Homebrew build on OS X El Capitan (10.11)\r\n\r\n```\r\n$ gzserver --verbose repro.world \r\nGazebo multi-robot simulator, version 7.6.0\r\nCopyright (C) 2012 Open Source Robotics Foundation.\r\nReleased under the Apache 2 License.\r\nhttp://gazebosim.org\r\n\r\n[Msg] Waiting for master.\r\n[Msg] Connected to gazebo master @ http://127.0.0.1:11345\r\n[Msg] Publicized address: 10.1.10.103\r\nSegmentation fault: 11\r\n```\r\n\r\nTo reproduce (see attached archive):\r\n\r\n`repro.world`:\r\n```\r\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<sdf version='1.6'>\r\n  <world name='repro'>\r\n    <include>\r\n      <uri>file://repro</uri>\r\n    </include>\r\n  </world>\r\n</sdf>\r\n```\r\n\r\n`repro/model.config`:\r\n```\r\n<?xml version=\"1.0\"?>\r\n\r\n<model>\r\n  <name>repro</name>\r\n  <version>1.0</version>\r\n  <!-- Add the 'version' attribute to prevent the crash -->\r\n  <!--<sdf version=\"1.5\">model.sdf</sdf>-->\r\n  <sdf>model.sdf</sdf>\r\n\r\n  <author>\r\n    <name>name</name>\r\n    <email>name@example.com</email>\r\n  </author>\r\n\r\n  <description>\r\n      Repro\r\n  </description>\r\n</model>\r\n```\r\n`model.sdf` is copied from the standard `model://table`.\r\n\r\nAs the comment says, the lack of the `version` attribute causes the crash. But the problem is probably more generic -- for example, removing the `<sdf>` element entirely will also cause the crash.", "markup": "markdown", "html": "<p>This issue seems to be present in 7.6 but not 7.5.</p>\n<p>I am using the Homebrew build on OS X El Capitan (10.11)</p>\n<div class=\"codehilite\"><pre><span></span>$ gzserver --verbose repro.world \nGazebo multi-robot simulator, version <span class=\"m\">7</span>.6.0\nCopyright <span class=\"o\">(</span>C<span class=\"o\">)</span> <span class=\"m\">2012</span> Open Source Robotics Foundation.\nReleased under the Apache <span class=\"m\">2</span> License.\nhttp://gazebosim.org\n\n<span class=\"o\">[</span>Msg<span class=\"o\">]</span> Waiting <span class=\"k\">for</span> master.\n<span class=\"o\">[</span>Msg<span class=\"o\">]</span> Connected to gazebo master @ http://127.0.0.1:11345\n<span class=\"o\">[</span>Msg<span class=\"o\">]</span> Publicized address: <span class=\"m\">10</span>.1.10.103\nSegmentation fault: <span class=\"m\">11</span>\n</pre></div>\n\n\n<p>To reproduce (see attached archive):</p>\n<p><code>repro.world</code>:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"cp\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>\n<span class=\"nt\">&lt;sdf</span> <span class=\"na\">version=</span><span class=\"s\">&#39;1.6&#39;</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;world</span> <span class=\"na\">name=</span><span class=\"s\">&#39;repro&#39;</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;include&gt;</span>\n      <span class=\"nt\">&lt;uri&gt;</span>file://repro<span class=\"nt\">&lt;/uri&gt;</span>\n    <span class=\"nt\">&lt;/include&gt;</span>\n  <span class=\"nt\">&lt;/world&gt;</span>\n<span class=\"nt\">&lt;/sdf&gt;</span>\n</pre></div>\n\n\n<p><code>repro/model.config</code>:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"cp\">&lt;?xml version=&quot;1.0&quot;?&gt;</span>\n\n<span class=\"nt\">&lt;model&gt;</span>\n  <span class=\"nt\">&lt;name&gt;</span>repro<span class=\"nt\">&lt;/name&gt;</span>\n  <span class=\"nt\">&lt;version&gt;</span>1.0<span class=\"nt\">&lt;/version&gt;</span>\n  <span class=\"c\">&lt;!-- Add the &#39;version&#39; attribute to prevent the crash --&gt;</span>\n  <span class=\"c\">&lt;!--&lt;sdf version=&quot;1.5&quot;&gt;model.sdf&lt;/sdf&gt;--&gt;</span>\n  <span class=\"nt\">&lt;sdf&gt;</span>model.sdf<span class=\"nt\">&lt;/sdf&gt;</span>\n\n  <span class=\"nt\">&lt;author&gt;</span>\n    <span class=\"nt\">&lt;name&gt;</span>name<span class=\"nt\">&lt;/name&gt;</span>\n    <span class=\"nt\">&lt;email&gt;</span>name@example.com<span class=\"nt\">&lt;/email&gt;</span>\n  <span class=\"nt\">&lt;/author&gt;</span>\n\n  <span class=\"nt\">&lt;description&gt;</span>\n      Repro\n  <span class=\"nt\">&lt;/description&gt;</span>\n<span class=\"nt\">&lt;/model&gt;</span>\n</pre></div>\n\n\n<p><code>model.sdf</code> is copied from the standard <code>model://table</code>.</p>\n<p>As the comment says, the lack of the <code>version</code> attribute causes the crash. But the problem is probably more generic -- for example, removing the <code>&lt;sdf&gt;</code> element entirely will also cause the crash.</p>", "type": "rendered"}, "assignee": null, "state": "closed", "version": {"name": "7.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242744.json"}}}, "edited_on": null, "created_on": "2017-03-23T17:18:04.406189+00:00", "milestone": null, "updated_on": "2017-03-23T18:31:16.078952+00:00", "type": "issue", "id": 2238}