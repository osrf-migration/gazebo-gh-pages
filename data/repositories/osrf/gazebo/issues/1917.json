{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/1917/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/1917.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/1917/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/1917/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/1917/camera-stops-sending-image-messages-after"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/1917/vote"}}, "reporter": {"display_name": "Xander Dunn", "uuid": "{f831b046-1fb3-44c5-a22e-f02af08b1d56}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bf831b046-1fb3-44c5-a22e-f02af08b1d56%7D"}, "html": {"href": "https://bitbucket.org/%7Bf831b046-1fb3-44c5-a22e-f02af08b1d56%7D/"}, "avatar": {"href": "https://bitbucket.org/account/xanderdunn/avatar/"}}, "nickname": "xanderdunn", "type": "user", "account_id": null}, "title": "Camera Stops Sending Image Messages After World Reset", "component": {"name": "msgs", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122880.json"}}}, "votes": 0, "watches": 3, "content": {"raw": "6.5.1\r\n\r\nWe have a Gazebo plugin that listens for certain messages, such as joint and camera image messages.  It's also capable of resetting the Gazebo world.\r\n\r\nIt appears after doing a world reset, we're no longer able to get messages from the camera.  Other messages, such as joint position, continue to be received as usual.\r\n\r\n[Here](https://github.com/xanderdunn/storage/raw/master/gazebo/camera_after_reset.mov) is a screen recording of what I see:\r\n\r\nTo reproduce (Time in my video where this starts):\r\n\r\n* Start an environment (0:00)\r\n* Send messages to Gazebo to step x 50 (0:05)\r\n* Notice that both the Gazebo GUI Image View and our plugin receive the camera image message successfully\r\n* Send message to Gazebo to reset the world (1:05)\r\n* Notice that the world correctly goes back to initial state.  \r\n* Send a message to Gazebo to step (1:09)\r\n* Notice that the plugin is stuck endlessly waiting for a camera image.\r\n* Step through Gazebo using the GUI (since the plugin is blocked) (1:31)\r\n* Notice that the GUI camera Image View doesn't update either\r\n\r\nChoice of physics engine doesn't seem to be important.  We've reproduced this in both ODE and Simbody.  It's also not specific to this .world.  The behavior is identical in other environments we've built.\r\n\r\nDo you have any thoughts on why doing a world reset would cause problems with the camera?  We're just using Gazebo's built-in camera model.", "markup": "markdown", "html": "<p>6.5.1</p>\n<p>We have a Gazebo plugin that listens for certain messages, such as joint and camera image messages.  It's also capable of resetting the Gazebo world.</p>\n<p>It appears after doing a world reset, we're no longer able to get messages from the camera.  Other messages, such as joint position, continue to be received as usual.</p>\n<p><a data-is-external-link=\"true\" href=\"https://github.com/xanderdunn/storage/raw/master/gazebo/camera_after_reset.mov\" rel=\"nofollow\">Here</a> is a screen recording of what I see:</p>\n<p>To reproduce (Time in my video where this starts):</p>\n<ul>\n<li>Start an environment (0:00)</li>\n<li>Send messages to Gazebo to step x 50 (0:05)</li>\n<li>Notice that both the Gazebo GUI Image View and our plugin receive the camera image message successfully</li>\n<li>Send message to Gazebo to reset the world (1:05)</li>\n<li>Notice that the world correctly goes back to initial state.  </li>\n<li>Send a message to Gazebo to step (1:09)</li>\n<li>Notice that the plugin is stuck endlessly waiting for a camera image.</li>\n<li>Step through Gazebo using the GUI (since the plugin is blocked) (1:31)</li>\n<li>Notice that the GUI camera Image View doesn't update either</li>\n</ul>\n<p>Choice of physics engine doesn't seem to be important.  We've reproduced this in both ODE and Simbody.  It's also not specific to this .world.  The behavior is identical in other environments we've built.</p>\n<p>Do you have any thoughts on why doing a world reset would cause problems with the camera?  We're just using Gazebo's built-in camera model.</p>", "type": "rendered"}, "assignee": null, "state": "closed", "version": {"name": "6.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/170782.json"}}}, "edited_on": null, "created_on": "2016-04-06T21:20:47.779300+00:00", "milestone": null, "updated_on": "2017-02-04T00:10:56.772267+00:00", "type": "issue", "id": 1917}