{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2138/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2138.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2138/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2138/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2138/how-to-check-build_errors"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2138/vote"}}, "reporter": {"display_name": "Pei JIA", "uuid": "{18260a78-aa91-4162-bcbb-4faf42e302fb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B18260a78-aa91-4162-bcbb-4faf42e302fb%7D"}, "html": {"href": "https://bitbucket.org/%7B18260a78-aa91-4162-bcbb-4faf42e302fb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/df5d59ece7861fc9ec3aa8eeac85b8f2d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPJ-6.png"}}, "nickname": "jiapei100", "type": "user", "account_id": "557058:0da63616-bdf0-4ee7-99c3-8aa2b48a02bd"}, "title": "How to check build_errors ?", "component": {"name": "build", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/132954.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "To whom it may concern:\r\n\r\nI'm trying to build gazebo from source, my environment:\r\nOS: Ubuntu 16.04.1\r\nGCC/G++: 5.4.0\r\n\r\nI always obtained the following **ERROR** message while **cmake configuration**:\r\n\r\n\r\n```\r\n#!c++\r\n\r\n CMake Error at CMakeLists.txt:303 (message):\r\n   Errors encountered in build.  Please see the BUILD ERRORS above.\r\n\r\n```\r\n\r\n\r\nAnd, I checked around line 303 of CMakeLists.txt, it's:\r\n\r\n\r\n```\r\n#!c++\r\n\r\nif (build_errors)\r\n  message(STATUS \"BUILD ERRORS: These must be resolved before compiling.\")\r\n  foreach (msg ${build_errors})\r\n    message(STATUS ${msg})\r\n  endforeach ()\r\n  message(STATUS \"END BUILD ERRORS\\n\")\r\n  message (FATAL_ERROR \"Errors encountered in build. Please see the BUILD ERRORS above.\")\r\nelse (build_errors)\r\n```\r\n\r\n\r\nHowever, still, I've got NO idea what exactly the error is. And then, I checked the file:\r\n**CMakeFiles/CMakeError.log** ,  it reports NOTHING useful in my point of view.\r\n\r\n\r\n```\r\n#!c++\r\n\r\n\r\n......\r\nPerforming C++ SOURCE FILE Test HAVE_ISNAN failed with the following output:\r\nChange Dir: ....../gazebo/build/CMakeFiles/CMakeTmp\r\n\r\nRun Build Command:\"/usr/bin/make\" \"cmTC_66546/fast\"\r\n/usr/bin/make -f CMakeFiles/cmTC_66546.dir/build.make CMakeFiles/cmTC_66546.dir/build\r\nmake[1]: Entering directory '....../gazebo/build/CMakeFiles/CMakeTmp'\r\nBuilding CXX object CMakeFiles/cmTC_66546.dir/src.cxx.o\r\n/usr/bin/c++     -Wall -Wextra -Wno-long-long -Wno-unused-value -Wfloat-equal -Wshadow -Wswitch-default -Wmissing-include-dirs -pedantic -fvisibility=hidden -fvisibility-inlines-hidden -std=c++11 -DHAVE_ISNAN   -o CMakeFiles/cmTC_66546.dir/src.cxx.o -c ....../gazebo/build/CMakeFiles/CMakeTmp/src.cxx\r\nIn file included from ....../gazebo/build/CMakeFiles/CMakeTmp/src.cxx:1:0:\r\n....../gazebo/build/CMakeFiles/CMakeTmp/src.cxx: In function \u2018int main()\u2019:\r\n....../gazebo/build/CMakeFiles/CMakeTmp/src.cxx:2:13: error: non-floating-point argument in call to function \u2018__builtin_isnan\u2019\r\n int main() {isnan(0); return 1;}\r\n             ^\r\nCMakeFiles/cmTC_66546.dir/build.make:65: recipe for target 'CMakeFiles/cmTC_66546.dir/src.cxx.o' failed\r\nmake[1]: *** [CMakeFiles/cmTC_66546.dir/src.cxx.o] Error 1\r\nmake[1]: Leaving directory '....../gazebo/build/CMakeFiles/CMakeTmp'\r\nMakefile:126: recipe for target 'cmTC_66546/fast' failed\r\nmake: *** [cmTC_66546/fast] Error 2\r\n```\r\n\r\n\r\nDid anybody meet and solve the same issue?\r\n\r\n\r\nCheers\r\nPei", "markup": "markdown", "html": "<p>To whom it may concern:</p>\n<p>I'm trying to build gazebo from source, my environment:\nOS: Ubuntu 16.04.1\nGCC/G++: 5.4.0</p>\n<p>I always obtained the following <strong>ERROR</strong> message while <strong>cmake configuration</strong>:</p>\n<div class=\"codehilite language-c++\"><pre><span></span> <span class=\"n\">CMake</span> <span class=\"n\">Error</span> <span class=\"n\">at</span> <span class=\"n\">CMakeLists</span><span class=\"p\">.</span><span class=\"nl\">txt</span><span class=\"p\">:</span><span class=\"mi\">303</span> <span class=\"p\">(</span><span class=\"n\">message</span><span class=\"p\">)</span><span class=\"o\">:</span>\n   <span class=\"n\">Errors</span> <span class=\"n\">encountered</span> <span class=\"n\">in</span> <span class=\"n\">build</span><span class=\"p\">.</span>  <span class=\"n\">Please</span> <span class=\"n\">see</span> <span class=\"n\">the</span> <span class=\"n\">BUILD</span> <span class=\"n\">ERRORS</span> <span class=\"n\">above</span><span class=\"p\">.</span>\n</pre></div>\n\n\n<p>And, I checked around line 303 of CMakeLists.txt, it's:</p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"n\">build_errors</span><span class=\"p\">)</span>\n  <span class=\"n\">message</span><span class=\"p\">(</span><span class=\"n\">STATUS</span> <span class=\"s\">&quot;BUILD ERRORS: These must be resolved before compiling.&quot;</span><span class=\"p\">)</span>\n  <span class=\"n\">foreach</span> <span class=\"p\">(</span><span class=\"n\">msg</span> <span class=\"err\">$</span><span class=\"p\">{</span><span class=\"n\">build_errors</span><span class=\"p\">})</span>\n    <span class=\"n\">message</span><span class=\"p\">(</span><span class=\"n\">STATUS</span> <span class=\"err\">$</span><span class=\"p\">{</span><span class=\"n\">msg</span><span class=\"p\">})</span>\n  <span class=\"n\">endforeach</span> <span class=\"p\">()</span>\n  <span class=\"n\">message</span><span class=\"p\">(</span><span class=\"n\">STATUS</span> <span class=\"s\">&quot;END BUILD ERRORS</span><span class=\"se\">\\n</span><span class=\"s\">&quot;</span><span class=\"p\">)</span>\n  <span class=\"n\">message</span> <span class=\"p\">(</span><span class=\"n\">FATAL_ERROR</span> <span class=\"s\">&quot;Errors encountered in build. Please see the BUILD ERRORS above.&quot;</span><span class=\"p\">)</span>\n<span class=\"k\">else</span> <span class=\"p\">(</span><span class=\"n\">build_errors</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p>However, still, I've got NO idea what exactly the error is. And then, I checked the file:\n<strong>CMakeFiles/CMakeError.log</strong> ,  it reports NOTHING useful in my point of view.</p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"p\">......</span>\n<span class=\"n\">Performing</span> <span class=\"n\">C</span><span class=\"o\">++</span> <span class=\"n\">SOURCE</span> <span class=\"kt\">FILE</span> <span class=\"n\">Test</span> <span class=\"n\">HAVE_ISNAN</span> <span class=\"n\">failed</span> <span class=\"n\">with</span> <span class=\"n\">the</span> <span class=\"n\">following</span> <span class=\"nl\">output</span><span class=\"p\">:</span>\n<span class=\"n\">Change</span> <span class=\"nl\">Dir</span><span class=\"p\">:</span> <span class=\"p\">......</span><span class=\"o\">/</span><span class=\"n\">gazebo</span><span class=\"o\">/</span><span class=\"n\">build</span><span class=\"o\">/</span><span class=\"n\">CMakeFiles</span><span class=\"o\">/</span><span class=\"n\">CMakeTmp</span>\n\n<span class=\"n\">Run</span> <span class=\"n\">Build</span> <span class=\"nl\">Command</span><span class=\"p\">:</span><span class=\"s\">&quot;/usr/bin/make&quot;</span> <span class=\"s\">&quot;cmTC_66546/fast&quot;</span>\n<span class=\"o\">/</span><span class=\"n\">usr</span><span class=\"o\">/</span><span class=\"n\">bin</span><span class=\"o\">/</span><span class=\"n\">make</span> <span class=\"o\">-</span><span class=\"n\">f</span> <span class=\"n\">CMakeFiles</span><span class=\"o\">/</span><span class=\"n\">cmTC_66546</span><span class=\"p\">.</span><span class=\"n\">dir</span><span class=\"o\">/</span><span class=\"n\">build</span><span class=\"p\">.</span><span class=\"n\">make</span> <span class=\"n\">CMakeFiles</span><span class=\"o\">/</span><span class=\"n\">cmTC_66546</span><span class=\"p\">.</span><span class=\"n\">dir</span><span class=\"o\">/</span><span class=\"n\">build</span>\n<span class=\"n\">make</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">]</span><span class=\"o\">:</span> <span class=\"n\">Entering</span> <span class=\"n\">directory</span> <span class=\"err\">&#39;</span><span class=\"p\">......</span><span class=\"o\">/</span><span class=\"n\">gazebo</span><span class=\"o\">/</span><span class=\"n\">build</span><span class=\"o\">/</span><span class=\"n\">CMakeFiles</span><span class=\"o\">/</span><span class=\"n\">CMakeTmp</span><span class=\"err\">&#39;</span>\n<span class=\"n\">Building</span> <span class=\"n\">CXX</span> <span class=\"n\">object</span> <span class=\"n\">CMakeFiles</span><span class=\"o\">/</span><span class=\"n\">cmTC_66546</span><span class=\"p\">.</span><span class=\"n\">dir</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"p\">.</span><span class=\"n\">cxx</span><span class=\"p\">.</span><span class=\"n\">o</span>\n<span class=\"o\">/</span><span class=\"n\">usr</span><span class=\"o\">/</span><span class=\"n\">bin</span><span class=\"o\">/</span><span class=\"n\">c</span><span class=\"o\">++</span>     <span class=\"o\">-</span><span class=\"n\">Wall</span> <span class=\"o\">-</span><span class=\"n\">Wextra</span> <span class=\"o\">-</span><span class=\"n\">Wno</span><span class=\"o\">-</span><span class=\"kt\">long</span><span class=\"o\">-</span><span class=\"kt\">long</span> <span class=\"o\">-</span><span class=\"n\">Wno</span><span class=\"o\">-</span><span class=\"n\">unused</span><span class=\"o\">-</span><span class=\"n\">value</span> <span class=\"o\">-</span><span class=\"n\">Wfloat</span><span class=\"o\">-</span><span class=\"n\">equal</span> <span class=\"o\">-</span><span class=\"n\">Wshadow</span> <span class=\"o\">-</span><span class=\"n\">Wswitch</span><span class=\"o\">-</span><span class=\"k\">default</span> <span class=\"o\">-</span><span class=\"n\">Wmissing</span><span class=\"o\">-</span><span class=\"n\">include</span><span class=\"o\">-</span><span class=\"n\">dirs</span> <span class=\"o\">-</span><span class=\"n\">pedantic</span> <span class=\"o\">-</span><span class=\"n\">fvisibility</span><span class=\"o\">=</span><span class=\"n\">hidden</span> <span class=\"o\">-</span><span class=\"n\">fvisibility</span><span class=\"o\">-</span><span class=\"n\">inlines</span><span class=\"o\">-</span><span class=\"n\">hidden</span> <span class=\"o\">-</span><span class=\"n\">std</span><span class=\"o\">=</span><span class=\"n\">c</span><span class=\"o\">++</span><span class=\"mi\">11</span> <span class=\"o\">-</span><span class=\"n\">DHAVE_ISNAN</span>   <span class=\"o\">-</span><span class=\"n\">o</span> <span class=\"n\">CMakeFiles</span><span class=\"o\">/</span><span class=\"n\">cmTC_66546</span><span class=\"p\">.</span><span class=\"n\">dir</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"p\">.</span><span class=\"n\">cxx</span><span class=\"p\">.</span><span class=\"n\">o</span> <span class=\"o\">-</span><span class=\"n\">c</span> <span class=\"p\">......</span><span class=\"o\">/</span><span class=\"n\">gazebo</span><span class=\"o\">/</span><span class=\"n\">build</span><span class=\"o\">/</span><span class=\"n\">CMakeFiles</span><span class=\"o\">/</span><span class=\"n\">CMakeTmp</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"p\">.</span><span class=\"n\">cxx</span>\n<span class=\"n\">In</span> <span class=\"n\">file</span> <span class=\"n\">included</span> <span class=\"n\">from</span> <span class=\"p\">......</span><span class=\"o\">/</span><span class=\"n\">gazebo</span><span class=\"o\">/</span><span class=\"n\">build</span><span class=\"o\">/</span><span class=\"n\">CMakeFiles</span><span class=\"o\">/</span><span class=\"n\">CMakeTmp</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"p\">.</span><span class=\"nl\">cxx</span><span class=\"p\">:</span><span class=\"mi\">1</span><span class=\"o\">:</span><span class=\"mi\">0</span><span class=\"o\">:</span>\n<span class=\"p\">......</span><span class=\"o\">/</span><span class=\"n\">gazebo</span><span class=\"o\">/</span><span class=\"n\">build</span><span class=\"o\">/</span><span class=\"n\">CMakeFiles</span><span class=\"o\">/</span><span class=\"n\">CMakeTmp</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"p\">.</span><span class=\"nl\">cxx</span><span class=\"p\">:</span> <span class=\"n\">In</span> <span class=\"n\">function</span> <span class=\"err\">\u2018</span><span class=\"kt\">int</span> <span class=\"n\">main</span><span class=\"p\">()</span><span class=\"err\">\u2019</span><span class=\"o\">:</span>\n<span class=\"p\">......</span><span class=\"o\">/</span><span class=\"n\">gazebo</span><span class=\"o\">/</span><span class=\"n\">build</span><span class=\"o\">/</span><span class=\"n\">CMakeFiles</span><span class=\"o\">/</span><span class=\"n\">CMakeTmp</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"p\">.</span><span class=\"nl\">cxx</span><span class=\"p\">:</span><span class=\"mi\">2</span><span class=\"o\">:</span><span class=\"mi\">13</span><span class=\"o\">:</span> <span class=\"nl\">error</span><span class=\"p\">:</span> <span class=\"n\">non</span><span class=\"o\">-</span><span class=\"n\">floating</span><span class=\"o\">-</span><span class=\"n\">point</span> <span class=\"n\">argument</span> <span class=\"n\">in</span> <span class=\"n\">call</span> <span class=\"n\">to</span> <span class=\"n\">function</span> <span class=\"err\">\u2018</span><span class=\"n\">__builtin_isnan</span><span class=\"err\">\u2019</span>\n <span class=\"kt\">int</span> <span class=\"n\">main</span><span class=\"p\">()</span> <span class=\"p\">{</span><span class=\"n\">isnan</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">);</span> <span class=\"k\">return</span> <span class=\"mi\">1</span><span class=\"p\">;}</span>\n             <span class=\"o\">^</span>\n<span class=\"n\">CMakeFiles</span><span class=\"o\">/</span><span class=\"n\">cmTC_66546</span><span class=\"p\">.</span><span class=\"n\">dir</span><span class=\"o\">/</span><span class=\"n\">build</span><span class=\"p\">.</span><span class=\"nl\">make</span><span class=\"p\">:</span><span class=\"mi\">65</span><span class=\"o\">:</span> <span class=\"n\">recipe</span> <span class=\"k\">for</span> <span class=\"n\">target</span> <span class=\"err\">&#39;</span><span class=\"n\">CMakeFiles</span><span class=\"o\">/</span><span class=\"n\">cmTC_66546</span><span class=\"p\">.</span><span class=\"n\">dir</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"p\">.</span><span class=\"n\">cxx</span><span class=\"p\">.</span><span class=\"n\">o</span><span class=\"err\">&#39;</span> <span class=\"n\">failed</span>\n<span class=\"n\">make</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">]</span><span class=\"o\">:</span> <span class=\"o\">***</span> <span class=\"p\">[</span><span class=\"n\">CMakeFiles</span><span class=\"o\">/</span><span class=\"n\">cmTC_66546</span><span class=\"p\">.</span><span class=\"n\">dir</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"p\">.</span><span class=\"n\">cxx</span><span class=\"p\">.</span><span class=\"n\">o</span><span class=\"p\">]</span> <span class=\"n\">Error</span> <span class=\"mi\">1</span>\n<span class=\"n\">make</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">]</span><span class=\"o\">:</span> <span class=\"n\">Leaving</span> <span class=\"n\">directory</span> <span class=\"err\">&#39;</span><span class=\"p\">......</span><span class=\"o\">/</span><span class=\"n\">gazebo</span><span class=\"o\">/</span><span class=\"n\">build</span><span class=\"o\">/</span><span class=\"n\">CMakeFiles</span><span class=\"o\">/</span><span class=\"n\">CMakeTmp</span><span class=\"err\">&#39;</span>\n<span class=\"nl\">Makefile</span><span class=\"p\">:</span><span class=\"mi\">126</span><span class=\"o\">:</span> <span class=\"n\">recipe</span> <span class=\"k\">for</span> <span class=\"n\">target</span> <span class=\"err\">&#39;</span><span class=\"n\">cmTC_66546</span><span class=\"o\">/</span><span class=\"n\">fast</span><span class=\"err\">&#39;</span> <span class=\"n\">failed</span>\n<span class=\"nl\">make</span><span class=\"p\">:</span> <span class=\"o\">***</span> <span class=\"p\">[</span><span class=\"n\">cmTC_66546</span><span class=\"o\">/</span><span class=\"n\">fast</span><span class=\"p\">]</span> <span class=\"n\">Error</span> <span class=\"mi\">2</span>\n</pre></div>\n\n\n<p>Did anybody meet and solve the same issue?</p>\n<p>Cheers\nPei</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2017-01-13T00:00:35.253855+00:00", "milestone": null, "updated_on": "2017-01-13T00:42:54.413032+00:00", "type": "issue", "id": 2138}