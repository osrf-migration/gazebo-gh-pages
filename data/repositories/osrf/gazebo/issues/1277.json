{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/1277/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/1277.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/1277/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/1277/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/1277/autologfixture-not-creating-test_logs"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/1277/vote"}}, "reporter": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "title": "AutoLogFixture not creating test_logs folder, prevents test log files", "component": {"name": "testing", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/128164.json"}}}, "votes": 0, "watches": 2, "content": {"raw": "In pull request #1180, the gazebo log files were moved into an additional subfolder based on the master port. This broke the AutoLogFixture, which assumes that all logs are in `~/.gazebo/test_logs` (see [test/util.hh](#!/osrf/gazebo/src/692dc42d9d9f1073c9a9341b66ebe3af6f110d79/test/util.hh?at=default#cl-43)) and creates that directory if necessary. However, the proper folder is not being created and all AutoLogFixture tests are giving console errors. Here's an example from a [recent jenkins run](http://build.osrfoundation.org/job/gazebo-any-devel-trusty-amd64-gpu-nvidia/192/consoleFull):\r\n~~~\r\n1: [ RUN      ] MsgsTest.Msg\r\n1: Error opening log file: \"/var/lib/jenkins/.gazebo/test-11345/test_logs/MsgsTest_Msg.log\"\r\n1: [       OK ] MsgsTest.Msg (0 ms)\r\n~~~\r\n\r\nAlso, the `UNIT_Console_TEST` has been [failing with timeouts](http://build.osrfoundation.org/job/gazebo-any-devel-trusty-amd64-gpu-nvidia/192/testReport/%28root%29/UNIT_Console_TEST/test_ran/), which may be related.\r\n\r\n@caguero ", "markup": "markdown", "html": "<p>In <a href=\"#!/osrf/gazebo/pull-requests/1180/clone-a-simulation\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #1180</a>, the gazebo log files were moved into an additional subfolder based on the master port. This broke the AutoLogFixture, which assumes that all logs are in <code>~/.gazebo/test_logs</code> (see <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/692dc42d9d9f1073c9a9341b66ebe3af6f110d79/test/util.hh?at=default#cl-43\" rel=\"nofollow\">test/util.hh</a>) and creates that directory if necessary. However, the proper folder is not being created and all AutoLogFixture tests are giving console errors. Here's an example from a <a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/job/gazebo-any-devel-trusty-amd64-gpu-nvidia/192/consoleFull\" rel=\"nofollow\">recent jenkins run</a>:</p>\n<div class=\"codehilite\"><pre><span></span>1: [ RUN      ] MsgsTest.Msg\n1: Error opening log file: &quot;/var/lib/jenkins/.gazebo/test-11345/test_logs/MsgsTest_Msg.log&quot;\n1: [       OK ] MsgsTest.Msg (0 ms)\n</pre></div>\n\n\n<p>Also, the <code>UNIT_Console_TEST</code> has been <a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/job/gazebo-any-devel-trusty-amd64-gpu-nvidia/192/testReport/%28root%29/UNIT_Console_TEST/test_ran/\" rel=\"nofollow\">failing with timeouts</a>, which may be related.</p>\n<p>@caguero </p>", "type": "rendered"}, "assignee": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "state": "closed", "version": {"name": "all", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/225575.json"}}}, "edited_on": null, "created_on": "2014-09-09T18:15:37.814540+00:00", "milestone": null, "updated_on": "2016-09-14T19:44:30.520349+00:00", "type": "issue", "id": 1277}