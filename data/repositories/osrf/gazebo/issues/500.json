{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/500/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/500.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/500/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/500/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/500/undefined-reference-linker-errors-for"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/500/vote"}}, "reporter": {"display_name": "Johannes Meyer", "uuid": "{58d19163-cefc-479b-b80a-d78fb811b533}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B58d19163-cefc-479b-b80a-d78fb811b533%7D"}, "html": {"href": "https://bitbucket.org/%7B58d19163-cefc-479b-b80a-d78fb811b533%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1363fb056a859ce072c21fdb8da3a710d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJM-6.png"}}, "nickname": "johmeyer", "type": "user", "account_id": "557058:7237c8c3-e637-4ea0-ab9c-d45f303d8fb9"}, "title": "undefined reference linker errors for functions in QTest", "component": null, "votes": 0, "watches": 2, "content": {"raw": "With the latest gazebo version from the default branch, I get linker errors due to undefined references to functions in the QTest namespace. The target causing the linker error is the gzclient executable.\r\n\r\nHere is the output from `make gzclient`:\r\n```\r\nCMakeFiles/gzclient.dir/Actions.cc.o: In function `qWait':\r\n/usr/include/qt4/QtTest/qtestsystem.h:70: undefined reference to `QTest::qSleep(int)'\r\nCMakeFiles/gzclient.dir/Actions.cc.o: In function `simulateEvent':\r\n/usr/include/qt4/QtTest/qtestkeyboard.h:76: undefined reference to `QTest::defaultKeyDelay()'\r\n/usr/include/qt4/QtTest/qtestkeyboard.h:77: undefined reference to `QTest::defaultKeyDelay()'\r\n/usr/include/qt4/QtTest/qtestkeyboard.h:84: undefined reference to `QTest::qWarn(char const*)'\r\nCMakeFiles/gzclient.dir/Actions.cc.o: In function `mouseEvent':\r\n/usr/include/qt4/QtTest/qtestmouse.h:77: undefined reference to `QTest::defaultMouseDelay()'\r\n/usr/include/qt4/QtTest/qtestmouse.h:78: undefined reference to `QTest::defaultMouseDelay()'\r\n/usr/include/qt4/QtTest/qtestmouse.h:124: undefined reference to `QTest::qWarn(char const*)'\r\n[...]\r\n```\r\nI attached the full output log file as it is too big for inline posting.\r\n\r\nI am compiling in debug mode in Ubuntu precise amd64 following the instructions from [the Gazebo wiki](http://gazebosim.org/wiki/1.4/install#Compiling_From_Source). The libqt4-test-dev package is installed (version 4.8.1-0ubuntu4.3). I noticed that the `QT_QTTEST_LIBRARY_DEBUG` cmake variable is set to `NOTFOUND` in my CMakeCache.txt:\r\n\r\n```\r\n//Path to a file.\r\nQT_QTTEST_INCLUDE_DIR:PATH=/usr/include/qt4/QtTest\r\n\r\n//The Qt QTTEST library\r\nQT_QTTEST_LIBRARY:STRING=/usr/lib/x86_64-linux-gnu/libQtTest.so\r\n\r\n//Path to a library.\r\nQT_QTTEST_LIBRARY_DEBUG:FILEPATH=QT_QTTEST_LIBRARY_DEBUG-NOTFOUND\r\n\r\n//Path to a library.\r\nQT_QTTEST_LIBRARY_RELEASE:FILEPATH=/usr/lib/x86_64-linux-gnu/libQtTest.so\r\n```", "markup": "markdown", "html": "<p>With the latest gazebo version from the default branch, I get linker errors due to undefined references to functions in the QTest namespace. The target causing the linker error is the gzclient executable.</p>\n<p>Here is the output from <code>make gzclient</code>:</p>\n<div class=\"codehilite\"><pre><span></span>CMakeFiles/gzclient.dir/Actions.cc.o: In function `qWait&#39;:\n/usr/include/qt4/QtTest/qtestsystem.h:70: undefined reference to `QTest::qSleep(int)&#39;\nCMakeFiles/gzclient.dir/Actions.cc.o: In function `simulateEvent&#39;:\n/usr/include/qt4/QtTest/qtestkeyboard.h:76: undefined reference to `QTest::defaultKeyDelay()&#39;\n/usr/include/qt4/QtTest/qtestkeyboard.h:77: undefined reference to `QTest::defaultKeyDelay()&#39;\n/usr/include/qt4/QtTest/qtestkeyboard.h:84: undefined reference to `QTest::qWarn(char const*)&#39;\nCMakeFiles/gzclient.dir/Actions.cc.o: In function `mouseEvent&#39;:\n/usr/include/qt4/QtTest/qtestmouse.h:77: undefined reference to `QTest::defaultMouseDelay()&#39;\n/usr/include/qt4/QtTest/qtestmouse.h:78: undefined reference to `QTest::defaultMouseDelay()&#39;\n/usr/include/qt4/QtTest/qtestmouse.h:124: undefined reference to `QTest::qWarn(char const*)&#39;\n[...]\n</pre></div>\n\n\n<p>I attached the full output log file as it is too big for inline posting.</p>\n<p>I am compiling in debug mode in Ubuntu precise amd64 following the instructions from <a data-is-external-link=\"true\" href=\"http://gazebosim.org/wiki/1.4/install#Compiling_From_Source\" rel=\"nofollow\">the Gazebo wiki</a>. The libqt4-test-dev package is installed (version 4.8.1-0ubuntu4.3). I noticed that the <code>QT_QTTEST_LIBRARY_DEBUG</code> cmake variable is set to <code>NOTFOUND</code> in my CMakeCache.txt:</p>\n<div class=\"codehilite\"><pre><span></span>//Path to a file.\nQT_QTTEST_INCLUDE_DIR:PATH=/usr/include/qt4/QtTest\n\n//The Qt QTTEST library\nQT_QTTEST_LIBRARY:STRING=/usr/lib/x86_64-linux-gnu/libQtTest.so\n\n//Path to a library.\nQT_QTTEST_LIBRARY_DEBUG:FILEPATH=QT_QTTEST_LIBRARY_DEBUG-NOTFOUND\n\n//Path to a library.\nQT_QTTEST_LIBRARY_RELEASE:FILEPATH=/usr/lib/x86_64-linux-gnu/libQtTest.so\n</pre></div>", "type": "rendered"}, "assignee": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "state": "closed", "version": {"name": "all", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/225575.json"}}}, "edited_on": null, "created_on": "2013-02-12T10:17:06.237309+00:00", "milestone": null, "updated_on": "2016-09-14T19:43:53.067044+00:00", "type": "issue", "id": 500}