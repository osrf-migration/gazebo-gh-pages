{"priority": "major", "kind": "proposal", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/1659/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/1659.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/1659/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/1659/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/1659/create-separate-plugin-for-propellors"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/1659/vote"}}, "reporter": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "title": "Create separate plugin for propellors", "component": null, "votes": 1, "watches": 2, "content": {"raw": "During a discussion of the [Rotors simulator](https://github.com/ethz-asl/rotors_simulator) (which uses gazebo), they mentioned that when using the `LiftDragPlugin` on each propellor lifting surface caused simulation instability for large time steps. Specifically, their simulated propellor was spinning at about 6000 revolutions / minute (ie. 100 Hz), and using 10 ms as the time step didn't work, while 1 ms was fine. This sounds like an aliasing problem.\r\n\r\nAlso, I think lots of propellors have a twisted geometry, so modeling each blade as a box doesn't really capture the shape well.\r\n\r\nI think this could be mitigated by making a separate plugin for propellors. For example, the plugin could be connected to a revolute joint and measure the world angular velocity of the child link (propellor) along the joint axis. The translational velocity relative to the flow field along the joint axis could be computed as well. These velocity measures could be used as inputs to a lookup table to compute thrusting force and drag torque on the propellor. I didn't set up the [cessna model](#!/osrf/gazebo/src/f491436008ccd5e7172abb695c7e2a1e5ce6bf50/worlds/cessna_demo.world?at=default#cl-105), but I think that the lookup tables might be easier to use.", "markup": "markdown", "html": "<p>During a discussion of the <a data-is-external-link=\"true\" href=\"https://github.com/ethz-asl/rotors_simulator\" rel=\"nofollow\">Rotors simulator</a> (which uses gazebo), they mentioned that when using the <code>LiftDragPlugin</code> on each propellor lifting surface caused simulation instability for large time steps. Specifically, their simulated propellor was spinning at about 6000 revolutions / minute (ie. 100 Hz), and using 10 ms as the time step didn't work, while 1 ms was fine. This sounds like an aliasing problem.</p>\n<p>Also, I think lots of propellors have a twisted geometry, so modeling each blade as a box doesn't really capture the shape well.</p>\n<p>I think this could be mitigated by making a separate plugin for propellors. For example, the plugin could be connected to a revolute joint and measure the world angular velocity of the child link (propellor) along the joint axis. The translational velocity relative to the flow field along the joint axis could be computed as well. These velocity measures could be used as inputs to a lookup table to compute thrusting force and drag torque on the propellor. I didn't set up the <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/f491436008ccd5e7172abb695c7e2a1e5ce6bf50/worlds/cessna_demo.world?at=default#cl-105\" rel=\"nofollow\">cessna model</a>, but I think that the lookup tables might be easier to use.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "all", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/225575.json"}}}, "edited_on": null, "created_on": "2015-07-10T23:52:55.112993+00:00", "milestone": null, "updated_on": "2016-09-14T19:23:48.981283+00:00", "type": "issue", "id": 1659}