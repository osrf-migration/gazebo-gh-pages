{"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/333/comments/2716397.json"}, "html": {"href": "#!/osrf/gazebo/issues/333#comment-2716397"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/333.json"}}, "type": "issue", "id": 333, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "race condition, using uninitialized Scene::jointMsgs containing NaN's"}, "content": {"raw": "it seems the very first jointMsg has corrputed position values, printing them out before usage yields:\n~~~\nError [JointVisual.cc:52] -0.310343 -0.067658 3.83382e+174\nError [Visual.cc:1263] -0.310343 -0.067658 3.83382e+174\n~~~\nbut if I put a break point on\n~~~\n  jointVis->Load(_msg);\n~~~\ninside of `Scene::ProcessJointMsg(...)`, and step through the first couple of calls manually, then sometimes the position values are ok and simulation runs without segfault.", "markup": "markdown", "html": "<p>it seems the very first jointMsg has corrputed position values, printing them out before usage yields:</p>\n<div class=\"codehilite\"><pre><span></span>Error [JointVisual.cc:52] -0.310343 -0.067658 3.83382e+174\nError [Visual.cc:1263] -0.310343 -0.067658 3.83382e+174\n</pre></div>\n\n\n<p>but if I put a break point on</p>\n<div class=\"codehilite\"><pre><span></span>  jointVis-&gt;Load(_msg);\n</pre></div>\n\n\n<p>inside of <code>Scene::ProcessJointMsg(...)</code>, and step through the first couple of calls manually, then sometimes the position values are ok and simulation runs without segfault.</p>", "type": "rendered"}, "created_on": "2012-12-28T23:56:37.692239+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": "2012-12-29T00:07:16.526677+00:00", "type": "issue_comment", "id": 2716397}