{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/333/comments/2716397.json"}, "html": {"href": "#!/osrf/gazebo/issues/333#comment-2716397"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/333.json"}}, "type": "issue", "id": 333, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "race condition, using uninitialized Scene::jointMsgs containing NaN's"}, "content": {"raw": "it seems the very first jointMsg has corrputed position values, printing them out before usage yields:\n~~~\nError [JointVisual.cc:52] -0.310343 -0.067658 3.83382e+174\nError [Visual.cc:1263] -0.310343 -0.067658 3.83382e+174\n~~~\nbut if I put a break point on\n~~~\n  jointVis->Load(_msg);\n~~~\ninside of `Scene::ProcessJointMsg(...)`, and step through the first couple of calls manually, then sometimes the position values are ok and simulation runs without segfault.", "markup": "markdown", "html": "<p>it seems the very first jointMsg has corrputed position values, printing them out before usage yields:</p>\n<div class=\"codehilite\"><pre><span></span>Error [JointVisual.cc:52] -0.310343 -0.067658 3.83382e+174\nError [Visual.cc:1263] -0.310343 -0.067658 3.83382e+174\n</pre></div>\n\n\n<p>but if I put a break point on</p>\n<div class=\"codehilite\"><pre><span></span>  jointVis-&gt;Load(_msg);\n</pre></div>\n\n\n<p>inside of <code>Scene::ProcessJointMsg(...)</code>, and step through the first couple of calls manually, then sometimes the position values are ok and simulation runs without segfault.</p>", "type": "rendered"}, "created_on": "2012-12-28T23:56:37.692239+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": "2012-12-29T00:07:16.526677+00:00", "type": "issue_comment", "id": 2716397}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/333/comments/2716454.json"}, "html": {"href": "#!/osrf/gazebo/issues/333#comment-2716454"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/333.json"}}, "type": "issue", "id": 333, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "race condition, using uninitialized Scene::jointMsgs containing NaN's"}, "content": {"raw": "## Update\n\nTurns out after tacking the ill formed values upstream, it was a typo on [parser_urdf.cc]#!/osrf/gazebo/src/5b90440f9f27b436eb9df65e5803a20cdce909d7/gazebo/sdf/interface/parser_urdf.cc?at=deprecated_parser_sdf_1.2_support#cl-121)\n\nFixed in the branch.\n\nThe problem is because during the [link loading loop](#!/osrf/gazebo/src/78739a523b2ec222f03dae6a8c0df569e6d91c6a/gazebo/physics/Model.cc?at=default#cl-114), the call to [link->load(linkElem)](#!/osrf/gazebo/src/78739a523b2ec222f03dae6a8c0df569e6d91c6a/gazebo/physics/Model.cc?at=default#cl-132), which calls [Link::LoadCollision](#!/osrf/gazebo/src/78739a523b2e/gazebo/physics/Link.cc?at=default#cl-133), which calls [Entity::SetRelativePose](#!/osrf/gazebo/src/78739a523b2e/gazebo/physics/Collision.cc?at=default#cl-86), which [ends up using potentially uninitialized parentEntity's worldPose](#!/osrf/gazebo/src/78739a523b2e/gazebo/physics/Entity.cc?at=default#cl-247).", "markup": "markdown", "html": "<h2 id=\"markdown-header-update\">Update</h2>\n<p>Turns out after tacking the ill formed values upstream, it was a typo on [parser_urdf.cc]<a href=\"#!/osrf/gazebo/src/5b90440f9f27b436eb9df65e5803a20cdce909d7/gazebo/sdf/interface/parser_urdf.cc?at=deprecated_parser_sdf_1.2_support#cl-121\" rel=\"nofollow\" class=\"ap-connect-link\">#!/osrf/gazebo/src/5b90440f9f27b436eb9df65e5803a20cdce909d7/gazebo/sdf/interface/parser_urdf.cc?at=deprecated_parser_sdf_1.2_support#cl-121</a>)</p>\n<p>Fixed in the branch.</p>\n<p>The problem is because during the <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/78739a523b2ec222f03dae6a8c0df569e6d91c6a/gazebo/physics/Model.cc?at=default#cl-114\" rel=\"nofollow\">link loading loop</a>, the call to <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/78739a523b2ec222f03dae6a8c0df569e6d91c6a/gazebo/physics/Model.cc?at=default#cl-132\" rel=\"nofollow\">link-&gt;load(linkElem)</a>, which calls <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/78739a523b2e/gazebo/physics/Link.cc?at=default#cl-133\" rel=\"nofollow\">Link::LoadCollision</a>, which calls <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/78739a523b2e/gazebo/physics/Collision.cc?at=default#cl-86\" rel=\"nofollow\">Entity::SetRelativePose</a>, which <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/78739a523b2e/gazebo/physics/Entity.cc?at=default#cl-247\" rel=\"nofollow\">ends up using potentially uninitialized parentEntity's worldPose</a>.</p>", "type": "rendered"}, "created_on": "2012-12-29T00:20:25.150991+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": "2013-01-04T01:11:47.825775+00:00", "type": "issue_comment", "id": 2716454}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/333/comments/2719926.json"}, "html": {"href": "#!/osrf/gazebo/issues/333#comment-2719926"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/333.json"}}, "type": "issue", "id": 333, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "race condition, using uninitialized Scene::jointMsgs containing NaN's"}, "content": {"raw": "pull request #210 initializes `Entity::worldPose` during construction to avoid NaN's.", "markup": "markdown", "html": "<p><a href=\"#!/osrf/gazebo/pull-requests/210/issue-333-try-to-fix-by-initializing\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #210</a> initializes <code>Entity::worldPose</code> during construction to avoid NaN's.</p>", "type": "rendered"}, "created_on": "2012-12-29T21:26:12.901806+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": null, "type": "issue_comment", "id": 2719926}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/333/comments/2747983.json"}, "html": {"href": "#!/osrf/gazebo/issues/333#comment-2747983"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/333.json"}}, "type": "issue", "id": 333, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "race condition, using uninitialized Scene::jointMsgs containing NaN's"}, "content": {"raw": "fixed in the [branch](#!/osrf/gazebo/src/5b90440f9f27b436eb9df65e5803a20cdce909d7/gazebo/sdf/interface/parser_urdf.cc?at=deprecated_parser_sdf_1.2_support#cl-121)", "markup": "markdown", "html": "<p>fixed in the <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/5b90440f9f27b436eb9df65e5803a20cdce909d7/gazebo/sdf/interface/parser_urdf.cc?at=deprecated_parser_sdf_1.2_support#cl-121\" rel=\"nofollow\">branch</a></p>", "type": "rendered"}, "created_on": "2013-01-04T01:12:53.572413+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": null, "type": "issue_comment", "id": 2747983}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/333/comments/30611108.json"}, "html": {"href": "#!/osrf/gazebo/issues/333#comment-30611108"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/333.json"}}, "type": "issue", "id": 333, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "race condition, using uninitialized Scene::jointMsgs containing NaN's"}, "content": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "created_on": "2016-09-14T19:24:17.219154+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": null, "type": "issue_comment", "id": 30611108}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/333/comments/30612059.json"}, "html": {"href": "#!/osrf/gazebo/issues/333#comment-30612059"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/333.json"}}, "type": "issue", "id": 333, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "race condition, using uninitialized Scene::jointMsgs containing NaN's"}, "content": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "created_on": "2016-09-14T19:43:44.247417+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": null, "type": "issue_comment", "id": 30612059}], "page": 1, "size": 6}