{"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1579/comments/18269693.json"}, "html": {"href": "#!/osrf/gazebo/issues/1579#comment-18269693"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1579.json"}}, "type": "issue", "id": 1579, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Sky consumes significant portion of CPU, even when clouds disable."}, "content": {"raw": "The main callers of `SkyX::VClouds::DataManager::_performCalculations` are:\r\n\r\n * `SkyX::VClouds::DataManager::_getDensityAt`\r\n * `SkyX::VClouds::DataManager::_getLightAbsorcionAt`\r\n\r\nThe  sky creation stack is:\r\n\r\n```\r\nScene::setSky() ->\r\n  VcloudsManager::create() ->\r\n     Vclouds::create()\r\n```\r\n\r\nI was approaching to the problem by not creating the sky until the first Image Sensor was adding to the world, but that fail since the gzclient GUI also needs to represents  the clouds.\r\n\r\n@nkoenig would make sense to create the sky only while creating the world, only if the proper sdf sky tag is defined? Any other recommended approach?", "markup": "markdown", "html": "<p>The main callers of <code>SkyX::VClouds::DataManager::_performCalculations</code> are:</p>\n<ul>\n<li><code>SkyX::VClouds::DataManager::_getDensityAt</code></li>\n<li><code>SkyX::VClouds::DataManager::_getLightAbsorcionAt</code></li>\n</ul>\n<p>The  sky creation stack is:</p>\n<div class=\"codehilite\"><pre><span></span>Scene::setSky() -&gt;\n  VcloudsManager::create() -&gt;\n     Vclouds::create()\n</pre></div>\n\n\n<p>I was approaching to the problem by not creating the sky until the first Image Sensor was adding to the world, but that fail since the gzclient GUI also needs to represents  the clouds.</p>\n<p>@nkoenig would make sense to create the sky only while creating the world, only if the proper sdf sky tag is defined? Any other recommended approach?</p>", "type": "rendered"}, "created_on": "2015-05-21T16:46:07.499357+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": null, "type": "issue_comment", "id": 18269693}