{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2053/comments/34131456.json"}, "html": {"href": "#!/osrf/gazebo/issues/2053#comment-34131456"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2053.json"}}, "type": "issue", "id": 2053, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Topic name mismatch on heavy worlds with custom names"}, "content": {"raw": "Do you remember what \"heavy\" means in this issue?", "markup": "markdown", "html": "<p>Do you remember what \"heavy\" means in this issue?</p>", "type": "rendered"}, "created_on": "2017-02-02T21:16:51.557112+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": null, "type": "issue_comment", "id": 34131456}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2053/comments/34131533.json"}, "html": {"href": "#!/osrf/gazebo/issues/2053#comment-34131533"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2053.json"}}, "type": "issue", "id": 2053, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Topic name mismatch on heavy worlds with custom names"}, "content": {"raw": "It was a world with a few thousand boxes. If I recall correctly, while the world was still being loaded, some classes didn't receive the world name in time and started referring to entities with the default name. Entities loaded after the world name was received would get the correct name.", "markup": "markdown", "html": "<p>It was a world with a few thousand boxes. If I recall correctly, while the world was still being loaded, some classes didn't receive the world name in time and started referring to entities with the default name. Entities loaded after the world name was received would get the correct name.</p>", "type": "rendered"}, "created_on": "2017-02-02T21:20:27.226667+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2017-02-02T21:20:35.145501+00:00", "type": "issue_comment", "id": 34131533}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2053/comments/34131638.json"}, "html": {"href": "#!/osrf/gazebo/issues/2053#comment-34131638"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2053.json"}}, "type": "issue", "id": 2053, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Topic name mismatch on heavy worlds with custom names"}, "content": {"raw": "Thanks.", "markup": "markdown", "html": "<p>Thanks.</p>", "type": "rendered"}, "created_on": "2017-02-02T21:26:10.244552+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": null, "type": "issue_comment", "id": 34131638}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2053/comments/34131950.json"}, "html": {"href": "#!/osrf/gazebo/issues/2053#comment-34131950"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2053.json"}}, "type": "issue", "id": 2053, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Topic name mismatch on heavy worlds with custom names"}, "content": {"raw": "Also worth pointing out that I used the word \"heavy\" because I think this is more related to the time it takes to load a world than to the number of models. I can imagine the same issue can happen with a world containing a single model which is really large.", "markup": "markdown", "html": "<p>Also worth pointing out that I used the word \"heavy\" because I think this is more related to the time it takes to load a world than to the number of models. I can imagine the same issue can happen with a world containing a single model which is really large.</p>", "type": "rendered"}, "created_on": "2017-02-02T21:42:27.409036+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": null, "type": "issue_comment", "id": 34131950}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2053/comments/43245699.json"}, "html": {"href": "#!/osrf/gazebo/issues/2053#comment-43245699"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2053.json"}}, "type": "issue", "id": 2053, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Topic name mismatch on heavy worlds with custom names"}, "content": {"raw": "This issue hit me again today while working on ServiceSim. The side-effect is that Gazebo freezes at startup with a black screen and the splash screen never goes away. What happens:\n\n1. `gzclient` and `gzserver` get setup with different gazebo transport namespaces (i.e. `gzserver` has `/gazebo/ServiceSim` according to the SDF world file, but `gzclient` falls back to the default `/gazebo/default` namespace).\n1. `gzclient`'s scene sends a request to `/gazebo/default/request`\n1. `gzserver` never responds\n1. The client scene is never [initialized](#!/osrf/gazebo/src/40144b3cfdc804329c297e3349cf9d73da948ca3/gazebo/rendering/Scene.cc?at=gazebo8&fileviewer=file-view-default#Scene.cc-1814)\n1. The splash screen [never disappears](#!/osrf/gazebo/src/40144b3cfdc804329c297e3349cf9d73da948ca3/gazebo/gui/SplashScreen.cc?at=gazebo8&fileviewer=file-view-default#SplashScreen.cc-82)\n\nIf you run `gz topic -l` while Gazebo is hanging, you can see that there are topics on different namespaces.\n\nA quick solution is to set `<world name=\"default\">` on SDF.", "markup": "markdown", "html": "<p>This issue hit me again today while working on ServiceSim. The side-effect is that Gazebo freezes at startup with a black screen and the splash screen never goes away. What happens:</p>\n<ol>\n<li><code>gzclient</code> and <code>gzserver</code> get setup with different gazebo transport namespaces (i.e. <code>gzserver</code> has <code>/gazebo/ServiceSim</code> according to the SDF world file, but <code>gzclient</code> falls back to the default <code>/gazebo/default</code> namespace).</li>\n<li><code>gzclient</code>'s scene sends a request to <code>/gazebo/default/request</code></li>\n<li><code>gzserver</code> never responds</li>\n<li>The client scene is never <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/40144b3cfdc804329c297e3349cf9d73da948ca3/gazebo/rendering/Scene.cc?at=gazebo8&amp;fileviewer=file-view-default#Scene.cc-1814\" rel=\"nofollow\">initialized</a></li>\n<li>The splash screen <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/40144b3cfdc804329c297e3349cf9d73da948ca3/gazebo/gui/SplashScreen.cc?at=gazebo8&amp;fileviewer=file-view-default#SplashScreen.cc-82\" rel=\"nofollow\">never disappears</a></li>\n</ol>\n<p>If you run <code>gz topic -l</code> while Gazebo is hanging, you can see that there are topics on different namespaces.</p>\n<p>A quick solution is to set <code>&lt;world name=\"default\"&gt;</code> on SDF.</p>", "type": "rendered"}, "created_on": "2018-02-12T21:52:10.004970+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2018-02-12T21:53:22.030738+00:00", "type": "issue_comment", "id": 43245699}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2053/comments/43510102.json"}, "html": {"href": "#!/osrf/gazebo/issues/2053#comment-43510102"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2053.json"}}, "type": "issue", "id": 2053, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Topic name mismatch on heavy worlds with custom names"}, "content": {"raw": "I hit this in ARIAC and @mxgrey ran into this on a project they're working on. It's affecting community members too: http://answers.gazebosim.org/question/18521/gazebo7-hangs-with-black-screen-while-preparing-your-world/\n\nWhile investigating for #!/osrf/gazebo/issues/2429 I identified it as something that was always possible (this issue is from 2016, so we knew that already) but it has been made much more likely in gazebo7.11 / gazebo8.3 releases (compared to gazebo8.2).\n\nSince there's a known workaround it might make sense to announce that to users until the issue itself can be resolved, because this is affecting a lot of users as of late", "markup": "markdown", "html": "<p>I hit this in ARIAC and @mxgrey ran into this on a project they're working on. It's affecting community members too: <a href=\"http://answers.gazebosim.org/question/18521/gazebo7-hangs-with-black-screen-while-preparing-your-world/\" rel=\"nofollow\" class=\"ap-connect-link\">http://answers.gazebosim.org/question/18521/gazebo7-hangs-with-black-screen-while-preparing-your-world/</a></p>\n<p>While investigating for <a href=\"#!/osrf/gazebo/issues/2429\" rel=\"nofollow\" class=\"ap-connect-link\">#!/osrf/gazebo/issues/2429</a> I identified it as something that was always possible (this issue is from 2016, so we knew that already) but it has been made much more likely in gazebo7.11 / gazebo8.3 releases (compared to gazebo8.2).</p>\n<p>Since there's a known workaround it might make sense to announce that to users until the issue itself can be resolved, because this is affecting a lot of users as of late</p>", "type": "rendered"}, "created_on": "2018-02-23T19:46:47.372595+00:00", "user": {"display_name": "Deanna Hood", "uuid": "{40d490b4-7de9-4c89-ac1c-2219a22057eb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B40d490b4-7de9-4c89-ac1c-2219a22057eb%7D"}, "html": {"href": "https://bitbucket.org/%7B40d490b4-7de9-4c89-ac1c-2219a22057eb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ec666897-79d8-48b4-ae27-4f0e9e56f5b5/f7b56737-eb1f-481f-beb1-50c179565cf4/128"}}, "nickname": "d_hood", "type": "user", "account_id": "557058:ec666897-79d8-48b4-ae27-4f0e9e56f5b5"}, "updated_on": null, "type": "issue_comment", "id": 43510102}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2053/comments/43510266.json"}, "html": {"href": "#!/osrf/gazebo/issues/2053#comment-43510266"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2053.json"}}, "type": "issue", "id": 2053, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Topic name mismatch on heavy worlds with custom names"}, "content": {"raw": "@chapulina pointed out that I spoke too soon about http://answers.gazebosim.org/question/18521! We haven't confirmed that that's the same issue yet (just a similar symptom) :smile: \n\nIf the issue is just affecting internal projects, and we all have a workaround, then maybe this isn't high priority. The question is how many people would be using custom world names externally.", "markup": "markdown", "html": "<p>@chapulina pointed out that I spoke too soon about <a href=\"http://answers.gazebosim.org/question/18521\" rel=\"nofollow\" class=\"ap-connect-link\">http://answers.gazebosim.org/question/18521</a>! We haven't confirmed that that's the same issue yet (just a similar symptom) <img class=\"emoji\" src=\"data/pf-emoji-service--cdn.us-east-1.prod.public.atl-paas.net/standard/551c9814-1d37-4573-819d-afab3afeaf32/48x48/1f604.png\" alt=\"\ud83d\ude04\" title=\":smile:\" data-emoji-short-name=\":smile:\" /> </p>\n<p>If the issue is just affecting internal projects, and we all have a workaround, then maybe this isn't high priority. The question is how many people would be using custom world names externally.</p>", "type": "rendered"}, "created_on": "2018-02-23T19:57:48.325208+00:00", "user": {"display_name": "Deanna Hood", "uuid": "{40d490b4-7de9-4c89-ac1c-2219a22057eb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B40d490b4-7de9-4c89-ac1c-2219a22057eb%7D"}, "html": {"href": "https://bitbucket.org/%7B40d490b4-7de9-4c89-ac1c-2219a22057eb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ec666897-79d8-48b4-ae27-4f0e9e56f5b5/f7b56737-eb1f-481f-beb1-50c179565cf4/128"}}, "nickname": "d_hood", "type": "user", "account_id": "557058:ec666897-79d8-48b4-ae27-4f0e9e56f5b5"}, "updated_on": null, "type": "issue_comment", "id": 43510266}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2053/comments/43510822.json"}, "html": {"href": "#!/osrf/gazebo/issues/2053#comment-43510822"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2053.json"}}, "type": "issue", "id": 2053, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Topic name mismatch on heavy worlds with custom names"}, "content": {"raw": "The project I'm working on is an external project that I'm assisting a client with, so I think this should be a high priority issue. The world file that's being launched is one that's installed to the `/opt/ros/` filesystem, so changing the name in the `.world` file requires elevated privileges, which isn't a very appealing workaround (albeit, it does get the job done).", "markup": "markdown", "html": "<p>The project I'm working on is an external project that I'm assisting a client with, so I think this should be a high priority issue. The world file that's being launched is one that's installed to the <code>/opt/ros/</code> filesystem, so changing the name in the <code>.world</code> file requires elevated privileges, which isn't a very appealing workaround (albeit, it does get the job done).</p>", "type": "rendered"}, "created_on": "2018-02-23T20:50:16.340476+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": null, "type": "issue_comment", "id": 43510822}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2053/comments/43511742.json"}, "html": {"href": "#!/osrf/gazebo/issues/2053#comment-43511742"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2053.json"}}, "type": "issue", "id": 2053, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Topic name mismatch on heavy worlds with custom names"}, "content": {"raw": "I'm tracking down the code path. So going backwards:\n\n1. `gzclient` nodes start falling back to the `default` namespace and print the infamous [No namespaces found](#!/osrf/gazebo/src/43aba69517080eeaa792990795dc7ed72913928c/gazebo/transport/Node.cc?fileviewer=file-view-default#Node.cc-94) message.\n1. That's because [transport::waitForNamespaces](#!/osrf/gazebo/src/43aba69517080eeaa792990795dc7ed72913928c/gazebo/transport/TransportIface.cc?fileviewer=file-view-default#TransportIface.cc-410) times out\n1. Because [transport::ConnectionManager::GetTopicNamespaces](#!/osrf/gazebo/src/43aba69517080eeaa792990795dc7ed72913928c/gazebo/transport/ConnectionManager.cc?fileviewer=file-view-default#ConnectionManager.cc-555) repeatedly returns empty\n1. Because packet [topic_namepaces_init](#!/osrf/gazebo/src/43aba69517080eeaa792990795dc7ed72913928c/gazebo/transport/ConnectionManager.cc?fileviewer=file-view-default#ConnectionManager.cc-168) (yes, without an **s**) has never been received from [Master::OnAccept](#!/osrf/gazebo/src/43aba69517080eeaa792990795dc7ed72913928c/gazebo/Master.cc?fileviewer=file-view-default#Master.cc-116)\n\nI didn't go deeper. It seems to me that a quick and dirty solution would be to make the scene wait in an infinite loop until there are namespaces before it calls [node->Init](#!/osrf/gazebo/src/43aba69517080eeaa792990795dc7ed72913928c/gazebo/rendering/Scene.cc?fileviewer=file-view-default#Scene.cc-126). This assumes that the rendering should never be initialized first, which I think is a fair assumption based on the way Gazebo currently works.", "markup": "markdown", "html": "<p>I'm tracking down the code path. So going backwards:</p>\n<ol>\n<li><code>gzclient</code> nodes start falling back to the <code>default</code> namespace and print the infamous <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/43aba69517080eeaa792990795dc7ed72913928c/gazebo/transport/Node.cc?fileviewer=file-view-default#Node.cc-94\" rel=\"nofollow\">No namespaces found</a> message.</li>\n<li>That's because <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/43aba69517080eeaa792990795dc7ed72913928c/gazebo/transport/TransportIface.cc?fileviewer=file-view-default#TransportIface.cc-410\" rel=\"nofollow\">transport::waitForNamespaces</a> times out</li>\n<li>Because <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/43aba69517080eeaa792990795dc7ed72913928c/gazebo/transport/ConnectionManager.cc?fileviewer=file-view-default#ConnectionManager.cc-555\" rel=\"nofollow\">transport::ConnectionManager::GetTopicNamespaces</a> repeatedly returns empty</li>\n<li>Because packet <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/43aba69517080eeaa792990795dc7ed72913928c/gazebo/transport/ConnectionManager.cc?fileviewer=file-view-default#ConnectionManager.cc-168\" rel=\"nofollow\">topic_namepaces_init</a> (yes, without an <strong>s</strong>) has never been received from <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/43aba69517080eeaa792990795dc7ed72913928c/gazebo/Master.cc?fileviewer=file-view-default#Master.cc-116\" rel=\"nofollow\">Master::OnAccept</a></li>\n</ol>\n<p>I didn't go deeper. It seems to me that a quick and dirty solution would be to make the scene wait in an infinite loop until there are namespaces before it calls <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/43aba69517080eeaa792990795dc7ed72913928c/gazebo/rendering/Scene.cc?fileviewer=file-view-default#Scene.cc-126\" rel=\"nofollow\">node-&gt;Init</a>. This assumes that the rendering should never be initialized first, which I think is a fair assumption based on the way Gazebo currently works.</p>", "type": "rendered"}, "created_on": "2018-02-23T22:09:36.994106+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": null, "type": "issue_comment", "id": 43511742}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2053/comments/43511799.json"}, "html": {"href": "#!/osrf/gazebo/issues/2053#comment-43511799"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2053.json"}}, "type": "issue", "id": 2053, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Topic name mismatch on heavy worlds with custom names"}, "content": {"raw": "Maybe a cleaner way would be to have a flag that tracks whether initialization has ever happened successfully. While that flag is dirty, the client will periodically recheck `topic_namepaces_init`, and then perform initialization once it's received.\n\nThe benefit would be that the gzclient would feel snappier for users. The disadvantage is that users might think something bugged out if the GUI pops up empty while the server is still booting up.", "markup": "markdown", "html": "<p>Maybe a cleaner way would be to have a flag that tracks whether initialization has ever happened successfully. While that flag is dirty, the client will periodically recheck <code>topic_namepaces_init</code>, and then perform initialization once it's received.</p>\n<p>The benefit would be that the gzclient would feel snappier for users. The disadvantage is that users might think something bugged out if the GUI pops up empty while the server is still booting up.</p>", "type": "rendered"}, "created_on": "2018-02-23T22:17:53.964354+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": null, "type": "issue_comment", "id": 43511799}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2053/comments/43511858.json"}, "html": {"href": "#!/osrf/gazebo/issues/2053#comment-43511858"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2053.json"}}, "type": "issue", "id": 2053, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Topic name mismatch on heavy worlds with custom names"}, "content": {"raw": "A flag sounds nice too.\n\nI'm thinking here that for this to scale well, the fix will need to go into transport. The black screen problem comes from not receiving the scene message, but all other `gzclient` nodes should also wait for the actual namespace.", "markup": "markdown", "html": "<p>A flag sounds nice too.</p>\n<p>I'm thinking here that for this to scale well, the fix will need to go into transport. The black screen problem comes from not receiving the scene message, but all other <code>gzclient</code> nodes should also wait for the actual namespace.</p>", "type": "rendered"}, "created_on": "2018-02-23T22:25:06.564121+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": null, "type": "issue_comment", "id": 43511858}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2053/comments/43511917.json"}, "html": {"href": "#!/osrf/gazebo/issues/2053#comment-43511917"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2053.json"}}, "type": "issue", "id": 2053, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Topic name mismatch on heavy worlds with custom names"}, "content": {"raw": "Ah, so if the scene message is never received, the screen will just remain black anyway.\n\nIn that case, I agree with your original proposal. If all we can get is a black screen until we're listening to the correct topics, then we should wait indefinitely for the topic namespace message. We just need to make sure that we handle SIGINT gracefully so that users can cleanly exit the program while we're in the indefinitely long loop.", "markup": "markdown", "html": "<p>Ah, so if the scene message is never received, the screen will just remain black anyway.</p>\n<p>In that case, I agree with your original proposal. If all we can get is a black screen until we're listening to the correct topics, then we should wait indefinitely for the topic namespace message. We just need to make sure that we handle SIGINT gracefully so that users can cleanly exit the program while we're in the indefinitely long loop.</p>", "type": "rendered"}, "created_on": "2018-02-23T22:33:11.315558+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": null, "type": "issue_comment", "id": 43511917}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2053/comments/43602363.json"}, "html": {"href": "#!/osrf/gazebo/issues/2053#comment-43602363"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2053.json"}}, "type": "issue", "id": 2053, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Topic name mismatch on heavy worlds with custom names"}, "content": {"raw": "This issue should be fixed by pull request #2897.", "markup": "markdown", "html": "<p>This issue should be fixed by <a href=\"#!/osrf/gazebo/pull-requests/2897/fixing-the-node-init-race-condition-by\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #2897</a>.</p>", "type": "rendered"}, "created_on": "2018-02-28T18:26:56.880017+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": null, "type": "issue_comment", "id": 43602363}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2053/comments/43776603.json"}, "html": {"href": "#!/osrf/gazebo/issues/2053#comment-43776603"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2053.json"}}, "type": "issue", "id": 2053, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Topic name mismatch on heavy worlds with custom names"}, "content": {"raw": "Merged pull request #2897", "markup": "markdown", "html": "<p>Merged <a href=\"#!/osrf/gazebo/pull-requests/2897/fixing-the-node-init-race-condition-by\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #2897</a></p>", "type": "rendered"}, "created_on": "2018-03-07T19:41:43.740133+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": null, "type": "issue_comment", "id": 43776603}], "page": 1, "size": 14}