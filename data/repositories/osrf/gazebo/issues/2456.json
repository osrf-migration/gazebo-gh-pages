{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2456/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2456.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2456/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2456/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2456/gazebo9-strange-contact-wrench-values"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2456/vote"}}, "reporter": {"display_name": "Jack Liu", "uuid": "{81945f98-d7ff-46f8-a856-bcfe6bcce018}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B81945f98-d7ff-46f8-a856-bcfe6bcce018%7D"}, "html": {"href": "https://bitbucket.org/%7B81945f98-d7ff-46f8-a856-bcfe6bcce018%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17e5b42085cfb1e0593692b4e30e9ed6d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJL-0.png"}}, "nickname": "jacknlliu", "type": "user", "account_id": "557058:4ff52431-cce6-42f3-bf55-fefe6d5678ce"}, "title": "gazebo9 strange contact wrench values between dart physics engine and ODE engine", "component": {"name": "physics", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122876.json"}}}, "votes": 3, "watches": 3, "content": {"raw": "Gazebo contact sensor can only get the contact geometry information, but the force and wrench of `body_1_wrench` are always zero when using dart physics.  And in ODE engine, the wrench of `body_2_wrench` is very large.\r\n\r\nSo we can't get the correct contact wrench using `body_1_wrench` in dart engine, especially we use gazebo ros plugin `gazebo_ros_bumper` which using  `body_1_wrench` as output values, then we always get the zero wrench values.\r\n\r\n\r\nODE contact wrench  data:\r\n```\r\n# ode\r\n  wrench {\r\n    body_1_name: \"baseplate::link::collision\"\r\n    body_1_id: 47\r\n    body_2_name: \"robot::ee_link::ee_link_collision\"\r\n    body_2_id: 244\r\n    body_1_wrench {\r\n      force {\r\n        x: 2.2381605104575439\r\n        y: 2.2544665456830564\r\n        z: 11.239903054587417\r\n      }\r\n      torque {\r\n        x: -0.066330693096544963\r\n        y: -0.12109271730462257\r\n        z: 0.037496606150626936\r\n      }\r\n    }\r\n    body_2_wrench {\r\n      force {\r\n        x: 4.5458877548329547e-147\r\n        y: 6.4064286498467812e-145\r\n        z: -3.1440719424647841e-147\r\n      }\r\n      torque {\r\n        x: -1.64321895924204e+75\r\n        y: -2.3157555985115649e+77\r\n        z: 1.1364993822353737e+75\r\n      }\r\n    }\r\n  }\r\n```\r\n\r\nDART contact wrench  data:\r\n```\r\n# DART\r\nwrench {\r\n    body_1_name: \"baseplate::link::collision\"\r\n    body_1_id: 47\r\n    body_2_name: \"robot::ee_link::ee_link_collision\"\r\n    body_2_id: 254\r\n    body_1_wrench {\r\n      force {\r\n        x: 0\r\n        y: 0\r\n        z: 0\r\n      }\r\n      torque {\r\n        x: 0\r\n        y: 0\r\n        z: 0\r\n      }\r\n    }\r\n    body_2_wrench {\r\n      force {\r\n        x: -7.5143220546645919\r\n        y: 41.828949548006342\r\n        z: 12.609708467281909\r\n      }\r\n      torque {\r\n        x: 0.0431980357199105\r\n        y: -0.39991012025463457\r\n        z: 1.3523250153357675\r\n      }\r\n    }\r\n  }\r\n```", "markup": "markdown", "html": "<p>Gazebo contact sensor can only get the contact geometry information, but the force and wrench of <code>body_1_wrench</code> are always zero when using dart physics.  And in ODE engine, the wrench of <code>body_2_wrench</code> is very large.</p>\n<p>So we can't get the correct contact wrench using <code>body_1_wrench</code> in dart engine, especially we use gazebo ros plugin <code>gazebo_ros_bumper</code> which using  <code>body_1_wrench</code> as output values, then we always get the zero wrench values.</p>\n<p>ODE contact wrench  data:</p>\n<div class=\"codehilite\"><pre><span></span># ode\n  wrench {\n    body_1_name: &quot;baseplate::link::collision&quot;\n    body_1_id: 47\n    body_2_name: &quot;robot::ee_link::ee_link_collision&quot;\n    body_2_id: 244\n    body_1_wrench {\n      force {\n        x: 2.2381605104575439\n        y: 2.2544665456830564\n        z: 11.239903054587417\n      }\n      torque {\n        x: -0.066330693096544963\n        y: -0.12109271730462257\n        z: 0.037496606150626936\n      }\n    }\n    body_2_wrench {\n      force {\n        x: 4.5458877548329547e-147\n        y: 6.4064286498467812e-145\n        z: -3.1440719424647841e-147\n      }\n      torque {\n        x: -1.64321895924204e+75\n        y: -2.3157555985115649e+77\n        z: 1.1364993822353737e+75\n      }\n    }\n  }\n</pre></div>\n\n\n<p>DART contact wrench  data:</p>\n<div class=\"codehilite\"><pre><span></span># DART\nwrench {\n    body_1_name: &quot;baseplate::link::collision&quot;\n    body_1_id: 47\n    body_2_name: &quot;robot::ee_link::ee_link_collision&quot;\n    body_2_id: 254\n    body_1_wrench {\n      force {\n        x: 0\n        y: 0\n        z: 0\n      }\n      torque {\n        x: 0\n        y: 0\n        z: 0\n      }\n    }\n    body_2_wrench {\n      force {\n        x: -7.5143220546645919\n        y: 41.828949548006342\n        z: 12.609708467281909\n      }\n      torque {\n        x: 0.0431980357199105\n        y: -0.39991012025463457\n        z: 1.3523250153357675\n      }\n    }\n  }\n</pre></div>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "9.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242746.json"}}}, "edited_on": null, "created_on": "2018-04-12T02:51:23.811379+00:00", "milestone": null, "updated_on": "2019-11-05T08:32:36.260630+00:00", "type": "issue", "id": 2456}