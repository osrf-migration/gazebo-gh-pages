{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/328/comments/2754788.json"}, "html": {"href": "#!/osrf/gazebo/issues/328#comment-2754788"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/328.json"}}, "type": "issue", "id": 328, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Factory test occasional seg-fault"}, "content": {"raw": "Looks like what initiated the Close call was [line 183 of Connection.hh](#!/osrf/gazebo/src/aef04df4d173/gazebo/transport/Connection.hh?at=default#cl-183), in the OnReadHeader handler:\n~~~\n                  if (_e.message() != \"End of File\")\n                  {\n                    this->Close();\n                    // This will occur when the other side closes the\n                    // connection\n                  }\n~~~", "markup": "markdown", "html": "<p>Looks like what initiated the Close call was <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/aef04df4d173/gazebo/transport/Connection.hh?at=default#cl-183\" rel=\"nofollow\">line 183 of Connection.hh</a>, in the OnReadHeader handler:</p>\n<div class=\"codehilite\"><pre><span></span>                  if (_e.message() != &quot;End of File&quot;)\n                  {\n                    this-&gt;Close();\n                    // This will occur when the other side closes the\n                    // connection\n                  }\n</pre></div>", "type": "rendered"}, "created_on": "2013-01-04T23:14:03.189088+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 2754788}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/328/comments/3079766.json"}, "html": {"href": "#!/osrf/gazebo/issues/328#comment-3079766"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/328.json"}}, "type": "issue", "id": 328, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Factory test occasional seg-fault"}, "content": {"raw": "While testing threaded sensors, I saw occasional set-faults of RaySensor_TEST, and I managed to catch a back-trace for all the threads, which also includes Connection.hh:183 and Connection.cc:405 (equivalent to Connection.cc:400 in the [threaded_sensors branch](#!/osrf/gazebo/src/88da878823496fcfe38edc17c9967fa8ff638b3d/gazebo/transport/Connection.cc?at=threaded_sensors#cl-405):\n~~~\n===================== try number 9\nGNU gdb (Ubuntu/Linaro 7.4-2012.04-0ubuntu2.1) 7.4-2012.04\nCopyright (C) 2012 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\nand \"show warranty\" for details.\nThis GDB was configured as \"x86_64-linux-gnu\".\nFor bug reporting instructions, please see:\n<http://bugs.launchpad.net/gdb-linaro/>...\nReading symbols from /home/scpeters/osrf/gazebo_threaded_sensors/build/gazebo/sensors/RaySensor_TEST...done.\nStarting program: /home/scpeters/osrf/gazebo_threaded_sensors/build/gazebo/sensors/RaySensor_TEST \n[Thread debugging using libthread_db enabled]\nUsing host libthread_db library \"/lib/x86_64-linux-gnu/libthread_db.so.1\".\n[New Thread 0x7fffe4d70700 (LWP 27355)]\n[==========] Running 1 test from 1 test case.\n[----------] Global test environment set-up.\n[----------] 1 test from RaySensor_TEST\n[ RUN      ] RaySensor_TEST.CreateLaser\n[New Thread 0x7fffdffff700 (LWP 27356)]\nGazebo multi-robot simulator, version 1.4.6\nCopyright (C) 2013 Open Source Robotics Foundation.\nReleased under the Apache 2 License.\nhttp://gazebosim.org\n\n[New Thread 0x7fffdf7fe700 (LWP 27357)]\n[New Thread 0x7fffd7fff700 (LWP 27358)]\nMsg Waiting for master\nMsg Connected to gazebo master @ http://127.0.0.1:11345\nMsg Publicized address: 192.168.1.67\nError [RenderEngine.cc:608] Can't open display: \nWarning [RenderEngine.cc:87] Unable to create X window. Rendering will be disabled\n[New Thread 0x7fffdeffd700 (LWP 27359)]\n[New Thread 0x7fffde7fc700 (LWP 27360)]\n[New Thread 0x7fffddffb700 (LWP 27361)]\n[New Thread 0x7fffdd7fa700 (LWP 27362)]\n[New Thread 0x7fffdcff9700 (LWP 27363)]\n[Thread 0x7fffdd7fa700 (LWP 27362) exited]\n[Thread 0x7fffde7fc700 (LWP 27360) exited]\n[Thread 0x7fffddffb700 (LWP 27361) exited]\n\nProgram received signal SIGSEGV, Segmentation fault.\n[Switching to Thread 0x7fffdf7fe700 (LWP 27357)]\nboost::asio::basic_socket<boost::asio::ip::tcp, boost::asio::stream_socket_service<boost::asio::ip::tcp> >::close (this=0x0)\n    at /usr/include/boost/asio/basic_socket.hpp:264\n264\t    this->service.close(this->implementation, ec);\nA debugging session is active.\n\n\tInferior 1 [process 27352] will be killed.\n\nQuit anyway? (y or n) n\nNot confirmed.\n(gdb) thread apply all bt\n\nThread 10 (Thread 0x7fffdcff9700 (LWP 27363)):\n#0  0x00007ffff630f05d in __pthread_mutex_unlock_usercnt (mutex=<optimized out>, decr=<optimized out>) at pthread_mutex_unlock.c:52\n#1  __pthread_mutex_unlock (mutex=0x7ffff72ee348) at pthread_mutex_unlock.c:290\n#2  0x00007ffff70d2b1f in unlock (this=<optimized out>) at /usr/include/boost/thread/pthread/mutex.hpp:61\n#3  ~unique_lock (this=0x7fffdcff8cb0, __in_chrg=<optimized out>) at /usr/include/boost/thread/locks.hpp:403\n#4  gazebo::sensors::SimTimeEventHandler::RunLoop (this=0x7ffff72ee340)\n    at /home/scpeters/osrf/gazebo_threaded_sensors/gazebo/sensors/SensorManager.cc:656\n#5  0x00007ffff5e08ce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\n#6  0x00007ffff630be9a in start_thread (arg=0x7fffdcff9700) at pthread_create.c:308\n#7  0x00007ffff5416cbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\n#8  0x0000000000000000 in ?? ()\n\nThread 6 (Thread 0x7fffdeffd700 (LWP 27359)):\n#0  0x00007ffff630c066 in start_thread (arg=0x7fffdeffd700) at pthread_create.c:353\n#1  0x00007ffff5416cbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\n#2  0x0000000000000000 in ?? ()\n\nThread 5 (Thread 0x7fffd7fff700 (LWP 27358)):\n#0  0x00007ffff631352d in nanosleep () at ../sysdeps/unix/syscall-template.S:82\n#1  0x00007ffff791b3c4 in gazebo::common::Time::Sleep (_time=...)\n    at /home/scpeters/osrf/gazebo_threaded_sensors/gazebo/common/Time.cc:142\n#2  0x00007ffff791b623 in gazebo::common::Time::MSleep (_ms=<optimized out>)\n    at /home/scpeters/osrf/gazebo_threaded_sensors/gazebo/common/Time.cc:160\n#3  0x00007ffff655860d in gazebo::Master::Run (this=0x7fffd818c870) at /home/scpeters/osrf/gazebo_threaded_sensors/gazebo/Master.cc:320\n#4  0x00007ffff5e08ce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\n#5  0x00007ffff630be9a in start_thread (arg=0x7fffd7fff700) at pthread_create.c:308\n#6  0x00007ffff5416cbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\n#7  0x0000000000000000 in ?? ()\n\nThread 4 (Thread 0x7fffdf7fe700 (LWP 27357)):\n#0  boost::asio::basic_socket<boost::asio::ip::tcp, boost::asio::stream_socket_service<boost::asio::ip::tcp> >::close (this=0x0)\n    at /usr/include/boost/asio/basic_socket.hpp:264\n#1  0x00007ffff67a9626 in gazebo::transport::Connection::Close (this=0x7fffd8160560)\n    at /home/scpeters/osrf/gazebo_threaded_sensors/gazebo/transport/Connection.cc:405\n#2  0x00007ffff67c3288 in gazebo::transport::Connection::OnReadHeader<boost::_bi::bind_t<void, boost::_mfi::mf1<void, gazebo::transport::ConnectionManager, std::string const&>, boost::_bi::list2<boost::_bi::value<gazebo::transport::ConnectionManager*>, boost::arg<1> > > > (\n    this=0x7fffd8160560, _e=..., _handler=...) at /home/scpeters/osrf/gazebo_threaded_sensors/gazebo/transport/Connection.hh:183\n#3  0x00007ffff67c2c03 in operator() (a2=..., p=<optimized out>, this=<optimized out>, a1=...)\n    at /usr/include/boost/bind/mem_fn_template.hpp:280\n#4  operator()<boost::_mfi::mf2<void, gazebo::transport::Connection, const boost::system::error_code&, boost::tuples::tuple<boost::_bi::bind_t<void, boost::_mfi::mf1<void, gazebo::transport::ConnectionManager, const std::basic_string<char>&>, boost::_bi::list2<boost::_bi::value<gazebo::transport::ConnectionManager*>, boost::arg<1> > >, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type---Type <return> to continue, or q <return> to quit---\n, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type> >, boost::_bi::list2<const boost::system::error_code&, const long unsigned int&> > (a=<synthetic pointer>, f=..., \n    this=<optimized out>) at /usr/include/boost/bind/bind.hpp:392\n#5  operator()<boost::system::error_code, long unsigned int> (this=<optimized out>, a1=..., a2=<optimized out>)\n    at /usr/include/boost/bind/bind_template.hpp:102\n#6  operator() (ec=..., this=<optimized out>, bytes_transferred=<optimized out>, start=<optimized out>)\n    at /usr/include/boost/asio/impl/read.hpp:215\n#7  boost::asio::detail::read_op<boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::stream_socket_service<boost::asio::ip::tcp> >, boost::asio::mutable_buffers_1, boost::asio::detail::transfer_all_t, boost::_bi::bind_t<void, boost::_mfi::mf2<void, gazebo::transport::Connection, boost::system::error_code const&, boost::tuples::tuple<boost::_bi::bind_t<void, boost::_mfi::mf1<void, gazebo::transport::ConnectionManager, std::string const&>, boost::_bi::list2<boost::_bi::value<gazebo::transport::ConnectionManager*>, boost::arg<1> > >, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type> >, boost::_bi::list3<boost::_bi::value<gazebo::transport::Connection*>, boost::arg<1> (*)(), boost::_bi::value<boost::tuples::tuple<boost::_bi::bind_t<void, boost::_mfi::mf1<void, gazebo::transport::ConnectionManager, std::string const&>, boost::_bi::list2<boost::_bi::value<gazebo::transport::ConnectionManager*>, boost::arg<1> > >, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type> > > > >::operator() (\n    this=<optimized out>, ec=..., bytes_transferred=<optimized out>, start=<optimized out>) at /usr/include/boost/asio/impl/read.hpp:195\n#8  0x00007ffff67c39f9 in operator() (this=0x7fffdf7fdb40) at /usr/include/boost/asio/detail/bind_handler.hpp:97\n#9  asio_handler_invoke<boost::asio::detail::binder2<boost::asio::detail::read_op<boost::asio::basic_stream_socket<boost::asio::ip::tcp>, boost::asio::mutable_buffers_1, boost::asio::detail::transfer_all_t, boost::_bi::bind_t<void, boost::_mfi::mf2<void, gazebo::transport::Connection, boost::system::error_code const&, boost::tuples::tuple<boost::_bi::bind_t<void, boost::_mfi::mf1<void, gazebo::transport::ConnectionManager, std::basic_string<char> const&>, boost::_bi::list2<boost::_bi::value<gazebo::transport::ConnectionManager*>, boost::arg<1> > >, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type> >, boost::_bi::list3<boost::_bi::value<gazebo::transport::Connection*>, boost::arg<1> (*)(), boost::_bi::value<boost::tuples::tuple<boost::_bi::bind_t<void, boost::_mfi::mf1<void, gazebo::transport::ConnectionManager, std::basic_string<char> const&>, boost::_bi::list2<boost::_bi::value<gazebo::transport::ConnectionManager*>, boost::arg<1> > >, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type> > > > >, boost::system::error_code, unsigned long> > (function=...) at /usr/include/boost/asio/handler_invoke_hook.hpp:64\n#10 invoke<boost::asio::detail::binder2<boost::asio::detail::read_op<boost::asio::basic_stream_socket<boost::asio::ip::tcp>, boost::asio::mutable_buffers_1, boost::asio::detail::transfer_all_t, boost::_bi::bind_t<void, boost::_mfi::mf2<void, gazebo::transport::Connection, boost::system::error_code const&, boost::tuples::tuple<boost::_bi::bind_t<void, boost::_mfi::mf1<void, gazebo::transport::ConnectionManager, std::basic_string<char> const&>, boost::_bi::list2<boost::_bi::value<gazebo::transport::ConnectionManager*>, boost::arg<1> > >, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type> >, boost::_bi::list3<boost::_bi::value<gazebo::transport::Connection*>, boost::arg<1> (*)(), boost::_bi::value<boost::tuples::tuple<boost::_bi::bind_t<void, boost::_mfi::mf1<void, gazebo::transport::ConnectionManager, std::basic_string<char> const&>, boost::_bi::list2<boost::_bi::value<gazebo::transport::ConnectionManager*>, boost::arg<1> > >, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type> > > > >, boost::system::error_code, unsigned long>, boost::_bi::bind_t<void, boost::_mfi::mf2<void, gazebo::transport::Connection, boost::system::error_code const&, boost::tuples::tuple<boost::_bi::bind_t<void, boost::_mfi::mf1<void, gazebo::transport::ConnectionManager, std::basic_string<char> const&>, boost::_bi::list2<boost::_bi::value<gazebo::transport::ConnectionManager*>, boost::arg<1> > >, boost::tuples::null_type, boost::tuple---Type <return> to continue, or q <return> to quit---\ns::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type> >, boost::_bi::list3<boost::_bi::value<gazebo::transport::Connection*>, boost::arg<1> (*)(), boost::_bi::value<boost::tuples::tuple<boost::_bi::bind_t<void, boost::_mfi::mf1<void, gazebo::transport::ConnectionManager, std::basic_string<char> const&>, boost::_bi::list2<boost::_bi::value<gazebo::transport::ConnectionManager*>, boost::arg<1> > >, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type> > > > > (function=..., context=...)\n    at /usr/include/boost/asio/detail/handler_invoke_helpers.hpp:39\n#11 asio_handler_invoke<boost::asio::detail::binder2<boost::asio::detail::read_op<boost::asio::basic_stream_socket<boost::asio::ip::tcp>, boost::asio::mutable_buffers_1, boost::asio::detail::transfer_all_t, boost::_bi::bind_t<void, boost::_mfi::mf2<void, gazebo::transport::Connection, boost::system::error_code const&, boost::tuples::tuple<boost::_bi::bind_t<void, boost::_mfi::mf1<void, gazebo::transport::ConnectionManager, std::basic_string<char> const&>, boost::_bi::list2<boost::_bi::value<gazebo::transport::ConnectionManager*>, boost::arg<1> > >, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type> >, boost::_bi::list3<boost::_bi::value<gazebo::transport::Connection*>, boost::arg<1> (*)(), boost::_bi::value<boost::tuples::tuple<boost::_bi::bind_t<void, boost::_mfi::mf1<void, gazebo::transport::ConnectionManager, std::basic_string<char> const&>, boost::_bi::list2<boost::_bi::value<gazebo::transport::ConnectionManager*>, boost::arg<1> > >, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type> > > > >, boost::system::error_code, unsigned long>, boost::asio::basic_stream_socket<boost::asio::ip::tcp>, boost::asio::mutable_buffers_1, boost::asio::detail::transfer_all_t, boost::_bi::bind_t<void, boost::_mfi::mf2<void, gazebo::transport::Connection, boost::system::error_code const&, boost::tuples::tuple<boost::_bi::bind_t<void, boost::_mfi::mf1<void, gazebo::transport::ConnectionManager, std::basic_string<char> const&>, boost::_bi::list2<boost::_bi::value<gazebo::transport::ConnectionManager*>, boost::arg<1> > >, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type> >, boost::_bi::list3<boost::_bi::value<gazebo::transport::Connection*>, boost::arg<1> (*)(), boost::_bi::value<boost::tuples::tuple<boost::_bi::bind_t<void, boost::_mfi::mf1<void, gazebo::transport::ConnectionManager, std::basic_string<char> const&>, boost::_bi::list2<boost::_bi::value<gazebo::transport::ConnectionManager*>, boost::arg<1> > >, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type> > > > > (function=..., \n    this_handler=<optimized out>) at /usr/include/boost/asio/impl/read.hpp:253\n#12 invoke<boost::asio::detail::binder2<boost::asio::detail::read_op<boost::asio::basic_stream_socket<boost::asio::ip::tcp>, boost::asio::mutable_buffers_1, boost::asio::detail::transfer_all_t, boost::_bi::bind_t<void, boost::_mfi::mf2<void, gazebo::transport::Connection, boost::system::error_code const&, boost::tuples::tuple<boost::_bi::bind_t<void, boost::_mfi::mf1<void, gazebo::transport::ConnectionManager, std::basic_string<char> const&>, boost::_bi::list2<boost::_bi::value<gazebo::transport::ConnectionManager*>, boost::arg<1> > >, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type> >, boost::_bi::list3<boost::_bi::value<gazebo::transport::Connection*>, boost::arg<1> (*)(), boost::_bi::value<boost::tuples::tuple<boost::_bi::bind_t<void, boost::_mfi::mf1<void, gazebo::transport::ConnectionManager, std::basic_string<char> const&>, boost::_bi::list2<boost::_bi::value<gazebo::transport::ConnectionManager*>, boost::arg<1> > >, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type> > > > >, boost::system::error_code, unsigned long>, boost::asio::detail::read_op<boost::asio::basic_stream_socket<boost::asio::ip::tcp>, boost::asio::mutable_buffers_1, boost::asio::detail::transfer_all_t, boost::_bi::bind_t<void, boost::_mfi::mf2<void, gazebo::transport::Connection, boost::system::error_code const&, boost::tuples::tuple<boost::_bi::bind_t<void, boost::_mfi::mf1<void, gazebo::transport::ConnectionManager, std::basic_string<char> const&>, boost::_bi::list2<boost::_bi::value<gazebo::transport::ConnectionManager*>, boost::arg<1> > >, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boos---Type <return> to continue, or q <return> to quit---\nt::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type> >, boost::_bi::list3<boost::_bi::value<gazebo::transport::Connection*>, boost::arg<1> (*)(), boost::_bi::value<boost::tuples::tuple<boost::_bi::bind_t<void, boost::_mfi::mf1<void, gazebo::transport::ConnectionManager, std::basic_string<char> const&>, boost::_bi::list2<boost::_bi::value<gazebo::transport::ConnectionManager*>, boost::arg<1> > >, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type> > > > > > (function=..., \n    context=...) at /usr/include/boost/asio/detail/handler_invoke_helpers.hpp:39\n#13 boost::asio::detail::reactive_socket_recv_op<boost::asio::mutable_buffers_1, boost::asio::detail::read_op<boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::stream_socket_service<boost::asio::ip::tcp> >, boost::asio::mutable_buffers_1, boost::asio::detail::transfer_all_t, boost::_bi::bind_t<void, boost::_mfi::mf2<void, gazebo::transport::Connection, boost::system::error_code const&, boost::tuples::tuple<boost::_bi::bind_t<void, boost::_mfi::mf1<void, gazebo::transport::ConnectionManager, std::string const&>, boost::_bi::list2<boost::_bi::value<gazebo::transport::ConnectionManager*>, boost::arg<1> > >, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type> >, boost::_bi::list3<boost::_bi::value<gazebo::transport::Connection*>, boost::arg<1> (*)(), boost::_bi::value<boost::tuples::tuple<boost::_bi::bind_t<void, boost::_mfi::mf1<void, gazebo::transport::ConnectionManager, std::string const&>, boost::_bi::list2<boost::_bi::value<gazebo::transport::ConnectionManager*>, boost::arg<1> > >, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type> > > > > >::do_complete (owner=0x7fffd8191230, base=<optimized out>)\n    at /usr/include/boost/asio/detail/reactive_socket_recv_op.hpp:106\n#14 0x00007ffff67c65c7 in complete (owner=..., this=0x7fffd00015e0) at /usr/include/boost/asio/detail/task_io_service_operation.hpp:35\n#15 do_one (this_idle_thread=<optimized out>, lock=..., this=<optimized out>)\n    at /usr/include/boost/asio/detail/impl/task_io_service.ipp:278\n#16 boost::asio::detail::task_io_service::run (this=0x7fffd8191230, ec=...)\n    at /usr/include/boost/asio/detail/impl/task_io_service.ipp:130\n#17 0x00007ffff67c68a5 in boost::asio::io_service::run (this=0x7fffd8116fd0) at /usr/include/boost/asio/impl/io_service.ipp:57\n#18 0x00007ffff5e08ce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\n#19 0x00007ffff630be9a in start_thread (arg=0x7fffdf7fe700) at pthread_create.c:308\n#20 0x00007ffff5416cbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\n#21 0x0000000000000000 in ?? ()\n\nThread 3 (Thread 0x7fffdffff700 (LWP 27356)):\n#0  0x00007ffff631352d in nanosleep () at ../sysdeps/unix/syscall-template.S:82\n#1  0x00007ffff791b3c4 in gazebo::common::Time::Sleep (_time=...)\n    at /home/scpeters/osrf/gazebo_threaded_sensors/gazebo/common/Time.cc:142\n#2  0x00007ffff791b623 in gazebo::common::Time::MSleep (_ms=<optimized out>)\n    at /home/scpeters/osrf/gazebo_threaded_sensors/gazebo/common/Time.cc:160\n#3  0x00007ffff67bc805 in Stop (this=<optimized out>)\n    at /home/scpeters/osrf/gazebo_threaded_sensors/gazebo/transport/ConnectionManager.cc:191\n#4  gazebo::transport::ConnectionManager::Stop (this=0x666c20)\n    at /home/scpeters/osrf/gazebo_threaded_sensors/gazebo/transport/ConnectionManager.cc:186\n#5  0x00007ffff654810a in gazebo::Server::Run (this=0x7fffd80008e0) at /home/scpeters/osrf/gazebo_threaded_sensors/gazebo/Server.cc:392\n#6  0x000000000042b1ce in ServerFixture::RunServer (this=0x6a5a00, _worldFilename=..., _paused=false)\n    at /home/scpeters/osrf/gazebo_threaded_sensors/test/ServerFixture.hh:189\n#7  0x00007ffff5e08ce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\n---Type <return> to continue, or q <return> to quit---\n#8  0x00007ffff630be9a in start_thread (arg=0x7fffdffff700) at pthread_create.c:308\n#9  0x00007ffff5416cbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\n#10 0x0000000000000000 in ?? ()\n\nThread 2 (Thread 0x7fffe4d70700 (LWP 27355)):\n#0  pthread_cond_wait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:162\n#1  0x00007ffff7903973 in wait (m=..., this=0x7ffff7dd9610) at /usr/include/boost/thread/pthread/condition_variable.hpp:53\n#2  gazebo::common::ModelDatabase::UpdateModelCache (this=0x7ffff7dd95a0)\n    at /home/scpeters/osrf/gazebo_threaded_sensors/gazebo/common/ModelDatabase.cc:237\n#3  0x00007ffff5e08ce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\n#4  0x00007ffff630be9a in start_thread (arg=0x7fffe4d70700) at pthread_create.c:308\n#5  0x00007ffff5416cbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\n#6  0x0000000000000000 in ?? ()\n\nThread 1 (Thread 0x7ffff7fa5840 (LWP 27352)):\n#0  pthread_cond_wait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:162\n#1  0x00007ffff5e09fdb in boost::thread::join() () from /usr/lib/libboost_thread.so.1.46.1\n#2  0x000000000042939a in ServerFixture::Unload (this=0x6a5a00) at /home/scpeters/osrf/gazebo_threaded_sensors/test/ServerFixture.hh:101\n#3  0x000000000044fabd in HandleSehExceptionsInMethodIfSupported<testing::Test, void> (method=<optimized out>, object=<optimized out>, \n    location=<optimized out>) at /home/scpeters/osrf/gazebo_threaded_sensors/test/gtest/src/gtest.cc:2090\n#4  testing::internal::HandleExceptionsInMethodIfSupported<testing::Test, void> (object=0x6a5a00, \n    method=&virtual testing::Test::TearDown(), location=0x452c5b \"TearDown()\")\n    at /home/scpeters/osrf/gazebo_threaded_sensors/test/gtest/src/gtest.cc:2126\n#5  0x0000000000447643 in testing::Test::Run (this=0x6a5a00) at /home/scpeters/osrf/gazebo_threaded_sensors/test/gtest/src/gtest.cc:2170\n#6  0x0000000000447776 in testing::TestInfo::Run (this=0x6a5080)\n    at /home/scpeters/osrf/gazebo_threaded_sensors/test/gtest/src/gtest.cc:2338\n#7  0x00000000004478b7 in testing::TestCase::Run (this=0x6a5470)\n    at /home/scpeters/osrf/gazebo_threaded_sensors/test/gtest/src/gtest.cc:2445\n#8  0x0000000000447c0e in RunAllTests (this=0x6a5190) at /home/scpeters/osrf/gazebo_threaded_sensors/test/gtest/src/gtest.cc:4237\n#9  testing::internal::UnitTestImpl::RunAllTests (this=0x6a5190)\n    at /home/scpeters/osrf/gazebo_threaded_sensors/test/gtest/src/gtest.cc:4145\n#10 0x000000000044f63d in HandleSehExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool> (method=<optimized out>, \n    object=<optimized out>, location=<optimized out>) at /home/scpeters/osrf/gazebo_threaded_sensors/test/gtest/src/gtest.cc:2090\n#11 testing::internal::HandleExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool> (object=0x6a5190, method=\n    (bool (testing::internal::UnitTestImpl::*)(testing::internal::UnitTestImpl * const)) 0x447930 <testing::internal::UnitTestImpl::RunAllTests()>, location=0x453e78 \"auxiliary test code (environments or event listeners)\")\n    at /home/scpeters/osrf/gazebo_threaded_sensors/test/gtest/src/gtest.cc:2126\n#12 0x0000000000446cee in testing::UnitTest::Run (this=<optimized out>)\n    at /home/scpeters/osrf/gazebo_threaded_sensors/test/gtest/src/gtest.cc:3874\n#13 0x0000000000424fef in main (argc=1, argv=<optimized out>)\n    at /home/scpeters/osrf/gazebo_threaded_sensors/gazebo/sensors/RaySensor_TEST.cc:120\n(gdb)\n~~~", "markup": "markdown", "html": "<p>While testing threaded sensors, I saw occasional set-faults of RaySensor_TEST, and I managed to catch a back-trace for all the threads, which also includes Connection.hh:183 and Connection.cc:405 (equivalent to Connection.cc:400 in the <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/88da878823496fcfe38edc17c9967fa8ff638b3d/gazebo/transport/Connection.cc?at=threaded_sensors#cl-405\" rel=\"nofollow\">threaded_sensors branch</a>:</p>\n<div class=\"codehilite\"><pre><span></span>===================== try number 9\nGNU gdb (Ubuntu/Linaro 7.4-2012.04-0ubuntu2.1) 7.4-2012.04\nCopyright (C) 2012 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.  Type &quot;show copying&quot;\nand &quot;show warranty&quot; for details.\nThis GDB was configured as &quot;x86_64-linux-gnu&quot;.\nFor bug reporting instructions, please see:\n&lt;http://bugs.launchpad.net/gdb-linaro/&gt;...\nReading symbols from /home/scpeters/osrf/gazebo_threaded_sensors/build/gazebo/sensors/RaySensor_TEST...done.\nStarting program: /home/scpeters/osrf/gazebo_threaded_sensors/build/gazebo/sensors/RaySensor_TEST \n[Thread debugging using libthread_db enabled]\nUsing host libthread_db library &quot;/lib/x86_64-linux-gnu/libthread_db.so.1&quot;.\n[New Thread 0x7fffe4d70700 (LWP 27355)]\n[==========] Running 1 test from 1 test case.\n[----------] Global test environment set-up.\n[----------] 1 test from RaySensor_TEST\n[ RUN      ] RaySensor_TEST.CreateLaser\n[New Thread 0x7fffdffff700 (LWP 27356)]\nGazebo multi-robot simulator, version 1.4.6\nCopyright (C) 2013 Open Source Robotics Foundation.\nReleased under the Apache 2 License.\nhttp://gazebosim.org\n\n[New Thread 0x7fffdf7fe700 (LWP 27357)]\n[New Thread 0x7fffd7fff700 (LWP 27358)]\nMsg Waiting for master\nMsg Connected to gazebo master @ http://127.0.0.1:11345\nMsg Publicized address: 192.168.1.67\nError [RenderEngine.cc:608] Can&#39;t open display: \nWarning [RenderEngine.cc:87] Unable to create X window. Rendering will be disabled\n[New Thread 0x7fffdeffd700 (LWP 27359)]\n[New Thread 0x7fffde7fc700 (LWP 27360)]\n[New Thread 0x7fffddffb700 (LWP 27361)]\n[New Thread 0x7fffdd7fa700 (LWP 27362)]\n[New Thread 0x7fffdcff9700 (LWP 27363)]\n[Thread 0x7fffdd7fa700 (LWP 27362) exited]\n[Thread 0x7fffde7fc700 (LWP 27360) exited]\n[Thread 0x7fffddffb700 (LWP 27361) exited]\n\nProgram received signal SIGSEGV, Segmentation fault.\n[Switching to Thread 0x7fffdf7fe700 (LWP 27357)]\nboost::asio::basic_socket&lt;boost::asio::ip::tcp, boost::asio::stream_socket_service&lt;boost::asio::ip::tcp&gt; &gt;::close (this=0x0)\n    at /usr/include/boost/asio/basic_socket.hpp:264\n264     this-&gt;service.close(this-&gt;implementation, ec);\nA debugging session is active.\n\n    Inferior 1 [process 27352] will be killed.\n\nQuit anyway? (y or n) n\nNot confirmed.\n(gdb) thread apply all bt\n\nThread 10 (Thread 0x7fffdcff9700 (LWP 27363)):\n#0  0x00007ffff630f05d in __pthread_mutex_unlock_usercnt (mutex=&lt;optimized out&gt;, decr=&lt;optimized out&gt;) at pthread_mutex_unlock.c:52\n#1  __pthread_mutex_unlock (mutex=0x7ffff72ee348) at pthread_mutex_unlock.c:290\n#2  0x00007ffff70d2b1f in unlock (this=&lt;optimized out&gt;) at /usr/include/boost/thread/pthread/mutex.hpp:61\n#3  ~unique_lock (this=0x7fffdcff8cb0, __in_chrg=&lt;optimized out&gt;) at /usr/include/boost/thread/locks.hpp:403\n#4  gazebo::sensors::SimTimeEventHandler::RunLoop (this=0x7ffff72ee340)\n    at /home/scpeters/osrf/gazebo_threaded_sensors/gazebo/sensors/SensorManager.cc:656\n#5  0x00007ffff5e08ce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\n#6  0x00007ffff630be9a in start_thread (arg=0x7fffdcff9700) at pthread_create.c:308\n#7  0x00007ffff5416cbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\n#8  0x0000000000000000 in ?? ()\n\nThread 6 (Thread 0x7fffdeffd700 (LWP 27359)):\n#0  0x00007ffff630c066 in start_thread (arg=0x7fffdeffd700) at pthread_create.c:353\n#1  0x00007ffff5416cbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\n#2  0x0000000000000000 in ?? ()\n\nThread 5 (Thread 0x7fffd7fff700 (LWP 27358)):\n#0  0x00007ffff631352d in nanosleep () at ../sysdeps/unix/syscall-template.S:82\n#1  0x00007ffff791b3c4 in gazebo::common::Time::Sleep (_time=...)\n    at /home/scpeters/osrf/gazebo_threaded_sensors/gazebo/common/Time.cc:142\n#2  0x00007ffff791b623 in gazebo::common::Time::MSleep (_ms=&lt;optimized out&gt;)\n    at /home/scpeters/osrf/gazebo_threaded_sensors/gazebo/common/Time.cc:160\n#3  0x00007ffff655860d in gazebo::Master::Run (this=0x7fffd818c870) at /home/scpeters/osrf/gazebo_threaded_sensors/gazebo/Master.cc:320\n#4  0x00007ffff5e08ce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\n#5  0x00007ffff630be9a in start_thread (arg=0x7fffd7fff700) at pthread_create.c:308\n#6  0x00007ffff5416cbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\n#7  0x0000000000000000 in ?? ()\n\nThread 4 (Thread 0x7fffdf7fe700 (LWP 27357)):\n#0  boost::asio::basic_socket&lt;boost::asio::ip::tcp, boost::asio::stream_socket_service&lt;boost::asio::ip::tcp&gt; &gt;::close (this=0x0)\n    at /usr/include/boost/asio/basic_socket.hpp:264\n#1  0x00007ffff67a9626 in gazebo::transport::Connection::Close (this=0x7fffd8160560)\n    at /home/scpeters/osrf/gazebo_threaded_sensors/gazebo/transport/Connection.cc:405\n#2  0x00007ffff67c3288 in gazebo::transport::Connection::OnReadHeader&lt;boost::_bi::bind_t&lt;void, boost::_mfi::mf1&lt;void, gazebo::transport::ConnectionManager, std::string const&amp;&gt;, boost::_bi::list2&lt;boost::_bi::value&lt;gazebo::transport::ConnectionManager*&gt;, boost::arg&lt;1&gt; &gt; &gt; &gt; (\n    this=0x7fffd8160560, _e=..., _handler=...) at /home/scpeters/osrf/gazebo_threaded_sensors/gazebo/transport/Connection.hh:183\n#3  0x00007ffff67c2c03 in operator() (a2=..., p=&lt;optimized out&gt;, this=&lt;optimized out&gt;, a1=...)\n    at /usr/include/boost/bind/mem_fn_template.hpp:280\n#4  operator()&lt;boost::_mfi::mf2&lt;void, gazebo::transport::Connection, const boost::system::error_code&amp;, boost::tuples::tuple&lt;boost::_bi::bind_t&lt;void, boost::_mfi::mf1&lt;void, gazebo::transport::ConnectionManager, const std::basic_string&lt;char&gt;&amp;&gt;, boost::_bi::list2&lt;boost::_bi::value&lt;gazebo::transport::ConnectionManager*&gt;, boost::arg&lt;1&gt; &gt; &gt;, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---\n, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type&gt; &gt;, boost::_bi::list2&lt;const boost::system::error_code&amp;, const long unsigned int&amp;&gt; &gt; (a=&lt;synthetic pointer&gt;, f=..., \n    this=&lt;optimized out&gt;) at /usr/include/boost/bind/bind.hpp:392\n#5  operator()&lt;boost::system::error_code, long unsigned int&gt; (this=&lt;optimized out&gt;, a1=..., a2=&lt;optimized out&gt;)\n    at /usr/include/boost/bind/bind_template.hpp:102\n#6  operator() (ec=..., this=&lt;optimized out&gt;, bytes_transferred=&lt;optimized out&gt;, start=&lt;optimized out&gt;)\n    at /usr/include/boost/asio/impl/read.hpp:215\n#7  boost::asio::detail::read_op&lt;boost::asio::basic_stream_socket&lt;boost::asio::ip::tcp, boost::asio::stream_socket_service&lt;boost::asio::ip::tcp&gt; &gt;, boost::asio::mutable_buffers_1, boost::asio::detail::transfer_all_t, boost::_bi::bind_t&lt;void, boost::_mfi::mf2&lt;void, gazebo::transport::Connection, boost::system::error_code const&amp;, boost::tuples::tuple&lt;boost::_bi::bind_t&lt;void, boost::_mfi::mf1&lt;void, gazebo::transport::ConnectionManager, std::string const&amp;&gt;, boost::_bi::list2&lt;boost::_bi::value&lt;gazebo::transport::ConnectionManager*&gt;, boost::arg&lt;1&gt; &gt; &gt;, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type&gt; &gt;, boost::_bi::list3&lt;boost::_bi::value&lt;gazebo::transport::Connection*&gt;, boost::arg&lt;1&gt; (*)(), boost::_bi::value&lt;boost::tuples::tuple&lt;boost::_bi::bind_t&lt;void, boost::_mfi::mf1&lt;void, gazebo::transport::ConnectionManager, std::string const&amp;&gt;, boost::_bi::list2&lt;boost::_bi::value&lt;gazebo::transport::ConnectionManager*&gt;, boost::arg&lt;1&gt; &gt; &gt;, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type&gt; &gt; &gt; &gt; &gt;::operator() (\n    this=&lt;optimized out&gt;, ec=..., bytes_transferred=&lt;optimized out&gt;, start=&lt;optimized out&gt;) at /usr/include/boost/asio/impl/read.hpp:195\n#8  0x00007ffff67c39f9 in operator() (this=0x7fffdf7fdb40) at /usr/include/boost/asio/detail/bind_handler.hpp:97\n#9  asio_handler_invoke&lt;boost::asio::detail::binder2&lt;boost::asio::detail::read_op&lt;boost::asio::basic_stream_socket&lt;boost::asio::ip::tcp&gt;, boost::asio::mutable_buffers_1, boost::asio::detail::transfer_all_t, boost::_bi::bind_t&lt;void, boost::_mfi::mf2&lt;void, gazebo::transport::Connection, boost::system::error_code const&amp;, boost::tuples::tuple&lt;boost::_bi::bind_t&lt;void, boost::_mfi::mf1&lt;void, gazebo::transport::ConnectionManager, std::basic_string&lt;char&gt; const&amp;&gt;, boost::_bi::list2&lt;boost::_bi::value&lt;gazebo::transport::ConnectionManager*&gt;, boost::arg&lt;1&gt; &gt; &gt;, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type&gt; &gt;, boost::_bi::list3&lt;boost::_bi::value&lt;gazebo::transport::Connection*&gt;, boost::arg&lt;1&gt; (*)(), boost::_bi::value&lt;boost::tuples::tuple&lt;boost::_bi::bind_t&lt;void, boost::_mfi::mf1&lt;void, gazebo::transport::ConnectionManager, std::basic_string&lt;char&gt; const&amp;&gt;, boost::_bi::list2&lt;boost::_bi::value&lt;gazebo::transport::ConnectionManager*&gt;, boost::arg&lt;1&gt; &gt; &gt;, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type&gt; &gt; &gt; &gt; &gt;, boost::system::error_code, unsigned long&gt; &gt; (function=...) at /usr/include/boost/asio/handler_invoke_hook.hpp:64\n#10 invoke&lt;boost::asio::detail::binder2&lt;boost::asio::detail::read_op&lt;boost::asio::basic_stream_socket&lt;boost::asio::ip::tcp&gt;, boost::asio::mutable_buffers_1, boost::asio::detail::transfer_all_t, boost::_bi::bind_t&lt;void, boost::_mfi::mf2&lt;void, gazebo::transport::Connection, boost::system::error_code const&amp;, boost::tuples::tuple&lt;boost::_bi::bind_t&lt;void, boost::_mfi::mf1&lt;void, gazebo::transport::ConnectionManager, std::basic_string&lt;char&gt; const&amp;&gt;, boost::_bi::list2&lt;boost::_bi::value&lt;gazebo::transport::ConnectionManager*&gt;, boost::arg&lt;1&gt; &gt; &gt;, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type&gt; &gt;, boost::_bi::list3&lt;boost::_bi::value&lt;gazebo::transport::Connection*&gt;, boost::arg&lt;1&gt; (*)(), boost::_bi::value&lt;boost::tuples::tuple&lt;boost::_bi::bind_t&lt;void, boost::_mfi::mf1&lt;void, gazebo::transport::ConnectionManager, std::basic_string&lt;char&gt; const&amp;&gt;, boost::_bi::list2&lt;boost::_bi::value&lt;gazebo::transport::ConnectionManager*&gt;, boost::arg&lt;1&gt; &gt; &gt;, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type&gt; &gt; &gt; &gt; &gt;, boost::system::error_code, unsigned long&gt;, boost::_bi::bind_t&lt;void, boost::_mfi::mf2&lt;void, gazebo::transport::Connection, boost::system::error_code const&amp;, boost::tuples::tuple&lt;boost::_bi::bind_t&lt;void, boost::_mfi::mf1&lt;void, gazebo::transport::ConnectionManager, std::basic_string&lt;char&gt; const&amp;&gt;, boost::_bi::list2&lt;boost::_bi::value&lt;gazebo::transport::ConnectionManager*&gt;, boost::arg&lt;1&gt; &gt; &gt;, boost::tuples::null_type, boost::tuple---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---\ns::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type&gt; &gt;, boost::_bi::list3&lt;boost::_bi::value&lt;gazebo::transport::Connection*&gt;, boost::arg&lt;1&gt; (*)(), boost::_bi::value&lt;boost::tuples::tuple&lt;boost::_bi::bind_t&lt;void, boost::_mfi::mf1&lt;void, gazebo::transport::ConnectionManager, std::basic_string&lt;char&gt; const&amp;&gt;, boost::_bi::list2&lt;boost::_bi::value&lt;gazebo::transport::ConnectionManager*&gt;, boost::arg&lt;1&gt; &gt; &gt;, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type&gt; &gt; &gt; &gt; &gt; (function=..., context=...)\n    at /usr/include/boost/asio/detail/handler_invoke_helpers.hpp:39\n#11 asio_handler_invoke&lt;boost::asio::detail::binder2&lt;boost::asio::detail::read_op&lt;boost::asio::basic_stream_socket&lt;boost::asio::ip::tcp&gt;, boost::asio::mutable_buffers_1, boost::asio::detail::transfer_all_t, boost::_bi::bind_t&lt;void, boost::_mfi::mf2&lt;void, gazebo::transport::Connection, boost::system::error_code const&amp;, boost::tuples::tuple&lt;boost::_bi::bind_t&lt;void, boost::_mfi::mf1&lt;void, gazebo::transport::ConnectionManager, std::basic_string&lt;char&gt; const&amp;&gt;, boost::_bi::list2&lt;boost::_bi::value&lt;gazebo::transport::ConnectionManager*&gt;, boost::arg&lt;1&gt; &gt; &gt;, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type&gt; &gt;, boost::_bi::list3&lt;boost::_bi::value&lt;gazebo::transport::Connection*&gt;, boost::arg&lt;1&gt; (*)(), boost::_bi::value&lt;boost::tuples::tuple&lt;boost::_bi::bind_t&lt;void, boost::_mfi::mf1&lt;void, gazebo::transport::ConnectionManager, std::basic_string&lt;char&gt; const&amp;&gt;, boost::_bi::list2&lt;boost::_bi::value&lt;gazebo::transport::ConnectionManager*&gt;, boost::arg&lt;1&gt; &gt; &gt;, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type&gt; &gt; &gt; &gt; &gt;, boost::system::error_code, unsigned long&gt;, boost::asio::basic_stream_socket&lt;boost::asio::ip::tcp&gt;, boost::asio::mutable_buffers_1, boost::asio::detail::transfer_all_t, boost::_bi::bind_t&lt;void, boost::_mfi::mf2&lt;void, gazebo::transport::Connection, boost::system::error_code const&amp;, boost::tuples::tuple&lt;boost::_bi::bind_t&lt;void, boost::_mfi::mf1&lt;void, gazebo::transport::ConnectionManager, std::basic_string&lt;char&gt; const&amp;&gt;, boost::_bi::list2&lt;boost::_bi::value&lt;gazebo::transport::ConnectionManager*&gt;, boost::arg&lt;1&gt; &gt; &gt;, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type&gt; &gt;, boost::_bi::list3&lt;boost::_bi::value&lt;gazebo::transport::Connection*&gt;, boost::arg&lt;1&gt; (*)(), boost::_bi::value&lt;boost::tuples::tuple&lt;boost::_bi::bind_t&lt;void, boost::_mfi::mf1&lt;void, gazebo::transport::ConnectionManager, std::basic_string&lt;char&gt; const&amp;&gt;, boost::_bi::list2&lt;boost::_bi::value&lt;gazebo::transport::ConnectionManager*&gt;, boost::arg&lt;1&gt; &gt; &gt;, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type&gt; &gt; &gt; &gt; &gt; (function=..., \n    this_handler=&lt;optimized out&gt;) at /usr/include/boost/asio/impl/read.hpp:253\n#12 invoke&lt;boost::asio::detail::binder2&lt;boost::asio::detail::read_op&lt;boost::asio::basic_stream_socket&lt;boost::asio::ip::tcp&gt;, boost::asio::mutable_buffers_1, boost::asio::detail::transfer_all_t, boost::_bi::bind_t&lt;void, boost::_mfi::mf2&lt;void, gazebo::transport::Connection, boost::system::error_code const&amp;, boost::tuples::tuple&lt;boost::_bi::bind_t&lt;void, boost::_mfi::mf1&lt;void, gazebo::transport::ConnectionManager, std::basic_string&lt;char&gt; const&amp;&gt;, boost::_bi::list2&lt;boost::_bi::value&lt;gazebo::transport::ConnectionManager*&gt;, boost::arg&lt;1&gt; &gt; &gt;, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type&gt; &gt;, boost::_bi::list3&lt;boost::_bi::value&lt;gazebo::transport::Connection*&gt;, boost::arg&lt;1&gt; (*)(), boost::_bi::value&lt;boost::tuples::tuple&lt;boost::_bi::bind_t&lt;void, boost::_mfi::mf1&lt;void, gazebo::transport::ConnectionManager, std::basic_string&lt;char&gt; const&amp;&gt;, boost::_bi::list2&lt;boost::_bi::value&lt;gazebo::transport::ConnectionManager*&gt;, boost::arg&lt;1&gt; &gt; &gt;, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type&gt; &gt; &gt; &gt; &gt;, boost::system::error_code, unsigned long&gt;, boost::asio::detail::read_op&lt;boost::asio::basic_stream_socket&lt;boost::asio::ip::tcp&gt;, boost::asio::mutable_buffers_1, boost::asio::detail::transfer_all_t, boost::_bi::bind_t&lt;void, boost::_mfi::mf2&lt;void, gazebo::transport::Connection, boost::system::error_code const&amp;, boost::tuples::tuple&lt;boost::_bi::bind_t&lt;void, boost::_mfi::mf1&lt;void, gazebo::transport::ConnectionManager, std::basic_string&lt;char&gt; const&amp;&gt;, boost::_bi::list2&lt;boost::_bi::value&lt;gazebo::transport::ConnectionManager*&gt;, boost::arg&lt;1&gt; &gt; &gt;, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boos---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---\nt::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type&gt; &gt;, boost::_bi::list3&lt;boost::_bi::value&lt;gazebo::transport::Connection*&gt;, boost::arg&lt;1&gt; (*)(), boost::_bi::value&lt;boost::tuples::tuple&lt;boost::_bi::bind_t&lt;void, boost::_mfi::mf1&lt;void, gazebo::transport::ConnectionManager, std::basic_string&lt;char&gt; const&amp;&gt;, boost::_bi::list2&lt;boost::_bi::value&lt;gazebo::transport::ConnectionManager*&gt;, boost::arg&lt;1&gt; &gt; &gt;, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type&gt; &gt; &gt; &gt; &gt; &gt; (function=..., \n    context=...) at /usr/include/boost/asio/detail/handler_invoke_helpers.hpp:39\n#13 boost::asio::detail::reactive_socket_recv_op&lt;boost::asio::mutable_buffers_1, boost::asio::detail::read_op&lt;boost::asio::basic_stream_socket&lt;boost::asio::ip::tcp, boost::asio::stream_socket_service&lt;boost::asio::ip::tcp&gt; &gt;, boost::asio::mutable_buffers_1, boost::asio::detail::transfer_all_t, boost::_bi::bind_t&lt;void, boost::_mfi::mf2&lt;void, gazebo::transport::Connection, boost::system::error_code const&amp;, boost::tuples::tuple&lt;boost::_bi::bind_t&lt;void, boost::_mfi::mf1&lt;void, gazebo::transport::ConnectionManager, std::string const&amp;&gt;, boost::_bi::list2&lt;boost::_bi::value&lt;gazebo::transport::ConnectionManager*&gt;, boost::arg&lt;1&gt; &gt; &gt;, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type&gt; &gt;, boost::_bi::list3&lt;boost::_bi::value&lt;gazebo::transport::Connection*&gt;, boost::arg&lt;1&gt; (*)(), boost::_bi::value&lt;boost::tuples::tuple&lt;boost::_bi::bind_t&lt;void, boost::_mfi::mf1&lt;void, gazebo::transport::ConnectionManager, std::string const&amp;&gt;, boost::_bi::list2&lt;boost::_bi::value&lt;gazebo::transport::ConnectionManager*&gt;, boost::arg&lt;1&gt; &gt; &gt;, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type, boost::tuples::null_type&gt; &gt; &gt; &gt; &gt; &gt;::do_complete (owner=0x7fffd8191230, base=&lt;optimized out&gt;)\n    at /usr/include/boost/asio/detail/reactive_socket_recv_op.hpp:106\n#14 0x00007ffff67c65c7 in complete (owner=..., this=0x7fffd00015e0) at /usr/include/boost/asio/detail/task_io_service_operation.hpp:35\n#15 do_one (this_idle_thread=&lt;optimized out&gt;, lock=..., this=&lt;optimized out&gt;)\n    at /usr/include/boost/asio/detail/impl/task_io_service.ipp:278\n#16 boost::asio::detail::task_io_service::run (this=0x7fffd8191230, ec=...)\n    at /usr/include/boost/asio/detail/impl/task_io_service.ipp:130\n#17 0x00007ffff67c68a5 in boost::asio::io_service::run (this=0x7fffd8116fd0) at /usr/include/boost/asio/impl/io_service.ipp:57\n#18 0x00007ffff5e08ce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\n#19 0x00007ffff630be9a in start_thread (arg=0x7fffdf7fe700) at pthread_create.c:308\n#20 0x00007ffff5416cbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\n#21 0x0000000000000000 in ?? ()\n\nThread 3 (Thread 0x7fffdffff700 (LWP 27356)):\n#0  0x00007ffff631352d in nanosleep () at ../sysdeps/unix/syscall-template.S:82\n#1  0x00007ffff791b3c4 in gazebo::common::Time::Sleep (_time=...)\n    at /home/scpeters/osrf/gazebo_threaded_sensors/gazebo/common/Time.cc:142\n#2  0x00007ffff791b623 in gazebo::common::Time::MSleep (_ms=&lt;optimized out&gt;)\n    at /home/scpeters/osrf/gazebo_threaded_sensors/gazebo/common/Time.cc:160\n#3  0x00007ffff67bc805 in Stop (this=&lt;optimized out&gt;)\n    at /home/scpeters/osrf/gazebo_threaded_sensors/gazebo/transport/ConnectionManager.cc:191\n#4  gazebo::transport::ConnectionManager::Stop (this=0x666c20)\n    at /home/scpeters/osrf/gazebo_threaded_sensors/gazebo/transport/ConnectionManager.cc:186\n#5  0x00007ffff654810a in gazebo::Server::Run (this=0x7fffd80008e0) at /home/scpeters/osrf/gazebo_threaded_sensors/gazebo/Server.cc:392\n#6  0x000000000042b1ce in ServerFixture::RunServer (this=0x6a5a00, _worldFilename=..., _paused=false)\n    at /home/scpeters/osrf/gazebo_threaded_sensors/test/ServerFixture.hh:189\n#7  0x00007ffff5e08ce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\n---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---\n#8  0x00007ffff630be9a in start_thread (arg=0x7fffdffff700) at pthread_create.c:308\n#9  0x00007ffff5416cbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\n#10 0x0000000000000000 in ?? ()\n\nThread 2 (Thread 0x7fffe4d70700 (LWP 27355)):\n#0  pthread_cond_wait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:162\n#1  0x00007ffff7903973 in wait (m=..., this=0x7ffff7dd9610) at /usr/include/boost/thread/pthread/condition_variable.hpp:53\n#2  gazebo::common::ModelDatabase::UpdateModelCache (this=0x7ffff7dd95a0)\n    at /home/scpeters/osrf/gazebo_threaded_sensors/gazebo/common/ModelDatabase.cc:237\n#3  0x00007ffff5e08ce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\n#4  0x00007ffff630be9a in start_thread (arg=0x7fffe4d70700) at pthread_create.c:308\n#5  0x00007ffff5416cbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\n#6  0x0000000000000000 in ?? ()\n\nThread 1 (Thread 0x7ffff7fa5840 (LWP 27352)):\n#0  pthread_cond_wait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:162\n#1  0x00007ffff5e09fdb in boost::thread::join() () from /usr/lib/libboost_thread.so.1.46.1\n#2  0x000000000042939a in ServerFixture::Unload (this=0x6a5a00) at /home/scpeters/osrf/gazebo_threaded_sensors/test/ServerFixture.hh:101\n#3  0x000000000044fabd in HandleSehExceptionsInMethodIfSupported&lt;testing::Test, void&gt; (method=&lt;optimized out&gt;, object=&lt;optimized out&gt;, \n    location=&lt;optimized out&gt;) at /home/scpeters/osrf/gazebo_threaded_sensors/test/gtest/src/gtest.cc:2090\n#4  testing::internal::HandleExceptionsInMethodIfSupported&lt;testing::Test, void&gt; (object=0x6a5a00, \n    method=&amp;virtual testing::Test::TearDown(), location=0x452c5b &quot;TearDown()&quot;)\n    at /home/scpeters/osrf/gazebo_threaded_sensors/test/gtest/src/gtest.cc:2126\n#5  0x0000000000447643 in testing::Test::Run (this=0x6a5a00) at /home/scpeters/osrf/gazebo_threaded_sensors/test/gtest/src/gtest.cc:2170\n#6  0x0000000000447776 in testing::TestInfo::Run (this=0x6a5080)\n    at /home/scpeters/osrf/gazebo_threaded_sensors/test/gtest/src/gtest.cc:2338\n#7  0x00000000004478b7 in testing::TestCase::Run (this=0x6a5470)\n    at /home/scpeters/osrf/gazebo_threaded_sensors/test/gtest/src/gtest.cc:2445\n#8  0x0000000000447c0e in RunAllTests (this=0x6a5190) at /home/scpeters/osrf/gazebo_threaded_sensors/test/gtest/src/gtest.cc:4237\n#9  testing::internal::UnitTestImpl::RunAllTests (this=0x6a5190)\n    at /home/scpeters/osrf/gazebo_threaded_sensors/test/gtest/src/gtest.cc:4145\n#10 0x000000000044f63d in HandleSehExceptionsInMethodIfSupported&lt;testing::internal::UnitTestImpl, bool&gt; (method=&lt;optimized out&gt;, \n    object=&lt;optimized out&gt;, location=&lt;optimized out&gt;) at /home/scpeters/osrf/gazebo_threaded_sensors/test/gtest/src/gtest.cc:2090\n#11 testing::internal::HandleExceptionsInMethodIfSupported&lt;testing::internal::UnitTestImpl, bool&gt; (object=0x6a5190, method=\n    (bool (testing::internal::UnitTestImpl::*)(testing::internal::UnitTestImpl * const)) 0x447930 &lt;testing::internal::UnitTestImpl::RunAllTests()&gt;, location=0x453e78 &quot;auxiliary test code (environments or event listeners)&quot;)\n    at /home/scpeters/osrf/gazebo_threaded_sensors/test/gtest/src/gtest.cc:2126\n#12 0x0000000000446cee in testing::UnitTest::Run (this=&lt;optimized out&gt;)\n    at /home/scpeters/osrf/gazebo_threaded_sensors/test/gtest/src/gtest.cc:3874\n#13 0x0000000000424fef in main (argc=1, argv=&lt;optimized out&gt;)\n    at /home/scpeters/osrf/gazebo_threaded_sensors/gazebo/sensors/RaySensor_TEST.cc:120\n(gdb)\n</pre></div>", "type": "rendered"}, "created_on": "2013-02-08T16:07:56.546004+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 3079766}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/328/comments/3081371.json"}, "html": {"href": "#!/osrf/gazebo/issues/328#comment-3081371"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/328.json"}}, "type": "issue", "id": 328, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Factory test occasional seg-fault"}, "content": {"raw": "It appears to happen after the test has completed, since ServerFixture::Unload is waiting to join with the server thread at line 101.", "markup": "markdown", "html": "<p>It appears to happen after the test has completed, since ServerFixture::Unload is waiting to join with the server thread at line 101.</p>", "type": "rendered"}, "created_on": "2013-02-08T19:08:37.398998+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 3081371}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/328/comments/3081964.json"}, "html": {"href": "#!/osrf/gazebo/issues/328#comment-3081964"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/328.json"}}, "type": "issue", "id": 328, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Factory test occasional seg-fault"}, "content": {"raw": "It seems to be a race condition for calling Connection::Close between Connection::Shutdown and Connection::OnReadHeader. Should there be a mutex for the socket?", "markup": "markdown", "html": "<p>It seems to be a race condition for calling Connection::Close between Connection::Shutdown and Connection::OnReadHeader. Should there be a mutex for the socket?</p>", "type": "rendered"}, "created_on": "2013-02-08T20:38:15.757462+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 3081964}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/328/comments/3083334.json"}, "html": {"href": "#!/osrf/gazebo/issues/328#comment-3083334"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/328.json"}}, "type": "issue", "id": 328, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Factory test occasional seg-fault"}, "content": {"raw": "Great debugging work. I'm putting in a mutex around access to `this->socket` in Connection.cc. ", "markup": "markdown", "html": "<p>Great debugging work. I'm putting in a mutex around access to <code>this-&gt;socket</code> in Connection.cc. </p>", "type": "rendered"}, "created_on": "2013-02-09T00:42:41.346262+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": null, "type": "issue_comment", "id": 3083334}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/328/comments/3083340.json"}, "html": {"href": "#!/osrf/gazebo/issues/328#comment-3083340"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/328.json"}}, "type": "issue", "id": 328, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Factory test occasional seg-fault"}, "content": {"raw": "Issue #490 was marked as a duplicate of this issue.", "markup": "markdown", "html": "<p>Issue <a href=\"#!/osrf/gazebo/issues/490/connection-class-lacks-mutex-to-protect\" rel=\"nofollow\" title=\"Connection class lacks mutex to protect closing\" class=\"ap-connect-link\"><s>#490</s></a> was marked as a duplicate of this issue.</p>", "type": "rendered"}, "created_on": "2013-02-09T00:43:35.246495+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": null, "type": "issue_comment", "id": 3083340}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/328/comments/3105105.json"}, "html": {"href": "#!/osrf/gazebo/issues/328#comment-3105105"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/328.json"}}, "type": "issue", "id": 328, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Factory test occasional seg-fault"}, "content": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "created_on": "2013-02-11T22:07:55.117456+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": null, "type": "issue_comment", "id": 3105105}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/328/comments/3215046.json"}, "html": {"href": "#!/osrf/gazebo/issues/328#comment-3215046"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/328.json"}}, "type": "issue", "id": 328, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Factory test occasional seg-fault"}, "content": {"raw": "I think this is fixed in default. I ran 200 iterations of factory, and they all passed.", "markup": "markdown", "html": "<p>I think this is fixed in default. I ran 200 iterations of factory, and they all passed.</p>", "type": "rendered"}, "created_on": "2013-02-22T20:39:28.031602+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": null, "type": "issue_comment", "id": 3215046}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/328/comments/3215112.json"}, "html": {"href": "#!/osrf/gazebo/issues/328#comment-3215112"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/328.json"}}, "type": "issue", "id": 328, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Factory test occasional seg-fault"}, "content": {"raw": "resolved by adding mutexes to protect closing sockets in Connection.cc in pull request #277", "markup": "markdown", "html": "<p>resolved by adding mutexes to protect closing sockets in Connection.cc in <a href=\"#!/osrf/gazebo/pull-requests/277/threaded-sensors\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #277</a></p>", "type": "rendered"}, "created_on": "2013-02-22T20:48:38.709398+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 3215112}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/328/comments/3215134.json"}, "html": {"href": "#!/osrf/gazebo/issues/328#comment-3215134"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/328.json"}}, "type": "issue", "id": 328, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Factory test occasional seg-fault"}, "content": {"raw": "Issue #345 was marked as a duplicate of this issue.", "markup": "markdown", "html": "<p>Issue <a href=\"#!/osrf/gazebo/issues/345/speed-test-segfault\" rel=\"nofollow\" title=\"speed test segfault\" class=\"ap-connect-link\"><s>#345</s></a> was marked as a duplicate of this issue.</p>", "type": "rendered"}, "created_on": "2013-02-22T20:51:01.308104+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 3215134}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/328/comments/30612830.json"}, "html": {"href": "#!/osrf/gazebo/issues/328#comment-30612830"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/328.json"}}, "type": "issue", "id": 328, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Factory test occasional seg-fault"}, "content": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "created_on": "2016-09-14T19:45:40.294356+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": null, "type": "issue_comment", "id": 30612830}], "page": 1, "size": 11}