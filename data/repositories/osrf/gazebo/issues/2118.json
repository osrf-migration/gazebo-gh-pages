{"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2118/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2118.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2118/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2118/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2118/skyx-crash-on-deletion"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2118/vote"}}, "reporter": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "title": "SkyX crash on deletion", "component": {"name": "rendering", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122881.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "The scene crashes when attempting to clear it and delete the skyx pointer.\r\n\r\nI'm not exactly sure when this started happening. I'm running a few tests and will post an update here soon.\r\n\r\nThis is the current backtrace:\r\n\r\n~~~\r\n[Dbg] [ServerFixture.cc:200] ServerFixture load in 1.2 seconds, timeout after 600 seconds\r\n\r\nThread 1 \"INTEGRATION_wor\" received signal SIGSEGV, Segmentation fault.\r\n0x00007fffe99e8149 in ?? () from /usr/lib/nvidia-367/libGLdispatch.so.0\r\n(gdb) bt\r\n#0  0x00007fffe99e8149 in ?? () from /usr/lib/nvidia-367/libGLdispatch.so.0\r\n#1  0x00007fffbd952cdf in ?? ()\r\n   from /usr/lib/x86_64-linux-gnu/OGRE-1.9.0/RenderSystem_GL.so\r\n#2  0x00007fffbd93d481 in Ogre::GLHardwareVertexBuffer::~GLHardwareVertexBuffer() () from /usr/lib/x86_64-linux-gnu/OGRE-1.9.0/RenderSystem_GL.so\r\n#3  0x00007fffbd93d4b9 in Ogre::GLHardwareVertexBuffer::~GLHardwareVertexBuffer() () from /usr/lib/x86_64-linux-gnu/OGRE-1.9.0/RenderSystem_GL.so\r\n#4  0x00007ffff38088fd in ?? ()\r\n   from /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.9.0\r\n#5  0x00007ffff6e7913a in Ogre::SharedPtr<Ogre::HardwareVertexBuffer>::destroy\r\n    (this=<optimized out>) at /usr/include/OGRE/OgreSharedPtr.h:306\r\n#6  Ogre::SharedPtr<Ogre::HardwareVertexBuffer>::release (this=<optimized out>)\r\n    at /usr/include/OGRE/OgreSharedPtr.h:292\r\n#7  Ogre::SharedPtr<Ogre::HardwareVertexBuffer>::setNull (this=0x7fffc8a41380)\r\n    at /usr/include/OGRE/OgreSharedPtr.h:280\r\n#8  SkyX::MeshManager::remove (this=0x7fffc8a41350)\r\n    at /home/louise/code/gazeboC/gazebo/rendering/skyx/src/MeshManager.cpp:74\r\n#9  0x00007ffff6e7c606 in SkyX::SkyX::remove (this=0x7fffc879feb0)\r\n    at /home/louise/code/gazeboC/gazebo/rendering/skyx/src/SkyX.cpp:134\r\n#10 0x00007ffff6e7c654 in SkyX::SkyX::~SkyX (this=0x7fffc879feb0, \r\n    __in_chrg=<optimized out>)\r\n    at /home/louise/code/gazeboC/gazebo/rendering/skyx/src/SkyX.cpp:65\r\n#11 0x00007ffff6e7c729 in SkyX::SkyX::~SkyX (this=0x7fffc879feb0, \r\n    __in_chrg=<optimized out>)\r\n    at /home/louise/code/gazeboC/gazebo/rendering/skyx/src/SkyX.cpp:78\r\n#12 0x00007ffff6dfc21b in gazebo::rendering::Scene::Clear (this=0x7fffc8001df0)\r\n    at /home/louise/code/gazeboC/gazebo/rendering/Scene.cc:265\r\n~~~", "markup": "markdown", "html": "<p>The scene crashes when attempting to clear it and delete the skyx pointer.</p>\n<p>I'm not exactly sure when this started happening. I'm running a few tests and will post an update here soon.</p>\n<p>This is the current backtrace:</p>\n<div class=\"codehilite\"><pre><span></span>[Dbg] [ServerFixture.cc:200] ServerFixture load in 1.2 seconds, timeout after 600 seconds\n\nThread 1 &quot;INTEGRATION_wor&quot; received signal SIGSEGV, Segmentation fault.\n0x00007fffe99e8149 in ?? () from /usr/lib/nvidia-367/libGLdispatch.so.0\n(gdb) bt\n#0  0x00007fffe99e8149 in ?? () from /usr/lib/nvidia-367/libGLdispatch.so.0\n#1  0x00007fffbd952cdf in ?? ()\n   from /usr/lib/x86_64-linux-gnu/OGRE-1.9.0/RenderSystem_GL.so\n#2  0x00007fffbd93d481 in Ogre::GLHardwareVertexBuffer::~GLHardwareVertexBuffer() () from /usr/lib/x86_64-linux-gnu/OGRE-1.9.0/RenderSystem_GL.so\n#3  0x00007fffbd93d4b9 in Ogre::GLHardwareVertexBuffer::~GLHardwareVertexBuffer() () from /usr/lib/x86_64-linux-gnu/OGRE-1.9.0/RenderSystem_GL.so\n#4  0x00007ffff38088fd in ?? ()\n   from /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.9.0\n#5  0x00007ffff6e7913a in Ogre::SharedPtr&lt;Ogre::HardwareVertexBuffer&gt;::destroy\n    (this=&lt;optimized out&gt;) at /usr/include/OGRE/OgreSharedPtr.h:306\n#6  Ogre::SharedPtr&lt;Ogre::HardwareVertexBuffer&gt;::release (this=&lt;optimized out&gt;)\n    at /usr/include/OGRE/OgreSharedPtr.h:292\n#7  Ogre::SharedPtr&lt;Ogre::HardwareVertexBuffer&gt;::setNull (this=0x7fffc8a41380)\n    at /usr/include/OGRE/OgreSharedPtr.h:280\n#8  SkyX::MeshManager::remove (this=0x7fffc8a41350)\n    at /home/louise/code/gazeboC/gazebo/rendering/skyx/src/MeshManager.cpp:74\n#9  0x00007ffff6e7c606 in SkyX::SkyX::remove (this=0x7fffc879feb0)\n    at /home/louise/code/gazeboC/gazebo/rendering/skyx/src/SkyX.cpp:134\n#10 0x00007ffff6e7c654 in SkyX::SkyX::~SkyX (this=0x7fffc879feb0, \n    __in_chrg=&lt;optimized out&gt;)\n    at /home/louise/code/gazeboC/gazebo/rendering/skyx/src/SkyX.cpp:65\n#11 0x00007ffff6e7c729 in SkyX::SkyX::~SkyX (this=0x7fffc879feb0, \n    __in_chrg=&lt;optimized out&gt;)\n    at /home/louise/code/gazeboC/gazebo/rendering/skyx/src/SkyX.cpp:78\n#12 0x00007ffff6dfc21b in gazebo::rendering::Scene::Clear (this=0x7fffc8001df0)\n    at /home/louise/code/gazeboC/gazebo/rendering/Scene.cc:265\n</pre></div>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2016-12-20T00:15:11.278594+00:00", "milestone": null, "updated_on": "2016-12-20T00:15:11.278594+00:00", "type": "issue", "id": 2118}