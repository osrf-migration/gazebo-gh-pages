{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/1811/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/1811.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/1811/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/1811/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/1811/scene-camera-name-clashes-when-using"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/1811/vote"}}, "reporter": {"display_name": "Elte Hupkes", "uuid": "{f23aa1a9-ae57-493f-8169-fbb59b3eae43}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bf23aa1a9-ae57-493f-8169-fbb59b3eae43%7D"}, "html": {"href": "https://bitbucket.org/%7Bf23aa1a9-ae57-493f-8169-fbb59b3eae43%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/8560ee94d50ba277c411499a45b3d732d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsEH-5.png"}}, "nickname": "ElteHupkes", "type": "user", "account_id": "557058:b758f523-bdaa-4718-964c-03b825bdea8d"}, "title": "Scene camera name clashes when using multiple `CameraSensor`s", "component": {"name": "rendering", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122881.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "Say we have two identical models in the world, which are equipped with a camera sensor. Though the model names are different, the local camera sensor names will be identical (due to the models being the same internally). If we look at [CameraSensor.cc:117](#!/osrf/gazebo/src/49af615a6e6e65dc97ed81c4b9cfc96fb0d8cd61/gazebo/sensors/CameraSensor.cc?at=default&fileviewer=file-view-default#CameraSensor.cc-117), scene cameras are created using the local sensor name, rather than the scoped name. This means that whenever one of the models is deleted, and `RemoveCamera` is called in [CameraSensor::173](#!/osrf/gazebo/src/49af615a6e6e65dc97ed81c4b9cfc96fb0d8cd61/gazebo/sensors/CameraSensor.cc?at=default&fileviewer=file-view-default#CameraSensor.cc-173), it is going to delete the camera of the first sensor that was added, regardless of whether this is the camera corresponding to the sensor.\r\n\r\nThe camera should use the fully scoped name of the sensor instead to prevent this issue. See https://bitbucket.org/ElteHupkes/gazebo/commits/2a7c5d6cd9b3aef9015d67866030040503aa87d5 for suggested fix.", "markup": "markdown", "html": "<p>Say we have two identical models in the world, which are equipped with a camera sensor. Though the model names are different, the local camera sensor names will be identical (due to the models being the same internally). If we look at <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/49af615a6e6e65dc97ed81c4b9cfc96fb0d8cd61/gazebo/sensors/CameraSensor.cc?at=default&amp;fileviewer=file-view-default#CameraSensor.cc-117\" rel=\"nofollow\">CameraSensor.cc:117</a>, scene cameras are created using the local sensor name, rather than the scoped name. This means that whenever one of the models is deleted, and <code>RemoveCamera</code> is called in <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/49af615a6e6e65dc97ed81c4b9cfc96fb0d8cd61/gazebo/sensors/CameraSensor.cc?at=default&amp;fileviewer=file-view-default#CameraSensor.cc-173\" rel=\"nofollow\">CameraSensor::173</a>, it is going to delete the camera of the first sensor that was added, regardless of whether this is the camera corresponding to the sensor.</p>\n<p>The camera should use the fully scoped name of the sensor instead to prevent this issue. See <a href=\"https://bitbucket.org/ElteHupkes/gazebo/commits/2a7c5d6cd9b3aef9015d67866030040503aa87d5\" rel=\"nofollow\" class=\"ap-connect-link\">https://bitbucket.org/ElteHupkes/gazebo/commits/2a7c5d6cd9b3aef9015d67866030040503aa87d5</a> for suggested fix.</p>", "type": "rendered"}, "assignee": null, "state": "closed", "version": {"name": "6.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/170782.json"}}}, "edited_on": null, "created_on": "2015-12-23T10:47:13.340282+00:00", "milestone": null, "updated_on": "2016-09-14T19:45:38.496527+00:00", "type": "issue", "id": 1811}