{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2699/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2699.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2699/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2699/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2699/segfault-on-conda-build-with-jpeg"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2699/vote"}}, "reporter": {"display_name": "Wolf Vollprecht", "uuid": "{103a3d39-4291-483b-b80a-0fa36b48de0f}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B103a3d39-4291-483b-b80a-0fa36b48de0f%7D"}, "html": {"href": "https://bitbucket.org/%7B103a3d39-4291-483b-b80a-0fa36b48de0f%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4383545af2875d31a664d5dafa75d537d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsWV-1.png"}}, "nickname": "Wolf", "type": "user", "account_id": "557058:d49ea8c4-184b-403a-b664-8b3fa004cf9c"}, "title": "Segfault on conda-build with JPEG parameter struct mismatch: library thinks size is 632, caller expects 664", "component": {"name": "gui", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122878.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "Hi all, \r\n\r\n\u200c\r\n\r\nI have an _almost_ working build of gazebo11 on conda-forge! I can start the gazebo server, and also check that some of the default messages are sent successfully. \r\n\r\n\u200c\r\n\r\nHowever, the gazebo client crashes after printing the following in verbose mode:\r\n\r\n\u200c\r\n\r\n\\(gazz\\) ~/Programs:$ gzclient --verbose  \r\nGazebo multi-robot simulator, version 11.0.0  \r\nCopyright \\(C\\) 2012 Open Source Robotics Foundation.  \r\nReleased under the Apache 2 License.  \r\n[http://gazebosim.org](http://gazebosim.org)\r\n\r\n\\[Msg\\] Waiting for master.  \r\n\\[Msg\\] Connected to gazebo master @ [http://127.0.0.1:11345](http://127.0.0.1:11345)  \r\n\\[Msg\\] Publicized address: 10.12.199.184  \r\n\\[Wrn\\] \\[[Event.cc:61](http://Event.cc:61)\\] Warning: Deleting a connection right after creation. Make sure to save the ConnectionPtr from a Connect call  \r\n\\[Wrn\\] \\[[GuiIface.cc:119](http://GuiIface.cc:119)\\] JPEG parameter struct mismatch: library thinks size is 632, caller expects 664  \r\nSegmentation fault \\(core dumped\\)\r\n\r\n\u200c\r\n\r\nWhen launching with gdb attached, the backtrace only shows:\r\n\r\n\u200c\r\n\r\nThread 1 \"gzclient\" received signal SIGSEGV, Segmentation fault.  \r\n0x00007ffff3d034de in \\_\\_\\_\\_longjmp\\_chk \\(\\) from /lib64/libc.so.6  \r\n\\(gdb\\) bt  \r\n\\#0  0x00007ffff3d034de in \\_\\_\\_\\_longjmp\\_chk \\(\\) from /lib64/libc.so.6  \r\n\\#1  0x40554107a766ecb0 in ?? \\(\\)  \r\nBacktrace stopped: Cannot access memory at address 0x4dfaea878771419f\r\n\r\n\u200c\r\n\r\nI can see the splashscreen rectangle \\(without any content\\), but unfortunately that\u2019s it.   \r\n  \r\nI am just wondering if someone here knows anything?\r\n\r\n\u200c", "markup": "markdown", "html": "<p>Hi all, </p>\n<p>\u200c</p>\n<p>I have an <em>almost</em> working build of gazebo11 on conda-forge! I can start the gazebo server, and also check that some of the default messages are sent successfully. </p>\n<p>\u200c</p>\n<p>However, the gazebo client crashes after printing the following in verbose mode:</p>\n<p>\u200c</p>\n<p>(gazz) ~/Programs:$ gzclient --verbose<br />\nGazebo multi-robot simulator, version 11.0.0<br />\nCopyright (C) 2012 Open Source Robotics Foundation.<br />\nReleased under the Apache 2 License.<br />\n<a data-is-external-link=\"true\" href=\"http://gazebosim.org\" rel=\"nofollow\">http://gazebosim.org</a></p>\n<p>[Msg] Waiting for master.<br />\n[Msg] Connected to gazebo master @ <a data-is-external-link=\"true\" href=\"http://127.0.0.1:11345\" rel=\"nofollow\">http://127.0.0.1:11345</a><br />\n[Msg] Publicized address: 10.12.199.184<br />\n[Wrn] [<a data-is-external-link=\"true\" href=\"http://Event.cc:61\" rel=\"nofollow\">Event.cc:61</a>] Warning: Deleting a connection right after creation. Make sure to save the ConnectionPtr from a Connect call<br />\n[Wrn] [<a data-is-external-link=\"true\" href=\"http://GuiIface.cc:119\" rel=\"nofollow\">GuiIface.cc:119</a>] JPEG parameter struct mismatch: library thinks size is 632, caller expects 664<br />\nSegmentation fault (core dumped)</p>\n<p>\u200c</p>\n<p>When launching with gdb attached, the backtrace only shows:</p>\n<p>\u200c</p>\n<p>Thread 1 \"gzclient\" received signal SIGSEGV, Segmentation fault.<br />\n0x00007ffff3d034de in ____longjmp_chk () from /lib64/libc.so.6<br />\n(gdb) bt<br />\n#0  0x00007ffff3d034de in ____longjmp_chk () from /lib64/libc.so.6<br />\n<a href=\"#!/osrf/gazebo/issues/1/documentation-page-quick-start-is-empty\" rel=\"nofollow\" title=\"documentation page &quot;quick start&quot; is empty\" class=\"ap-connect-link\"><s>#1</s></a>  0x40554107a766ecb0 in ?? ()<br />\nBacktrace stopped: Cannot access memory at address 0x4dfaea878771419f</p>\n<p>\u200c</p>\n<p>I can see the splashscreen rectangle (without any content), but unfortunately that\u2019s it.   </p>\n<p>I am just wondering if someone here knows anything?</p>\n<p>\u200c</p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": {"name": "all", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/225575.json"}}}, "edited_on": null, "created_on": "2020-03-06T12:59:24.789208+00:00", "milestone": null, "updated_on": "2020-03-07T18:30:48.853172+00:00", "type": "issue", "id": 2699}