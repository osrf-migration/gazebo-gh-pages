{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2374/comments/41063216.json"}, "html": {"href": "#!/osrf/gazebo/issues/2374#comment-41063216"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2374.json"}}, "type": "issue", "id": 2374, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "How to get the joint axis in body frame?"}, "content": {"raw": "Either `Joint::LocalAxis` or `Joint::GetLocalAxis` should give what you want:\n\n* http://gazebosim.org/api/dev/classgazebo_1_1physics_1_1Joint.html#a3231771acc1d1630e81d2c2b22e35509\n* http://gazebosim.org/api/dev/classgazebo_1_1physics_1_1Joint.html#af18714a1745f52dbd516439ce8a72574\n\nI'm guessing the documentation isn't clear enough. Do you have any ideas for how we could improve the phrasing?", "markup": "markdown", "html": "<p>Either <code>Joint::LocalAxis</code> or <code>Joint::GetLocalAxis</code> should give what you want:</p>\n<ul>\n<li><a href=\"http://gazebosim.org/api/dev/classgazebo_1_1physics_1_1Joint.html#a3231771acc1d1630e81d2c2b22e35509\" rel=\"nofollow\" class=\"ap-connect-link\">http://gazebosim.org/api/dev/classgazebo_1_1physics_1_1Joint.html#a3231771acc1d1630e81d2c2b22e35509</a></li>\n<li><a href=\"http://gazebosim.org/api/dev/classgazebo_1_1physics_1_1Joint.html#af18714a1745f52dbd516439ce8a72574\" rel=\"nofollow\" class=\"ap-connect-link\">http://gazebosim.org/api/dev/classgazebo_1_1physics_1_1Joint.html#af18714a1745f52dbd516439ce8a72574</a></li>\n</ul>\n<p>I'm guessing the documentation isn't clear enough. Do you have any ideas for how we could improve the phrasing?</p>", "type": "rendered"}, "created_on": "2017-11-07T17:53:18.936524+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 41063216}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2374/comments/41064383.json"}, "html": {"href": "#!/osrf/gazebo/issues/2374#comment-41064383"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2374.json"}}, "type": "issue", "id": 2374, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "How to get the joint axis in body frame?"}, "content": {"raw": "Hmm I didn't see the Joint::LocalAxis one, but I tried Joint::GetLocalAxis and the value of that changed as the robot moved. I'll try Joint::LocalAxis and hope that works. Thanks.\n\nAs far as the phrasing goes, I feel like what Joint::GetLocalAxis returns isn't what the documentation describes it as. A method called GetLocalAxis, at least to me, leads me to believe it's going to give me \nthe joint axis in body frame, which for a 1 dof revolute should be a constant vector.\n\nAlso whoops didn't realize I created this w/o signing in.", "markup": "markdown", "html": "<p>Hmm I didn't see the Joint::LocalAxis one, but I tried Joint::GetLocalAxis and the value of that changed as the robot moved. I'll try Joint::LocalAxis and hope that works. Thanks.</p>\n<p>As far as the phrasing goes, I feel like what Joint::GetLocalAxis returns isn't what the documentation describes it as. A method called GetLocalAxis, at least to me, leads me to believe it's going to give me \nthe joint axis in body frame, which for a 1 dof revolute should be a constant vector.</p>\n<p>Also whoops didn't realize I created this w/o signing in.</p>", "type": "rendered"}, "created_on": "2017-11-07T18:54:07.296884+00:00", "user": {"display_name": "Jordan Lack", "uuid": "{a47ca146-169c-4fcf-b59f-8410d9f676ff}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Ba47ca146-169c-4fcf-b59f-8410d9f676ff%7D"}, "html": {"href": "https://bitbucket.org/%7Ba47ca146-169c-4fcf-b59f-8410d9f676ff%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:82c7a832-85b7-45f4-86fc-e63688f35a2d/e5a6704f-a784-4c66-94ff-f7a9c914403a/128"}}, "nickname": "jordanlack", "type": "user", "account_id": "557058:82c7a832-85b7-45f4-86fc-e63688f35a2d"}, "updated_on": "2017-11-07T20:37:02.672299+00:00", "type": "issue_comment", "id": 41064383}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2374/comments/41066134.json"}, "html": {"href": "#!/osrf/gazebo/issues/2374#comment-41066134"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2374.json"}}, "type": "issue", "id": 2374, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "How to get the joint axis in body frame?"}, "content": {"raw": "Looks like ```Joint::LocalAxis``` doesn't exist or is inaccessible(not sure, just says call doesn't exist), and ```Joint::GetLocalAxis``` behaves as if it's state dependent", "markup": "markdown", "html": "<p>Looks like <code>Joint::LocalAxis</code> doesn't exist or is inaccessible(not sure, just says call doesn't exist), and <code>Joint::GetLocalAxis</code> behaves as if it's state dependent</p>", "type": "rendered"}, "created_on": "2017-11-07T20:38:09.707792+00:00", "user": {"display_name": "Jordan Lack", "uuid": "{a47ca146-169c-4fcf-b59f-8410d9f676ff}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Ba47ca146-169c-4fcf-b59f-8410d9f676ff%7D"}, "html": {"href": "https://bitbucket.org/%7Ba47ca146-169c-4fcf-b59f-8410d9f676ff%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:82c7a832-85b7-45f4-86fc-e63688f35a2d/e5a6704f-a784-4c66-94ff-f7a9c914403a/128"}}, "nickname": "jordanlack", "type": "user", "account_id": "557058:82c7a832-85b7-45f4-86fc-e63688f35a2d"}, "updated_on": null, "type": "issue_comment", "id": 41066134}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2374/comments/41066269.json"}, "html": {"href": "#!/osrf/gazebo/issues/2374#comment-41066269"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2374.json"}}, "type": "issue", "id": 2374, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "How to get the joint axis in body frame?"}, "content": {"raw": "`Joint::LocalAxis` was added in gazebo8.", "markup": "markdown", "html": "<p><code>Joint::LocalAxis</code> was added in gazebo8.</p>", "type": "rendered"}, "created_on": "2017-11-07T20:47:00.981438+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 41066269}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2374/comments/41066344.json"}, "html": {"href": "#!/osrf/gazebo/issues/2374#comment-41066344"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2374.json"}}, "type": "issue", "id": 2374, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "How to get the joint axis in body frame?"}, "content": {"raw": "Which version of gazebo are you using? In gazebo 7.8.1, [Joint::GetLocalAxis](#!/osrf/gazebo/src/gazebo7_7.8.1/gazebo/physics/Joint.cc#Joint.cc-431:443) is just pulling data out of an sdf object. I don't think the sdf object is modified by anything else.", "markup": "markdown", "html": "<p>Which version of gazebo are you using? In gazebo 7.8.1, <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/gazebo7_7.8.1/gazebo/physics/Joint.cc#Joint.cc-431:443\" rel=\"nofollow\">Joint::GetLocalAxis</a> is just pulling data out of an sdf object. I don't think the sdf object is modified by anything else.</p>", "type": "rendered"}, "created_on": "2017-11-07T20:52:00.497142+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-11-07T20:52:12.227199+00:00", "type": "issue_comment", "id": 41066344}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2374/comments/41068325.json"}, "html": {"href": "#!/osrf/gazebo/issues/2374#comment-41068325"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2374.json"}}, "type": "issue", "id": 2374, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "How to get the joint axis in body frame?"}, "content": {"raw": "Ok so I was incorrect in one of my previous statements. The call to ```Joint::GetLocalAxis``` isn't state dependent; however, it doesn't match the axis called out in the urdf. In the urdf my joint axis is ```0 0 1``` but the following line in my gazebo plugin,\n```\ngzmsg << this->joint->GetName() << \": \" << this->joint->GetLocalAxis(0) << std::endl;\n```\nyields in the console,\n```\nfore_port_joint: -0.877583 0.479426 0\n```\nI assume this means it's just expressed in some other frame, but i'm not sure what frame that is.", "markup": "markdown", "html": "<p>Ok so I was incorrect in one of my previous statements. The call to <code>Joint::GetLocalAxis</code> isn't state dependent; however, it doesn't match the axis called out in the urdf. In the urdf my joint axis is <code>0 0 1</code> but the following line in my gazebo plugin,</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">gzmsg</span> <span class=\"o\">&lt;&lt;</span> <span class=\"nt\">this-</span><span class=\"o\">&gt;</span><span class=\"nt\">joint-</span><span class=\"o\">&gt;</span><span class=\"nt\">GetName</span><span class=\"o\">()</span> <span class=\"o\">&lt;&lt;</span> <span class=\"s2\">&quot;: &quot;</span> <span class=\"o\">&lt;&lt;</span> <span class=\"nt\">this-</span><span class=\"o\">&gt;</span><span class=\"nt\">joint-</span><span class=\"o\">&gt;</span><span class=\"nt\">GetLocalAxis</span><span class=\"o\">(</span><span class=\"nt\">0</span><span class=\"o\">)</span> <span class=\"o\">&lt;&lt;</span> <span class=\"nt\">std</span><span class=\"p\">::</span><span class=\"nd\">endl</span><span class=\"o\">;</span>\n</pre></div>\n\n\n<p>yields in the console,</p>\n<div class=\"codehilite\"><pre><span></span>fore_port_joint: -0.877583 0.479426 0\n</pre></div>\n\n\n<p>I assume this means it's just expressed in some other frame, but i'm not sure what frame that is.</p>", "type": "rendered"}, "created_on": "2017-11-07T23:08:05.247421+00:00", "user": {"display_name": "Jordan Lack", "uuid": "{a47ca146-169c-4fcf-b59f-8410d9f676ff}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Ba47ca146-169c-4fcf-b59f-8410d9f676ff%7D"}, "html": {"href": "https://bitbucket.org/%7Ba47ca146-169c-4fcf-b59f-8410d9f676ff%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:82c7a832-85b7-45f4-86fc-e63688f35a2d/e5a6704f-a784-4c66-94ff-f7a9c914403a/128"}}, "nickname": "jordanlack", "type": "user", "account_id": "557058:82c7a832-85b7-45f4-86fc-e63688f35a2d"}, "updated_on": "2017-11-07T23:08:20.689892+00:00", "type": "issue_comment", "id": 41068325}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2374/comments/41095367.json"}, "html": {"href": "#!/osrf/gazebo/issues/2374#comment-41095367"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2374.json"}}, "type": "issue", "id": 2374, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "How to get the joint axis in body frame?"}, "content": {"raw": "The axis xyz value is expressed in the joint frame, which is offset from the child link frame by the joint `<pose>` value. If the child link of that joint was itself a child of a fixed joint, then you could get a rotational offset during the fixed joint reduction process (see [sdformat pull request 352](https://bitbucket.org/osrf/sdformat/pull-requests/352/add-preservefixedjoint-option-to-the-urdf/diff) for more info). Do you have any fixed joints?", "markup": "markdown", "html": "<p>The axis xyz value is expressed in the joint frame, which is offset from the child link frame by the joint <code>&lt;pose&gt;</code> value. If the child link of that joint was itself a child of a fixed joint, then you could get a rotational offset during the fixed joint reduction process (see <a data-is-external-link=\"true\" href=\"https://bitbucket.org/osrf/sdformat/pull-requests/352/add-preservefixedjoint-option-to-the-urdf/diff\" rel=\"nofollow\">sdformat pull request 352</a> for more info). Do you have any fixed joints?</p>", "type": "rendered"}, "created_on": "2017-11-09T00:23:34.874585+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 41095367}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2374/comments/41108793.json"}, "html": {"href": "#!/osrf/gazebo/issues/2374#comment-41108793"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2374.json"}}, "type": "issue", "id": 2374, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "How to get the joint axis in body frame?"}, "content": {"raw": "Hmm ok I don't fully understand, but i'm assuming that's what's happening. The model does have fixed joints", "markup": "markdown", "html": "<p>Hmm ok I don't fully understand, but i'm assuming that's what's happening. The model does have fixed joints</p>", "type": "rendered"}, "created_on": "2017-11-09T13:34:39.316892+00:00", "user": {"display_name": "Jordan Lack", "uuid": "{a47ca146-169c-4fcf-b59f-8410d9f676ff}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Ba47ca146-169c-4fcf-b59f-8410d9f676ff%7D"}, "html": {"href": "https://bitbucket.org/%7Ba47ca146-169c-4fcf-b59f-8410d9f676ff%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:82c7a832-85b7-45f4-86fc-e63688f35a2d/e5a6704f-a784-4c66-94ff-f7a9c914403a/128"}}, "nickname": "jordanlack", "type": "user", "account_id": "557058:82c7a832-85b7-45f4-86fc-e63688f35a2d"}, "updated_on": null, "type": "issue_comment", "id": 41108793}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2374/comments/41144135.json"}, "html": {"href": "#!/osrf/gazebo/issues/2374#comment-41144135"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2374.json"}}, "type": "issue", "id": 2374, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "How to get the joint axis in body frame?"}, "content": {"raw": "So long story short there should be a way to recover the local axis of a joint in its own frame which. Anybody know how to do that?", "markup": "markdown", "html": "<p>So long story short there should be a way to recover the local axis of a joint in its own frame which. Anybody know how to do that?</p>", "type": "rendered"}, "created_on": "2017-11-10T19:59:14.077493+00:00", "user": {"display_name": "Jordan Lack", "uuid": "{a47ca146-169c-4fcf-b59f-8410d9f676ff}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Ba47ca146-169c-4fcf-b59f-8410d9f676ff%7D"}, "html": {"href": "https://bitbucket.org/%7Ba47ca146-169c-4fcf-b59f-8410d9f676ff%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:82c7a832-85b7-45f4-86fc-e63688f35a2d/e5a6704f-a784-4c66-94ff-f7a9c914403a/128"}}, "nickname": "jordanlack", "type": "user", "account_id": "557058:82c7a832-85b7-45f4-86fc-e63688f35a2d"}, "updated_on": null, "type": "issue_comment", "id": 41144135}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2374/comments/41144427.json"}, "html": {"href": "#!/osrf/gazebo/issues/2374#comment-41144427"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2374.json"}}, "type": "issue", "id": 2374, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "How to get the joint axis in body frame?"}, "content": {"raw": "If you have fixed joints that are lumping links together, then it may change some of the reference frames. I would try converting your urdf to an sdf with `gz sdf -p` and looking at the xyz values to see if they are what you expect.", "markup": "markdown", "html": "<p>If you have fixed joints that are lumping links together, then it may change some of the reference frames. I would try converting your urdf to an sdf with <code>gz sdf -p</code> and looking at the xyz values to see if they are what you expect.</p>", "type": "rendered"}, "created_on": "2017-11-10T20:19:29.841296+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 41144427}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2374/comments/41146307.json"}, "html": {"href": "#!/osrf/gazebo/issues/2374#comment-41146307"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2374.json"}}, "type": "issue", "id": 2374, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "How to get the joint axis in body frame?"}, "content": {"raw": "It looks like the SDF expresses the joint axes in some other frame because all of the joint axes in the SDF are not what is in the URDF. I feel like there has to be some simple way to programmatically get a joints axis in body frame that shouldn't be dependent on any fixed joints.", "markup": "markdown", "html": "<p>It looks like the SDF expresses the joint axes in some other frame because all of the joint axes in the SDF are not what is in the URDF. I feel like there has to be some simple way to programmatically get a joints axis in body frame that shouldn't be dependent on any fixed joints.</p>", "type": "rendered"}, "created_on": "2017-11-10T23:07:54.019180+00:00", "user": {"display_name": "Jordan Lack", "uuid": "{a47ca146-169c-4fcf-b59f-8410d9f676ff}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Ba47ca146-169c-4fcf-b59f-8410d9f676ff%7D"}, "html": {"href": "https://bitbucket.org/%7Ba47ca146-169c-4fcf-b59f-8410d9f676ff%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:82c7a832-85b7-45f4-86fc-e63688f35a2d/e5a6704f-a784-4c66-94ff-f7a9c914403a/128"}}, "nickname": "jordanlack", "type": "user", "account_id": "557058:82c7a832-85b7-45f4-86fc-e63688f35a2d"}, "updated_on": null, "type": "issue_comment", "id": 41146307}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2374/comments/41147046.json"}, "html": {"href": "#!/osrf/gazebo/issues/2374#comment-41147046"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2374.json"}}, "type": "issue", "id": 2374, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "How to get the joint axis in body frame?"}, "content": {"raw": "I was asking about SDF so much because the `GetLocalAxis` reads from the sdf. An alternative is to `Joint::GetGlobalAxis(i)` and then rotate it into the frame that you care about.", "markup": "markdown", "html": "<p>I was asking about SDF so much because the <code>GetLocalAxis</code> reads from the sdf. An alternative is to <code>Joint::GetGlobalAxis(i)</code> and then rotate it into the frame that you care about.</p>", "type": "rendered"}, "created_on": "2017-11-11T01:06:44.405068+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 41147046}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2374/comments/41151478.json"}, "html": {"href": "#!/osrf/gazebo/issues/2374#comment-41151478"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2374.json"}}, "type": "issue", "id": 2374, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "How to get the joint axis in body frame?"}, "content": {"raw": "It's hard to know if the axes in the SDF are what I expect bc they are in some other frame. For example one axis I care about in body frame is ```<axis>0 0 1</axis>``` but the SDF says ```<axis>-0.906308 -0.422618 0<axis>```. I'm not sure what frame that's expressed in.", "markup": "markdown", "html": "<p>It's hard to know if the axes in the SDF are what I expect bc they are in some other frame. For example one axis I care about in body frame is <code>&lt;axis&gt;0 0 1&lt;/axis&gt;</code> but the SDF says <code>&lt;axis&gt;-0.906308 -0.422618 0&lt;axis&gt;</code>. I'm not sure what frame that's expressed in.</p>", "type": "rendered"}, "created_on": "2017-11-11T14:33:23.684981+00:00", "user": {"display_name": "Jordan Lack", "uuid": "{a47ca146-169c-4fcf-b59f-8410d9f676ff}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Ba47ca146-169c-4fcf-b59f-8410d9f676ff%7D"}, "html": {"href": "https://bitbucket.org/%7Ba47ca146-169c-4fcf-b59f-8410d9f676ff%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:82c7a832-85b7-45f4-86fc-e63688f35a2d/e5a6704f-a784-4c66-94ff-f7a9c914403a/128"}}, "nickname": "jordanlack", "type": "user", "account_id": "557058:82c7a832-85b7-45f4-86fc-e63688f35a2d"}, "updated_on": null, "type": "issue_comment", "id": 41151478}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2374/comments/41152557.json"}, "html": {"href": "#!/osrf/gazebo/issues/2374#comment-41152557"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2374.json"}}, "type": "issue", "id": 2374, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "How to get the joint axis in body frame?"}, "content": {"raw": "Also I have tried to use ```Joint::GetGlobalAxis``` and then rotate it to the joint frame and in some joints I get something like the following ```6e-06 0.003983 0.999992``` which is pretty close to ```0 0 1``` but the y-parameter there seems too big to be due to precision errors. The chain to the joint that gave me that is only like 2 joints and not like a 15 dof chain where I can understand some numerical errors accumulating, but ```0.003983``` seems way to large to be a precision thing. That's why i'm still not convinced that this implementation is exactly what i'm looking for.", "markup": "markdown", "html": "<p>Also I have tried to use <code>Joint::GetGlobalAxis</code> and then rotate it to the joint frame and in some joints I get something like the following <code>6e-06 0.003983 0.999992</code> which is pretty close to <code>0 0 1</code> but the y-parameter there seems too big to be due to precision errors. The chain to the joint that gave me that is only like 2 joints and not like a 15 dof chain where I can understand some numerical errors accumulating, but <code>0.003983</code> seems way to large to be a precision thing. That's why i'm still not convinced that this implementation is exactly what i'm looking for.</p>", "type": "rendered"}, "created_on": "2017-11-11T16:57:47.122712+00:00", "user": {"display_name": "Jordan Lack", "uuid": "{a47ca146-169c-4fcf-b59f-8410d9f676ff}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Ba47ca146-169c-4fcf-b59f-8410d9f676ff%7D"}, "html": {"href": "https://bitbucket.org/%7Ba47ca146-169c-4fcf-b59f-8410d9f676ff%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:82c7a832-85b7-45f4-86fc-e63688f35a2d/e5a6704f-a784-4c66-94ff-f7a9c914403a/128"}}, "nickname": "jordanlack", "type": "user", "account_id": "557058:82c7a832-85b7-45f4-86fc-e63688f35a2d"}, "updated_on": null, "type": "issue_comment", "id": 41152557}], "page": 1, "size": 14}