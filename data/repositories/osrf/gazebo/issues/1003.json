{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/1003/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/1003.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/1003/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/1003/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/1003/gzsdf-describe-doc-commands-ignore-version"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/1003/vote"}}, "reporter": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "title": "gzsdf describe/doc commands ignore version number", "component": null, "votes": 0, "watches": 1, "content": {"raw": "The gzsdf command-line help for the `describe` and `doc` commands claim to accept a command-line argument for the sdf version ([gzsdf.cc:31](#!/osrf/gazebo/src/96fc32a7fef668545c8d36754110137fba5ece93/tools/gzsdf.cc?at=default#cl-31)), but the command-line argument is ignored and the latest version is always used.\r\n\r\nTo confirm this for the `describe` command, observe identical shasum's:\r\n~~~\r\n$ gzsdf describe 1.0 | shasum\r\ne8187a31e27cb1a5562a81eb8af66f921e0d7e11  -\r\n$ gzsdf describe 1.2 | shasum\r\ne8187a31e27cb1a5562a81eb8af66f921e0d7e11  -\r\n$ gzsdf describe 1.3 | shasum\r\ne8187a31e27cb1a5562a81eb8af66f921e0d7e11  -\r\n$ gzsdf describe 1.4 | shasum\r\ne8187a31e27cb1a5562a81eb8af66f921e0d7e11  -\r\n~~~\r\n\r\nThe shasum's are not identical for the `doc` command due to time stamps, but it can be confirmed that the latest version is being used by searching for `real_time_update_rate` or `max_step_size` in the resulting documentation, since these parameters were not added until version 1.4.\r\n~~~\r\n$ gzsdf doc 1.4 | grep real_time_update_rate\r\n<a id='15' onclick='highlight(15);' href=\"#real_time_update_rate15\">&ltreal_time_update_rate&gt</a><div style='padding-left:22px;'>\r\n<a name=\"real_time_update_rate15\">&ltreal_time_update_rate&gt</a><div style='padding-left:22px;'>\r\n$ gzsdf doc 1.3 | grep real_time_update_rate\r\n<a id='15' onclick='highlight(15);' href=\"#real_time_update_rate15\">&ltreal_time_update_rate&gt</a><div style='padding-left:22px;'>\r\n<a name=\"real_time_update_rate15\">&ltreal_time_update_rate&gt</a><div style='padding-left:22px;'>\r\n$ gzsdf doc 1.2 | grep real_time_update_rate\r\n<a id='15' onclick='highlight(15);' href=\"#real_time_update_rate15\">&ltreal_time_update_rate&gt</a><div style='padding-left:22px;'>\r\n<a name=\"real_time_update_rate15\">&ltreal_time_update_rate&gt</a><div style='padding-left:22px;'>\r\n$ gzsdf doc 1.0 | grep real_time_update_rate\r\n<a id='15' onclick='highlight(15);' href=\"#real_time_update_rate15\">&ltreal_time_update_rate&gt</a><div style='padding-left:22px;'>\r\n<a name=\"real_time_update_rate15\">&ltreal_time_update_rate&gt</a><div style='padding-left:22px;'>\r\n~~~\r\n\r\nI discovered this while reviewing pull request #878.\r\n\r\nAlso, the online documentation at gazebosim.org/sdf is version 1.4 for all listed versions.", "markup": "markdown", "html": "<p>The gzsdf command-line help for the <code>describe</code> and <code>doc</code> commands claim to accept a command-line argument for the sdf version (<a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/96fc32a7fef668545c8d36754110137fba5ece93/tools/gzsdf.cc?at=default#cl-31\" rel=\"nofollow\">gzsdf.cc:31</a>), but the command-line argument is ignored and the latest version is always used.</p>\n<p>To confirm this for the <code>describe</code> command, observe identical shasum's:</p>\n<div class=\"codehilite\"><pre><span></span>$ gzsdf describe <span class=\"m\">1</span>.0 <span class=\"p\">|</span> shasum\ne8187a31e27cb1a5562a81eb8af66f921e0d7e11  -\n$ gzsdf describe <span class=\"m\">1</span>.2 <span class=\"p\">|</span> shasum\ne8187a31e27cb1a5562a81eb8af66f921e0d7e11  -\n$ gzsdf describe <span class=\"m\">1</span>.3 <span class=\"p\">|</span> shasum\ne8187a31e27cb1a5562a81eb8af66f921e0d7e11  -\n$ gzsdf describe <span class=\"m\">1</span>.4 <span class=\"p\">|</span> shasum\ne8187a31e27cb1a5562a81eb8af66f921e0d7e11  -\n</pre></div>\n\n\n<p>The shasum's are not identical for the <code>doc</code> command due to time stamps, but it can be confirmed that the latest version is being used by searching for <code>real_time_update_rate</code> or <code>max_step_size</code> in the resulting documentation, since these parameters were not added until version 1.4.</p>\n<div class=\"codehilite\"><pre><span></span>$ gzsdf doc 1.4 | grep real_time_update_rate\n<span class=\"nt\">&lt;a</span> <span class=\"na\">id=</span><span class=\"s\">&#39;15&#39;</span> <span class=\"na\">onclick=</span><span class=\"s\">&#39;highlight(15);&#39;</span> <span class=\"na\">href=</span><span class=\"s\">&quot;#real_time_update_rate15&quot;</span><span class=\"nt\">&gt;</span><span class=\"err\">&amp;</span>ltreal_time_update_rate<span class=\"err\">&amp;</span>gt<span class=\"nt\">&lt;/a&gt;&lt;div</span> <span class=\"na\">style=</span><span class=\"s\">&#39;padding-left:22px;&#39;</span><span class=\"nt\">&gt;</span>\n<span class=\"nt\">&lt;a</span> <span class=\"na\">name=</span><span class=\"s\">&quot;real_time_update_rate15&quot;</span><span class=\"nt\">&gt;</span><span class=\"err\">&amp;</span>ltreal_time_update_rate<span class=\"err\">&amp;</span>gt<span class=\"nt\">&lt;/a&gt;&lt;div</span> <span class=\"na\">style=</span><span class=\"s\">&#39;padding-left:22px;&#39;</span><span class=\"nt\">&gt;</span>\n$ gzsdf doc 1.3 | grep real_time_update_rate\n<span class=\"nt\">&lt;a</span> <span class=\"na\">id=</span><span class=\"s\">&#39;15&#39;</span> <span class=\"na\">onclick=</span><span class=\"s\">&#39;highlight(15);&#39;</span> <span class=\"na\">href=</span><span class=\"s\">&quot;#real_time_update_rate15&quot;</span><span class=\"nt\">&gt;</span><span class=\"err\">&amp;</span>ltreal_time_update_rate<span class=\"err\">&amp;</span>gt<span class=\"nt\">&lt;/a&gt;&lt;div</span> <span class=\"na\">style=</span><span class=\"s\">&#39;padding-left:22px;&#39;</span><span class=\"nt\">&gt;</span>\n<span class=\"nt\">&lt;a</span> <span class=\"na\">name=</span><span class=\"s\">&quot;real_time_update_rate15&quot;</span><span class=\"nt\">&gt;</span><span class=\"err\">&amp;</span>ltreal_time_update_rate<span class=\"err\">&amp;</span>gt<span class=\"nt\">&lt;/a&gt;&lt;div</span> <span class=\"na\">style=</span><span class=\"s\">&#39;padding-left:22px;&#39;</span><span class=\"nt\">&gt;</span>\n$ gzsdf doc 1.2 | grep real_time_update_rate\n<span class=\"nt\">&lt;a</span> <span class=\"na\">id=</span><span class=\"s\">&#39;15&#39;</span> <span class=\"na\">onclick=</span><span class=\"s\">&#39;highlight(15);&#39;</span> <span class=\"na\">href=</span><span class=\"s\">&quot;#real_time_update_rate15&quot;</span><span class=\"nt\">&gt;</span><span class=\"err\">&amp;</span>ltreal_time_update_rate<span class=\"err\">&amp;</span>gt<span class=\"nt\">&lt;/a&gt;&lt;div</span> <span class=\"na\">style=</span><span class=\"s\">&#39;padding-left:22px;&#39;</span><span class=\"nt\">&gt;</span>\n<span class=\"nt\">&lt;a</span> <span class=\"na\">name=</span><span class=\"s\">&quot;real_time_update_rate15&quot;</span><span class=\"nt\">&gt;</span><span class=\"err\">&amp;</span>ltreal_time_update_rate<span class=\"err\">&amp;</span>gt<span class=\"nt\">&lt;/a&gt;&lt;div</span> <span class=\"na\">style=</span><span class=\"s\">&#39;padding-left:22px;&#39;</span><span class=\"nt\">&gt;</span>\n$ gzsdf doc 1.0 | grep real_time_update_rate\n<span class=\"nt\">&lt;a</span> <span class=\"na\">id=</span><span class=\"s\">&#39;15&#39;</span> <span class=\"na\">onclick=</span><span class=\"s\">&#39;highlight(15);&#39;</span> <span class=\"na\">href=</span><span class=\"s\">&quot;#real_time_update_rate15&quot;</span><span class=\"nt\">&gt;</span><span class=\"err\">&amp;</span>ltreal_time_update_rate<span class=\"err\">&amp;</span>gt<span class=\"nt\">&lt;/a&gt;&lt;div</span> <span class=\"na\">style=</span><span class=\"s\">&#39;padding-left:22px;&#39;</span><span class=\"nt\">&gt;</span>\n<span class=\"nt\">&lt;a</span> <span class=\"na\">name=</span><span class=\"s\">&quot;real_time_update_rate15&quot;</span><span class=\"nt\">&gt;</span><span class=\"err\">&amp;</span>ltreal_time_update_rate<span class=\"err\">&amp;</span>gt<span class=\"nt\">&lt;/a&gt;&lt;div</span> <span class=\"na\">style=</span><span class=\"s\">&#39;padding-left:22px;&#39;</span><span class=\"nt\">&gt;</span>\n</pre></div>\n\n\n<p>I discovered this while reviewing <a href=\"#!/osrf/gazebo/pull-requests/878/new-command-line-tool\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #878</a>.</p>\n<p>Also, the online documentation at <a href=\"http://gazebosim.org/sdf\" rel=\"nofollow\" class=\"ap-connect-link\">gazebosim.org/sdf</a> is version 1.4 for all listed versions.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "all", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/225575.json"}}}, "edited_on": null, "created_on": "2014-01-14T00:26:10.995233+00:00", "milestone": null, "updated_on": "2016-09-14T19:21:54.503169+00:00", "type": "issue", "id": 1003}