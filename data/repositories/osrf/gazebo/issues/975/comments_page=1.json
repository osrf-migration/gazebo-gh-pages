{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/975/comments/7272172.json"}, "html": {"href": "#!/osrf/gazebo/issues/975#comment-7272172"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/975.json"}}, "type": "issue", "id": 975, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "DART joint springs are partially working."}, "content": {"raw": "Implemented by https://bitbucket.org/jlee02/gazebo_dart/commits/ff68bbb52e6428d13486b6ddbbd3c59b95892154.", "markup": "markdown", "html": "<p>Implemented by <a href=\"https://bitbucket.org/jlee02/gazebo_dart/commits/ff68bbb52e6428d13486b6ddbbd3c59b95892154\" rel=\"nofollow\" class=\"ap-connect-link\">https://bitbucket.org/jlee02/gazebo_dart/commits/ff68bbb52e6428d13486b6ddbbd3c59b95892154</a>.</p>", "type": "rendered"}, "created_on": "2013-12-11T07:45:10.939464+00:00", "user": {"display_name": "Jeongseok Lee", "uuid": "{3907b560-aed7-43bd-bfa9-fd9873322291}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3907b560-aed7-43bd-bfa9-fd9873322291%7D"}, "html": {"href": "https://bitbucket.org/%7B3907b560-aed7-43bd-bfa9-fd9873322291%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/242819b368397b2b4cddf273b2ba9bf8d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJL-0.png"}}, "nickname": "jlee02", "type": "user", "account_id": "557058:e3fbdece-a1d8-4fb6-a9f1-236ecb09bd9d"}, "updated_on": null, "type": "issue_comment", "id": 7272172}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/975/comments/7272178.json"}, "html": {"href": "#!/osrf/gazebo/issues/975#comment-7272178"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/975.json"}}, "type": "issue", "id": 975, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "DART joint springs are partially working."}, "content": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "created_on": "2013-12-11T07:45:33.266719+00:00", "user": {"display_name": "Jeongseok Lee", "uuid": "{3907b560-aed7-43bd-bfa9-fd9873322291}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3907b560-aed7-43bd-bfa9-fd9873322291%7D"}, "html": {"href": "https://bitbucket.org/%7B3907b560-aed7-43bd-bfa9-fd9873322291%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/242819b368397b2b4cddf273b2ba9bf8d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJL-0.png"}}, "nickname": "jlee02", "type": "user", "account_id": "557058:e3fbdece-a1d8-4fb6-a9f1-236ecb09bd9d"}, "updated_on": null, "type": "issue_comment", "id": 7272178}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/975/comments/7302511.json"}, "html": {"href": "#!/osrf/gazebo/issues/975#comment-7302511"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/975.json"}}, "type": "issue", "id": 975, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "DART joint springs are partially working."}, "content": {"raw": "Requires [unreleased dart code](https://github.com/dartsim/dart/commit/c2ac902ed445f4899f2c9e21ab5e13c20e8f9a71)", "markup": "markdown", "html": "<p>Requires <a data-is-external-link=\"true\" href=\"https://github.com/dartsim/dart/commit/c2ac902ed445f4899f2c9e21ab5e13c20e8f9a71\" rel=\"nofollow\">unreleased dart code</a></p>", "type": "rendered"}, "created_on": "2013-12-12T18:50:21.015665+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 7302511}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/975/comments/7305747.json"}, "html": {"href": "#!/osrf/gazebo/issues/975#comment-7305747"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/975.json"}}, "type": "issue", "id": 975, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "DART joint springs are partially working."}, "content": {"raw": "The commit you mentioned above depends on [one other](https://bitbucket.org/jlee02/gazebo_dart/commits/aa13f23993c2da9fde68416d574a12516abae1d6?at=gazebo_dart)", "markup": "markdown", "html": "<p>The commit you mentioned above depends on <a data-is-external-link=\"true\" href=\"https://bitbucket.org/jlee02/gazebo_dart/commits/aa13f23993c2da9fde68416d574a12516abae1d6?at=gazebo_dart\" rel=\"nofollow\">one other</a></p>", "type": "rendered"}, "created_on": "2013-12-12T23:19:41.089428+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 7305747}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/975/comments/7306230.json"}, "html": {"href": "#!/osrf/gazebo/issues/975#comment-7306230"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/975.json"}}, "type": "issue", "id": 975, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "DART joint springs are partially working."}, "content": {"raw": "@jlee02 Can you merge the latest from osrf/gazebo branch gazebo_dart back to your fork? I tried testing your code, but it's not compiling. I think @hsu made some changes after you made the initial fix for the joint springs.\n\nAlso, we have to make sure that adding support for the springs does not cause compilation problems for people using older versions of dart.", "markup": "markdown", "html": "<p>@jlee02 Can you merge the latest from <a href=\"#!/osrf/gazebo\" rel=\"nofollow\" class=\"ap-connect-link\">osrf/gazebo</a> branch gazebo_dart back to your fork? I tried testing your code, but it's not compiling. I think @hsu made some changes after you made the initial fix for the joint springs.</p>\n<p>Also, we have to make sure that adding support for the springs does not cause compilation problems for people using older versions of dart.</p>", "type": "rendered"}, "created_on": "2013-12-13T00:27:57.435062+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 7306230}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/975/comments/9152115.json"}, "html": {"href": "#!/osrf/gazebo/issues/975#comment-9152115"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/975.json"}}, "type": "issue", "id": 975, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "DART joint springs are partially working."}, "content": {"raw": "I merged branch `gazebo_dart` (it is closed now) back to my fork `gazebo_3.0_dart_4.0` branch. It is compiling with dart [`inverse_kinematics` branch](https://github.com/dartsim/dart/pull/154). It will be merged back to master branch soon.\n\nAlso I split gazebo_dart branch into `gazebo_2.2_dart_3.0` and `gazebo_3.0_dart_4.0` to keep supporting DART 3.0 for Gazebo 2.2.", "markup": "markdown", "html": "<p>I merged branch <code>gazebo_dart</code> (it is closed now) back to my fork <code>gazebo_3.0_dart_4.0</code> branch. It is compiling with dart <a data-is-external-link=\"true\" href=\"https://github.com/dartsim/dart/pull/154\" rel=\"nofollow\"><code>inverse_kinematics</code> branch</a>. It will be merged back to master branch soon.</p>\n<p>Also I split gazebo_dart branch into <code>gazebo_2.2_dart_3.0</code> and <code>gazebo_3.0_dart_4.0</code> to keep supporting DART 3.0 for Gazebo 2.2.</p>", "type": "rendered"}, "created_on": "2014-03-16T23:30:24.689903+00:00", "user": {"display_name": "Jeongseok Lee", "uuid": "{3907b560-aed7-43bd-bfa9-fd9873322291}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3907b560-aed7-43bd-bfa9-fd9873322291%7D"}, "html": {"href": "https://bitbucket.org/%7B3907b560-aed7-43bd-bfa9-fd9873322291%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/242819b368397b2b4cddf273b2ba9bf8d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJL-0.png"}}, "nickname": "jlee02", "type": "user", "account_id": "557058:e3fbdece-a1d8-4fb6-a9f1-236ecb09bd9d"}, "updated_on": "2014-03-16T23:31:43.041405+00:00", "type": "issue_comment", "id": 9152115}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/975/comments/10711282.json"}, "html": {"href": "#!/osrf/gazebo/issues/975#comment-10711282"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/975.json"}}, "type": "issue", "id": 975, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "DART joint springs are partially working."}, "content": {"raw": "I've enabled parts of the joint spring test in f3c03ceb2eca. Joint limit stiffness is not yet working, and the joint energy conservation has lower accuracy than ODE and simbody.", "markup": "markdown", "html": "<p>I've enabled parts of the joint spring test in <a href=\"#!/osrf/gazebo/commits/f3c03ceb2eca\" rel=\"nofollow\" class=\"ap-connect-link\">f3c03ceb2eca</a>. Joint limit stiffness is not yet working, and the joint energy conservation has lower accuracy than ODE and simbody.</p>", "type": "rendered"}, "created_on": "2014-06-13T17:17:26.771990+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 10711282}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/975/comments/10711297.json"}, "html": {"href": "#!/osrf/gazebo/issues/975#comment-10711297"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/975.json"}}, "type": "issue", "id": 975, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "DART joint springs are partially working."}, "content": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "created_on": "2014-06-13T17:18:25.564854+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 10711297}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/975/comments/10816390.json"}, "html": {"href": "#!/osrf/gazebo/issues/975#comment-10816390"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/975.json"}}, "type": "issue", "id": 975, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "DART joint springs are partially working."}, "content": {"raw": "@jlee02 Do you know why the accuracy is lower?  Is it the underlying method? Thanks.", "markup": "markdown", "html": "<p>@jlee02 Do you know why the accuracy is lower?  Is it the underlying method? Thanks.</p>", "type": "rendered"}, "created_on": "2014-06-19T18:23:14.252367+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": null, "type": "issue_comment", "id": 10816390}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/975/comments/11235687.json"}, "html": {"href": "#!/osrf/gazebo/issues/975#comment-11235687"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/975.json"}}, "type": "issue", "id": 975, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "DART joint springs are partially working."}, "content": {"raw": "Somehow the SpringDamperTest is broken again with dart 4.1. The energy checks at [joint_test.cc:352](#!/osrf/gazebo/src/4f4e5ffdf79ba3f813de773ee596fa1e26a8134a/test/integration/joint_test.cc?at=default#cl-352) are failing and eventually nan's are generated, which causes the test to proceed very slowly. The following patch prevents the nan's but doesn't fix the energy problem:\n~~~\ndiff -r 7f4841ef8279 test/worlds/spring_damper_test.world\n--- a/test/worlds/spring_damper_test.world\tMon Jul 14 16:20:34 2014 -0700\n+++ b/test/worlds/spring_damper_test.world\tMon Jul 14 16:58:52 2014 -0700\n@@ -625,7 +625,7 @@\n         <pose>0.0 0.0 0.0 0.0 0.0 0.0</pose>\n         <axis>\n           <limit>\n-            <lower>-1.0</lower>\n+            <lower>-0.1</lower>\n             <upper>1.0</upper>\n           </limit>\n           <xyz>0.0 0.0 1.0</xyz>\n~~~\nIt was tricky to notice this because INTEGRATION_joint_test requires the latest sdformat version (try building on trusty with `libsdformat2-dev-prerelease` installed). Then run the test as follows:\n~~~\n$ test/integration/INTEGRATION_joint_test --gtest_filter=\"*/3\"\n~~~\nIf there's not an easy fix for this, I'll have to disable the test again.\n\nUPDATE:\n\nBy further disabling the energy check, I see that the only other test failure is on line 384:\n~~~\ndiff -r 7f4841ef8279 test/integration/joint_test.cc\n--- a/test/integration/joint_test.cc\tMon Jul 14 16:20:34 2014 -0700\n+++ b/test/integration/joint_test.cc\tMon Jul 14 17:02:50 2014 -0700\n@@ -349,7 +349,7 @@\n               << \", see #975\"\n               << std::endl;\n       }\n-      EXPECT_NEAR(energy / energyPluginImplicit0, 1.0, 2e-2);\n+      //EXPECT_NEAR(energy / energyPluginImplicit0, 1.0, 2e-2);\n     }\n     else\n     {\n~~~\n~~~\n[ RUN      ] PhysicsEngines/JointTest.SpringDamperTest/3\n[Dbg] [joint_test.hh:59] Params: (0x473c00 pointing to \"dart\", 0x4766e1 pointing to \"\")\n[Msg] Waiting for master.\n[Msg] Connected to gazebo master @ http://127.0.0.1:11345\n[Msg] Publicized address: 192.168.1.182\n[Wrn] [Publisher.cc:131] Queue limit reached for topic /gazebo/default/pose/local/info, deleting message. This warning is printed only once.\n[Dbg] [ServerFixture.cc:144] ServerFixture load in 0.8 seconds, timeout after 600 seconds\n[Err] [joint_test.cc:347] dart has reduced accuracy for spring energy conservation, see #975\n[Err] [joint_test.cc:373] dart doesn't support joint limit stiffness, see #975\ngazebo/test/integration/joint_test.cc:384: Failure\nValue of: 17\nExpected: cyclesPluginImplicit\nWhich is: 1\n[Dbg] [ServerFixture.cc:95] ServerFixture::Unload\n[  FAILED  ] PhysicsEngines/JointTest.SpringDamperTest/3, where GetParam() = (0x473c00 pointing to \"dart\", 0x4766e1 pointing to \"\") (6317 ms)\n~~~", "markup": "markdown", "html": "<p>Somehow the SpringDamperTest is broken again with dart 4.1. The energy checks at <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/4f4e5ffdf79ba3f813de773ee596fa1e26a8134a/test/integration/joint_test.cc?at=default#cl-352\" rel=\"nofollow\">joint_test.cc:352</a> are failing and eventually nan's are generated, which causes the test to proceed very slowly. The following patch prevents the nan's but doesn't fix the energy problem:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gh\">diff -r 7f4841ef8279 test/worlds/spring_damper_test.world</span>\n<span class=\"gd\">--- a/test/worlds/spring_damper_test.world  Mon Jul 14 16:20:34 2014 -0700</span>\n<span class=\"gi\">+++ b/test/worlds/spring_damper_test.world  Mon Jul 14 16:58:52 2014 -0700</span>\n<span class=\"gu\">@@ -625,7 +625,7 @@</span>\n         &lt;pose&gt;0.0 0.0 0.0 0.0 0.0 0.0&lt;/pose&gt;\n         &lt;axis&gt;\n           &lt;limit&gt;\n<span class=\"gd\">-            &lt;lower&gt;-1.0&lt;/lower&gt;</span>\n<span class=\"gi\">+            &lt;lower&gt;-0.1&lt;/lower&gt;</span>\n             &lt;upper&gt;1.0&lt;/upper&gt;\n           &lt;/limit&gt;\n           &lt;xyz&gt;0.0 0.0 1.0&lt;/xyz&gt;\n</pre></div>\n\n\n<p>It was tricky to notice this because INTEGRATION_joint_test requires the latest sdformat version (try building on trusty with <code>libsdformat2-dev-prerelease</code> installed). Then run the test as follows:</p>\n<div class=\"codehilite\"><pre><span></span>$ test/integration/INTEGRATION_joint_test --gtest_filter<span class=\"o\">=</span><span class=\"s2\">&quot;*/3&quot;</span>\n</pre></div>\n\n\n<p>If there's not an easy fix for this, I'll have to disable the test again.</p>\n<p>UPDATE:</p>\n<p>By further disabling the energy check, I see that the only other test failure is on line 384:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gh\">diff -r 7f4841ef8279 test/integration/joint_test.cc</span>\n<span class=\"gd\">--- a/test/integration/joint_test.cc    Mon Jul 14 16:20:34 2014 -0700</span>\n<span class=\"gi\">+++ b/test/integration/joint_test.cc    Mon Jul 14 17:02:50 2014 -0700</span>\n<span class=\"gu\">@@ -349,7 +349,7 @@</span>\n               &lt;&lt; &quot;, see #975&quot;\n               &lt;&lt; std::endl;\n       }\n<span class=\"gd\">-      EXPECT_NEAR(energy / energyPluginImplicit0, 1.0, 2e-2);</span>\n<span class=\"gi\">+      //EXPECT_NEAR(energy / energyPluginImplicit0, 1.0, 2e-2);</span>\n     }\n     else\n     {\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span>[ RUN      ] PhysicsEngines/JointTest.SpringDamperTest/3\n[Dbg] [joint_test.hh:59] Params: (0x473c00 pointing to &quot;dart&quot;, 0x4766e1 pointing to &quot;&quot;)\n[Msg] Waiting for master.\n[Msg] Connected to gazebo master @ http://127.0.0.1:11345\n[Msg] Publicized address: 192.168.1.182\n[Wrn] [Publisher.cc:131] Queue limit reached for topic /gazebo/default/pose/local/info, deleting message. This warning is printed only once.\n[Dbg] [ServerFixture.cc:144] ServerFixture load in 0.8 seconds, timeout after 600 seconds\n[Err] [joint_test.cc:347] dart has reduced accuracy for spring energy conservation, see #975\n[Err] [joint_test.cc:373] dart doesn&#39;t support joint limit stiffness, see #975\ngazebo/test/integration/joint_test.cc:384: Failure\nValue of: 17\nExpected: cyclesPluginImplicit\nWhich is: 1\n[Dbg] [ServerFixture.cc:95] ServerFixture::Unload\n[  FAILED  ] PhysicsEngines/JointTest.SpringDamperTest/3, where GetParam() = (0x473c00 pointing to &quot;dart&quot;, 0x4766e1 pointing to &quot;&quot;) (6317 ms)\n</pre></div>", "type": "rendered"}, "created_on": "2014-07-15T00:00:48.511726+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2014-07-15T00:04:19.648496+00:00", "type": "issue_comment", "id": 11235687}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/975/comments/11235728.json"}, "html": {"href": "#!/osrf/gazebo/issues/975#comment-11235728"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/975.json"}}, "type": "issue", "id": 975, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "DART joint springs are partially working."}, "content": {"raw": "@jlee02 let me know if you have any ideas about how to fix this part of the test.", "markup": "markdown", "html": "<p>@jlee02 let me know if you have any ideas about how to fix this part of the test.</p>", "type": "rendered"}, "created_on": "2014-07-15T00:04:47.733826+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 11235728}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/975/comments/11377746.json"}, "html": {"href": "#!/osrf/gazebo/issues/975#comment-11377746"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/975.json"}}, "type": "issue", "id": 975, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "DART joint springs are partially working."}, "content": {"raw": "I also see the following message several times:\n~~~\nODE Message 3: LCP internal error, s <= 0 (s=0.0000e+00)\n~~~", "markup": "markdown", "html": "<p>I also see the following message several times:</p>\n<div class=\"codehilite\"><pre><span></span>ODE Message 3: LCP internal error, s &lt;= 0 (s=0.0000e+00)\n</pre></div>", "type": "rendered"}, "created_on": "2014-07-22T19:11:56.054597+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 11377746}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/975/comments/11402330.json"}, "html": {"href": "#!/osrf/gazebo/issues/975#comment-11402330"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/975.json"}}, "type": "issue", "id": 975, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "DART joint springs are partially working."}, "content": {"raw": "@karenliu @jlee02 \n\nEarlier in this thread I wrote that this test was working with dart 4.0. I just tested today, and it looks like the test is never worked with dart 4.0. I was confused because the spring test changed with gazebo pull request #1117. I thought that pull request had been carefully tested with dart 4.0, but I was mistaken (the test was failing in Jenkins due to using the wrong version of sdformat).\n\nAt any rate, the test is partially working, so I think it won't be too hard to fix. Several joints with implicit stiffness/damping defined in sdf tags are working, while the failing joint has its stiffness set by a plugin. Perhaps there is a timing issue with when the plugin sets the stiffness?", "markup": "markdown", "html": "<p>@karenliu @jlee02 </p>\n<p>Earlier in this thread I wrote that this test was working with dart 4.0. I just tested today, and it looks like the test is never worked with dart 4.0. I was confused because the spring test changed with gazebo <a href=\"#!/osrf/gazebo/pull-requests/1117/sdf-tags-for-joint-spring-stiffness-and\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #1117</a>. I thought that pull request had been carefully tested with dart 4.0, but I was mistaken (the test was failing in Jenkins due to using the wrong version of sdformat).</p>\n<p>At any rate, the test is partially working, so I think it won't be too hard to fix. Several joints with implicit stiffness/damping defined in sdf tags are working, while the failing joint has its stiffness set by a plugin. Perhaps there is a timing issue with when the plugin sets the stiffness?</p>", "type": "rendered"}, "created_on": "2014-07-23T22:50:28.264870+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 11402330}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/975/comments/30610229.json"}, "html": {"href": "#!/osrf/gazebo/issues/975#comment-30610229"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/975.json"}}, "type": "issue", "id": 975, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "DART joint springs are partially working."}, "content": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "created_on": "2016-09-14T19:22:05.852466+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": null, "type": "issue_comment", "id": 30610229}], "page": 1, "size": 14}