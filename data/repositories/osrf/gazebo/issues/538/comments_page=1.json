{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/538/comments/3259348.json"}, "html": {"href": "#!/osrf/gazebo/issues/538#comment-3259348"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/538.json"}}, "type": "issue", "id": 538, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "gazebo actor sdf 1.3 parser error"}, "content": {"raw": "The actor class within Gazebo hasn't been updated in a while. The soonest OSRF can start looking into the problem is after July 2013. However, we can offer you help and guidance if you want to tackle this problem yourself.", "markup": "markdown", "html": "<p>The actor class within Gazebo hasn't been updated in a while. The soonest OSRF can start looking into the problem is after July 2013. However, we can offer you help and guidance if you want to tackle this problem yourself.</p>", "type": "rendered"}, "created_on": "2013-02-27T16:07:40.522311+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": null, "type": "issue_comment", "id": 3259348}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/538/comments/3259351.json"}, "html": {"href": "#!/osrf/gazebo/issues/538#comment-3259351"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/538.json"}}, "type": "issue", "id": 538, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "gazebo actor sdf 1.3 parser error"}, "content": {"raw": "On hold until Gazebo 2.0", "markup": "markdown", "html": "<p>On hold until Gazebo 2.0</p>", "type": "rendered"}, "created_on": "2013-02-27T16:07:56.641479+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": null, "type": "issue_comment", "id": 3259351}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/538/comments/5114900.json"}, "html": {"href": "#!/osrf/gazebo/issues/538#comment-5114900"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/538.json"}}, "type": "issue", "id": 538, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "gazebo actor sdf 1.3 parser error"}, "content": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "created_on": "2013-07-08T21:58:57.658538+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": null, "type": "issue_comment", "id": 5114900}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/538/comments/10455983.json"}, "html": {"href": "#!/osrf/gazebo/issues/538#comment-10455983"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/538.json"}}, "type": "issue", "id": 538, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "gazebo actor sdf 1.3 parser error"}, "content": {"raw": "I am using Gazebo 3.0 and getting errors for Actor element, such as element[animation] is not defined in SDF. It seems still the character animation is not fixed after v 1.0. Just want to know any predicted time frame for a fix. If it is not going to happen in near future (in one month), could you give some points regarding why this is broken, what sort of effort it needs if I am going to have a fix by myself?  I am desperate in getting a fix for this great feature for the project I am currently involved in.\n\nThank you very much!", "markup": "markdown", "html": "<p>I am using Gazebo 3.0 and getting errors for Actor element, such as element[animation] is not defined in SDF. It seems still the character animation is not fixed after v 1.0. Just want to know any predicted time frame for a fix. If it is not going to happen in near future (in one month), could you give some points regarding why this is broken, what sort of effort it needs if I am going to have a fix by myself?  I am desperate in getting a fix for this great feature for the project I am currently involved in.</p>\n<p>Thank you very much!</p>", "type": "rendered"}, "created_on": "2014-05-30T10:25:02.549907+00:00", "user": {"display_name": "Kalana Ishara", "uuid": "{55c0bffa-a4c1-420a-9174-4c350872595d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B55c0bffa-a4c1-420a-9174-4c350872595d%7D"}, "html": {"href": "https://bitbucket.org/%7B55c0bffa-a4c1-420a-9174-4c350872595d%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/cc3d42219df7e9cfa7750268845b8ca9d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsKI-4.png"}}, "nickname": "pwkalana9", "type": "user", "account_id": "557058:64e63659-54e3-4dd5-9f91-2c1424fbc1fe"}, "updated_on": null, "type": "issue_comment", "id": 10455983}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/538/comments/10503672.json"}, "html": {"href": "#!/osrf/gazebo/issues/538#comment-10503672"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/538.json"}}, "type": "issue", "id": 538, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "gazebo actor sdf 1.3 parser error"}, "content": {"raw": "We will not have a chance to address this issue within a month.\n\nThis feature has been broken for a few years. Significant amount of work is likely required to resurrect this code. I'd start be forking gazebo, and run the example actor world through the debugger.", "markup": "markdown", "html": "<p>We will not have a chance to address this issue within a month.</p>\n<p>This feature has been broken for a few years. Significant amount of work is likely required to resurrect this code. I'd start be forking gazebo, and run the example actor world through the debugger.</p>", "type": "rendered"}, "created_on": "2014-06-02T20:13:06.067878+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": null, "type": "issue_comment", "id": 10503672}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/538/comments/10550845.json"}, "html": {"href": "#!/osrf/gazebo/issues/538#comment-10550845"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/538.json"}}, "type": "issue", "id": 538, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "gazebo actor sdf 1.3 parser error"}, "content": {"raw": "Most of the SDF errors were fixed by updating .world file to comply with actor.sdf of SDF 1.5 version. Then a boost null pointer assertion popped up at following in Actor::AddActorVisual(). Referring to the schemas, I changed GetElement(\"filename\") to GetElement(\"uri\"). \n```\n#!c++\nmeshSdf->GetElement(\"filename\")->Set(this->skinFile);\n\n```\nThen it loaded the actor with skin in Gazebo. Z/Y axis misaligned human character was moved in an approximated circle (as per the trajectory description) without actual walking movements (walk.dae). It seemed only the initial skeleton pose was rendered and thereafter skeleton poses were not processed.  Later it was found, in Scene::PreRender(), it never entered following IF condition, hinting there is no visual bound with pose animation skeleton model.\n\n```\n#!c++\nVisual_M::iterator iter = this->visuals.find((*spIter)->model_id());\nif (iter != this->visuals.end())\n{\n    iter->second->SetSkeletonPose(*(*spIter).get());\n    SkeletonPoseMsgs_L::iterator prev = spIter++;\n    this->skeletonPoseMsgs.erase(prev);\n}\n```\nActually Visual_M map didn't include any visual with the searching ID (unique id). According to below, in Actor::Load(), a different ID was assigned which is not the actual id of actor::actor_pose::actor_visual. Then I modified the ID for that by searching Visual_M for the particular visual name. \n```\n#!c++\nthis->visualId = gazebo::physics::getUniqueId(); \n```\nNow some sort of skeletal animation happens. However the animated human is having a very weird appearance. I verfied the transformations in COLLADA files are passed as is to OrgeNode::SetPosition() and OrgeNode::SetOrientation(). \n\n![skeleton_screenshot.jpeg](data/bitbucket.org/repo/jgXqbo/images/1478468645-skeleton_screenshot.jpeg)\n\nIf I set the bone orientation by;\n\n```\n#!c++\nbone->getInitialOrientation() \n```\nin Visual::SetSkeletonPos() instead of the instantaneous bone transformations, initial pose for the human is loaded correctly, except it is set horizontal than the expected vertical alignment. Curious whether I need to do any operation on raw transformation values read from COLLADA <library_animations> before it is set to OGRE bones. Transformation for each keyframe seems to be local trnasformation, but not the deltas.\n\nA suspicion is whether this is due to the incorrect initial pose setup. That has some explanation why it works if the pose is set to initial pose with unexpected Z/Y direction, but rendered compeletely weird for consecutive frames. Also if the initial pose was not set, some human walk like animation is seen (more recognizable than before), still with scaling and some orientation and fewer deorientation issues.\n![human_like.jpeg](data/bitbucket.org/repo/jgXqbo/images/4114103111-human_like.jpeg)\n\n\nAny suggestion ?\n", "markup": "markdown", "html": "<p>Most of the SDF errors were fixed by updating .world file to comply with actor.sdf of SDF 1.5 version. Then a boost null pointer assertion popped up at following in Actor::AddActorVisual(). Referring to the schemas, I changed GetElement(\"filename\") to GetElement(\"uri\"). </p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"n\">meshSdf</span><span class=\"o\">-&gt;</span><span class=\"n\">GetElement</span><span class=\"p\">(</span><span class=\"s\">&quot;filename&quot;</span><span class=\"p\">)</span><span class=\"o\">-&gt;</span><span class=\"n\">Set</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">skinFile</span><span class=\"p\">);</span>\n</pre></div>\n\n\n<p>Then it loaded the actor with skin in Gazebo. Z/Y axis misaligned human character was moved in an approximated circle (as per the trajectory description) without actual walking movements (walk.dae). It seemed only the initial skeleton pose was rendered and thereafter skeleton poses were not processed.  Later it was found, in Scene::PreRender(), it never entered following IF condition, hinting there is no visual bound with pose animation skeleton model.</p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"n\">Visual_M</span><span class=\"o\">::</span><span class=\"n\">iterator</span> <span class=\"n\">iter</span> <span class=\"o\">=</span> <span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">visuals</span><span class=\"p\">.</span><span class=\"n\">find</span><span class=\"p\">((</span><span class=\"o\">*</span><span class=\"n\">spIter</span><span class=\"p\">)</span><span class=\"o\">-&gt;</span><span class=\"n\">model_id</span><span class=\"p\">());</span>\n<span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"n\">iter</span> <span class=\"o\">!=</span> <span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">visuals</span><span class=\"p\">.</span><span class=\"n\">end</span><span class=\"p\">())</span>\n<span class=\"p\">{</span>\n    <span class=\"n\">iter</span><span class=\"o\">-&gt;</span><span class=\"n\">second</span><span class=\"o\">-&gt;</span><span class=\"n\">SetSkeletonPose</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">spIter</span><span class=\"p\">).</span><span class=\"n\">get</span><span class=\"p\">());</span>\n    <span class=\"n\">SkeletonPoseMsgs_L</span><span class=\"o\">::</span><span class=\"n\">iterator</span> <span class=\"n\">prev</span> <span class=\"o\">=</span> <span class=\"n\">spIter</span><span class=\"o\">++</span><span class=\"p\">;</span>\n    <span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">skeletonPoseMsgs</span><span class=\"p\">.</span><span class=\"n\">erase</span><span class=\"p\">(</span><span class=\"n\">prev</span><span class=\"p\">);</span>\n<span class=\"p\">}</span>\n</pre></div>\n\n\n<p>Actually Visual_M map didn't include any visual with the searching ID (unique id). According to below, in Actor::Load(), a different ID was assigned which is not the actual id of actor::actor_pose::actor_visual. Then I modified the ID for that by searching Visual_M for the particular visual name. </p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">visualId</span> <span class=\"o\">=</span> <span class=\"n\">gazebo</span><span class=\"o\">::</span><span class=\"n\">physics</span><span class=\"o\">::</span><span class=\"n\">getUniqueId</span><span class=\"p\">();</span> \n</pre></div>\n\n\n<p>Now some sort of skeletal animation happens. However the animated human is having a very weird appearance. I verfied the transformations in COLLADA files are passed as is to OrgeNode::SetPosition() and OrgeNode::SetOrientation(). </p>\n<p><img alt=\"skeleton_screenshot.jpeg\" src=\"data/bitbucket.org/repo/jgXqbo/images/1478468645-skeleton_screenshot.jpeg\" /></p>\n<p>If I set the bone orientation by;</p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"n\">bone</span><span class=\"o\">-&gt;</span><span class=\"n\">getInitialOrientation</span><span class=\"p\">()</span> \n</pre></div>\n\n\n<p>in Visual::SetSkeletonPos() instead of the instantaneous bone transformations, initial pose for the human is loaded correctly, except it is set horizontal than the expected vertical alignment. Curious whether I need to do any operation on raw transformation values read from COLLADA &lt;library_animations&gt; before it is set to OGRE bones. Transformation for each keyframe seems to be local trnasformation, but not the deltas.</p>\n<p>A suspicion is whether this is due to the incorrect initial pose setup. That has some explanation why it works if the pose is set to initial pose with unexpected Z/Y direction, but rendered compeletely weird for consecutive frames. Also if the initial pose was not set, some human walk like animation is seen (more recognizable than before), still with scaling and some orientation and fewer deorientation issues.\n<img alt=\"human_like.jpeg\" src=\"data/bitbucket.org/repo/jgXqbo/images/4114103111-human_like.jpeg\" /></p>\n<p>Any suggestion ?</p>", "type": "rendered"}, "created_on": "2014-06-05T01:07:57.496526+00:00", "user": {"display_name": "Kalana Ishara", "uuid": "{55c0bffa-a4c1-420a-9174-4c350872595d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B55c0bffa-a4c1-420a-9174-4c350872595d%7D"}, "html": {"href": "https://bitbucket.org/%7B55c0bffa-a4c1-420a-9174-4c350872595d%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/cc3d42219df7e9cfa7750268845b8ca9d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsKI-4.png"}}, "nickname": "pwkalana9", "type": "user", "account_id": "557058:64e63659-54e3-4dd5-9f91-2c1424fbc1fe"}, "updated_on": "2014-06-22T00:11:45.645221+00:00", "type": "issue_comment", "id": 10550845}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/538/comments/10803345.json"}, "html": {"href": "#!/osrf/gazebo/issues/538#comment-10803345"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/538.json"}}, "type": "issue", "id": 538, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "gazebo actor sdf 1.3 parser error"}, "content": {"raw": "My modifications on top of gazebo_3.1 has been committed to the fork at following [gazebo_3.1_actor_animation_fix](https://bitbucket.org/pwkalana9/gazebo_3.1_actor_animation_fix). \n\nBTW since the problem at hand now is different to the original issue, I was considering to open this as a new issue. But the modifications I've done haven't been verified and merged in to main source yet. So I am still posting under the same issue (#538).", "markup": "markdown", "html": "<p>My modifications on top of gazebo_3.1 has been committed to the fork at following <a data-is-external-link=\"true\" href=\"https://bitbucket.org/pwkalana9/gazebo_3.1_actor_animation_fix\" rel=\"nofollow\">gazebo_3.1_actor_animation_fix</a>. </p>\n<p>BTW since the problem at hand now is different to the original issue, I was considering to open this as a new issue. But the modifications I've done haven't been verified and merged in to main source yet. So I am still posting under the same issue (<a href=\"#!/osrf/gazebo/issues/538/gazebo-actor-sdf-13-parser-error\" rel=\"nofollow\" title=\"gazebo actor sdf 1.3 parser error\" class=\"ap-connect-link\"><s>#538</s></a>).</p>", "type": "rendered"}, "created_on": "2014-06-19T07:35:21.007127+00:00", "user": {"display_name": "Kalana Ishara", "uuid": "{55c0bffa-a4c1-420a-9174-4c350872595d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B55c0bffa-a4c1-420a-9174-4c350872595d%7D"}, "html": {"href": "https://bitbucket.org/%7B55c0bffa-a4c1-420a-9174-4c350872595d%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/cc3d42219df7e9cfa7750268845b8ca9d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsKI-4.png"}}, "nickname": "pwkalana9", "type": "user", "account_id": "557058:64e63659-54e3-4dd5-9f91-2c1424fbc1fe"}, "updated_on": "2014-07-02T08:34:50.522004+00:00", "type": "issue_comment", "id": 10803345}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/538/comments/10904008.json"}, "html": {"href": "#!/osrf/gazebo/issues/538#comment-10904008"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/538.json"}}, "type": "issue", "id": 538, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "gazebo actor sdf 1.3 parser error"}, "content": {"raw": "I was able to get the animation working correctly in Gazebo (Had to  do couple more fixes for where visual id is required). Then if the animation is initiated with .world file with a skin file name sub_16.dae, walk.dae, stand.dae, talk_a.dae, talk_b.dae or run.dae it fails. But it works for moonwalk.dae, sit_down.dae, sitting.dae and stand_up.dae. A workaround that I am using is to have a skin file of a correctly working DAE and have the animation file name to be any of the DAE files. It seems for the DAE files simulation become weird, there is a scale difference between the initial actor visual and skeleton armature. Anyhow now the actor animation is rendered fine on Gazebo simulator. However if I spawn a Turtlebot simulator with \"turtlebot_simulator\" ROS package and observed /camera/rgb/image_raw topic in RViz the pose of the actor is incorrect. There in RViz image, human is walking in a vertical plane instead of walking on the floor in a horizontal plane. Poses of all other objects in RViz are correctly rendered. \n\nScene in Gazebo window (for moonwalk.dae)\n![gazebosim.jpg](data/bitbucket.org/repo/jgXqbo/images/3462178898-gazebosim.jpg)\n\nImage visualization for /camera/rgb/image_raw in RViz\n![Screenshot from 2014-06-25 15:28:14.jpg](data/bitbucket.org/repo/jgXqbo/images/3709845079-Screenshot_from_2014-06-25_152814.jpg)\n\nMy impression is if the scene is rendered properly in Gazebo simulator, RViz camera should see the same. Does the camera (Created by Turtlebot Kinect Depth sensor) ray trace the scene before or after Gazebo renders it in its window? Any suggestion?", "markup": "markdown", "html": "<p>I was able to get the animation working correctly in Gazebo (Had to  do couple more fixes for where visual id is required). Then if the animation is initiated with .world file with a skin file name sub_16.dae, walk.dae, stand.dae, talk_a.dae, talk_b.dae or run.dae it fails. But it works for moonwalk.dae, sit_down.dae, sitting.dae and stand_up.dae. A workaround that I am using is to have a skin file of a correctly working DAE and have the animation file name to be any of the DAE files. It seems for the DAE files simulation become weird, there is a scale difference between the initial actor visual and skeleton armature. Anyhow now the actor animation is rendered fine on Gazebo simulator. However if I spawn a Turtlebot simulator with \"turtlebot_simulator\" ROS package and observed /camera/rgb/image_raw topic in RViz the pose of the actor is incorrect. There in RViz image, human is walking in a vertical plane instead of walking on the floor in a horizontal plane. Poses of all other objects in RViz are correctly rendered. </p>\n<p>Scene in Gazebo window (for moonwalk.dae)\n<img alt=\"gazebosim.jpg\" src=\"data/bitbucket.org/repo/jgXqbo/images/3462178898-gazebosim.jpg\" /></p>\n<p>Image visualization for /camera/rgb/image_raw in RViz\n<img alt=\"Screenshot from 2014-06-25 15:28:14.jpg\" src=\"data/bitbucket.org/repo/jgXqbo/images/3709845079-Screenshot_from_2014-06-25_152814.jpg\" /></p>\n<p>My impression is if the scene is rendered properly in Gazebo simulator, RViz camera should see the same. Does the camera (Created by Turtlebot Kinect Depth sensor) ray trace the scene before or after Gazebo renders it in its window? Any suggestion?</p>", "type": "rendered"}, "created_on": "2014-06-25T06:05:41.956444+00:00", "user": {"display_name": "Kalana Ishara", "uuid": "{55c0bffa-a4c1-420a-9174-4c350872595d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B55c0bffa-a4c1-420a-9174-4c350872595d%7D"}, "html": {"href": "https://bitbucket.org/%7B55c0bffa-a4c1-420a-9174-4c350872595d%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/cc3d42219df7e9cfa7750268845b8ca9d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsKI-4.png"}}, "nickname": "pwkalana9", "type": "user", "account_id": "557058:64e63659-54e3-4dd5-9f91-2c1424fbc1fe"}, "updated_on": "2014-06-25T13:52:05.005795+00:00", "type": "issue_comment", "id": 10904008}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/538/comments/10909652.json"}, "html": {"href": "#!/osrf/gazebo/issues/538#comment-10909652"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/538.json"}}, "type": "issue", "id": 538, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "gazebo actor sdf 1.3 parser error"}, "content": {"raw": "Got it fixed! Now actor animation in Gazebo and RViz works like a charm after couple of years. \n\nIssue had been assigning the visual id of actor to link pose message id and not assigning a non existing id to bone pose message in Actor::SetPose(). If the bone pose message has some existing visual id (by default 0 <-> refers to world_node), in Scene::PreRender() skeleton message processing it sets the pose for world_node.\n\n", "markup": "markdown", "html": "<p>Got it fixed! Now actor animation in Gazebo and RViz works like a charm after couple of years. </p>\n<p>Issue had been assigning the visual id of actor to link pose message id and not assigning a non existing id to bone pose message in Actor::SetPose(). If the bone pose message has some existing visual id (by default 0 &lt;-&gt; refers to world_node), in Scene::PreRender() skeleton message processing it sets the pose for world_node.</p>", "type": "rendered"}, "created_on": "2014-06-25T11:46:10.355724+00:00", "user": {"display_name": "Kalana Ishara", "uuid": "{55c0bffa-a4c1-420a-9174-4c350872595d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B55c0bffa-a4c1-420a-9174-4c350872595d%7D"}, "html": {"href": "https://bitbucket.org/%7B55c0bffa-a4c1-420a-9174-4c350872595d%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/cc3d42219df7e9cfa7750268845b8ca9d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsKI-4.png"}}, "nickname": "pwkalana9", "type": "user", "account_id": "557058:64e63659-54e3-4dd5-9f91-2c1424fbc1fe"}, "updated_on": "2014-06-29T12:09:08.438770+00:00", "type": "issue_comment", "id": 10909652}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/538/comments/10915394.json"}, "html": {"href": "#!/osrf/gazebo/issues/538#comment-10915394"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/538.json"}}, "type": "issue", "id": 538, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "gazebo actor sdf 1.3 parser error"}, "content": {"raw": "Nice! This is great work. We would love to see your work pulled back into Gazebo. Would you be willing to create a pull request?", "markup": "markdown", "html": "<p>Nice! This is great work. We would love to see your work pulled back into Gazebo. Would you be willing to create a pull request?</p>", "type": "rendered"}, "created_on": "2014-06-25T16:38:07.350160+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": null, "type": "issue_comment", "id": 10915394}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/538/comments/10923152.json"}, "html": {"href": "#!/osrf/gazebo/issues/538#comment-10923152"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/538.json"}}, "type": "issue", "id": 538, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "gazebo actor sdf 1.3 parser error"}, "content": {"raw": ":) It is a pleasure to bring back this great feature specially for HRI. I've just made a pull request for  [gazebo_3.1_actor_animation_fix](https://bitbucket.org/pwkalana9/gazebo_3.1_actor_animation_fix)", "markup": "markdown", "html": "<p>:) It is a pleasure to bring back this great feature specially for HRI. I've just made a pull request for  <a data-is-external-link=\"true\" href=\"https://bitbucket.org/pwkalana9/gazebo_3.1_actor_animation_fix\" rel=\"nofollow\">gazebo_3.1_actor_animation_fix</a></p>", "type": "rendered"}, "created_on": "2014-06-26T04:31:44.073876+00:00", "user": {"display_name": "Kalana Ishara", "uuid": "{55c0bffa-a4c1-420a-9174-4c350872595d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B55c0bffa-a4c1-420a-9174-4c350872595d%7D"}, "html": {"href": "https://bitbucket.org/%7B55c0bffa-a4c1-420a-9174-4c350872595d%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/cc3d42219df7e9cfa7750268845b8ca9d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsKI-4.png"}}, "nickname": "pwkalana9", "type": "user", "account_id": "557058:64e63659-54e3-4dd5-9f91-2c1424fbc1fe"}, "updated_on": "2014-07-02T08:35:23.148569+00:00", "type": "issue_comment", "id": 10923152}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/538/comments/11008676.json"}, "html": {"href": "#!/osrf/gazebo/issues/538#comment-11008676"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/538.json"}}, "type": "issue", "id": 538, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "gazebo actor sdf 1.3 parser error"}, "content": {"raw": "Fantastic. Thanks!\nWe will try to review your pull request as soon as possible.", "markup": "markdown", "html": "<p>Fantastic. Thanks!\nWe will try to review your pull request as soon as possible.</p>", "type": "rendered"}, "created_on": "2014-07-01T15:43:00.684948+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": null, "type": "issue_comment", "id": 11008676}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/538/comments/11825325.json"}, "html": {"href": "#!/osrf/gazebo/issues/538#comment-11825325"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/538.json"}}, "type": "issue", "id": 538, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "gazebo actor sdf 1.3 parser error"}, "content": {"raw": "pull request #1133", "markup": "markdown", "html": "<p><a href=\"#!/osrf/gazebo/pull-requests/1133/fix-actor-animation-loading-and-rendering\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #1133</a></p>", "type": "rendered"}, "created_on": "2014-08-16T20:33:11.068460+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": null, "type": "issue_comment", "id": 11825325}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/538/comments/30612811.json"}, "html": {"href": "#!/osrf/gazebo/issues/538#comment-30612811"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/538.json"}}, "type": "issue", "id": 538, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "gazebo actor sdf 1.3 parser error"}, "content": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "created_on": "2016-09-14T19:45:37.436176+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": null, "type": "issue_comment", "id": 30612811}], "page": 1, "size": 14}