{"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1663/comments/22958643.json"}, "html": {"href": "#!/osrf/gazebo/issues/1663#comment-22958643"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1663.json"}}, "type": "issue", "id": 1663, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "sensor->camera elements from .sdf not being published on scene_info request"}, "content": {"raw": "Dear Ian Chen,\nThanks for your responsiveness and your kind help.\n\nI realized that my analysis above isn't accurate. The problem with the width is simply here:\n\n```\n#!c++\n\nunsigned int CameraSensor::GetImageWidth() const\n{\n  if (this->camera)\n    return this->camera->GetImageWidth();\n  return 0;\n}\n```\nwhere camera is null pointer if the rendering is not available.\nA patch would consist in adding an 'else' clause where the SDF value is extracted. But I let this in your expert hands!\nBest, regards.", "markup": "markdown", "html": "<p>Dear Ian Chen,\nThanks for your responsiveness and your kind help.</p>\n<p>I realized that my analysis above isn't accurate. The problem with the width is simply here:</p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"kt\">unsigned</span> <span class=\"kt\">int</span> <span class=\"n\">CameraSensor</span><span class=\"o\">::</span><span class=\"n\">GetImageWidth</span><span class=\"p\">()</span> <span class=\"k\">const</span>\n<span class=\"p\">{</span>\n  <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">camera</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">camera</span><span class=\"o\">-&gt;</span><span class=\"n\">GetImageWidth</span><span class=\"p\">();</span>\n  <span class=\"k\">return</span> <span class=\"mi\">0</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</pre></div>\n\n\n<p>where camera is null pointer if the rendering is not available.\nA patch would consist in adding an 'else' clause where the SDF value is extracted. But I let this in your expert hands!\nBest, regards.</p>", "type": "rendered"}, "created_on": "2015-10-30T15:55:04.002465+00:00", "user": {"display_name": "Luc Guyot", "uuid": "{10bf39a6-3a1b-4c7f-9702-fe864c3e8066}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B10bf39a6-3a1b-4c7f-9702-fe864c3e8066%7D"}, "html": {"href": "https://bitbucket.org/%7B10bf39a6-3a1b-4c7f-9702-fe864c3e8066%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:baecfd3c-7ba6-47b5-8711-417af281b471/ed635f95-3d51-407b-b3c0-b20f3d58328a/128"}}, "nickname": "luc_guyot_", "type": "user", "account_id": "557058:baecfd3c-7ba6-47b5-8711-417af281b471"}, "updated_on": null, "type": "issue_comment", "id": 22958643}