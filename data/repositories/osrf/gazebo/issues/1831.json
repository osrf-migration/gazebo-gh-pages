{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/1831/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/1831.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/1831/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/1831/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/1831/gazebo-crashes-under-os-x-when-subscribing"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/1831/vote"}}, "reporter": {"display_name": "Helen Oleynikova", "uuid": "{c9468a25-f020-4688-b58c-ba4ee1b8f3d7}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc9468a25-f020-4688-b58c-ba4ee1b8f3d7%7D"}, "html": {"href": "https://bitbucket.org/%7Bc9468a25-f020-4688-b58c-ba4ee1b8f3d7%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/f024baf841f72e1a87c30ab020747866d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsHO-1.png"}}, "nickname": "helenol", "type": "user", "account_id": "557058:e8366559-21f3-4220-bd09-b5532225633b"}, "title": "Gazebo crashes under OS X when subscribing to depth/kinect camera", "component": null, "votes": 0, "watches": 2, "content": {"raw": "Can create a openni kinect camera in gazebo with no problem, but on subscribing to any topiu from the depth camera (including camera_info), gazebo crashes. Backtrace shows the dump from gazebo, not gazebo_plugins.\r\n\r\nOn OS X Yosemite, Gazebo 6.1, jade-devel version of gazebo_ros.\r\n\r\nogre 1.7.4.\r\n\r\nCrash message:\r\n```\r\n[ INFO] [1452786597.979876000]: Camera Plugin (ns = /)  <tf_prefix_>, set to \"\"\r\n[ INFO] [1452786597.994848000]: Camera Plugin (ns = /)  <tf_prefix_>, set to \"\"\r\n/opt/ros/indigo/lib/gazebo_ros/gzserver: line 22:  6379 Bus error: 10           (core dumped) gzserver $final\r\n[gazebo-1] process has died [pid 6372, exit code 138, cmd /opt/ros/indigo/lib/gazebo_ros/gzserver -u -e ode /Users/helen/catkin_ws/src/mav_tools/mav_simulator_demos/worlds/empty_forest.world __name:=gazebo __log:=/Users/helen/.ros/log/6e83a51c-bac8-11e5-8cb9-acbc32a7ce19/gazebo-1.log].\r\nlog file: /Users/helen/.ros/log/6e83a51c-bac8-11e5-8cb9-acbc32a7ce19/gazebo-1*.log\r\n\r\n```\r\n\r\nBacktrace from core dump:\r\n```\r\n* thread #1: tid = 0x0000, 0x00007fff892ebfc9 libsystem_platform.dylib`_platform_memmove$VARIANT$Unknown + 41, stop reason = signal SIGSTOP\r\n  * frame #0: 0x00007fff892ebfc9 libsystem_platform.dylib`_platform_memmove$VARIANT$Unknown + 41\r\n    frame #1: 0x00007fff94ed7329 libGLImage.dylib`glgCopyRowsWithMemCopy(GLGOperationRec const*, unsigned long, GLDPixelModeRec const*) + 67\r\n    frame #2: 0x00007fff94ed59d4 libGLImage.dylib`glgProcessPixelsWithProcessor + 1499\r\n    frame #3: 0x00007fff8d8e6e83 GLEngine`glGetTexImage_Exec + 1992\r\n    frame #4: 0x000000010936bd1b libRenderSystem_GL.dylib`Ogre::GLTextureBuffer::download(Ogre::PixelBox const&) + 425\r\n    frame #5: 0x000000010296bc3f libgazebo_rendering.6.dylib`gazebo::rendering::DepthCamera::PostRender() + 913\r\n    frame #6: 0x00000001028846af libgazebo_sensors.6.dylib`gazebo::sensors::DepthCameraSensor::UpdateImpl(bool) + 31\r\n    frame #7: 0x00000001028b306e libgazebo_sensors.6.dylib`gazebo::sensors::Sensor::Update(bool) + 482\r\n    frame #8: 0x00000001028b99cb libgazebo_sensors.6.dylib`gazebo::sensors::SensorManager::SensorContainer::Update(bool) + 113\r\n    frame #9: 0x00000001028b7d36 libgazebo_sensors.6.dylib`gazebo::sensors::SensorManager::Update(bool) + 548\r\n    frame #10: 0x0000000102804b31 libgazebo.6.dylib`gazebo::Server::Run() + 587\r\n    frame #11: 0x00000001027e28be gzserver`main + 222\r\n    frame #12: 0x00007fff8dc1b5c9 libdyld.dylib`start + 1\r\n```\r\n\r\nI have tried every combination of gazebos and gazebo ros plugin versions, to no avail. :( Reproducable across at least 3 macs running ROS.", "markup": "markdown", "html": "<p>Can create a openni kinect camera in gazebo with no problem, but on subscribing to any topiu from the depth camera (including camera_info), gazebo crashes. Backtrace shows the dump from gazebo, not gazebo_plugins.</p>\n<p>On OS X Yosemite, Gazebo 6.1, jade-devel version of gazebo_ros.</p>\n<p>ogre 1.7.4.</p>\n<p>Crash message:</p>\n<div class=\"codehilite\"><pre><span></span>[ INFO] [1452786597.979876000]: Camera Plugin (ns = /)  &lt;tf_prefix_&gt;, set to &quot;&quot;\n[ INFO] [1452786597.994848000]: Camera Plugin (ns = /)  &lt;tf_prefix_&gt;, set to &quot;&quot;\n/opt/ros/indigo/lib/gazebo_ros/gzserver: line 22:  6379 Bus error: 10           (core dumped) gzserver $final\n[gazebo-1] process has died [pid 6372, exit code 138, cmd /opt/ros/indigo/lib/gazebo_ros/gzserver -u -e ode /Users/helen/catkin_ws/src/mav_tools/mav_simulator_demos/worlds/empty_forest.world __name:=gazebo __log:=/Users/helen/.ros/log/6e83a51c-bac8-11e5-8cb9-acbc32a7ce19/gazebo-1.log].\nlog file: /Users/helen/.ros/log/6e83a51c-bac8-11e5-8cb9-acbc32a7ce19/gazebo-1*.log\n</pre></div>\n\n\n<p>Backtrace from core dump:</p>\n<div class=\"codehilite\"><pre><span></span>* thread #1: tid = 0x0000, 0x00007fff892ebfc9 libsystem_platform.dylib`_platform_memmove$VARIANT$Unknown + 41, stop reason = signal SIGSTOP\n  * frame #0: 0x00007fff892ebfc9 libsystem_platform.dylib`_platform_memmove$VARIANT$Unknown + 41\n    frame #1: 0x00007fff94ed7329 libGLImage.dylib`glgCopyRowsWithMemCopy(GLGOperationRec const*, unsigned long, GLDPixelModeRec const*) + 67\n    frame #2: 0x00007fff94ed59d4 libGLImage.dylib`glgProcessPixelsWithProcessor + 1499\n    frame #3: 0x00007fff8d8e6e83 GLEngine`glGetTexImage_Exec + 1992\n    frame #4: 0x000000010936bd1b libRenderSystem_GL.dylib`Ogre::GLTextureBuffer::download(Ogre::PixelBox const&amp;) + 425\n    frame #5: 0x000000010296bc3f libgazebo_rendering.6.dylib`gazebo::rendering::DepthCamera::PostRender() + 913\n    frame #6: 0x00000001028846af libgazebo_sensors.6.dylib`gazebo::sensors::DepthCameraSensor::UpdateImpl(bool) + 31\n    frame #7: 0x00000001028b306e libgazebo_sensors.6.dylib`gazebo::sensors::Sensor::Update(bool) + 482\n    frame #8: 0x00000001028b99cb libgazebo_sensors.6.dylib`gazebo::sensors::SensorManager::SensorContainer::Update(bool) + 113\n    frame #9: 0x00000001028b7d36 libgazebo_sensors.6.dylib`gazebo::sensors::SensorManager::Update(bool) + 548\n    frame #10: 0x0000000102804b31 libgazebo.6.dylib`gazebo::Server::Run() + 587\n    frame #11: 0x00000001027e28be gzserver`main + 222\n    frame #12: 0x00007fff8dc1b5c9 libdyld.dylib`start + 1\n</pre></div>\n\n\n<p>I have tried every combination of gazebos and gazebo ros plugin versions, to no avail. :( Reproducable across at least 3 macs running ROS.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "all", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/225575.json"}}}, "edited_on": null, "created_on": "2016-01-14T16:55:53.069238+00:00", "milestone": null, "updated_on": "2016-09-14T19:23:55.228262+00:00", "type": "issue", "id": 1831}