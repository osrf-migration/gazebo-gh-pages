{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2441/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2441.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2441/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2441/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2441/gazebo-logs-unusable-in-gazebo-7110"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2441/vote"}}, "reporter": {"display_name": "V\u00edctor L\u00f3pez", "uuid": "{45ae86e9-e602-472d-b978-9915cf7f0b94}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B45ae86e9-e602-472d-b978-9915cf7f0b94%7D"}, "html": {"href": "https://bitbucket.org/%7B45ae86e9-e602-472d-b978-9915cf7f0b94%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/441581ed0d88303764d0971c84961d4dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsVL-3.png"}}, "nickname": "Victor Lopez", "type": "user", "account_id": "557058:be4eaa58-1e6c-457d-b177-531b37dc6861"}, "title": "Gazebo logs unusable in gazebo 7.11.0", "component": {"name": "util::Logging-Playback", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/283119.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "System: Ubuntu 16.04\r\n\r\nROS: Kinetic\r\n\r\nGazebo: 7.11.0-1~xenial (installed from debians)\r\n\r\n\r\nTrying to record logs and play them afterward I've encountered some issues, they happen when the simulation includes a robot that is moving.\r\n\r\nI first encountered them in the simulation of PAL Robotics TIAGo and PMB2, but also ocurr with the Fetch robot.\r\n\r\nI launch the simulations providing the `-r` flag.\r\n\r\nThe issues:\r\n### Slowdown when recording ###\r\nRecording massively slows the simulation, from ~1.00 RT Factor to 0.03 when the robot is moving, when stopped it goes back to max speed. \r\n\r\nWith `--record_period 0.01` and the RT factor increased to 0.25\r\nWith `--record_period 0.1` and the RT factor increased to 0.77\r\n\r\n\r\nI'm writing to an SSD disk.\r\n\r\n### Log Play back spawns multiple robots ###\r\nPlaying back a log spawns dozens of robots on the same spot. \r\nThis increases memory consumption and collapses the system in a matter of seconds.\r\nFurthermore, there are a lot of ROS errors when playing the log that I describe below.\r\n\r\n### Couldn't find an AF_INET address for [] ###\r\nThis happens to me if I play the log with:\r\n`gazebo -p state.log`\r\n\r\nI've attached a txt file with the errors.\r\nI can solve it either with `gazebo -p state.log -s libgazebo_ros_api_plugin.so` or `rosrun gazebo_ros gazebo -p state.log`\r\n\r\nSo this can be a non-issue, I just didn't find any documentation regarding the error and wasted some time. Posting it here in case anyone else faces it.\r\n\r\n\r\n### Repeated initilization of ROS Controllers ###\r\nWhen playing a log file, it looks like the ROS Controllers are being initialized continuously.\r\nMight be related to the multiple robot error I mentioned above.\r\n\r\nI'm attaching a gazebo state.log and a text log file as well for this error.\r\n\r\n\r\n\r\nI had similar issues with gazebo 7.0.0, hence the upgrade to 7.11.0.\r\n\r\nLast year in the Space Robotics Challenge with gazebo 7 on indigo we were able to simulate a much more complex robot (R5 and Talos) with ROS Control, record the logs and play them without these issues.\r\nNot only the", "markup": "markdown", "html": "<p>System: Ubuntu 16.04</p>\n<p>ROS: Kinetic</p>\n<p>Gazebo: 7.11.0-1~xenial (installed from debians)</p>\n<p>Trying to record logs and play them afterward I've encountered some issues, they happen when the simulation includes a robot that is moving.</p>\n<p>I first encountered them in the simulation of PAL Robotics TIAGo and PMB2, but also ocurr with the Fetch robot.</p>\n<p>I launch the simulations providing the <code>-r</code> flag.</p>\n<p>The issues:</p>\n<h3 id=\"markdown-header-slowdown-when-recording\">Slowdown when recording</h3>\n<p>Recording massively slows the simulation, from ~1.00 RT Factor to 0.03 when the robot is moving, when stopped it goes back to max speed. </p>\n<p>With <code>--record_period 0.01</code> and the RT factor increased to 0.25\nWith <code>--record_period 0.1</code> and the RT factor increased to 0.77</p>\n<p>I'm writing to an SSD disk.</p>\n<h3 id=\"markdown-header-log-play-back-spawns-multiple-robots\">Log Play back spawns multiple robots</h3>\n<p>Playing back a log spawns dozens of robots on the same spot. \nThis increases memory consumption and collapses the system in a matter of seconds.\nFurthermore, there are a lot of ROS errors when playing the log that I describe below.</p>\n<h3 id=\"markdown-header-couldnt-find-an-af_inet-address-for\">Couldn't find an AF_INET address for []</h3>\n<p>This happens to me if I play the log with:\n<code>gazebo -p state.log</code></p>\n<p>I've attached a txt file with the errors.\nI can solve it either with <code>gazebo -p state.log -s libgazebo_ros_api_plugin.so</code> or <code>rosrun gazebo_ros gazebo -p state.log</code></p>\n<p>So this can be a non-issue, I just didn't find any documentation regarding the error and wasted some time. Posting it here in case anyone else faces it.</p>\n<h3 id=\"markdown-header-repeated-initilization-of-ros-controllers\">Repeated initilization of ROS Controllers</h3>\n<p>When playing a log file, it looks like the ROS Controllers are being initialized continuously.\nMight be related to the multiple robot error I mentioned above.</p>\n<p>I'm attaching a gazebo state.log and a text log file as well for this error.</p>\n<p>I had similar issues with gazebo 7.0.0, hence the upgrade to 7.11.0.</p>\n<p>Last year in the Space Robotics Challenge with gazebo 7 on indigo we were able to simulate a much more complex robot (R5 and Talos) with ROS Control, record the logs and play them without these issues.\nNot only the</p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": {"name": "7.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242744.json"}}}, "edited_on": null, "created_on": "2018-03-16T07:54:59.778544+00:00", "milestone": null, "updated_on": "2018-04-10T21:30:55.348304+00:00", "type": "issue", "id": 2441}