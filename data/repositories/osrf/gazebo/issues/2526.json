{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2526/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2526.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2526/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2526/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2526/joint-setforce-is-not-additive-in-dart-in"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2526/vote"}}, "reporter": {"display_name": "Silvio Traversaro", "uuid": "{34f404cb-5642-4f27-a032-e04c7143d776}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D"}, "html": {"href": "https://bitbucket.org/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6/578caaa1-056c-45a2-8bf9-bee94c3bebef/128"}}, "nickname": "traversaro", "type": "user", "account_id": "557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6"}, "title": "Joint::SetForce is not additive in DART in Gazebo 9", "component": {"name": "physics::DARTPhysics", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/139387.json"}}}, "votes": 0, "watches": 2, "content": {"raw": "[`Joint::SetForce`](http://osrf-distributions.s3.amazonaws.com/gazebo/api/dev/classgazebo_1_1physics_1_1Joint.html#ab2491053d1c5ebb97c377064797af494) documentation states that:\r\n\r\n> Force is additive (multiple calls to SetForce to the same joint in the same time step will accumulate forces on that Joint). \r\n\r\nHowever, it seems that this is not true for the `DART` physics engine, where instead every call to SetForce is overwriting the previous one, even if no update to the physics happened in the meanwhile.\r\n\r\nRelevant code:\r\n\r\n*  #!/osrf/gazebo/src/01c7f8b1d68448bc618b575ad1c7ec13fee2b87f/gazebo/physics/dart/DARTJoint.cc#lines-839\r\n* https://dartsim.github.io/api/v6.3.0/d6/d5b/classdart_1_1dynamics_1_1Joint.html#a7fb4ae07eeb286f050722d982309e1a0\r\n\r\nDownstream issue: https://github.com/robotology/gazebo-fmi/pull/28 \r\nSimilar issue, but related to Simbody: #!/osrf/gazebo/issues/2507/joint-setforce-is-not-additive-in-simbody .", "markup": "markdown", "html": "<p><a data-is-external-link=\"true\" href=\"http://osrf-distributions.s3.amazonaws.com/gazebo/api/dev/classgazebo_1_1physics_1_1Joint.html#ab2491053d1c5ebb97c377064797af494\" rel=\"nofollow\"><code>Joint::SetForce</code></a> documentation states that:</p>\n<blockquote>\n<p>Force is additive (multiple calls to SetForce to the same joint in the same time step will accumulate forces on that Joint). </p>\n</blockquote>\n<p>However, it seems that this is not true for the <code>DART</code> physics engine, where instead every call to SetForce is overwriting the previous one, even if no update to the physics happened in the meanwhile.</p>\n<p>Relevant code:</p>\n<ul>\n<li><a href=\"#!/osrf/gazebo/src/01c7f8b1d68448bc618b575ad1c7ec13fee2b87f/gazebo/physics/dart/DARTJoint.cc#lines-839\" rel=\"nofollow\" class=\"ap-connect-link\">#!/osrf/gazebo/src/01c7f8b1d68448bc618b575ad1c7ec13fee2b87f/gazebo/physics/dart/DARTJoint.cc#lines-839</a></li>\n<li><a href=\"https://dartsim.github.io/api/v6.3.0/d6/d5b/classdart_1_1dynamics_1_1Joint.html#a7fb4ae07eeb286f050722d982309e1a0\" rel=\"nofollow\" class=\"ap-connect-link\">https://dartsim.github.io/api/v6.3.0/d6/d5b/classdart_1_1dynamics_1_1Joint.html#a7fb4ae07eeb286f050722d982309e1a0</a></li>\n</ul>\n<p>Downstream issue: <a href=\"https://github.com/robotology/gazebo-fmi/pull/28\" rel=\"nofollow\" class=\"ap-connect-link\">https://github.com/robotology/gazebo-fmi/pull/28</a> \nSimilar issue, but related to Simbody: <a href=\"#!/osrf/gazebo/issues/2507/joint-setforce-is-not-additive-in-simbody\" rel=\"nofollow\" class=\"ap-connect-link\">#!/osrf/gazebo/issues/2507/joint-setforce-is-not-additive-in-simbody</a> .</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "9.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242746.json"}}}, "edited_on": null, "created_on": "2018-09-10T08:40:09.838860+00:00", "milestone": null, "updated_on": "2018-09-10T20:34:37.134589+00:00", "type": "issue", "id": 2526}