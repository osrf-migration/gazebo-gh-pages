{"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2313/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2313.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2313/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2313/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2313/composite-model-sdf-self-collision-flag"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2313/vote"}}, "reporter": {"display_name": "yeshasvitvs", "uuid": "{794fe1af-668d-47a4-a1b4-472721ab242c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B794fe1af-668d-47a4-a1b4-472721ab242c%7D"}, "html": {"href": "https://bitbucket.org/%7B794fe1af-668d-47a4-a1b4-472721ab242c%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b7d7fdc06daa6a33c944696c643bea49d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsY-0.png"}}, "nickname": "yeshasvitvs", "type": "user", "account_id": "557058:86b706df-ff22-48bb-ad55-e051fd800c23"}, "title": "Composite model sdf : self collision flag usage", "component": null, "votes": 0, "watches": 1, "content": {"raw": "Hello, \r\n\r\nI tried to use two gazebo models in a single sdf with some of their links connected through a fixed joint. One of the models is of the iCub robot and the other is a 2 link manipulator. When launching this composite model in gazebo I noticed that iCub robot is exploding. The problem was self_collision flag is set in the manipulator sdf and it is not set in icub sdf. So when loading the composite model the flag is enabled and this leads to self collisions in iCub robot and the explosive behaviour. By setting the flag false things are normal when loading the composite model. \r\n\r\n\r\n```\r\n#!xml\r\n\r\n<?xml version='1.0'?>\r\n<sdf version='1.5'>\r\n  <model name=\"icub_1r_2link\">\r\n\r\n    <include>\r\n      <uri>model://icub</uri>\r\n    </include>\r\n\r\n    <include>\r\n      <uri>model://1r_2link</uri>\r\n      <pose>.4 0.114639 0.1 0 0 -0.43</pose>\r\n    </include>\r\n\r\n    <joint name='first_hand_joint' type='fixed'>\r\n      <child>1r_2link::first_link_handle</child>\r\n      <parent>iCub::l_hand</parent>\r\n      <axis>\r\n        <xyz>0 0 0</xyz>\r\n      </axis>\r\n    </joint>\r\n\r\n    <joint name='second_hand_joint' type='fixed'>\r\n      <child>1r_2link::second_link_handle</child>\r\n      <parent>iCub::r_hand</parent>\r\n      <axis>\r\n        <xyz>0 0 0</xyz>\r\n      </axis>\r\n    </joint>\r\n\r\n  </model>\r\n</sdf>\r\n\r\n\r\n```", "markup": "markdown", "html": "<p>Hello, </p>\n<p>I tried to use two gazebo models in a single sdf with some of their links connected through a fixed joint. One of the models is of the iCub robot and the other is a 2 link manipulator. When launching this composite model in gazebo I noticed that iCub robot is exploding. The problem was self_collision flag is set in the manipulator sdf and it is not set in icub sdf. So when loading the composite model the flag is enabled and this leads to self collisions in iCub robot and the explosive behaviour. By setting the flag false things are normal when loading the composite model. </p>\n<div class=\"codehilite language-xml\"><pre><span></span><span class=\"cp\">&lt;?xml version=&#39;1.0&#39;?&gt;</span>\n<span class=\"nt\">&lt;sdf</span> <span class=\"na\">version=</span><span class=\"s\">&#39;1.5&#39;</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;model</span> <span class=\"na\">name=</span><span class=\"s\">&quot;icub_1r_2link&quot;</span><span class=\"nt\">&gt;</span>\n\n    <span class=\"nt\">&lt;include&gt;</span>\n      <span class=\"nt\">&lt;uri&gt;</span>model://icub<span class=\"nt\">&lt;/uri&gt;</span>\n    <span class=\"nt\">&lt;/include&gt;</span>\n\n    <span class=\"nt\">&lt;include&gt;</span>\n      <span class=\"nt\">&lt;uri&gt;</span>model://1r_2link<span class=\"nt\">&lt;/uri&gt;</span>\n      <span class=\"nt\">&lt;pose&gt;</span>.4 0.114639 0.1 0 0 -0.43<span class=\"nt\">&lt;/pose&gt;</span>\n    <span class=\"nt\">&lt;/include&gt;</span>\n\n    <span class=\"nt\">&lt;joint</span> <span class=\"na\">name=</span><span class=\"s\">&#39;first_hand_joint&#39;</span> <span class=\"na\">type=</span><span class=\"s\">&#39;fixed&#39;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;child&gt;</span>1r_2link::first_link_handle<span class=\"nt\">&lt;/child&gt;</span>\n      <span class=\"nt\">&lt;parent&gt;</span>iCub::l_hand<span class=\"nt\">&lt;/parent&gt;</span>\n      <span class=\"nt\">&lt;axis&gt;</span>\n        <span class=\"nt\">&lt;xyz&gt;</span>0 0 0<span class=\"nt\">&lt;/xyz&gt;</span>\n      <span class=\"nt\">&lt;/axis&gt;</span>\n    <span class=\"nt\">&lt;/joint&gt;</span>\n\n    <span class=\"nt\">&lt;joint</span> <span class=\"na\">name=</span><span class=\"s\">&#39;second_hand_joint&#39;</span> <span class=\"na\">type=</span><span class=\"s\">&#39;fixed&#39;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;child&gt;</span>1r_2link::second_link_handle<span class=\"nt\">&lt;/child&gt;</span>\n      <span class=\"nt\">&lt;parent&gt;</span>iCub::r_hand<span class=\"nt\">&lt;/parent&gt;</span>\n      <span class=\"nt\">&lt;axis&gt;</span>\n        <span class=\"nt\">&lt;xyz&gt;</span>0 0 0<span class=\"nt\">&lt;/xyz&gt;</span>\n      <span class=\"nt\">&lt;/axis&gt;</span>\n    <span class=\"nt\">&lt;/joint&gt;</span>\n\n  <span class=\"nt\">&lt;/model&gt;</span>\n<span class=\"nt\">&lt;/sdf&gt;</span>\n</pre></div>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "7.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242744.json"}}}, "edited_on": null, "created_on": "2017-07-06T12:15:50.817266+00:00", "milestone": null, "updated_on": "2017-07-06T12:17:03.676780+00:00", "type": "issue", "id": 2313}