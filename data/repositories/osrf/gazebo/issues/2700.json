{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2700/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2700.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2700/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2700/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2700/gazebo-11-does-not-run-correctly-with-ogre"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2700/vote"}}, "reporter": {"display_name": "Silvio Traversaro", "uuid": "{34f404cb-5642-4f27-a032-e04c7143d776}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D"}, "html": {"href": "https://bitbucket.org/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6/578caaa1-056c-45a2-8bf9-bee94c3bebef/128"}}, "nickname": "traversaro", "type": "user", "account_id": "557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6"}, "title": "Gazebo 11 does not run correctly with Ogre 1.12 from conda-forge", "component": null, "votes": 0, "watches": 1, "content": {"raw": "There have been two reports of problems in running Gazebo compiled against Ogre 1.12, one by @{5bee878f5416561374c46bd9} \\( [#!/osrf/gazebo/issues/2686/terrain-rendering-does-not-support-shadows#comment-56374947](#!/osrf/gazebo/issues/2686/terrain-rendering-does-not-support-shadows#comment-56374947) \\) and the other by @{557058:d49ea8c4-184b-403a-b664-8b3fa004cf9c} \\( [https://github.com/conda-forge/gazebo-feedstock/pull/11#issuecomment-596067386](https://github.com/conda-forge/gazebo-feedstock/pull/11#issuecomment-596067386) \\), and in both cases the error message is:\r\n\r\n> `[Err] [..\\gazebo\\gui\\main.cc:34] Ogre Error:Ogre::RuntimeAssertionException::RuntimeAssertionException: Ogre/ShadowExtrudePointLight not found. Verify that you referenced the 'ShadowVolume' folder in your resources.cfg in Ogre::ShadowVolumeExtrudeProgram::initialise at ..\\OgreMain\\src\\OgreShadowVolumeExtrudeProgram.cpp (line 71)`\r\n\r\nIn both cases, they were using the Ogre 1.12 installed by conda-forge. Based on this error, and the fact that apparently Stephen Just \\( [#!/osrf/gazebo/pull-requests/3130/change-gazebo-rendering-heightmap-class-to/diff#comment-125305344](#!/osrf/gazebo/pull-requests/3130/change-gazebo-rendering-heightmap-class-to/diff#comment-125305344), [https://github.com/microsoft/vcpkg/pull/8178#issuecomment-552752416](https://github.com/microsoft/vcpkg/pull/8178#issuecomment-552752416) \\) was able to run a patched Gazebo 10 linked with Ogre 1.12 using vcpkg, I suspect that the error is that Ogre is not able to find some resource, possibly because some Ogre resource directory is not correctly set, but this is just an hypothesis.\r\n\r\nBased on his work on [#!/osrf/gazebo/pull-requests/3130/change-gazebo-rendering-heightmap-class-to/diff#comment-125305344](#!/osrf/gazebo/pull-requests/3130/change-gazebo-rendering-heightmap-class-to/diff#comment-125305344), perhaps @{557058:434ecab2-e510-4ede-8f9a-1c2a5a4032e1} may be able to provide some input on this.", "markup": "markdown", "html": "<p>There have been two reports of problems in running Gazebo compiled against Ogre 1.12, one by <span class=\"ap-mention\" data-atlassian-id=\"5bee878f5416561374c46bd9\">@Sean Yen</span> ( <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/issues/2686/terrain-rendering-does-not-support-shadows#comment-56374947\" rel=\"nofollow\">#!/osrf/gazebo/issues/2686/terrain-rendering-does-not-support-shadows#comment-56374947</a> ) and the other by <span class=\"ap-mention\" data-atlassian-id=\"557058:d49ea8c4-184b-403a-b664-8b3fa004cf9c\">@Wolf Vollprecht</span> ( <a data-is-external-link=\"true\" href=\"https://github.com/conda-forge/gazebo-feedstock/pull/11#issuecomment-596067386\" rel=\"nofollow\">https://github.com/conda-forge/gazebo-feedstock/pull/11#issuecomment-596067386</a> ), and in both cases the error message is:</p>\n<blockquote>\n<p><code>[Err] [..\\gazebo\\gui\\main.cc:34] Ogre Error:Ogre::RuntimeAssertionException::RuntimeAssertionException: Ogre/ShadowExtrudePointLight not found. Verify that you referenced the 'ShadowVolume' folder in your resources.cfg in Ogre::ShadowVolumeExtrudeProgram::initialise at ..\\OgreMain\\src\\OgreShadowVolumeExtrudeProgram.cpp (line 71)</code></p>\n</blockquote>\n<p>In both cases, they were using the Ogre 1.12 installed by conda-forge. Based on this error, and the fact that apparently Stephen Just ( <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/pull-requests/3130/change-gazebo-rendering-heightmap-class-to/diff#comment-125305344\" rel=\"nofollow\">#!/osrf/gazebo/pull-requests/3130/change-gazebo-rendering-heightmap-class-to/diff#comment-125305344</a>, <a data-is-external-link=\"true\" href=\"https://github.com/microsoft/vcpkg/pull/8178#issuecomment-552752416\" rel=\"nofollow\">https://github.com/microsoft/vcpkg/pull/8178#issuecomment-552752416</a> ) was able to run a patched Gazebo 10 linked with Ogre 1.12 using vcpkg, I suspect that the error is that Ogre is not able to find some resource, possibly because some Ogre resource directory is not correctly set, but this is just an hypothesis.</p>\n<p>Based on his work on <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/pull-requests/3130/change-gazebo-rendering-heightmap-class-to/diff#comment-125305344\" rel=\"nofollow\">#!/osrf/gazebo/pull-requests/3130/change-gazebo-rendering-heightmap-class-to/diff#comment-125305344</a>, perhaps <span class=\"ap-mention\" data-atlassian-id=\"557058:434ecab2-e510-4ede-8f9a-1c2a5a4032e1\">@Martin Pecka</span> may be able to provide some input on this.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2020-03-07T15:00:13.229289+00:00", "milestone": null, "updated_on": "2020-03-18T22:24:19.967061+00:00", "type": "issue", "id": 2700}