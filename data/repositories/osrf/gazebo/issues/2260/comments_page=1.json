{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2260/comments/36394724.json"}, "html": {"href": "#!/osrf/gazebo/issues/2260#comment-36394724"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2260.json"}}, "type": "issue", "id": 2260, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "[build cop] PhysicsEngines/HeightmapTest.MaterialShader broken on OSX"}, "content": {"raw": "Maybe a regression rather than a flaky test. It also failed on [gazebo-ci-default-homebrew-amd64](https://build.osrfoundation.org/view/main/view/BuildCopTests/job/gazebo-ci-default-homebrew-amd64/) job 227", "markup": "markdown", "html": "<p>Maybe a regression rather than a flaky test. It also failed on <a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/view/main/view/BuildCopTests/job/gazebo-ci-default-homebrew-amd64/\" rel=\"nofollow\">gazebo-ci-default-homebrew-amd64</a> job 227</p>", "type": "rendered"}, "created_on": "2017-04-28T20:23:55.390341+00:00", "user": {"display_name": "Shane Loretz", "uuid": "{656e3311-aad9-45a1-aaf7-b0ee0e84b287}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D"}, "html": {"href": "https://bitbucket.org/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:684383ab-ac95-4859-a350-4a6f41a94a22/c7a1ebf5-cade-4115-9f26-9d3facb776db/128"}}, "nickname": "Shane Loretz", "type": "user", "account_id": "557058:684383ab-ac95-4859-a350-4a6f41a94a22"}, "updated_on": null, "type": "issue_comment", "id": 36394724}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2260/comments/36519367.json"}, "html": {"href": "#!/osrf/gazebo/issues/2260#comment-36519367"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2260.json"}}, "type": "issue", "id": 2260, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "[build cop] PhysicsEngines/HeightmapTest.MaterialShader broken on OSX"}, "content": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "created_on": "2017-05-02T19:58:08.838336+00:00", "user": {"display_name": "Shane Loretz", "uuid": "{656e3311-aad9-45a1-aaf7-b0ee0e84b287}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D"}, "html": {"href": "https://bitbucket.org/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:684383ab-ac95-4859-a350-4a6f41a94a22/c7a1ebf5-cade-4115-9f26-9d3facb776db/128"}}, "nickname": "Shane Loretz", "type": "user", "account_id": "557058:684383ab-ac95-4859-a350-4a6f41a94a22"}, "updated_on": null, "type": "issue_comment", "id": 36519367}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2260/comments/36519399.json"}, "html": {"href": "#!/osrf/gazebo/issues/2260#comment-36519399"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2260.json"}}, "type": "issue", "id": 2260, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "[build cop] PhysicsEngines/HeightmapTest.MaterialShader broken on OSX"}, "content": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "created_on": "2017-05-02T20:00:26.206418+00:00", "user": {"display_name": "Shane Loretz", "uuid": "{656e3311-aad9-45a1-aaf7-b0ee0e84b287}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D"}, "html": {"href": "https://bitbucket.org/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:684383ab-ac95-4859-a350-4a6f41a94a22/c7a1ebf5-cade-4115-9f26-9d3facb776db/128"}}, "nickname": "Shane Loretz", "type": "user", "account_id": "557058:684383ab-ac95-4859-a350-4a6f41a94a22"}, "updated_on": null, "type": "issue_comment", "id": 36519399}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2260/comments/36519417.json"}, "html": {"href": "#!/osrf/gazebo/issues/2260#comment-36519417"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2260.json"}}, "type": "issue", "id": 2260, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "[build cop] PhysicsEngines/HeightmapTest.MaterialShader broken on OSX"}, "content": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "created_on": "2017-05-02T20:02:17.340929+00:00", "user": {"display_name": "Shane Loretz", "uuid": "{656e3311-aad9-45a1-aaf7-b0ee0e84b287}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D"}, "html": {"href": "https://bitbucket.org/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:684383ab-ac95-4859-a350-4a6f41a94a22/c7a1ebf5-cade-4115-9f26-9d3facb776db/128"}}, "nickname": "Shane Loretz", "type": "user", "account_id": "557058:684383ab-ac95-4859-a350-4a6f41a94a22"}, "updated_on": null, "type": "issue_comment", "id": 36519417}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2260/comments/36519454.json"}, "html": {"href": "#!/osrf/gazebo/issues/2260#comment-36519454"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2260.json"}}, "type": "issue", "id": 2260, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "[build cop] PhysicsEngines/HeightmapTest.MaterialShader broken on OSX"}, "content": {"raw": "A failure of this test on gazebo-ci-gazebo7-homebrew-amd64 build 143. This time it segfaults\n\n```\n443: [ RUN      ] PhysicsEngines/HeightmapTest.MaterialShader/0\n443: [Msg] Waiting for master.\n443: [Msg] Connected to gazebo master @ http://127.0.0.1:11345\n443: [Msg] Publicized address: 172.23.2.252\n443: [Msg] Loading heightmap: heightmap_bowl\n443: [Msg] Loading heightmap cache data: /Users/jenkins/.gazebo/paging/heightmap_bowl/gazebo_terrain_00000000.dat\n443: [Dbg] [ServerFixture.cc:207] ServerFixture load in 1.1 seconds, timeout after 600 seconds\n443: [Msg] Heightmap loaded. Process took: 0.050975 seconds\n443: /Users/jenkins/workspace/gazebo-ci-gazebo7-homebrew-amd64/gazebo7/gazebo/test/ServerFixture.cc:279: Failure\n443: Expected: this->server->Run() doesn't throw an exception.\n443:   Actual: it throws.\n443: /Users/jenkins/workspace/gazebo-ci-gazebo7-homebrew-amd64/gazebo7/gazebo/test/ServerFixture.cc:1318: Failure\n443: Expected: (i) < (_retries), actual: 100 vs 100\n443: /Users/jenkins/workspace/gazebo-ci-gazebo7-homebrew-amd64/gazebo7/gazebo/test/ServerFixture.cc:1321: Failure\n443: Failed\n443: ServerFixture timeout: max number of retries (100) exceeded while awaiting the spawn of camera_sensor\n1/2 Test #443: INTEGRATION_heightmap ............***Exception: SegFault 54.74 sec\ntest 444\n    Start 444: check_INTEGRATION_heightmap\n\n444: Test command: /Users/jenkins/workspace/gazebo-ci-gazebo7-homebrew-amd64/gazebo7/tools/check_test_ran.py \"/Users/jenkins/workspace/gazebo-ci-gazebo7-homebrew-amd64/build/test_results/INTEGRATION_heightmap.xml\"\n444: Test timeout computed to be: 9.99988e+06\n444: Checking for test results in /Users/jenkins/workspace/gazebo-ci-gazebo7-homebrew-amd64/build/test_results/INTEGRATION_heightmap.xml\n444: Cannot find results, writing failure results to /Users/jenkins/workspace/gazebo-ci-gazebo7-homebrew-amd64/build/test_results/INTEGRATION_heightmap.xml\n2/2 Test #444: check_INTEGRATION_heightmap ......***Failed    0.03 sec\n\n0% tests passed, 2 tests failed out of 2\n```", "markup": "markdown", "html": "<p>A failure of this test on gazebo-ci-gazebo7-homebrew-amd64 build 143. This time it segfaults</p>\n<div class=\"codehilite\"><pre><span></span>443: [ RUN      ] PhysicsEngines/HeightmapTest.MaterialShader/0\n443: [Msg] Waiting for master.\n443: [Msg] Connected to gazebo master @ http://127.0.0.1:11345\n443: [Msg] Publicized address: 172.23.2.252\n443: [Msg] Loading heightmap: heightmap_bowl\n443: [Msg] Loading heightmap cache data: /Users/jenkins/.gazebo/paging/heightmap_bowl/gazebo_terrain_00000000.dat\n443: [Dbg] [ServerFixture.cc:207] ServerFixture load in 1.1 seconds, timeout after 600 seconds\n443: [Msg] Heightmap loaded. Process took: 0.050975 seconds\n443: /Users/jenkins/workspace/gazebo-ci-gazebo7-homebrew-amd64/gazebo7/gazebo/test/ServerFixture.cc:279: Failure\n443: Expected: this-&gt;server-&gt;Run() doesn&#39;t throw an exception.\n443:   Actual: it throws.\n443: /Users/jenkins/workspace/gazebo-ci-gazebo7-homebrew-amd64/gazebo7/gazebo/test/ServerFixture.cc:1318: Failure\n443: Expected: (i) &lt; (_retries), actual: 100 vs 100\n443: /Users/jenkins/workspace/gazebo-ci-gazebo7-homebrew-amd64/gazebo7/gazebo/test/ServerFixture.cc:1321: Failure\n443: Failed\n443: ServerFixture timeout: max number of retries (100) exceeded while awaiting the spawn of camera_sensor\n1/2 Test #443: INTEGRATION_heightmap ............***Exception: SegFault 54.74 sec\ntest 444\n    Start 444: check_INTEGRATION_heightmap\n\n444: Test command: /Users/jenkins/workspace/gazebo-ci-gazebo7-homebrew-amd64/gazebo7/tools/check_test_ran.py &quot;/Users/jenkins/workspace/gazebo-ci-gazebo7-homebrew-amd64/build/test_results/INTEGRATION_heightmap.xml&quot;\n444: Test timeout computed to be: 9.99988e+06\n444: Checking for test results in /Users/jenkins/workspace/gazebo-ci-gazebo7-homebrew-amd64/build/test_results/INTEGRATION_heightmap.xml\n444: Cannot find results, writing failure results to /Users/jenkins/workspace/gazebo-ci-gazebo7-homebrew-amd64/build/test_results/INTEGRATION_heightmap.xml\n2/2 Test #444: check_INTEGRATION_heightmap ......***Failed    0.03 sec\n\n0% tests passed, 2 tests failed out of 2\n</pre></div>", "type": "rendered"}, "created_on": "2017-05-02T20:04:33.947062+00:00", "user": {"display_name": "Shane Loretz", "uuid": "{656e3311-aad9-45a1-aaf7-b0ee0e84b287}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D"}, "html": {"href": "https://bitbucket.org/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:684383ab-ac95-4859-a350-4a6f41a94a22/c7a1ebf5-cade-4115-9f26-9d3facb776db/128"}}, "nickname": "Shane Loretz", "type": "user", "account_id": "557058:684383ab-ac95-4859-a350-4a6f41a94a22"}, "updated_on": "2017-05-02T20:04:51.678583+00:00", "type": "issue_comment", "id": 36519454}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2260/comments/38094850.json"}, "html": {"href": "#!/osrf/gazebo/issues/2260#comment-38094850"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2260.json"}}, "type": "issue", "id": 2260, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "[build cop] PhysicsEngines/HeightmapTest.MaterialShader broken on OSX"}, "content": {"raw": "On homebrew, we added an ogre1.9 formula for gazebo8, but the gazebo7 formula still uses the `ogre` formula (version 1.7.4). I recently noticed on my laptop that I would have to clear the `~/.gazebo/paging` folder after switching between ogre versions in order for the textures to load properly. I'll try clearing that folder as part of the CI build script and see if it fixes this problem.\n\nWe can also switch the gazebo7 formula to ogre1.9 to see if that helps.", "markup": "markdown", "html": "<p>On homebrew, we added an ogre1.9 formula for gazebo8, but the gazebo7 formula still uses the <code>ogre</code> formula (version 1.7.4). I recently noticed on my laptop that I would have to clear the <code>~/.gazebo/paging</code> folder after switching between ogre versions in order for the textures to load properly. I'll try clearing that folder as part of the CI build script and see if it fixes this problem.</p>\n<p>We can also switch the gazebo7 formula to ogre1.9 to see if that helps.</p>", "type": "rendered"}, "created_on": "2017-07-07T18:45:50.979016+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 38094850}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2260/comments/38095000.json"}, "html": {"href": "#!/osrf/gazebo/issues/2260#comment-38095000"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2260.json"}}, "type": "issue", "id": 2260, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "[build cop] PhysicsEngines/HeightmapTest.MaterialShader broken on OSX"}, "content": {"raw": "Trying the idea of clearing the paging folder during homebrew CI builds:\n\n* https://bitbucket.org/osrf/release-tools/pull-requests/420/clear-heightmap-paging-cache-during-gazebo/diff", "markup": "markdown", "html": "<p>Trying the idea of clearing the paging folder during homebrew CI builds:</p>\n<ul>\n<li><a href=\"https://bitbucket.org/osrf/release-tools/pull-requests/420/clear-heightmap-paging-cache-during-gazebo/diff\" rel=\"nofollow\" class=\"ap-connect-link\">https://bitbucket.org/osrf/release-tools/pull-requests/420/clear-heightmap-paging-cache-during-gazebo/diff</a></li>\n</ul>", "type": "rendered"}, "created_on": "2017-07-07T18:54:38.401353+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 38095000}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2260/comments/38097992.json"}, "html": {"href": "#!/osrf/gazebo/issues/2260#comment-38097992"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2260.json"}}, "type": "issue", "id": 2260, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "[build cop] PhysicsEngines/HeightmapTest.MaterialShader broken on OSX"}, "content": {"raw": "thanks for looking into this. I think we may need to downgrade the shaders used in this test, i.e. [heightmap_custom_fp.glsl](#!/osrf/gazebo/src/8482aaa07fc9c7bddcd23cd638eca15d79618f0f/test/media/materials/scripts/heightmap_custom_fp.glsl?at=default&fileviewer=file-view-default) and [heightmap_custom_vp.glsl](#!/osrf/gazebo/src/8482aaa07fc9c7bddcd23cd638eca15d79618f0f/test/media/materials/scripts/heightmap_custom_vp.glsl?at=default&fileviewer=file-view-default) from glsl version 130 to 120 for it to work on OSX. I'm surprised that it segfaulted. I expected that imcompatible glsl version would just result in an error or exception message in ogre.log and the heightmap would still render but with a white material.", "markup": "markdown", "html": "<p>thanks for looking into this. I think we may need to downgrade the shaders used in this test, i.e. <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/8482aaa07fc9c7bddcd23cd638eca15d79618f0f/test/media/materials/scripts/heightmap_custom_fp.glsl?at=default&amp;fileviewer=file-view-default\" rel=\"nofollow\">heightmap_custom_fp.glsl</a> and <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/8482aaa07fc9c7bddcd23cd638eca15d79618f0f/test/media/materials/scripts/heightmap_custom_vp.glsl?at=default&amp;fileviewer=file-view-default\" rel=\"nofollow\">heightmap_custom_vp.glsl</a> from glsl version 130 to 120 for it to work on OSX. I'm surprised that it segfaulted. I expected that imcompatible glsl version would just result in an error or exception message in ogre.log and the heightmap would still render but with a white material.</p>", "type": "rendered"}, "created_on": "2017-07-07T22:48:56.549992+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": null, "type": "issue_comment", "id": 38097992}], "page": 1, "size": 8}