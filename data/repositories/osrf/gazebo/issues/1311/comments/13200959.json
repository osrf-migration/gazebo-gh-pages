{"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1311/comments/13200959.json"}, "html": {"href": "#!/osrf/gazebo/issues/1311#comment-13200959"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1311.json"}}, "type": "issue", "id": 1311, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Invoking GUI plugins with -g causes QT error"}, "content": {"raw": "I can confirm the failure:\n~~~\n$ hg up default\n$ cd examples/plugins/gui_overlay_plugin_time\n$ mkdir build\n$ cd build\n$ cmake ..\n$ make\n$ gzserver &\n$ GAZEBO_PLUGIN_PATH=$PWD && gdb gzclient\n...\n(gdb) r --verbose -g $PWD/libgui_example_time_widget.so\n...\nGazebo multi-robot simulator, version 4.0.2\nCopyright (C) 2012-2014 Open Source Robotics Foundation.\nReleased under the Apache 2 License.\nhttp://gazebosim.org\n\nQWidget: Must construct a QApplication before a QPaintDevice\n\nProgram received signal SIGABRT, Aborted.\n0x00007ffff318fbb9 in __GI_raise (sig=sig@entry=6) at ../nptl/sysdeps/unix/sysv/linux/raise.c:56\n56\t../nptl/sysdeps/unix/sysv/linux/raise.c: No such file or directory.\n(gdb) bt\n#0  0x00007ffff318fbb9 in __GI_raise (sig=sig@entry=6) at ../nptl/sysdeps/unix/sysv/linux/raise.c:56\n#1  0x00007ffff3192fc8 in __GI_abort () at abort.c:89\n#2  0x00007ffff567ec92 in qt_message_output(QtMsgType, char const*) ()\n   from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#3  0x00007ffff567eff9 in ?? () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#4  0x00007ffff567f804 in qFatal(char const*, ...) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#5  0x00007ffff5cfed56 in QWidgetPrivate::QWidgetPrivate(int) ()\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#6  0x00007ffff5d0d95d in QWidget::QWidget(QWidget*, QFlags<Qt::WindowType>) ()\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#7  0x00007fffd73b8659 in gazebo::GUIPlugin::GUIPlugin() ()\n   from examples/plugins/gui_overlay_plugin_time/build/libgui_example_time_widget.so\n#8  0x00007fffd73b6a1a in gazebo::GUIExampleTimeWidget::GUIExampleTimeWidget() ()\n   from examples/plugins/gui_overlay_plugin_time/build/libgui_example_time_widget.so\n#9  0x00007fffd73b69d0 in RegisterPlugin ()\n   from examples/plugins/gui_overlay_plugin_time/build/libgui_example_time_widget.so\n#10 0x00007ffff67d5666 in gazebo::PluginT<gazebo::SystemPlugin>::Create (_filename=..., _name=...)\n    at gazebo/common/Plugin.hh:168\n#11 0x00007ffff67d46c3 in gazebo::addPlugin (_filename=...)\n    at gazebo/gazebo.cc:99\n#12 0x00000000004710d8 in parse_args (_argc=_argc@entry=4, _argv=_argv@entry=0x7fffffffd8e8)\n    at gazebo/gui/GuiIface.cc:123\n#13 0x0000000000471aa9 in gazebo::gui::run (_argc=4, _argv=0x7fffffffd8e8)\n    at gazebo/gui/GuiIface.cc:252\n#14 0x000000000044b6d9 in main (_argc=<optimized out>, _argv=<optimized out>)\n    at gazebo/gui/main.cc:23\n(gdb) \n~~~", "markup": "markdown", "html": "<p>I can confirm the failure:</p>\n<div class=\"codehilite\"><pre><span></span>$ hg up default\n$ <span class=\"nb\">cd</span> examples/plugins/gui_overlay_plugin_time\n$ mkdir build\n$ <span class=\"nb\">cd</span> build\n$ cmake ..\n$ make\n$ gzserver <span class=\"p\">&amp;</span>\n$ <span class=\"nv\">GAZEBO_PLUGIN_PATH</span><span class=\"o\">=</span><span class=\"nv\">$PWD</span> <span class=\"o\">&amp;&amp;</span> gdb gzclient\n...\n<span class=\"o\">(</span>gdb<span class=\"o\">)</span> r --verbose -g <span class=\"nv\">$PWD</span>/libgui_example_time_widget.so\n...\nGazebo multi-robot simulator, version <span class=\"m\">4</span>.0.2\nCopyright <span class=\"o\">(</span>C<span class=\"o\">)</span> <span class=\"m\">2012</span>-2014 Open Source Robotics Foundation.\nReleased under the Apache <span class=\"m\">2</span> License.\nhttp://gazebosim.org\n\nQWidget: Must construct a QApplication before a QPaintDevice\n\nProgram received signal SIGABRT, Aborted.\n0x00007ffff318fbb9 in __GI_raise <span class=\"o\">(</span><span class=\"nv\">sig</span><span class=\"o\">=</span>sig@entry<span class=\"o\">=</span><span class=\"m\">6</span><span class=\"o\">)</span> at ../nptl/sysdeps/unix/sysv/linux/raise.c:56\n<span class=\"m\">56</span>  ../nptl/sysdeps/unix/sysv/linux/raise.c: No such file or directory.\n<span class=\"o\">(</span>gdb<span class=\"o\">)</span> bt\n<span class=\"c1\">#0  0x00007ffff318fbb9 in __GI_raise (sig=sig@entry=6) at ../nptl/sysdeps/unix/sysv/linux/raise.c:56</span>\n<span class=\"c1\">#1  0x00007ffff3192fc8 in __GI_abort () at abort.c:89</span>\n<span class=\"c1\">#2  0x00007ffff567ec92 in qt_message_output(QtMsgType, char const*) ()</span>\n   from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n<span class=\"c1\">#3  0x00007ffff567eff9 in ?? () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4</span>\n<span class=\"c1\">#4  0x00007ffff567f804 in qFatal(char const*, ...) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4</span>\n<span class=\"c1\">#5  0x00007ffff5cfed56 in QWidgetPrivate::QWidgetPrivate(int) ()</span>\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n<span class=\"c1\">#6  0x00007ffff5d0d95d in QWidget::QWidget(QWidget*, QFlags&lt;Qt::WindowType&gt;) ()</span>\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n<span class=\"c1\">#7  0x00007fffd73b8659 in gazebo::GUIPlugin::GUIPlugin() ()</span>\n   from examples/plugins/gui_overlay_plugin_time/build/libgui_example_time_widget.so\n<span class=\"c1\">#8  0x00007fffd73b6a1a in gazebo::GUIExampleTimeWidget::GUIExampleTimeWidget() ()</span>\n   from examples/plugins/gui_overlay_plugin_time/build/libgui_example_time_widget.so\n<span class=\"c1\">#9  0x00007fffd73b69d0 in RegisterPlugin ()</span>\n   from examples/plugins/gui_overlay_plugin_time/build/libgui_example_time_widget.so\n<span class=\"c1\">#10 0x00007ffff67d5666 in gazebo::PluginT&lt;gazebo::SystemPlugin&gt;::Create (_filename=..., _name=...)</span>\n    at gazebo/common/Plugin.hh:168\n<span class=\"c1\">#11 0x00007ffff67d46c3 in gazebo::addPlugin (_filename=...)</span>\n    at gazebo/gazebo.cc:99\n<span class=\"c1\">#12 0x00000000004710d8 in parse_args (_argc=_argc@entry=4, _argv=_argv@entry=0x7fffffffd8e8)</span>\n    at gazebo/gui/GuiIface.cc:123\n<span class=\"c1\">#13 0x0000000000471aa9 in gazebo::gui::run (_argc=4, _argv=0x7fffffffd8e8)</span>\n    at gazebo/gui/GuiIface.cc:252\n<span class=\"c1\">#14 0x000000000044b6d9 in main (_argc=&lt;optimized out&gt;, _argv=&lt;optimized out&gt;)</span>\n    at gazebo/gui/main.cc:23\n<span class=\"o\">(</span>gdb<span class=\"o\">)</span> \n</pre></div>", "type": "rendered"}, "created_on": "2014-10-24T23:34:12.319515+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 13200959}