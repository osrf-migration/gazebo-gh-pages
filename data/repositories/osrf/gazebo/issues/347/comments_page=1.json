{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/347/comments/2775629.json"}, "html": {"href": "#!/osrf/gazebo/issues/347#comment-2775629"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/347.json"}}, "type": "issue", "id": 347, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Gazebo crashes if a plugin parameter has an empty value"}, "content": {"raw": "@meyerj:  is it the case that [Element::value](#!/osrf/gazebo/src/ba1993e18ce8/gazebo/sdf/interface/SDF.cc?at=default#cl-889) is null in this line?\n", "markup": "markdown", "html": "<p>@meyerj:  is it the case that <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/ba1993e18ce8/gazebo/sdf/interface/SDF.cc?at=default#cl-889\" rel=\"nofollow\">Element::value</a> is null in this line?</p>", "type": "rendered"}, "created_on": "2013-01-08T00:19:39.974166+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": null, "type": "issue_comment", "id": 2775629}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/347/comments/2777589.json"}, "html": {"href": "#!/osrf/gazebo/issues/347#comment-2777589"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/347.json"}}, "type": "issue", "id": 347, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Gazebo crashes if a plugin parameter has an empty value"}, "content": {"raw": "Yes, Element::value is null when the segfault happens. At least for the parser_deprecated no value is added to the element if the string is empty in \n```parser_deprecated::copyBlockChildren()``` at [parser_deprecated.cpp:103](#!/osrf/gazebo/src/13ac178834e0/gazebo/sdf/interface/parser_deprecated.cc?at=fuerte#cl-103). It's probably the same with the new ```parser::copyChildren()``` method in [parser.cpp:757](#!/osrf/gazebo/src/ba1993e18ce8fd84a97bc09c750398d61c0b92e4/gazebo/sdf/interface/parser.cc?at=default#cl-757), but in [parser.cpp:766](#!/osrf/gazebo/src/ba1993e18ce8fd84a97bc09c750398d61c0b92e4/gazebo/sdf/interface/parser.cc?at=default#cl-766) another test is used to check if the element has a text node.", "markup": "markdown", "html": "<p>Yes, Element::value is null when the segfault happens. At least for the parser_deprecated no value is added to the element if the string is empty in \n<code>parser_deprecated::copyBlockChildren()</code> at <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/13ac178834e0/gazebo/sdf/interface/parser_deprecated.cc?at=fuerte#cl-103\" rel=\"nofollow\">parser_deprecated.cpp:103</a>. It's probably the same with the new <code>parser::copyChildren()</code> method in <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/ba1993e18ce8fd84a97bc09c750398d61c0b92e4/gazebo/sdf/interface/parser.cc?at=default#cl-757\" rel=\"nofollow\">parser.cpp:757</a>, but in <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/ba1993e18ce8fd84a97bc09c750398d61c0b92e4/gazebo/sdf/interface/parser.cc?at=default#cl-766\" rel=\"nofollow\">parser.cpp:766</a> another test is used to check if the element has a text node.</p>", "type": "rendered"}, "created_on": "2013-01-08T08:26:30.864057+00:00", "user": {"display_name": "Johannes Meyer", "uuid": "{58d19163-cefc-479b-b80a-d78fb811b533}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B58d19163-cefc-479b-b80a-d78fb811b533%7D"}, "html": {"href": "https://bitbucket.org/%7B58d19163-cefc-479b-b80a-d78fb811b533%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1363fb056a859ce072c21fdb8da3a710d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJM-6.png"}}, "nickname": "johmeyer", "type": "user", "account_id": "557058:7237c8c3-e637-4ea0-ab9c-d45f303d8fb9"}, "updated_on": "2013-01-08T08:28:43.290543+00:00", "type": "issue_comment", "id": 2777589}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/347/comments/2801593.json"}, "html": {"href": "#!/osrf/gazebo/issues/347#comment-2801593"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/347.json"}}, "type": "issue", "id": 347, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Gazebo crashes if a plugin parameter has an empty value"}, "content": {"raw": "can you create a very simple test urdf or sdf?", "markup": "markdown", "html": "<p>can you create a very simple test urdf or sdf?</p>", "type": "rendered"}, "created_on": "2013-01-10T00:42:59.408190+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": null, "type": "issue_comment", "id": 2801593}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/347/comments/2804707.json"}, "html": {"href": "#!/osrf/gazebo/issues/347#comment-2804707"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/347.json"}}, "type": "issue", "id": 347, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Gazebo crashes if a plugin parameter has an empty value"}, "content": {"raw": "You find a small test case attached. I just copied the hello_world plugin example from [the plugin tutorials](http://gazebosim.org/wiki/Tutorials/1.3/plugins/overview) as a base.\r\n\r\nUntil now, I have only used urdf. The sdf parser that is used in the example emits a warning if a parameter value is empty, but gazebo crashes nevertheless:\r\n\r\n```\r\nGazebo multi-robot simulator, version 1.0.2\r\nCopyright (C) 2011 Nate Koenig, John Hsu, Andrew Howard, and contributors.\r\nReleased under the Apache 2 License.\r\nhttp://gazebosim.org\r\n\r\nError [parser.cc:638] trying to copy stuff inside <plugin> block, but they have NULL contents\r\nMsg Waiting for master\r\nMsg Connected to gazebo master @ http://localhost:11345\r\ngzserver: /usr/include/boost/smart_ptr/shared_ptr.hpp:418: T* boost::shared_ptr<T>::operator->() const [with T = sdf::Param]: Assertion `px != 0' failed.\r\nAborted (core dumped)\r\n```", "markup": "markdown", "html": "<p>You find a small test case attached. I just copied the hello_world plugin example from <a data-is-external-link=\"true\" href=\"http://gazebosim.org/wiki/Tutorials/1.3/plugins/overview\" rel=\"nofollow\">the plugin tutorials</a> as a base.</p>\n<p>Until now, I have only used urdf. The sdf parser that is used in the example emits a warning if a parameter value is empty, but gazebo crashes nevertheless:</p>\n<div class=\"codehilite\"><pre><span></span>Gazebo multi-robot simulator, version 1.0.2\nCopyright (C) 2011 Nate Koenig, John Hsu, Andrew Howard, and contributors.\nReleased under the Apache 2 License.\nhttp://gazebosim.org\n\nError [parser.cc:638] trying to copy stuff inside &lt;plugin&gt; block, but they have NULL contents\nMsg Waiting for master\nMsg Connected to gazebo master @ http://localhost:11345\ngzserver: /usr/include/boost/smart_ptr/shared_ptr.hpp:418: T* boost::shared_ptr&lt;T&gt;::operator-&gt;() const [with T = sdf::Param]: Assertion `px != 0&#39; failed.\nAborted (core dumped)\n</pre></div>", "type": "rendered"}, "created_on": "2013-01-10T09:52:20.641313+00:00", "user": {"display_name": "Johannes Meyer", "uuid": "{58d19163-cefc-479b-b80a-d78fb811b533}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B58d19163-cefc-479b-b80a-d78fb811b533%7D"}, "html": {"href": "https://bitbucket.org/%7B58d19163-cefc-479b-b80a-d78fb811b533%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1363fb056a859ce072c21fdb8da3a710d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJM-6.png"}}, "nickname": "johmeyer", "type": "user", "account_id": "557058:7237c8c3-e637-4ea0-ab9c-d45f303d8fb9"}, "updated_on": null, "type": "issue_comment", "id": 2804707}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/347/comments/2805686.json"}, "html": {"href": "#!/osrf/gazebo/issues/347#comment-2805686"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/347.json"}}, "type": "issue", "id": 347, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Gazebo crashes if a plugin parameter has an empty value"}, "content": {"raw": "I created a patch for sdf::Element, that introduces a null check of the value pointer before accessing it in the GetValueX() methods and returns the default value if no value is available. For strings this behavior is natural. For the other datatypes, it might be worth to print a warning. See https://bitbucket.org/johmeyer/gazebo/commits/ffddf9ef65474792581e7b892c15763a9a78554d.", "markup": "markdown", "html": "<p>I created a patch for sdf::Element, that introduces a null check of the value pointer before accessing it in the GetValueX() methods and returns the default value if no value is available. For strings this behavior is natural. For the other datatypes, it might be worth to print a warning. See <a href=\"https://bitbucket.org/johmeyer/gazebo/commits/ffddf9ef65474792581e7b892c15763a9a78554d\" rel=\"nofollow\" class=\"ap-connect-link\">https://bitbucket.org/johmeyer/gazebo/commits/ffddf9ef65474792581e7b892c15763a9a78554d</a>.</p>", "type": "rendered"}, "created_on": "2013-01-10T12:05:45.937008+00:00", "user": {"display_name": "Johannes Meyer", "uuid": "{58d19163-cefc-479b-b80a-d78fb811b533}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B58d19163-cefc-479b-b80a-d78fb811b533%7D"}, "html": {"href": "https://bitbucket.org/%7B58d19163-cefc-479b-b80a-d78fb811b533%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1363fb056a859ce072c21fdb8da3a710d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJM-6.png"}}, "nickname": "johmeyer", "type": "user", "account_id": "557058:7237c8c3-e637-4ea0-ab9c-d45f303d8fb9"}, "updated_on": null, "type": "issue_comment", "id": 2805686}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/347/comments/3099683.json"}, "html": {"href": "#!/osrf/gazebo/issues/347#comment-3099683"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/347.json"}}, "type": "issue", "id": 347, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Gazebo crashes if a plugin parameter has an empty value"}, "content": {"raw": "created pull request #283", "markup": "markdown", "html": "<p>created <a href=\"#!/osrf/gazebo/pull-requests/283/check-if-a-parameter-value-is-empty-before\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #283</a></p>", "type": "rendered"}, "created_on": "2013-02-11T12:16:36.134230+00:00", "user": {"display_name": "Johannes Meyer", "uuid": "{58d19163-cefc-479b-b80a-d78fb811b533}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B58d19163-cefc-479b-b80a-d78fb811b533%7D"}, "html": {"href": "https://bitbucket.org/%7B58d19163-cefc-479b-b80a-d78fb811b533%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1363fb056a859ce072c21fdb8da3a710d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJM-6.png"}}, "nickname": "johmeyer", "type": "user", "account_id": "557058:7237c8c3-e637-4ea0-ab9c-d45f303d8fb9"}, "updated_on": null, "type": "issue_comment", "id": 3099683}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/347/comments/3212545.json"}, "html": {"href": "#!/osrf/gazebo/issues/347#comment-3212545"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/347.json"}}, "type": "issue", "id": 347, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Gazebo crashes if a plugin parameter has an empty value"}, "content": {"raw": "Resolved in pull request #283", "markup": "markdown", "html": "<p>Resolved in <a href=\"#!/osrf/gazebo/pull-requests/283/check-if-a-parameter-value-is-empty-before\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #283</a></p>", "type": "rendered"}, "created_on": "2013-02-22T15:49:54.272983+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": null, "type": "issue_comment", "id": 3212545}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/347/comments/30609852.json"}, "html": {"href": "#!/osrf/gazebo/issues/347#comment-30609852"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/347.json"}}, "type": "issue", "id": 347, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Gazebo crashes if a plugin parameter has an empty value"}, "content": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "created_on": "2016-09-14T19:21:09.235921+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": null, "type": "issue_comment", "id": 30609852}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/347/comments/30612597.json"}, "html": {"href": "#!/osrf/gazebo/issues/347#comment-30612597"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/347.json"}}, "type": "issue", "id": 347, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Gazebo crashes if a plugin parameter has an empty value"}, "content": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "created_on": "2016-09-14T19:45:06.063949+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": null, "type": "issue_comment", "id": 30612597}], "page": 1, "size": 9}