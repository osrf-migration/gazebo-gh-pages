{"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/708/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/708.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/708/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/708/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/708/gzstats-segfault-when-node-cant-find"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/708/vote"}}, "reporter": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "title": "gzstats segfault when node can't find namespace", "component": null, "votes": 0, "watches": 1, "content": {"raw": "gzstats can seg-fault when its transport node can't find a namespace, which may occur when the master is running slowly (such as with valgrind).\r\n\r\nConsole output:\r\n~~~\r\n$ gzstats\r\nMsg Waiting for master.....................................................................\r\nMsg Connected to gazebo master @ http://127.0.0.1:11345\r\nMsg Publicized address: 192.168.1.67\r\nError [ConnectionManager.cc:507] Unable to get namespaces from master\r\nError [Node.cc:82] No namespace found\r\nSegmentation fault (core dumped)\r\n~~~\r\n\r\nBacktrace\r\n~~~\r\n(gdb) bt\r\n#0  __memcpy_ssse3_back ()\r\n    at ../sysdeps/x86_64/multiarch/memcpy-ssse3-back.S:1579\r\n#1  0x00007fd24bf3fe29 in std::string::append(std::string const&) ()\r\n   from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\r\n#2  0x00000000004396e9 in std::operator+<char, std::char_traits<char>, std::allocator<char> > (__lhs=0x7fd24ce81718 \"/gazebo/\", __rhs=...)\r\n    at /usr/include/c++/4.6/bits/basic_string.tcc:704\r\n#3  0x00007fd24ce59045 in gazebo::transport::Node::DecodeTopicName (\r\n    this=0x2623c40, _topic=...)\r\n    at /home/scpeters/osrf/gazebo_1.8/gazebo/transport/Node.cc:104\r\n#4  0x000000000042fcd7 in gazebo::transport::Node::Subscribe<gazebo::msgs::WorldStatistics> (this=0x2623c40, _topic=..., \r\n    _fp=0x429f84 <cb(boost::shared_ptr<gazebo::msgs::WorldStatistics const> cons---Type <return> to continue, or q <return> to quit---\r\nt&)>, _latching=false)\r\n    at /home/scpeters/osrf/gazebo_1.8/gazebo/transport/Node.hh:208\r\n#5  0x000000000042aaa0 in main (argc=1, argv=0x7fff3d763768)\r\n    at /home/scpeters/osrf/gazebo_1.8/tools/gzstats.cc:169\r\n~~~\r\nA pull request is forthcoming.", "markup": "markdown", "html": "<p>gzstats can seg-fault when its transport node can't find a namespace, which may occur when the master is running slowly (such as with valgrind).</p>\n<p>Console output:</p>\n<div class=\"codehilite\"><pre><span></span>$ gzstats\nMsg Waiting <span class=\"k\">for</span> master.....................................................................\nMsg Connected to gazebo master @ http://127.0.0.1:11345\nMsg Publicized address: <span class=\"m\">192</span>.168.1.67\nError <span class=\"o\">[</span>ConnectionManager.cc:507<span class=\"o\">]</span> Unable to get namespaces from master\nError <span class=\"o\">[</span>Node.cc:82<span class=\"o\">]</span> No namespace found\nSegmentation fault <span class=\"o\">(</span>core dumped<span class=\"o\">)</span>\n</pre></div>\n\n\n<p>Backtrace</p>\n<div class=\"codehilite\"><pre><span></span>(gdb) bt\n#0  __memcpy_ssse3_back ()\n    at ../sysdeps/x86_64/multiarch/memcpy-ssse3-back.S:1579\n#1  0x00007fd24bf3fe29 in std::string::append(std::string const&amp;) ()\n   from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#2  0x00000000004396e9 in std::operator+&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; (__lhs=0x7fd24ce81718 &quot;/gazebo/&quot;, __rhs=...)\n    at /usr/include/c++/4.6/bits/basic_string.tcc:704\n#3  0x00007fd24ce59045 in gazebo::transport::Node::DecodeTopicName (\n    this=0x2623c40, _topic=...)\n    at /home/scpeters/osrf/gazebo_1.8/gazebo/transport/Node.cc:104\n#4  0x000000000042fcd7 in gazebo::transport::Node::Subscribe&lt;gazebo::msgs::WorldStatistics&gt; (this=0x2623c40, _topic=..., \n    _fp=0x429f84 &lt;cb(boost::shared_ptr&lt;gazebo::msgs::WorldStatistics const&gt; cons---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---\nt&amp;)&gt;, _latching=false)\n    at /home/scpeters/osrf/gazebo_1.8/gazebo/transport/Node.hh:208\n#5  0x000000000042aaa0 in main (argc=1, argv=0x7fff3d763768)\n    at /home/scpeters/osrf/gazebo_1.8/tools/gzstats.cc:169\n</pre></div>\n\n\n<p>A pull request is forthcoming.</p>", "type": "rendered"}, "assignee": null, "state": "closed", "version": {"name": "all", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/225575.json"}}}, "edited_on": null, "created_on": "2013-05-31T20:26:00.154157+00:00", "milestone": null, "updated_on": "2016-09-20T18:20:30.494274+00:00", "type": "issue", "id": 708}