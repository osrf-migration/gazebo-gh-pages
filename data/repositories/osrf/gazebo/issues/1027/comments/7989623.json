{"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1027/comments/7989623.json"}, "html": {"href": "#!/osrf/gazebo/issues/1027#comment-7989623"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1027.json"}}, "type": "issue", "id": 1027, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Integration test compile error in default branch if bullet-2.82 is not installed"}, "content": {"raw": "Try this:\n~~~\ndiff -r 52e965f7dd99 test/integration/physics_friction.cc\n--- a/test/integration/physics_friction.cc\tTue Jan 28 09:54:31 2014 -0800\n+++ b/test/integration/physics_friction.cc\tWed Jan 29 11:51:21 2014 -0800\n@@ -20,8 +20,10 @@\n #include \"gazebo/physics/physics.hh\"\n #include \"gazebo/physics/ode/ODESurfaceParams.hh\"\n #include \"gazebo/physics/ode/ODETypes.hh\"\n-#include \"gazebo/physics/bullet/BulletSurfaceParams.hh\"\n-#include \"gazebo/physics/bullet/BulletTypes.hh\"\n+#if HAVE_BULLET\n+# include \"gazebo/physics/bullet/BulletSurfaceParams.hh\"\n+# include \"gazebo/physics/bullet/BulletTypes.hh\"\n+#endif  // HAVE_BULLET\n #include \"gazebo/transport/transport.hh\"\n #include \"ServerFixture.hh\"\n #include \"helper_physics_generator.hh\"\n@@ -58,6 +60,7 @@\n                   // Average the mu1 and mu2 values\n                   this->friction = (surface->mu1 + surface->mu2) / 2.0;\n                 }\n+#if HAVE_BULLET\n                 else if (physics->GetType() == \"bullet\")\n                 {\n                   physics::BulletSurfaceParamsPtr surface =\n@@ -66,6 +69,7 @@\n                   // Average the mu1 and mu2 values\n                   this->friction = (surface->mu1 + surface->mu2) / 2.0;\n                 }\n+#endif  // HAVE_BULLET\n               }\n             }\n     public: ~FrictionBox() {}\n~~~", "markup": "markdown", "html": "<p>Try this:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gh\">diff -r 52e965f7dd99 test/integration/physics_friction.cc</span>\n<span class=\"gd\">--- a/test/integration/physics_friction.cc  Tue Jan 28 09:54:31 2014 -0800</span>\n<span class=\"gi\">+++ b/test/integration/physics_friction.cc  Wed Jan 29 11:51:21 2014 -0800</span>\n<span class=\"gu\">@@ -20,8 +20,10 @@</span>\n #include &quot;gazebo/physics/physics.hh&quot;\n #include &quot;gazebo/physics/ode/ODESurfaceParams.hh&quot;\n #include &quot;gazebo/physics/ode/ODETypes.hh&quot;\n<span class=\"gd\">-#include &quot;gazebo/physics/bullet/BulletSurfaceParams.hh&quot;</span>\n<span class=\"gd\">-#include &quot;gazebo/physics/bullet/BulletTypes.hh&quot;</span>\n<span class=\"gi\">+#if HAVE_BULLET</span>\n<span class=\"gi\">+# include &quot;gazebo/physics/bullet/BulletSurfaceParams.hh&quot;</span>\n<span class=\"gi\">+# include &quot;gazebo/physics/bullet/BulletTypes.hh&quot;</span>\n<span class=\"gi\">+#endif  // HAVE_BULLET</span>\n #include &quot;gazebo/transport/transport.hh&quot;\n #include &quot;ServerFixture.hh&quot;\n #include &quot;helper_physics_generator.hh&quot;\n<span class=\"gu\">@@ -58,6 +60,7 @@</span>\n                   // Average the mu1 and mu2 values\n                   this-&gt;friction = (surface-&gt;mu1 + surface-&gt;mu2) / 2.0;\n                 }\n<span class=\"gi\">+#if HAVE_BULLET</span>\n                 else if (physics-&gt;GetType() == &quot;bullet&quot;)\n                 {\n                   physics::BulletSurfaceParamsPtr surface =\n<span class=\"gu\">@@ -66,6 +69,7 @@</span>\n                   // Average the mu1 and mu2 values\n                   this-&gt;friction = (surface-&gt;mu1 + surface-&gt;mu2) / 2.0;\n                 }\n<span class=\"gi\">+#endif  // HAVE_BULLET</span>\n               }\n             }\n     public: ~FrictionBox() {}\n</pre></div>", "type": "rendered"}, "created_on": "2014-01-29T19:51:21.151578+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 7989623}