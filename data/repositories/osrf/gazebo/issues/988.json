{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/988/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/988.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/988/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/988/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/988/build-vs-simbody-failing-with-cmake"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/988/vote"}}, "reporter": {"display_name": "andy_somerville", "uuid": "{09fd5d4b-d90e-4416-9a6a-2e5cd638472c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B09fd5d4b-d90e-4416-9a6a-2e5cd638472c%7D"}, "html": {"href": "https://bitbucket.org/%7B09fd5d4b-d90e-4416-9a6a-2e5cd638472c%7D/"}, "avatar": {"href": "https://bitbucket.org/account/andy_somerville/avatar/"}}, "nickname": "andy_somerville", "type": "user", "account_id": null}, "title": "Build vs simbody failing with cmake problems", "component": {"name": "build", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/132954.json"}}}, "votes": 0, "watches": 4, "content": {"raw": "This is most likely an upstream problem with simbody, but just in case there's a way around it from gazebo:\r\n\r\nI'm attempting to compile bitbucket gazebo with github simbody and failing to get gazebo to recognize my simbody source. (https://github.com/catskul/simbody.git)\r\n\r\nIt appears that it might be related to simbody's cmake scripts are written with some particular setup, but attempting to compile vs deb libsimbody-dev package fails as well.\r\n\r\nSimbody_LIBRARIES are meant to be set once the find script has happened, but it fails because it cannot find the libraries\r\n\r\nIn the case of the deb package the problem is that the libraries are not in /usr/lib as expected but rather in /usr/lib/x86_64-linux-gnu/\r\n\r\n\r\nIn the case of the from source build of simbody, it appears that their scripts make some bad assumptions about where the libs will be installed\r\n\r\noriginally I had tried and out of source build by creating a build directory and calling cmake back to the source root from there. When this did not work It appeared as if perhaps out of source simply wasn't supported, but when I called cmake from the source root itself, and it dumped all the artifacts right there, and also still failed in the same way it seemed clear there was a problem with the scripts.\r\n\r\n\r\nWhen compiling gazebo vs source with the correct encantation:\r\n\r\n\r\n```\r\n#!\r\nexport SIMBODY_HOME=/home/user/sandbox/simbody/\r\ncmake ../ -DSimbody_DIR=/home/user/sandbox/simbody/\r\n```\r\n\r\nI get:\r\n\r\n```\r\n#!\r\nCMake Error: The following variables are used in this project, but they are set to NOTFOUND.\r\nPlease set them or make sure they are set and tested correctly in the CMake files:\r\nSimbody_LIBRARIES (ADVANCED)\r\n    linked by target \"gazebo_physics_simbody\" in directory /home/user/sandbox/gazebo/gazebo/physics/simbody\r\n```\r\n\r\nAfter some debugging it seems to be looking for libraries in \r\n\r\n```\r\n#!\r\n/home/user/sandbox/simbody/Simbody/lib\r\n```\r\n\r\nwhich doesn't exist as the build dumps all artifacts in whatever directory cmake was called from.\r\n\r\n", "markup": "markdown", "html": "<p>This is most likely an upstream problem with simbody, but just in case there's a way around it from gazebo:</p>\n<p>I'm attempting to compile bitbucket gazebo with github simbody and failing to get gazebo to recognize my simbody source. (<a href=\"https://github.com/catskul/simbody.git\" rel=\"nofollow\" class=\"ap-connect-link\">https://github.com/catskul/simbody.git</a>)</p>\n<p>It appears that it might be related to simbody's cmake scripts are written with some particular setup, but attempting to compile vs deb libsimbody-dev package fails as well.</p>\n<p>Simbody_LIBRARIES are meant to be set once the find script has happened, but it fails because it cannot find the libraries</p>\n<p>In the case of the deb package the problem is that the libraries are not in /usr/lib as expected but rather in /usr/lib/x86_64-linux-gnu/</p>\n<p>In the case of the from source build of simbody, it appears that their scripts make some bad assumptions about where the libs will be installed</p>\n<p>originally I had tried and out of source build by creating a build directory and calling cmake back to the source root from there. When this did not work It appeared as if perhaps out of source simply wasn't supported, but when I called cmake from the source root itself, and it dumped all the artifacts right there, and also still failed in the same way it seemed clear there was a problem with the scripts.</p>\n<p>When compiling gazebo vs source with the correct encantation:</p>\n<div class=\"codehilite\"><pre><span></span>export SIMBODY_HOME=/home/user/sandbox/simbody/\ncmake ../ -DSimbody_DIR=/home/user/sandbox/simbody/\n</pre></div>\n\n\n<p>I get:</p>\n<div class=\"codehilite\"><pre><span></span>CMake Error: The following variables are used in this project, but they are set to NOTFOUND.\nPlease set them or make sure they are set and tested correctly in the CMake files:\nSimbody_LIBRARIES (ADVANCED)\n    linked by target &quot;gazebo_physics_simbody&quot; in directory /home/user/sandbox/gazebo/gazebo/physics/simbody\n</pre></div>\n\n\n<p>After some debugging it seems to be looking for libraries in </p>\n<div class=\"codehilite\"><pre><span></span>/home/user/sandbox/simbody/Simbody/lib\n</pre></div>\n\n\n<p>which doesn't exist as the build dumps all artifacts in whatever directory cmake was called from.</p>", "type": "rendered"}, "assignee": null, "state": "closed", "version": {"name": "all", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/225575.json"}}}, "edited_on": null, "created_on": "2013-12-17T23:06:46.479189+00:00", "milestone": null, "updated_on": "2016-09-14T19:45:21.459369+00:00", "type": "issue", "id": 988}