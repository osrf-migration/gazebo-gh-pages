{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/1970/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/1970.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/1970/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/1970/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/1970/event-events-step-and-event-events-stop"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/1970/vote"}}, "reporter": null, "title": "event::Events::step and event::Events::stop never called", "component": {"name": "common", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/138866.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "Reading source at tag gazebo7_7.1.0\r\n\r\ngazebo / common / Events.hh 298-304 defines events for simulation \"stop\", \"step\" and \"pause\".\r\n\r\ngazebo / physics / World.cc 155 even connects a handler to the \"step\" event.\r\n\r\nHowever in the entire source tree I couldn't find a single call to event::Events::step(), meaning that the event is probably never triggered.\r\n\r\nIn fact, the step handler routine in World.cc is being called **directly** from World::OnControl() (line 1295), bypassing the event mechanism entirely.\r\n\r\nThe same applies to the \"stop\" event except that it's neither hooked nor triggered by any code.\r\n\r\nI suppose that events were put there in the first place to allow plugins to hook them, but this is rather pointless when they're never triggered.\r\n", "markup": "markdown", "html": "<p>Reading source at tag gazebo7_7.1.0</p>\n<p>gazebo / common / Events.hh 298-304 defines events for simulation \"stop\", \"step\" and \"pause\".</p>\n<p>gazebo / physics / World.cc 155 even connects a handler to the \"step\" event.</p>\n<p>However in the entire source tree I couldn't find a single call to event::Events::step(), meaning that the event is probably never triggered.</p>\n<p>In fact, the step handler routine in World.cc is being called <strong>directly</strong> from World::OnControl() (line 1295), bypassing the event mechanism entirely.</p>\n<p>The same applies to the \"stop\" event except that it's neither hooked nor triggered by any code.</p>\n<p>I suppose that events were put there in the first place to allow plugins to hook them, but this is rather pointless when they're never triggered.</p>", "type": "rendered"}, "assignee": null, "state": "duplicate", "version": {"name": "all", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/225575.json"}}}, "edited_on": null, "created_on": "2016-05-25T23:11:59.381216+00:00", "milestone": null, "updated_on": "2016-09-14T19:20:15.289108+00:00", "type": "issue", "id": 1970}