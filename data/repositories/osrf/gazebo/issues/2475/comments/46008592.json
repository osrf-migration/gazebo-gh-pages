{"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2475/comments/46008592.json"}, "html": {"href": "#!/osrf/gazebo/issues/2475#comment-46008592"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2475.json"}}, "type": "issue", "id": 2475, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Gazebo9 compile error with ogre1.11"}, "content": {"raw": "@rochus Tried to compile on Arch Linux with your patch today. Found out that Gazebo still needs one patch in `gazebo/rendering/RenderEngine.cc` at line 427:\n```\n+++\n#if (OGRE_VERSION >= ((1 << 16) | (11 << 8) | 0))\n    plugins.push_back(path+\"/Codec_EXR\");\n    plugins.push_back(path+\"/Codec_FreeImage\");\n#endif\n\n    plugins.push_back(path+\"/RenderSystem_GL\");\n    plugins.push_back(path+\"/Plugin_ParticleFX\");\n    plugins.push_back(path+\"/Plugin_BSPSceneManager\");\n    plugins.push_back(path+\"/Plugin_OctreeSceneManager\");\n\n```\nPlus you need to use `asp export ogre` to get the PKGBUILD of Ogre 1.11 and change the cmake options:\n```\n  cmake .. \\\n    -DCMAKE_INSTALL_PREFIX=/usr \\\n    -DOGRE_BUILD_DEPENDENCIES=FALSE \\\n    -DCMAKE_BUILD_TYPE=RelWithDebInfo \\\n    -DOpenGL_GL_PREFERENCE=GLVND \\\n    -DOGRE_BUILD_PLUGIN_FREEIMAGE=TRUE\n\n```\n\nConfirmed that Gazebo 9.0.0 works seamlessly after these patches.", "markup": "markdown", "html": "<p>@rochus Tried to compile on Arch Linux with your patch today. Found out that Gazebo still needs one patch in <code>gazebo/rendering/RenderEngine.cc</code> at line 427:</p>\n<div class=\"codehilite\"><pre><span></span>+++\n#if (OGRE_VERSION &gt;= ((1 &lt;&lt; 16) | (11 &lt;&lt; 8) | 0))\n    plugins.push_back(path+&quot;/Codec_EXR&quot;);\n    plugins.push_back(path+&quot;/Codec_FreeImage&quot;);\n#endif\n\n    plugins.push_back(path+&quot;/RenderSystem_GL&quot;);\n    plugins.push_back(path+&quot;/Plugin_ParticleFX&quot;);\n    plugins.push_back(path+&quot;/Plugin_BSPSceneManager&quot;);\n    plugins.push_back(path+&quot;/Plugin_OctreeSceneManager&quot;);\n</pre></div>\n\n\n<p>Plus you need to use <code>asp export ogre</code> to get the PKGBUILD of Ogre 1.11 and change the cmake options:</p>\n<div class=\"codehilite\"><pre><span></span>  cmake .. \\\n    -DCMAKE_INSTALL_PREFIX=/usr \\\n    -DOGRE_BUILD_DEPENDENCIES=FALSE \\\n    -DCMAKE_BUILD_TYPE=RelWithDebInfo \\\n    -DOpenGL_GL_PREFERENCE=GLVND \\\n    -DOGRE_BUILD_PLUGIN_FREEIMAGE=TRUE\n</pre></div>\n\n\n<p>Confirmed that Gazebo 9.0.0 works seamlessly after these patches.</p>", "type": "rendered"}, "created_on": "2018-06-07T03:08:56.561153+00:00", "user": {"display_name": "Fan Jiang", "uuid": "{f65659c1-6df5-4fbb-aa86-e4abe468cc0f}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bf65659c1-6df5-4fbb-aa86-e4abe468cc0f%7D"}, "html": {"href": "https://bitbucket.org/%7Bf65659c1-6df5-4fbb-aa86-e4abe468cc0f%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:0c55812b-0e03-4c3a-a8a9-5476e0b962b7/0070d185-95ed-4c7a-a47f-abe3e780a87e/128"}}, "nickname": "proffan", "type": "user", "account_id": "557058:0c55812b-0e03-4c3a-a8a9-5476e0b962b7"}, "updated_on": null, "type": "issue_comment", "id": 46008592}