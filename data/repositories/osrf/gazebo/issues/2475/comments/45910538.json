{"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2475/comments/45910538.json"}, "html": {"href": "#!/osrf/gazebo/issues/2475#comment-45910538"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2475.json"}}, "type": "issue", "id": 2475, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Gazebo9 compile error with ogre1.11"}, "content": {"raw": "I tried to compile gazebo 9.0.0 against ogre 1.11 on Arch Linux as well and fixed all the compilation errors using the ogre documentation (see below for link to files). \n\nPlease note that this leaves a multitude of deprecation warnings unaddressed. Moreover, I'm neither a gazebo nor an ogre developer, and only followed ogre 1.11's documentation and tried to get rid of the compilation errors. At the moment, gazebo compiles and starts, but gives me only a black screen instead of the 3D view. That may be the result of one of the changes that I introduced.\nIn addition, there are some things were I question gazebo's implementation. For instance, gazebo has almost completely re-implemented (copied?) the ShaderHelper classes (ogre: part of the Terrain component, gazebo: within Heightmap.cc). Because ogre 1.11 doesn't expose the symbols for ShaderHelper\\* any longer in libOgreTerrain.so, gazebo cannot derive its own classes from it. However, because from a source-code level it's almost a 1:1 copy, I don't see the point in having this part of code in gazebo... To solve the compilation issues, I simply removed gazebo's classes that were derived from ShaderHelper\\*. That, however, could be one of the reasons why I get a black screen right now.\n\nYou see, the \"patch\" just fixes the compilation issues, and should be considered only as a starting point right now.\n\n\nAUR package discussion: https://aur.archlinux.org/packages/gazebo/\nPKGBUILD: https://gist.github.com/rochus/547b26bc85a39195e3d1833280798855\nogre-1.11.patch: https://gist.github.com/rochus/003b156bcc8368c8c353be12b748986e", "markup": "markdown", "html": "<p>I tried to compile gazebo 9.0.0 against ogre 1.11 on Arch Linux as well and fixed all the compilation errors using the ogre documentation (see below for link to files). </p>\n<p>Please note that this leaves a multitude of deprecation warnings unaddressed. Moreover, I'm neither a gazebo nor an ogre developer, and only followed ogre 1.11's documentation and tried to get rid of the compilation errors. At the moment, gazebo compiles and starts, but gives me only a black screen instead of the 3D view. That may be the result of one of the changes that I introduced.\nIn addition, there are some things were I question gazebo's implementation. For instance, gazebo has almost completely re-implemented (copied?) the ShaderHelper classes (ogre: part of the Terrain component, gazebo: within Heightmap.cc). Because ogre 1.11 doesn't expose the symbols for ShaderHelper* any longer in libOgreTerrain.so, gazebo cannot derive its own classes from it. However, because from a source-code level it's almost a 1:1 copy, I don't see the point in having this part of code in gazebo... To solve the compilation issues, I simply removed gazebo's classes that were derived from ShaderHelper*. That, however, could be one of the reasons why I get a black screen right now.</p>\n<p>You see, the \"patch\" just fixes the compilation issues, and should be considered only as a starting point right now.</p>\n<p>AUR package discussion: <a href=\"https://aur.archlinux.org/packages/gazebo/\" rel=\"nofollow\" class=\"ap-connect-link\">https://aur.archlinux.org/packages/gazebo/</a>\nPKGBUILD: <a href=\"https://gist.github.com/rochus/547b26bc85a39195e3d1833280798855\" rel=\"nofollow\" class=\"ap-connect-link\">https://gist.github.com/rochus/547b26bc85a39195e3d1833280798855</a>\nogre-1.11.patch: <a href=\"https://gist.github.com/rochus/003b156bcc8368c8c353be12b748986e\" rel=\"nofollow\" class=\"ap-connect-link\">https://gist.github.com/rochus/003b156bcc8368c8c353be12b748986e</a></p>", "type": "rendered"}, "created_on": "2018-06-03T12:07:19.099161+00:00", "user": {"display_name": "Nicolai Waniek", "uuid": "{8b7078a9-b7b6-42e0-bfab-fe568bcaf9c1}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B8b7078a9-b7b6-42e0-bfab-fe568bcaf9c1%7D"}, "html": {"href": "https://bitbucket.org/%7B8b7078a9-b7b6-42e0-bfab-fe568bcaf9c1%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:5da02bd2-b6b5-4bfd-a72a-cd24e59d25f9/42739f41-65c2-4d1b-82fb-a9180663016f/128"}}, "nickname": "rochus", "type": "user", "account_id": "557058:5da02bd2-b6b5-4bfd-a72a-cd24e59d25f9"}, "updated_on": "2018-06-03T12:19:24.916410+00:00", "type": "issue_comment", "id": 45910538}