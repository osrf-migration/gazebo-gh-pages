{"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/929/comments/6763075.json"}, "html": {"href": "#!/osrf/gazebo/issues/929#comment-6763075"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/929.json"}}, "type": "issue", "id": 929, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Consider using Eigen to improve math::Matrix classes"}, "content": {"raw": "Quoting from [Pose.hh](#!/osrf/gazebo/src/9fbc8f7c13b526bd14ac25ed40eb85547846462b/gazebo/math/Pose.hh?at=default#cl-125):\n~~~\n      /// \\brief Subtraction operator\n      /// A is the transform from O to P in frame O\n      /// B is the transform from O to Q in frame O\n      /// B - A is the transform from P to Q in frame P\n      /// \\param[in] _pose Pose to subtract from this one\n      /// \\return The resulting pose\n      public: inline Pose operator-(const Pose &_pose) const\n~~~\nI think the difference is caused by the coordinate frame. The Vector3 subtraction gives position expressed in the global frame, while Pose subtraction uses the reference frame of one of the poses. Since your example reference frames are rotated, I would not expect the results to be the same.", "markup": "markdown", "html": "<p>Quoting from <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/9fbc8f7c13b526bd14ac25ed40eb85547846462b/gazebo/math/Pose.hh?at=default#cl-125\" rel=\"nofollow\">Pose.hh</a>:</p>\n<div class=\"codehilite\"><pre><span></span>      /// \\brief Subtraction operator\n      /// A is the transform from O to P in frame O\n      /// B is the transform from O to Q in frame O\n      /// B - A is the transform from P to Q in frame P\n      /// \\param[in] _pose Pose to subtract from this one\n      /// \\return The resulting pose\n      public: inline Pose operator-(const Pose &amp;_pose) const\n</pre></div>\n\n\n<p>I think the difference is caused by the coordinate frame. The Vector3 subtraction gives position expressed in the global frame, while Pose subtraction uses the reference frame of one of the poses. Since your example reference frames are rotated, I would not expect the results to be the same.</p>", "type": "rendered"}, "created_on": "2013-11-05T18:00:09.342518+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 6763075}