{"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2373/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2373.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2373/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2373/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2373/unit_renderinglight_test-fails-with-ogre"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2373/vote"}}, "reporter": {"display_name": "Tim Rakowski", "uuid": "{568e53a4-2b97-42ea-929e-038af8b7825e}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B568e53a4-2b97-42ea-929e-038af8b7825e%7D"}, "html": {"href": "https://bitbucket.org/%7B568e53a4-2b97-42ea-929e-038af8b7825e%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/83d3799cfee56e3c3195419ca9fd5d06d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsTR-2.png"}}, "nickname": "Tim Rakowski", "type": "user", "account_id": "557058:34f593f6-84fc-4797-8028-c8e3412b0993"}, "title": "UNIT_RenderingLight_TEST fails with Ogre 1.10", "component": {"name": "rendering", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122881.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "gazebo/rendering/RenderingLight_TEST.cc, \"CastShadows\" fails on the second call to rendering::Light::LoadFromMsg:\r\n\r\nItemIdentityException: Resource with the name `__default___seletion_MATERIAL_Gazebo/White` already exists. in ResourceManager::add at /build/ogre/src/ogre/OgreMain/src/OgreResourceManager.cpp (line 156)\r\n\r\n```\r\n#!\r\n#1  0x00007ffff6b29ab5 in Ogre::ResourceManager::addImpl(Ogre::SharedPtr<Ogre::Resource>&) () from /usr/lib/libOgreMain.so.1.10.8\r\n#2  0x00007ffff6b27259 in Ogre::ResourceManager::createResource(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, bool, Ogre::ManualResourceLoader*, std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const*) () from /usr/lib/libOgreMain.so.1.10.8\r\n#3  0x00007ffff6a45bfd in Ogre::MaterialManager::create(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, bool, Ogre::ManualResourceLoader*, std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const*) () from /usr/lib/libOgreMain.so.1.10.8\r\n#4  0x00007ffff6a42d12 in Ogre::Material::clone(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, bool, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) const () from /usr/lib/libOgreMain.so.1.10.8\r\n#5  0x00007ffff73d346f in gazebo::rendering::Visual::AttachObject(Ogre::MovableObject*) () from /home/racko/aur/gazebo/src/gazebo-8.1.1/build/gazebo/rendering/libgazebo_rendering.so.8\r\n#6  0x00007ffff73df573 in gazebo::rendering::Visual::AttachMesh(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, bool, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) () from /home/racko/aur/gazebo/src/gazebo-8.1.1/build/gazebo/rendering/libgazebo_rendering.so.8\r\n#7  0x00007ffff735bbaa in gazebo::rendering::Light::CreateVisual() () from /home/racko/aur/gazebo/src/gazebo-8.1.1/build/gazebo/rendering/libgazebo_rendering.so.8\r\n#8  0x00007ffff735ef32 in gazebo::rendering::Light::Load() () from /home/racko/aur/gazebo/src/gazebo-8.1.1/build/gazebo/rendering/libgazebo_rendering.so.8\r\n#9  0x00007ffff735f83b in gazebo::rendering::Light::LoadFromMsg(gazebo::msgs::Light const&) () from /home/racko/aur/gazebo/src/gazebo-8.1.1/build/gazebo/rendering/libgazebo_rendering.so.8\r\n\r\n```\r\n\r\n../gazebo/rendering/Visual.cc:634 gazebo::rendering::Visual::AttachObject (frame 5) has the following comment:\r\n\r\n`// update to use unique materials`\r\n\r\nCould this be the problem?\r\n\r\nI don't know enough about gazebo or ogre to fix this. I just stumbled upon this by accident :)", "markup": "markdown", "html": "<p>gazebo/rendering/RenderingLight_TEST.cc, \"CastShadows\" fails on the second call to rendering::Light::LoadFromMsg:</p>\n<p>ItemIdentityException: Resource with the name <code>__default___seletion_MATERIAL_Gazebo/White</code> already exists. in ResourceManager::add at /build/ogre/src/ogre/OgreMain/src/OgreResourceManager.cpp (line 156)</p>\n<div class=\"codehilite\"><pre><span></span>#1  0x00007ffff6b29ab5 in Ogre::ResourceManager::addImpl(Ogre::SharedPtr&lt;Ogre::Resource&gt;&amp;) () from /usr/lib/libOgreMain.so.1.10.8\n#2  0x00007ffff6b27259 in Ogre::ResourceManager::createResource(std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;, std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;, bool, Ogre::ManualResourceLoader*, std::map&lt;std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;, std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;, std::less&lt;std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; &gt;, std::allocator&lt;std::pair&lt;std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const, std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; &gt; &gt; &gt; const*) () from /usr/lib/libOgreMain.so.1.10.8\n#3  0x00007ffff6a45bfd in Ogre::MaterialManager::create(std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;, std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;, bool, Ogre::ManualResourceLoader*, std::map&lt;std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;, std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;, std::less&lt;std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; &gt;, std::allocator&lt;std::pair&lt;std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const, std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; &gt; &gt; &gt; const*) () from /usr/lib/libOgreMain.so.1.10.8\n#4  0x00007ffff6a42d12 in Ogre::Material::clone(std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;, bool, std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;) const () from /usr/lib/libOgreMain.so.1.10.8\n#5  0x00007ffff73d346f in gazebo::rendering::Visual::AttachObject(Ogre::MovableObject*) () from /home/racko/aur/gazebo/src/gazebo-8.1.1/build/gazebo/rendering/libgazebo_rendering.so.8\n#6  0x00007ffff73df573 in gazebo::rendering::Visual::AttachMesh(std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;, std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;, bool, std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;) () from /home/racko/aur/gazebo/src/gazebo-8.1.1/build/gazebo/rendering/libgazebo_rendering.so.8\n#7  0x00007ffff735bbaa in gazebo::rendering::Light::CreateVisual() () from /home/racko/aur/gazebo/src/gazebo-8.1.1/build/gazebo/rendering/libgazebo_rendering.so.8\n#8  0x00007ffff735ef32 in gazebo::rendering::Light::Load() () from /home/racko/aur/gazebo/src/gazebo-8.1.1/build/gazebo/rendering/libgazebo_rendering.so.8\n#9  0x00007ffff735f83b in gazebo::rendering::Light::LoadFromMsg(gazebo::msgs::Light const&amp;) () from /home/racko/aur/gazebo/src/gazebo-8.1.1/build/gazebo/rendering/libgazebo_rendering.so.8\n</pre></div>\n\n\n<p>../gazebo/rendering/Visual.cc:634 gazebo::rendering::Visual::AttachObject (frame 5) has the following comment:</p>\n<p><code>// update to use unique materials</code></p>\n<p>Could this be the problem?</p>\n<p>I don't know enough about gazebo or ogre to fix this. I just stumbled upon this by accident :)</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "8.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242745.json"}}}, "edited_on": null, "created_on": "2017-11-04T14:51:41.913830+00:00", "milestone": null, "updated_on": "2017-11-04T14:52:19.107488+00:00", "type": "issue", "id": 2373}