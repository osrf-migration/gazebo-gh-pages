{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/1185/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/1185.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/1185/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/1185/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/1185/gzsdf-cant-disable-gravity-for-a-single"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/1185/vote"}}, "reporter": {"display_name": "Jonathan Bohren", "uuid": "{588087c1-4405-46da-b019-43f00b894b30}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B588087c1-4405-46da-b019-43f00b894b30%7D"}, "html": {"href": "https://bitbucket.org/%7B588087c1-4405-46da-b019-43f00b894b30%7D/"}, "avatar": {"href": "https://bitbucket.org/account/jbohren/avatar/"}}, "nickname": "jbohren", "type": "user", "account_id": null}, "title": "gzsdf: Can't disable gravity for a single link", "component": {"name": "tools", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/132355.json"}}}, "votes": 7, "watches": 9, "content": {"raw": "When using gzsdf to convert an URDF with a `<gazebo>` tag with a `<gravity>` child like the following, gzsdf adds an additional `<gravity>` tag which re-enables it. This prevents the feature from being used via URDF.\r\n\r\nin URDF:\r\n\r\n```\r\n<gazebo reference=\"link_name\">\r\n  <gravity>0</gravity>\r\n</gazebo>\r\n```\r\n\r\nin generated SDF:\r\n\r\n```\r\n<link name=\"link_name\">\r\n  <!-- ... -->\r\n  <gravity>0</gravity>\r\n  <gravity>1</gravity>\r\n</link>\r\n```\r\n\r\nWhen trying to spawn a similar URDF in gazebo, errors similar to these are shown:\r\n```\r\nWarning [parser_urdf.cc:1010] multiple inconsistent <gravity> exists due to fixed joint reduction overwriting previous value [false] with [true].\r\nWarning [parser_urdf.cc:1010] multiple inconsistent <gravity> exists due to fixed joint reduction overwriting previous value [false] with [true].\r\nWarning [parser_urdf.cc:1010] multiple inconsistent <gravity> exists due to fixed joint reduction overwriting previous value [0] with [true].\r\n```", "markup": "markdown", "html": "<p>When using gzsdf to convert an URDF with a <code>&lt;gazebo&gt;</code> tag with a <code>&lt;gravity&gt;</code> child like the following, gzsdf adds an additional <code>&lt;gravity&gt;</code> tag which re-enables it. This prevents the feature from being used via URDF.</p>\n<p>in URDF:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;gazebo</span> <span class=\"na\">reference=</span><span class=\"s\">&quot;link_name&quot;</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;gravity&gt;</span>0<span class=\"nt\">&lt;/gravity&gt;</span>\n<span class=\"nt\">&lt;/gazebo&gt;</span>\n</pre></div>\n\n\n<p>in generated SDF:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;link</span> <span class=\"na\">name=</span><span class=\"s\">&quot;link_name&quot;</span><span class=\"nt\">&gt;</span>\n  <span class=\"c\">&lt;!-- ... --&gt;</span>\n  <span class=\"nt\">&lt;gravity&gt;</span>0<span class=\"nt\">&lt;/gravity&gt;</span>\n  <span class=\"nt\">&lt;gravity&gt;</span>1<span class=\"nt\">&lt;/gravity&gt;</span>\n<span class=\"nt\">&lt;/link&gt;</span>\n</pre></div>\n\n\n<p>When trying to spawn a similar URDF in gazebo, errors similar to these are shown:</p>\n<div class=\"codehilite\"><pre><span></span>Warning [parser_urdf.cc:1010] multiple inconsistent &lt;gravity&gt; exists due to fixed joint reduction overwriting previous value [false] with [true].\nWarning [parser_urdf.cc:1010] multiple inconsistent &lt;gravity&gt; exists due to fixed joint reduction overwriting previous value [false] with [true].\nWarning [parser_urdf.cc:1010] multiple inconsistent &lt;gravity&gt; exists due to fixed joint reduction overwriting previous value [0] with [true].\n</pre></div>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "2.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/51082.json"}}}, "edited_on": null, "created_on": "2014-05-13T22:15:26.409611+00:00", "milestone": null, "updated_on": "2018-04-26T08:46:16.536267+00:00", "type": "issue", "id": 1185}