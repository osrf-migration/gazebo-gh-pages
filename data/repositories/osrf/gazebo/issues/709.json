{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/709/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/709.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/709/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/709/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/709/valgrind-skyx-vclouds-datamanager"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/709/vote"}}, "reporter": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "title": "[valgrind] SkyX::VClouds::DataManager::_updateVolTextureData (conditional jump uninitialised value(s))", "component": null, "votes": 0, "watches": 2, "content": {"raw": "Valgrind \"Conditional jump or move depends on uninitialised value\" in our skyx code\r\n\r\n```\r\n==30675== Conditional jump or move depends on uninitialised value(s)\r\n==30675==    at 0xEFEE7AA: Ogre::PixelUtil::packColour(float, float, float, float, Ogre::PixelFormat, void*) (in /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.7.4)\r\n==30675==    by 0xE5ACFEB: SkyX::VClouds::DataManager::_updateVolTextureData(SkyX::VClouds::DataManager::Cell***, SkyX::VClouds::DataManager::VolTextureId const&, int const&, int const&, int const&) (DataManager.cpp:693)\r\n==30675==    by 0xE5A9ADF: SkyX::VClouds::DataManager::create(int const&, int const&, int const&) (DataManager.cpp:182)\r\n==30675==    by 0xE5BE2B8: SkyX::VClouds::VClouds::create() (VClouds.cpp:84)\r\n==30675==    by 0xE5BE7BF: SkyX::VClouds::VClouds::create(Ogre::Vector2 const&, float const&) (VClouds.cpp:130)\r\n==30675==    by 0xE5A89D4: SkyX::VCloudsManager::create(float const&) (VCloudsManager.cpp:108)\r\n==30675==    by 0xA5D8432: gazebo::rendering::Scene::SetSky() (Scene.cc:2372)\r\n==30675==    by 0xA5CAA95: gazebo::rendering::Scene::Init() (Scene.cc:269)\r\n==30675==    by 0xA5AE857: gazebo::rendering::RenderEngine::CreateScene(std::string const&, bool) (RenderEngine.cc:149)\r\n==30675==    by 0xA5BB54D: gazebo::rendering::create_scene(std::string const&, bool) (Rendering.cc:88)\r\n==30675==    by 0x61BA04B: gazebo::sensors::MultiCameraSensor::Init() (MultiCameraSensor.cc:97)\r\n==30675==    by 0x61D21B1: gazebo::sensors::SensorManager::SensorContainer::Init() (SensorManager.cc:389)\r\n==30675==  Uninitialised value was created by a heap allocation\r\n==30675==    at 0x4C2AC27: operator new[](unsigned long) (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)\r\n==30675==    by 0xE5A9DEA: SkyX::VClouds::DataManager::_create3DCellArray(int const&, int const&, int const&, bool const&) (DataManager.cpp:230)\r\n==30675==    by 0xE5A9D02: SkyX::VClouds::DataManager::_initData(int const&, int const&, int const&) (DataManager.cpp:213)\r\n==30675==    by 0xE5A9A28: SkyX::VClouds::DataManager::create(int const&, int const&, int const&) (DataManager.cpp:174)\r\n==30675==    by 0xE5BE2B8: SkyX::VClouds::VClouds::create() (VClouds.cpp:84)\r\n==30675==    by 0xE5BE7BF: SkyX::VClouds::VClouds::create(Ogre::Vector2 const&, float const&) (VClouds.cpp:130)\r\n==30675==    by 0xE5A89D4: SkyX::VCloudsManager::create(float const&) (VCloudsManager.cpp:108)\r\n==30675==    by 0xA5D8432: gazebo::rendering::Scene::SetSky() (Scene.cc:2372)\r\n==30675==    by 0xA5CAA95: gazebo::rendering::Scene::Init() (Scene.cc:269)\r\n==30675==    by 0xA5AE857: gazebo::rendering::RenderEngine::CreateScene(std::string const&, bool) (RenderEngine.cc:149)\r\n==30675==    by 0xA5BB54D: gazebo::rendering::create_scene(std::string const&, bool) (Rendering.cc:88)\r\n==30675==    by 0x61BA04B: gazebo::sensors::MultiCameraSensor::Init() (MultiCameraSensor.cc:97)\r\n```", "markup": "markdown", "html": "<p>Valgrind \"Conditional jump or move depends on uninitialised value\" in our skyx code</p>\n<div class=\"codehilite\"><pre><span></span>==30675== Conditional jump or move depends on uninitialised value(s)\n==30675==    at 0xEFEE7AA: Ogre::PixelUtil::packColour(float, float, float, float, Ogre::PixelFormat, void*) (in /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.7.4)\n==30675==    by 0xE5ACFEB: SkyX::VClouds::DataManager::_updateVolTextureData(SkyX::VClouds::DataManager::Cell***, SkyX::VClouds::DataManager::VolTextureId const&amp;, int const&amp;, int const&amp;, int const&amp;) (DataManager.cpp:693)\n==30675==    by 0xE5A9ADF: SkyX::VClouds::DataManager::create(int const&amp;, int const&amp;, int const&amp;) (DataManager.cpp:182)\n==30675==    by 0xE5BE2B8: SkyX::VClouds::VClouds::create() (VClouds.cpp:84)\n==30675==    by 0xE5BE7BF: SkyX::VClouds::VClouds::create(Ogre::Vector2 const&amp;, float const&amp;) (VClouds.cpp:130)\n==30675==    by 0xE5A89D4: SkyX::VCloudsManager::create(float const&amp;) (VCloudsManager.cpp:108)\n==30675==    by 0xA5D8432: gazebo::rendering::Scene::SetSky() (Scene.cc:2372)\n==30675==    by 0xA5CAA95: gazebo::rendering::Scene::Init() (Scene.cc:269)\n==30675==    by 0xA5AE857: gazebo::rendering::RenderEngine::CreateScene(std::string const&amp;, bool) (RenderEngine.cc:149)\n==30675==    by 0xA5BB54D: gazebo::rendering::create_scene(std::string const&amp;, bool) (Rendering.cc:88)\n==30675==    by 0x61BA04B: gazebo::sensors::MultiCameraSensor::Init() (MultiCameraSensor.cc:97)\n==30675==    by 0x61D21B1: gazebo::sensors::SensorManager::SensorContainer::Init() (SensorManager.cc:389)\n==30675==  Uninitialised value was created by a heap allocation\n==30675==    at 0x4C2AC27: operator new[](unsigned long) (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)\n==30675==    by 0xE5A9DEA: SkyX::VClouds::DataManager::_create3DCellArray(int const&amp;, int const&amp;, int const&amp;, bool const&amp;) (DataManager.cpp:230)\n==30675==    by 0xE5A9D02: SkyX::VClouds::DataManager::_initData(int const&amp;, int const&amp;, int const&amp;) (DataManager.cpp:213)\n==30675==    by 0xE5A9A28: SkyX::VClouds::DataManager::create(int const&amp;, int const&amp;, int const&amp;) (DataManager.cpp:174)\n==30675==    by 0xE5BE2B8: SkyX::VClouds::VClouds::create() (VClouds.cpp:84)\n==30675==    by 0xE5BE7BF: SkyX::VClouds::VClouds::create(Ogre::Vector2 const&amp;, float const&amp;) (VClouds.cpp:130)\n==30675==    by 0xE5A89D4: SkyX::VCloudsManager::create(float const&amp;) (VCloudsManager.cpp:108)\n==30675==    by 0xA5D8432: gazebo::rendering::Scene::SetSky() (Scene.cc:2372)\n==30675==    by 0xA5CAA95: gazebo::rendering::Scene::Init() (Scene.cc:269)\n==30675==    by 0xA5AE857: gazebo::rendering::RenderEngine::CreateScene(std::string const&amp;, bool) (RenderEngine.cc:149)\n==30675==    by 0xA5BB54D: gazebo::rendering::create_scene(std::string const&amp;, bool) (Rendering.cc:88)\n==30675==    by 0x61BA04B: gazebo::sensors::MultiCameraSensor::Init() (MultiCameraSensor.cc:97)\n</pre></div>", "type": "rendered"}, "assignee": null, "state": "closed", "version": {"name": "all", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/225575.json"}}}, "edited_on": null, "created_on": "2013-05-31T20:26:47.080178+00:00", "milestone": null, "updated_on": "2016-09-14T19:43:33.338504+00:00", "type": "issue", "id": 709}