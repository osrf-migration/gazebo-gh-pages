{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2681/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2681.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2681/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2681/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2681/moc-compilation-error-with-qt-514-tbb"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2681/vote"}}, "reporter": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "title": "moc compilation error with qt 5.14, tbb header", "component": {"name": "build", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/132954.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "All homebrew builds are failing since qt 5.14 was released into homebrew.\r\n\r\n~~~\r\nAutoMoc subprocess error\r\n------------------------\r\nThe moc process failed to compile\r\n  \"SRC:/plugins/LookAtDemoPlugin.hh\"\r\ninto\r\n  \"BIN:/plugins/LookAtDemoPlugin_autogen/EWIEGA46WW/moc_LookAtDemoPlugin.cpp\"\r\n\r\nCommand\r\n-------\r\n/usr/local/opt/qt/bin/moc -DBOOST_ALL_NO_LIB -DBOOST_DATE_TIME_DYN_LINK -DBOOST_FILESYSTEM_DYN_LINK -DBOOST_IOSTREAMS_DYN_LINK -DBOOST_PROGRAM_OPTIONS_DYN_LINK -DBOOST_REGEX_DYN_LINK -DBOOST_SYSTEM_DYN_LINK -DBOOST_TEST_DYN_LINK -DBOOST_THREAD_DYN_LINK -DHAVE_OPENGL -DLIBBULLET_VERSION=2.88 -DLIBBULLET_VERSION_GT_282 -DLookAtDemoPlugin_EXPORTS -DMAC_OS_X_VERSION=1080 -DQT_CORE_LIB -DQT_GUI_LIB -DQT_NO_DEBUG \"-DQT_TESTCASE_BUILDDIR=\\\"/Users/jenkins/workspace/gazebo-ci-default-homebrew-amd64/build\\\"\" -DQT_TESTLIB_LIB -DQT_WIDGETS_LIB -I/Users/jenkins/workspace/gazebo-ci-default-homebrew-amd64/gazebo/test/gtest/include -I/Users/jenkins/workspace/gazebo-ci-default-homebrew-amd64/build -I/Users/jenkins/workspace/gazebo-ci-default-homebrew-amd64/gazebo -I/Users/jenkins/workspace/gazebo-ci-default-homebrew-amd64/gazebo/deps/opende/include -I/Users/jenkins/workspace/gazebo-ci-default-homebrew-amd64/gazebo/deps/threadpool -I/Users/jenkins/workspace/gazebo-ci-default-homebrew-amd64/gazebo/deps/opende/src -I/usr/local/include -I/usr/local/Cellar/tinyxml2/7.1.0/include -I/usr/local/Cellar/ffmpeg/4.2.1_2/include -I/usr/local/include/ignition/msgs1 -I/usr/local/include/ignition/transport4 -I/usr/local/include/ignition/fuel_tools1 -I/usr/local/include/ignition/common1 -I/usr/local/include/ignition/math4 -I/usr/local/Cellar/sdformat6/6.2.0_1/include/sdformat-6.2 -I/usr/local/Cellar/ogre1.9/1.9-20160714-108ab0bcc69603dba32c0ffd4bbbc39051f421c9_8/include/OGRE/RTShaderSystem -I/usr/local/Cellar/ogre1.9/1.9-20160714-108ab0bcc69603dba32c0ffd4bbbc39051f421c9_8/include -I/usr/local/Cellar/ogre1.9/1.9-20160714-108ab0bcc69603dba32c0ffd4bbbc39051f421c9_8/include/OGRE -I/usr/local/Cellar/ogre1.9/1.9-20160714-108ab0bcc69603dba32c0ffd4bbbc39051f421c9_8/include/OGRE/Terrain -I/usr/local/Cellar/ogre1.9/1.9-20160714-108ab0bcc69603dba32c0ffd4bbbc39051f421c9_8/include/OGRE/Paging -I/usr/local/Cellar/ogre1.9/1.9-20160714-108ab0bcc69603dba32c0ffd4bbbc39051f421c9_8/include/OGRE/Overlay -I/usr/local/opt/qt/lib/QtCore.framework -I/usr/local/opt/qt/lib/QtCore.framework/Headers -I/usr/local/opt/qt/mkspecs/macx-clang -I/usr/local/Cellar/ossp-uuid/1.6.2_2/include/ossp -I/usr/local/include -I/usr/local/include/eigen3 -I/usr/local/Cellar/fcl/0.5.0_1/include -I/usr/local/include/bullet -I/usr/local/Cellar/ode/0.16/include -I/usr/local/Cellar/urdfdom/1.0.3/include -I/usr/local/Cellar/urdfdom_headers/1.0.4/include -I/usr/local/include/simbody -I/usr/local/opt/qt/lib/QtWidgets.framework -I/usr/local/opt/qt/lib/QtWidgets.framework/Headers -I/usr/local/opt/qt/lib/QtGui.framework -I/usr/local/opt/qt/lib/QtGui.framework/Headers -I/Library/Developer/CommandLineTools/SDKs/MacOSX10.14.sdk/System/Library/Frameworks/OpenGL.framework/Headers -I/usr/local/opt/qt/lib/QtTest.framework -I/usr/local/opt/qt/lib/QtTest.framework/Headers -I/Library/Developer/CommandLineTools/SDKs/MacOSX10.14.sdk/usr/include -I/Library/Developer/CommandLineTools/usr/include/c++/v1 -I/Library/Developer/CommandLineTools/usr/lib/clang/10.0.1/include -I/Library/Developer/CommandLineTools/usr/include -F /Library/Developer/CommandLineTools/SDKs/MacOSX10.14.sdk/System/Library/Frameworks -F /usr/local/opt/qt/lib --include /Users/jenkins/workspace/gazebo-ci-default-homebrew-amd64/build/plugins/LookAtDemoPlugin_autogen/moc_predefs.h -p plugins -o /Users/jenkins/workspace/gazebo-ci-default-homebrew-amd64/build/plugins/LookAtDemoPlugin_autogen/EWIEGA46WW/moc_LookAtDemoPlugin.cpp /Users/jenkins/workspace/gazebo-ci-default-homebrew-amd64/gazebo/plugins/LookAtDemoPlugin.hh\r\n\r\nOutput\r\n------\r\nusr/local/Cellar/tbb/2019_U9/include/tbb/tbb_profiling.:28: Parse error at \"{\"\r\n\r\nmake[2]: *** [plugins/CMakeFiles/LookAtDemoPlugin_autogen] Error 1\r\nmake[1]: *** [plugins/CMakeFiles/LookAtDemoPlugin_autogen.dir/all] Error 2\r\nmake[1]: *** Waiting for unfinished jobs....\r\n~~~\r\n\r\n[![Build Status](https://build.osrfoundation.org/buildStatus/icon?job=gazebo-ci-default-homebrew-amd64&build=353)](https://build.osrfoundation.org/job/gazebo-ci-default-homebrew-amd64/353/) https://build.osrfoundation.org/job/gazebo-ci-default-homebrew-amd64/353/\r\n\r\nI'm testing an extra `#ifndef Q_MOC_RUN` guard around a gazebo include in that plugin in 5586b0f.", "markup": "markdown", "html": "<p>All homebrew builds are failing since qt 5.14 was released into homebrew.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gh\">AutoMoc subprocess error</span>\n<span class=\"gh\">------------------------</span>\nThe moc process failed to compile\n  &quot;SRC:/plugins/LookAtDemoPlugin.hh&quot;\ninto\n  &quot;BIN:/plugins/LookAtDemoPlugin_autogen/EWIEGA46WW/moc_LookAtDemoPlugin.cpp&quot;\n\n<span class=\"gh\">Command</span>\n<span class=\"gh\">-------</span>\n/usr/local/opt/qt/bin/moc -DBOOST_ALL_NO_LIB -DBOOST_DATE_TIME_DYN_LINK -DBOOST_FILESYSTEM_DYN_LINK -DBOOST_IOSTREAMS_DYN_LINK -DBOOST_PROGRAM_OPTIONS_DYN_LINK -DBOOST_REGEX_DYN_LINK -DBOOST_SYSTEM_DYN_LINK -DBOOST_TEST_DYN_LINK -DBOOST_THREAD_DYN_LINK -DHAVE_OPENGL -DLIBBULLET_VERSION=2.88 -DLIBBULLET_VERSION_GT_282 -DLookAtDemoPlugin_EXPORTS -DMAC_OS_X_VERSION=1080 -DQT_CORE_LIB -DQT_GUI_LIB -DQT_NO_DEBUG &quot;-DQT_TESTCASE_BUILDDIR=\\&quot;/Users/jenkins/workspace/gazebo-ci-default-homebrew-amd64/build\\&quot;&quot; -DQT_TESTLIB_LIB -DQT_WIDGETS_LIB -I/Users/jenkins/workspace/gazebo-ci-default-homebrew-amd64/gazebo/test/gtest/include -I/Users/jenkins/workspace/gazebo-ci-default-homebrew-amd64/build -I/Users/jenkins/workspace/gazebo-ci-default-homebrew-amd64/gazebo -I/Users/jenkins/workspace/gazebo-ci-default-homebrew-amd64/gazebo/deps/opende/include -I/Users/jenkins/workspace/gazebo-ci-default-homebrew-amd64/gazebo/deps/threadpool -I/Users/jenkins/workspace/gazebo-ci-default-homebrew-amd64/gazebo/deps/opende/src -I/usr/local/include -I/usr/local/Cellar/tinyxml2/7.1.0/include -I/usr/local/Cellar/ffmpeg/4.2.1_2/include -I/usr/local/include/ignition/msgs1 -I/usr/local/include/ignition/transport4 -I/usr/local/include/ignition/fuel_tools1 -I/usr/local/include/ignition/common1 -I/usr/local/include/ignition/math4 -I/usr/local/Cellar/sdformat6/6.2.0_1/include/sdformat-6.2 -I/usr/local/Cellar/ogre1.9/1.9-20160714-108ab0bcc69603dba32c0ffd4bbbc39051f421c9_8/include/OGRE/RTShaderSystem -I/usr/local/Cellar/ogre1.9/1.9-20160714-108ab0bcc69603dba32c0ffd4bbbc39051f421c9_8/include -I/usr/local/Cellar/ogre1.9/1.9-20160714-108ab0bcc69603dba32c0ffd4bbbc39051f421c9_8/include/OGRE -I/usr/local/Cellar/ogre1.9/1.9-20160714-108ab0bcc69603dba32c0ffd4bbbc39051f421c9_8/include/OGRE/Terrain -I/usr/local/Cellar/ogre1.9/1.9-20160714-108ab0bcc69603dba32c0ffd4bbbc39051f421c9_8/include/OGRE/Paging -I/usr/local/Cellar/ogre1.9/1.9-20160714-108ab0bcc69603dba32c0ffd4bbbc39051f421c9_8/include/OGRE/Overlay -I/usr/local/opt/qt/lib/QtCore.framework -I/usr/local/opt/qt/lib/QtCore.framework/Headers -I/usr/local/opt/qt/mkspecs/macx-clang -I/usr/local/Cellar/ossp-uuid/1.6.2_2/include/ossp -I/usr/local/include -I/usr/local/include/eigen3 -I/usr/local/Cellar/fcl/0.5.0_1/include -I/usr/local/include/bullet -I/usr/local/Cellar/ode/0.16/include -I/usr/local/Cellar/urdfdom/1.0.3/include -I/usr/local/Cellar/urdfdom_headers/1.0.4/include -I/usr/local/include/simbody -I/usr/local/opt/qt/lib/QtWidgets.framework -I/usr/local/opt/qt/lib/QtWidgets.framework/Headers -I/usr/local/opt/qt/lib/QtGui.framework -I/usr/local/opt/qt/lib/QtGui.framework/Headers -I/Library/Developer/CommandLineTools/SDKs/MacOSX10.14.sdk/System/Library/Frameworks/OpenGL.framework/Headers -I/usr/local/opt/qt/lib/QtTest.framework -I/usr/local/opt/qt/lib/QtTest.framework/Headers -I/Library/Developer/CommandLineTools/SDKs/MacOSX10.14.sdk/usr/include -I/Library/Developer/CommandLineTools/usr/include/c++/v1 -I/Library/Developer/CommandLineTools/usr/lib/clang/10.0.1/include -I/Library/Developer/CommandLineTools/usr/include -F /Library/Developer/CommandLineTools/SDKs/MacOSX10.14.sdk/System/Library/Frameworks -F /usr/local/opt/qt/lib --include /Users/jenkins/workspace/gazebo-ci-default-homebrew-amd64/build/plugins/LookAtDemoPlugin_autogen/moc_predefs.h -p plugins -o /Users/jenkins/workspace/gazebo-ci-default-homebrew-amd64/build/plugins/LookAtDemoPlugin_autogen/EWIEGA46WW/moc_LookAtDemoPlugin.cpp /Users/jenkins/workspace/gazebo-ci-default-homebrew-amd64/gazebo/plugins/LookAtDemoPlugin.hh\n\n<span class=\"gh\">Output</span>\n<span class=\"gh\">------</span>\nusr/local/Cellar/tbb/2019_U9/include/tbb/tbb_profiling.:28: Parse error at &quot;{&quot;\n\nmake[2]: <span class=\"ge\">***</span> [plugins/CMakeFiles/LookAtDemoPlugin_autogen] Error 1\nmake[1]: <span class=\"ge\">***</span> [plugins/CMakeFiles/LookAtDemoPlugin_autogen.dir/all] Error 2\nmake[1]: <span class=\"ge\">***</span> Waiting for unfinished jobs....\n</pre></div>\n\n\n<p><a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/job/gazebo-ci-default-homebrew-amd64/353/\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://build.osrfoundation.org/buildStatus/icon?job=gazebo-ci-default-homebrew-amd64&amp;build=353\" /></a> <a href=\"https://build.osrfoundation.org/job/gazebo-ci-default-homebrew-amd64/353/\" rel=\"nofollow\" class=\"ap-connect-link\">https://build.osrfoundation.org/job/gazebo-ci-default-homebrew-amd64/353/</a></p>\n<p>I'm testing an extra <code>#ifndef Q_MOC_RUN</code> guard around a gazebo include in that plugin in <a href=\"#!/osrf/gazebo/commits/5586b0f\" rel=\"nofollow\" class=\"ap-connect-link\">5586b0f</a>.</p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2019-12-25T14:28:25.329746+00:00", "milestone": null, "updated_on": "2020-01-03T02:59:45.818491+00:00", "type": "issue", "id": 2681}