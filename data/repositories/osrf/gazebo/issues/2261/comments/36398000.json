{"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2261/comments/36398000.json"}, "html": {"href": "#!/osrf/gazebo/issues/2261#comment-36398000"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2261.json"}}, "type": "issue", "id": 2261, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "FSAA for Wide Angle Camera"}, "content": {"raw": "I can confirm that setting fsaa=0 fixes the segfault. However, the resulting camera does not appear to render the scene correctly in a VM environment.\n\nFor example, here is what a regular camera looks like:\n\n![camera.png](data/bitbucket.org/repo/jgXqbo/images/334544173-camera.png)\n\nAnd here is what the wide angle camera looks like\n\n![wideangle.png](data/bitbucket.org/repo/jgXqbo/images/1240896012-wideangle.png)\n\nThis is the SDF I am using for the wide angle camera. \n\n```\n#!sdf\n    <sensor name=\"nav_cam\" type=\"wideanglecamera\">\n      <pose>0 0 0 0 0 0</pose>\n      <always_on>1</always_on>\n      <update_rate>3.5</update_rate>\n      <visualize>0</visualize>\n      <camera>\n        <horizontal_fov>2.26893</horizontal_fov> <!-- 130 degrees -->\n        <image>\n          <width>1280</width>\n          <height>960</height>\n          <format>L8</format>\n        </image>\n        <clip>\n          <near>0.1</near>\n          <far>10</far>\n        </clip>\n      </camera>\n    </sensor>\n```", "markup": "markdown", "html": "<p>I can confirm that setting fsaa=0 fixes the segfault. However, the resulting camera does not appear to render the scene correctly in a VM environment.</p>\n<p>For example, here is what a regular camera looks like:</p>\n<p><img alt=\"camera.png\" src=\"data/bitbucket.org/repo/jgXqbo/images/334544173-camera.png\" /></p>\n<p>And here is what the wide angle camera looks like</p>\n<p><img alt=\"wideangle.png\" src=\"data/bitbucket.org/repo/jgXqbo/images/1240896012-wideangle.png\" /></p>\n<p>This is the SDF I am using for the wide angle camera. </p>\n<div class=\"codehilite language-sdf\"><pre><span></span>    <span class=\"nt\">&lt;sensor</span> <span class=\"na\">name=</span><span class=\"s\">&quot;nav_cam&quot;</span> <span class=\"na\">type=</span><span class=\"s\">&quot;wideanglecamera&quot;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;pose&gt;</span>0 0 0 0 0 0<span class=\"nt\">&lt;/pose&gt;</span>\n      <span class=\"nt\">&lt;always_on&gt;</span>1<span class=\"nt\">&lt;/always_on&gt;</span>\n      <span class=\"nt\">&lt;update_rate&gt;</span>3.5<span class=\"nt\">&lt;/update_rate&gt;</span>\n      <span class=\"nt\">&lt;visualize&gt;</span>0<span class=\"nt\">&lt;/visualize&gt;</span>\n      <span class=\"nt\">&lt;camera&gt;</span>\n        <span class=\"nt\">&lt;horizontal_fov&gt;</span>2.26893<span class=\"nt\">&lt;/horizontal_fov&gt;</span> <span class=\"c\">&lt;!-- 130 degrees --&gt;</span>\n        <span class=\"nt\">&lt;image&gt;</span>\n          <span class=\"nt\">&lt;width&gt;</span>1280<span class=\"nt\">&lt;/width&gt;</span>\n          <span class=\"nt\">&lt;height&gt;</span>960<span class=\"nt\">&lt;/height&gt;</span>\n          <span class=\"nt\">&lt;format&gt;</span>L8<span class=\"nt\">&lt;/format&gt;</span>\n        <span class=\"nt\">&lt;/image&gt;</span>\n        <span class=\"nt\">&lt;clip&gt;</span>\n          <span class=\"nt\">&lt;near&gt;</span>0.1<span class=\"nt\">&lt;/near&gt;</span>\n          <span class=\"nt\">&lt;far&gt;</span>10<span class=\"nt\">&lt;/far&gt;</span>\n        <span class=\"nt\">&lt;/clip&gt;</span>\n      <span class=\"nt\">&lt;/camera&gt;</span>\n    <span class=\"nt\">&lt;/sensor&gt;</span>\n</pre></div>", "type": "rendered"}, "created_on": "2017-04-29T01:31:48.663894+00:00", "user": {"display_name": "Andrew Symington", "uuid": "{db1311fc-02e6-442e-84a1-4bb85dfee5ba}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bdb1311fc-02e6-442e-84a1-4bb85dfee5ba%7D"}, "html": {"href": "https://bitbucket.org/%7Bdb1311fc-02e6-442e-84a1-4bb85dfee5ba%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:cab3b56e-7c24-487c-b07f-05e0600adf54/8a009f21-29b8-4d43-98ed-2677428e17ff/128"}}, "nickname": "asymingt", "type": "user", "account_id": "557058:cab3b56e-7c24-487c-b07f-05e0600adf54"}, "updated_on": "2017-04-29T16:15:29.144588+00:00", "type": "issue_comment", "id": 36398000}