{"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/341/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/341.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/341/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/341/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/341/contactsensor-getcontacts-is-not-thread"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/341/vote"}}, "reporter": {"display_name": "Eric Cousineau", "uuid": "{71c9fc05-02c8-45e1-adfa-13c8ac3399dc}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B71c9fc05-02c8-45e1-adfa-13c8ac3399dc%7D"}, "html": {"href": "https://bitbucket.org/%7B71c9fc05-02c8-45e1-adfa-13c8ac3399dc%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557057:f3a199b9-5784-4964-9644-6ef224bc7dc1/28a4d748-0fd4-4038-bf3d-55a77eb73ede/128"}}, "nickname": "eacousineau", "type": "user", "account_id": "557057:f3a199b9-5784-4964-9644-6ef224bc7dc1"}, "title": "ContactSensor::GetContacts() is not thread-safe", "component": null, "votes": 0, "watches": 1, "content": {"raw": "When trying to use this function in another thread (in my case, it is in a ModelPlugin instead of a ContactPlugin), there seems to be a race condition when copying ContactSensor::contactsMsg. It usually dies due to an assertion when accessing indices and the size of the message has changed (i.e., accessing index 14 to copy and the size has changed to 4).", "markup": "markdown", "html": "<p>When trying to use this function in another thread (in my case, it is in a ModelPlugin instead of a ContactPlugin), there seems to be a race condition when copying ContactSensor::contactsMsg. It usually dies due to an assertion when accessing indices and the size of the message has changed (i.e., accessing index 14 to copy and the size has changed to 4).</p>", "type": "rendered"}, "assignee": null, "state": "closed", "version": {"name": "all", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/225575.json"}}}, "edited_on": null, "created_on": "2013-01-07T18:19:48.330752+00:00", "milestone": null, "updated_on": "2016-09-14T19:44:59.869703+00:00", "type": "issue", "id": 341}