diff -ura src/gazebo-8.0.0/gazebo/rendering/skyx/src/VClouds/DataManager.cpp src2/gazebo-8.0.0/gazebo/rendering/skyx/src/VClouds/DataManager.cpp
--- src/gazebo-8.0.0/gazebo/rendering/skyx/src/VClouds/DataManager.cpp	2017-01-26 02:16:27.000000000 +0100
+++ src2/gazebo-8.0.0/gazebo/rendering/skyx/src/VClouds/DataManager.cpp	2017-08-03 17:16:53.114394409 +0200
@@ -22,6 +22,8 @@
 */
 
 #include <vector>
+
+#include <OgrePixelFormat.h>
 #include "VClouds/DataManager.h"
 
 #include "VClouds/VClouds.h"
@@ -689,8 +691,12 @@
       {
         for (x = pb.left; x < pb.right; x++)
         {
+          Ogre::uint8 *ptr = (Ogre::uint8 *)pb.data +
+                             (x + y * pb.rowPitch + z * pb.slicePitch) *
+                                 Ogre::PixelUtil::getNumElemBytes(pb.format);
+
           Ogre::PixelUtil::packColour(c[x][y][z].dens/* TODO!!!! */,
-              c[x][y][z].light, 0, 0, pb.format, &pbptr[x]);
+              c[x][y][z].light, 0, 0, pb.format, ptr);
         }
         pbptr += pb.rowPitch;
       }
diff -ura src/gazebo-8.0.0/media/materials/scripts/ShadowCaster.material src2/gazebo-8.0.0/media/materials/scripts/ShadowCaster.material
--- src/gazebo-8.0.0/media/materials/scripts/ShadowCaster.material	2017-01-26 02:16:28.000000000 +0100
+++ src2/gazebo-8.0.0/media/materials/scripts/ShadowCaster.material	2017-08-03 16:39:38.095047902 +0200
@@ -65,19 +65,3 @@
 		}
 	}
 }
-
-material DeferredRendering/Shadows/RSMCaster_Spot
-{
-	technique
-	{
-		pass
-		{
-			vertex_program_ref DeferredShading/Shadows/RSMCasterVP
-			{
-			}
-			fragment_program_ref DeferredShading/Shadows/RSMCasterFP_Spot
-			{
-			}
-		}
-	}
-}
