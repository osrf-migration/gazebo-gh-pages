{"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/759/comments/5016096.json"}, "html": {"href": "#!/osrf/gazebo/issues/759#comment-5016096"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/759.json"}}, "type": "issue", "id": 759, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Segfault while spawning URDF"}, "content": {"raw": "Ok, I'm getting the same issue again. Here's the bt with Gazebo built in debug mode:\n\n```\n#0  0x00007ffff74bc440 in boost::shared_ptr<urdf::Collision>::shared_ptr (this=0x7fff567f9ad0) at /usr/include/boost/smart_ptr/shared_ptr.hpp:168\n#1  0x00007ffff74b2bc4 in urdf2gazebo::URDF2Gazebo::CreateCollisions (this=0x7fff567fa080, _elem=0x7fff38157380, _link=...)\n    at /home/dave/ros/gazebo/gazebo/sdf/interface/parser_urdf.cc:1498\n#2  0x00007ffff74b24d9 in urdf2gazebo::URDF2Gazebo::CreateLink (this=0x7fff567fa080, _root=0x7fff3807a680, _link=..., _currentTransform=...)\n    at /home/dave/ros/gazebo/gazebo/sdf/interface/parser_urdf.cc:1406\n#3  0x00007ffff74b1ff2 in urdf2gazebo::URDF2Gazebo::CreateSDF (this=0x7fff567fa080, _root=0x7fff3807a680, _link=..., _transform=...)\n    at /home/dave/ros/gazebo/gazebo/sdf/interface/parser_urdf.cc:1340\n#4  0x00007ffff74b670b in urdf2gazebo::URDF2Gazebo::InitModelString (this=0x7fff567fa080, _urdfStr=..., _enforceLimits=true)\n    at /home/dave/ros/gazebo/gazebo/sdf/interface/parser_urdf.cc:1897\n#5  0x00007ffff748ebdf in sdf::readString (_xmlString=..., _sdf=...) at /home/dave/ros/gazebo/gazebo/sdf/interface/parser.cc:311\n#6  0x00007ffff6d53a9d in gazebo::physics::World::ProcessFactoryMsgs (this=0x770840) at /home/dave/ros/gazebo/gazebo/physics/World.cc:1467\n#7  0x00007ffff6d56ea4 in gazebo::physics::World::ProcessMessages (this=0x770840) at /home/dave/ros/gazebo/gazebo/physics/World.cc:1817\n#8  0x00007ffff6d4dc9b in gazebo::physics::World::Step (this=0x770840) at /home/dave/ros/gazebo/gazebo/physics/World.cc:528\n#9  0x00007ffff6d4ca52 in gazebo::physics::World::RunLoop (this=0x770840) at /home/dave/ros/gazebo/gazebo/physics/World.cc:365\n#10 0x00007ffff6d6d50a in boost::_mfi::mf0<void, gazebo::physics::World>::operator() (this=0x1b4dac8, p=0x770840)\n    at /usr/include/boost/bind/mem_fn_template.hpp:49\n#11 0x00007ffff6d6c584 in boost::_bi::list1<boost::_bi::value<gazebo::physics::World*> >::operator()<boost::_mfi::mf0<void, gazebo::physics::World>, boost::_bi::list0> (this=0x1b4dad8, f=..., a=...) at /usr/include/boost/bind/bind.hpp:253\n#12 0x00007ffff6d6b519 in boost::_bi::bind_t<void, boost::_mfi::mf0<void, gazebo::physics::World>, boost::_bi::list1<boost::_bi::value<gazebo::physics::World*> > >::operator() (this=0x1b4dac8) at /usr/include/boost/bind/bind_template.hpp:20\n---Type <return> to continue, or q <return> to quit---\n#13 0x00007ffff6d6f088 in boost::detail::thread_data<boost::_bi::bind_t<void, boost::_mfi::mf0<void, gazebo::physics::World>, boost::_bi::list1<boost::_bi::value<gazebo::physics::World*> > > >::run (this=0x1b4d940) at /usr/include/boost/thread/detail/thread.hpp:61\n#14 0x00007ffff55f2ce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\n#15 0x00007ffff6181e9a in start_thread () from /lib/x86_64-linux-gnu/libpthread.so.0\n#16 0x00007ffff499bccd in clone () from /lib/x86_64-linux-gnu/libc.so.6\n#17 0x0000000000000000 in ?? ()\n```\n\nTo reproduce:\n\n* Install Gazebo from default\n* Install the latest gazebo_ros_pkgs\n* Download baxter as documented [in the tutorial](http://gazebosim.org/wiki/Tutorials/1.9/Using_roslaunch_Files_to_Spawn_Models#URDF_Example_with_Baxter)\n* Run these two commands:\n```\ngdb --ex run --args gzserver -s `catkin_find libgazebo_ros_api_plugin.so` -s `catkin_find libgazebo_ros_paths_plugin.so`\nrosrun gazebo_ros spawn_model -file `rospack find baxter_description`/urdf/baxter.urdf -urdf -z 1 -model baxter\n```", "markup": "markdown", "html": "<p>Ok, I'm getting the same issue again. Here's the bt with Gazebo built in debug mode:</p>\n<div class=\"codehilite\"><pre><span></span>#0  0x00007ffff74bc440 in boost::shared_ptr&lt;urdf::Collision&gt;::shared_ptr (this=0x7fff567f9ad0) at /usr/include/boost/smart_ptr/shared_ptr.hpp:168\n#1  0x00007ffff74b2bc4 in urdf2gazebo::URDF2Gazebo::CreateCollisions (this=0x7fff567fa080, _elem=0x7fff38157380, _link=...)\n    at /home/dave/ros/gazebo/gazebo/sdf/interface/parser_urdf.cc:1498\n#2  0x00007ffff74b24d9 in urdf2gazebo::URDF2Gazebo::CreateLink (this=0x7fff567fa080, _root=0x7fff3807a680, _link=..., _currentTransform=...)\n    at /home/dave/ros/gazebo/gazebo/sdf/interface/parser_urdf.cc:1406\n#3  0x00007ffff74b1ff2 in urdf2gazebo::URDF2Gazebo::CreateSDF (this=0x7fff567fa080, _root=0x7fff3807a680, _link=..., _transform=...)\n    at /home/dave/ros/gazebo/gazebo/sdf/interface/parser_urdf.cc:1340\n#4  0x00007ffff74b670b in urdf2gazebo::URDF2Gazebo::InitModelString (this=0x7fff567fa080, _urdfStr=..., _enforceLimits=true)\n    at /home/dave/ros/gazebo/gazebo/sdf/interface/parser_urdf.cc:1897\n#5  0x00007ffff748ebdf in sdf::readString (_xmlString=..., _sdf=...) at /home/dave/ros/gazebo/gazebo/sdf/interface/parser.cc:311\n#6  0x00007ffff6d53a9d in gazebo::physics::World::ProcessFactoryMsgs (this=0x770840) at /home/dave/ros/gazebo/gazebo/physics/World.cc:1467\n#7  0x00007ffff6d56ea4 in gazebo::physics::World::ProcessMessages (this=0x770840) at /home/dave/ros/gazebo/gazebo/physics/World.cc:1817\n#8  0x00007ffff6d4dc9b in gazebo::physics::World::Step (this=0x770840) at /home/dave/ros/gazebo/gazebo/physics/World.cc:528\n#9  0x00007ffff6d4ca52 in gazebo::physics::World::RunLoop (this=0x770840) at /home/dave/ros/gazebo/gazebo/physics/World.cc:365\n#10 0x00007ffff6d6d50a in boost::_mfi::mf0&lt;void, gazebo::physics::World&gt;::operator() (this=0x1b4dac8, p=0x770840)\n    at /usr/include/boost/bind/mem_fn_template.hpp:49\n#11 0x00007ffff6d6c584 in boost::_bi::list1&lt;boost::_bi::value&lt;gazebo::physics::World*&gt; &gt;::operator()&lt;boost::_mfi::mf0&lt;void, gazebo::physics::World&gt;, boost::_bi::list0&gt; (this=0x1b4dad8, f=..., a=...) at /usr/include/boost/bind/bind.hpp:253\n#12 0x00007ffff6d6b519 in boost::_bi::bind_t&lt;void, boost::_mfi::mf0&lt;void, gazebo::physics::World&gt;, boost::_bi::list1&lt;boost::_bi::value&lt;gazebo::physics::World*&gt; &gt; &gt;::operator() (this=0x1b4dac8) at /usr/include/boost/bind/bind_template.hpp:20\n---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---\n#13 0x00007ffff6d6f088 in boost::detail::thread_data&lt;boost::_bi::bind_t&lt;void, boost::_mfi::mf0&lt;void, gazebo::physics::World&gt;, boost::_bi::list1&lt;boost::_bi::value&lt;gazebo::physics::World*&gt; &gt; &gt; &gt;::run (this=0x1b4d940) at /usr/include/boost/thread/detail/thread.hpp:61\n#14 0x00007ffff55f2ce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\n#15 0x00007ffff6181e9a in start_thread () from /lib/x86_64-linux-gnu/libpthread.so.0\n#16 0x00007ffff499bccd in clone () from /lib/x86_64-linux-gnu/libc.so.6\n#17 0x0000000000000000 in ?? ()\n</pre></div>\n\n\n<p>To reproduce:</p>\n<ul>\n<li>Install Gazebo from default</li>\n<li>Install the latest gazebo_ros_pkgs</li>\n<li>Download baxter as documented <a data-is-external-link=\"true\" href=\"http://gazebosim.org/wiki/Tutorials/1.9/Using_roslaunch_Files_to_Spawn_Models#URDF_Example_with_Baxter\" rel=\"nofollow\">in the tutorial</a></li>\n<li>Run these two commands:</li>\n</ul>\n<div class=\"codehilite\"><pre><span></span>gdb --ex run --args gzserver -s `catkin_find libgazebo_ros_api_plugin.so` -s `catkin_find libgazebo_ros_paths_plugin.so`\nrosrun gazebo_ros spawn_model -file `rospack find baxter_description`/urdf/baxter.urdf -urdf -z 1 -model baxter\n</pre></div>", "type": "rendered"}, "created_on": "2013-06-29T05:21:01.002329+00:00", "user": {"display_name": "Dave Coleman", "uuid": "{58f784f8-4b19-4221-b333-670219684927}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B58f784f8-4b19-4221-b333-670219684927%7D"}, "html": {"href": "https://bitbucket.org/%7B58f784f8-4b19-4221-b333-670219684927%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/0a0abfbe6bae9a1d65fe4af19493f423d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsDC-3.png"}}, "nickname": "Dave Coleman", "type": "user", "account_id": "557058:113fde7a-8d84-43e3-91d8-20354f36ec42"}, "updated_on": null, "type": "issue_comment", "id": 5016096}