{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/557/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/557.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/557/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/557/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/557/camera-sensor-segfaults-on-loading"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/557/vote"}}, "reporter": {"display_name": "Marcus Liebhardt", "uuid": "{3450c259-a384-4f55-9804-258a3f313f1d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3450c259-a384-4f55-9804-258a3f313f1d%7D"}, "html": {"href": "https://bitbucket.org/%7B3450c259-a384-4f55-9804-258a3f313f1d%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dec89fe7edb3199a81905cc8c0ddd658d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsML-5.png"}}, "nickname": "bit-pirate", "type": "user", "account_id": "557058:207d9111-6236-414f-ba53-cda69d89f223"}, "title": "camera sensor segfaults on loading", "component": null, "votes": 0, "watches": 3, "content": {"raw": "I tried to get the Kinect simulation working with the ROS plugin, but when loading my model I got an segfault error:\r\n\r\n```\r\n#!c++\r\n\r\nWarning [parser.cc:377] SDF has no <sdf> element in file[data-string]\r\nDbg [base_footprint] has no parent joint\r\nWarning [parser.cc:314] parse from urdf.\r\nProgram received signal SIGSEGV, Segmentation fault.\r\n0x00007ffff5aeff28 in std::basic_string<char, std::char_traits<char>, std::allocator<char> >::basic_string(std::string const&) () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\r\n(gdb) bt\r\n#0  0x00007ffff5aeff28 in std::basic_string<char, std::char_traits<char>, std::allocator<char> >::basic_string(std::string const&) () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\r\n#1  0x00007ffff324f4d6 in gazebo::rendering::Scene::CreateDepthCamera(std::string const&, bool) () from /opt/ros/groovy/stacks/simulator_gazebo/gazebo/gazebo/lib/libgazebo_rendering.so.1\r\n#2  0x00007ffff7078edb in gazebo::sensors::DepthCameraSensor::Init() () from /opt/ros/groovy/stacks/simulator_gazebo/gazebo/gazebo/lib/libgazebo_sensors.so.1\r\n#3  0x00007ffff708e999 in gazebo::sensors::SensorManager::Update(bool) () from /opt/ros/groovy/stacks/simulator_gazebo/gazebo/gazebo/lib/libgazebo_sensors.so.1\r\n#4  0x0000000000422797 in gazebo::Server::Run() ()\r\n#5  0x000000000041f329 in main ()\r\n```\r\n\r\nSo next I decided to test the Kinect model in the online library and it looks like I get the same error:\r\n\r\n```\r\n#!c++\r\n\r\nProgram received signal SIGSEGV, Segmentation fault.\r\n0x00007ffff5aeff28 in std::basic_string<char, std::char_traits<char>, std::allocator<char> >::basic_string(std::string const&) () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\r\n(gdb) bt\r\n#0  0x00007ffff5aeff28 in std::basic_string<char, std::char_traits<char>, std::allocator<char> >::basic_string(std::string const&) () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\r\n#1  0x00007ffff324f4d6 in gazebo::rendering::Scene::CreateDepthCamera(std::string const&, bool) () from /opt/ros/groovy/stacks/simulator_gazebo/gazebo/gazebo/lib/libgazebo_rendering.so.1\r\n#2  0x00007ffff7078edb in gazebo::sensors::DepthCameraSensor::Init() () from /opt/ros/groovy/stacks/simulator_gazebo/gazebo/gazebo/lib/libgazebo_sensors.so.1\r\n#3  0x00007ffff708e999 in gazebo::sensors::SensorManager::Update(bool) () from /opt/ros/groovy/stacks/simulator_gazebo/gazebo/gazebo/lib/libgazebo_sensors.so.1\r\n#4  0x0000000000422797 in gazebo::Server::Run() ()\r\n#5  0x000000000041f329 in main ()\r\n```\r\n\r\nAny idea what's going wrong?\r\n\r\nPS: Running Gazebo 1.3 and ROS Groovy\r\n\r\n/edit: removed manifest parsing errors", "markup": "markdown", "html": "<p>I tried to get the Kinect simulation working with the ROS plugin, but when loading my model I got an segfault error:</p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"n\">Warning</span> <span class=\"p\">[</span><span class=\"n\">parser</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">377</span><span class=\"p\">]</span> <span class=\"n\">SDF</span> <span class=\"n\">has</span> <span class=\"n\">no</span> <span class=\"o\">&lt;</span><span class=\"n\">sdf</span><span class=\"o\">&gt;</span> <span class=\"n\">element</span> <span class=\"n\">in</span> <span class=\"n\">file</span><span class=\"p\">[</span><span class=\"n\">data</span><span class=\"o\">-</span><span class=\"n\">string</span><span class=\"p\">]</span>\n<span class=\"n\">Dbg</span> <span class=\"p\">[</span><span class=\"n\">base_footprint</span><span class=\"p\">]</span> <span class=\"n\">has</span> <span class=\"n\">no</span> <span class=\"n\">parent</span> <span class=\"n\">joint</span>\n<span class=\"n\">Warning</span> <span class=\"p\">[</span><span class=\"n\">parser</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">314</span><span class=\"p\">]</span> <span class=\"n\">parse</span> <span class=\"n\">from</span> <span class=\"n\">urdf</span><span class=\"p\">.</span>\n<span class=\"n\">Program</span> <span class=\"n\">received</span> <span class=\"n\">signal</span> <span class=\"n\">SIGSEGV</span><span class=\"p\">,</span> <span class=\"n\">Segmentation</span> <span class=\"n\">fault</span><span class=\"p\">.</span>\n<span class=\"mh\">0x00007ffff5aeff28</span> <span class=\"n\">in</span> <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">basic_string</span><span class=\"o\">&lt;</span><span class=\"kt\">char</span><span class=\"p\">,</span> <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">char_traits</span><span class=\"o\">&lt;</span><span class=\"kt\">char</span><span class=\"o\">&gt;</span><span class=\"p\">,</span> <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">allocator</span><span class=\"o\">&lt;</span><span class=\"kt\">char</span><span class=\"o\">&gt;</span> <span class=\"o\">&gt;::</span><span class=\"n\">basic_string</span><span class=\"p\">(</span><span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">string</span> <span class=\"k\">const</span><span class=\"o\">&amp;</span><span class=\"p\">)</span> <span class=\"p\">()</span> <span class=\"n\">from</span> <span class=\"o\">/</span><span class=\"n\">usr</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"o\">/</span><span class=\"n\">x86_64</span><span class=\"o\">-</span><span class=\"n\">linux</span><span class=\"o\">-</span><span class=\"n\">gnu</span><span class=\"o\">/</span><span class=\"n\">libstdc</span><span class=\"o\">++</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"mf\">.6</span>\n<span class=\"p\">(</span><span class=\"n\">gdb</span><span class=\"p\">)</span> <span class=\"n\">bt</span>\n<span class=\"cp\">#0  0x00007ffff5aeff28 in std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::basic_string(std::string const&amp;) () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6</span>\n<span class=\"cp\">#1  0x00007ffff324f4d6 in gazebo::rendering::Scene::CreateDepthCamera(std::string const&amp;, bool) () from /opt/ros/groovy/stacks/simulator_gazebo/gazebo/gazebo/lib/libgazebo_rendering.so.1</span>\n<span class=\"cp\">#2  0x00007ffff7078edb in gazebo::sensors::DepthCameraSensor::Init() () from /opt/ros/groovy/stacks/simulator_gazebo/gazebo/gazebo/lib/libgazebo_sensors.so.1</span>\n<span class=\"cp\">#3  0x00007ffff708e999 in gazebo::sensors::SensorManager::Update(bool) () from /opt/ros/groovy/stacks/simulator_gazebo/gazebo/gazebo/lib/libgazebo_sensors.so.1</span>\n<span class=\"cp\">#4  0x0000000000422797 in gazebo::Server::Run() ()</span>\n<span class=\"cp\">#5  0x000000000041f329 in main ()</span>\n</pre></div>\n\n\n<p>So next I decided to test the Kinect model in the online library and it looks like I get the same error:</p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"n\">Program</span> <span class=\"n\">received</span> <span class=\"n\">signal</span> <span class=\"n\">SIGSEGV</span><span class=\"p\">,</span> <span class=\"n\">Segmentation</span> <span class=\"n\">fault</span><span class=\"p\">.</span>\n<span class=\"mh\">0x00007ffff5aeff28</span> <span class=\"n\">in</span> <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">basic_string</span><span class=\"o\">&lt;</span><span class=\"kt\">char</span><span class=\"p\">,</span> <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">char_traits</span><span class=\"o\">&lt;</span><span class=\"kt\">char</span><span class=\"o\">&gt;</span><span class=\"p\">,</span> <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">allocator</span><span class=\"o\">&lt;</span><span class=\"kt\">char</span><span class=\"o\">&gt;</span> <span class=\"o\">&gt;::</span><span class=\"n\">basic_string</span><span class=\"p\">(</span><span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">string</span> <span class=\"k\">const</span><span class=\"o\">&amp;</span><span class=\"p\">)</span> <span class=\"p\">()</span> <span class=\"n\">from</span> <span class=\"o\">/</span><span class=\"n\">usr</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"o\">/</span><span class=\"n\">x86_64</span><span class=\"o\">-</span><span class=\"n\">linux</span><span class=\"o\">-</span><span class=\"n\">gnu</span><span class=\"o\">/</span><span class=\"n\">libstdc</span><span class=\"o\">++</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"mf\">.6</span>\n<span class=\"p\">(</span><span class=\"n\">gdb</span><span class=\"p\">)</span> <span class=\"n\">bt</span>\n<span class=\"cp\">#0  0x00007ffff5aeff28 in std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::basic_string(std::string const&amp;) () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6</span>\n<span class=\"cp\">#1  0x00007ffff324f4d6 in gazebo::rendering::Scene::CreateDepthCamera(std::string const&amp;, bool) () from /opt/ros/groovy/stacks/simulator_gazebo/gazebo/gazebo/lib/libgazebo_rendering.so.1</span>\n<span class=\"cp\">#2  0x00007ffff7078edb in gazebo::sensors::DepthCameraSensor::Init() () from /opt/ros/groovy/stacks/simulator_gazebo/gazebo/gazebo/lib/libgazebo_sensors.so.1</span>\n<span class=\"cp\">#3  0x00007ffff708e999 in gazebo::sensors::SensorManager::Update(bool) () from /opt/ros/groovy/stacks/simulator_gazebo/gazebo/gazebo/lib/libgazebo_sensors.so.1</span>\n<span class=\"cp\">#4  0x0000000000422797 in gazebo::Server::Run() ()</span>\n<span class=\"cp\">#5  0x000000000041f329 in main ()</span>\n</pre></div>\n\n\n<p>Any idea what's going wrong?</p>\n<p>PS: Running Gazebo 1.3 and ROS Groovy</p>\n<p>/edit: removed manifest parsing errors</p>", "type": "rendered"}, "assignee": null, "state": "closed", "version": {"name": "all", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/225575.json"}}}, "edited_on": null, "created_on": "2013-03-07T08:54:45.534428+00:00", "milestone": null, "updated_on": "2016-09-14T19:45:25.534516+00:00", "type": "issue", "id": 557}