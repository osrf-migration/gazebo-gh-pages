{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2293/comments/37424731.json"}, "html": {"href": "#!/osrf/gazebo/issues/2293#comment-37424731"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2293.json"}}, "type": "issue", "id": 2293, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Non-deterministic image render/frame publication times between runs"}, "content": {"raw": "(Disclaimer: I am not an OSRF developer). \n\nI think this kind of behavior is due to #!/osrf/gazebo/issues/1721/making-physics-wait-for-sensor-updates . \n\nA proper synchronization mechanism between the sensor thread and the physics thread should solve this. \n\n\nOther related issues/comments:\n\n * #!/osrf/gazebo/issues/1966/camera-output-appears-to-depend-on-real ,\n * #!/osrf/gazebo/pull-requests/1721/cache-joint-force-torque-for-ode-and-dart/diff#comment-13475254 .", "markup": "markdown", "html": "<p>(Disclaimer: I am not an OSRF developer). </p>\n<p>I think this kind of behavior is due to <a href=\"#!/osrf/gazebo/issues/1721/making-physics-wait-for-sensor-updates\" rel=\"nofollow\" class=\"ap-connect-link\">#!/osrf/gazebo/issues/1721/making-physics-wait-for-sensor-updates</a> . </p>\n<p>A proper synchronization mechanism between the sensor thread and the physics thread should solve this. </p>\n<p>Other related issues/comments:</p>\n<ul>\n<li><a href=\"#!/osrf/gazebo/issues/1966/camera-output-appears-to-depend-on-real\" rel=\"nofollow\" class=\"ap-connect-link\">#!/osrf/gazebo/issues/1966/camera-output-appears-to-depend-on-real</a> ,</li>\n<li><a href=\"#!/osrf/gazebo/pull-requests/1721/cache-joint-force-torque-for-ode-and-dart/diff#comment-13475254\" rel=\"nofollow\" class=\"ap-connect-link\">#!/osrf/gazebo/pull-requests/1721/cache-joint-force-torque-for-ode-and-dart/diff#comment-13475254</a> .</li>\n</ul>", "type": "rendered"}, "created_on": "2017-06-07T08:29:55.902201+00:00", "user": {"display_name": "Silvio Traversaro", "uuid": "{34f404cb-5642-4f27-a032-e04c7143d776}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D"}, "html": {"href": "https://bitbucket.org/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6/578caaa1-056c-45a2-8bf9-bee94c3bebef/128"}}, "nickname": "traversaro", "type": "user", "account_id": "557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6"}, "updated_on": "2017-06-07T12:30:07.191454+00:00", "type": "issue_comment", "id": 37424731}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2293/comments/37426565.json"}, "html": {"href": "#!/osrf/gazebo/issues/2293#comment-37426565"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2293.json"}}, "type": "issue", "id": 2293, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Non-deterministic image render/frame publication times between runs"}, "content": {"raw": "Thanks for the insightful links Silvio. This does definitely seem related to [#1721](#!/osrf/gazebo/issues/1721/making-physics-wait-for-sensor-updates) and  [#1966](#!/osrf/gazebo/issues/1966/camera-output-appears-to-depend-on-real) is also likely very relevant since we step/pause the simulation in a similar manner.", "markup": "markdown", "html": "<p>Thanks for the insightful links Silvio. This does definitely seem related to <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/issues/1721/making-physics-wait-for-sensor-updates\" rel=\"nofollow\">#1721</a> and  <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/issues/1966/camera-output-appears-to-depend-on-real\" rel=\"nofollow\">#1966</a> is also likely very relevant since we step/pause the simulation in a similar manner.</p>", "type": "rendered"}, "created_on": "2017-06-07T09:28:08.778975+00:00", "user": {"display_name": "Kenny Sharma", "uuid": "{d7b75212-e3b1-42c9-b7a8-50aa42951ce8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd7b75212-e3b1-42c9-b7a8-50aa42951ce8%7D"}, "html": {"href": "https://bitbucket.org/%7Bd7b75212-e3b1-42c9-b7a8-50aa42951ce8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/bd81e1cc5390928db838b229570537a4d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsKS-1.png"}}, "nickname": "kennysharma", "type": "user", "account_id": "557058:79f075d9-d7fb-4230-b1ac-6d9a545a4bdd"}, "updated_on": null, "type": "issue_comment", "id": 37426565}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2293/comments/37441402.json"}, "html": {"href": "#!/osrf/gazebo/issues/2293#comment-37441402"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2293.json"}}, "type": "issue", "id": 2293, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Non-deterministic image render/frame publication times between runs"}, "content": {"raw": "there is a [pull request](#!/osrf/gazebo/pull-requests/2502/make-sure-cameras-fps-is-strictly-applied/diff) which I think may address this issue. I have not had time to test it yet.", "markup": "markdown", "html": "<p>there is a <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/pull-requests/2502/make-sure-cameras-fps-is-strictly-applied/diff\" rel=\"nofollow\">pull request</a> which I think may address this issue. I have not had time to test it yet.</p>", "type": "rendered"}, "created_on": "2017-06-07T19:38:10.560691+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": null, "type": "issue_comment", "id": 37441402}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2293/comments/37448639.json"}, "html": {"href": "#!/osrf/gazebo/issues/2293#comment-37448639"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2293.json"}}, "type": "issue", "id": 2293, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Non-deterministic image render/frame publication times between runs"}, "content": {"raw": "Thanks for the quick response Ian, I'll try to test that pull request on a few different hardware platforms over the next couple of days.\n\nWe don't build any of the ignition libraries locally so I will likely just change any references to explicit tolerance comparisons as mentioned in the pull request. We do build sdformat, but I don't see a need for our platform to include backwards compatibility (yet).", "markup": "markdown", "html": "<p>Thanks for the quick response Ian, I'll try to test that pull request on a few different hardware platforms over the next couple of days.</p>\n<p>We don't build any of the ignition libraries locally so I will likely just change any references to explicit tolerance comparisons as mentioned in the pull request. We do build sdformat, but I don't see a need for our platform to include backwards compatibility (yet).</p>", "type": "rendered"}, "created_on": "2017-06-08T06:08:10.377148+00:00", "user": {"display_name": "Kenny Sharma", "uuid": "{d7b75212-e3b1-42c9-b7a8-50aa42951ce8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd7b75212-e3b1-42c9-b7a8-50aa42951ce8%7D"}, "html": {"href": "https://bitbucket.org/%7Bd7b75212-e3b1-42c9-b7a8-50aa42951ce8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/bd81e1cc5390928db838b229570537a4d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsKS-1.png"}}, "nickname": "kennysharma", "type": "user", "account_id": "557058:79f075d9-d7fb-4230-b1ac-6d9a545a4bdd"}, "updated_on": null, "type": "issue_comment", "id": 37448639}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2293/comments/37822690.json"}, "html": {"href": "#!/osrf/gazebo/issues/2293#comment-37822690"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2293.json"}}, "type": "issue", "id": 2293, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Non-deterministic image render/frame publication times between runs"}, "content": {"raw": "Following up here, I backported the pull request with minimal changes to our Gazebo 7 build (the ignition changes were already merged so we are using them by default). After debugging it does indeed seem as though the frames are being published at deterministic times, but unfortunately there is still some other non-determinism in our setup. I'll continue to investigate and let you know if there's anything Gazebo related.", "markup": "markdown", "html": "<p>Following up here, I backported the pull request with minimal changes to our Gazebo 7 build (the ignition changes were already merged so we are using them by default). After debugging it does indeed seem as though the frames are being published at deterministic times, but unfortunately there is still some other non-determinism in our setup. I'll continue to investigate and let you know if there's anything Gazebo related.</p>", "type": "rendered"}, "created_on": "2017-06-25T13:55:43.559564+00:00", "user": {"display_name": "Kenny Sharma", "uuid": "{d7b75212-e3b1-42c9-b7a8-50aa42951ce8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd7b75212-e3b1-42c9-b7a8-50aa42951ce8%7D"}, "html": {"href": "https://bitbucket.org/%7Bd7b75212-e3b1-42c9-b7a8-50aa42951ce8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/bd81e1cc5390928db838b229570537a4d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsKS-1.png"}}, "nickname": "kennysharma", "type": "user", "account_id": "557058:79f075d9-d7fb-4230-b1ac-6d9a545a4bdd"}, "updated_on": null, "type": "issue_comment", "id": 37822690}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2293/comments/37898562.json"}, "html": {"href": "#!/osrf/gazebo/issues/2293#comment-37898562"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2293.json"}}, "type": "issue", "id": 2293, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Non-deterministic image render/frame publication times between runs"}, "content": {"raw": "great, thanks for reporting back. If that PR works, we should try and merge it. It needs tests first.", "markup": "markdown", "html": "<p>great, thanks for reporting back. If that PR works, we should try and merge it. It needs tests first.</p>", "type": "rendered"}, "created_on": "2017-06-28T17:32:19.633071+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": null, "type": "issue_comment", "id": 37898562}], "page": 1, "size": 6}