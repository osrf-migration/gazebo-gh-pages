{"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1321/comments/25086804.json"}, "html": {"href": "#!/osrf/gazebo/issues/1321#comment-25086804"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1321.json"}}, "type": "issue", "id": 1321, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Proper joint torque feedback"}, "content": {"raw": "I had to configure all joints to provide feedback (via Joint::SetProvideFeedback(true)) to get return values for all joints. I looked in the implementation of GetForceTorque() for odeHingeJoints, and i think, there is an error in the implementation, because the joint torque is calculated in the child link frame and subtracted in the parent link frame without transformation.\n\nAlso, when testing the approach, i recognized, that SetForce() sometimes has no effect (see #!/osrf/gazebo/issues/1848/setforce-on-joint-has-no-effect).", "markup": "markdown", "html": "<p>I had to configure all joints to provide feedback (via Joint::SetProvideFeedback(true)) to get return values for all joints. I looked in the implementation of GetForceTorque() for odeHingeJoints, and i think, there is an error in the implementation, because the joint torque is calculated in the child link frame and subtracted in the parent link frame without transformation.</p>\n<p>Also, when testing the approach, i recognized, that SetForce() sometimes has no effect (see <a href=\"#!/osrf/gazebo/issues/1848/setforce-on-joint-has-no-effect\" rel=\"nofollow\" class=\"ap-connect-link\">#!/osrf/gazebo/issues/1848/setforce-on-joint-has-no-effect</a>).</p>", "type": "rendered"}, "created_on": "2016-01-29T11:01:27.889099+00:00", "user": {"display_name": "Jonathan Vorndamme", "uuid": "{514987f5-ddb9-4e64-9cb0-498fc6431077}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B514987f5-ddb9-4e64-9cb0-498fc6431077%7D"}, "html": {"href": "https://bitbucket.org/%7B514987f5-ddb9-4e64-9cb0-498fc6431077%7D/"}, "avatar": {"href": "https://bitbucket.org/account/vorndamme/avatar/"}}, "nickname": "vorndamme", "type": "user", "account_id": null}, "updated_on": "2016-01-29T11:01:58.473740+00:00", "type": "issue_comment", "id": 25086804}