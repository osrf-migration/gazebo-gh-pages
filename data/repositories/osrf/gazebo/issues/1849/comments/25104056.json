{"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1849/comments/25104056.json"}, "html": {"href": "#!/osrf/gazebo/issues/1849#comment-25104056"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1849.json"}}, "type": "issue", "id": 1849, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "lcov coverage build with simbody causes test failures"}, "content": {"raw": "Actually I'll keep it here for now. I've reproduced it in simbody using the same [compiler flags](#!/osrf/gazebo/src/7c23991510420e25940bee2c5566b083dc715ed3/cmake/DefaultCFlags.cmake?fileviewer=file-view-default#DefaultCFlags.cmake-28):\n\n~~~\n-g\n-O0\n-Wformat=2\n--coverage\n-fno-inline\n-fno-default-inline\n-fno-implicit-inline-templates\n-fno-elide-constructors\n~~~\n\nI removed `-Wformat=2` since it was giving some warnings. The following selection of compiler flags can reproduce the problem on simbody:\n\n~~~\ncmake .. -DCMAKE_CXX_FLAGS=\"-g --coverage -fno-inline -fno-default-inline -fno-implicit-inline-templates -fno-elide-constructors\"\n~~~\n\nI'm going to try paring it down to see which flags are causing the problems. It could be that these compiler flags shouldn't be used for simbody. Do any jump out at you?", "markup": "markdown", "html": "<p>Actually I'll keep it here for now. I've reproduced it in simbody using the same <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/7c23991510420e25940bee2c5566b083dc715ed3/cmake/DefaultCFlags.cmake?fileviewer=file-view-default#DefaultCFlags.cmake-28\" rel=\"nofollow\">compiler flags</a>:</p>\n<div class=\"codehilite\"><pre><span></span>-g\n-O0\n-Wformat=2\n--coverage\n-fno-inline\n-fno-default-inline\n-fno-implicit-inline-templates\n-fno-elide-constructors\n</pre></div>\n\n\n<p>I removed <code>-Wformat=2</code> since it was giving some warnings. The following selection of compiler flags can reproduce the problem on simbody:</p>\n<div class=\"codehilite\"><pre><span></span>cmake .. -DCMAKE_CXX_FLAGS=&quot;-g --coverage -fno-inline -fno-default-inline -fno-implicit-inline-templates -fno-elide-constructors&quot;\n</pre></div>\n\n\n<p>I'm going to try paring it down to see which flags are causing the problems. It could be that these compiler flags shouldn't be used for simbody. Do any jump out at you?</p>", "type": "rendered"}, "created_on": "2016-01-30T00:46:22.167707+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 25104056}