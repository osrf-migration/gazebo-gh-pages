{"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/1933/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/1933.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/1933/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/1933/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/1933/dart-support-for-a-link-being-child-of-two"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/1933/vote"}}, "reporter": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "title": "DART support for a link being child of two different joints", "component": {"name": "physics::DARTPhysics", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/139387.json"}}}, "votes": 0, "watches": 4, "content": {"raw": "DART segfaults when destroying the world if there is a link which is the child of two different joints. This happens in the PR2 for example, but any simple model with 3 links and 2 joints is sufficient to trigger the problem:\r\n\r\n```\r\n#!xml\r\n\r\n\r\n<sdf version=\"1.5\">\r\n  <world name=\"default\">\r\n    <model name=\"box\">\r\n      <link name=\"link1\" />\r\n      <link name=\"link2\" />\r\n      <link name=\"link3\" />\r\n      <joint name=\"joint1\" type=\"revolute\">\r\n        <parent>link1</parent>\r\n        <child>link3</child>\r\n        <axis>\r\n          <xyz>1 0 0</xyz>\r\n        </axis>\r\n      </joint>\r\n      <joint name=\"joint2\" type=\"revolute\">\r\n        <parent>link2</parent>\r\n        <child>link3</child>\r\n        <axis>\r\n          <xyz>0 1 0</xyz>\r\n        </axis>\r\n      </joint>\r\n    </model>\r\n  </world>\r\n</sdf>\r\n```\r\n\r\n\r\n\r\nThis looks like an [upstream](https://github.com/dartsim/dart/issues/671) issue.", "markup": "markdown", "html": "<p>DART segfaults when destroying the world if there is a link which is the child of two different joints. This happens in the PR2 for example, but any simple model with 3 links and 2 joints is sufficient to trigger the problem:</p>\n<div class=\"codehilite language-xml\"><pre><span></span><span class=\"nt\">&lt;sdf</span> <span class=\"na\">version=</span><span class=\"s\">&quot;1.5&quot;</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;world</span> <span class=\"na\">name=</span><span class=\"s\">&quot;default&quot;</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;model</span> <span class=\"na\">name=</span><span class=\"s\">&quot;box&quot;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;link</span> <span class=\"na\">name=</span><span class=\"s\">&quot;link1&quot;</span> <span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;link</span> <span class=\"na\">name=</span><span class=\"s\">&quot;link2&quot;</span> <span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;link</span> <span class=\"na\">name=</span><span class=\"s\">&quot;link3&quot;</span> <span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;joint</span> <span class=\"na\">name=</span><span class=\"s\">&quot;joint1&quot;</span> <span class=\"na\">type=</span><span class=\"s\">&quot;revolute&quot;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;parent&gt;</span>link1<span class=\"nt\">&lt;/parent&gt;</span>\n        <span class=\"nt\">&lt;child&gt;</span>link3<span class=\"nt\">&lt;/child&gt;</span>\n        <span class=\"nt\">&lt;axis&gt;</span>\n          <span class=\"nt\">&lt;xyz&gt;</span>1 0 0<span class=\"nt\">&lt;/xyz&gt;</span>\n        <span class=\"nt\">&lt;/axis&gt;</span>\n      <span class=\"nt\">&lt;/joint&gt;</span>\n      <span class=\"nt\">&lt;joint</span> <span class=\"na\">name=</span><span class=\"s\">&quot;joint2&quot;</span> <span class=\"na\">type=</span><span class=\"s\">&quot;revolute&quot;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;parent&gt;</span>link2<span class=\"nt\">&lt;/parent&gt;</span>\n        <span class=\"nt\">&lt;child&gt;</span>link3<span class=\"nt\">&lt;/child&gt;</span>\n        <span class=\"nt\">&lt;axis&gt;</span>\n          <span class=\"nt\">&lt;xyz&gt;</span>0 1 0<span class=\"nt\">&lt;/xyz&gt;</span>\n        <span class=\"nt\">&lt;/axis&gt;</span>\n      <span class=\"nt\">&lt;/joint&gt;</span>\n    <span class=\"nt\">&lt;/model&gt;</span>\n  <span class=\"nt\">&lt;/world&gt;</span>\n<span class=\"nt\">&lt;/sdf&gt;</span>\n</pre></div>\n\n\n<p>This looks like an <a data-is-external-link=\"true\" href=\"https://github.com/dartsim/dart/issues/671\" rel=\"nofollow\">upstream</a> issue.</p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": {"name": "all", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/225575.json"}}}, "edited_on": null, "created_on": "2016-04-15T21:59:57.041839+00:00", "milestone": null, "updated_on": "2019-03-11T08:46:19.223154+00:00", "type": "issue", "id": 1933}