{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/1560/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/1560.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/1560/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/1560/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/1560/gazebo-gzclient-causes-high-cpu-with-an"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/1560/vote"}}, "reporter": {"display_name": "Chris Spencer", "uuid": "{c32a9420-4929-4ae7-8300-194ba69b5d65}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc32a9420-4929-4ae7-8300-194ba69b5d65%7D"}, "html": {"href": "https://bitbucket.org/%7Bc32a9420-4929-4ae7-8300-194ba69b5d65%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/c125f576c3a08c0c1d4330bc565ae28cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCS-6.png"}}, "nickname": "chrisspen", "type": "user", "account_id": "557058:d9f17e7c-8978-4109-847f-21ea64169880"}, "title": "Gazebo (gzclient) causes high CPU with an empty world", "component": {"name": "common", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/138866.json"}}}, "votes": 2, "watches": 11, "content": {"raw": "Running `gazebo` immediately causes nearly 100% CPU usage, even though I have no models loaded and have the simulation paused.\r\n\r\nRunning `top` shows, on average, that the CPU usage breaks down like:\r\n\r\n    80% /usr/bin/gnome-shell\r\n    60% gzclient\r\n    20% Xorg\r\n    10% gzserver\r\n\r\nObviously, the big offender is gnome-shell, but as soon as I quit gazebo, gnome-shell CPU usage drops to 3%.\r\n\r\nMy system is a dual-core Macbook Pro running:\r\n\r\n    Ubuntu 12.04\r\n    OpenGL 3.3.0 (NVIDIA 331.113 driver)\r\n    Gazebo 4.1.1 (installed from the \"Step-by-step\" instructions at http://gazebosim.org/tutorials?tut=install_ubuntu&cat=installation)\r\n\r\nAnother odd thing I've noticed, is if I set \"shadows\" to \"false\" under World->Scene, then CPU usage immediately drops, although is still a bit high. The break down is roughly:\r\n\r\n    20% gnome-shell\r\n    20% gzclient\r\n    10% gzserver\r\n\r\nHowever, the if I click away and then back to World->Scene, the \"shadow\" value is reset to \"true\".\r\n\r\nThis seems related to my graphics driver. If I install gazebo on another 12.04 machine, but running OpenGL 3.0 (Mesa 10.1.3), gazebo runs fine with almost no CPU usage.", "markup": "markdown", "html": "<p>Running <code>gazebo</code> immediately causes nearly 100% CPU usage, even though I have no models loaded and have the simulation paused.</p>\n<p>Running <code>top</code> shows, on average, that the CPU usage breaks down like:</p>\n<div class=\"codehilite\"><pre><span></span>80% /usr/bin/gnome-shell\n60% gzclient\n20% Xorg\n10% gzserver\n</pre></div>\n\n\n<p>Obviously, the big offender is gnome-shell, but as soon as I quit gazebo, gnome-shell CPU usage drops to 3%.</p>\n<p>My system is a dual-core Macbook Pro running:</p>\n<div class=\"codehilite\"><pre><span></span>Ubuntu 12.04\nOpenGL 3.3.0 (NVIDIA 331.113 driver)\nGazebo 4.1.1 (installed from the &quot;Step-by-step&quot; instructions at http://gazebosim.org/tutorials?tut=install_ubuntu&amp;cat=installation)\n</pre></div>\n\n\n<p>Another odd thing I've noticed, is if I set \"shadows\" to \"false\" under World-&gt;Scene, then CPU usage immediately drops, although is still a bit high. The break down is roughly:</p>\n<div class=\"codehilite\"><pre><span></span>20% gnome-shell\n20% gzclient\n10% gzserver\n</pre></div>\n\n\n<p>However, the if I click away and then back to World-&gt;Scene, the \"shadow\" value is reset to \"true\".</p>\n<p>This seems related to my graphics driver. If I install gazebo on another 12.04 machine, but running OpenGL 3.0 (Mesa 10.1.3), gazebo runs fine with almost no CPU usage.</p>", "type": "rendered"}, "assignee": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "state": "new", "version": {"name": "3.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/100247.json"}}}, "edited_on": null, "created_on": "2015-04-09T02:19:26.109448+00:00", "milestone": null, "updated_on": "2018-03-01T19:21:44.958766+00:00", "type": "issue", "id": 1560}