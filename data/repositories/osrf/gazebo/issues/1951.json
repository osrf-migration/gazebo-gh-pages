{"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/1951/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/1951.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/1951/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/1951/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/1951/crash-when-closing-the-model-editor"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/1951/vote"}}, "reporter": {"display_name": "Hugo Boyer", "uuid": "{3d87874e-7099-4981-b04f-57f0272faa7d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d87874e-7099-4981-b04f-57f0272faa7d%7D"}, "html": {"href": "https://bitbucket.org/%7B3d87874e-7099-4981-b04f-57f0272faa7d%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/21198da8539b599e3633017f5f5f8150d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsHB-6.png"}}, "nickname": "hugomatic", "type": "user", "account_id": "557058:869c02bb-b246-4cdc-9db3-0064e8add185"}, "title": "crash when closing the model editor", "component": {"name": "gui::ModelEditor", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/222472.json"}}}, "votes": 0, "watches": 2, "content": {"raw": "It happened. Here's a back trace\r\n\r\n\r\n```\r\n#!c++\r\n\r\n(gdb) bt\r\n#0  0x00007f3702268cc9 in __GI_raise (sig=sig@entry=6) at ../nptl/sysdeps/unix/sysv/linux/raise.c:56\r\n#1  0x00007f370226c0d8 in __GI_abort () at abort.c:89\r\n#2  0x00007f3702261b86 in __assert_fail_base (fmt=0x7f37023b2830 \"%s%s%s:%u: %s%sAssertion `%s' failed.\\n%n\", \r\n    assertion=assertion@entry=0x7f37034f1b91 \"px != 0\", file=file@entry=0x7f37034f2120 \"/usr/include/boost/smart_ptr/shared_ptr.hpp\", \r\n    line=line@entry=653, \r\n    function=function@entry=0x7f370351a500 <_ZZNK5boost10shared_ptrIN6gazebo4msgs8ResponseEEptEvE19__PRETTY_FUNCTION__> \"typename boost::detail::sp_member_access<T>::type boost::shared_ptr<T>::operator->() const [with T = gazebo::msgs::Response; typename boost::detail::sp_member_access<T>::type = gazebo::msgs::Response*\"...) at assert.c:92\r\n#3  0x00007f3702261c32 in __GI___assert_fail (assertion=0x7f37034f1b91 \"px != 0\", \r\n    file=0x7f37034f2120 \"/usr/include/boost/smart_ptr/shared_ptr.hpp\", line=653, \r\n    function=0x7f370351a500 <_ZZNK5boost10shared_ptrIN6gazebo4msgs8ResponseEEptEvE19__PRETTY_FUNCTION__> \"typename boost::detail::sp_member_access<T>::type boost::shared_ptr<T>::operator->() const [with T = gazebo::msgs::Response; typename boost::detail::sp_member_access<T>::type = gazebo::msgs::Response*\"...) at assert.c:101\r\n#4  0x00007f3703443ae3 in boost::shared_ptr<gazebo::msgs::Response>::operator-> (this=<optimized out>)\r\n    at /usr/include/boost/smart_ptr/shared_ptr.hpp:653\r\n#5  0x00007f3703452956 in operator-> (this=0x7ffc8192ee50) at /media/hugo/sdb1/code/gazebo-1/gazebo/gui/model/ModelCreator.cc:1704\r\n#6  gazebo::gui::ModelCreator::FinishModel (this=this@entry=0x5c5f080)\r\n    at /media/hugo/sdb1/code/gazebo-1/gazebo/gui/model/ModelCreator.cc:1677\r\n#7  0x00007f3703457b76 in gazebo::gui::ModelCreator::OnExit (this=0x5c5f080)\r\n    at /media/hugo/sdb1/code/gazebo-1/gazebo/gui/model/ModelCreator.cc:865\r\n#8  0x00007f3703334c05 in operator() (this=<optimized out>) at /usr/include/boost/function/function_template.hpp:767\r\n#9  gazebo::event::EventT<void ()>::Signal() (this=<optimized out>) at /media/hugo/sdb1/code/gazebo-1/gazebo/common/Event.hh:370\r\n#10 0x00007f3702ea687a in QMetaObject::activate(QObject*, QMetaObject const*, int, void**) ()\r\n   from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\r\n#11 0x00007f36fed89a62 in QAction::triggered(bool) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\r\n#12 0x00007f36fed8b433 in QAction::activate(QAction::ActionEvent) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\r\n#13 0x00007f3702eaac1e in QObject::event(QEvent*) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\r\n#14 0x00007f36fed8b4f2 in QAction::event(QEvent*) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\r\n#15 0x00007f36fed8fe2c in QApplicationPrivate::notify_helper(QObject*, QEvent*) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\r\n#16 0x00007f36fed964a0 in QApplication::notify(QObject*, QEvent*) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\r\n#17 0x00007f3702e924dd in QCoreApplication::notifyInternal(QObject*, QEvent*) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\r\n#18 0x00007f3702e95b3d in QCoreApplicationPrivate::sendPostedEvents(QObject*, int, QThreadData*) ()\r\n   from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\r\n#19 0x00007f3702ebff83 in ?? () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\r\n#20 0x00007f36fb7f9e04 in g_main_context_dispatch () from /lib/x86_64-linux-gnu/libglib-2.0.so.0\r\n#21 0x00007f36fb7fa048 in ?? () from /lib/x86_64-linux-gnu/libglib-2.0.so.0\r\n#22 0x00007f36fb7fa0ec in g_main_context_iteration () from /lib/x86_64-linux-gnu/libglib-2.0.so.0\r\n#23 0x00007f3702ebf7a1 in QEventDispatcherGlib::processEvents(QFlags<QEventLoop::ProcessEventsFlag>) ()\r\n   from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\r\n#24 0x00007f36fee31be6 in ?? () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\r\n#25 0x00007f3702e910af in QEventLoop::processEvents(QFlags<QEventLoop::ProcessEventsFlag>) ()\r\n   from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\r\n#26 0x00007f3702e913a5 in QEventLoop::exec(QFlags<QEventLoop::ProcessEventsFlag>) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\r\n#27 0x00007f3702e96b79 in QCoreApplication::exec() () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\r\n#28 0x00007f370333c5ab in gazebo::gui::run (_argc=5, _argv=0x7ffc8192f948) at /media/hugo/sdb1/code/gazebo-1/gazebo/gui/GuiIface.cc:323\r\n#29 0x000000000040152a in ?? ()\r\n#30 0x00007f3702253ec5 in __libc_start_main (main=0x401510, argc=5, argv=0x7ffc8192f948, init=<optimized out>, fini=<optimized out>, \r\n    rtld_fini=<optimized out>, stack_end=0x7ffc8192f938) at libc-start.c:287\r\n#31 0x0000000000401614 in _start ()\r\n\r\n```\r\n", "markup": "markdown", "html": "<p>It happened. Here's a back trace</p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"p\">(</span><span class=\"n\">gdb</span><span class=\"p\">)</span> <span class=\"n\">bt</span>\n<span class=\"cp\">#0  0x00007f3702268cc9 in __GI_raise (sig=sig@entry=6) at ../nptl/sysdeps/unix/sysv/linux/raise.c:56</span>\n<span class=\"cp\">#1  0x00007f370226c0d8 in __GI_abort () at abort.c:89</span>\n<span class=\"cp\">#2  0x00007f3702261b86 in __assert_fail_base (fmt=0x7f37023b2830 &quot;%s%s%s:%u: %s%sAssertion `%s&#39; failed.\\n%n&quot;, </span>\n    <span class=\"n\">assertion</span><span class=\"o\">=</span><span class=\"n\">assertion</span><span class=\"err\">@</span><span class=\"n\">entry</span><span class=\"o\">=</span><span class=\"mh\">0x7f37034f1b91</span> <span class=\"s\">&quot;px != 0&quot;</span><span class=\"p\">,</span> <span class=\"n\">file</span><span class=\"o\">=</span><span class=\"n\">file</span><span class=\"err\">@</span><span class=\"n\">entry</span><span class=\"o\">=</span><span class=\"mh\">0x7f37034f2120</span> <span class=\"s\">&quot;/usr/include/boost/smart_ptr/shared_ptr.hpp&quot;</span><span class=\"p\">,</span> \n    <span class=\"n\">line</span><span class=\"o\">=</span><span class=\"n\">line</span><span class=\"err\">@</span><span class=\"n\">entry</span><span class=\"o\">=</span><span class=\"mi\">653</span><span class=\"p\">,</span> \n    <span class=\"n\">function</span><span class=\"o\">=</span><span class=\"n\">function</span><span class=\"err\">@</span><span class=\"n\">entry</span><span class=\"o\">=</span><span class=\"mh\">0x7f370351a500</span> <span class=\"o\">&lt;</span><span class=\"n\">_ZZNK5boost10shared_ptrIN6gazebo4msgs8ResponseEEptEvE19__PRETTY_FUNCTION__</span><span class=\"o\">&gt;</span> <span class=\"s\">&quot;typename boost::detail::sp_member_access&lt;T&gt;::type boost::shared_ptr&lt;T&gt;::operator-&gt;() const [with T = gazebo::msgs::Response; typename boost::detail::sp_member_access&lt;T&gt;::type = gazebo::msgs::Response*&quot;</span><span class=\"p\">...)</span> <span class=\"n\">at</span> <span class=\"n\">assert</span><span class=\"p\">.</span><span class=\"nl\">c</span><span class=\"p\">:</span><span class=\"mi\">92</span>\n<span class=\"cp\">#3  0x00007f3702261c32 in __GI___assert_fail (assertion=0x7f37034f1b91 &quot;px != 0&quot;, </span>\n    <span class=\"n\">file</span><span class=\"o\">=</span><span class=\"mh\">0x7f37034f2120</span> <span class=\"s\">&quot;/usr/include/boost/smart_ptr/shared_ptr.hpp&quot;</span><span class=\"p\">,</span> <span class=\"n\">line</span><span class=\"o\">=</span><span class=\"mi\">653</span><span class=\"p\">,</span> \n    <span class=\"n\">function</span><span class=\"o\">=</span><span class=\"mh\">0x7f370351a500</span> <span class=\"o\">&lt;</span><span class=\"n\">_ZZNK5boost10shared_ptrIN6gazebo4msgs8ResponseEEptEvE19__PRETTY_FUNCTION__</span><span class=\"o\">&gt;</span> <span class=\"s\">&quot;typename boost::detail::sp_member_access&lt;T&gt;::type boost::shared_ptr&lt;T&gt;::operator-&gt;() const [with T = gazebo::msgs::Response; typename boost::detail::sp_member_access&lt;T&gt;::type = gazebo::msgs::Response*&quot;</span><span class=\"p\">...)</span> <span class=\"n\">at</span> <span class=\"n\">assert</span><span class=\"p\">.</span><span class=\"nl\">c</span><span class=\"p\">:</span><span class=\"mi\">101</span>\n<span class=\"cp\">#4  0x00007f3703443ae3 in boost::shared_ptr&lt;gazebo::msgs::Response&gt;::operator-&gt; (this=&lt;optimized out&gt;)</span>\n    <span class=\"n\">at</span> <span class=\"o\">/</span><span class=\"n\">usr</span><span class=\"o\">/</span><span class=\"n\">include</span><span class=\"o\">/</span><span class=\"n\">boost</span><span class=\"o\">/</span><span class=\"n\">smart_ptr</span><span class=\"o\">/</span><span class=\"n\">shared_ptr</span><span class=\"p\">.</span><span class=\"nl\">hpp</span><span class=\"p\">:</span><span class=\"mi\">653</span>\n<span class=\"cp\">#5  0x00007f3703452956 in operator-&gt; (this=0x7ffc8192ee50) at /media/hugo/sdb1/code/gazebo-1/gazebo/gui/model/ModelCreator.cc:1704</span>\n<span class=\"cp\">#6  gazebo::gui::ModelCreator::FinishModel (this=this@entry=0x5c5f080)</span>\n    <span class=\"n\">at</span> <span class=\"o\">/</span><span class=\"n\">media</span><span class=\"o\">/</span><span class=\"n\">hugo</span><span class=\"o\">/</span><span class=\"n\">sdb1</span><span class=\"o\">/</span><span class=\"n\">code</span><span class=\"o\">/</span><span class=\"n\">gazebo</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"o\">/</span><span class=\"n\">gazebo</span><span class=\"o\">/</span><span class=\"n\">gui</span><span class=\"o\">/</span><span class=\"n\">model</span><span class=\"o\">/</span><span class=\"n\">ModelCreator</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">1677</span>\n<span class=\"cp\">#7  0x00007f3703457b76 in gazebo::gui::ModelCreator::OnExit (this=0x5c5f080)</span>\n    <span class=\"n\">at</span> <span class=\"o\">/</span><span class=\"n\">media</span><span class=\"o\">/</span><span class=\"n\">hugo</span><span class=\"o\">/</span><span class=\"n\">sdb1</span><span class=\"o\">/</span><span class=\"n\">code</span><span class=\"o\">/</span><span class=\"n\">gazebo</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"o\">/</span><span class=\"n\">gazebo</span><span class=\"o\">/</span><span class=\"n\">gui</span><span class=\"o\">/</span><span class=\"n\">model</span><span class=\"o\">/</span><span class=\"n\">ModelCreator</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">865</span>\n<span class=\"cp\">#8  0x00007f3703334c05 in operator() (this=&lt;optimized out&gt;) at /usr/include</span><span class=\"cpf\">/boost/function/function_template.hpp:767</span><span class=\"cp\"></span>\n<span class=\"cp\">#9  gazebo::event::EventT&lt;void ()&gt;::Signal() (this=&lt;optimized out&gt;) at /media/hugo/sdb1/code/gazebo-1/gazebo/common/Event.hh:370</span>\n<span class=\"cp\">#10 0x00007f3702ea687a in QMetaObject::activate(QObject*, QMetaObject const*, int, void**) ()</span>\n   <span class=\"n\">from</span> <span class=\"o\">/</span><span class=\"n\">usr</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"o\">/</span><span class=\"n\">x86_64</span><span class=\"o\">-</span><span class=\"n\">linux</span><span class=\"o\">-</span><span class=\"n\">gnu</span><span class=\"o\">/</span><span class=\"n\">libQtCore</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"mf\">.4</span>\n<span class=\"cp\">#11 0x00007f36fed89a62 in QAction::triggered(bool) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4</span>\n<span class=\"cp\">#12 0x00007f36fed8b433 in QAction::activate(QAction::ActionEvent) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4</span>\n<span class=\"cp\">#13 0x00007f3702eaac1e in QObject::event(QEvent*) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4</span>\n<span class=\"cp\">#14 0x00007f36fed8b4f2 in QAction::event(QEvent*) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4</span>\n<span class=\"cp\">#15 0x00007f36fed8fe2c in QApplicationPrivate::notify_helper(QObject*, QEvent*) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4</span>\n<span class=\"cp\">#16 0x00007f36fed964a0 in QApplication::notify(QObject*, QEvent*) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4</span>\n<span class=\"cp\">#17 0x00007f3702e924dd in QCoreApplication::notifyInternal(QObject*, QEvent*) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4</span>\n<span class=\"cp\">#18 0x00007f3702e95b3d in QCoreApplicationPrivate::sendPostedEvents(QObject*, int, QThreadData*) ()</span>\n   <span class=\"n\">from</span> <span class=\"o\">/</span><span class=\"n\">usr</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"o\">/</span><span class=\"n\">x86_64</span><span class=\"o\">-</span><span class=\"n\">linux</span><span class=\"o\">-</span><span class=\"n\">gnu</span><span class=\"o\">/</span><span class=\"n\">libQtCore</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"mf\">.4</span>\n<span class=\"cp\">#19 0x00007f3702ebff83 in ?? () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4</span>\n<span class=\"cp\">#20 0x00007f36fb7f9e04 in g_main_context_dispatch () from /lib/x86_64-linux-gnu/libglib-2.0.so.0</span>\n<span class=\"cp\">#21 0x00007f36fb7fa048 in ?? () from /lib/x86_64-linux-gnu/libglib-2.0.so.0</span>\n<span class=\"cp\">#22 0x00007f36fb7fa0ec in g_main_context_iteration () from /lib/x86_64-linux-gnu/libglib-2.0.so.0</span>\n<span class=\"cp\">#23 0x00007f3702ebf7a1 in QEventDispatcherGlib::processEvents(QFlags&lt;QEventLoop::ProcessEventsFlag&gt;) ()</span>\n   <span class=\"n\">from</span> <span class=\"o\">/</span><span class=\"n\">usr</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"o\">/</span><span class=\"n\">x86_64</span><span class=\"o\">-</span><span class=\"n\">linux</span><span class=\"o\">-</span><span class=\"n\">gnu</span><span class=\"o\">/</span><span class=\"n\">libQtCore</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"mf\">.4</span>\n<span class=\"cp\">#24 0x00007f36fee31be6 in ?? () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4</span>\n<span class=\"cp\">#25 0x00007f3702e910af in QEventLoop::processEvents(QFlags&lt;QEventLoop::ProcessEventsFlag&gt;) ()</span>\n   <span class=\"n\">from</span> <span class=\"o\">/</span><span class=\"n\">usr</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"o\">/</span><span class=\"n\">x86_64</span><span class=\"o\">-</span><span class=\"n\">linux</span><span class=\"o\">-</span><span class=\"n\">gnu</span><span class=\"o\">/</span><span class=\"n\">libQtCore</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"mf\">.4</span>\n<span class=\"cp\">#26 0x00007f3702e913a5 in QEventLoop::exec(QFlags&lt;QEventLoop::ProcessEventsFlag&gt;) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4</span>\n<span class=\"cp\">#27 0x00007f3702e96b79 in QCoreApplication::exec() () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4</span>\n<span class=\"cp\">#28 0x00007f370333c5ab in gazebo::gui::run (_argc=5, _argv=0x7ffc8192f948) at /media/hugo/sdb1/code/gazebo-1/gazebo/gui/GuiIface.cc:323</span>\n<span class=\"cp\">#29 0x000000000040152a in ?? ()</span>\n<span class=\"cp\">#30 0x00007f3702253ec5 in __libc_start_main (main=0x401510, argc=5, argv=0x7ffc8192f948, init=&lt;optimized out&gt;, fini=&lt;optimized out&gt;, </span>\n    <span class=\"n\">rtld_fini</span><span class=\"o\">=&lt;</span><span class=\"n\">optimized</span> <span class=\"n\">out</span><span class=\"o\">&gt;</span><span class=\"p\">,</span> <span class=\"n\">stack_end</span><span class=\"o\">=</span><span class=\"mh\">0x7ffc8192f938</span><span class=\"p\">)</span> <span class=\"n\">at</span> <span class=\"n\">libc</span><span class=\"o\">-</span><span class=\"n\">start</span><span class=\"p\">.</span><span class=\"nl\">c</span><span class=\"p\">:</span><span class=\"mi\">287</span>\n<span class=\"cp\">#31 0x0000000000401614 in _start ()</span>\n</pre></div>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "all", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/225575.json"}}}, "edited_on": null, "created_on": "2016-05-05T21:51:40.816887+00:00", "milestone": null, "updated_on": "2016-09-14T19:24:58.895470+00:00", "type": "issue", "id": 1951}