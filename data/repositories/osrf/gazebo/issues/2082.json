{"priority": "minor", "kind": "proposal", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2082/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2082.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2082/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2082/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2082/model-class-uses-clock-time-to-wait-for"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2082/vote"}}, "reporter": {"display_name": "Peter Mitrano", "uuid": "{f79f793e-4f31-4c61-9df2-190b239e0bf2}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bf79f793e-4f31-4c61-9df2-190b239e0bf2%7D"}, "html": {"href": "https://bitbucket.org/%7Bf79f793e-4f31-4c61-9df2-190b239e0bf2%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:b5298278-299c-4d16-b5aa-449d6d2db98d/e384924a-68d0-4825-9af2-9892e5f3417c/128"}}, "nickname": "peter_mitrano", "type": "user", "account_id": "557058:b5298278-299c-4d16-b5aa-449d6d2db98d"}, "title": "Model class uses clock time to wait for sensors, not simulation time", "component": {"name": "physics", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122876.json"}}}, "votes": 0, "watches": 3, "content": {"raw": "There's a \"feature\" in the Model class where it waits 5 seconds for sensors to be initialized, but it's using wall clock time. That means models will inconsistently fail to load if simulation slows down (IE, the same model works on your desktop but fails on your laptop. Vey frustrating!). I propose to use gazebo clock time instead to account for slower simulations, since I believe sensors being initialized is a function of that.\r\n\r\nI plan to make the patch for this, but I need someone to point me in the right direction. In this case, how should I access gazebo simulation time within gazebo? Subscribing to time seems like the wrong way. Is there something within gazebo (common::Time?) to do this easily?", "markup": "markdown", "html": "<p>There's a \"feature\" in the Model class where it waits 5 seconds for sensors to be initialized, but it's using wall clock time. That means models will inconsistently fail to load if simulation slows down (IE, the same model works on your desktop but fails on your laptop. Vey frustrating!). I propose to use gazebo clock time instead to account for slower simulations, since I believe sensors being initialized is a function of that.</p>\n<p>I plan to make the patch for this, but I need someone to point me in the right direction. In this case, how should I access gazebo simulation time within gazebo? Subscribing to time seems like the wrong way. Is there something within gazebo (common::Time?) to do this easily?</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "all", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/225575.json"}}}, "edited_on": null, "created_on": "2016-10-28T01:13:13.902900+00:00", "milestone": null, "updated_on": "2017-02-04T20:09:40.266323+00:00", "type": "issue", "id": 2082}