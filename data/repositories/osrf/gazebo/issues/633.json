{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/633/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/633.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/633/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/633/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/633/segmentation-fault-when-running-gazebo-161"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/633/vote"}}, "reporter": {"display_name": "Daniel Vaz", "uuid": "{604e054a-961c-460c-a762-8acd28891ac4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B604e054a-961c-460c-a762-8acd28891ac4%7D"}, "html": {"href": "https://bitbucket.org/%7B604e054a-961c-460c-a762-8acd28891ac4%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/cd9d9e37c2d233526fbd6ee9d91ab666d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsDV-3.png"}}, "nickname": "danielvaz", "type": "user", "account_id": "557058:8df76d8f-9a86-4aee-a331-8c0dd564b36d"}, "title": "Segmentation Fault when running gazebo 1.6.1 compiled from source", "component": null, "votes": 0, "watches": 1, "content": {"raw": "This looks like a downgrade, gazebo-1.4.0 and gazebo-1.5.0 works fine to me (compiled from source).\r\n\r\nIf I open a terminal and run: gzserver I got a segmentation fault.\r\n~~~\r\n~$ gzserver\r\nGazebo multi-robot simulator, version 1.6.1\r\nCopyright (C) 2013 Open Source Robotics Foundation.\r\nReleased under the Apache 2 License.\r\nhttp://gazebosim.org\r\n\r\nMsg Waiting for master\r\nMsg Connected to gazebo master @ http://127.0.0.1:11345\r\nMsg Publicized address: 10.104.0.204\r\nSegmentation fault (core dumped)\r\n~~~\r\n\r\nIf I open a console and navigate to /usr/local/bin and the run gzserver with gdb, it runs  fine:\r\n~~~\r\n/usr/local/bin$ gdb gzserver\r\nGNU gdb (Ubuntu/Linaro 7.4-2012.04-0ubuntu2.1) 7.4-2012.04\r\nCopyright (C) 2012 Free Software Foundation, Inc.\r\nLicense GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>\r\nThis is free software: you are free to change and redistribute it.\r\nThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\r\nand \"show warranty\" for details.\r\nThis GDB was configured as \"x86_64-linux-gnu\".\r\nFor bug reporting instructions, please see:\r\n<http://bugs.launchpad.net/gdb-linaro/>...\r\nReading symbols from /usr/local/bin/gzserver...done.\r\n(gdb) run\r\nStarting program: /usr/local/bin/gzserver \r\n[Thread debugging using libthread_db enabled]\r\nUsing host libthread_db library \"/lib/x86_64-linux-gnu/libthread_db.so.1\".\r\n[New Thread 0x7fffe4a78700 (LWP 1018)]\r\nGazebo multi-robot simulator, version 1.6.1\r\nCopyright (C) 2013 Open Source Robotics Foundation.\r\nReleased under the Apache 2 License.\r\nhttp://gazebosim.org\r\n\r\n[New Thread 0x7fffdffff700 (LWP 1019)]\r\n[New Thread 0x7fffdf7fe700 (LWP 1020)]\r\nMsg Waiting for master\r\nMsg Connected to gazebo master @ http://127.0.0.1:11345\r\nMsg Publicized address: 10.104.0.204\r\n[New Thread 0x7fffd6069700 (LWP 1021)]\r\n[New Thread 0x7fffd5868700 (LWP 1022)]\r\n[New Thread 0x7fffd5067700 (LWP 1023)]\r\n[New Thread 0x7fffd4866700 (LWP 1024)]\r\n[New Thread 0x7fffc3dff700 (LWP 1025)]\r\n[New Thread 0x7fffc31dc700 (LWP 1026)]\r\n[New Thread 0x7fffc2ddb700 (LWP 1027)]\r\n[New Thread 0x7fffc29da700 (LWP 1028)]\r\n[New Thread 0x7fffc24d9700 (LWP 1029)]\r\n[New Thread 0x7fffc1cd8700 (LWP 1030)]\r\n[New Thread 0x7fffc14d7700 (LWP 1031)]\r\n~~~\r\nIf I navigate to /usr/local/bin and run gzserver and gzclient (both in gdb) the gazebo works fine.\r\n\r\nIf I navigate to /usr/local/bin and run gazebo with gdb, it fails:\r\n~~~\r\n/usr/local/bin$ gdb gazebo\r\nGNU gdb (Ubuntu/Linaro 7.4-2012.04-0ubuntu2.1) 7.4-2012.04\r\nCopyright (C) 2012 Free Software Foundation, Inc.\r\nLicense GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>\r\nThis is free software: you are free to change and redistribute it.\r\nThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\r\nand \"show warranty\" for details.\r\nThis GDB was configured as \"x86_64-linux-gnu\".\r\nFor bug reporting instructions, please see:\r\n<http://bugs.launchpad.net/gdb-linaro/>...\r\nReading symbols from /usr/local/bin/gazebo...done.\r\n(gdb) run\r\nStarting program: /usr/local/bin/gazebo \r\n[Thread debugging using libthread_db enabled]\r\nUsing host libthread_db library \"/lib/x86_64-linux-gnu/libthread_db.so.1\".\r\n[New Thread 0x7fffe4a78700 (LWP 1057)]\r\nGazebo multi-robot simulator, version 1.6.1\r\nCopyright (C) 2013 Open Source Robotics Foundation.\r\nReleased under the Apache 2 License.\r\nhttp://gazebosim.org\r\n\r\nMsg Waiting for masterGazebo multi-robot simulator, version 1.6.1\r\nCopyright (C) 2013 Open Source Robotics Foundation.\r\nReleased under the Apache 2 License.\r\nhttp://gazebosim.org\r\n\r\n.Msg Waiting for master\r\nMsg Connected to gazebo master @ http://127.0.0.1:11345\r\nMsg Publicized address: 10.104.0.204\r\n\r\nError [ConnectionManager.cc:100] Connection Manager is not running\r\n[Thread 0x7fffe4a78700 (LWP 1057) exited]\r\n[Inferior 1 (process 1053) exited normally]\r\n(gdb)\r\n~~~", "markup": "markdown", "html": "<p>This looks like a downgrade, gazebo-1.4.0 and gazebo-1.5.0 works fine to me (compiled from source).</p>\n<p>If I open a terminal and run: gzserver I got a segmentation fault.</p>\n<div class=\"codehilite\"><pre><span></span>~$ gzserver\nGazebo multi-robot simulator, version 1.6.1\nCopyright (C) 2013 Open Source Robotics Foundation.\nReleased under the Apache 2 License.\nhttp://gazebosim.org\n\nMsg Waiting for master\nMsg Connected to gazebo master @ http://127.0.0.1:11345\nMsg Publicized address: 10.104.0.204\nSegmentation fault (core dumped)\n</pre></div>\n\n\n<p>If I open a console and navigate to /usr/local/bin and the run gzserver with gdb, it runs  fine:</p>\n<div class=\"codehilite\"><pre><span></span>/usr/local/bin$ gdb gzserver\nGNU gdb (Ubuntu/Linaro 7.4-2012.04-0ubuntu2.1) 7.4-2012.04\nCopyright (C) 2012 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.  Type &quot;show copying&quot;\nand &quot;show warranty&quot; for details.\nThis GDB was configured as &quot;x86_64-linux-gnu&quot;.\nFor bug reporting instructions, please see:\n&lt;http://bugs.launchpad.net/gdb-linaro/&gt;...\nReading symbols from /usr/local/bin/gzserver...done.\n(gdb) run\nStarting program: /usr/local/bin/gzserver \n[Thread debugging using libthread_db enabled]\nUsing host libthread_db library &quot;/lib/x86_64-linux-gnu/libthread_db.so.1&quot;.\n[New Thread 0x7fffe4a78700 (LWP 1018)]\nGazebo multi-robot simulator, version 1.6.1\nCopyright (C) 2013 Open Source Robotics Foundation.\nReleased under the Apache 2 License.\nhttp://gazebosim.org\n\n[New Thread 0x7fffdffff700 (LWP 1019)]\n[New Thread 0x7fffdf7fe700 (LWP 1020)]\nMsg Waiting for master\nMsg Connected to gazebo master @ http://127.0.0.1:11345\nMsg Publicized address: 10.104.0.204\n[New Thread 0x7fffd6069700 (LWP 1021)]\n[New Thread 0x7fffd5868700 (LWP 1022)]\n[New Thread 0x7fffd5067700 (LWP 1023)]\n[New Thread 0x7fffd4866700 (LWP 1024)]\n[New Thread 0x7fffc3dff700 (LWP 1025)]\n[New Thread 0x7fffc31dc700 (LWP 1026)]\n[New Thread 0x7fffc2ddb700 (LWP 1027)]\n[New Thread 0x7fffc29da700 (LWP 1028)]\n[New Thread 0x7fffc24d9700 (LWP 1029)]\n[New Thread 0x7fffc1cd8700 (LWP 1030)]\n[New Thread 0x7fffc14d7700 (LWP 1031)]\n</pre></div>\n\n\n<p>If I navigate to /usr/local/bin and run gzserver and gzclient (both in gdb) the gazebo works fine.</p>\n<p>If I navigate to /usr/local/bin and run gazebo with gdb, it fails:</p>\n<div class=\"codehilite\"><pre><span></span>/usr/local/bin$ gdb gazebo\nGNU gdb (Ubuntu/Linaro 7.4-2012.04-0ubuntu2.1) 7.4-2012.04\nCopyright (C) 2012 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.  Type &quot;show copying&quot;\nand &quot;show warranty&quot; for details.\nThis GDB was configured as &quot;x86_64-linux-gnu&quot;.\nFor bug reporting instructions, please see:\n&lt;http://bugs.launchpad.net/gdb-linaro/&gt;...\nReading symbols from /usr/local/bin/gazebo...done.\n(gdb) run\nStarting program: /usr/local/bin/gazebo \n[Thread debugging using libthread_db enabled]\nUsing host libthread_db library &quot;/lib/x86_64-linux-gnu/libthread_db.so.1&quot;.\n[New Thread 0x7fffe4a78700 (LWP 1057)]\nGazebo multi-robot simulator, version 1.6.1\nCopyright (C) 2013 Open Source Robotics Foundation.\nReleased under the Apache 2 License.\nhttp://gazebosim.org\n\nMsg Waiting for masterGazebo multi-robot simulator, version 1.6.1\nCopyright (C) 2013 Open Source Robotics Foundation.\nReleased under the Apache 2 License.\nhttp://gazebosim.org\n\n.Msg Waiting for master\nMsg Connected to gazebo master @ http://127.0.0.1:11345\nMsg Publicized address: 10.104.0.204\n\nError [ConnectionManager.cc:100] Connection Manager is not running\n[Thread 0x7fffe4a78700 (LWP 1057) exited]\n[Inferior 1 (process 1053) exited normally]\n(gdb)\n</pre></div>", "type": "rendered"}, "assignee": null, "state": "closed", "version": {"name": "all", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/225575.json"}}}, "edited_on": null, "created_on": "2013-04-09T14:23:28.636396+00:00", "milestone": null, "updated_on": "2016-09-14T19:43:36.781815+00:00", "type": "issue", "id": 633}