{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/340/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/340.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/340/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/340/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/340/header-parsing-fails-when-used-inside-the"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/340/vote"}}, "reporter": {"display_name": "Bastian Klingen", "uuid": "{07a45626-8989-41d7-a6a0-8765eb59a604}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B07a45626-8989-41d7-a6a0-8765eb59a604%7D"}, "html": {"href": "https://bitbucket.org/%7B07a45626-8989-41d7-a6a0-8765eb59a604%7D/"}, "avatar": {"href": "https://bitbucket.org/account/bklingen/avatar/"}}, "nickname": "bklingen", "type": "user", "account_id": null}, "title": "Header parsing fails when used inside the Fawkes Robot Software Framework", "component": null, "votes": 0, "watches": 2, "content": {"raw": "During my diploma-thesis I used Gazebo with the Fawkes Robot Software Framework and encountered the problem that the message headers were parsed incorrectly and thus no connection could be established.\r\n\r\nI fixed this problem for my work by adjusting the ParseHeader function of the Connection class so that the header get limited to the defined HEADER_LENGTH by changing the argument of the istringstream to a limited substring.\r\n\r\nOld:\r\n\r\n```\r\n#!c++\r\n\r\nstd::istringstream is(header);\r\n```\r\n\r\nNew:\r\n\r\n```\r\n#!c++\r\n\r\nstd::istringstream is(header.substr(0,HEADER_LENGTH));\r\n```\r\n\r\nI had no problems using Gazebo otherwise, the error only occured when using it with Fawkes.", "markup": "markdown", "html": "<p>During my diploma-thesis I used Gazebo with the Fawkes Robot Software Framework and encountered the problem that the message headers were parsed incorrectly and thus no connection could be established.</p>\n<p>I fixed this problem for my work by adjusting the ParseHeader function of the Connection class so that the header get limited to the defined HEADER_LENGTH by changing the argument of the istringstream to a limited substring.</p>\n<p>Old:</p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">istringstream</span> <span class=\"n\">is</span><span class=\"p\">(</span><span class=\"n\">header</span><span class=\"p\">);</span>\n</pre></div>\n\n\n<p>New:</p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">istringstream</span> <span class=\"n\">is</span><span class=\"p\">(</span><span class=\"n\">header</span><span class=\"p\">.</span><span class=\"n\">substr</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"n\">HEADER_LENGTH</span><span class=\"p\">));</span>\n</pre></div>\n\n\n<p>I had no problems using Gazebo otherwise, the error only occured when using it with Fawkes.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "all", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/225575.json"}}}, "edited_on": null, "created_on": "2013-01-05T10:18:25.185903+00:00", "milestone": null, "updated_on": "2016-09-14T19:40:19.074283+00:00", "type": "issue", "id": 340}