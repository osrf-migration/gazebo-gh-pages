{"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1626/comments/28263750.json"}, "html": {"href": "#!/osrf/gazebo/issues/1626#comment-28263750"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1626.json"}}, "type": "issue", "id": 1626, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "UNIT_Timer_TEST fails on OS X"}, "content": {"raw": "In all my overnight testing, I've just observed the first failure of this test on my Ubuntu desktop:\n\n~~~\n$ grep '^91' gazebo_test-2016_06_02_19\\:00\\:01-verbose.txt \n91: Test command: gazebo/common/UNIT_Timer_TEST \"--gtest_output=xml:test_results/UNIT_Timer_TEST.xml\"\n91: Test timeout computed to be: 240\n91: Running main() from gtest_main.cc\n91: [==========] Running 2 tests from 1 test case.\n91: [----------] Global test environment set-up.\n91: [----------] 2 tests from TimerTest\n91: [ RUN      ] TimerTest.Timer\n91: gazebo/common/Timer_TEST.cc:43: Failure\n91: Expected: (elapsed.nsec) <= (200200000), actual: 200226765 vs 200200000\n91: gazebo/common/Timer_TEST.cc:50: Failure\n91: Expected: (elapsed.nsec) >= (timer.GetElapsed().nsec - 100000), actual: 200226765 vs 200394554\n91: [  FAILED  ] TimerTest.Timer (401 ms)\n91: [ RUN      ] TimerTest.CountdownTimer\n91: [       OK ] TimerTest.CountdownTimer (401 ms)\n91: [----------] 2 tests from TimerTest (802 ms total)\n91: \n91: [----------] Global test environment tear-down\n91: [==========] 2 tests from 1 test case ran. (802 ms total)\n91: [  PASSED  ] 1 test.\n91: [  FAILED  ] 1 test, listed below:\n91: [  FAILED  ] TimerTest.Timer\n91: \n91:  1 FAILED TEST\n91: \n91: \n~~~", "markup": "markdown", "html": "<p>In all my overnight testing, I've just observed the first failure of this test on my Ubuntu desktop:</p>\n<div class=\"codehilite\"><pre><span></span>$ grep <span class=\"s1\">&#39;^91&#39;</span> gazebo_test-2016_06_02_19<span class=\"se\">\\:</span><span class=\"m\">00</span><span class=\"se\">\\:</span><span class=\"m\">01</span>-verbose.txt \n<span class=\"m\">91</span>: Test command: gazebo/common/UNIT_Timer_TEST <span class=\"s2\">&quot;--gtest_output=xml:test_results/UNIT_Timer_TEST.xml&quot;</span>\n<span class=\"m\">91</span>: Test timeout computed to be: <span class=\"m\">240</span>\n<span class=\"m\">91</span>: Running main<span class=\"o\">()</span> from gtest_main.cc\n<span class=\"m\">91</span>: <span class=\"o\">[==========]</span> Running <span class=\"m\">2</span> tests from <span class=\"m\">1</span> <span class=\"nb\">test</span> <span class=\"k\">case</span>.\n<span class=\"m\">91</span>: <span class=\"o\">[</span>----------<span class=\"o\">]</span> Global <span class=\"nb\">test</span> environment set-up.\n<span class=\"m\">91</span>: <span class=\"o\">[</span>----------<span class=\"o\">]</span> <span class=\"m\">2</span> tests from TimerTest\n<span class=\"m\">91</span>: <span class=\"o\">[</span> RUN      <span class=\"o\">]</span> TimerTest.Timer\n<span class=\"m\">91</span>: gazebo/common/Timer_TEST.cc:43: Failure\n<span class=\"m\">91</span>: Expected: <span class=\"o\">(</span>elapsed.nsec<span class=\"o\">)</span> &lt;<span class=\"o\">=</span> <span class=\"o\">(</span><span class=\"m\">200200000</span><span class=\"o\">)</span>, actual: <span class=\"m\">200226765</span> vs <span class=\"m\">200200000</span>\n<span class=\"m\">91</span>: gazebo/common/Timer_TEST.cc:50: Failure\n<span class=\"m\">91</span>: Expected: <span class=\"o\">(</span>elapsed.nsec<span class=\"o\">)</span> &gt;<span class=\"o\">=</span> <span class=\"o\">(</span>timer.GetElapsed<span class=\"o\">()</span>.nsec - <span class=\"m\">100000</span><span class=\"o\">)</span>, actual: <span class=\"m\">200226765</span> vs <span class=\"m\">200394554</span>\n<span class=\"m\">91</span>: <span class=\"o\">[</span>  FAILED  <span class=\"o\">]</span> TimerTest.Timer <span class=\"o\">(</span><span class=\"m\">401</span> ms<span class=\"o\">)</span>\n<span class=\"m\">91</span>: <span class=\"o\">[</span> RUN      <span class=\"o\">]</span> TimerTest.CountdownTimer\n<span class=\"m\">91</span>: <span class=\"o\">[</span>       OK <span class=\"o\">]</span> TimerTest.CountdownTimer <span class=\"o\">(</span><span class=\"m\">401</span> ms<span class=\"o\">)</span>\n<span class=\"m\">91</span>: <span class=\"o\">[</span>----------<span class=\"o\">]</span> <span class=\"m\">2</span> tests from TimerTest <span class=\"o\">(</span><span class=\"m\">802</span> ms total<span class=\"o\">)</span>\n<span class=\"m\">91</span>: \n<span class=\"m\">91</span>: <span class=\"o\">[</span>----------<span class=\"o\">]</span> Global <span class=\"nb\">test</span> environment tear-down\n<span class=\"m\">91</span>: <span class=\"o\">[==========]</span> <span class=\"m\">2</span> tests from <span class=\"m\">1</span> <span class=\"nb\">test</span> <span class=\"k\">case</span> ran. <span class=\"o\">(</span><span class=\"m\">802</span> ms total<span class=\"o\">)</span>\n<span class=\"m\">91</span>: <span class=\"o\">[</span>  PASSED  <span class=\"o\">]</span> <span class=\"m\">1</span> test.\n<span class=\"m\">91</span>: <span class=\"o\">[</span>  FAILED  <span class=\"o\">]</span> <span class=\"m\">1</span> test, listed below:\n<span class=\"m\">91</span>: <span class=\"o\">[</span>  FAILED  <span class=\"o\">]</span> TimerTest.Timer\n<span class=\"m\">91</span>: \n<span class=\"m\">91</span>:  <span class=\"m\">1</span> FAILED TEST\n<span class=\"m\">91</span>: \n<span class=\"m\">91</span>: \n</pre></div>", "type": "rendered"}, "created_on": "2016-06-03T18:06:37.940438+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 28263750}