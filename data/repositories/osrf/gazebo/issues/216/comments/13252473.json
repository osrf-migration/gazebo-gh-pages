{"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/216/comments/13252473.json"}, "html": {"href": "#!/osrf/gazebo/issues/216#comment-13252473"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/216.json"}}, "type": "issue", "id": 216, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Pose addition and subtraction needs work"}, "content": {"raw": "I wasn't aware that this issue existed and posted an issue (possible duplicate) complaining that the documentation is unhelpful (probably because the doxygen line breaks don't show up).\n\nI think using operator+ is misleading because the plus symbol is often used for commutative operations, and the operation this function represents is *not* commutative. operator* may be more helpful because transformation matrices in homogeneous coordinate systems are combined via multiplication, and although multiplication is commutative for scalars, it is not commutative for matrices (and matrix addition is commutative).\n\nFor now, at least, we should make the documentation less confusing. We should also consider adding a function that has a semantically clearer name, e.g.\n\n\n```\n#!c++\n\nmath::ApplyTransform(Pose A, Pose B) = (A.pos+B.pos, A.pos*B.pos) //Apply transform A to pose B\n```\n\nthen referencing this function in the documentation for operator+ (or whatever operator we choose).\n\nConsider also that although they are mathematically equivalent, referring to a Pose as a Transform may be semantically confusing.", "markup": "markdown", "html": "<p>I wasn't aware that this issue existed and posted an issue (possible duplicate) complaining that the documentation is unhelpful (probably because the doxygen line breaks don't show up).</p>\n<p>I think using operator+ is misleading because the plus symbol is often used for commutative operations, and the operation this function represents is <em>not</em> commutative. operator* may be more helpful because transformation matrices in homogeneous coordinate systems are combined via multiplication, and although multiplication is commutative for scalars, it is not commutative for matrices (and matrix addition is commutative).</p>\n<p>For now, at least, we should make the documentation less confusing. We should also consider adding a function that has a semantically clearer name, e.g.</p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"n\">math</span><span class=\"o\">::</span><span class=\"n\">ApplyTransform</span><span class=\"p\">(</span><span class=\"n\">Pose</span> <span class=\"n\">A</span><span class=\"p\">,</span> <span class=\"n\">Pose</span> <span class=\"n\">B</span><span class=\"p\">)</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">A</span><span class=\"p\">.</span><span class=\"n\">pos</span><span class=\"o\">+</span><span class=\"n\">B</span><span class=\"p\">.</span><span class=\"n\">pos</span><span class=\"p\">,</span> <span class=\"n\">A</span><span class=\"p\">.</span><span class=\"n\">pos</span><span class=\"o\">*</span><span class=\"n\">B</span><span class=\"p\">.</span><span class=\"n\">pos</span><span class=\"p\">)</span> <span class=\"c1\">//Apply transform A to pose B</span>\n</pre></div>\n\n\n<p>then referencing this function in the documentation for operator+ (or whatever operator we choose).</p>\n<p>Consider also that although they are mathematically equivalent, referring to a Pose as a Transform may be semantically confusing.</p>", "type": "rendered"}, "created_on": "2014-10-28T00:57:04.232136+00:00", "user": {"display_name": "Jackie K", "uuid": "{e3d60b62-b7c7-4863-b9b9-cdae9f123cec}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3d60b62-b7c7-4863-b9b9-cdae9f123cec%7D"}, "html": {"href": "https://bitbucket.org/%7Be3d60b62-b7c7-4863-b9b9-cdae9f123cec%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/ea011fa2919d4bd4568b32b440eda779d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJK-0.png"}}, "nickname": "jacquelinekay", "type": "user", "account_id": "557058:f56c822f-f75c-4665-80f9-6e7764893b9c"}, "updated_on": "2014-10-28T00:58:46.183480+00:00", "type": "issue_comment", "id": 13252473}