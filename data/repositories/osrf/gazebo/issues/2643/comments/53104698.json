{"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2643/comments/53104698.json"}, "html": {"href": "#!/osrf/gazebo/issues/2643#comment-53104698"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2643.json"}}, "type": "issue", "id": 2643, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "gazebo laserscaner"}, "content": {"raw": "If I want to go in detail it is so, that I built a car \\( a chassis an four tiers\\) and as a sensor I built my own lidar sensor with respect to its specifications and following gazebo tutorials. When I run my world by writtin \u201cgz topic -l\u201d I can see my laser scan in gazebo\u2019s topics under \u201c /gazebo/default/my\\_car/rplidar/top/sensor/scan\u201d, and I can see the data scanning of my sensor if I write \u201c gz topic -e /gazebo/default/my\\_car/rplidar/top/sensor/scan\u201d. but when I try to subscribe these data with a listener after compilling I became this error with false data.\n\nHere is my listener code:\n\n`#include <gazebo/transport/transport.hh>`\n\n`#include <gazebo/msgs/msgs.hh>`\n\n`#include <gazebo/gazebo_client.hh>`\n\n`#include <iostream>`\n\n`// Function is called everytime a message is received.`\n\n`void cb(ConstLaserScanPtr &_msg){`\n\n`// Dump the message contents to stdout.`\n\n`std::cout << _msg->DebugString();`\n\n`}`\n\n`int main(int _argc, char **_argv){`\n\n  `// Load gazebo gazebo::client::setup(_argc, _argv); `\n\n` // Create the node for communication `\n\n` gazebo::transport::NodePtr node(new gazebo::transport::Node());`\n\n` node->Init(); `\n\n`// Listen to Gazebo my_car/rplidar/top/sensor/scan topic `\n\n`gazebo::transport::SubscriberPtr sub = node->Subscribe(\"~/my_car/rplidar/top/sensor/scan\", cb);`\n\n`// Busy wait loop while (true) gazebo::common::Time::MSleep(10);`\n\n` // Shut everything down `\n\n`gazebo::client::shutdown();`\n\n`}`", "markup": "markdown", "html": "<p>If I want to go in detail it is so, that I built a car ( a chassis an four tiers) and as a sensor I built my own lidar sensor with respect to its specifications and following gazebo tutorials. When I run my world by writtin \u201cgz topic -l\u201d I can see my laser scan in gazebo\u2019s topics under \u201c /gazebo/default/my_car/rplidar/top/sensor/scan\u201d, and I can see the data scanning of my sensor if I write \u201c gz topic -e /gazebo/default/my_car/rplidar/top/sensor/scan\u201d. but when I try to subscribe these data with a listener after compilling I became this error with false data.</p>\n<p>Here is my listener code:</p>\n<p><code>#include &lt;gazebo/transport/transport.hh&gt;</code></p>\n<p><code>#include &lt;gazebo/msgs/msgs.hh&gt;</code></p>\n<p><code>#include &lt;gazebo/gazebo_client.hh&gt;</code></p>\n<p><code>#include &lt;iostream&gt;</code></p>\n<p><code>// Function is called everytime a message is received.</code></p>\n<p><code>void cb(ConstLaserScanPtr &amp;_msg){</code></p>\n<p><code>// Dump the message contents to stdout.</code></p>\n<p><code>std::cout &lt;&lt; _msg-&gt;DebugString();</code></p>\n<p><code>}</code></p>\n<p><code>int main(int _argc, char **_argv){</code></p>\n<p><code>// Load gazebo gazebo::client::setup(_argc, _argv);</code></p>\n<p><code>// Create the node for communication</code></p>\n<p><code>gazebo::transport::NodePtr node(new gazebo::transport::Node());</code></p>\n<p><code>node-&gt;Init();</code></p>\n<p><code>// Listen to Gazebo my_car/rplidar/top/sensor/scan topic</code></p>\n<p><code>gazebo::transport::SubscriberPtr sub = node-&gt;Subscribe(\"~/my_car/rplidar/top/sensor/scan\", cb);</code></p>\n<p><code>// Busy wait loop while (true) gazebo::common::Time::MSleep(10);</code></p>\n<p><code>// Shut everything down</code></p>\n<p><code>gazebo::client::shutdown();</code></p>\n<p><code>}</code></p>", "type": "rendered"}, "created_on": "2019-07-23T08:06:17.754995+00:00", "user": {"display_name": "Azar M", "uuid": "{a69a1f6e-e6bb-41b6-8eaf-e4216927413d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Ba69a1f6e-e6bb-41b6-8eaf-e4216927413d%7D"}, "html": {"href": "https://bitbucket.org/%7Ba69a1f6e-e6bb-41b6-8eaf-e4216927413d%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/7e9e68e9ed38c0e1f42a0e325e2fdd77d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsAM-4.png"}}, "nickname": "Azar M", "type": "user", "account_id": "5d00f830bfea840c5dd1a0b6"}, "updated_on": "2019-07-23T08:07:46.884724+00:00", "type": "issue_comment", "id": 53104698}