{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2300/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2300.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2300/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2300/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2300/strange-physics-behavior-while-grasping"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2300/vote"}}, "reporter": {"display_name": "Hamza Merzi\u0107", "uuid": "{2100f54d-6bc6-4db0-ada5-db7be9320606}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2100f54d-6bc6-4db0-ada5-db7be9320606%7D"}, "html": {"href": "https://bitbucket.org/%7B2100f54d-6bc6-4db0-ada5-db7be9320606%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:172a2e1e-2bf2-4054-9b9b-9d541ddc8e4e/ab842f18-c8ca-4a0c-a82a-6d4d39ffdb37/128"}}, "nickname": "hamzaethz", "type": "user", "account_id": "557058:172a2e1e-2bf2-4054-9b9b-9d541ddc8e4e"}, "title": "Strange physics behavior while grasping", "component": {"name": "physics", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122876.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "I have a grasping simulation set up where I torque control the Barrett hand and try to grasp a simple object such as the cylinder (as shown in the video). These are the physics parameters that I am using (I am using Gazebo 7 with ROS):\r\n\r\n```\r\n#!xml\r\n\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<sdf version=\"1.5\">\r\n  <world name=\"default\">\r\n    <physics type=\"ode\">\r\n      <gravity>0 0 0</gravity>\r\n      <ode>\r\n        <solver>\r\n          <thread_position_correction>1</thread_position_correction>\r\n          <island_threads>6</island_threads>\r\n          <type>quick</type>\r\n          <iters>100</iters>\r\n          <sor>1.0</sor>\r\n        </solver>\r\n        <constraints>\r\n          <cfm>0.0</cfm>\r\n          <erp>0.5</erp>\r\n          <contact_max_correcting_vel>1000.0</contact_max_correcting_vel>\r\n          <contact_surface_layer>0.00</contact_surface_layer>\r\n        </constraints>\r\n      </ode>\r\n      <max_step_size>0.0004</max_step_size>\r\n      <real_time_update_rate>0.0</real_time_update_rate>\r\n    </physics>\r\n    <!-- A global light source -->\r\n    <include>\r\n      <uri>model://sun</uri>\r\n    </include>\r\n    <include>\r\n      <uri>model://beer</uri>\r\n      <pose>0.0 0.0 0.0 0 0 0</pose>\r\n      <static>false</static>\r\n    </include>\r\n  </world>\r\n</sdf>\r\n\r\n```\r\nAs you can see, the gravity is disabled and only the contact forces are acting on the object. Nevertheless, the object moves in a opposite direction. The model of the hand has all inertia parameters filled out (which I double checked in [MeshLab](http://gazebosim.org/tutorials?tut=inertia)). I have tried playing around with kp and kd parameters for each link, as well as changing mu and mu2 parameters and simulator step size, and in each case the results were the same.\r\n\r\nIt seems like a bug, so I decided to post it here. I guess more information will be necessary, so please let me know if there is anything that I could provide to help identify the issue.", "markup": "markdown", "html": "<p>I have a grasping simulation set up where I torque control the Barrett hand and try to grasp a simple object such as the cylinder (as shown in the video). These are the physics parameters that I am using (I am using Gazebo 7 with ROS):</p>\n<div class=\"codehilite language-xml\"><pre><span></span><span class=\"cp\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>\n<span class=\"nt\">&lt;sdf</span> <span class=\"na\">version=</span><span class=\"s\">&quot;1.5&quot;</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;world</span> <span class=\"na\">name=</span><span class=\"s\">&quot;default&quot;</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;physics</span> <span class=\"na\">type=</span><span class=\"s\">&quot;ode&quot;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;gravity&gt;</span>0 0 0<span class=\"nt\">&lt;/gravity&gt;</span>\n      <span class=\"nt\">&lt;ode&gt;</span>\n        <span class=\"nt\">&lt;solver&gt;</span>\n          <span class=\"nt\">&lt;thread_position_correction&gt;</span>1<span class=\"nt\">&lt;/thread_position_correction&gt;</span>\n          <span class=\"nt\">&lt;island_threads&gt;</span>6<span class=\"nt\">&lt;/island_threads&gt;</span>\n          <span class=\"nt\">&lt;type&gt;</span>quick<span class=\"nt\">&lt;/type&gt;</span>\n          <span class=\"nt\">&lt;iters&gt;</span>100<span class=\"nt\">&lt;/iters&gt;</span>\n          <span class=\"nt\">&lt;sor&gt;</span>1.0<span class=\"nt\">&lt;/sor&gt;</span>\n        <span class=\"nt\">&lt;/solver&gt;</span>\n        <span class=\"nt\">&lt;constraints&gt;</span>\n          <span class=\"nt\">&lt;cfm&gt;</span>0.0<span class=\"nt\">&lt;/cfm&gt;</span>\n          <span class=\"nt\">&lt;erp&gt;</span>0.5<span class=\"nt\">&lt;/erp&gt;</span>\n          <span class=\"nt\">&lt;contact_max_correcting_vel&gt;</span>1000.0<span class=\"nt\">&lt;/contact_max_correcting_vel&gt;</span>\n          <span class=\"nt\">&lt;contact_surface_layer&gt;</span>0.00<span class=\"nt\">&lt;/contact_surface_layer&gt;</span>\n        <span class=\"nt\">&lt;/constraints&gt;</span>\n      <span class=\"nt\">&lt;/ode&gt;</span>\n      <span class=\"nt\">&lt;max_step_size&gt;</span>0.0004<span class=\"nt\">&lt;/max_step_size&gt;</span>\n      <span class=\"nt\">&lt;real_time_update_rate&gt;</span>0.0<span class=\"nt\">&lt;/real_time_update_rate&gt;</span>\n    <span class=\"nt\">&lt;/physics&gt;</span>\n    <span class=\"c\">&lt;!-- A global light source --&gt;</span>\n    <span class=\"nt\">&lt;include&gt;</span>\n      <span class=\"nt\">&lt;uri&gt;</span>model://sun<span class=\"nt\">&lt;/uri&gt;</span>\n    <span class=\"nt\">&lt;/include&gt;</span>\n    <span class=\"nt\">&lt;include&gt;</span>\n      <span class=\"nt\">&lt;uri&gt;</span>model://beer<span class=\"nt\">&lt;/uri&gt;</span>\n      <span class=\"nt\">&lt;pose&gt;</span>0.0 0.0 0.0 0 0 0<span class=\"nt\">&lt;/pose&gt;</span>\n      <span class=\"nt\">&lt;static&gt;</span>false<span class=\"nt\">&lt;/static&gt;</span>\n    <span class=\"nt\">&lt;/include&gt;</span>\n  <span class=\"nt\">&lt;/world&gt;</span>\n<span class=\"nt\">&lt;/sdf&gt;</span>\n</pre></div>\n\n\n<p>As you can see, the gravity is disabled and only the contact forces are acting on the object. Nevertheless, the object moves in a opposite direction. The model of the hand has all inertia parameters filled out (which I double checked in <a data-is-external-link=\"true\" href=\"http://gazebosim.org/tutorials?tut=inertia\" rel=\"nofollow\">MeshLab</a>). I have tried playing around with kp and kd parameters for each link, as well as changing mu and mu2 parameters and simulator step size, and in each case the results were the same.</p>\n<p>It seems like a bug, so I decided to post it here. I guess more information will be necessary, so please let me know if there is anything that I could provide to help identify the issue.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "7.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242744.json"}}}, "edited_on": null, "created_on": "2017-06-15T15:36:52.616652+00:00", "milestone": null, "updated_on": "2017-06-15T20:18:06.505185+00:00", "type": "issue", "id": 2300}