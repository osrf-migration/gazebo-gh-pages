{"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2369/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2369.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2369/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2369/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2369/collada-fails-to-find-texture-with-space"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2369/vote"}}, "reporter": {"display_name": "Shane Loretz", "uuid": "{656e3311-aad9-45a1-aaf7-b0ee0e84b287}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D"}, "html": {"href": "https://bitbucket.org/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:684383ab-ac95-4859-a350-4a6f41a94a22/c7a1ebf5-cade-4115-9f26-9d3facb776db/128"}}, "nickname": "Shane Loretz", "type": "user", "account_id": "557058:684383ab-ac95-4859-a350-4a6f41a94a22"}, "title": "Collada fails to find texture with space in file name", "component": null, "votes": 0, "watches": 1, "content": {"raw": "In gazebo 7 on ubuntu xenial a model with a collada mesh will not show a texture if it has a space in the filename. (Model attached)\r\n\r\nThe following lines appear running gazebo verbose.\r\n```\r\n[Err] [Material.cc:100] Unable to find texture[Material%20Ambient.png] in path[/other/dir/textured_mesh/meshes]\r\n[Err] [SystemPaths.cc:410] File or path does not exist[\"/other/dir/textured_mesh/meshes/../materials/textures/Material%20Ambient.png\"]\r\n[Err] [RenderEngine.cc:483] URI doesn't exist[/other/dir/textured_mesh/meshes/../materials/textures/Material%20Ambient.png]\r\n[Err] [Material.cc:100] Unable to find texture[Material%20Ambient.png] in path[/other/dir/textured_mesh/meshes]\r\n```\r\n\r\nIt looks like the loader did not convert the `%20` to a space. If I change it to an underscore the texture is correctly applied. The filename of a texture in a collada file is specified using the tag [<init_from>](https://www.khronos.org/files/collada_spec_1_4.pdf) which has the type [xs:anyURI](http://www.datypic.com/sc/xsd/t-xsd_anyURI.html) which requires characters like spaces escaped with a `%`. The code responsible for fetching a material will need to un-escape the filename before searching for it.", "markup": "markdown", "html": "<p>In gazebo 7 on ubuntu xenial a model with a collada mesh will not show a texture if it has a space in the filename. (Model attached)</p>\n<p>The following lines appear running gazebo verbose.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">[Err] [Material.cc:100] Unable to find texture[Material%20Ambient.png] in path[/other/dir/textured_mesh/meshes]</span>\n<span class=\"k\">[Err] [SystemPaths.cc:410] File or path does not exist[&quot;/other/dir/textured_mesh/meshes/../materials/textures/Material%20Ambient.png&quot;]</span>\n<span class=\"k\">[Err] [RenderEngine.cc:483] URI doesn&#39;t exist[/other/dir/textured_mesh/meshes/../materials/textures/Material%20Ambient.png]</span>\n<span class=\"k\">[Err] [Material.cc:100] Unable to find texture[Material%20Ambient.png] in path[/other/dir/textured_mesh/meshes]</span>\n</pre></div>\n\n\n<p>It looks like the loader did not convert the <code>%20</code> to a space. If I change it to an underscore the texture is correctly applied. The filename of a texture in a collada file is specified using the tag <a data-is-external-link=\"true\" href=\"https://www.khronos.org/files/collada_spec_1_4.pdf\" rel=\"nofollow\">&lt;init_from&gt;</a> which has the type <a data-is-external-link=\"true\" href=\"http://www.datypic.com/sc/xsd/t-xsd_anyURI.html\" rel=\"nofollow\">xs:anyURI</a> which requires characters like spaces escaped with a <code>%</code>. The code responsible for fetching a material will need to un-escape the filename before searching for it.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "7.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242744.json"}}}, "edited_on": null, "created_on": "2017-10-27T19:06:05.619561+00:00", "milestone": null, "updated_on": "2017-10-27T19:06:05.619561+00:00", "type": "issue", "id": 2369}