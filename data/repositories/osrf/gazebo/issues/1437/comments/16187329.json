{"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1437/comments/16187329.json"}, "html": {"href": "#!/osrf/gazebo/issues/1437#comment-16187329"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1437.json"}}, "type": "issue", "id": 1437, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "world step fails to solve bilateral constraints"}, "content": {"raw": "great! thanks. Looking at [the proposed change](https://bitbucket.org/rosebudflyaway/gazebo/src/f2c8408f959803c8529d8a8a72f3b6b31e32244c/deps/opende/src/step.cpp?at=asme_ying#cl-402), it modifies global cfm regardless what user specifies; maybe a better fix is to catch `dRecip` calls in those 2 or 4 instances in `lcp.cpp` and prevent them from dividing by zero and spawning, infecting solution with NaNs?  This is an intermediate solution that gets around dividing by zero by relaxing specific constraints. Down the road, an even better solution might be to determine why the direction of the step is infinite, and deal with it *appropriately*...", "markup": "markdown", "html": "<p>great! thanks. Looking at <a data-is-external-link=\"true\" href=\"https://bitbucket.org/rosebudflyaway/gazebo/src/f2c8408f959803c8529d8a8a72f3b6b31e32244c/deps/opende/src/step.cpp?at=asme_ying#cl-402\" rel=\"nofollow\">the proposed change</a>, it modifies global cfm regardless what user specifies; maybe a better fix is to catch <code>dRecip</code> calls in those 2 or 4 instances in <code>lcp.cpp</code> and prevent them from dividing by zero and spawning, infecting solution with NaNs?  This is an intermediate solution that gets around dividing by zero by relaxing specific constraints. Down the road, an even better solution might be to determine why the direction of the step is infinite, and deal with it <em>appropriately</em>...</p>", "type": "rendered"}, "created_on": "2015-03-09T20:45:23.468074+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": "2015-03-09T20:48:13.784157+00:00", "type": "issue_comment", "id": 16187329}