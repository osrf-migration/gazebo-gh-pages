{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/792/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/792.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/792/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/792/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/792/gztopic-without-gzserver-leads-to-segfault"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/792/vote"}}, "reporter": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "title": "gztopic without gzserver leads to segfault", "component": null, "votes": 0, "watches": 2, "content": {"raw": "Using system install of gazebo (1.9.0-1~precise)  on precise, running `gztopic list` without `gazebo` or `gzserver` running leads to core dump:\r\n~~~\r\n$ gztopic list\r\nError [Connection.cc:515] Connection[0] Closed during Read\r\nterminate called after throwing an instance of 'boost::system::system_error'\r\n  what():  Bad file descriptor\r\nAborted (core dumped)\r\n~~~\r\n\r\nbacktrace:\r\n~~~\r\n$ gdb -c core /usr/bin/gztopic\r\nGNU gdb (Ubuntu/Linaro 7.4-2012.04-0ubuntu2.1) 7.4-2012.04\r\nCopyright (C) 2012 Free Software Foundation, Inc.\r\nLicense GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>\r\nThis is free software: you are free to change and redistribute it.\r\nThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\r\nand \"show warranty\" for details.\r\nThis GDB was configured as \"x86_64-linux-gnu\".\r\nFor bug reporting instructions, please see:\r\n<http://bugs.launchpad.net/gdb-linaro/>...\r\nReading symbols from /usr/bin/gztopic...Reading symbols from /usr/lib/debug/usr/bin/gztopic-1.9.0...done.\r\ndone.\r\n[New LWP 10628]\r\n[New LWP 10629]\r\n[New LWP 10630]\r\n\r\nwarning: Can't read pathname for load map: Input/output error.\r\n[Thread debugging using libthread_db enabled]\r\nUsing host libthread_db library \"/lib/x86_64-linux-gnu/libthread_db.so.1\".\r\nCore was generated by `gztopic list'.\r\nProgram terminated with signal 6, Aborted.\r\n#0  0x00007f0b91216425 in __GI_raise (sig=<optimized out>) at ../nptl/sysdeps/unix/sysv/linux/raise.c:64\r\n64\t../nptl/sysdeps/unix/sysv/linux/raise.c: No such file or directory.\r\n(gdb) bt\r\n#0  0x00007f0b91216425 in __GI_raise (sig=<optimized out>) at ../nptl/sysdeps/unix/sysv/linux/raise.c:64\r\n#1  0x00007f0b91219b8b in __GI_abort () at abort.c:91\r\n#2  0x00007f0b9186c69d in __gnu_cxx::__verbose_terminate_handler() () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\r\n#3  0x00007f0b9186a846 in ?? () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\r\n#4  0x00007f0b9186a873 in std::terminate() () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\r\n#5  0x00007f0b9186a96e in __cxa_throw () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\r\n#6  0x00007f0b93e275ca in gazebo::transport::Connection::Read (this=<optimized out>, data=...) at /tmp/buildd/gazebo-1.9.0/gazebo/transport/Connection.cc:516\r\n#7  0x00000000004118e0 in list () at /tmp/buildd/gazebo-1.9.0/tools/gztopic.cc:159\r\n#8  0x000000000040f7a6 in main (argc=2, argv=0x7fff738af398) at /tmp/buildd/gazebo-1.9.0/tools/gztopic.cc:494\r\n(gdb) \r\n~~~\r\n", "markup": "markdown", "html": "<p>Using system install of gazebo (1.9.0-1~precise)  on precise, running <code>gztopic list</code> without <code>gazebo</code> or <code>gzserver</code> running leads to core dump:</p>\n<div class=\"codehilite\"><pre><span></span>$ gztopic list\nError <span class=\"o\">[</span>Connection.cc:515<span class=\"o\">]</span> Connection<span class=\"o\">[</span><span class=\"m\">0</span><span class=\"o\">]</span> Closed during Read\nterminate called after throwing an instance of <span class=\"s1\">&#39;boost::system::system_error&#39;</span>\n  what<span class=\"o\">()</span>:  Bad file descriptor\nAborted <span class=\"o\">(</span>core dumped<span class=\"o\">)</span>\n</pre></div>\n\n\n<p>backtrace:</p>\n<div class=\"codehilite\"><pre><span></span>$ gdb -c core /usr/bin/gztopic\nGNU gdb <span class=\"o\">(</span>Ubuntu/Linaro <span class=\"m\">7</span>.4-2012.04-0ubuntu2.1<span class=\"o\">)</span> <span class=\"m\">7</span>.4-2012.04\nCopyright <span class=\"o\">(</span>C<span class=\"o\">)</span> <span class=\"m\">2012</span> Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version <span class=\"m\">3</span> or later &lt;http://gnu.org/licenses/gpl.html&gt;\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.  Type <span class=\"s2\">&quot;show copying&quot;</span>\nand <span class=\"s2\">&quot;show warranty&quot;</span> <span class=\"k\">for</span> details.\nThis GDB was configured as <span class=\"s2\">&quot;x86_64-linux-gnu&quot;</span>.\nFor bug reporting instructions, please see:\n&lt;http://bugs.launchpad.net/gdb-linaro/&gt;...\nReading symbols from /usr/bin/gztopic...Reading symbols from /usr/lib/debug/usr/bin/gztopic-1.9.0...done.\n<span class=\"k\">done</span>.\n<span class=\"o\">[</span>New LWP <span class=\"m\">10628</span><span class=\"o\">]</span>\n<span class=\"o\">[</span>New LWP <span class=\"m\">10629</span><span class=\"o\">]</span>\n<span class=\"o\">[</span>New LWP <span class=\"m\">10630</span><span class=\"o\">]</span>\n\nwarning: Can<span class=\"s1\">&#39;t read pathname for load map: Input/output error.</span>\n<span class=\"s1\">[Thread debugging using libthread_db enabled]</span>\n<span class=\"s1\">Using host libthread_db library &quot;/lib/x86_64-linux-gnu/libthread_db.so.1&quot;.</span>\n<span class=\"s1\">Core was generated by `gztopic list&#39;</span>.\nProgram terminated with signal <span class=\"m\">6</span>, Aborted.\n<span class=\"c1\">#0  0x00007f0b91216425 in __GI_raise (sig=&lt;optimized out&gt;) at ../nptl/sysdeps/unix/sysv/linux/raise.c:64</span>\n<span class=\"m\">64</span>  ../nptl/sysdeps/unix/sysv/linux/raise.c: No such file or directory.\n<span class=\"o\">(</span>gdb<span class=\"o\">)</span> bt\n<span class=\"c1\">#0  0x00007f0b91216425 in __GI_raise (sig=&lt;optimized out&gt;) at ../nptl/sysdeps/unix/sysv/linux/raise.c:64</span>\n<span class=\"c1\">#1  0x00007f0b91219b8b in __GI_abort () at abort.c:91</span>\n<span class=\"c1\">#2  0x00007f0b9186c69d in __gnu_cxx::__verbose_terminate_handler() () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6</span>\n<span class=\"c1\">#3  0x00007f0b9186a846 in ?? () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6</span>\n<span class=\"c1\">#4  0x00007f0b9186a873 in std::terminate() () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6</span>\n<span class=\"c1\">#5  0x00007f0b9186a96e in __cxa_throw () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6</span>\n<span class=\"c1\">#6  0x00007f0b93e275ca in gazebo::transport::Connection::Read (this=&lt;optimized out&gt;, data=...) at /tmp/buildd/gazebo-1.9.0/gazebo/transport/Connection.cc:516</span>\n<span class=\"c1\">#7  0x00000000004118e0 in list () at /tmp/buildd/gazebo-1.9.0/tools/gztopic.cc:159</span>\n<span class=\"c1\">#8  0x000000000040f7a6 in main (argc=2, argv=0x7fff738af398) at /tmp/buildd/gazebo-1.9.0/tools/gztopic.cc:494</span>\n<span class=\"o\">(</span>gdb<span class=\"o\">)</span> \n</pre></div>", "type": "rendered"}, "assignee": null, "state": "closed", "version": {"name": "all", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/225575.json"}}}, "edited_on": null, "created_on": "2013-07-25T23:29:24.287993+00:00", "milestone": null, "updated_on": "2016-09-14T19:45:31.040143+00:00", "type": "issue", "id": 792}