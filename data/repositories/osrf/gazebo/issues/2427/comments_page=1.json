{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2427/comments/43294915.json"}, "html": {"href": "#!/osrf/gazebo/issues/2427#comment-43294915"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2427.json"}}, "type": "issue", "id": 2427, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "State log won't play with gazebo 8.3 because of a model plugin"}, "content": {"raw": "I think all plugins are supposed to work during playback (as of now). I think one trick we did for the SRC was to playback the log while the plugins were not in the path, so they weren't loaded. \n\nSo I'd expect the plugin to be loaded on 8.2 too. Is the `unit_box` inserted at all on Gazebo 8.2?", "markup": "markdown", "html": "<p>I think all plugins are supposed to work during playback (as of now). I think one trick we did for the SRC was to playback the log while the plugins were not in the path, so they weren't loaded. </p>\n<p>So I'd expect the plugin to be loaded on 8.2 too. Is the <code>unit_box</code> inserted at all on Gazebo 8.2?</p>", "type": "rendered"}, "created_on": "2018-02-14T20:59:00.001362+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": null, "type": "issue_comment", "id": 43294915}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2427/comments/43296361.json"}, "html": {"href": "#!/osrf/gazebo/issues/2427#comment-43296361"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2427.json"}}, "type": "issue", "id": 2427, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "State log won't play with gazebo 8.3 because of a model plugin"}, "content": {"raw": "The `unit_box` is inserted, yeah, in both cases. But it seems that for some reason that model plugin doesn't even attempt to load with 8.2 (judging from the lack of error message when I use `dummy.so`, though that's not a 100% certain).\n\n\nI am running the gazebo invocations in the same terminal, so the plugin should be on the path either way (since there's not warning).\n\nIt might be relevant that the model is being *inserted* in the log file. I just noticed this line in a PR merged in the last release cycle: #!/osrf/gazebo/pull-requests/2608/process-insertions-and-deletions-on-gz-log/diff#Lgazebo/physics/World.ccF549 that makes me think that in the past, plugins were loaded for models (as you mentioned), but not for *inserted* models?", "markup": "markdown", "html": "<p>The <code>unit_box</code> is inserted, yeah, in both cases. But it seems that for some reason that model plugin doesn't even attempt to load with 8.2 (judging from the lack of error message when I use <code>dummy.so</code>, though that's not a 100% certain).</p>\n<p>I am running the gazebo invocations in the same terminal, so the plugin should be on the path either way (since there's not warning).</p>\n<p>It might be relevant that the model is being <em>inserted</em> in the log file. I just noticed this line in a PR merged in the last release cycle: <a href=\"#!/osrf/gazebo/pull-requests/2608/process-insertions-and-deletions-on-gz-log/diff#Lgazebo/physics/World.ccF549\" rel=\"nofollow\" class=\"ap-connect-link\">#!/osrf/gazebo/pull-requests/2608/process-insertions-and-deletions-on-gz-log/diff#Lgazebo/physics/World.ccF549</a> that makes me think that in the past, plugins were loaded for models (as you mentioned), but not for <em>inserted</em> models?</p>", "type": "rendered"}, "created_on": "2018-02-14T23:17:07.335190+00:00", "user": {"display_name": "Deanna Hood", "uuid": "{40d490b4-7de9-4c89-ac1c-2219a22057eb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B40d490b4-7de9-4c89-ac1c-2219a22057eb%7D"}, "html": {"href": "https://bitbucket.org/%7B40d490b4-7de9-4c89-ac1c-2219a22057eb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ec666897-79d8-48b4-ae27-4f0e9e56f5b5/f7b56737-eb1f-481f-beb1-50c179565cf4/128"}}, "nickname": "d_hood", "type": "user", "account_id": "557058:ec666897-79d8-48b4-ae27-4f0e9e56f5b5"}, "updated_on": null, "type": "issue_comment", "id": 43296361}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2427/comments/43296791.json"}, "html": {"href": "#!/osrf/gazebo/issues/2427#comment-43296791"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2427.json"}}, "type": "issue", "id": 2427, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "State log won't play with gazebo 8.3 because of a model plugin"}, "content": {"raw": "Ohh nice catch! Now inserted models are loaded through `World::SetState` and plugins are loaded too.\n\nSo my assumption was wrong, some plugins have not been loaded during playback until now. This was definitely an unintended change in behaviour. I know for a fact that GUI plugins are loaded, and I think @tfoote has been recently using a world/system plugin during log playback. \n\nI tried adding a plugin both to a model which starts in the world and one that is inserted, and I only get an error message for `grape` on 8.3:\n\n~~~\ndiff -r 0a1ef02bdc96 test/logs/insertion_deletion.log\n--- a/test/logs/insertion_deletion.log\tSat Feb 10 11:22:45 2018 -0800\n+++ b/test/logs/insertion_deletion.log\tWed Feb 14 16:20:59 2018 -0800\n@@ -33,6 +33,10 @@\n     <elevation>0</elevation>\n     <heading_deg>0</heading_deg>\n   </spherical_coordinates>\n+  <model name=\"banana\">\n+    <plugin name='banana' filename='banana.so'>\n+    </plugin>\n+  </model>\n </world>\n </sdf>\n ]]>\n@@ -89,6 +93,10 @@\n     <kinematic>0</kinematic>\n   </link>\n </model>\n+  <model name=\"grape\">\n+    <plugin name='grape' filename='grape.so'>\n+    </plugin>\n+  </model>\n~~~\n\nWe need a consistent behaviour between preexistent models and inserted ones. Let me try something out.\n\nIn any case, it would be nice to document somewhere which plugins are loaded during playback.", "markup": "markdown", "html": "<p>Ohh nice catch! Now inserted models are loaded through <code>World::SetState</code> and plugins are loaded too.</p>\n<p>So my assumption was wrong, some plugins have not been loaded during playback until now. This was definitely an unintended change in behaviour. I know for a fact that GUI plugins are loaded, and I think @tfoote has been recently using a world/system plugin during log playback. </p>\n<p>I tried adding a plugin both to a model which starts in the world and one that is inserted, and I only get an error message for <code>grape</code> on 8.3:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gh\">diff -r 0a1ef02bdc96 test/logs/insertion_deletion.log</span>\n<span class=\"gd\">--- a/test/logs/insertion_deletion.log  Sat Feb 10 11:22:45 2018 -0800</span>\n<span class=\"gi\">+++ b/test/logs/insertion_deletion.log  Wed Feb 14 16:20:59 2018 -0800</span>\n<span class=\"gu\">@@ -33,6 +33,10 @@</span>\n     &lt;elevation&gt;0&lt;/elevation&gt;\n     &lt;heading_deg&gt;0&lt;/heading_deg&gt;\n   &lt;/spherical_coordinates&gt;\n<span class=\"gi\">+  &lt;model name=&quot;banana&quot;&gt;</span>\n<span class=\"gi\">+    &lt;plugin name=&#39;banana&#39; filename=&#39;banana.so&#39;&gt;</span>\n<span class=\"gi\">+    &lt;/plugin&gt;</span>\n<span class=\"gi\">+  &lt;/model&gt;</span>\n &lt;/world&gt;\n &lt;/sdf&gt;\n ]]&gt;\n<span class=\"gu\">@@ -89,6 +93,10 @@</span>\n     &lt;kinematic&gt;0&lt;/kinematic&gt;\n   &lt;/link&gt;\n &lt;/model&gt;\n<span class=\"gi\">+  &lt;model name=&quot;grape&quot;&gt;</span>\n<span class=\"gi\">+    &lt;plugin name=&#39;grape&#39; filename=&#39;grape.so&#39;&gt;</span>\n<span class=\"gi\">+    &lt;/plugin&gt;</span>\n<span class=\"gi\">+  &lt;/model&gt;</span>\n</pre></div>\n\n\n<p>We need a consistent behaviour between preexistent models and inserted ones. Let me try something out.</p>\n<p>In any case, it would be nice to document somewhere which plugins are loaded during playback.</p>", "type": "rendered"}, "created_on": "2018-02-15T00:28:26.959081+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": null, "type": "issue_comment", "id": 43296791}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2427/comments/43296840.json"}, "html": {"href": "#!/osrf/gazebo/issues/2427#comment-43296840"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2427.json"}}, "type": "issue", "id": 2427, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "State log won't play with gazebo 8.3 because of a model plugin"}, "content": {"raw": "See pull request #2884 for a patch", "markup": "markdown", "html": "<p>See <a href=\"#!/osrf/gazebo/pull-requests/2884/dont-start-model-plugins-on-playback-issue\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #2884</a> for a patch</p>", "type": "rendered"}, "created_on": "2018-02-15T00:34:08.716165+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": null, "type": "issue_comment", "id": 43296840}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2427/comments/43296883.json"}, "html": {"href": "#!/osrf/gazebo/issues/2427#comment-43296883"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2427.json"}}, "type": "issue", "id": 2427, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "State log won't play with gazebo 8.3 because of a model plugin"}, "content": {"raw": "I'm attempting to use a system plugin during playback here: https://github.com/ros-simulation/gazebo_ros_pkgs/pull/674", "markup": "markdown", "html": "<p>I'm attempting to use a system plugin during playback here: <a href=\"https://github.com/ros-simulation/gazebo_ros_pkgs/pull/674\" rel=\"nofollow\" class=\"ap-connect-link\">https://github.com/ros-simulation/gazebo_ros_pkgs/pull/674</a></p>", "type": "rendered"}, "created_on": "2018-02-15T00:39:52.827601+00:00", "user": {"display_name": "Tully Foote", "uuid": "{3d90dbd4-b845-466f-b5bd-068566f7ff50}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d90dbd4-b845-466f-b5bd-068566f7ff50%7D"}, "html": {"href": "https://bitbucket.org/%7B3d90dbd4-b845-466f-b5bd-068566f7ff50%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/3bc6528f8fe1fef6b6ecc7312ee0cf04d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsTF-2.png"}}, "nickname": "Tully Foote", "type": "user", "account_id": "557058:e2bf789f-2138-4a4e-ba39-3d618078e20b"}, "updated_on": null, "type": "issue_comment", "id": 43296883}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2427/comments/43348994.json"}, "html": {"href": "#!/osrf/gazebo/issues/2427#comment-43348994"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2427.json"}}, "type": "issue", "id": 2427, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "State log won't play with gazebo 8.3 because of a model plugin"}, "content": {"raw": "I put some prints in `LoadPlugins` methods; it seems that only visual plugins and sensor plugins are loaded during playback, but not world or model plugins (except currently the inserted models). Not sure if this was always the case, or if world plugins used to be loaded, for example.", "markup": "markdown", "html": "<p>I put some prints in <code>LoadPlugins</code> methods; it seems that only visual plugins and sensor plugins are loaded during playback, but not world or model plugins (except currently the inserted models). Not sure if this was always the case, or if world plugins used to be loaded, for example.</p>", "type": "rendered"}, "created_on": "2018-02-17T14:36:11.444654+00:00", "user": {"display_name": "Deanna Hood", "uuid": "{40d490b4-7de9-4c89-ac1c-2219a22057eb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B40d490b4-7de9-4c89-ac1c-2219a22057eb%7D"}, "html": {"href": "https://bitbucket.org/%7B40d490b4-7de9-4c89-ac1c-2219a22057eb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ec666897-79d8-48b4-ae27-4f0e9e56f5b5/f7b56737-eb1f-481f-beb1-50c179565cf4/128"}}, "nickname": "d_hood", "type": "user", "account_id": "557058:ec666897-79d8-48b4-ae27-4f0e9e56f5b5"}, "updated_on": null, "type": "issue_comment", "id": 43348994}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2427/comments/43636554.json"}, "html": {"href": "#!/osrf/gazebo/issues/2427#comment-43636554"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2427.json"}}, "type": "issue", "id": 2427, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "State log won't play with gazebo 8.3 because of a model plugin"}, "content": {"raw": "pull request #2884", "markup": "markdown", "html": "<p><a href=\"#!/osrf/gazebo/pull-requests/2884/dont-start-model-plugins-on-playback-issue\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #2884</a></p>", "type": "rendered"}, "created_on": "2018-03-01T21:09:41.383330+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 43636554}], "page": 1, "size": 7}