{"priority": "critical", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/701/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/701.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/701/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/701/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/701/camera-lighting-problem-on-heightmaps-due"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/701/vote"}}, "reporter": {"display_name": "Thomas Koletschka", "uuid": "{b33092ac-6376-48d1-9803-d9e6de445d1a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bb33092ac-6376-48d1-9803-d9e6de445d1a%7D"}, "html": {"href": "https://bitbucket.org/%7Bb33092ac-6376-48d1-9803-d9e6de445d1a%7D/"}, "avatar": {"href": "https://bitbucket.org/account/thomasko/avatar/"}}, "nickname": "thomasko", "type": "user", "account_id": null}, "title": "camera lighting problem on heightmaps due to race condition with laser", "component": null, "votes": 0, "watches": 2, "content": {"raw": "There seems to be a race condition that causes problems with rendering of diffuse light on heightmaps with the camera sensor. When a laser sensor gets subscribed to before the camera sensor then lighting on heightmaps induced by diffuse light sources seems to be disabled in the camera sensor and only ambient light is rendered. Adding and removing light sources then seems to toggle rendering of diffuse light on/off, however this behaviour is non-deterministic, e.g. sometimes removing a previously added light source disables rendering of diffuse light and sometimes it doesn't.\r\n\r\nHere a video illustrating the bug using the current head of gazebo_1.8 and drcsim_2.6: http://www.youtube.com/watch?v=h71wf0hd3gc ", "markup": "markdown", "html": "<p>There seems to be a race condition that causes problems with rendering of diffuse light on heightmaps with the camera sensor. When a laser sensor gets subscribed to before the camera sensor then lighting on heightmaps induced by diffuse light sources seems to be disabled in the camera sensor and only ambient light is rendered. Adding and removing light sources then seems to toggle rendering of diffuse light on/off, however this behaviour is non-deterministic, e.g. sometimes removing a previously added light source disables rendering of diffuse light and sometimes it doesn't.</p>\n<p>Here a video illustrating the bug using the current head of gazebo_1.8 and drcsim_2.6: <a href=\"http://www.youtube.com/watch?v=h71wf0hd3gc\" rel=\"nofollow\" class=\"ap-connect-link\">http://www.youtube.com/watch?v=h71wf0hd3gc</a> </p>", "type": "rendered"}, "assignee": null, "state": "closed", "version": {"name": "all", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/225575.json"}}}, "edited_on": null, "created_on": "2013-05-29T00:17:22.727509+00:00", "milestone": null, "updated_on": "2016-09-14T19:43:34.116233+00:00", "type": "issue", "id": 701}