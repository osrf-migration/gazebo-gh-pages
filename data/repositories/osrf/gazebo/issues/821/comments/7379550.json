{"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/821/comments/7379550.json"}, "html": {"href": "#!/osrf/gazebo/issues/821#comment-7379550"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/821.json"}}, "type": "issue", "id": 821, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Apparent transport race condition on startup"}, "content": {"raw": "Just got a backtrace from a test failure showing the following console message ([see everything here](https://gist.github.com/scpeters/7995310)):\n~~~\nError [Connection.hh:264] Header is empty\nException [msgs.cc:111] Can't serialize message of type[gazebo.msgs.Publish]\n because it is missing required fields\n~~~\nFailing thread: gazebo::Master\n~~~\nThread 1 (Thread 0x2b25bfbc1700 (LWP 19084)):\n#0  0x00002b255091f425 in __GI_raise (sig=<optimized out>) at ../nptl/sysdeps/unix/sysv/linux/raise.c:64\n#1  0x00002b2550922b8b in __GI_abort () at abort.c:91\n#2  0x00002b2550133e2d in __gnu_cxx::__verbose_terminate_handler() () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#3  0x00002b2550131f26 in ?? () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#4  0x00002b2550131f53 in std::terminate() () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#5  0x00002b255013217e in __cxa_throw () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#6  0x00002b254e660879 in gazebo::msgs::Package (type=..., message=...) at /tmp/gazebo_build/source/gazebo/msgs/msgs.cc:110\n#7  0x00000000004a8475 in gazebo::Master::ProcessMessage (this=this@entry=0x2b257095f610, _connectionIndex=0, _data=...)\n    at /tmp/gazebo_build/source/gazebo/Master.cc:175\n#8  0x00000000004a9327 in gazebo::Master::RunOnce (this=this@entry=0x2b257095f610) at /tmp/gazebo_build/source/gazebo/Master.cc:321\n#9  0x00000000004a94f0 in gazebo::Master::Run (this=0x2b257095f610) at /tmp/gazebo_build/source/gazebo/Master.cc:299\n---Type <return> to continue, or q <return> to quit---\n#10 0x00002b254f8336c9 in ?? () from /usr/lib/libboost_thread.so.1.49.0\n#11 0x00002b254eb98e9a in start_thread (arg=0x2b25bfbc1700) at pthread_create.c:308\n#12 0x00002b25509dd3fd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\n#13 0x0000000000000000 in ?? ()\n~~~\nTesting thread is waiting for the world to load at [ServerFixture.cc:171](#!/osrf/gazebo/src/eb6b4778b530fe2a3e46ed4a7f126fb97e8b0ea8/test/ServerFixture.cc?at=default#cl-171):\n~~~\nThread 9 (Thread 0x2b25684df180 (LWP 19001)):\n#0  clock_nanosleep (clock_id=<optimized out>, flags=<optimized out>, req=<optimized out>, rem=<optimized out>)\n    at ../sysdeps/unix/sysv/linux/clock_nanosleep.c:51\n#1  0x00002b254d623026 in gazebo::common::Time::Sleep (_time=...) at /tmp/gazebo_build/source/gazebo/common/Time.cc:195\n#2  0x00002b254d623453 in gazebo::common::Time::MSleep (_ms=<optimized out>) at /tmp/gazebo_build/source/gazebo/common/Time.cc:214\n#3  0x00000000004847a9 in ServerFixture::Load (this=this@entry=0x1790990, _worldFilename=..., _paused=_paused@entry=true, _physics=...)\n    at /tmp/gazebo_build/source/test/ServerFixture.cc:171\n#4  0x0000000000458842 in ImuTest::Stationary_EmptyWorld_Noise (this=this@entry=0x1790990, _physicsEngine=...)\n    at /tmp/gazebo_build/source/test/integration/imu.cc:142\n#5  0x00000000004598fc in ImuTest_EmptyWorldNoise_Test::TestBody (this=0x1790990) at /tmp/gazebo_build/source/test/integration/imu.cc:215\n#6  0x00000000004803ca in HandleSehExceptionsInMethodIfSupported<testing::Test, void> (method=<optimized out>, object=<optimized out>, \n    location=<optimized out>) at /tmp/gazebo_build/source/test/gtest/src/gtest.cc:2079\n#7  testing::internal::HandleExceptionsInMethodIfSupported<testing::Test, void> (object=object@entry=0x1790990, \n    method=&virtual testing::Test::TestBody(), location=location@entry=0x4b1d01 \"the test body\")\n    at /tmp/gazebo_build/source/test/gtest/src/gtest.cc:2115\n#8  0x00000000004722b9 in testing::Test::Run (this=this@entry=0x1790990) at /tmp/gazebo_build/source/test/gtest/src/gtest.cc:2152\n#9  0x0000000000472397 in testing::TestInfo::Run (this=0x17895e0) at /tmp/gazebo_build/source/test/gtest/src/gtest.cc:2327\n#10 0x00000000004724d5 in testing::TestCase::Run (this=0x1788f30) at /tmp/gazebo_build/source/test/gtest/src/gtest.cc:2445\n#11 0x0000000000472845 in RunAllTests (this=0x1786bd0) at /tmp/gazebo_build/source/test/gtest/src/gtest.cc:4316\n#12 testing::internal::UnitTestImpl::RunAllTests (this=0x1786bd0) at /tmp/gazebo_build/source/test/gtest/src/gtest.cc:4223\n#13 0x000000000047ff4a in HandleSehExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool> (method=<optimized out>, \n    object=<optimized out>, location=<optimized out>) at /tmp/gazebo_build/source/test/gtest/src/gtest.cc:2079\n#14 testing::internal::HandleExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool> (object=0x1786bd0, method=\n    (bool (testing::internal::UnitTestImpl::*)(testing::internal::UnitTestImpl * const)) 0x472550 <testing::internal::UnitTestImpl::RunAllTests()>, \n    location=location@entry=0x4b2c78 \"auxiliary test code (environments or event listeners)\") at /tmp/gazebo_build/source/test/gtest/src/gtest.cc:2115\n#15 0x00000000004719dd in testing::UnitTest::Run (this=0x6df520 <testing::UnitTest::GetInstance()::instance>)\n    at /tmp/gazebo_build/source/test/gtest/src/gtest.cc:3930\n#16 0x00000000004541c0 in RUN_ALL_TESTS () at /tmp/gazebo_build/source/test/gtest/include/gtest/gtest.h:2288\n#17 main (argc=1, argv=0x7fff25a57da8) at /tmp/gazebo_build/source/test/integration/imu.cc:311\n~~~", "markup": "markdown", "html": "<p>Just got a backtrace from a test failure showing the following console message (<a data-is-external-link=\"true\" href=\"https://gist.github.com/scpeters/7995310\" rel=\"nofollow\">see everything here</a>):</p>\n<div class=\"codehilite\"><pre><span></span>Error [Connection.hh:264] Header is empty\nException [msgs.cc:111] Can&#39;t serialize message of type[gazebo.msgs.Publish]\n because it is missing required fields\n</pre></div>\n\n\n<p>Failing thread: gazebo::Master</p>\n<div class=\"codehilite\"><pre><span></span>Thread 1 (Thread 0x2b25bfbc1700 (LWP 19084)):\n#0  0x00002b255091f425 in __GI_raise (sig=&lt;optimized out&gt;) at ../nptl/sysdeps/unix/sysv/linux/raise.c:64\n#1  0x00002b2550922b8b in __GI_abort () at abort.c:91\n#2  0x00002b2550133e2d in __gnu_cxx::__verbose_terminate_handler() () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#3  0x00002b2550131f26 in ?? () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#4  0x00002b2550131f53 in std::terminate() () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#5  0x00002b255013217e in __cxa_throw () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#6  0x00002b254e660879 in gazebo::msgs::Package (type=..., message=...) at /tmp/gazebo_build/source/gazebo/msgs/msgs.cc:110\n#7  0x00000000004a8475 in gazebo::Master::ProcessMessage (this=this@entry=0x2b257095f610, _connectionIndex=0, _data=...)\n    at /tmp/gazebo_build/source/gazebo/Master.cc:175\n#8  0x00000000004a9327 in gazebo::Master::RunOnce (this=this@entry=0x2b257095f610) at /tmp/gazebo_build/source/gazebo/Master.cc:321\n#9  0x00000000004a94f0 in gazebo::Master::Run (this=0x2b257095f610) at /tmp/gazebo_build/source/gazebo/Master.cc:299\n---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---\n#10 0x00002b254f8336c9 in ?? () from /usr/lib/libboost_thread.so.1.49.0\n#11 0x00002b254eb98e9a in start_thread (arg=0x2b25bfbc1700) at pthread_create.c:308\n#12 0x00002b25509dd3fd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\n#13 0x0000000000000000 in ?? ()\n</pre></div>\n\n\n<p>Testing thread is waiting for the world to load at <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/eb6b4778b530fe2a3e46ed4a7f126fb97e8b0ea8/test/ServerFixture.cc?at=default#cl-171\" rel=\"nofollow\">ServerFixture.cc:171</a>:</p>\n<div class=\"codehilite\"><pre><span></span>Thread 9 (Thread 0x2b25684df180 (LWP 19001)):\n#0  clock_nanosleep (clock_id=&lt;optimized out&gt;, flags=&lt;optimized out&gt;, req=&lt;optimized out&gt;, rem=&lt;optimized out&gt;)\n    at ../sysdeps/unix/sysv/linux/clock_nanosleep.c:51\n#1  0x00002b254d623026 in gazebo::common::Time::Sleep (_time=...) at /tmp/gazebo_build/source/gazebo/common/Time.cc:195\n#2  0x00002b254d623453 in gazebo::common::Time::MSleep (_ms=&lt;optimized out&gt;) at /tmp/gazebo_build/source/gazebo/common/Time.cc:214\n#3  0x00000000004847a9 in ServerFixture::Load (this=this@entry=0x1790990, _worldFilename=..., _paused=_paused@entry=true, _physics=...)\n    at /tmp/gazebo_build/source/test/ServerFixture.cc:171\n#4  0x0000000000458842 in ImuTest::Stationary_EmptyWorld_Noise (this=this@entry=0x1790990, _physicsEngine=...)\n    at /tmp/gazebo_build/source/test/integration/imu.cc:142\n#5  0x00000000004598fc in ImuTest_EmptyWorldNoise_Test::TestBody (this=0x1790990) at /tmp/gazebo_build/source/test/integration/imu.cc:215\n#6  0x00000000004803ca in HandleSehExceptionsInMethodIfSupported&lt;testing::Test, void&gt; (method=&lt;optimized out&gt;, object=&lt;optimized out&gt;, \n    location=&lt;optimized out&gt;) at /tmp/gazebo_build/source/test/gtest/src/gtest.cc:2079\n#7  testing::internal::HandleExceptionsInMethodIfSupported&lt;testing::Test, void&gt; (object=object@entry=0x1790990, \n    method=&amp;virtual testing::Test::TestBody(), location=location@entry=0x4b1d01 &quot;the test body&quot;)\n    at /tmp/gazebo_build/source/test/gtest/src/gtest.cc:2115\n#8  0x00000000004722b9 in testing::Test::Run (this=this@entry=0x1790990) at /tmp/gazebo_build/source/test/gtest/src/gtest.cc:2152\n#9  0x0000000000472397 in testing::TestInfo::Run (this=0x17895e0) at /tmp/gazebo_build/source/test/gtest/src/gtest.cc:2327\n#10 0x00000000004724d5 in testing::TestCase::Run (this=0x1788f30) at /tmp/gazebo_build/source/test/gtest/src/gtest.cc:2445\n#11 0x0000000000472845 in RunAllTests (this=0x1786bd0) at /tmp/gazebo_build/source/test/gtest/src/gtest.cc:4316\n#12 testing::internal::UnitTestImpl::RunAllTests (this=0x1786bd0) at /tmp/gazebo_build/source/test/gtest/src/gtest.cc:4223\n#13 0x000000000047ff4a in HandleSehExceptionsInMethodIfSupported&lt;testing::internal::UnitTestImpl, bool&gt; (method=&lt;optimized out&gt;, \n    object=&lt;optimized out&gt;, location=&lt;optimized out&gt;) at /tmp/gazebo_build/source/test/gtest/src/gtest.cc:2079\n#14 testing::internal::HandleExceptionsInMethodIfSupported&lt;testing::internal::UnitTestImpl, bool&gt; (object=0x1786bd0, method=\n    (bool (testing::internal::UnitTestImpl::*)(testing::internal::UnitTestImpl * const)) 0x472550 &lt;testing::internal::UnitTestImpl::RunAllTests()&gt;, \n    location=location@entry=0x4b2c78 &quot;auxiliary test code (environments or event listeners)&quot;) at /tmp/gazebo_build/source/test/gtest/src/gtest.cc:2115\n#15 0x00000000004719dd in testing::UnitTest::Run (this=0x6df520 &lt;testing::UnitTest::GetInstance()::instance&gt;)\n    at /tmp/gazebo_build/source/test/gtest/src/gtest.cc:3930\n#16 0x00000000004541c0 in RUN_ALL_TESTS () at /tmp/gazebo_build/source/test/gtest/include/gtest/gtest.h:2288\n#17 main (argc=1, argv=0x7fff25a57da8) at /tmp/gazebo_build/source/test/integration/imu.cc:311\n</pre></div>", "type": "rendered"}, "created_on": "2013-12-16T22:27:45.734292+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 7379550}