{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2617/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2617.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2617/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2617/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2617/attach-a-joint-between-models-in-world"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2617/vote"}}, "reporter": null, "title": "Attach a joint between models in world plugin", "component": null, "votes": 0, "watches": null, "content": {"raw": "Hi, I would like to attach a joint between models in world plugin\r\nI follow the tutorial in [World plugins](http://gazebosim.org/tutorials?tut=plugins_world).\r\nI can add the model to the world, however, I want to attach a joint between models like this\r\n```\r\n    sphereSDF.SetFromString(\r\n       \"<sdf version ='1.4'>\\\r\n          <model name ='sphere'>\\\r\n        <include>\\\r\n            <uri>model://payload</uri>\\\r\n            <pose>0.0 0.0 0.35 0 -1.57 0</pose>\\\r\n           </include>\\\r\n        <joint name='payload_link_drone_joint' type='fixed'>\\\r\n          <parent>iris::base_link</parent>\\\r\n          <child>unique_sphere::payload::payload_link</child>\\\r\n          <pose>-0.00 0.0 -0.25 0 0.0 0.0</pose>\\\r\n        </joint>\\\r\n          </model>\\\r\n        </sdf>\");\r\n        sdf::ElementPtr model = sphereSDF.Root()->GetElement(\"model\");\r\n         model->GetAttribute(\"name\")->SetFromString(\"unique_sphere\");\r\n         this->world->InsertModelSDF(sphereSDF);\r\n```\r\nBut the joint doesn't appear, is there any problem with my code?", "markup": "markdown", "html": "<p>Hi, I would like to attach a joint between models in world plugin\nI follow the tutorial in <a data-is-external-link=\"true\" href=\"http://gazebosim.org/tutorials?tut=plugins_world\" rel=\"nofollow\">World plugins</a>.\nI can add the model to the world, however, I want to attach a joint between models like this</p>\n<div class=\"codehilite\"><pre><span></span>    sphereSDF.SetFromString(\n       &quot;<span class=\"nt\">&lt;sdf</span> <span class=\"na\">version =</span><span class=\"s\">&#39;1.4&#39;</span><span class=\"nt\">&gt;</span>\\\n          <span class=\"nt\">&lt;model</span> <span class=\"na\">name =</span><span class=\"s\">&#39;sphere&#39;</span><span class=\"nt\">&gt;</span>\\\n        <span class=\"nt\">&lt;include&gt;</span>\\\n            <span class=\"nt\">&lt;uri&gt;</span>model://payload<span class=\"nt\">&lt;/uri&gt;</span>\\\n            <span class=\"nt\">&lt;pose&gt;</span>0.0 0.0 0.35 0 -1.57 0<span class=\"nt\">&lt;/pose&gt;</span>\\\n           <span class=\"nt\">&lt;/include&gt;</span>\\\n        <span class=\"nt\">&lt;joint</span> <span class=\"na\">name=</span><span class=\"s\">&#39;payload_link_drone_joint&#39;</span> <span class=\"na\">type=</span><span class=\"s\">&#39;fixed&#39;</span><span class=\"nt\">&gt;</span>\\\n          <span class=\"nt\">&lt;parent&gt;</span>iris::base_link<span class=\"nt\">&lt;/parent&gt;</span>\\\n          <span class=\"nt\">&lt;child&gt;</span>unique_sphere::payload::payload_link<span class=\"nt\">&lt;/child&gt;</span>\\\n          <span class=\"nt\">&lt;pose&gt;</span>-0.00 0.0 -0.25 0 0.0 0.0<span class=\"nt\">&lt;/pose&gt;</span>\\\n        <span class=\"nt\">&lt;/joint&gt;</span>\\\n          <span class=\"nt\">&lt;/model&gt;</span>\\\n        <span class=\"nt\">&lt;/sdf&gt;</span>&quot;);\n        sdf::ElementPtr model = sphereSDF.Root()-&gt;GetElement(&quot;model&quot;);\n         model-&gt;GetAttribute(&quot;name&quot;)-&gt;SetFromString(&quot;unique_sphere&quot;);\n         this-&gt;world-&gt;InsertModelSDF(sphereSDF);\n</pre></div>\n\n\n<p>But the joint doesn't appear, is there any problem with my code?</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2019-04-18T11:39:42.021038+00:00", "milestone": null, "updated_on": "2019-04-19T03:11:31.108077+00:00", "type": "issue", "id": 2617}