{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1523/comments/16573786.json"}, "html": {"href": "#!/osrf/gazebo/issues/1523#comment-16573786"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1523.json"}}, "type": "issue", "id": 1523, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "gzclient crashes when a light is selected on another client"}, "content": {"raw": "backtrace:\n\n~~~\nProgram received signal SIGSEGV, Segmentation fault.\n[Switching to Thread 0x7fffd7539700 (LWP 15357)]\n0x00007fffee76f969 in glGenBuffersARB () from /usr/lib/nvidia-304/libGL.so.1\n(gdb) bt\n#0  0x00007fffee76f969 in glGenBuffersARB ()\n   from /usr/lib/nvidia-304/libGL.so.1\n#1  0x00007fffd55e1510 in Ogre::GLHardwareVertexBuffer::GLHardwareVertexBuffer(Ogre::HardwareBufferManagerBase*, unsigned long, unsigned long, Ogre::HardwareBuffer::Usage, bool) ()\n   from /usr/lib/x86_64-linux-gnu/OGRE-1.8.0/RenderSystem_GL.so\n#2  0x00007fffd55dc52f in Ogre::GLHardwareBufferManagerBase::createVertexBuffer(unsigned long, unsigned long, Ogre::HardwareBuffer::Usage, bool) ()\n   from /usr/lib/x86_64-linux-gnu/OGRE-1.8.0/RenderSystem_GL.so\n#3  0x00007fffd55ebce5 in ?? ()\n   from /usr/lib/x86_64-linux-gnu/OGRE-1.8.0/RenderSystem_GL.so\n#4  0x00007ffff63dd673 in gazebo::rendering::DynamicRenderable::PrepareHardwareBuffers (this=this@entry=0x7fffcc13a860, vertexCount=vertexCount@entry=24, \n    indexCount=indexCount@entry=0)\n    at /home/ian/depot/gazebo/gazebo/rendering/DynamicRenderable.cc:166\n#5  0x00007ffff63dbe90 in gazebo::rendering::DynamicLines::FillHardwareBuffers\n    (this=0x7fffcc13a860)\n    at /home/ian/depot/gazebo/gazebo/rendering/DynamicLines.cc:146\n#6  0x00007ffff646712f in gazebo::rendering::WireBox::Init (\n    this=this@entry=0x7fff84020e00, _box=...)\n    at /home/ian/depot/gazebo/gazebo/rendering/WireBox.cc:105\n#7  0x00007ffff646727b in gazebo::rendering::WireBox::WireBox (\n    this=0x7fff84020e00, _parent=..., _box=...)\n---Type <return> to continue, or q <return> to quit---\n    at /home/ian/depot/gazebo/gazebo/rendering/WireBox.cc:37\n#8  0x00007ffff645f0ec in gazebo::rendering::Visual::SetHighlighted (\n    this=0x4134d60, _highlighted=_highlighted@entry=true)\n    at /home/ian/depot/gazebo/gazebo/rendering/Visual.cc:1412\n#9  0x00007ffff7780fe2 in gazebo::gui::GLWidget::SetSelectedVisual (\n    this=this@entry=0x106f000, _vis=...)\n    at /home/ian/depot/gazebo/gazebo/gui/GLWidget.cc:967\n#10 0x00007ffff7781b62 in gazebo::gui::GLWidget::OnSetSelectedEntity (\n    this=this@entry=0x106f000, _name=\"user_point_light_0\", _mode=\"normal\")\n    at /home/ian/depot/gazebo/gazebo/gui/GLWidget.cc:1126\n#11 0x00007ffff7781ca2 in gazebo::gui::GLWidget::OnSelectionMsg (\n    this=0x106f000, _msg=...)\n    at /home/ian/depot/gazebo/gazebo/gui/GLWidget.cc:940\n#12 0x00007ffff7787b9e in operator() (a0=..., this=0x10b7630)\n    at /usr/include/boost/function/function_template.hpp:767\n#13 gazebo::transport::CallbackHelperT<gazebo::msgs::Selection>::HandleData(std::string const&, boost::function<void (unsigned int)>, unsigned int) (\n    this=0x10b7620, \n    _newdata=\"\\b\\355\\377\\377\\377\\017\\022\\022user_point_light_0\\030\\001\", \n    _cb=..., _id=0)\n    at /home/ian/depot/gazebo/gazebo/transport/CallbackHelper.hh:144\n#14 0x00007ffff671f5e6 in gazebo::transport::Node::ProcessIncoming (\n    this=0x1099900) at /home/ian/depot/gazebo/gazebo/transport/Node.cc:216\n---Type <return> to continue, or q <return> to quit---\n#15 0x00007ffff6728adb in gazebo::transport::TopicManager::ProcessNodes (\n    this=0x7ffff7dd70c0 <SingletonT<gazebo::transport::TopicManager>::GetInstance()::t>, _onlyOut=_onlyOut@entry=false)\n    at /home/ian/depot/gazebo/gazebo/transport/TopicManager.cc:190\n#16 0x00007ffff67188c6 in gazebo::transport::ConnectionManager::RunUpdate (\n    this=this@entry=0x7ffff7dd6ec0 <SingletonT<gazebo::transport::ConnectionManager>::GetInstance()::t>)\n    at /home/ian/depot/gazebo/gazebo/transport/ConnectionManager.cc:276\n#17 0x00007ffff6718a65 in gazebo::transport::ConnectionManager::Run (\n    this=0x7ffff7dd6ec0 <SingletonT<gazebo::transport::ConnectionManager>::GetInstance()::t>)\n    at /home/ian/depot/gazebo/gazebo/transport/ConnectionManager.cc:307\n#18 0x00007ffff3756a4a in ?? ()\n   from /usr/lib/x86_64-linux-gnu/libboost_thread.so.1.54.0\n#19 0x00007ffff3969182 in start_thread (arg=0x7fffd7539700)\n    at pthread_create.c:312\n#20 0x00007ffff6cf6efd in clone ()\n    at ../sysdeps/unix/sysv/linux/x86_64/clone.S:111\n(gdb) \n~~~", "markup": "markdown", "html": "<p>backtrace:</p>\n<div class=\"codehilite\"><pre><span></span>Program received signal SIGSEGV, Segmentation fault.\n[Switching to Thread 0x7fffd7539700 (LWP 15357)]\n0x00007fffee76f969 in glGenBuffersARB () from /usr/lib/nvidia-304/libGL.so.1\n(gdb) bt\n#0  0x00007fffee76f969 in glGenBuffersARB ()\n   from /usr/lib/nvidia-304/libGL.so.1\n#1  0x00007fffd55e1510 in Ogre::GLHardwareVertexBuffer::GLHardwareVertexBuffer(Ogre::HardwareBufferManagerBase*, unsigned long, unsigned long, Ogre::HardwareBuffer::Usage, bool) ()\n   from /usr/lib/x86_64-linux-gnu/OGRE-1.8.0/RenderSystem_GL.so\n#2  0x00007fffd55dc52f in Ogre::GLHardwareBufferManagerBase::createVertexBuffer(unsigned long, unsigned long, Ogre::HardwareBuffer::Usage, bool) ()\n   from /usr/lib/x86_64-linux-gnu/OGRE-1.8.0/RenderSystem_GL.so\n#3  0x00007fffd55ebce5 in ?? ()\n   from /usr/lib/x86_64-linux-gnu/OGRE-1.8.0/RenderSystem_GL.so\n#4  0x00007ffff63dd673 in gazebo::rendering::DynamicRenderable::PrepareHardwareBuffers (this=this@entry=0x7fffcc13a860, vertexCount=vertexCount@entry=24, \n    indexCount=indexCount@entry=0)\n    at /home/ian/depot/gazebo/gazebo/rendering/DynamicRenderable.cc:166\n#5  0x00007ffff63dbe90 in gazebo::rendering::DynamicLines::FillHardwareBuffers\n    (this=0x7fffcc13a860)\n    at /home/ian/depot/gazebo/gazebo/rendering/DynamicLines.cc:146\n#6  0x00007ffff646712f in gazebo::rendering::WireBox::Init (\n    this=this@entry=0x7fff84020e00, _box=...)\n    at /home/ian/depot/gazebo/gazebo/rendering/WireBox.cc:105\n#7  0x00007ffff646727b in gazebo::rendering::WireBox::WireBox (\n    this=0x7fff84020e00, _parent=..., _box=...)\n---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---\n    at /home/ian/depot/gazebo/gazebo/rendering/WireBox.cc:37\n#8  0x00007ffff645f0ec in gazebo::rendering::Visual::SetHighlighted (\n    this=0x4134d60, _highlighted=_highlighted@entry=true)\n    at /home/ian/depot/gazebo/gazebo/rendering/Visual.cc:1412\n#9  0x00007ffff7780fe2 in gazebo::gui::GLWidget::SetSelectedVisual (\n    this=this@entry=0x106f000, _vis=...)\n    at /home/ian/depot/gazebo/gazebo/gui/GLWidget.cc:967\n#10 0x00007ffff7781b62 in gazebo::gui::GLWidget::OnSetSelectedEntity (\n    this=this@entry=0x106f000, _name=&quot;user_point_light_0&quot;, _mode=&quot;normal&quot;)\n    at /home/ian/depot/gazebo/gazebo/gui/GLWidget.cc:1126\n#11 0x00007ffff7781ca2 in gazebo::gui::GLWidget::OnSelectionMsg (\n    this=0x106f000, _msg=...)\n    at /home/ian/depot/gazebo/gazebo/gui/GLWidget.cc:940\n#12 0x00007ffff7787b9e in operator() (a0=..., this=0x10b7630)\n    at /usr/include/boost/function/function_template.hpp:767\n#13 gazebo::transport::CallbackHelperT&lt;gazebo::msgs::Selection&gt;::HandleData(std::string const&amp;, boost::function&lt;void (unsigned int)&gt;, unsigned int) (\n    this=0x10b7620, \n    _newdata=&quot;\\b\\355\\377\\377\\377\\017\\022\\022user_point_light_0\\030\\001&quot;, \n    _cb=..., _id=0)\n    at /home/ian/depot/gazebo/gazebo/transport/CallbackHelper.hh:144\n#14 0x00007ffff671f5e6 in gazebo::transport::Node::ProcessIncoming (\n    this=0x1099900) at /home/ian/depot/gazebo/gazebo/transport/Node.cc:216\n---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---\n#15 0x00007ffff6728adb in gazebo::transport::TopicManager::ProcessNodes (\n    this=0x7ffff7dd70c0 &lt;SingletonT&lt;gazebo::transport::TopicManager&gt;::GetInstance()::t&gt;, _onlyOut=_onlyOut@entry=false)\n    at /home/ian/depot/gazebo/gazebo/transport/TopicManager.cc:190\n#16 0x00007ffff67188c6 in gazebo::transport::ConnectionManager::RunUpdate (\n    this=this@entry=0x7ffff7dd6ec0 &lt;SingletonT&lt;gazebo::transport::ConnectionManager&gt;::GetInstance()::t&gt;)\n    at /home/ian/depot/gazebo/gazebo/transport/ConnectionManager.cc:276\n#17 0x00007ffff6718a65 in gazebo::transport::ConnectionManager::Run (\n    this=0x7ffff7dd6ec0 &lt;SingletonT&lt;gazebo::transport::ConnectionManager&gt;::GetInstance()::t&gt;)\n    at /home/ian/depot/gazebo/gazebo/transport/ConnectionManager.cc:307\n#18 0x00007ffff3756a4a in ?? ()\n   from /usr/lib/x86_64-linux-gnu/libboost_thread.so.1.54.0\n#19 0x00007ffff3969182 in start_thread (arg=0x7fffd7539700)\n    at pthread_create.c:312\n#20 0x00007ffff6cf6efd in clone ()\n    at ../sysdeps/unix/sysv/linux/x86_64/clone.S:111\n(gdb) \n</pre></div>", "type": "rendered"}, "created_on": "2015-03-18T19:22:53.408965+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": null, "type": "issue_comment", "id": 16573786}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1523/comments/16573827.json"}, "html": {"href": "#!/osrf/gazebo/issues/1523#comment-16573827"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1523.json"}}, "type": "issue", "id": 1523, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "gzclient crashes when a light is selected on another client"}, "content": {"raw": "crash reproducible on gazebo5 and default\n\nhaven't tried versions < gazebo4", "markup": "markdown", "html": "<p>crash reproducible on gazebo5 and default</p>\n<p>haven't tried versions &lt; gazebo4</p>", "type": "rendered"}, "created_on": "2015-03-18T19:24:47.203411+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": null, "type": "issue_comment", "id": 16573827}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1523/comments/16579707.json"}, "html": {"href": "#!/osrf/gazebo/issues/1523#comment-16579707"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1523.json"}}, "type": "issue", "id": 1523, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "gzclient crashes when a light is selected on another client"}, "content": {"raw": "After this crash, if you start a new gzclient, gzserver crashes with this:\n\n~~~\ngzserver: /usr/include/boost/smart_ptr/shared_ptr.hpp:653: typename boost::detail::sp_member_access<T>::type boost::shared_ptr<T>::operator->() const [with T = gazebo::transport::Connection; typename boost::detail::sp_member_access<T>::type = gazebo::transport::Connection*]: Assertion `px != 0' failed.\n\nProgram received signal SIGABRT, Aborted.\n[Switching to Thread 0x7fffdc259700 (LWP 1302)]\n0x00007ffff49c9cc9 in __GI_raise (sig=sig@entry=6) at ../nptl/sysdeps/unix/sysv/linux/raise.c:56\n56\t../nptl/sysdeps/unix/sysv/linux/raise.c: No such file or directory.\n(gdb) bt\n#0  0x00007ffff49c9cc9 in __GI_raise (sig=sig@entry=6) at ../nptl/sysdeps/unix/sysv/linux/raise.c:56\n#1  0x00007ffff49cd0d8 in __GI_abort () at abort.c:89\n#2  0x00007ffff49c2b86 in __assert_fail_base (fmt=0x7ffff4b143d0 \"%s%s%s:%u: %s%sAssertion `%s' failed.\\n%n\", \n    assertion=assertion@entry=0x42afa9 \"px != 0\", file=file@entry=0x42a658 \"/usr/include/boost/smart_ptr/shared_ptr.hpp\", \n    line=line@entry=653, \n    function=function@entry=0x42da40 <boost::shared_ptr<gazebo::transport::Connection>::operator->() const::__PRETTY_FUNCTION__> \"typename boost::detail::sp_member_access<T>::type boost::shared_ptr<T>::operator->() const [with T = gazebo::transport::Connection; typename boost::detail::sp_member_access<T>::type = gazebo::transpor\"...) at assert.c:92\n#3  0x00007ffff49c2c32 in __GI___assert_fail (assertion=0x42afa9 \"px != 0\", file=0x42a658 \"/usr/include/boost/smart_ptr/shared_ptr.hpp\", \n    line=653, \n    function=0x42da40 <boost::shared_ptr<gazebo::transport::Connection>::operator->() const::__PRETTY_FUNCTION__> \"typename boost::detail::sp_member_access<T>::type boost::shared_ptr<T>::operator->() const [with T = gazebo::transport::Connection; typename boost::detail::sp_member_access<T>::type = gazebo::transpor\"...) at assert.c:101\n#4  0x0000000000420a23 in boost::shared_ptr<gazebo::transport::Connection>::operator-> (this=<optimized out>)\n    at /usr/include/boost/smart_ptr/shared_ptr.hpp:653\n#5  0x0000000000423e17 in operator-> (this=0x7fff8c0015d8) at /usr/include/boost/thread/lock_types.hpp:331\n#6  gazebo::Master::RunOnce (this=this@entry=0x6c7e00) at /home/louisep/gazebo_source/gazebo/gazebo/Master.cc:367\n#7  0x0000000000423e80 in gazebo::Master::Run (this=0x6c7e00) at /home/louisep/gazebo_source/gazebo/gazebo/Master.cc:334\n#8  0x00007ffff5c0ca4a in ?? () from /usr/lib/x86_64-linux-gnu/libboost_thread.so.1.54.0\n#9  0x00007ffff6a4a182 in start_thread (arg=0x7fffdc259700) at pthread_create.c:312\n#10 0x00007ffff4a8e00d in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:111\n~~~", "markup": "markdown", "html": "<p>After this crash, if you start a new gzclient, gzserver crashes with this:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">gzserver</span><span class=\"o\">:</span> <span class=\"o\">/</span><span class=\"nt\">usr</span><span class=\"o\">/</span><span class=\"nt\">include</span><span class=\"o\">/</span><span class=\"nt\">boost</span><span class=\"o\">/</span><span class=\"nt\">smart_ptr</span><span class=\"o\">/</span><span class=\"nt\">shared_ptr</span><span class=\"p\">.</span><span class=\"nc\">hpp</span><span class=\"p\">:</span><span class=\"nd\">653</span><span class=\"o\">:</span> <span class=\"nt\">typename</span> <span class=\"nt\">boost</span><span class=\"p\">::</span><span class=\"nd\">detail</span><span class=\"p\">::</span><span class=\"nd\">sp_member_access</span><span class=\"o\">&lt;</span><span class=\"nt\">T</span><span class=\"o\">&gt;</span><span class=\"p\">::</span><span class=\"nd\">type</span> <span class=\"nt\">boost</span><span class=\"p\">::</span><span class=\"nd\">shared_ptr</span><span class=\"o\">&lt;</span><span class=\"nt\">T</span><span class=\"o\">&gt;</span><span class=\"p\">::</span><span class=\"nd\">operator-</span><span class=\"o\">&gt;()</span> <span class=\"nt\">const</span> <span class=\"cp\">[</span><span class=\"k\">with</span> <span class=\"n\">T</span><span class=\"o\"> =</span> <span class=\"nx\">gazebo</span><span class=\"nl\">::transport::Connection</span><span class=\"p\">;</span> <span class=\"nx\">typename</span> <span class=\"nx\">boost</span><span class=\"nl\">::detail::sp_member_access</span><span class=\"o\">&lt;</span><span class=\"nx\">T</span><span class=\"o\">&gt;</span><span class=\"nl\">::type</span> <span class=\"o\">=</span> <span class=\"nx\">gazebo</span><span class=\"nl\">::transport::Connection</span><span class=\"o\">*</span><span class=\"cp\">]</span><span class=\"o\">:</span> <span class=\"nt\">Assertion</span> <span class=\"err\">`</span><span class=\"nt\">px</span> <span class=\"o\">!=</span> <span class=\"nt\">0</span><span class=\"s1\">&#39; failed.</span>\n\n<span class=\"s1\">Program received signal SIGABRT, Aborted.</span>\n<span class=\"cp\">[</span><span class=\"nx\">Switching</span> <span class=\"k\">to</span> <span class=\"k\">Thread</span> <span class=\"mh\">0x7fffdc259700</span> <span class=\"p\">(</span><span class=\"nx\">LWP</span> <span class=\"mi\">1302</span><span class=\"p\">)</span><span class=\"cp\">]</span><span class=\"s1\"></span>\n<span class=\"s1\">0x00007ffff49c9cc9 in __GI_raise (sig=sig@entry=6) at ../nptl/sysdeps/unix/sysv/linux/raise.c:56</span>\n<span class=\"s1\">56  ../nptl/sysdeps/unix/sysv/linux/raise.c: No such file or directory.</span>\n<span class=\"s1\">(gdb) bt</span>\n<span class=\"s1\">#0  0x00007ffff49c9cc9 in __GI_raise (sig=sig@entry=6) at ../nptl/sysdeps/unix/sysv/linux/raise.c:56</span>\n<span class=\"s1\">#1  0x00007ffff49cd0d8 in __GI_abort () at abort.c:89</span>\n<span class=\"s1\">#2  0x00007ffff49c2b86 in __assert_fail_base (fmt=0x7ffff4b143d0 &quot;%s%s%s:%u: %s%sAssertion `%s&#39;</span> <span class=\"nt\">failed</span><span class=\"o\">.</span><span class=\"err\">\\</span><span class=\"nt\">n</span><span class=\"o\">%</span><span class=\"nt\">n</span><span class=\"s2\">&quot;, </span>\n<span class=\"s2\">    assertion=assertion@entry=0x42afa9 &quot;</span><span class=\"nt\">px</span> <span class=\"o\">!=</span> <span class=\"nt\">0</span><span class=\"s2\">&quot;, file=file@entry=0x42a658 &quot;</span><span class=\"o\">/</span><span class=\"nt\">usr</span><span class=\"o\">/</span><span class=\"nt\">include</span><span class=\"o\">/</span><span class=\"nt\">boost</span><span class=\"o\">/</span><span class=\"nt\">smart_ptr</span><span class=\"o\">/</span><span class=\"nt\">shared_ptr</span><span class=\"p\">.</span><span class=\"nc\">hpp</span><span class=\"s2\">&quot;, </span>\n<span class=\"s2\">    line=line@entry=653, </span>\n<span class=\"s2\">    function=function@entry=0x42da40 &lt;boost::shared_ptr&lt;gazebo::transport::Connection&gt;::operator-&gt;() const::__PRETTY_FUNCTION__&gt; &quot;</span><span class=\"nt\">typename</span> <span class=\"nt\">boost</span><span class=\"p\">::</span><span class=\"nd\">detail</span><span class=\"p\">::</span><span class=\"nd\">sp_member_access</span><span class=\"o\">&lt;</span><span class=\"nt\">T</span><span class=\"o\">&gt;</span><span class=\"p\">::</span><span class=\"nd\">type</span> <span class=\"nt\">boost</span><span class=\"p\">::</span><span class=\"nd\">shared_ptr</span><span class=\"o\">&lt;</span><span class=\"nt\">T</span><span class=\"o\">&gt;</span><span class=\"p\">::</span><span class=\"nd\">operator-</span><span class=\"o\">&gt;()</span> <span class=\"nt\">const</span> <span class=\"cp\">[</span><span class=\"k\">with</span> <span class=\"n\">T</span><span class=\"o\"> =</span> <span class=\"nx\">gazebo</span><span class=\"nl\">::transport::Connection</span><span class=\"p\">;</span> <span class=\"nx\">typename</span> <span class=\"nx\">boost</span><span class=\"nl\">::detail::sp_member_access</span><span class=\"o\">&lt;</span><span class=\"nx\">T</span><span class=\"o\">&gt;</span><span class=\"nl\">::type</span> <span class=\"o\">=</span> <span class=\"nx\">gazebo</span><span class=\"nl\">::transpor</span><span class=\"s2\">&quot;...) at assert.c:92</span>\n<span class=\"s2\">#3  0x00007ffff49c2c32 in __GI___assert_fail (assertion=0x42afa9 &quot;</span><span class=\"nx\">px</span> <span class=\"o\">!=</span> <span class=\"mi\">0</span><span class=\"s2\">&quot;, file=0x42a658 &quot;</span><span class=\"p\">/</span><span class=\"nx\">usr</span><span class=\"p\">/</span><span class=\"nb\">include</span><span class=\"p\">/</span><span class=\"nx\">boost</span><span class=\"p\">/</span><span class=\"nx\">smart_ptr</span><span class=\"p\">/</span><span class=\"nx\">shared_ptr.hpp</span><span class=\"s2\">&quot;, </span>\n<span class=\"s2\">    line=653, </span>\n<span class=\"s2\">    function=0x42da40 &lt;boost::shared_ptr&lt;gazebo::transport::Connection&gt;::operator-&gt;() const::__PRETTY_FUNCTION__&gt; &quot;</span><span class=\"nx\">typename</span> <span class=\"nx\">boost</span><span class=\"nl\">::detail::sp_member_access</span><span class=\"o\">&lt;</span><span class=\"nx\">T</span><span class=\"o\">&gt;</span><span class=\"nl\">::type</span> <span class=\"nx\">boost</span><span class=\"nl\">::shared_ptr</span><span class=\"o\">&lt;</span><span class=\"nx\">T</span><span class=\"o\">&gt;</span><span class=\"nl\">::operator</span><span class=\"o\">-&gt;</span><span class=\"p\">()</span> <span class=\"nx\">const</span> <span class=\"err\">[</span><span class=\"k\">with</span> <span class=\"n\">T</span><span class=\"o\"> =</span> <span class=\"nx\">gazebo</span><span class=\"nl\">::transport::Connection</span><span class=\"p\">;</span> <span class=\"nx\">typename</span> <span class=\"nx\">boost</span><span class=\"nl\">::detail::sp_member_access</span><span class=\"o\">&lt;</span><span class=\"nx\">T</span><span class=\"o\">&gt;</span><span class=\"nl\">::type</span> <span class=\"o\">=</span> <span class=\"nx\">gazebo</span><span class=\"nl\">::transpor</span><span class=\"s2\">&quot;...) at assert.c:101</span>\n<span class=\"s2\">#4  0x0000000000420a23 in boost::shared_ptr&lt;gazebo::transport::Connection&gt;::operator-&gt; (this=&lt;optimized out&gt;)</span>\n<span class=\"s2\">    at /usr/include/boost/smart_ptr/shared_ptr.hpp:653</span>\n<span class=\"s2\">#5  0x0000000000423e17 in operator-&gt; (this=0x7fff8c0015d8) at /usr/include/boost/thread/lock_types.hpp:331</span>\n<span class=\"s2\">#6  gazebo::Master::RunOnce (this=this@entry=0x6c7e00) at /home/louisep/gazebo_source/gazebo/gazebo/Master.cc:367</span>\n<span class=\"s2\">#7  0x0000000000423e80 in gazebo::Master::Run (this=0x6c7e00) at /home/louisep/gazebo_source/gazebo/gazebo/Master.cc:334</span>\n<span class=\"s2\">#8  0x00007ffff5c0ca4a in ?? () from /usr/lib/x86_64-linux-gnu/libboost_thread.so.1.54.0</span>\n<span class=\"s2\">#9  0x00007ffff6a4a182 in start_thread (arg=0x7fffdc259700) at pthread_create.c:312</span>\n<span class=\"s2\">#10 0x00007ffff4a8e00d in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:111</span>\n</pre></div>", "type": "rendered"}, "created_on": "2015-03-19T01:47:43.285336+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": null, "type": "issue_comment", "id": 16579707}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1523/comments/16615485.json"}, "html": {"href": "#!/osrf/gazebo/issues/1523#comment-16615485"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1523.json"}}, "type": "issue", "id": 1523, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "gzclient crashes when a light is selected on another client"}, "content": {"raw": "I can reproduce this problem if I select a model, too.", "markup": "markdown", "html": "<p>I can reproduce this problem if I select a model, too.</p>", "type": "rendered"}, "created_on": "2015-03-19T17:33:17.231151+00:00", "user": {"display_name": "Jackie K", "uuid": "{e3d60b62-b7c7-4863-b9b9-cdae9f123cec}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3d60b62-b7c7-4863-b9b9-cdae9f123cec%7D"}, "html": {"href": "https://bitbucket.org/%7Be3d60b62-b7c7-4863-b9b9-cdae9f123cec%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/ea011fa2919d4bd4568b32b440eda779d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJK-0.png"}}, "nickname": "jacquelinekay", "type": "user", "account_id": "557058:f56c822f-f75c-4665-80f9-6e7764893b9c"}, "updated_on": null, "type": "issue_comment", "id": 16615485}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1523/comments/16615845.json"}, "html": {"href": "#!/osrf/gazebo/issues/1523#comment-16615845"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1523.json"}}, "type": "issue", "id": 1523, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "gzclient crashes when a light is selected on another client"}, "content": {"raw": "I just tested on the gazebo_4.1 branch (dd2000cf18d5), and this crash doesn't happen there.", "markup": "markdown", "html": "<p>I just tested on the gazebo_4.1 branch (<a href=\"#!/osrf/gazebo/commits/dd2000cf18d5\" rel=\"nofollow\" class=\"ap-connect-link\">dd2000cf18d5</a>), and this crash doesn't happen there.</p>", "type": "rendered"}, "created_on": "2015-03-19T17:51:41.945993+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2015-03-19T17:53:26.988566+00:00", "type": "issue_comment", "id": 16615845}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1523/comments/16615888.json"}, "html": {"href": "#!/osrf/gazebo/issues/1523#comment-16615888"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1523.json"}}, "type": "issue", "id": 1523, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "gzclient crashes when a light is selected on another client"}, "content": {"raw": "I'm not sure exactly how OGRE HardwareBuffers work, but... It seems to me that when two gzclients try to render the selection wirebox, the Ogre HardwareVertexBuffers for each gzclient are colliding in memory.\n\nA possible workaround for this bug is to change the logic in `GLWidget` such that a gzclient doesn't act on selection messages if they originated from a different gzclient. Right now, because of the `~/selection` topic, both gzclients will attempt to render the selection wirebox if a selection message is fired.\n\nCurrently GLWidget sets up publishers and subscribers to the same topic (lines 128-134):\n\n```\n  // Subscribes to selection messages.\n  this->selectionSub = this->node->Subscribe(\"~/selection\",\n      &GLWidget::OnSelectionMsg, this);\n\n  // Publishes information about user selections.\n  this->selectionPub =\n    this->node->Advertise<msgs::Selection>(\"~/selection\");\n```\n\n@nkoenig, what do you think about renaming the topic that `GLWidget` subscribes to `~/selection/server`? ", "markup": "markdown", "html": "<p>I'm not sure exactly how OGRE HardwareBuffers work, but... It seems to me that when two gzclients try to render the selection wirebox, the Ogre HardwareVertexBuffers for each gzclient are colliding in memory.</p>\n<p>A possible workaround for this bug is to change the logic in <code>GLWidget</code> such that a gzclient doesn't act on selection messages if they originated from a different gzclient. Right now, because of the <code>~/selection</code> topic, both gzclients will attempt to render the selection wirebox if a selection message is fired.</p>\n<p>Currently GLWidget sets up publishers and subscribers to the same topic (lines 128-134):</p>\n<div class=\"codehilite\"><pre><span></span>  <span class=\"o\">//</span> <span class=\"nt\">Subscribes</span> <span class=\"nt\">to</span> <span class=\"nt\">selection</span> <span class=\"nt\">messages</span><span class=\"o\">.</span>\n  <span class=\"nt\">this-</span><span class=\"o\">&gt;</span><span class=\"nt\">selectionSub</span> <span class=\"o\">=</span> <span class=\"nt\">this-</span><span class=\"o\">&gt;</span><span class=\"nt\">node-</span><span class=\"o\">&gt;</span><span class=\"nt\">Subscribe</span><span class=\"o\">(</span><span class=\"s2\">&quot;~/selection&quot;</span><span class=\"o\">,</span>\n      <span class=\"o\">&amp;</span><span class=\"nt\">GLWidget</span><span class=\"p\">::</span><span class=\"nd\">OnSelectionMsg</span><span class=\"o\">,</span> <span class=\"nt\">this</span><span class=\"o\">);</span>\n\n  <span class=\"o\">//</span> <span class=\"nt\">Publishes</span> <span class=\"nt\">information</span> <span class=\"nt\">about</span> <span class=\"nt\">user</span> <span class=\"nt\">selections</span><span class=\"o\">.</span>\n  <span class=\"nt\">this-</span><span class=\"o\">&gt;</span><span class=\"nt\">selectionPub</span> <span class=\"o\">=</span>\n    <span class=\"nt\">this-</span><span class=\"o\">&gt;</span><span class=\"nt\">node-</span><span class=\"o\">&gt;</span><span class=\"nt\">Advertise</span><span class=\"o\">&lt;</span><span class=\"nt\">msgs</span><span class=\"p\">::</span><span class=\"nd\">Selection</span><span class=\"o\">&gt;(</span><span class=\"s2\">&quot;~/selection&quot;</span><span class=\"o\">);</span>\n</pre></div>\n\n\n<p>@nkoenig, what do you think about renaming the topic that <code>GLWidget</code> subscribes to <code>~/selection/server</code>? </p>", "type": "rendered"}, "created_on": "2015-03-19T17:54:14.853374+00:00", "user": {"display_name": "Jackie K", "uuid": "{e3d60b62-b7c7-4863-b9b9-cdae9f123cec}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3d60b62-b7c7-4863-b9b9-cdae9f123cec%7D"}, "html": {"href": "https://bitbucket.org/%7Be3d60b62-b7c7-4863-b9b9-cdae9f123cec%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/ea011fa2919d4bd4568b32b440eda779d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJK-0.png"}}, "nickname": "jacquelinekay", "type": "user", "account_id": "557058:f56c822f-f75c-4665-80f9-6e7764893b9c"}, "updated_on": "2015-03-19T18:13:22.600267+00:00", "type": "issue_comment", "id": 16615888}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1523/comments/16617126.json"}, "html": {"href": "#!/osrf/gazebo/issues/1523#comment-16617126"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1523.json"}}, "type": "issue", "id": 1523, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "gzclient crashes when a light is selected on another client"}, "content": {"raw": "Implemented possible workaround in [PR1533](#!/osrf/gazebo/pull-request/1533/subscribe-to-selection-server-in-glwidget)", "markup": "markdown", "html": "<p>Implemented possible workaround in <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/pull-request/1533/subscribe-to-selection-server-in-glwidget\" rel=\"nofollow\">PR1533</a></p>", "type": "rendered"}, "created_on": "2015-03-19T18:47:17.882673+00:00", "user": {"display_name": "Jackie K", "uuid": "{e3d60b62-b7c7-4863-b9b9-cdae9f123cec}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3d60b62-b7c7-4863-b9b9-cdae9f123cec%7D"}, "html": {"href": "https://bitbucket.org/%7Be3d60b62-b7c7-4863-b9b9-cdae9f123cec%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/ea011fa2919d4bd4568b32b440eda779d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJK-0.png"}}, "nickname": "jacquelinekay", "type": "user", "account_id": "557058:f56c822f-f75c-4665-80f9-6e7764893b9c"}, "updated_on": null, "type": "issue_comment", "id": 16617126}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1523/comments/16617287.json"}, "html": {"href": "#!/osrf/gazebo/issues/1523#comment-16617287"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1523.json"}}, "type": "issue", "id": 1523, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "gzclient crashes when a light is selected on another client"}, "content": {"raw": "For reference, selection publishing to `~/selection` was implemented in pull request #1318.", "markup": "markdown", "html": "<p>For reference, selection publishing to <code>~/selection</code> was implemented in <a href=\"#!/osrf/gazebo/pull-requests/1318/publish-model-selection\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #1318</a>.</p>", "type": "rendered"}, "created_on": "2015-03-19T18:56:56.428946+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 16617287}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1523/comments/30610718.json"}, "html": {"href": "#!/osrf/gazebo/issues/1523#comment-30610718"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1523.json"}}, "type": "issue", "id": 1523, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "gzclient crashes when a light is selected on another client"}, "content": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "created_on": "2016-09-14T19:23:18.643723+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": null, "type": "issue_comment", "id": 30610718}], "page": 1, "size": 9}