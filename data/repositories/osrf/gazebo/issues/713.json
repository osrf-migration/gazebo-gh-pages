{"priority": "trivial", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/713/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/713.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/713/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/713/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/713/valgrind-gazebo-common-modeldatabase"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/713/vote"}}, "reporter": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "title": "[valgrind] gazebo::common::ModelDatabase::GetModelPath (Conditional jump uninitialised value)", "component": null, "votes": 0, "watches": 3, "content": {"raw": "While running valgrind in gazebo testing suite: Sensor_TEST.UpdateAfterReset\r\n\r\n```\r\n\r\n==31786== Thread 3:\r\n==31786== Conditional jump or move depends on uninitialised value(s)\r\n==31786==    at 0xC06A4E0: inflateReset2 (in /lib/x86_64-linux-gnu/libz.so.1.2.3.4)\r\n==31786==    by 0xC06A5D8: inflateInit2_ (in /lib/x86_64-linux-gnu/libz.so.1.2.3.4)\r\n==31786==    by 0x80A76D3: boost::iostreams::detail::zlib_base::do_init(boost::iostreams::zlib_params const&, bool, void* (*)(void*, unsigned int, unsigned int), void (*)(void*, void*), void*) (in /usr/lib/libboost_iostreams.so.1.46.1)\r\n==31786==    by 0x4F692C9: void boost::iostreams::detail::zlib_base::init<std::allocator<char> >(boost::iostreams::zlib_params const&, bool, boost::iostreams::detail::zlib_allocator<std::allocator<char>, boost::iostreams::detail::zlib_allocator_traits<std::allocator<char> >::type>&) (zlib.hpp:185)\r\n==31786==    by 0x4F681C0: boost::iostreams::detail::zlib_decompressor_impl<std::allocator<char> >::zlib_decompressor_impl(boost::iostreams::zlib_params const&) (zlib.hpp:365)\r\n==31786==    by 0x4F673BA: boost::iostreams::symmetric_filter<boost::iostreams::detail::zlib_decompressor_impl<std::allocator<char> >, std::allocator<char> >::impl::impl<boost::iostreams::zlib_params>(int, boost::iostreams::zlib_params const&) (in /home/jrivero/code/gazebo/build/gazebo/common/libgazebo_common.so.1.8.2)\r\n==31786==    by 0x4F667D7: boost::iostreams::symmetric_filter<boost::iostreams::detail::zlib_decompressor_impl<std::allocator<char> >, std::allocator<char> >::symmetric_filter<boost::iostreams::zlib_params>(int, boost::iostreams::zlib_params const&) (in /home/jrivero/code/gazebo/build/gazebo/common/libgazebo_common.so.1.8.2)\r\n==31786==    by 0x4F6566B: boost::iostreams::basic_zlib_decompressor<std::allocator<char> >::basic_zlib_decompressor(boost::iostreams::zlib_params const&, int) (zlib.hpp:416)\r\n==31786==    by 0x4F64597: boost::iostreams::basic_gzip_decompressor<std::allocator<char> >::basic_gzip_decompressor(int, int) (gzip.hpp:736)\r\n==31786==    by 0x4F60136: gazebo::common::ModelDatabase::GetModelPath(std::string const&, bool) (ModelDatabase.cc:488)\r\n==31786==    by 0x4F862D4: gazebo::common::SystemPaths::FindFileURI(std::string const&) (SystemPaths.cc:278)\r\n==31786==    by 0x4F5F698: gazebo::common::ModelDatabase::GetModelPath(std::string const&, bool) (ModelDatabase.cc:396)\r\n==31786==  Uninitialised value was created by a heap allocation\r\n==31786==    at 0x4C2B6CD: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)\r\n==31786==    by 0xC06A5B6: inflateInit2_ (in /lib/x86_64-linux-gnu/libz.so.1.2.3.4)\r\n==31786==    by 0x80A76D3: boost::iostreams::detail::zlib_base::do_init(boost::iostreams::zlib_params const&, bool, void* (*)(void*, unsigned int, unsigned int), void (*)(void*, void*), void*) (in /usr/lib/libboost_iostreams.so.1.46.1)\r\n==31786==    by 0x4F692C9: void boost::iostreams::detail::zlib_base::init<std::allocator<char> >(boost::iostreams::zlib_params const&, bool, boost::iostreams::detail::zlib_allocator<std::allocator<char>, boost::iostreams::detail::zlib_allocator_traits<std::allocator<char> >::type>&) (zlib.hpp:185)\r\n==31786==    by 0x4F681C0: boost::iostreams::detail::zlib_decompressor_impl<std::allocator<char> >::zlib_decompressor_impl(boost::iostreams::zlib_params const&) (zlib.hpp:365)\r\n==31786==    by 0x4F673BA: boost::iostreams::symmetric_filter<boost::iostreams::detail::zlib_decompressor_impl<std::allocator<char> >, std::allocator<char> >::impl::impl<boost::iostreams::zlib_params>(int, boost::iostreams::zlib_params const&) (in /home/jrivero/code/gazebo/build/gazebo/common/libgazebo_common.so.1.8.2)\r\n==31786==    by 0x4F667D7: boost::iostreams::symmetric_filter<boost::iostreams::detail::zlib_decompressor_impl<std::allocator<char> >, std::allocator<char> >::symmetric_filter<boost::iostreams::zlib_params>(int, boost::iostreams::zlib_params const&) (in /home/jrivero/code/gazebo/build/gazebo/common/libgazebo_common.so.1.8.2)\r\n==31786==    by 0x4F6566B: boost::iostreams::basic_zlib_decompressor<std::allocator<char> >::basic_zlib_decompressor(boost::iostreams::zlib_params const&, int) (zlib.hpp:416)\r\n==31786==    by 0x4F64597: boost::iostreams::basic_gzip_decompressor<std::allocator<char> >::basic_gzip_decompressor(int, int) (gzip.hpp:736)\r\n==31786==    by 0x4F60136: gazebo::common::ModelDatabase::GetModelPath(std::string const&, bool) (ModelDatabase.cc:488)\r\n==31786==    by 0x4F862D4: gazebo::common::SystemPaths::FindFileURI(std::string const&) (SystemPaths.cc:278)\r\n==31786==    by 0x4F5F698: gazebo::common::ModelDatabase::GetModelPath(std::string const&, bool) (ModelDatabase.cc:396)\r\n```", "markup": "markdown", "html": "<p>While running valgrind in gazebo testing suite: Sensor_TEST.UpdateAfterReset</p>\n<div class=\"codehilite\"><pre><span></span>==31786== Thread 3:\n==31786== Conditional jump or move depends on uninitialised value(s)\n==31786==    at 0xC06A4E0: inflateReset2 (in /lib/x86_64-linux-gnu/libz.so.1.2.3.4)\n==31786==    by 0xC06A5D8: inflateInit2_ (in /lib/x86_64-linux-gnu/libz.so.1.2.3.4)\n==31786==    by 0x80A76D3: boost::iostreams::detail::zlib_base::do_init(boost::iostreams::zlib_params const&amp;, bool, void* (*)(void*, unsigned int, unsigned int), void (*)(void*, void*), void*) (in /usr/lib/libboost_iostreams.so.1.46.1)\n==31786==    by 0x4F692C9: void boost::iostreams::detail::zlib_base::init&lt;std::allocator&lt;char&gt; &gt;(boost::iostreams::zlib_params const&amp;, bool, boost::iostreams::detail::zlib_allocator&lt;std::allocator&lt;char&gt;, boost::iostreams::detail::zlib_allocator_traits&lt;std::allocator&lt;char&gt; &gt;::type&gt;&amp;) (zlib.hpp:185)\n==31786==    by 0x4F681C0: boost::iostreams::detail::zlib_decompressor_impl&lt;std::allocator&lt;char&gt; &gt;::zlib_decompressor_impl(boost::iostreams::zlib_params const&amp;) (zlib.hpp:365)\n==31786==    by 0x4F673BA: boost::iostreams::symmetric_filter&lt;boost::iostreams::detail::zlib_decompressor_impl&lt;std::allocator&lt;char&gt; &gt;, std::allocator&lt;char&gt; &gt;::impl::impl&lt;boost::iostreams::zlib_params&gt;(int, boost::iostreams::zlib_params const&amp;) (in /home/jrivero/code/gazebo/build/gazebo/common/libgazebo_common.so.1.8.2)\n==31786==    by 0x4F667D7: boost::iostreams::symmetric_filter&lt;boost::iostreams::detail::zlib_decompressor_impl&lt;std::allocator&lt;char&gt; &gt;, std::allocator&lt;char&gt; &gt;::symmetric_filter&lt;boost::iostreams::zlib_params&gt;(int, boost::iostreams::zlib_params const&amp;) (in /home/jrivero/code/gazebo/build/gazebo/common/libgazebo_common.so.1.8.2)\n==31786==    by 0x4F6566B: boost::iostreams::basic_zlib_decompressor&lt;std::allocator&lt;char&gt; &gt;::basic_zlib_decompressor(boost::iostreams::zlib_params const&amp;, int) (zlib.hpp:416)\n==31786==    by 0x4F64597: boost::iostreams::basic_gzip_decompressor&lt;std::allocator&lt;char&gt; &gt;::basic_gzip_decompressor(int, int) (gzip.hpp:736)\n==31786==    by 0x4F60136: gazebo::common::ModelDatabase::GetModelPath(std::string const&amp;, bool) (ModelDatabase.cc:488)\n==31786==    by 0x4F862D4: gazebo::common::SystemPaths::FindFileURI(std::string const&amp;) (SystemPaths.cc:278)\n==31786==    by 0x4F5F698: gazebo::common::ModelDatabase::GetModelPath(std::string const&amp;, bool) (ModelDatabase.cc:396)\n==31786==  Uninitialised value was created by a heap allocation\n==31786==    at 0x4C2B6CD: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)\n==31786==    by 0xC06A5B6: inflateInit2_ (in /lib/x86_64-linux-gnu/libz.so.1.2.3.4)\n==31786==    by 0x80A76D3: boost::iostreams::detail::zlib_base::do_init(boost::iostreams::zlib_params const&amp;, bool, void* (*)(void*, unsigned int, unsigned int), void (*)(void*, void*), void*) (in /usr/lib/libboost_iostreams.so.1.46.1)\n==31786==    by 0x4F692C9: void boost::iostreams::detail::zlib_base::init&lt;std::allocator&lt;char&gt; &gt;(boost::iostreams::zlib_params const&amp;, bool, boost::iostreams::detail::zlib_allocator&lt;std::allocator&lt;char&gt;, boost::iostreams::detail::zlib_allocator_traits&lt;std::allocator&lt;char&gt; &gt;::type&gt;&amp;) (zlib.hpp:185)\n==31786==    by 0x4F681C0: boost::iostreams::detail::zlib_decompressor_impl&lt;std::allocator&lt;char&gt; &gt;::zlib_decompressor_impl(boost::iostreams::zlib_params const&amp;) (zlib.hpp:365)\n==31786==    by 0x4F673BA: boost::iostreams::symmetric_filter&lt;boost::iostreams::detail::zlib_decompressor_impl&lt;std::allocator&lt;char&gt; &gt;, std::allocator&lt;char&gt; &gt;::impl::impl&lt;boost::iostreams::zlib_params&gt;(int, boost::iostreams::zlib_params const&amp;) (in /home/jrivero/code/gazebo/build/gazebo/common/libgazebo_common.so.1.8.2)\n==31786==    by 0x4F667D7: boost::iostreams::symmetric_filter&lt;boost::iostreams::detail::zlib_decompressor_impl&lt;std::allocator&lt;char&gt; &gt;, std::allocator&lt;char&gt; &gt;::symmetric_filter&lt;boost::iostreams::zlib_params&gt;(int, boost::iostreams::zlib_params const&amp;) (in /home/jrivero/code/gazebo/build/gazebo/common/libgazebo_common.so.1.8.2)\n==31786==    by 0x4F6566B: boost::iostreams::basic_zlib_decompressor&lt;std::allocator&lt;char&gt; &gt;::basic_zlib_decompressor(boost::iostreams::zlib_params const&amp;, int) (zlib.hpp:416)\n==31786==    by 0x4F64597: boost::iostreams::basic_gzip_decompressor&lt;std::allocator&lt;char&gt; &gt;::basic_gzip_decompressor(int, int) (gzip.hpp:736)\n==31786==    by 0x4F60136: gazebo::common::ModelDatabase::GetModelPath(std::string const&amp;, bool) (ModelDatabase.cc:488)\n==31786==    by 0x4F862D4: gazebo::common::SystemPaths::FindFileURI(std::string const&amp;) (SystemPaths.cc:278)\n==31786==    by 0x4F5F698: gazebo::common::ModelDatabase::GetModelPath(std::string const&amp;, bool) (ModelDatabase.cc:396)\n</pre></div>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "all", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/225575.json"}}}, "edited_on": null, "created_on": "2013-06-01T00:34:12.025866+00:00", "milestone": null, "updated_on": "2016-09-14T19:41:46.086309+00:00", "type": "issue", "id": 713}