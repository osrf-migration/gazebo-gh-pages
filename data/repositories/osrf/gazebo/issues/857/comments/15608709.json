{"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/857/comments/15608709.json"}, "html": {"href": "#!/osrf/gazebo/issues/857#comment-15608709"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/857.json"}}, "type": "issue", "id": 857, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Fix Screw Joint in Simbody"}, "content": {"raw": "seg-fault reproduced, seems to segfault in [`limitForce[0]->setBounds(...)` call](#!/osrf/gazebo/src/c0f25dc3b23b178e265483dc0f426a27dbd11705/gazebo/physics/simbody/SimbodyScrewJoint.cc?at=default#cl-320)\n\nwith following bt\n\n~~~\nProgram received signal SIGSEGV, Segmentation fault.\n[Switching to Thread 0x7fff76ffd700 (LWP 1809)]\n0x00007fffe9252996 in SimTK::Force::MobilityLinearStop::setBounds(SimTK::State&, double, double) const ()\n   from /home/hsu/local_simbody_3.4/lib/x86_64-linux-gnu/libSimTKsimbody.so.3.4\n(gdb) bt\n#0  0x00007fffe9252996 in SimTK::Force::MobilityLinearStop::setBounds(SimTK::State&, double, double) const ()\n   from /home/hsu/local_simbody_3.4/lib/x86_64-linux-gnu/libSimTKsimbody.so.3.4\n#1  0x00007ffff155dc38 in gazebo::physics::SimbodyScrewJoint::SetHighStop(unsigned int, gazebo::math::Angle const&) ()\n   from /home/hsu/projects/gazebo_pr_1404/build_release/gazebo/physics/simbody/libgazebo_physics_simbody.so.5\n#2  0x00007ffff7644a4a in gazebo::physics::Joint::Init() ()\n   from /home/hsu/projects/gazebo_pr_1404/build_release/gazebo/physics/libgazebo_physics.so.5\n#3  0x00007ffff154d7fa in gazebo::physics::SimbodyModel::Init() ()\n   from /home/hsu/projects/gazebo_pr_1404/build_release/gazebo/physics/simbody/libgazebo_physics_simbody.so.5\n#4  0x00007ffff7696191 in gazebo::physics::World::ProcessFactoryMsgs() ()\n   from /home/hsu/projects/gazebo_pr_1404/build_release/gazebo/physics/libgazebo_physics.so.5\n#5  0x00007ffff7696d51 in gazebo::physics::World::ProcessMessages() ()\n   from /home/hsu/projects/gazebo_pr_1404/build_release/gazebo/physics/libgazebo_physics.so.5\n#6  0x00007ffff7697d28 in gazebo::physics::World::Step() ()\n   from /home/hsu/projects/gazebo_pr_1404/build_release/gazebo/physics/libgazebo_physics.so.5\n#7  0x00007ffff7698155 in gazebo::physics::World::RunLoop() ()\n   from /home/hsu/projects/gazebo_pr_1404/build_release/gazebo/physics/libgazebo_physics.so.5\n#8  0x00007ffff5b43a4a in ?? ()\n   from /usr/lib/x86_64-linux-gnu/libboost_thread.so.1.54.0\n#9  0x00007ffff676d182 in start_thread (arg=0x7fff76ffd700)\n    at pthread_create.c:312\n#10 0x00007ffff479100d in clone ()\n    at ../sysdeps/unix/sysv/linux/x86_64/clone.S:111\n(gdb)\n~~~\n\nneed to recompile everything with debug symbols for more useful bt.", "markup": "markdown", "html": "<p>seg-fault reproduced, seems to segfault in <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/c0f25dc3b23b178e265483dc0f426a27dbd11705/gazebo/physics/simbody/SimbodyScrewJoint.cc?at=default#cl-320\" rel=\"nofollow\"><code>limitForce[0]-&gt;setBounds(...)</code> call</a></p>\n<p>with following bt</p>\n<div class=\"codehilite\"><pre><span></span>Program received signal SIGSEGV, Segmentation fault.\n[Switching to Thread 0x7fff76ffd700 (LWP 1809)]\n0x00007fffe9252996 in SimTK::Force::MobilityLinearStop::setBounds(SimTK::State&amp;, double, double) const ()\n   from /home/hsu/local_simbody_3.4/lib/x86_64-linux-gnu/libSimTKsimbody.so.3.4\n(gdb) bt\n#0  0x00007fffe9252996 in SimTK::Force::MobilityLinearStop::setBounds(SimTK::State&amp;, double, double) const ()\n   from /home/hsu/local_simbody_3.4/lib/x86_64-linux-gnu/libSimTKsimbody.so.3.4\n#1  0x00007ffff155dc38 in gazebo::physics::SimbodyScrewJoint::SetHighStop(unsigned int, gazebo::math::Angle const&amp;) ()\n   from /home/hsu/projects/gazebo_pr_1404/build_release/gazebo/physics/simbody/libgazebo_physics_simbody.so.5\n#2  0x00007ffff7644a4a in gazebo::physics::Joint::Init() ()\n   from /home/hsu/projects/gazebo_pr_1404/build_release/gazebo/physics/libgazebo_physics.so.5\n#3  0x00007ffff154d7fa in gazebo::physics::SimbodyModel::Init() ()\n   from /home/hsu/projects/gazebo_pr_1404/build_release/gazebo/physics/simbody/libgazebo_physics_simbody.so.5\n#4  0x00007ffff7696191 in gazebo::physics::World::ProcessFactoryMsgs() ()\n   from /home/hsu/projects/gazebo_pr_1404/build_release/gazebo/physics/libgazebo_physics.so.5\n#5  0x00007ffff7696d51 in gazebo::physics::World::ProcessMessages() ()\n   from /home/hsu/projects/gazebo_pr_1404/build_release/gazebo/physics/libgazebo_physics.so.5\n#6  0x00007ffff7697d28 in gazebo::physics::World::Step() ()\n   from /home/hsu/projects/gazebo_pr_1404/build_release/gazebo/physics/libgazebo_physics.so.5\n#7  0x00007ffff7698155 in gazebo::physics::World::RunLoop() ()\n   from /home/hsu/projects/gazebo_pr_1404/build_release/gazebo/physics/libgazebo_physics.so.5\n#8  0x00007ffff5b43a4a in ?? ()\n   from /usr/lib/x86_64-linux-gnu/libboost_thread.so.1.54.0\n#9  0x00007ffff676d182 in start_thread (arg=0x7fff76ffd700)\n    at pthread_create.c:312\n#10 0x00007ffff479100d in clone ()\n    at ../sysdeps/unix/sysv/linux/x86_64/clone.S:111\n(gdb)\n</pre></div>\n\n\n<p>need to recompile everything with debug symbols for more useful bt.</p>", "type": "rendered"}, "created_on": "2015-02-10T23:43:05.637111+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": null, "type": "issue_comment", "id": 15608709}