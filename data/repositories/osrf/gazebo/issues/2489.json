{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2489/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2489.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2489/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2489/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2489/collada-loader-failing-at-loading-blender"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2489/vote"}}, "reporter": {"display_name": "Lucas MCKENNA", "uuid": "{04c81126-5e89-43cc-a7a1-0e15a3bda5c1}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B04c81126-5e89-43cc-a7a1-0e15a3bda5c1%7D"}, "html": {"href": "https://bitbucket.org/%7B04c81126-5e89-43cc-a7a1-0e15a3bda5c1%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:34645962-e4f3-4c98-a6cf-8cf3008dac93/0b7e8a08-facb-4681-bb8e-63662b0e0356/128"}}, "nickname": "lukes3315", "type": "user", "account_id": "557058:34645962-e4f3-4c98-a6cf-8cf3008dac93"}, "title": "Collada loader failing at loading Blender exported dae rigged model with motion tracking animation attached to it.", "component": {"name": "common", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/138866.json"}}}, "votes": 1, "watches": 2, "content": {"raw": "Hey,\r\n\r\nI am trying to load a `dae` mesh in gazebo with attached animation frames to it.\r\nI use blender to export my mesh & animations into the collada format\r\nto input into Gazebo.\r\n\r\nIf I do not attach any skeleton to the model, Gazebo loads it up fine, the problems\r\nonly start occurring when I attach a skeleton & animation to it.\r\n\r\nGazebo fails and crashes gazebo with this error:\r\n\r\n```\r\n0   libgazebo_common.9.dylib      \t0x000000010444fa2f std::__1::vector<gazebo::common::NodeTransform, std::__1::allocator<gazebo::common::NodeTransform> >::vector(std::__1::vector<gazebo::common::NodeTransform, std::__1::allocator<gazebo::common::NodeTransform> > const&) + 33\r\n1   libgazebo_common.9.dylib      \t0x000000010444e7f7 gazebo::common::SkeletonNode::GetTransforms() + 21\r\n2   libgazebo_common.9.dylib      \t0x000000010440944d gazebo::common::ColladaLoader::LoadAnimationSet(TiXmlElement*, gazebo::common::Skeleton*) + 5723\r\n3   libgazebo_common.9.dylib      \t0x000000010440463b gazebo::common::ColladaLoader::LoadController(TiXmlElement*, TiXmlElement*, ignition::math::v4::Matrix4<double> const&, gazebo::common::Mesh*) + 183\r\n4   libgazebo_common.9.dylib      \t0x0000000104403327 gazebo::common::ColladaLoader::LoadNode(TiXmlElement*, gazebo::common::Mesh*, ignition::math::v4::Matrix4<double> const&) + 2733\r\n5   libgazebo_common.9.dylib      \t0x0000000104402973 gazebo::common::ColladaLoader::LoadNode(TiXmlElement*, gazebo::common::Mesh*, ignition::math::v4::Matrix4<double> const&) + 249\r\n6   libgazebo_common.9.dylib      \t0x000000010440271a gazebo::common::ColladaLoader::LoadScene(gazebo::common::Mesh*) + 354\r\n7   libgazebo_common.9.dylib      \t0x00000001044024cf gazebo::common::ColladaLoader::Load(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&) + 1857\r\n8   libgazebo_common.9.dylib      \t0x000000010442d5b8 gazebo::common::MeshManager::Load(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&) + 1522\r\n9   libgazebo_rendering.9.dylib   \t0x0000000103f56eaa gazebo::rendering::Visual::InsertMesh(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, bool) + 72\r\n10  libgazebo_rendering.9.dylib   \t0x0000000103f53262 gazebo::rendering::Visual::AttachMesh(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, bool, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&) + 538\r\n11  libgazebo_rendering.9.dylib   \t0x0000000103f4f899 gazebo::rendering::Visual::Load() + 877\r\n12  libgazebo_rendering.9.dylib   \t0x0000000103f4d57d gazebo::rendering::Visual::Load(std::__1::shared_ptr<sdf::Element>) + 113\r\n13  libgazebo_gui.9.dylib         \t0x00000001032a80a9 gazebo::gui::ModelMaker::CreateModelFromSDF(std::__1::shared_ptr<sdf::Element>) + 2571\r\n14  libgazebo_gui.9.dylib         \t0x00000001032a6376 gazebo::gui::ModelMaker::Init() + 2162\r\n15  libgazebo_gui.9.dylib         \t0x00000001032a5969 gazebo::gui::ModelMaker::InitFromFile(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&) + 585\r\n16  libgazebo_gui.9.dylib         \t0x0000000103233de0 gazebo::gui::GLWidget::OnCreateEntity(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&) + 716\r\n17  libgazebo_gui.9.dylib         \t0x000000010324fac2 void gazebo::event::EventT<void (std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >)>::Signal<char [6], std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > >(char const (&) [6], std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&) + 248\r\n18  libgazebo_gui.9.dylib         \t0x000000010324ce85 gazebo::gui::InsertModelWidget::OnModelSelection(QTreeWidgetItem*, int) + 503\r\n19  org.qt-project.QtCore         \t0x00000001072a419e QMetaObject::activate(QObject*, int, int, void**) + 2334\r\n20  org.qt-project.QtWidgets      \t0x00000001068c017d 0x1065b8000 + 3178877\r\n21  org.qt-project.QtCore         \t0x00000001072a419e QMetaObject::activate(QObject*, int, int, void**) + 2334\r\n22  org.qt-project.QtWidgets      \t0x0000000106838790 QAbstractItemView::mouseReleaseEvent(QMouseEvent*) + 848\r\n23  org.qt-project.QtWidgets      \t0x00000001068a8339 QTreeView::mouseReleaseEvent(QMouseEvent*) + 345\r\n24  org.qt-project.QtWidgets      \t0x00000001066024c0 QWidget::event(QEvent*) + 448\r\n```\r\n\r\nThe `dae` model & animation load up fine if I use Apple's Preview.\r\n\r\nAny ideas?\r\n\r\nCheers.", "markup": "markdown", "html": "<p>Hey,</p>\n<p>I am trying to load a <code>dae</code> mesh in gazebo with attached animation frames to it.\nI use blender to export my mesh &amp; animations into the collada format\nto input into Gazebo.</p>\n<p>If I do not attach any skeleton to the model, Gazebo loads it up fine, the problems\nonly start occurring when I attach a skeleton &amp; animation to it.</p>\n<p>Gazebo fails and crashes gazebo with this error:</p>\n<div class=\"codehilite\"><pre><span></span>0   libgazebo_common.9.dylib        0x000000010444fa2f std::__1::vector&lt;gazebo::common::NodeTransform, std::__1::allocator&lt;gazebo::common::NodeTransform&gt; &gt;::vector(std::__1::vector&lt;gazebo::common::NodeTransform, std::__1::allocator&lt;gazebo::common::NodeTransform&gt; &gt; const&amp;) + 33\n1   libgazebo_common.9.dylib        0x000000010444e7f7 gazebo::common::SkeletonNode::GetTransforms() + 21\n2   libgazebo_common.9.dylib        0x000000010440944d gazebo::common::ColladaLoader::LoadAnimationSet(TiXmlElement*, gazebo::common::Skeleton*) + 5723\n3   libgazebo_common.9.dylib        0x000000010440463b gazebo::common::ColladaLoader::LoadController(TiXmlElement*, TiXmlElement*, ignition::math::v4::Matrix4&lt;double&gt; const&amp;, gazebo::common::Mesh*) + 183\n4   libgazebo_common.9.dylib        0x0000000104403327 gazebo::common::ColladaLoader::LoadNode(TiXmlElement*, gazebo::common::Mesh*, ignition::math::v4::Matrix4&lt;double&gt; const&amp;) + 2733\n5   libgazebo_common.9.dylib        0x0000000104402973 gazebo::common::ColladaLoader::LoadNode(TiXmlElement*, gazebo::common::Mesh*, ignition::math::v4::Matrix4&lt;double&gt; const&amp;) + 249\n6   libgazebo_common.9.dylib        0x000000010440271a gazebo::common::ColladaLoader::LoadScene(gazebo::common::Mesh*) + 354\n7   libgazebo_common.9.dylib        0x00000001044024cf gazebo::common::ColladaLoader::Load(std::__1::basic_string&lt;char, std::__1::char_traits&lt;char&gt;, std::__1::allocator&lt;char&gt; &gt; const&amp;) + 1857\n8   libgazebo_common.9.dylib        0x000000010442d5b8 gazebo::common::MeshManager::Load(std::__1::basic_string&lt;char, std::__1::char_traits&lt;char&gt;, std::__1::allocator&lt;char&gt; &gt; const&amp;) + 1522\n9   libgazebo_rendering.9.dylib     0x0000000103f56eaa gazebo::rendering::Visual::InsertMesh(std::__1::basic_string&lt;char, std::__1::char_traits&lt;char&gt;, std::__1::allocator&lt;char&gt; &gt; const&amp;, std::__1::basic_string&lt;char, std::__1::char_traits&lt;char&gt;, std::__1::allocator&lt;char&gt; &gt; const&amp;, bool) + 72\n10  libgazebo_rendering.9.dylib     0x0000000103f53262 gazebo::rendering::Visual::AttachMesh(std::__1::basic_string&lt;char, std::__1::char_traits&lt;char&gt;, std::__1::allocator&lt;char&gt; &gt; const&amp;, std::__1::basic_string&lt;char, std::__1::char_traits&lt;char&gt;, std::__1::allocator&lt;char&gt; &gt; const&amp;, bool, std::__1::basic_string&lt;char, std::__1::char_traits&lt;char&gt;, std::__1::allocator&lt;char&gt; &gt; const&amp;) + 538\n11  libgazebo_rendering.9.dylib     0x0000000103f4f899 gazebo::rendering::Visual::Load() + 877\n12  libgazebo_rendering.9.dylib     0x0000000103f4d57d gazebo::rendering::Visual::Load(std::__1::shared_ptr&lt;sdf::Element&gt;) + 113\n13  libgazebo_gui.9.dylib           0x00000001032a80a9 gazebo::gui::ModelMaker::CreateModelFromSDF(std::__1::shared_ptr&lt;sdf::Element&gt;) + 2571\n14  libgazebo_gui.9.dylib           0x00000001032a6376 gazebo::gui::ModelMaker::Init() + 2162\n15  libgazebo_gui.9.dylib           0x00000001032a5969 gazebo::gui::ModelMaker::InitFromFile(std::__1::basic_string&lt;char, std::__1::char_traits&lt;char&gt;, std::__1::allocator&lt;char&gt; &gt; const&amp;) + 585\n16  libgazebo_gui.9.dylib           0x0000000103233de0 gazebo::gui::GLWidget::OnCreateEntity(std::__1::basic_string&lt;char, std::__1::char_traits&lt;char&gt;, std::__1::allocator&lt;char&gt; &gt; const&amp;, std::__1::basic_string&lt;char, std::__1::char_traits&lt;char&gt;, std::__1::allocator&lt;char&gt; &gt; const&amp;) + 716\n17  libgazebo_gui.9.dylib           0x000000010324fac2 void gazebo::event::EventT&lt;void (std::__1::basic_string&lt;char, std::__1::char_traits&lt;char&gt;, std::__1::allocator&lt;char&gt; &gt;, std::__1::basic_string&lt;char, std::__1::char_traits&lt;char&gt;, std::__1::allocator&lt;char&gt; &gt;)&gt;::Signal&lt;char [6], std::__1::basic_string&lt;char, std::__1::char_traits&lt;char&gt;, std::__1::allocator&lt;char&gt; &gt; &gt;(char const (&amp;) [6], std::__1::basic_string&lt;char, std::__1::char_traits&lt;char&gt;, std::__1::allocator&lt;char&gt; &gt; const&amp;) + 248\n18  libgazebo_gui.9.dylib           0x000000010324ce85 gazebo::gui::InsertModelWidget::OnModelSelection(QTreeWidgetItem*, int) + 503\n19  org.qt-project.QtCore           0x00000001072a419e QMetaObject::activate(QObject*, int, int, void**) + 2334\n20  org.qt-project.QtWidgets        0x00000001068c017d 0x1065b8000 + 3178877\n21  org.qt-project.QtCore           0x00000001072a419e QMetaObject::activate(QObject*, int, int, void**) + 2334\n22  org.qt-project.QtWidgets        0x0000000106838790 QAbstractItemView::mouseReleaseEvent(QMouseEvent*) + 848\n23  org.qt-project.QtWidgets        0x00000001068a8339 QTreeView::mouseReleaseEvent(QMouseEvent*) + 345\n24  org.qt-project.QtWidgets        0x00000001066024c0 QWidget::event(QEvent*) + 448\n</pre></div>\n\n\n<p>The <code>dae</code> model &amp; animation load up fine if I use Apple's Preview.</p>\n<p>Any ideas?</p>\n<p>Cheers.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "9.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242746.json"}}}, "edited_on": null, "created_on": "2018-06-29T19:00:52.104627+00:00", "milestone": null, "updated_on": "2018-10-03T22:49:56.826388+00:00", "type": "issue", "id": 2489}