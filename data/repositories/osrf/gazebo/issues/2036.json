{"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2036/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2036.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2036/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2036/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2036/imusensor-update-connection-is-broken"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2036/vote"}}, "reporter": {"display_name": "Jackie K", "uuid": "{e3d60b62-b7c7-4863-b9b9-cdae9f123cec}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3d60b62-b7c7-4863-b9b9-cdae9f123cec%7D"}, "html": {"href": "https://bitbucket.org/%7Be3d60b62-b7c7-4863-b9b9-cdae9f123cec%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/ea011fa2919d4bd4568b32b440eda779d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJK-0.png"}}, "nickname": "jacquelinekay", "type": "user", "account_id": "557058:f56c822f-f75c-4665-80f9-6e7764893b9c"}, "title": "ImuSensor update connection is broken", "component": {"name": "sensors", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122877.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "I'm trying to write a plugin to connect to ImuSensor updates. It appears that the update callback does not get called until a subscriber subscribes on the topic published by the ImuSensor. This bug has a fairly low-effort workaround, but it is inconsistent with usage of ConnectUpdated for other sensor types (e.g. RaySensor), which do not require a subscriber to connect to sensor updates.\r\n\r\nSteps to reproduce:\r\n\r\n1. Build the ImuSensorPlugin and uncomment the printout in the callback. You'll also need to change \"GetLinearAcceleration\" to \"LinearAcceleration\" #!/osrf/gazebo/src/5c00af97a238e565c7fcdddd712139d19a3ca289/plugins/ImuSensorPlugin.cc?at=default&fileviewer=file-view-default\r\n2. Attach the plugin to a model in the world (see this [world file](https://gist.github.com/jacquelinekay/f550080b1bb6aacc87ffdd2e3b600a1d) for an example).\r\n3. Open gazebo with --verbose. The debug messages from the callback will not appear.\r\n4. Open \"Topic Visualization\" and visualize the IMU topic. The debug messages will start coming in.\r\n\r\nTested on the 7.0.0 debian in Xenial and the nightly debian.", "markup": "markdown", "html": "<p>I'm trying to write a plugin to connect to ImuSensor updates. It appears that the update callback does not get called until a subscriber subscribes on the topic published by the ImuSensor. This bug has a fairly low-effort workaround, but it is inconsistent with usage of ConnectUpdated for other sensor types (e.g. RaySensor), which do not require a subscriber to connect to sensor updates.</p>\n<p>Steps to reproduce:</p>\n<ol>\n<li>Build the ImuSensorPlugin and uncomment the printout in the callback. You'll also need to change \"GetLinearAcceleration\" to \"LinearAcceleration\" <a href=\"#!/osrf/gazebo/src/5c00af97a238e565c7fcdddd712139d19a3ca289/plugins/ImuSensorPlugin.cc?at=default&amp;fileviewer=file-view-default\" rel=\"nofollow\" class=\"ap-connect-link\">#!/osrf/gazebo/src/5c00af97a238e565c7fcdddd712139d19a3ca289/plugins/ImuSensorPlugin.cc?at=default&amp;fileviewer=file-view-default</a></li>\n<li>Attach the plugin to a model in the world (see this <a data-is-external-link=\"true\" href=\"https://gist.github.com/jacquelinekay/f550080b1bb6aacc87ffdd2e3b600a1d\" rel=\"nofollow\">world file</a> for an example).</li>\n<li>Open gazebo with --verbose. The debug messages from the callback will not appear.</li>\n<li>Open \"Topic Visualization\" and visualize the IMU topic. The debug messages will start coming in.</li>\n</ol>\n<p>Tested on the 7.0.0 debian in Xenial and the nightly debian.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "all", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/225575.json"}}}, "edited_on": null, "created_on": "2016-08-25T16:07:58.967740+00:00", "milestone": null, "updated_on": "2016-09-14T19:19:58.763169+00:00", "type": "issue", "id": 2036}