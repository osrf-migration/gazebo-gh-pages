{"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1204/comments/10523700.json"}, "html": {"href": "#!/osrf/gazebo/issues/1204#comment-10523700"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1204.json"}}, "type": "issue", "id": 1204, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Trusty: remote_endpoint: Transport endpoint is not connected"}, "content": {"raw": "If there is an existing gzserver process, then the test passes; otherwise it fails for me. Here's the gdb console output and backtrace for the failure:\n~~~\n$ gdb tools/UNIT_gz_TEST \n...\n(gdb) r\nStarting program: build/tools/UNIT_gz_TEST \n[Thread debugging using libthread_db enabled]\nUsing host libthread_db library \"/lib/x86_64-linux-gnu/libthread_db.so.1\".\n[New Thread 0x7fffe7492700 (LWP 32342)]\n[==========] Running 9 tests from 1 test case.\n[----------] Global test environment set-up.\n[----------] 9 tests from gzTest\n[ RUN      ] gzTest.Alive\n[       OK ] gzTest.Alive (148 ms)\n[ RUN      ] gzTest.Joint\n[New Thread 0x7fffe69c8700 (LWP 32350)]\n[Msg] Waiting for master.\n[Err] [Connection.cc:787] Getting remote endpoint failed\nterminate called after throwing an instance of 'boost::exception_detail::clone_impl<boost::exception_detail::error_info_injector<boost::system::system_error> >'\n  what():  remote_endpoint: Transport endpoint is not connected\n\nProgram received signal SIGABRT, Aborted.\n[Switching to Thread 0x7fffe69c8700 (LWP 32350)]\n0x00007ffff5c41f79 in __GI_raise (sig=sig@entry=6) at ../nptl/sysdeps/unix/sysv/linux/raise.c:56\n56\t../nptl/sysdeps/unix/sysv/linux/raise.c: No such file or directory.\n~~~\n~~~\n(gdb) thread apply all bt\n\nThread 3 (Thread 0x7fffe69c8700 (LWP 32350)):\n#0  0x00007ffff5c41f79 in __GI_raise (sig=sig@entry=6) at ../nptl/sysdeps/unix/sysv/linux/raise.c:56\n#1  0x00007ffff5c45388 in __GI_abort () at abort.c:89\n#2  0x00007ffff62476b5 in __gnu_cxx::__verbose_terminate_handler() () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#3  0x00007ffff6245836 in ?? () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#4  0x00007ffff6245863 in std::terminate() () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#5  0x00007ffff6245aa2 in __cxa_throw () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#6  0x00007ffff731fbc8 in boost::throw_exception<boost::system::system_error> (e=...) at /usr/include/boost/throw_exception.hpp:67\n#7  0x00007ffff731fc82 in boost::asio::detail::do_throw_error (err=..., location=location@entry=0x7ffff73430b7 \"remote_endpoint\")\n    at /usr/include/boost/asio/detail/impl/throw_error.ipp:38\n#8  0x00007ffff7321a83 in throw_error (location=0x7ffff73430b7 \"remote_endpoint\", err=...) at /usr/include/boost/asio/detail/throw_error.hpp:42\n#9  boost::asio::basic_socket<boost::asio::ip::tcp, boost::asio::stream_socket_service<boost::asio::ip::tcp> >::remote_endpoint (\n    this=<optimized out>) at /usr/include/boost/asio/basic_socket.hpp:1426\n#10 0x00007ffff731457a in gazebo::transport::Connection::OnConnect (this=0x699dd0, _error=...)\n    at gazebo/transport/Connection.cc:848\n#11 0x00007ffff7310a08 in operator() (a2=..., a1=..., p=<optimized out>, this=0x7fffe69c7b50)\n    at /usr/include/boost/bind/mem_fn_template.hpp:280\n#12 operator()<boost::_mfi::mf2<void, gazebo::transport::Connection, const boost::system::error_code&, boost::asio::ip::basic_resolver_iterator<boost::asio::ip::tcp> >, boost::_bi::list1<const boost::system::error_code&> > (a=<synthetic pointer>, f=..., this=0x7fffe69c7b60)\n    at /usr/include/boost/bind/bind.hpp:392\n#13 operator()<boost::system::error_code> (a1=..., this=0x7fffe69c7b50) at /usr/include/boost/bind/bind_template.hpp:47\n#14 operator() (this=0x7fffe69c7b50) at /usr/include/boost/asio/detail/bind_handler.hpp:47\n#15 asio_handler_invoke<boost::asio::detail::binder1<boost::_bi::bind_t<void, boost::_mfi::mf2<void, gazebo::transport::Connection, boost::system::error_code const&, boost::asio::ip::basic_resolver_iterator<boost::asio::ip::tcp> >, boost::_bi::list3<boost::_bi::value<gazebo::transport::Connection*>, boost::arg<1> (*)(), boost::_bi::value<boost::asio::ip::basic_resolver_iterator<boost::asio::ip::tcp> > > >, boost::system::error_code> > (function=<error reading variable: access outside bounds of object referenced via synthetic pointer>)\n    at /usr/include/boost/asio/handler_invoke_hook.hpp:64\n#16 boost_asio_handler_invoke_helpers::invoke<boost::asio::detail::binder1<boost::_bi::bind_t<void, boost::_mfi::mf2<void, gazebo::transport::Connection, boost::system::error_code const&, boost::asio::ip::basic_resolver_iterator<boost::asio::ip::tcp> >, boost::_bi::list3<boost::_bi::value<gazebo::transport::Connection*>, boost::arg<1> (*)(), boost::_bi::value<boost::asio::ip::basic_resolver_iterator<boost::asio::ip::tcp> > > >, boost::system::error_code>, boost::_bi::bind_t<void, boost::_mfi::mf2<void, gazebo::transport::Connection, boost::system::error_code const&, boost::asio::ip::basic_resolver_iterator<boost::asio::ip::tcp> >, boost::_bi::list3<boost::_bi::value<gazebo::transport::Connection*>, boost::arg<1> (*)(), boost::_bi::value<boost::asio::ip::basic_resolver_iterator<boost::asio::ip::tcp> > > > > (function=..., context=...)\n    at /usr/include/boost/asio/detail/handler_invoke_helpers.hpp:37\n#17 0x00007ffff731bed2 in asio_handler_invoke<boost::asio::detail::binder1<boost::_bi::bind_t<void, boost::_mfi::mf2<void, gazebo::transport::Connection, boost::system::error_code const&, boost::asio::ip::basic_resolver_iterator<boost::asio::ip::tcp> >, boost::_bi::list3<boost::_bi::value<gazebo::transport::Connection*>, boost::arg<1> (*)(), boost::_bi::value<boost::asio::ip::basic_resolver_iterator<boost::asio::ip::tcp> > > >, boost::system::error_code>, boost::_bi::bind_t<void, boost::_mfi::mf2<void, gazebo::transport::Connection, boost::system::error_code const&, boost::asio::ip::basic_resolver_iterator<boost::asio::ip::tcp> >, boost::_bi::list3<boost::_bi::value<gazebo::transport::Connection*>, boost::arg<1> (*)(), boost::_bi::value<boost::asio::ip::basic_resolver_iterator<boost::asio::ip::tcp> > > >, boost::system::error_code> (\n    this_handler=0x7fffe69c7bd0, function=...) at /usr/include/boost/asio/detail/bind_handler.hpp:88\n#18 invoke<boost::asio::detail::binder1<boost::_bi::bind_t<void, boost::_mfi::mf2<void, gazebo::transport::Connection, boost::system::error_code const&, boost::asio::ip::basic_resolver_iterator<boost::asio::ip::tcp> >, boost::_bi::list3<boost::_bi::value<gazebo::transport::Connection*>, boost::arg<1> (*)(), boost::_bi::value<boost::asio::ip::basic_resolver_iterator<boost::asio::ip::tcp> > > >, boost::system::error_code>, boost::asio::detail::binder1<boost::_bi::bind_t<void, boost::_mfi::mf2<void, gazebo::transport::Connection, boost::system::error_code const&, boost::asio::ip::basic_resolver_iterator<boost::asio::ip::tcp> >, boost::_bi::list3<boost::_bi::value<gazebo::transport::Connection*>, boost::arg<1> (*)(), boost::_bi::value<boost::asio::ip::basic_resolver_iterator<boost::asio::ip::tcp> > > >, boost::system::error_code> > (context=..., \n    function=...) at /usr/include/boost/asio/detail/handler_invoke_helpers.hpp:37\n#19 boost::asio::detail::reactive_socket_connect_op<boost::asio::ip::tcp, boost::_bi::bind_t<void, boost::_mfi::mf2<void, gazebo::transport::Con---Type <return> to continue, or q <return> to quit---\nnection, boost::system::error_code const&, boost::asio::ip::basic_resolver_iterator<boost::asio::ip::tcp> >, boost::_bi::list3<boost::_bi::value<gazebo::transport::Connection*>, boost::arg<1> (*)(), boost::_bi::value<boost::asio::ip::basic_resolver_iterator<boost::asio::ip::tcp> > > > >::do_complete (owner=0x69a590, base=<optimized out>) at /usr/include/boost/asio/detail/reactive_socket_connect_op.hpp:100\n#20 0x00007ffff731e448 in complete (bytes_transferred=0, ec=..., owner=..., this=<optimized out>)\n    at /usr/include/boost/asio/detail/task_io_service_operation.hpp:37\n#21 boost::asio::detail::epoll_reactor::descriptor_state::do_complete (owner=0x69a590, base=0x69c510, ec=..., \n    bytes_transferred=<optimized out>) at /usr/include/boost/asio/detail/impl/epoll_reactor.ipp:651\n#22 0x00007ffff7320a6e in complete (bytes_transferred=29, ec=..., owner=..., this=0x69c510)\n    at /usr/include/boost/asio/detail/task_io_service_operation.hpp:37\n#23 do_run_one (ec=..., this_thread=..., lock=..., this=0x69a590) at /usr/include/boost/asio/detail/impl/task_io_service.ipp:384\n#24 boost::asio::detail::task_io_service::run (this=0x69a590, ec=...) at /usr/include/boost/asio/detail/impl/task_io_service.ipp:153\n#25 0x00007ffff732fad6 in boost::asio::io_service::run (this=0x69a520) at /usr/include/boost/asio/impl/io_service.ipp:59\n#26 0x00007ffff6910a4a in ?? () from /usr/lib/x86_64-linux-gnu/libboost_thread.so.1.54.0\n#27 0x00007ffff70dd182 in start_thread (arg=0x7fffe69c8700) at pthread_create.c:312\n#28 0x00007ffff5d0630d in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:111\n~~~\n~~~\nThread 2 (Thread 0x7fffe7492700 (LWP 32342)):\n#0  pthread_cond_wait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:185\n#1  0x00007ffff7b9721b in boost::condition_variable::wait (this=0x67dfc8, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73\n#2  0x00007ffff7b92116 in gazebo::common::ModelDatabase::UpdateModelCache (\n    this=0x7ffff7dd9a50 <SingletonT<gazebo::common::ModelDatabase>::GetInstance()::t>, _fetchImmediately=false)\n    at gazebo/common/ModelDatabase.cc:279\n#3  0x00007ffff6910a4a in ?? () from /usr/lib/x86_64-linux-gnu/libboost_thread.so.1.54.0\n#4  0x00007ffff70dd182 in start_thread (arg=0x7fffe7492700) at pthread_create.c:312\n#5  0x00007ffff5d0630d in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:111\n~~~\n~~~\nThread 1 (Thread 0x7ffff7f9e800 (LWP 32338)):\n#0  pthread_cond_timedwait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_timedwait.S:238\n#1  0x00007ffff7315138 in do_wait_until (timeout=..., m=..., this=0x699f38) at /usr/include/boost/thread/pthread/condition_variable.hpp:108\n#2  timed_wait (wait_until=..., m=..., this=0x699f38) at /usr/include/boost/thread/pthread/condition_variable_fwd.hpp:108\n#3  timed_wait<boost::date_time::subsecond_duration<boost::posix_time::time_duration, 1000l> > (wait_duration=..., m=..., this=0x699f38)\n    at /usr/include/boost/thread/pthread/condition_variable_fwd.hpp:123\n#4  gazebo::transport::Connection::Connect (this=0x699dd0, _host=..., _port=_port@entry=11345)\n    at gazebo/transport/Connection.cc:171\n#5  0x00007ffff732897b in gazebo::transport::ConnectionManager::Init (\n    this=this@entry=0x7ffff7560f80 <SingletonT<gazebo::transport::ConnectionManager>::GetInstance()::t>, _masterHost=..., \n    _masterPort=_masterPort@entry=11345, _timeoutIterations=_timeoutIterations@entry=30)\n    at gazebo/transport/ConnectionManager.cc:100\n#6  0x00007ffff733ee28 in gazebo::transport::init (_masterHost=..., _masterPort=_masterPort@entry=0, \n    _timeoutIterations=_timeoutIterations@entry=30) at gazebo/transport/TransportIface.cc:101\n#7  0x000000000040b5cb in init () at tools/gz_TEST.cc:108\n#8  0x000000000040f5b3 in gzTest_Joint_Test::TestBody (this=<optimized out>) at tools/gz_TEST.cc:202\n#9  0x0000000000442b23 in HandleSehExceptionsInMethodIfSupported<testing::Test, void> (location=0x44a3a9 \"the test body\", \n    method=<optimized out>, object=<optimized out>) at test/gtest/src/gtest.cc:2079\n#10 testing::internal::HandleExceptionsInMethodIfSupported<testing::Test, void> (object=object@entry=0x694f50, method=<optimized out>, \n    location=location@entry=0x44a3a9 \"the test body\") at test/gtest/src/gtest.cc:2115\n#11 0x0000000000434ff7 in testing::Test::Run (this=this@entry=0x694f50) at test/gtest/src/gtest.cc:2152\n#12 0x0000000000435096 in testing::TestInfo::Run (this=0x693300) at test/gtest/src/gtest.cc:2327\n#13 0x000000000043519d in testing::TestCase::Run (this=0x693110) at test/gtest/src/gtest.cc:2445\n#14 0x000000000043542d in testing::internal::UnitTestImpl::RunAllTests (this=0x692d70)\n    at test/gtest/src/gtest.cc:4316\n#15 0x000000000043571e in HandleSehExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool> (location=<optimized out>, \n    method=<optimized out>, object=<optimized out>) at test/gtest/src/gtest.cc:2079\n#16 HandleExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool> (\n    location=0x44b898 \"auxiliary test code (environments or event listeners)\", \n    method=(bool (testing::internal::UnitTestImpl::*)(testing::internal::UnitTestImpl * const)) 0x435210 <testing::internal::UnitTestImpl::RunAllTests()>, object=0x692d70) at test/gtest/src/gtest.cc:2115\n#17 testing::UnitTest::Run (this=<optimized out>) at test/gtest/src/gtest.cc:3930\n#18 0x000000000040a3df in RUN_ALL_TESTS () at test/gtest/include/gtest/gtest.h:2288\n#19 main (argc=1, argv=<optimized out>) at tools/gz_TEST.cc:669\n(gdb)\n~~~", "markup": "markdown", "html": "<p>If there is an existing gzserver process, then the test passes; otherwise it fails for me. Here's the gdb console output and backtrace for the failure:</p>\n<div class=\"codehilite\"><pre><span></span>$ gdb tools/UNIT_gz_TEST \n...\n<span class=\"o\">(</span>gdb<span class=\"o\">)</span> r\nStarting program: build/tools/UNIT_gz_TEST \n<span class=\"o\">[</span>Thread debugging using libthread_db enabled<span class=\"o\">]</span>\nUsing host libthread_db library <span class=\"s2\">&quot;/lib/x86_64-linux-gnu/libthread_db.so.1&quot;</span>.\n<span class=\"o\">[</span>New Thread 0x7fffe7492700 <span class=\"o\">(</span>LWP <span class=\"m\">32342</span><span class=\"o\">)]</span>\n<span class=\"o\">[==========]</span> Running <span class=\"m\">9</span> tests from <span class=\"m\">1</span> <span class=\"nb\">test</span> <span class=\"k\">case</span>.\n<span class=\"o\">[</span>----------<span class=\"o\">]</span> Global <span class=\"nb\">test</span> environment set-up.\n<span class=\"o\">[</span>----------<span class=\"o\">]</span> <span class=\"m\">9</span> tests from gzTest\n<span class=\"o\">[</span> RUN      <span class=\"o\">]</span> gzTest.Alive\n<span class=\"o\">[</span>       OK <span class=\"o\">]</span> gzTest.Alive <span class=\"o\">(</span><span class=\"m\">148</span> ms<span class=\"o\">)</span>\n<span class=\"o\">[</span> RUN      <span class=\"o\">]</span> gzTest.Joint\n<span class=\"o\">[</span>New Thread 0x7fffe69c8700 <span class=\"o\">(</span>LWP <span class=\"m\">32350</span><span class=\"o\">)]</span>\n<span class=\"o\">[</span>Msg<span class=\"o\">]</span> Waiting <span class=\"k\">for</span> master.\n<span class=\"o\">[</span>Err<span class=\"o\">]</span> <span class=\"o\">[</span>Connection.cc:787<span class=\"o\">]</span> Getting remote endpoint failed\nterminate called after throwing an instance of <span class=\"s1\">&#39;boost::exception_detail::clone_impl&lt;boost::exception_detail::error_info_injector&lt;boost::system::system_error&gt; &gt;&#39;</span>\n  what<span class=\"o\">()</span>:  remote_endpoint: Transport endpoint is not connected\n\nProgram received signal SIGABRT, Aborted.\n<span class=\"o\">[</span>Switching to Thread 0x7fffe69c8700 <span class=\"o\">(</span>LWP <span class=\"m\">32350</span><span class=\"o\">)]</span>\n0x00007ffff5c41f79 in __GI_raise <span class=\"o\">(</span><span class=\"nv\">sig</span><span class=\"o\">=</span>sig@entry<span class=\"o\">=</span><span class=\"m\">6</span><span class=\"o\">)</span> at ../nptl/sysdeps/unix/sysv/linux/raise.c:56\n<span class=\"m\">56</span>  ../nptl/sysdeps/unix/sysv/linux/raise.c: No such file or directory.\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span>(gdb) thread apply all bt\n\nThread 3 (Thread 0x7fffe69c8700 (LWP 32350)):\n#0  0x00007ffff5c41f79 in __GI_raise (sig=sig@entry=6) at ../nptl/sysdeps/unix/sysv/linux/raise.c:56\n#1  0x00007ffff5c45388 in __GI_abort () at abort.c:89\n#2  0x00007ffff62476b5 in __gnu_cxx::__verbose_terminate_handler() () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#3  0x00007ffff6245836 in ?? () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#4  0x00007ffff6245863 in std::terminate() () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#5  0x00007ffff6245aa2 in __cxa_throw () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#6  0x00007ffff731fbc8 in boost::throw_exception&lt;boost::system::system_error&gt; (e=...) at /usr/include/boost/throw_exception.hpp:67\n#7  0x00007ffff731fc82 in boost::asio::detail::do_throw_error (err=..., location=location@entry=0x7ffff73430b7 &quot;remote_endpoint&quot;)\n    at /usr/include/boost/asio/detail/impl/throw_error.ipp:38\n#8  0x00007ffff7321a83 in throw_error (location=0x7ffff73430b7 &quot;remote_endpoint&quot;, err=...) at /usr/include/boost/asio/detail/throw_error.hpp:42\n#9  boost::asio::basic_socket&lt;boost::asio::ip::tcp, boost::asio::stream_socket_service&lt;boost::asio::ip::tcp&gt; &gt;::remote_endpoint (\n    this=&lt;optimized out&gt;) at /usr/include/boost/asio/basic_socket.hpp:1426\n#10 0x00007ffff731457a in gazebo::transport::Connection::OnConnect (this=0x699dd0, _error=...)\n    at gazebo/transport/Connection.cc:848\n#11 0x00007ffff7310a08 in operator() (a2=..., a1=..., p=&lt;optimized out&gt;, this=0x7fffe69c7b50)\n    at /usr/include/boost/bind/mem_fn_template.hpp:280\n#12 operator()&lt;boost::_mfi::mf2&lt;void, gazebo::transport::Connection, const boost::system::error_code&amp;, boost::asio::ip::basic_resolver_iterator&lt;boost::asio::ip::tcp&gt; &gt;, boost::_bi::list1&lt;const boost::system::error_code&amp;&gt; &gt; (a=&lt;synthetic pointer&gt;, f=..., this=0x7fffe69c7b60)\n    at /usr/include/boost/bind/bind.hpp:392\n#13 operator()&lt;boost::system::error_code&gt; (a1=..., this=0x7fffe69c7b50) at /usr/include/boost/bind/bind_template.hpp:47\n#14 operator() (this=0x7fffe69c7b50) at /usr/include/boost/asio/detail/bind_handler.hpp:47\n#15 asio_handler_invoke&lt;boost::asio::detail::binder1&lt;boost::_bi::bind_t&lt;void, boost::_mfi::mf2&lt;void, gazebo::transport::Connection, boost::system::error_code const&amp;, boost::asio::ip::basic_resolver_iterator&lt;boost::asio::ip::tcp&gt; &gt;, boost::_bi::list3&lt;boost::_bi::value&lt;gazebo::transport::Connection*&gt;, boost::arg&lt;1&gt; (*)(), boost::_bi::value&lt;boost::asio::ip::basic_resolver_iterator&lt;boost::asio::ip::tcp&gt; &gt; &gt; &gt;, boost::system::error_code&gt; &gt; (function=&lt;error reading variable: access outside bounds of object referenced via synthetic pointer&gt;)\n    at /usr/include/boost/asio/handler_invoke_hook.hpp:64\n#16 boost_asio_handler_invoke_helpers::invoke&lt;boost::asio::detail::binder1&lt;boost::_bi::bind_t&lt;void, boost::_mfi::mf2&lt;void, gazebo::transport::Connection, boost::system::error_code const&amp;, boost::asio::ip::basic_resolver_iterator&lt;boost::asio::ip::tcp&gt; &gt;, boost::_bi::list3&lt;boost::_bi::value&lt;gazebo::transport::Connection*&gt;, boost::arg&lt;1&gt; (*)(), boost::_bi::value&lt;boost::asio::ip::basic_resolver_iterator&lt;boost::asio::ip::tcp&gt; &gt; &gt; &gt;, boost::system::error_code&gt;, boost::_bi::bind_t&lt;void, boost::_mfi::mf2&lt;void, gazebo::transport::Connection, boost::system::error_code const&amp;, boost::asio::ip::basic_resolver_iterator&lt;boost::asio::ip::tcp&gt; &gt;, boost::_bi::list3&lt;boost::_bi::value&lt;gazebo::transport::Connection*&gt;, boost::arg&lt;1&gt; (*)(), boost::_bi::value&lt;boost::asio::ip::basic_resolver_iterator&lt;boost::asio::ip::tcp&gt; &gt; &gt; &gt; &gt; (function=..., context=...)\n    at /usr/include/boost/asio/detail/handler_invoke_helpers.hpp:37\n#17 0x00007ffff731bed2 in asio_handler_invoke&lt;boost::asio::detail::binder1&lt;boost::_bi::bind_t&lt;void, boost::_mfi::mf2&lt;void, gazebo::transport::Connection, boost::system::error_code const&amp;, boost::asio::ip::basic_resolver_iterator&lt;boost::asio::ip::tcp&gt; &gt;, boost::_bi::list3&lt;boost::_bi::value&lt;gazebo::transport::Connection*&gt;, boost::arg&lt;1&gt; (*)(), boost::_bi::value&lt;boost::asio::ip::basic_resolver_iterator&lt;boost::asio::ip::tcp&gt; &gt; &gt; &gt;, boost::system::error_code&gt;, boost::_bi::bind_t&lt;void, boost::_mfi::mf2&lt;void, gazebo::transport::Connection, boost::system::error_code const&amp;, boost::asio::ip::basic_resolver_iterator&lt;boost::asio::ip::tcp&gt; &gt;, boost::_bi::list3&lt;boost::_bi::value&lt;gazebo::transport::Connection*&gt;, boost::arg&lt;1&gt; (*)(), boost::_bi::value&lt;boost::asio::ip::basic_resolver_iterator&lt;boost::asio::ip::tcp&gt; &gt; &gt; &gt;, boost::system::error_code&gt; (\n    this_handler=0x7fffe69c7bd0, function=...) at /usr/include/boost/asio/detail/bind_handler.hpp:88\n#18 invoke&lt;boost::asio::detail::binder1&lt;boost::_bi::bind_t&lt;void, boost::_mfi::mf2&lt;void, gazebo::transport::Connection, boost::system::error_code const&amp;, boost::asio::ip::basic_resolver_iterator&lt;boost::asio::ip::tcp&gt; &gt;, boost::_bi::list3&lt;boost::_bi::value&lt;gazebo::transport::Connection*&gt;, boost::arg&lt;1&gt; (*)(), boost::_bi::value&lt;boost::asio::ip::basic_resolver_iterator&lt;boost::asio::ip::tcp&gt; &gt; &gt; &gt;, boost::system::error_code&gt;, boost::asio::detail::binder1&lt;boost::_bi::bind_t&lt;void, boost::_mfi::mf2&lt;void, gazebo::transport::Connection, boost::system::error_code const&amp;, boost::asio::ip::basic_resolver_iterator&lt;boost::asio::ip::tcp&gt; &gt;, boost::_bi::list3&lt;boost::_bi::value&lt;gazebo::transport::Connection*&gt;, boost::arg&lt;1&gt; (*)(), boost::_bi::value&lt;boost::asio::ip::basic_resolver_iterator&lt;boost::asio::ip::tcp&gt; &gt; &gt; &gt;, boost::system::error_code&gt; &gt; (context=..., \n    function=...) at /usr/include/boost/asio/detail/handler_invoke_helpers.hpp:37\n#19 boost::asio::detail::reactive_socket_connect_op&lt;boost::asio::ip::tcp, boost::_bi::bind_t&lt;void, boost::_mfi::mf2&lt;void, gazebo::transport::Con---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---\nnection, boost::system::error_code const&amp;, boost::asio::ip::basic_resolver_iterator&lt;boost::asio::ip::tcp&gt; &gt;, boost::_bi::list3&lt;boost::_bi::value&lt;gazebo::transport::Connection*&gt;, boost::arg&lt;1&gt; (*)(), boost::_bi::value&lt;boost::asio::ip::basic_resolver_iterator&lt;boost::asio::ip::tcp&gt; &gt; &gt; &gt; &gt;::do_complete (owner=0x69a590, base=&lt;optimized out&gt;) at /usr/include/boost/asio/detail/reactive_socket_connect_op.hpp:100\n#20 0x00007ffff731e448 in complete (bytes_transferred=0, ec=..., owner=..., this=&lt;optimized out&gt;)\n    at /usr/include/boost/asio/detail/task_io_service_operation.hpp:37\n#21 boost::asio::detail::epoll_reactor::descriptor_state::do_complete (owner=0x69a590, base=0x69c510, ec=..., \n    bytes_transferred=&lt;optimized out&gt;) at /usr/include/boost/asio/detail/impl/epoll_reactor.ipp:651\n#22 0x00007ffff7320a6e in complete (bytes_transferred=29, ec=..., owner=..., this=0x69c510)\n    at /usr/include/boost/asio/detail/task_io_service_operation.hpp:37\n#23 do_run_one (ec=..., this_thread=..., lock=..., this=0x69a590) at /usr/include/boost/asio/detail/impl/task_io_service.ipp:384\n#24 boost::asio::detail::task_io_service::run (this=0x69a590, ec=...) at /usr/include/boost/asio/detail/impl/task_io_service.ipp:153\n#25 0x00007ffff732fad6 in boost::asio::io_service::run (this=0x69a520) at /usr/include/boost/asio/impl/io_service.ipp:59\n#26 0x00007ffff6910a4a in ?? () from /usr/lib/x86_64-linux-gnu/libboost_thread.so.1.54.0\n#27 0x00007ffff70dd182 in start_thread (arg=0x7fffe69c8700) at pthread_create.c:312\n#28 0x00007ffff5d0630d in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:111\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span>Thread 2 (Thread 0x7fffe7492700 (LWP 32342)):\n#0  pthread_cond_wait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:185\n#1  0x00007ffff7b9721b in boost::condition_variable::wait (this=0x67dfc8, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73\n#2  0x00007ffff7b92116 in gazebo::common::ModelDatabase::UpdateModelCache (\n    this=0x7ffff7dd9a50 &lt;SingletonT&lt;gazebo::common::ModelDatabase&gt;::GetInstance()::t&gt;, _fetchImmediately=false)\n    at gazebo/common/ModelDatabase.cc:279\n#3  0x00007ffff6910a4a in ?? () from /usr/lib/x86_64-linux-gnu/libboost_thread.so.1.54.0\n#4  0x00007ffff70dd182 in start_thread (arg=0x7fffe7492700) at pthread_create.c:312\n#5  0x00007ffff5d0630d in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:111\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span>Thread 1 (Thread 0x7ffff7f9e800 (LWP 32338)):\n#0  pthread_cond_timedwait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_timedwait.S:238\n#1  0x00007ffff7315138 in do_wait_until (timeout=..., m=..., this=0x699f38) at /usr/include/boost/thread/pthread/condition_variable.hpp:108\n#2  timed_wait (wait_until=..., m=..., this=0x699f38) at /usr/include/boost/thread/pthread/condition_variable_fwd.hpp:108\n#3  timed_wait&lt;boost::date_time::subsecond_duration&lt;boost::posix_time::time_duration, 1000l&gt; &gt; (wait_duration=..., m=..., this=0x699f38)\n    at /usr/include/boost/thread/pthread/condition_variable_fwd.hpp:123\n#4  gazebo::transport::Connection::Connect (this=0x699dd0, _host=..., _port=_port@entry=11345)\n    at gazebo/transport/Connection.cc:171\n#5  0x00007ffff732897b in gazebo::transport::ConnectionManager::Init (\n    this=this@entry=0x7ffff7560f80 &lt;SingletonT&lt;gazebo::transport::ConnectionManager&gt;::GetInstance()::t&gt;, _masterHost=..., \n    _masterPort=_masterPort@entry=11345, _timeoutIterations=_timeoutIterations@entry=30)\n    at gazebo/transport/ConnectionManager.cc:100\n#6  0x00007ffff733ee28 in gazebo::transport::init (_masterHost=..., _masterPort=_masterPort@entry=0, \n    _timeoutIterations=_timeoutIterations@entry=30) at gazebo/transport/TransportIface.cc:101\n#7  0x000000000040b5cb in init () at tools/gz_TEST.cc:108\n#8  0x000000000040f5b3 in gzTest_Joint_Test::TestBody (this=&lt;optimized out&gt;) at tools/gz_TEST.cc:202\n#9  0x0000000000442b23 in HandleSehExceptionsInMethodIfSupported&lt;testing::Test, void&gt; (location=0x44a3a9 &quot;the test body&quot;, \n    method=&lt;optimized out&gt;, object=&lt;optimized out&gt;) at test/gtest/src/gtest.cc:2079\n#10 testing::internal::HandleExceptionsInMethodIfSupported&lt;testing::Test, void&gt; (object=object@entry=0x694f50, method=&lt;optimized out&gt;, \n    location=location@entry=0x44a3a9 &quot;the test body&quot;) at test/gtest/src/gtest.cc:2115\n#11 0x0000000000434ff7 in testing::Test::Run (this=this@entry=0x694f50) at test/gtest/src/gtest.cc:2152\n#12 0x0000000000435096 in testing::TestInfo::Run (this=0x693300) at test/gtest/src/gtest.cc:2327\n#13 0x000000000043519d in testing::TestCase::Run (this=0x693110) at test/gtest/src/gtest.cc:2445\n#14 0x000000000043542d in testing::internal::UnitTestImpl::RunAllTests (this=0x692d70)\n    at test/gtest/src/gtest.cc:4316\n#15 0x000000000043571e in HandleSehExceptionsInMethodIfSupported&lt;testing::internal::UnitTestImpl, bool&gt; (location=&lt;optimized out&gt;, \n    method=&lt;optimized out&gt;, object=&lt;optimized out&gt;) at test/gtest/src/gtest.cc:2079\n#16 HandleExceptionsInMethodIfSupported&lt;testing::internal::UnitTestImpl, bool&gt; (\n    location=0x44b898 &quot;auxiliary test code (environments or event listeners)&quot;, \n    method=(bool (testing::internal::UnitTestImpl::*)(testing::internal::UnitTestImpl * const)) 0x435210 &lt;testing::internal::UnitTestImpl::RunAllTests()&gt;, object=0x692d70) at test/gtest/src/gtest.cc:2115\n#17 testing::UnitTest::Run (this=&lt;optimized out&gt;) at test/gtest/src/gtest.cc:3930\n#18 0x000000000040a3df in RUN_ALL_TESTS () at test/gtest/include/gtest/gtest.h:2288\n#19 main (argc=1, argv=&lt;optimized out&gt;) at tools/gz_TEST.cc:669\n(gdb)\n</pre></div>", "type": "rendered"}, "created_on": "2014-06-03T19:05:30.049303+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 10523700}