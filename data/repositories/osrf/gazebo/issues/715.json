{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/715/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/715.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/715/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/715/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/715/sensormanager_testinitremove-seg-fault"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/715/vote"}}, "reporter": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "title": "SensorManager_TEST.InitRemove seg-fault", "component": null, "votes": 0, "watches": 2, "content": {"raw": "From discussion of pull request #573:\r\n\r\nI have seen the SensorManager_TEST.InitRemove segfault several times on my machine in the same way. In the backtraces, the seg-fault occurs in the sensor update thread making physics calls, like ODEMultiRayShape::UpdateCallback and dSpaceCollide2, while another thread is calling the sensor destructor.\r\nGlancing at SensorManager,\r\n\r\n[SensorContainer::RemoveSensor](#!/osrf/gazebo/src/eacff658f3ec5e89577ad00a10dfc03b75b2f87b/gazebo/sensors/SensorManager.cc?at=default#cl-578) locks SensorContainer::mutex before erasing sensors\r\n\r\n[SensorContainer::RemoveSensors](#!/osrf/gazebo/src/eacff658f3ec5e89577ad00a10dfc03b75b2f87b/gazebo/sensors/SensorManager.cc?at=default#cl-619) does not lock anything before erasing sensors\r\n\r\n[SensorContainer::RunLoop](#!/osrf/gazebo/src/eacff658f3ec5e89577ad00a10dfc03b75b2f87b/gazebo/sensors/SensorManager.cc?at=default#cl-439) uses a variety of mutexes, but it does not lock SensorContainer::mutex during updates.\r\n\r\nMy guess is that we need a mutex lock to prevent sensor deletion during an update.\r\n\r\nBacktrace of selected threads:\r\n~~~\r\nThread 2 (Thread 0x7f661f5fc840 (LWP 3365)):\r\n#0  0x00007f661ece4e58 in gazebo::physics::MultiRayShape::~MultiRayShape() () from /home/scpeters/osrf/gazebo/build/gazebo/physics/libgazebo_physics.so.1\r\n#1  0x00007f661acbb539 in gazebo::physics::ODEMultiRayShape::~ODEMultiRayShape() () from /home/scpeters/osrf/gazebo/build/gazebo/physics/ode/libgazebo_physics_ode.so.1\r\n#2  0x00007f661e9d5baa in gazebo::sensors::RaySensor::~RaySensor() () from /home/scpeters/osrf/gazebo/build/gazebo/sensors/libgazebo_sensors.so.1\r\n#3  0x00007f661e9d5d19 in gazebo::sensors::RaySensor::~RaySensor() () from /home/scpeters/osrf/gazebo/build/gazebo/sensors/libgazebo_sensors.so.1\r\n#4  0x000000000042ab09 in boost::detail::shared_count::~shared_count() ()\r\n#5  0x000000000042644e in SensorManager_TEST_InitRemove_Test::TestBody() ()\r\n#6  0x000000000044ec2d in void testing::internal::HandleExceptionsInMethodIfSupported<testing::Test, void>(testing::Test*, void (testing::Test::*)(), char const*) ()\r\n#7  0x0000000000446e31 in testing::Test::Run() ()\r\n#8  0x0000000000446f12 in testing::TestInfo::Run() ()\r\n#9  0x0000000000447147 in testing::TestCase::Run() ()\r\n#10 0x00000000004474ae in testing::internal::UnitTestImpl::RunAllTests() ()\r\n#11 0x00000000004476a7 in testing::UnitTest::Run() ()\r\n#12 0x0000000000423cef in main ()\r\n\r\nThread 1 (Thread 0x7f65e9067700 (LWP 3430)):\r\n#0  0x00007f661cc30425 in __GI_raise (sig=<optimized out>) at ../nptl/sysdeps/unix/sysv/linux/raise.c:64\r\n#1  0x00007f661cc33b8b in __GI_abort () at abort.c:91\r\n#2  0x00007f661d28669d in __gnu_cxx::__verbose_terminate_handler() () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\r\n#3  0x00007f661d284846 in ?? () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\r\n#4  0x00007f661d284873 in std::terminate() () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\r\n#5  0x00007f661d28528f in __cxa_pure_virtual () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\r\n#6  0x00007f6615076fc2 in dSpaceCollide2 () from /home/scpeters/osrf/gazebo/build/deps/opende/libgazebo_ode.so.1\r\n#7  0x00007f661acbb755 in gazebo::physics::ODEMultiRayShape::UpdateCallback(void*, dxGeom*, dxGeom*) () from /home/scpeters/osrf/gazebo/build/gazebo/physics/ode/libgazebo_physics_ode.so.1\r\n#8  0x00007f6615076c89 in dxHashSpace::collide2(void*, dxGeom*, void (*)(void*, dxGeom*, dxGeom*)) () from /home/scpeters/osrf/gazebo/build/deps/opende/libgazebo_ode.so.1\r\n#9  0x00007f6615076f86 in dSpaceCollide2 () from /home/scpeters/osrf/gazebo/build/deps/opende/libgazebo_ode.so.1\r\n#10 0x00007f661acbbcc3 in gazebo::physics::ODEMultiRayShape::UpdateRays() () from /home/scpeters/osrf/gazebo/build/gazebo/physics/ode/libgazebo_physics_ode.so.1\r\n#11 0x00007f661ece55cc in gazebo::physics::MultiRayShape::Update() () from /home/scpeters/osrf/gazebo/build/gazebo/physics/libgazebo_physics.so.1\r\n#12 0x00007f661e9d62b8 in gazebo::sensors::RaySensor::UpdateImpl(bool) () from /home/scpeters/osrf/gazebo/build/gazebo/sensors/libgazebo_sensors.so.1\r\n#13 0x00007f661e9dc667 in gazebo::sensors::Sensor::Update(bool) () from /home/scpeters/osrf/gazebo/build/gazebo/sensors/libgazebo_sensors.so.1\r\n#14 0x00007f661e9e1613 in gazebo::sensors::SensorManager::SensorContainer::Update(bool) () from /home/scpeters/osrf/gazebo/build/gazebo/sensors/libgazebo_sensors.so.1\r\n#15 0x00007f661e9e298f in gazebo::sensors::SensorManager::SensorContainer::RunLoop() () from /home/scpeters/osrf/gazebo/build/gazebo/sensors/libgazebo_sensors.so.1\r\n#16 0x00007f661d6dfce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\r\n#17 0x00007f661dbe2e9a in start_thread (arg=0x7f65e9067700) at pthread_create.c:308\r\n#18 0x00007f661ccedcbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\r\n#19 0x0000000000000000 in ?? ()\r\n(gdb)\r\n~~~\r\n\r\nFull backtrace:\r\n~~~\r\n(gdb) thread apply all bt\r\n\r\nThread 25 (Thread 0x7f65eba7c700 (LWP 3421)):\r\n#0  pthread_cond_timedwait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_timedwait.S:215\r\n#1  0x00007f661e09dabe in gazebo::transport::ConnectionManager::Run() () from /home/scpeters/osrf/gazebo/build/gazebo/transport/libgazebo_transport.so.1\r\n#2  0x00007f661d6dfce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\r\n#3  0x00007f661dbe2e9a in start_thread (arg=0x7f65eba7c700) at pthread_create.c:308\r\n#4  0x00007f661ccedcbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\r\n#5  0x0000000000000000 in ?? ()\r\n\r\nThread 24 (Thread 0x7f65f27fc700 (LWP 3418)):\r\n#0  pthread_cond_wait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:162\r\n#1  0x00007f6619a613b3 in boost::condition_variable_any::wait<boost::unique_lock<boost::recursive_mutex> > (this=0x7f65fb6925b8, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:123\r\n#2  0x00007f6619a5f13f in Ogre::DefaultWorkQueue::waitForNextRequest (this=0x7f65fb692000) at /build/buildd/ogre-1.7.4/OgreMain/src/Threading/OgreDefaultWorkQueueStandard.cpp:163\r\n#3  0x00007f6619a6047c in Ogre::DefaultWorkQueue::_threadMain (this=0x7f65fb692000) at /build/buildd/ogre-1.7.4/OgreMain/src/Threading/OgreDefaultWorkQueueStandard.cpp:191\r\n#4  0x00007f661d6dfce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\r\n#5  0x00007f661dbe2e9a in start_thread (arg=0x7f65f27fc700) at pthread_create.c:308\r\n#6  0x00007f661ccedcbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\r\n#7  0x0000000000000000 in ?? ()\r\n\r\nThread 23 (Thread 0x7f65f1ffb700 (LWP 3419)):\r\n#0  pthread_cond_wait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:162\r\n#1  0x00007f6619a613b3 in boost::condition_variable_any::wait<boost::unique_lock<boost::recursive_mutex> > (this=0x7f65fb6925b8, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:123\r\n#2  0x00007f6619a5f13f in Ogre::DefaultWorkQueue::waitForNextRequest (this=0x7f65fb692000) at /build/buildd/ogre-1.7.4/OgreMain/src/Threading/OgreDefaultWorkQueueStandard.cpp:163\r\n#3  0x00007f6619a6047c in Ogre::DefaultWorkQueue::_threadMain (this=0x7f65fb692000) at /build/buildd/ogre-1.7.4/OgreMain/src/Threading/OgreDefaultWorkQueueStandard.cpp:191\r\n#4  0x00007f661d6dfce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\r\n#5  0x00007f661dbe2e9a in start_thread (arg=0x7f65f1ffb700) at pthread_create.c:308\r\n#6  0x00007f661ccedcbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\r\n#7  0x0000000000000000 in ?? ()\r\n\r\nThread 22 (Thread 0x7f65f0ff8700 (LWP 3423)):\r\n#0  syscall () at ../sysdeps/unix/sysv/linux/x86_64/syscall.S:39\r\n#1  0x00007f66181cf293 in ?? () from /usr/lib/libtbb.so.2\r\n#2  0x00007f66181cf2c9 in ?? () from /usr/lib/libtbb.so.2\r\n#3  0x00007f661dbe2e9a in start_thread (arg=0x7f65f0ff8700) at pthread_create.c:308\r\n#4  0x00007f661ccedcbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\r\n#5  0x0000000000000000 in ?? ()\r\n\r\nThread 21 (Thread 0x7f66092c3700 (LWP 3410)):\r\n#0  0x00007f661dbea52d in nanosleep () at ../sysdeps/unix/syscall-template.S:82\r\n#1  0x00007f661f212d9d in gazebo::common::Time::Sleep(gazebo::common::Time const&) () from /home/scpeters/osrf/gazebo/build/gazebo/common/libgazebo_common.so.1\r\n#2  0x00007f661f2132e3 in gazebo::common::Time::MSleep(unsigned int) () from /home/scpeters/osrf/gazebo/build/gazebo/common/libgazebo_common.so.1\r\n#3  0x00007f661de20e67 in gazebo::Server::Run() () from /home/scpeters/osrf/gazebo/build/gazebo/libgazebo.so.1\r\n#4  0x000000000042ac6f in ServerFixture::RunServer(std::string const&, bool, std::string const&) ()\r\n#5  0x00007f661d6dfce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\r\n#6  0x00007f661dbe2e9a in start_thread (arg=0x7f66092c3700) at pthread_create.c:308\r\n#7  0x00007f661ccedcbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\r\n#8  0x0000000000000000 in ?? ()\r\n\r\nThread 20 (Thread 0x7f65b3fff700 (LWP 3424)):\r\n#0  syscall () at ../sysdeps/unix/sysv/linux/x86_64/syscall.S:39\r\n#1  0x00007f66181cf293 in ?? () from /usr/lib/libtbb.so.2\r\n#2  0x00007f66181cf2c9 in ?? () from /usr/lib/libtbb.so.2\r\n#3  0x00007f661dbe2e9a in start_thread (arg=0x7f65b3fff700) at pthread_create.c:308\r\n#4  0x00007f661ccedcbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\r\n#5  0x0000000000000000 in ?? ()\r\n\r\nThread 19 (Thread 0x7f65f0bf7700 (LWP 3425)):\r\n#0  syscall () at ../sysdeps/unix/sysv/linux/x86_64/syscall.S:39\r\n#1  0x00007f66181cf293 in ?? () from /usr/lib/libtbb.so.2\r\n#2  0x00007f66181cf2c9 in ?? () from /usr/lib/libtbb.so.2\r\n#3  0x00007f661dbe2e9a in start_thread (arg=0x7f65f0bf7700) at pthread_create.c:308\r\n#4  0x00007f661ccedcbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\r\n#5  0x0000000000000000 in ?? ()\r\n---Type <return> to continue, or q <return> to quit---\r\n\r\nThread 18 (Thread 0x7f65e9c69700 (LWP 3428)):\r\n#0  syscall () at ../sysdeps/unix/sysv/linux/x86_64/syscall.S:39\r\n#1  0x00007f66181cf293 in ?? () from /usr/lib/libtbb.so.2\r\n#2  0x00007f66181cf2c9 in ?? () from /usr/lib/libtbb.so.2\r\n#3  0x00007f661dbe2e9a in start_thread (arg=0x7f65e9c69700) at pthread_create.c:308\r\n#4  0x00007f661ccedcbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\r\n#5  0x0000000000000000 in ?? ()\r\n\r\nThread 17 (Thread 0x7f6609ac5700 (LWP 3412)):\r\n#0  0x00007f661dbea52d in nanosleep () at ../sysdeps/unix/syscall-template.S:82\r\n#1  0x00007f661f212d9d in gazebo::common::Time::Sleep(gazebo::common::Time const&) () from /home/scpeters/osrf/gazebo/build/gazebo/common/libgazebo_common.so.1\r\n#2  0x00007f661f2132e3 in gazebo::common::Time::MSleep(unsigned int) () from /home/scpeters/osrf/gazebo/build/gazebo/common/libgazebo_common.so.1\r\n#3  0x00007f661de3322d in gazebo::Master::Run() () from /home/scpeters/osrf/gazebo/build/gazebo/libgazebo.so.1\r\n#4  0x00007f661d6dfce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\r\n#5  0x00007f661dbe2e9a in start_thread (arg=0x7f6609ac5700) at pthread_create.c:308\r\n#6  0x00007f661ccedcbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\r\n#7  0x0000000000000000 in ?? ()\r\n\r\nThread 16 (Thread 0x7f65ebfff700 (LWP 3426)):\r\n#0  syscall () at ../sysdeps/unix/sysv/linux/x86_64/syscall.S:39\r\n#1  0x00007f66181cf293 in ?? () from /usr/lib/libtbb.so.2\r\n#2  0x00007f66181cf2c9 in ?? () from /usr/lib/libtbb.so.2\r\n#3  0x00007f661dbe2e9a in start_thread (arg=0x7f65ebfff700) at pthread_create.c:308\r\n#4  0x00007f661ccedcbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\r\n#5  0x0000000000000000 in ?? ()\r\n\r\nThread 15 (Thread 0x7f65f2ffd700 (LWP 3417)):\r\n#0  pthread_cond_wait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:162\r\n#1  0x00007f6619a613b3 in boost::condition_variable_any::wait<boost::unique_lock<boost::recursive_mutex> > (this=0x7f65fb6925b8, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:123\r\n#2  0x00007f6619a5f13f in Ogre::DefaultWorkQueue::waitForNextRequest (this=0x7f65fb692000) at /build/buildd/ogre-1.7.4/OgreMain/src/Threading/OgreDefaultWorkQueueStandard.cpp:163\r\n#3  0x00007f6619a6047c in Ogre::DefaultWorkQueue::_threadMain (this=0x7f65fb692000) at /build/buildd/ogre-1.7.4/OgreMain/src/Threading/OgreDefaultWorkQueueStandard.cpp:191\r\n#4  0x00007f661d6dfce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\r\n#5  0x00007f661dbe2e9a in start_thread (arg=0x7f65f2ffd700) at pthread_create.c:308\r\n#6  0x00007f661ccedcbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\r\n#7  0x0000000000000000 in ?? ()\r\n\r\nThread 14 (Thread 0x7f65ea679700 (LWP 3411)):\r\n#0  0x00007f661ccee353 in epoll_wait () at ../sysdeps/unix/syscall-template.S:82\r\n#1  0x00007f661e0a5414 in ?? () from /home/scpeters/osrf/gazebo/build/gazebo/transport/libgazebo_transport.so.1\r\n#2  0x00007f661e0a5b84 in ?? () from /home/scpeters/osrf/gazebo/build/gazebo/transport/libgazebo_transport.so.1\r\n#3  0x00007f661e0a6a45 in boost::asio::io_service::run() () from /home/scpeters/osrf/gazebo/build/gazebo/transport/libgazebo_transport.so.1\r\n#4  0x00007f661d6dfce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\r\n#5  0x00007f661dbe2e9a in start_thread (arg=0x7f65ea679700) at pthread_create.c:308\r\n#6  0x00007f661ccedcbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\r\n#7  0x0000000000000000 in ?? ()\r\n\r\nThread 13 (Thread 0x7f65eaa7a700 (LWP 3422)):\r\n#0  syscall () at ../sysdeps/unix/sysv/linux/x86_64/syscall.S:39\r\n#1  0x00007f66181cf293 in ?? () from /usr/lib/libtbb.so.2\r\n#2  0x00007f66181cf2c9 in ?? () from /usr/lib/libtbb.so.2\r\n#3  0x00007f661dbe2e9a in start_thread (arg=0x7f65eaa7a700) at pthread_create.c:308\r\n#4  0x00007f661ccedcbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\r\n#5  0x0000000000000000 in ?? ()\r\n\r\nThread 12 (Thread 0x7f65f17fa700 (LWP 3420)):\r\n#0  pthread_cond_wait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:162\r\n#1  0x00007f6619a613b3 in boost::condition_variable_any::wait<boost::unique_lock<boost::recursive_mutex> > (this=0x7f65fb6925b8, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:123\r\n#2  0x00007f6619a5f13f in Ogre::DefaultWorkQueue::waitForNextRequest (this=0x7f65fb692000) at /build/buildd/ogre-1.7.4/OgreMain/src/Threading/OgreDefaultWorkQueueStandard.cpp:163\r\n#3  0x00007f6619a6047c in Ogre::DefaultWorkQueue::_threadMain (this=0x7f65fb692000) at /build/buildd/ogre-1.7.4/OgreMain/src/Threading/OgreDefaultWorkQueueStandard.cpp:191\r\n#4  0x00007f661d6dfce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\r\n#5  0x00007f661dbe2e9a in start_thread (arg=0x7f65f17fa700) at pthread_create.c:308\r\n#6  0x00007f661ccedcbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\r\n---Type <return> to continue, or q <return> to quit---\r\n#7  0x0000000000000000 in ?? ()\r\n\r\nThread 11 (Thread 0x7f65bbfff700 (LWP 3432)):\r\n#0  pthread_cond_wait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:162\r\n#1  0x00007f661ac8fe43 in gazebo::physics::ODEPhysics::UpdateCollision() () from /home/scpeters/osrf/gazebo/build/gazebo/physics/ode/libgazebo_physics_ode.so.1\r\n#2  0x00007f661ecf6fce in gazebo::physics::World::Update() () from /home/scpeters/osrf/gazebo/build/gazebo/physics/libgazebo_physics.so.1\r\n#3  0x00007f661ecff7cc in gazebo::physics::World::Step() () from /home/scpeters/osrf/gazebo/build/gazebo/physics/libgazebo_physics.so.1\r\n#4  0x00007f661ed0207c in gazebo::physics::World::RunLoop() () from /home/scpeters/osrf/gazebo/build/gazebo/physics/libgazebo_physics.so.1\r\n#5  0x00007f661d6dfce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\r\n#6  0x00007f661dbe2e9a in start_thread (arg=0x7f65bbfff700) at pthread_create.c:308\r\n#7  0x00007f661ccedcbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\r\n#8  0x0000000000000000 in ?? ()\r\n\r\nThread 10 (Thread 0x7f65f37fe700 (LWP 3416)):\r\n#0  pthread_cond_wait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:162\r\n#1  0x00007f6619a613b3 in boost::condition_variable_any::wait<boost::unique_lock<boost::recursive_mutex> > (this=0x7f65fb6925b8, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:123\r\n#2  0x00007f6619a5f13f in Ogre::DefaultWorkQueue::waitForNextRequest (this=0x7f65fb692000) at /build/buildd/ogre-1.7.4/OgreMain/src/Threading/OgreDefaultWorkQueueStandard.cpp:163\r\n#3  0x00007f6619a6047c in Ogre::DefaultWorkQueue::_threadMain (this=0x7f65fb692000) at /build/buildd/ogre-1.7.4/OgreMain/src/Threading/OgreDefaultWorkQueueStandard.cpp:191\r\n#4  0x00007f661d6dfce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\r\n#5  0x00007f661dbe2e9a in start_thread (arg=0x7f65f37fe700) at pthread_create.c:308\r\n#6  0x00007f661ccedcbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\r\n#7  0x0000000000000000 in ?? ()\r\n\r\nThread 9 (Thread 0x7f65bb7fe700 (LWP 3433)):\r\n#0  pthread_cond_wait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:162\r\n#1  0x00007f661ed00c9b in gazebo::physics::World::LogWorker() () from /home/scpeters/osrf/gazebo/build/gazebo/physics/libgazebo_physics.so.1\r\n#2  0x00007f661d6dfce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\r\n#3  0x00007f661dbe2e9a in start_thread (arg=0x7f65bb7fe700) at pthread_create.c:308\r\n#4  0x00007f661ccedcbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\r\n#5  0x0000000000000000 in ?? ()\r\n\r\nThread 8 (Thread 0x7f65e9868700 (LWP 3429)):\r\n#0  pthread_cond_wait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:162\r\n#1  0x00007f661f1f6291 in ?? () from /home/scpeters/osrf/gazebo/build/gazebo/common/libgazebo_common.so.1\r\n#2  0x00007f661f1f85c4 in gazebo::common::ModelDatabase::UpdateModelCache(bool) () from /home/scpeters/osrf/gazebo/build/gazebo/common/libgazebo_common.so.1\r\n#3  0x00007f661d6dfce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\r\n#4  0x00007f661dbe2e9a in start_thread (arg=0x7f65e9868700) at pthread_create.c:308\r\n#5  0x00007f661ccedcbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\r\n#6  0x0000000000000000 in ?? ()\r\n\r\nThread 7 (Thread 0x7f65eb27b700 (LWP 3427)):\r\n#0  syscall () at ../sysdeps/unix/sysv/linux/x86_64/syscall.S:39\r\n#1  0x00007f66181cf293 in ?? () from /usr/lib/libtbb.so.2\r\n#2  0x00007f66181cf2c9 in ?? () from /usr/lib/libtbb.so.2\r\n#3  0x00007f661dbe2e9a in start_thread (arg=0x7f65eb27b700) at pthread_create.c:308\r\n#4  0x00007f661ccedcbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\r\n#5  0x0000000000000000 in ?? ()\r\n\r\nThread 6 (Thread 0x7f65d8b59700 (LWP 3431)):\r\n#0  pthread_cond_wait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:162\r\n#1  0x00007f661e9e28eb in gazebo::sensors::SensorManager::SensorContainer::RunLoop() () from /home/scpeters/osrf/gazebo/build/gazebo/sensors/libgazebo_sensors.so.1\r\n#2  0x00007f661d6dfce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\r\n#3  0x00007f661dbe2e9a in start_thread (arg=0x7f65d8b59700) at pthread_create.c:308\r\n#4  0x00007f661ccedcbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\r\n#5  0x0000000000000000 in ?? ()\r\n\r\nThread 5 (Thread 0x7f65f915d700 (LWP 3414)):\r\n#0  pthread_cond_wait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:162\r\n#1  0x00007f6619a613b3 in boost::condition_variable_any::wait<boost::unique_lock<boost::recursive_mutex> > (this=0x7f65fb6925b8, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:123\r\n#2  0x00007f6619a5f13f in Ogre::DefaultWorkQueue::waitForNextRequest (this=0x7f65fb692000) at /build/buildd/ogre-1.7.4/OgreMain/src/Threading/OgreDefaultWorkQueueStandard.cpp:163\r\n#3  0x00007f6619a6047c in Ogre::DefaultWorkQueue::_threadMain (this=0x7f65fb692000) at /build/buildd/ogre-1.7.4/OgreMain/src/Threading/OgreDefaultWorkQueueStandard.cpp:191\r\n#4  0x00007f661d6dfce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\r\n#5  0x00007f661dbe2e9a in start_thread (arg=0x7f65f915d700) at pthread_create.c:308\r\n---Type <return> to continue, or q <return> to quit---\r\n#6  0x00007f661ccedcbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\r\n#7  0x0000000000000000 in ?? ()\r\n\r\nThread 4 (Thread 0x7f65f3fff700 (LWP 3415)):\r\n#0  pthread_cond_wait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:162\r\n#1  0x00007f6619a613b3 in boost::condition_variable_any::wait<boost::unique_lock<boost::recursive_mutex> > (this=0x7f65fb6925b8, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:123\r\n#2  0x00007f6619a5f13f in Ogre::DefaultWorkQueue::waitForNextRequest (this=0x7f65fb692000) at /build/buildd/ogre-1.7.4/OgreMain/src/Threading/OgreDefaultWorkQueueStandard.cpp:163\r\n#3  0x00007f6619a6047c in Ogre::DefaultWorkQueue::_threadMain (this=0x7f65fb692000) at /build/buildd/ogre-1.7.4/OgreMain/src/Threading/OgreDefaultWorkQueueStandard.cpp:191\r\n#4  0x00007f661d6dfce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\r\n#5  0x00007f661dbe2e9a in start_thread (arg=0x7f65f3fff700) at pthread_create.c:308\r\n#6  0x00007f661ccedcbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\r\n#7  0x0000000000000000 in ?? ()\r\n\r\nThread 3 (Thread 0x7f65f9e6b700 (LWP 3413)):\r\n#0  pthread_cond_wait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:162\r\n#1  0x00007f6619a613b3 in boost::condition_variable_any::wait<boost::unique_lock<boost::recursive_mutex> > (this=0x7f65fb6925b8, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:123\r\n#2  0x00007f6619a5f13f in Ogre::DefaultWorkQueue::waitForNextRequest (this=0x7f65fb692000) at /build/buildd/ogre-1.7.4/OgreMain/src/Threading/OgreDefaultWorkQueueStandard.cpp:163\r\n#3  0x00007f6619a6047c in Ogre::DefaultWorkQueue::_threadMain (this=0x7f65fb692000) at /build/buildd/ogre-1.7.4/OgreMain/src/Threading/OgreDefaultWorkQueueStandard.cpp:191\r\n#4  0x00007f661d6dfce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\r\n#5  0x00007f661dbe2e9a in start_thread (arg=0x7f65f9e6b700) at pthread_create.c:308\r\n#6  0x00007f661ccedcbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\r\n#7  0x0000000000000000 in ?? ()\r\n\r\nThread 2 (Thread 0x7f661f5fc840 (LWP 3365)):\r\n#0  0x00007f661ece4e58 in gazebo::physics::MultiRayShape::~MultiRayShape() () from /home/scpeters/osrf/gazebo/build/gazebo/physics/libgazebo_physics.so.1\r\n#1  0x00007f661acbb539 in gazebo::physics::ODEMultiRayShape::~ODEMultiRayShape() () from /home/scpeters/osrf/gazebo/build/gazebo/physics/ode/libgazebo_physics_ode.so.1\r\n#2  0x00007f661e9d5baa in gazebo::sensors::RaySensor::~RaySensor() () from /home/scpeters/osrf/gazebo/build/gazebo/sensors/libgazebo_sensors.so.1\r\n#3  0x00007f661e9d5d19 in gazebo::sensors::RaySensor::~RaySensor() () from /home/scpeters/osrf/gazebo/build/gazebo/sensors/libgazebo_sensors.so.1\r\n#4  0x000000000042ab09 in boost::detail::shared_count::~shared_count() ()\r\n#5  0x000000000042644e in SensorManager_TEST_InitRemove_Test::TestBody() ()\r\n#6  0x000000000044ec2d in void testing::internal::HandleExceptionsInMethodIfSupported<testing::Test, void>(testing::Test*, void (testing::Test::*)(), char const*) ()\r\n#7  0x0000000000446e31 in testing::Test::Run() ()\r\n#8  0x0000000000446f12 in testing::TestInfo::Run() ()\r\n#9  0x0000000000447147 in testing::TestCase::Run() ()\r\n#10 0x00000000004474ae in testing::internal::UnitTestImpl::RunAllTests() ()\r\n#11 0x00000000004476a7 in testing::UnitTest::Run() ()\r\n#12 0x0000000000423cef in main ()\r\n\r\nThread 1 (Thread 0x7f65e9067700 (LWP 3430)):\r\n#0  0x00007f661cc30425 in __GI_raise (sig=<optimized out>) at ../nptl/sysdeps/unix/sysv/linux/raise.c:64\r\n#1  0x00007f661cc33b8b in __GI_abort () at abort.c:91\r\n#2  0x00007f661d28669d in __gnu_cxx::__verbose_terminate_handler() () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\r\n#3  0x00007f661d284846 in ?? () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\r\n#4  0x00007f661d284873 in std::terminate() () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\r\n#5  0x00007f661d28528f in __cxa_pure_virtual () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\r\n#6  0x00007f6615076fc2 in dSpaceCollide2 () from /home/scpeters/osrf/gazebo/build/deps/opende/libgazebo_ode.so.1\r\n#7  0x00007f661acbb755 in gazebo::physics::ODEMultiRayShape::UpdateCallback(void*, dxGeom*, dxGeom*) () from /home/scpeters/osrf/gazebo/build/gazebo/physics/ode/libgazebo_physics_ode.so.1\r\n#8  0x00007f6615076c89 in dxHashSpace::collide2(void*, dxGeom*, void (*)(void*, dxGeom*, dxGeom*)) () from /home/scpeters/osrf/gazebo/build/deps/opende/libgazebo_ode.so.1\r\n#9  0x00007f6615076f86 in dSpaceCollide2 () from /home/scpeters/osrf/gazebo/build/deps/opende/libgazebo_ode.so.1\r\n#10 0x00007f661acbbcc3 in gazebo::physics::ODEMultiRayShape::UpdateRays() () from /home/scpeters/osrf/gazebo/build/gazebo/physics/ode/libgazebo_physics_ode.so.1\r\n#11 0x00007f661ece55cc in gazebo::physics::MultiRayShape::Update() () from /home/scpeters/osrf/gazebo/build/gazebo/physics/libgazebo_physics.so.1\r\n#12 0x00007f661e9d62b8 in gazebo::sensors::RaySensor::UpdateImpl(bool) () from /home/scpeters/osrf/gazebo/build/gazebo/sensors/libgazebo_sensors.so.1\r\n#13 0x00007f661e9dc667 in gazebo::sensors::Sensor::Update(bool) () from /home/scpeters/osrf/gazebo/build/gazebo/sensors/libgazebo_sensors.so.1\r\n#14 0x00007f661e9e1613 in gazebo::sensors::SensorManager::SensorContainer::Update(bool) () from /home/scpeters/osrf/gazebo/build/gazebo/sensors/libgazebo_sensors.so.1\r\n#15 0x00007f661e9e298f in gazebo::sensors::SensorManager::SensorContainer::RunLoop() () from /home/scpeters/osrf/gazebo/build/gazebo/sensors/libgazebo_sensors.so.1\r\n#16 0x00007f661d6dfce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\r\n#17 0x00007f661dbe2e9a in start_thread (arg=0x7f65e9067700) at pthread_create.c:308\r\n#18 0x00007f661ccedcbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\r\n#19 0x0000000000000000 in ?? ()\r\n(gdb)\r\n~~~", "markup": "markdown", "html": "<p>From discussion of <a href=\"#!/osrf/gazebo/pull-requests/573/fix-for-log-segfault\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #573</a>:</p>\n<p>I have seen the SensorManager_TEST.InitRemove segfault several times on my machine in the same way. In the backtraces, the seg-fault occurs in the sensor update thread making physics calls, like ODEMultiRayShape::UpdateCallback and dSpaceCollide2, while another thread is calling the sensor destructor.\nGlancing at SensorManager,</p>\n<p><a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/eacff658f3ec5e89577ad00a10dfc03b75b2f87b/gazebo/sensors/SensorManager.cc?at=default#cl-578\" rel=\"nofollow\">SensorContainer::RemoveSensor</a> locks SensorContainer::mutex before erasing sensors</p>\n<p><a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/eacff658f3ec5e89577ad00a10dfc03b75b2f87b/gazebo/sensors/SensorManager.cc?at=default#cl-619\" rel=\"nofollow\">SensorContainer::RemoveSensors</a> does not lock anything before erasing sensors</p>\n<p><a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/eacff658f3ec5e89577ad00a10dfc03b75b2f87b/gazebo/sensors/SensorManager.cc?at=default#cl-439\" rel=\"nofollow\">SensorContainer::RunLoop</a> uses a variety of mutexes, but it does not lock SensorContainer::mutex during updates.</p>\n<p>My guess is that we need a mutex lock to prevent sensor deletion during an update.</p>\n<p>Backtrace of selected threads:</p>\n<div class=\"codehilite\"><pre><span></span>Thread 2 (Thread 0x7f661f5fc840 (LWP 3365)):\n#0  0x00007f661ece4e58 in gazebo::physics::MultiRayShape::~MultiRayShape() () from /home/scpeters/osrf/gazebo/build/gazebo/physics/libgazebo_physics.so.1\n#1  0x00007f661acbb539 in gazebo::physics::ODEMultiRayShape::~ODEMultiRayShape() () from /home/scpeters/osrf/gazebo/build/gazebo/physics/ode/libgazebo_physics_ode.so.1\n#2  0x00007f661e9d5baa in gazebo::sensors::RaySensor::~RaySensor() () from /home/scpeters/osrf/gazebo/build/gazebo/sensors/libgazebo_sensors.so.1\n#3  0x00007f661e9d5d19 in gazebo::sensors::RaySensor::~RaySensor() () from /home/scpeters/osrf/gazebo/build/gazebo/sensors/libgazebo_sensors.so.1\n#4  0x000000000042ab09 in boost::detail::shared_count::~shared_count() ()\n#5  0x000000000042644e in SensorManager_TEST_InitRemove_Test::TestBody() ()\n#6  0x000000000044ec2d in void testing::internal::HandleExceptionsInMethodIfSupported&lt;testing::Test, void&gt;(testing::Test*, void (testing::Test::*)(), char const*) ()\n#7  0x0000000000446e31 in testing::Test::Run() ()\n#8  0x0000000000446f12 in testing::TestInfo::Run() ()\n#9  0x0000000000447147 in testing::TestCase::Run() ()\n#10 0x00000000004474ae in testing::internal::UnitTestImpl::RunAllTests() ()\n#11 0x00000000004476a7 in testing::UnitTest::Run() ()\n#12 0x0000000000423cef in main ()\n\nThread 1 (Thread 0x7f65e9067700 (LWP 3430)):\n#0  0x00007f661cc30425 in __GI_raise (sig=&lt;optimized out&gt;) at ../nptl/sysdeps/unix/sysv/linux/raise.c:64\n#1  0x00007f661cc33b8b in __GI_abort () at abort.c:91\n#2  0x00007f661d28669d in __gnu_cxx::__verbose_terminate_handler() () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#3  0x00007f661d284846 in ?? () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#4  0x00007f661d284873 in std::terminate() () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#5  0x00007f661d28528f in __cxa_pure_virtual () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#6  0x00007f6615076fc2 in dSpaceCollide2 () from /home/scpeters/osrf/gazebo/build/deps/opende/libgazebo_ode.so.1\n#7  0x00007f661acbb755 in gazebo::physics::ODEMultiRayShape::UpdateCallback(void*, dxGeom*, dxGeom*) () from /home/scpeters/osrf/gazebo/build/gazebo/physics/ode/libgazebo_physics_ode.so.1\n#8  0x00007f6615076c89 in dxHashSpace::collide2(void*, dxGeom*, void (*)(void*, dxGeom*, dxGeom*)) () from /home/scpeters/osrf/gazebo/build/deps/opende/libgazebo_ode.so.1\n#9  0x00007f6615076f86 in dSpaceCollide2 () from /home/scpeters/osrf/gazebo/build/deps/opende/libgazebo_ode.so.1\n#10 0x00007f661acbbcc3 in gazebo::physics::ODEMultiRayShape::UpdateRays() () from /home/scpeters/osrf/gazebo/build/gazebo/physics/ode/libgazebo_physics_ode.so.1\n#11 0x00007f661ece55cc in gazebo::physics::MultiRayShape::Update() () from /home/scpeters/osrf/gazebo/build/gazebo/physics/libgazebo_physics.so.1\n#12 0x00007f661e9d62b8 in gazebo::sensors::RaySensor::UpdateImpl(bool) () from /home/scpeters/osrf/gazebo/build/gazebo/sensors/libgazebo_sensors.so.1\n#13 0x00007f661e9dc667 in gazebo::sensors::Sensor::Update(bool) () from /home/scpeters/osrf/gazebo/build/gazebo/sensors/libgazebo_sensors.so.1\n#14 0x00007f661e9e1613 in gazebo::sensors::SensorManager::SensorContainer::Update(bool) () from /home/scpeters/osrf/gazebo/build/gazebo/sensors/libgazebo_sensors.so.1\n#15 0x00007f661e9e298f in gazebo::sensors::SensorManager::SensorContainer::RunLoop() () from /home/scpeters/osrf/gazebo/build/gazebo/sensors/libgazebo_sensors.so.1\n#16 0x00007f661d6dfce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\n#17 0x00007f661dbe2e9a in start_thread (arg=0x7f65e9067700) at pthread_create.c:308\n#18 0x00007f661ccedcbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\n#19 0x0000000000000000 in ?? ()\n(gdb)\n</pre></div>\n\n\n<p>Full backtrace:</p>\n<div class=\"codehilite\"><pre><span></span>(gdb) thread apply all bt\n\nThread 25 (Thread 0x7f65eba7c700 (LWP 3421)):\n#0  pthread_cond_timedwait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_timedwait.S:215\n#1  0x00007f661e09dabe in gazebo::transport::ConnectionManager::Run() () from /home/scpeters/osrf/gazebo/build/gazebo/transport/libgazebo_transport.so.1\n#2  0x00007f661d6dfce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\n#3  0x00007f661dbe2e9a in start_thread (arg=0x7f65eba7c700) at pthread_create.c:308\n#4  0x00007f661ccedcbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\n#5  0x0000000000000000 in ?? ()\n\nThread 24 (Thread 0x7f65f27fc700 (LWP 3418)):\n#0  pthread_cond_wait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:162\n#1  0x00007f6619a613b3 in boost::condition_variable_any::wait&lt;boost::unique_lock&lt;boost::recursive_mutex&gt; &gt; (this=0x7f65fb6925b8, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:123\n#2  0x00007f6619a5f13f in Ogre::DefaultWorkQueue::waitForNextRequest (this=0x7f65fb692000) at /build/buildd/ogre-1.7.4/OgreMain/src/Threading/OgreDefaultWorkQueueStandard.cpp:163\n#3  0x00007f6619a6047c in Ogre::DefaultWorkQueue::_threadMain (this=0x7f65fb692000) at /build/buildd/ogre-1.7.4/OgreMain/src/Threading/OgreDefaultWorkQueueStandard.cpp:191\n#4  0x00007f661d6dfce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\n#5  0x00007f661dbe2e9a in start_thread (arg=0x7f65f27fc700) at pthread_create.c:308\n#6  0x00007f661ccedcbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\n#7  0x0000000000000000 in ?? ()\n\nThread 23 (Thread 0x7f65f1ffb700 (LWP 3419)):\n#0  pthread_cond_wait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:162\n#1  0x00007f6619a613b3 in boost::condition_variable_any::wait&lt;boost::unique_lock&lt;boost::recursive_mutex&gt; &gt; (this=0x7f65fb6925b8, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:123\n#2  0x00007f6619a5f13f in Ogre::DefaultWorkQueue::waitForNextRequest (this=0x7f65fb692000) at /build/buildd/ogre-1.7.4/OgreMain/src/Threading/OgreDefaultWorkQueueStandard.cpp:163\n#3  0x00007f6619a6047c in Ogre::DefaultWorkQueue::_threadMain (this=0x7f65fb692000) at /build/buildd/ogre-1.7.4/OgreMain/src/Threading/OgreDefaultWorkQueueStandard.cpp:191\n#4  0x00007f661d6dfce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\n#5  0x00007f661dbe2e9a in start_thread (arg=0x7f65f1ffb700) at pthread_create.c:308\n#6  0x00007f661ccedcbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\n#7  0x0000000000000000 in ?? ()\n\nThread 22 (Thread 0x7f65f0ff8700 (LWP 3423)):\n#0  syscall () at ../sysdeps/unix/sysv/linux/x86_64/syscall.S:39\n#1  0x00007f66181cf293 in ?? () from /usr/lib/libtbb.so.2\n#2  0x00007f66181cf2c9 in ?? () from /usr/lib/libtbb.so.2\n#3  0x00007f661dbe2e9a in start_thread (arg=0x7f65f0ff8700) at pthread_create.c:308\n#4  0x00007f661ccedcbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\n#5  0x0000000000000000 in ?? ()\n\nThread 21 (Thread 0x7f66092c3700 (LWP 3410)):\n#0  0x00007f661dbea52d in nanosleep () at ../sysdeps/unix/syscall-template.S:82\n#1  0x00007f661f212d9d in gazebo::common::Time::Sleep(gazebo::common::Time const&amp;) () from /home/scpeters/osrf/gazebo/build/gazebo/common/libgazebo_common.so.1\n#2  0x00007f661f2132e3 in gazebo::common::Time::MSleep(unsigned int) () from /home/scpeters/osrf/gazebo/build/gazebo/common/libgazebo_common.so.1\n#3  0x00007f661de20e67 in gazebo::Server::Run() () from /home/scpeters/osrf/gazebo/build/gazebo/libgazebo.so.1\n#4  0x000000000042ac6f in ServerFixture::RunServer(std::string const&amp;, bool, std::string const&amp;) ()\n#5  0x00007f661d6dfce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\n#6  0x00007f661dbe2e9a in start_thread (arg=0x7f66092c3700) at pthread_create.c:308\n#7  0x00007f661ccedcbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\n#8  0x0000000000000000 in ?? ()\n\nThread 20 (Thread 0x7f65b3fff700 (LWP 3424)):\n#0  syscall () at ../sysdeps/unix/sysv/linux/x86_64/syscall.S:39\n#1  0x00007f66181cf293 in ?? () from /usr/lib/libtbb.so.2\n#2  0x00007f66181cf2c9 in ?? () from /usr/lib/libtbb.so.2\n#3  0x00007f661dbe2e9a in start_thread (arg=0x7f65b3fff700) at pthread_create.c:308\n#4  0x00007f661ccedcbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\n#5  0x0000000000000000 in ?? ()\n\nThread 19 (Thread 0x7f65f0bf7700 (LWP 3425)):\n#0  syscall () at ../sysdeps/unix/sysv/linux/x86_64/syscall.S:39\n#1  0x00007f66181cf293 in ?? () from /usr/lib/libtbb.so.2\n#2  0x00007f66181cf2c9 in ?? () from /usr/lib/libtbb.so.2\n#3  0x00007f661dbe2e9a in start_thread (arg=0x7f65f0bf7700) at pthread_create.c:308\n#4  0x00007f661ccedcbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\n#5  0x0000000000000000 in ?? ()\n---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---\n\nThread 18 (Thread 0x7f65e9c69700 (LWP 3428)):\n#0  syscall () at ../sysdeps/unix/sysv/linux/x86_64/syscall.S:39\n#1  0x00007f66181cf293 in ?? () from /usr/lib/libtbb.so.2\n#2  0x00007f66181cf2c9 in ?? () from /usr/lib/libtbb.so.2\n#3  0x00007f661dbe2e9a in start_thread (arg=0x7f65e9c69700) at pthread_create.c:308\n#4  0x00007f661ccedcbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\n#5  0x0000000000000000 in ?? ()\n\nThread 17 (Thread 0x7f6609ac5700 (LWP 3412)):\n#0  0x00007f661dbea52d in nanosleep () at ../sysdeps/unix/syscall-template.S:82\n#1  0x00007f661f212d9d in gazebo::common::Time::Sleep(gazebo::common::Time const&amp;) () from /home/scpeters/osrf/gazebo/build/gazebo/common/libgazebo_common.so.1\n#2  0x00007f661f2132e3 in gazebo::common::Time::MSleep(unsigned int) () from /home/scpeters/osrf/gazebo/build/gazebo/common/libgazebo_common.so.1\n#3  0x00007f661de3322d in gazebo::Master::Run() () from /home/scpeters/osrf/gazebo/build/gazebo/libgazebo.so.1\n#4  0x00007f661d6dfce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\n#5  0x00007f661dbe2e9a in start_thread (arg=0x7f6609ac5700) at pthread_create.c:308\n#6  0x00007f661ccedcbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\n#7  0x0000000000000000 in ?? ()\n\nThread 16 (Thread 0x7f65ebfff700 (LWP 3426)):\n#0  syscall () at ../sysdeps/unix/sysv/linux/x86_64/syscall.S:39\n#1  0x00007f66181cf293 in ?? () from /usr/lib/libtbb.so.2\n#2  0x00007f66181cf2c9 in ?? () from /usr/lib/libtbb.so.2\n#3  0x00007f661dbe2e9a in start_thread (arg=0x7f65ebfff700) at pthread_create.c:308\n#4  0x00007f661ccedcbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\n#5  0x0000000000000000 in ?? ()\n\nThread 15 (Thread 0x7f65f2ffd700 (LWP 3417)):\n#0  pthread_cond_wait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:162\n#1  0x00007f6619a613b3 in boost::condition_variable_any::wait&lt;boost::unique_lock&lt;boost::recursive_mutex&gt; &gt; (this=0x7f65fb6925b8, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:123\n#2  0x00007f6619a5f13f in Ogre::DefaultWorkQueue::waitForNextRequest (this=0x7f65fb692000) at /build/buildd/ogre-1.7.4/OgreMain/src/Threading/OgreDefaultWorkQueueStandard.cpp:163\n#3  0x00007f6619a6047c in Ogre::DefaultWorkQueue::_threadMain (this=0x7f65fb692000) at /build/buildd/ogre-1.7.4/OgreMain/src/Threading/OgreDefaultWorkQueueStandard.cpp:191\n#4  0x00007f661d6dfce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\n#5  0x00007f661dbe2e9a in start_thread (arg=0x7f65f2ffd700) at pthread_create.c:308\n#6  0x00007f661ccedcbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\n#7  0x0000000000000000 in ?? ()\n\nThread 14 (Thread 0x7f65ea679700 (LWP 3411)):\n#0  0x00007f661ccee353 in epoll_wait () at ../sysdeps/unix/syscall-template.S:82\n#1  0x00007f661e0a5414 in ?? () from /home/scpeters/osrf/gazebo/build/gazebo/transport/libgazebo_transport.so.1\n#2  0x00007f661e0a5b84 in ?? () from /home/scpeters/osrf/gazebo/build/gazebo/transport/libgazebo_transport.so.1\n#3  0x00007f661e0a6a45 in boost::asio::io_service::run() () from /home/scpeters/osrf/gazebo/build/gazebo/transport/libgazebo_transport.so.1\n#4  0x00007f661d6dfce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\n#5  0x00007f661dbe2e9a in start_thread (arg=0x7f65ea679700) at pthread_create.c:308\n#6  0x00007f661ccedcbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\n#7  0x0000000000000000 in ?? ()\n\nThread 13 (Thread 0x7f65eaa7a700 (LWP 3422)):\n#0  syscall () at ../sysdeps/unix/sysv/linux/x86_64/syscall.S:39\n#1  0x00007f66181cf293 in ?? () from /usr/lib/libtbb.so.2\n#2  0x00007f66181cf2c9 in ?? () from /usr/lib/libtbb.so.2\n#3  0x00007f661dbe2e9a in start_thread (arg=0x7f65eaa7a700) at pthread_create.c:308\n#4  0x00007f661ccedcbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\n#5  0x0000000000000000 in ?? ()\n\nThread 12 (Thread 0x7f65f17fa700 (LWP 3420)):\n#0  pthread_cond_wait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:162\n#1  0x00007f6619a613b3 in boost::condition_variable_any::wait&lt;boost::unique_lock&lt;boost::recursive_mutex&gt; &gt; (this=0x7f65fb6925b8, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:123\n#2  0x00007f6619a5f13f in Ogre::DefaultWorkQueue::waitForNextRequest (this=0x7f65fb692000) at /build/buildd/ogre-1.7.4/OgreMain/src/Threading/OgreDefaultWorkQueueStandard.cpp:163\n#3  0x00007f6619a6047c in Ogre::DefaultWorkQueue::_threadMain (this=0x7f65fb692000) at /build/buildd/ogre-1.7.4/OgreMain/src/Threading/OgreDefaultWorkQueueStandard.cpp:191\n#4  0x00007f661d6dfce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\n#5  0x00007f661dbe2e9a in start_thread (arg=0x7f65f17fa700) at pthread_create.c:308\n#6  0x00007f661ccedcbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\n---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---\n#7  0x0000000000000000 in ?? ()\n\nThread 11 (Thread 0x7f65bbfff700 (LWP 3432)):\n#0  pthread_cond_wait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:162\n#1  0x00007f661ac8fe43 in gazebo::physics::ODEPhysics::UpdateCollision() () from /home/scpeters/osrf/gazebo/build/gazebo/physics/ode/libgazebo_physics_ode.so.1\n#2  0x00007f661ecf6fce in gazebo::physics::World::Update() () from /home/scpeters/osrf/gazebo/build/gazebo/physics/libgazebo_physics.so.1\n#3  0x00007f661ecff7cc in gazebo::physics::World::Step() () from /home/scpeters/osrf/gazebo/build/gazebo/physics/libgazebo_physics.so.1\n#4  0x00007f661ed0207c in gazebo::physics::World::RunLoop() () from /home/scpeters/osrf/gazebo/build/gazebo/physics/libgazebo_physics.so.1\n#5  0x00007f661d6dfce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\n#6  0x00007f661dbe2e9a in start_thread (arg=0x7f65bbfff700) at pthread_create.c:308\n#7  0x00007f661ccedcbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\n#8  0x0000000000000000 in ?? ()\n\nThread 10 (Thread 0x7f65f37fe700 (LWP 3416)):\n#0  pthread_cond_wait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:162\n#1  0x00007f6619a613b3 in boost::condition_variable_any::wait&lt;boost::unique_lock&lt;boost::recursive_mutex&gt; &gt; (this=0x7f65fb6925b8, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:123\n#2  0x00007f6619a5f13f in Ogre::DefaultWorkQueue::waitForNextRequest (this=0x7f65fb692000) at /build/buildd/ogre-1.7.4/OgreMain/src/Threading/OgreDefaultWorkQueueStandard.cpp:163\n#3  0x00007f6619a6047c in Ogre::DefaultWorkQueue::_threadMain (this=0x7f65fb692000) at /build/buildd/ogre-1.7.4/OgreMain/src/Threading/OgreDefaultWorkQueueStandard.cpp:191\n#4  0x00007f661d6dfce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\n#5  0x00007f661dbe2e9a in start_thread (arg=0x7f65f37fe700) at pthread_create.c:308\n#6  0x00007f661ccedcbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\n#7  0x0000000000000000 in ?? ()\n\nThread 9 (Thread 0x7f65bb7fe700 (LWP 3433)):\n#0  pthread_cond_wait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:162\n#1  0x00007f661ed00c9b in gazebo::physics::World::LogWorker() () from /home/scpeters/osrf/gazebo/build/gazebo/physics/libgazebo_physics.so.1\n#2  0x00007f661d6dfce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\n#3  0x00007f661dbe2e9a in start_thread (arg=0x7f65bb7fe700) at pthread_create.c:308\n#4  0x00007f661ccedcbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\n#5  0x0000000000000000 in ?? ()\n\nThread 8 (Thread 0x7f65e9868700 (LWP 3429)):\n#0  pthread_cond_wait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:162\n#1  0x00007f661f1f6291 in ?? () from /home/scpeters/osrf/gazebo/build/gazebo/common/libgazebo_common.so.1\n#2  0x00007f661f1f85c4 in gazebo::common::ModelDatabase::UpdateModelCache(bool) () from /home/scpeters/osrf/gazebo/build/gazebo/common/libgazebo_common.so.1\n#3  0x00007f661d6dfce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\n#4  0x00007f661dbe2e9a in start_thread (arg=0x7f65e9868700) at pthread_create.c:308\n#5  0x00007f661ccedcbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\n#6  0x0000000000000000 in ?? ()\n\nThread 7 (Thread 0x7f65eb27b700 (LWP 3427)):\n#0  syscall () at ../sysdeps/unix/sysv/linux/x86_64/syscall.S:39\n#1  0x00007f66181cf293 in ?? () from /usr/lib/libtbb.so.2\n#2  0x00007f66181cf2c9 in ?? () from /usr/lib/libtbb.so.2\n#3  0x00007f661dbe2e9a in start_thread (arg=0x7f65eb27b700) at pthread_create.c:308\n#4  0x00007f661ccedcbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\n#5  0x0000000000000000 in ?? ()\n\nThread 6 (Thread 0x7f65d8b59700 (LWP 3431)):\n#0  pthread_cond_wait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:162\n#1  0x00007f661e9e28eb in gazebo::sensors::SensorManager::SensorContainer::RunLoop() () from /home/scpeters/osrf/gazebo/build/gazebo/sensors/libgazebo_sensors.so.1\n#2  0x00007f661d6dfce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\n#3  0x00007f661dbe2e9a in start_thread (arg=0x7f65d8b59700) at pthread_create.c:308\n#4  0x00007f661ccedcbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\n#5  0x0000000000000000 in ?? ()\n\nThread 5 (Thread 0x7f65f915d700 (LWP 3414)):\n#0  pthread_cond_wait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:162\n#1  0x00007f6619a613b3 in boost::condition_variable_any::wait&lt;boost::unique_lock&lt;boost::recursive_mutex&gt; &gt; (this=0x7f65fb6925b8, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:123\n#2  0x00007f6619a5f13f in Ogre::DefaultWorkQueue::waitForNextRequest (this=0x7f65fb692000) at /build/buildd/ogre-1.7.4/OgreMain/src/Threading/OgreDefaultWorkQueueStandard.cpp:163\n#3  0x00007f6619a6047c in Ogre::DefaultWorkQueue::_threadMain (this=0x7f65fb692000) at /build/buildd/ogre-1.7.4/OgreMain/src/Threading/OgreDefaultWorkQueueStandard.cpp:191\n#4  0x00007f661d6dfce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\n#5  0x00007f661dbe2e9a in start_thread (arg=0x7f65f915d700) at pthread_create.c:308\n---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---\n#6  0x00007f661ccedcbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\n#7  0x0000000000000000 in ?? ()\n\nThread 4 (Thread 0x7f65f3fff700 (LWP 3415)):\n#0  pthread_cond_wait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:162\n#1  0x00007f6619a613b3 in boost::condition_variable_any::wait&lt;boost::unique_lock&lt;boost::recursive_mutex&gt; &gt; (this=0x7f65fb6925b8, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:123\n#2  0x00007f6619a5f13f in Ogre::DefaultWorkQueue::waitForNextRequest (this=0x7f65fb692000) at /build/buildd/ogre-1.7.4/OgreMain/src/Threading/OgreDefaultWorkQueueStandard.cpp:163\n#3  0x00007f6619a6047c in Ogre::DefaultWorkQueue::_threadMain (this=0x7f65fb692000) at /build/buildd/ogre-1.7.4/OgreMain/src/Threading/OgreDefaultWorkQueueStandard.cpp:191\n#4  0x00007f661d6dfce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\n#5  0x00007f661dbe2e9a in start_thread (arg=0x7f65f3fff700) at pthread_create.c:308\n#6  0x00007f661ccedcbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\n#7  0x0000000000000000 in ?? ()\n\nThread 3 (Thread 0x7f65f9e6b700 (LWP 3413)):\n#0  pthread_cond_wait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:162\n#1  0x00007f6619a613b3 in boost::condition_variable_any::wait&lt;boost::unique_lock&lt;boost::recursive_mutex&gt; &gt; (this=0x7f65fb6925b8, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:123\n#2  0x00007f6619a5f13f in Ogre::DefaultWorkQueue::waitForNextRequest (this=0x7f65fb692000) at /build/buildd/ogre-1.7.4/OgreMain/src/Threading/OgreDefaultWorkQueueStandard.cpp:163\n#3  0x00007f6619a6047c in Ogre::DefaultWorkQueue::_threadMain (this=0x7f65fb692000) at /build/buildd/ogre-1.7.4/OgreMain/src/Threading/OgreDefaultWorkQueueStandard.cpp:191\n#4  0x00007f661d6dfce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\n#5  0x00007f661dbe2e9a in start_thread (arg=0x7f65f9e6b700) at pthread_create.c:308\n#6  0x00007f661ccedcbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\n#7  0x0000000000000000 in ?? ()\n\nThread 2 (Thread 0x7f661f5fc840 (LWP 3365)):\n#0  0x00007f661ece4e58 in gazebo::physics::MultiRayShape::~MultiRayShape() () from /home/scpeters/osrf/gazebo/build/gazebo/physics/libgazebo_physics.so.1\n#1  0x00007f661acbb539 in gazebo::physics::ODEMultiRayShape::~ODEMultiRayShape() () from /home/scpeters/osrf/gazebo/build/gazebo/physics/ode/libgazebo_physics_ode.so.1\n#2  0x00007f661e9d5baa in gazebo::sensors::RaySensor::~RaySensor() () from /home/scpeters/osrf/gazebo/build/gazebo/sensors/libgazebo_sensors.so.1\n#3  0x00007f661e9d5d19 in gazebo::sensors::RaySensor::~RaySensor() () from /home/scpeters/osrf/gazebo/build/gazebo/sensors/libgazebo_sensors.so.1\n#4  0x000000000042ab09 in boost::detail::shared_count::~shared_count() ()\n#5  0x000000000042644e in SensorManager_TEST_InitRemove_Test::TestBody() ()\n#6  0x000000000044ec2d in void testing::internal::HandleExceptionsInMethodIfSupported&lt;testing::Test, void&gt;(testing::Test*, void (testing::Test::*)(), char const*) ()\n#7  0x0000000000446e31 in testing::Test::Run() ()\n#8  0x0000000000446f12 in testing::TestInfo::Run() ()\n#9  0x0000000000447147 in testing::TestCase::Run() ()\n#10 0x00000000004474ae in testing::internal::UnitTestImpl::RunAllTests() ()\n#11 0x00000000004476a7 in testing::UnitTest::Run() ()\n#12 0x0000000000423cef in main ()\n\nThread 1 (Thread 0x7f65e9067700 (LWP 3430)):\n#0  0x00007f661cc30425 in __GI_raise (sig=&lt;optimized out&gt;) at ../nptl/sysdeps/unix/sysv/linux/raise.c:64\n#1  0x00007f661cc33b8b in __GI_abort () at abort.c:91\n#2  0x00007f661d28669d in __gnu_cxx::__verbose_terminate_handler() () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#3  0x00007f661d284846 in ?? () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#4  0x00007f661d284873 in std::terminate() () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#5  0x00007f661d28528f in __cxa_pure_virtual () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#6  0x00007f6615076fc2 in dSpaceCollide2 () from /home/scpeters/osrf/gazebo/build/deps/opende/libgazebo_ode.so.1\n#7  0x00007f661acbb755 in gazebo::physics::ODEMultiRayShape::UpdateCallback(void*, dxGeom*, dxGeom*) () from /home/scpeters/osrf/gazebo/build/gazebo/physics/ode/libgazebo_physics_ode.so.1\n#8  0x00007f6615076c89 in dxHashSpace::collide2(void*, dxGeom*, void (*)(void*, dxGeom*, dxGeom*)) () from /home/scpeters/osrf/gazebo/build/deps/opende/libgazebo_ode.so.1\n#9  0x00007f6615076f86 in dSpaceCollide2 () from /home/scpeters/osrf/gazebo/build/deps/opende/libgazebo_ode.so.1\n#10 0x00007f661acbbcc3 in gazebo::physics::ODEMultiRayShape::UpdateRays() () from /home/scpeters/osrf/gazebo/build/gazebo/physics/ode/libgazebo_physics_ode.so.1\n#11 0x00007f661ece55cc in gazebo::physics::MultiRayShape::Update() () from /home/scpeters/osrf/gazebo/build/gazebo/physics/libgazebo_physics.so.1\n#12 0x00007f661e9d62b8 in gazebo::sensors::RaySensor::UpdateImpl(bool) () from /home/scpeters/osrf/gazebo/build/gazebo/sensors/libgazebo_sensors.so.1\n#13 0x00007f661e9dc667 in gazebo::sensors::Sensor::Update(bool) () from /home/scpeters/osrf/gazebo/build/gazebo/sensors/libgazebo_sensors.so.1\n#14 0x00007f661e9e1613 in gazebo::sensors::SensorManager::SensorContainer::Update(bool) () from /home/scpeters/osrf/gazebo/build/gazebo/sensors/libgazebo_sensors.so.1\n#15 0x00007f661e9e298f in gazebo::sensors::SensorManager::SensorContainer::RunLoop() () from /home/scpeters/osrf/gazebo/build/gazebo/sensors/libgazebo_sensors.so.1\n#16 0x00007f661d6dfce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\n#17 0x00007f661dbe2e9a in start_thread (arg=0x7f65e9067700) at pthread_create.c:308\n#18 0x00007f661ccedcbd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\n#19 0x0000000000000000 in ?? ()\n(gdb)\n</pre></div>", "type": "rendered"}, "assignee": null, "state": "closed", "version": {"name": "all", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/225575.json"}}}, "edited_on": null, "created_on": "2013-06-02T08:48:11.671516+00:00", "milestone": null, "updated_on": "2016-09-14T19:45:07.898937+00:00", "type": "issue", "id": 715}