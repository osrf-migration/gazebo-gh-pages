{"priority": "critical", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2279/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2279.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2279/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2279/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2279/core-dump-with-gazebo-81-in"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2279/vote"}}, "reporter": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "title": "Core dump with gazebo 8.1 in gazebo_ros_pkgs", "component": null, "votes": 0, "watches": 1, "content": {"raw": "Originally reported in the [gazebo_ros_pkgs](https://github.com/ros-simulation/gazebo_ros_pkgs/issues/581) I was able to reproduce the problem easily updating gazebo8 from 8.0.0 to 8.1.0 ([all changes from 8.0 to 8.1](#!/osrf/gazebo/compare/gazebo8_8.1.0%0Dgazebo8_8.0.0). Here is the useful part of the trace:\r\n\r\n```\r\n======= Backtrace: =========\r\n/lib/x86_64-linux-gnu/libc.so.6(+0x777e5)[0x7efffed2e7e5]\r\n/lib/x86_64-linux-gnu/libc.so.6(+0x7fe0a)[0x7efffed36e0a]\r\n/lib/x86_64-linux-gnu/libc.so.6(cfree+0x4c)[0x7efffed3a98c]\r\n/usr/lib/x86_64-linux-gnu/libstdc++.so.6(_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE9_M_assignERKS4_+0xaf)[0x7effff3b53ef]\r\n/usr/lib/x86_64-linux-gnu/libgazebo_gui.so.8(+0x1adf2f)[0x7f0000957f2f]\r\n/usr/lib/x86_64-linux-gnu/libgazebo_gui.so.8(_ZN6gazebo3gui12RenderWidget9AddPluginERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEESt10shared_ptrIN3sdf7ElementEE+0xc6)[0x7f00009aa946]\r\n/usr/lib/x86_64-linux-gnu/libgazebo_gui.so.8(_ZN6gazebo3gui12RenderWidget10AddPluginsERKSt6vectorINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEESaIS8_EE+0xf6)[0x7f00009aae66]\r\n/usr/lib/x86_64-linux-gnu/libgazebo_gui.so.8(_ZN6gazebo3gui3runEiPPc+0x146)[0x7f000091c866]\r\ngzclient[0x40275c]\r\n/lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xf0)[0x7efffecd7830]\r\ngzclient(_start+0x29)[0x4029c9]\r\n\r\n```\r\n\r\nIt could be a problem related with the ABI although [the checker is reporting no errors](https://build.osrfoundation.org/job/gazebo-abichecker-any_to_any-xenial-amd64/314/API_ABI_report/). I was suspecting [on this change](#!/osrf/gazebo/compare/gazebo8_8.1.0%0Dgazebo8_8.0.0#Lgazebo/gui/GuiPlugin.hhT42) but I think it is ok.\r\n\r\nMy research [guided me to this PR](#!/osrf/gazebo/pull-requests/2631/backport-gui-plugin-fixes/diff) and what I can say is that problem is triggered in this call to [gazebo::GUIPlugin::Create](#!/osrf/gazebo/src/2a03bae6b8528908d80204d7a213585352424a72/gazebo/gui/RenderWidget.cc?at=gazebo8&fileviewer=file-view-default#RenderWidget.cc-308).\r\n\r\nTo reproduce the problem:\r\n\r\n```\r\nsudo aptitude install ros-kinetic-gazebo8-ros-pkgs\r\nroslaunch gazebo_ros empty_world.launch\r\n```", "markup": "markdown", "html": "<p>Originally reported in the <a data-is-external-link=\"true\" href=\"https://github.com/ros-simulation/gazebo_ros_pkgs/issues/581\" rel=\"nofollow\">gazebo_ros_pkgs</a> I was able to reproduce the problem easily updating gazebo8 from 8.0.0 to 8.1.0 (<a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/compare/gazebo8_8.1.0%0Dgazebo8_8.0.0\" rel=\"nofollow\">all changes from 8.0 to 8.1</a>. Here is the useful part of the trace:</p>\n<div class=\"codehilite\"><pre><span></span>======= Backtrace: =========\n/lib/x86_64-linux-gnu/libc.so.6(+0x777e5)[0x7efffed2e7e5]\n/lib/x86_64-linux-gnu/libc.so.6(+0x7fe0a)[0x7efffed36e0a]\n/lib/x86_64-linux-gnu/libc.so.6(cfree+0x4c)[0x7efffed3a98c]\n/usr/lib/x86_64-linux-gnu/libstdc++.so.6(_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE9_M_assignERKS4_+0xaf)[0x7effff3b53ef]\n/usr/lib/x86_64-linux-gnu/libgazebo_gui.so.8(+0x1adf2f)[0x7f0000957f2f]\n/usr/lib/x86_64-linux-gnu/libgazebo_gui.so.8(_ZN6gazebo3gui12RenderWidget9AddPluginERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEESt10shared_ptrIN3sdf7ElementEE+0xc6)[0x7f00009aa946]\n/usr/lib/x86_64-linux-gnu/libgazebo_gui.so.8(_ZN6gazebo3gui12RenderWidget10AddPluginsERKSt6vectorINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEESaIS8_EE+0xf6)[0x7f00009aae66]\n/usr/lib/x86_64-linux-gnu/libgazebo_gui.so.8(_ZN6gazebo3gui3runEiPPc+0x146)[0x7f000091c866]\ngzclient[0x40275c]\n/lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xf0)[0x7efffecd7830]\ngzclient(_start+0x29)[0x4029c9]\n</pre></div>\n\n\n<p>It could be a problem related with the ABI although <a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/job/gazebo-abichecker-any_to_any-xenial-amd64/314/API_ABI_report/\" rel=\"nofollow\">the checker is reporting no errors</a>. I was suspecting <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/compare/gazebo8_8.1.0%0Dgazebo8_8.0.0#Lgazebo/gui/GuiPlugin.hhT42\" rel=\"nofollow\">on this change</a> but I think it is ok.</p>\n<p>My research <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/pull-requests/2631/backport-gui-plugin-fixes/diff\" rel=\"nofollow\">guided me to this PR</a> and what I can say is that problem is triggered in this call to <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/2a03bae6b8528908d80204d7a213585352424a72/gazebo/gui/RenderWidget.cc?at=gazebo8&amp;fileviewer=file-view-default#RenderWidget.cc-308\" rel=\"nofollow\">gazebo::GUIPlugin::Create</a>.</p>\n<p>To reproduce the problem:</p>\n<div class=\"codehilite\"><pre><span></span>sudo aptitude install ros-kinetic-gazebo8-ros-pkgs\nroslaunch gazebo_ros empty_world.launch\n</pre></div>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": {"name": "8.1", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/243455.json"}}}, "edited_on": null, "created_on": "2017-05-16T21:49:11.423973+00:00", "milestone": null, "updated_on": "2017-06-05T16:36:15.887087+00:00", "type": "issue", "id": 2279}