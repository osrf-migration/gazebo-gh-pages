{"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2343/comments/40277070.json"}, "html": {"href": "#!/osrf/gazebo/issues/2343#comment-40277070"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2343.json"}}, "type": "issue", "id": 2343, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Symbol collision for `BUILD_TYPE_*` variables with dart"}, "content": {"raw": "Good to know. I wonder how many other cmake-based projects run into this issue, and how others have handled it.\n\nOne solution is to qualify the macros with the project name (e.g. `DART_BUILD_TYPE_RELEASE` and `GAZEBO_BUILD_TYPE_RELEASE`), but the problem with that is: What if DART were to provide some header-based implementations (e.g. templates) whose compilation varies based on the build type? Those headers would want to know what build type is being used by Gazebo.\n\nMaybe we could instead mask these variables with some `#ifndef ...` statements. I can investigate whether cmake has an automated way of doing that.", "markup": "markdown", "html": "<p>Good to know. I wonder how many other cmake-based projects run into this issue, and how others have handled it.</p>\n<p>One solution is to qualify the macros with the project name (e.g. <code>DART_BUILD_TYPE_RELEASE</code> and <code>GAZEBO_BUILD_TYPE_RELEASE</code>), but the problem with that is: What if DART were to provide some header-based implementations (e.g. templates) whose compilation varies based on the build type? Those headers would want to know what build type is being used by Gazebo.</p>\n<p>Maybe we could instead mask these variables with some <code>#ifndef ...</code> statements. I can investigate whether cmake has an automated way of doing that.</p>", "type": "rendered"}, "created_on": "2017-10-04T00:47:39.558525+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": null, "type": "issue_comment", "id": 40277070}