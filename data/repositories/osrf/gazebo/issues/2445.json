{"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2445/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2445.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2445/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2445/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2445/insufficient-version-check-of-qwt"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2445/vote"}}, "reporter": {"display_name": "Dirk Thomas", "uuid": "{a8effe61-90f2-4949-89a8-9c6972071de7}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Ba8effe61-90f2-4949-89a8-9c6972071de7%7D"}, "html": {"href": "https://bitbucket.org/%7Ba8effe61-90f2-4949-89a8-9c6972071de7%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/2f77876936467715bd75258c967bcaa4d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsDT-2.png"}}, "nickname": "Dirk Thomas", "type": "user", "account_id": "557058:763d049c-c4c6-4e59-85a5-2d7a8fbbdd58"}, "title": "Insufficient version check of Qwt", "component": {"name": "build", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/132954.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "The CMake code currently only checks if the found version of Qwt is at least 6.1.0 (see #!/osrf/gazebo/src/8afec0e739b451a841f8b09dad6bb6c4c05c4d86/cmake/SearchForStuff.cmake?at=default&fileviewer=file-view-default#SearchForStuff.cmake-852).\r\n\r\nE.g. on Ubuntu Xenial that test is insufficient. If the user has installed [libqwt-dev](https://packages.ubuntu.com/xenial/libqwt-dev) which provides the Qt 4-based version of Qwt 6.1.2 the version check is satisfied but the resulting artifacts mixes Qt 4 and 5 and immediately segfault.\r\n\r\nThe expected behavior would be that CMake fails with an error message that only a Qt 4 version of Qwt was found.\r\n\r\nIf the Qt 5 Qwt packages [libqwt-qt5-dev](https://packages.ubuntu.com/xenial/libqwt-qt5-dev) is being installed too CMake picks up the right version (at least for me).", "markup": "markdown", "html": "<p>The CMake code currently only checks if the found version of Qwt is at least 6.1.0 (see <a href=\"#!/osrf/gazebo/src/8afec0e739b451a841f8b09dad6bb6c4c05c4d86/cmake/SearchForStuff.cmake?at=default&amp;fileviewer=file-view-default#SearchForStuff.cmake-852\" rel=\"nofollow\" class=\"ap-connect-link\">#!/osrf/gazebo/src/8afec0e739b451a841f8b09dad6bb6c4c05c4d86/cmake/SearchForStuff.cmake?at=default&amp;fileviewer=file-view-default#SearchForStuff.cmake-852</a>).</p>\n<p>E.g. on Ubuntu Xenial that test is insufficient. If the user has installed <a data-is-external-link=\"true\" href=\"https://packages.ubuntu.com/xenial/libqwt-dev\" rel=\"nofollow\">libqwt-dev</a> which provides the Qt 4-based version of Qwt 6.1.2 the version check is satisfied but the resulting artifacts mixes Qt 4 and 5 and immediately segfault.</p>\n<p>The expected behavior would be that CMake fails with an error message that only a Qt 4 version of Qwt was found.</p>\n<p>If the Qt 5 Qwt packages <a data-is-external-link=\"true\" href=\"https://packages.ubuntu.com/xenial/libqwt-qt5-dev\" rel=\"nofollow\">libqwt-qt5-dev</a> is being installed too CMake picks up the right version (at least for me).</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "all", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/225575.json"}}}, "edited_on": null, "created_on": "2018-03-22T20:54:00.861267+00:00", "milestone": null, "updated_on": "2018-03-22T21:25:51.121101+00:00", "type": "issue", "id": 2445}