{"priority": "minor", "kind": "proposal", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/702/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/702.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/702/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/702/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/702/setting-maximal-torques"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/702/vote"}}, "reporter": {"display_name": "Fadri Furrer", "uuid": "{71ff7193-e7dc-452f-ba2f-da743018ab54}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B71ff7193-e7dc-452f-ba2f-da743018ab54%7D"}, "html": {"href": "https://bitbucket.org/%7B71ff7193-e7dc-452f-ba2f-da743018ab54%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b4b09d874026ebb17a303fefc1c42a99d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsFF-3.png"}}, "nickname": "ffurrer", "type": "user", "account_id": "557058:b59ba506-a9fb-4e9a-bbf1-f67d12819f7e"}, "title": "setting maximal torques", "component": null, "votes": 0, "watches": 4, "content": {"raw": "for a hinge joint a `SetMaxForce` function, doesn't make sense and it also has no influence in the code, so it created some confusion to me at first (should maybe be removed), what is actually checked and makes sense to me is:\r\n\r\n    // truncate effort if effortLimit is not negative\r\n    if (this->effortLimit[_index] >= 0)\r\n    _effort = math::clamp(_effort,\r\n        -this->effortLimit[_index], this->effortLimit[_index]);\r\n\r\ntherefore there should be a function called `SetMaxTorque` instead, where one can set the `effortLimit`, which currently can only be set through sdf.\r\n\r\nI only checked it for hinge joints, because this are the ones we're using, but this probably also applies for other joint types.\r\n\r\n\r\nlet me know if I should create a pull request, I just wasn't sure if I missed something ;)", "markup": "markdown", "html": "<p>for a hinge joint a <code>SetMaxForce</code> function, doesn't make sense and it also has no influence in the code, so it created some confusion to me at first (should maybe be removed), what is actually checked and makes sense to me is:</p>\n<div class=\"codehilite\"><pre><span></span>// truncate effort if effortLimit is not negative\nif (this-&gt;effortLimit[_index] &gt;= 0)\n_effort = math::clamp(_effort,\n    -this-&gt;effortLimit[_index], this-&gt;effortLimit[_index]);\n</pre></div>\n\n\n<p>therefore there should be a function called <code>SetMaxTorque</code> instead, where one can set the <code>effortLimit</code>, which currently can only be set through sdf.</p>\n<p>I only checked it for hinge joints, because this are the ones we're using, but this probably also applies for other joint types.</p>\n<p>let me know if I should create a pull request, I just wasn't sure if I missed something ;)</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "all", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/225575.json"}}}, "edited_on": null, "created_on": "2013-05-29T18:38:29.789395+00:00", "milestone": null, "updated_on": "2016-09-14T19:40:20.198186+00:00", "type": "issue", "id": 702}