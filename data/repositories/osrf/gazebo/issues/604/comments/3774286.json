{"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/604/comments/3774286.json"}, "html": {"href": "#!/osrf/gazebo/issues/604#comment-3774286"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/604.json"}}, "type": "issue", "id": 604, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "TransportStressTest.ManyNodes failing in Jenkins"}, "content": {"raw": "I was just watching top while running the transport_stress test, and it can require up to 1.5 GB of memory. I'm guessing that may be a factor in the test failures. Also, I've seen some of the tests [timeout even after reaching nearly the end of the test](http://build.osrfoundation.org/job/gazebo-default-devel-precise-amd64/302/consoleFull). I caught a backtrace of one of these hangs in my virtual machine (so take with a grain of salt):\n~~~\n[==========] Running 2 tests from 1 test case.\n[----------] Global test environment set-up.\n[----------] 2 tests from TransportStressTest\n[ RUN      ] TransportStressTest.LocalPublish\n[New Thread 0x7fffdffff700 (LWP 7636)]\nGazebo multi-robot simulator, version 1.7.0\nCopyright (C) 2013 Open Source Robotics Foundation.\nReleased under the Apache 2 License.\nhttp://gazebosim.org\n\nWarning [parser.cc:361] Converting a deprecated SDF source[/home/scpeters/local/share/gazebo-1.6/worlds/empty.world].\nWarning [Converter.cc:60]   Version[1.3] to Version[1.4]\n  Please use the gzsdf tool to update your SDF files.\n    $ gzsdf convert [sdf_file]\nWarning [parser.cc:361] Converting a deprecated SDF source[/home/scpeters/.gazebo/models/sun/model.sdf].\nWarning [Converter.cc:60]   Version[1.2] to Version[1.4]\n  Please use the gzsdf tool to update your SDF files.\n    $ gzsdf convert [sdf_file]\nWarning [parser.cc:361] Converting a deprecated SDF source[/home/scpeters/.gazebo/models/ground_plane/model.sdf].\nWarning [Converter.cc:60]   Version[1.2] to Version[1.4]\n  Please use the gzsdf tool to update your SDF files.\n    $ gzsdf convert [sdf_file]\n[New Thread 0x7fffdf7fe700 (LWP 7637)]\n[New Thread 0x7fffd7fff700 (LWP 7638)]\nMsg Waiting for master\nMsg Connected to gazebo master @ http://127.0.0.1:11345\nMsg Publicized address: 10.211.55.4\nError [RenderEngine.cc:608] Can't open display: asdf\nWarning [RenderEngine.cc:87] Unable to create X window. Rendering will be disabled\n[New Thread 0x7fffdeffd700 (LWP 7639)]\n[New Thread 0x7fffde5fc700 (LWP 7640)]\n[New Thread 0x7fffde1fb700 (LWP 7641)]\n[New Thread 0x7fffdddfa700 (LWP 7642)]\n[New Thread 0x7fffdd5f9700 (LWP 7643)]\n[New Thread 0x7fffdcdf8700 (LWP 7644)]\nDbg ServerFixture load in 0.02 seconds, timeout after 60 seconds\nMsg Publish Complete\nMsg Time to publish 1000000 messages = 1 169370210\n[Thread 0x7fffdcdf8700 (LWP 7644) exited]\n[Thread 0x7fffdddfa700 (LWP 7642) exited]\n[Thread 0x7fffdd5f9700 (LWP 7643) exited]\n[Thread 0x7fffdeffd700 (LWP 7639) exited]\n[Thread 0x7fffd7fff700 (LWP 7638) exited]\n[Thread 0x7fffdf7fe700 (LWP 7637) exited]\n[Thread 0x7fffde1fb700 (LWP 7641) exited]\n[Thread 0x7fffde5fc700 (LWP 7640) exited]\n[Thread 0x7fffdffff700 (LWP 7636) exited]\n[       OK ] TransportStressTest.LocalPublish (2391 ms)\n[ RUN      ] TransportStressTest.ManyNodes\n[New Thread 0x7fffdffff700 (LWP 7645)]\nGazebo multi-robot simulator, version 1.7.0\nCopyright (C) 2013 Open Source Robotics Foundation.\nReleased under the Apache 2 License.\nhttp://gazebosim.org\n\nWarning [parser.cc:361] Converting a deprecated SDF source[/home/scpeters/local/share/gazebo-1.6/worlds/empty.world].\nWarning [Converter.cc:60]   Version[1.3] to Version[1.4]\n  Please use the gzsdf tool to update your SDF files.\n    $ gzsdf convert [sdf_file]\nWarning [parser.cc:361] Converting a deprecated SDF source[/home/scpeters/.gazebo/models/sun/model.sdf].\nWarning [Converter.cc:60]   Version[1.2] to Version[1.4]\n  Please use the gzsdf tool to update your SDF files.\n    $ gzsdf convert [sdf_file]\nWarning [parser.cc:361] Converting a deprecated SDF source[/home/scpeters/.gazebo/models/ground_plane/model.sdf].\nWarning [Converter.cc:60]   Version[1.2] to Version[1.4]\n  Please use the gzsdf tool to update your SDF files.\n    $ gzsdf convert [sdf_file]\n[New Thread 0x7fffdf7fe700 (LWP 7646)]\n[New Thread 0x7fffdeffd700 (LWP 7647)]\nMsg Waiting for master\nMsg Connected to gazebo master @ http://127.0.0.1:11345\nMsg Publicized address: 10.211.55.4\nError [RenderEngine.cc:608] Can't open display: asdf\nWarning [RenderEngine.cc:87] Unable to create X window. Rendering will be disabled\n[New Thread 0x7fffdddfa700 (LWP 7648)]\n[New Thread 0x7fffde5fc700 (LWP 7649)]\n[New Thread 0x7fffde1fb700 (LWP 7650)]\n[New Thread 0x7fffdd5f9700 (LWP 7651)]\n[New Thread 0x7fffdcdf8700 (LWP 7652)]\n[New Thread 0x7fffd7fff700 (LWP 7653)]\nDbg ServerFixture load in 0.02 seconds, timeout after 60 seconds\nMsg Publish complete\nWarning [Publisher.cc:127] Queue limit reached for topic /gazebo/default/diagnostics, deleting message. This warning is printed only once.\nWarning [Publisher.cc:127] Queue limit reached for topic /gazebo/default/physics/contacts, deleting message. This warning is printed only once.\nMsg Time to publish 20000 = 0 20401673\nMsg Time to receive 40000000 = 66 667915523\n[Thread 0x7fffd7fff700 (LWP 7653) exited]\n^C\nProgram received signal SIGINT, Interrupt.\n0x00007ffff6544d84 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib/x86_64-linux-gnu/libpthread.so.0\n(gdb) bt\n#0  0x00007ffff6544d84 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib/x86_64-linux-gnu/libpthread.so.0\n#1  0x00007ffff5e3afdb in boost::thread::join() () from /usr/lib/libboost_thread.so.1.46.1\n#2  0x000000000043e5da in ServerFixture::Unload() ()\n#3  0x0000000000479f5d in void testing::internal::HandleExceptionsInMethodIfSupported<testing::Test, void>(testing::Test*, void (testing::Test::*)(), char const*) ()\n#4  0x00000000004721f3 in testing::Test::Run() ()\n#5  0x0000000000472322 in testing::TestInfo::Run() ()\n#6  0x0000000000472557 in testing::TestCase::Run() ()\n#7  0x00000000004728be in testing::internal::UnitTestImpl::RunAllTests() ()\n#8  0x0000000000472ab7 in testing::UnitTest::Run() ()\n#9  0x000000000043728f in main ()\n(gdb) threat apply all bt\nUndefined command: \"threat\".  Try \"help\".\n(gdb) thread apply all bt\n\nThread 19 (Thread 0x7fffdcdf8700 (LWP 7652)):\n#0  0x00007ffff6544d84 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib/x86_64-linux-gnu/libpthread.so.0\n#1  0x00007ffff70c62ea in gazebo::sensors::SensorManager::SensorContainer::RunLoop() ()\n   from /home/scpeters/osrf/gazebo/build/gazebo/sensors/libgazebo_sensors.so.1\n#2  0x00007ffff5e39ce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\n#3  0x00007ffff6540e9a in start_thread () from /lib/x86_64-linux-gnu/libpthread.so.0\n#4  0x00007ffff4fb64bd in clone () from /lib/x86_64-linux-gnu/libc.so.6\n#5  0x0000000000000000 in ?? ()\n\nThread 18 (Thread 0x7fffdd5f9700 (LWP 7651)):\n#0  0x00007ffff654789c in __lll_lock_wait () from /lib/x86_64-linux-gnu/libpthread.so.0\n#1  0x00007ffff6543065 in _L_lock_858 () from /lib/x86_64-linux-gnu/libpthread.so.0\n#2  0x00007ffff6542eba in pthread_mutex_lock () from /lib/x86_64-linux-gnu/libpthread.so.0\n#3  0x00007ffff5e3a4a4 in boost::this_thread::interruption_point() () from /usr/lib/libboost_thread.so.1.46.1\n#4  0x00007ffff70c62ef in gazebo::sensors::SensorManager::SensorContainer::RunLoop() ()\n   from /home/scpeters/osrf/gazebo/build/gazebo/sensors/libgazebo_sensors.so.1\n#5  0x00007ffff5e39ce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\n#6  0x00007ffff6540e9a in start_thread () from /lib/x86_64-linux-gnu/libpthread.so.0\n#7  0x00007ffff4fb64bd in clone () from /lib/x86_64-linux-gnu/libc.so.6\n#8  0x0000000000000000 in ?? ()\n\nThread 17 (Thread 0x7fffde1fb700 (LWP 7650)):\n#0  0x00007ffff4fb26d9 in syscall () from /lib/x86_64-linux-gnu/libc.so.6\n#1  0x00007ffff57ae293 in ?? () from /usr/lib/libtbb.so.2\n#2  0x00007ffff57ae2c9 in ?? () from /usr/lib/libtbb.so.2\n#3  0x00007ffff6540e9a in start_thread () from /lib/x86_64-linux-gnu/libpthread.so.0\n#4  0x00007ffff4fb64bd in clone () from /lib/x86_64-linux-gnu/libc.so.6\n#5  0x0000000000000000 in ?? ()\n\nThread 16 (Thread 0x7fffde5fc700 (LWP 7649)):\n#0  0x00007ffff4fb26d9 in syscall () from /lib/x86_64-linux-gnu/libc.so.6\n#1  0x00007ffff57ae293 in ?? () from /usr/lib/libtbb.so.2\n#2  0x00007ffff57ae2c9 in ?? () from /usr/lib/libtbb.so.2\n#3  0x00007ffff6540e9a in start_thread () from /lib/x86_64-linux-gnu/libpthread.so.0\n#4  0x00007ffff4fb64bd in clone () from /lib/x86_64-linux-gnu/libc.so.6\n#5  0x0000000000000000 in ?? ()\n\nThread 15 (Thread 0x7fffdddfa700 (LWP 7648)):\n#0  0x00007ffff65450fe in pthread_cond_timedwait@@GLIBC_2.3.2 () from /lib/x86_64-linux-gnu/libpthread.so.0\n#1  0x00007ffff67a9d22 in gazebo::transport::ConnectionManager::Run() () from /home/scpeters/osrf/gazebo/build/gazebo/transport/libgazebo_transport.so.1\n#2  0x00007ffff5e39ce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\n#3  0x00007ffff6540e9a in start_thread () from /lib/x86_64-linux-gnu/libpthread.so.0\n#4  0x00007ffff4fb64bd in clone () from /lib/x86_64-linux-gnu/libc.so.6\n#5  0x0000000000000000 in ?? ()\n\nThread 14 (Thread 0x7fffdeffd700 (LWP 7647)):\n#0  0x00007ffff654852d in nanosleep () from /lib/x86_64-linux-gnu/libpthread.so.0\n---Type <return> to continue, or q <return> to quit---\n#1  0x00007ffff7906c0d in gazebo::common::Time::Sleep(gazebo::common::Time const&) ()\n   from /home/scpeters/osrf/gazebo/build/gazebo/common/libgazebo_common.so.1\n#2  0x00007ffff7907153 in gazebo::common::Time::MSleep(unsigned int) () from /home/scpeters/osrf/gazebo/build/gazebo/common/libgazebo_common.so.1\n#3  0x000000000045598d in gazebo::Master::Run() ()\n#4  0x00007ffff5e39ce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\n#5  0x00007ffff6540e9a in start_thread () from /lib/x86_64-linux-gnu/libpthread.so.0\n#6  0x00007ffff4fb64bd in clone () from /lib/x86_64-linux-gnu/libc.so.6\n#7  0x0000000000000000 in ?? ()\n\nThread 13 (Thread 0x7fffdf7fe700 (LWP 7646)):\n#0  0x00007ffff4fb6b53 in epoll_wait () from /lib/x86_64-linux-gnu/libc.so.6\n#1  0x00007ffff67b1584 in ?? () from /home/scpeters/osrf/gazebo/build/gazebo/transport/libgazebo_transport.so.1\n#2  0x00007ffff67b1cf4 in ?? () from /home/scpeters/osrf/gazebo/build/gazebo/transport/libgazebo_transport.so.1\n#3  0x00007ffff67b2bb5 in boost::asio::io_service::run() () from /home/scpeters/osrf/gazebo/build/gazebo/transport/libgazebo_transport.so.1\n#4  0x00007ffff5e39ce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\n#5  0x00007ffff6540e9a in start_thread () from /lib/x86_64-linux-gnu/libpthread.so.0\n#6  0x00007ffff4fb64bd in clone () from /lib/x86_64-linux-gnu/libc.so.6\n#7  0x0000000000000000 in ?? ()\n\nThread 12 (Thread 0x7fffdffff700 (LWP 7645)):\n#0  0x00007ffff654789c in __lll_lock_wait () from /lib/x86_64-linux-gnu/libpthread.so.0\n#1  0x00007ffff6543065 in _L_lock_858 () from /lib/x86_64-linux-gnu/libpthread.so.0\n#2  0x00007ffff6542eba in pthread_mutex_lock () from /lib/x86_64-linux-gnu/libpthread.so.0\n#3  0x00007ffff5e3a172 in boost::thread::interrupt() () from /usr/lib/libboost_thread.so.1.46.1\n#4  0x00007ffff70c384e in gazebo::sensors::SensorManager::SensorContainer::Stop() ()\n   from /home/scpeters/osrf/gazebo/build/gazebo/sensors/libgazebo_sensors.so.1\n#5  0x00007ffff70c38ac in gazebo::sensors::SensorManager::Stop() () from /home/scpeters/osrf/gazebo/build/gazebo/sensors/libgazebo_sensors.so.1\n#6  0x0000000000447135 in gazebo::Server::Run() ()\n#7  0x0000000000440cef in ServerFixture::RunServer(std::string const&, bool, std::string const&) ()\n#8  0x00007ffff5e39ce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\n#9  0x00007ffff6540e9a in start_thread () from /lib/x86_64-linux-gnu/libpthread.so.0\n#10 0x00007ffff4fb64bd in clone () from /lib/x86_64-linux-gnu/libc.so.6\n#11 0x0000000000000000 in ?? ()\n\nThread 2 (Thread 0x7fffe4cbd700 (LWP 7635)):\n#0  0x00007ffff6544d84 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib/x86_64-linux-gnu/libpthread.so.0\n#1  0x00007ffff78ee2b4 in gazebo::common::ModelDatabase::UpdateModelCache() () from /home/scpeters/osrf/gazebo/build/gazebo/common/libgazebo_common.so.1\n#2  0x00007ffff5e39ce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\n#3  0x00007ffff6540e9a in start_thread () from /lib/x86_64-linux-gnu/libpthread.so.0\n#4  0x00007ffff4fb64bd in clone () from /lib/x86_64-linux-gnu/libc.so.6\n#5  0x0000000000000000 in ?? ()\n\nThread 1 (Thread 0x7ffff7fa6800 (LWP 7632)):\n#0  0x00007ffff6544d84 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib/x86_64-linux-gnu/libpthread.so.0\n#1  0x00007ffff5e3afdb in boost::thread::join() () from /usr/lib/libboost_thread.so.1.46.1\n#2  0x000000000043e5da in ServerFixture::Unload() ()\n#3  0x0000000000479f5d in void testing::internal::HandleExceptionsInMethodIfSupported<testing::Test, void>(testing::Test*, void (testing::Test::*)(), char const*) ()\n---Type <return> to continue, or q <return> to quit---\n#4  0x00000000004721f3 in testing::Test::Run() ()\n#5  0x0000000000472322 in testing::TestInfo::Run() ()\n#6  0x0000000000472557 in testing::TestCase::Run() ()\n#7  0x00000000004728be in testing::internal::UnitTestImpl::RunAllTests() ()\n#8  0x0000000000472ab7 in testing::UnitTest::Run() ()\n#9  0x000000000043728f in main ()\n(gdb) \n~~~", "markup": "markdown", "html": "<p>I was just watching top while running the transport_stress test, and it can require up to 1.5 GB of memory. I'm guessing that may be a factor in the test failures. Also, I've seen some of the tests <a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/job/gazebo-default-devel-precise-amd64/302/consoleFull\" rel=\"nofollow\">timeout even after reaching nearly the end of the test</a>. I caught a backtrace of one of these hangs in my virtual machine (so take with a grain of salt):</p>\n<div class=\"codehilite\"><pre><span></span>[==========] Running 2 tests from 1 test case.\n[----------] Global test environment set-up.\n[----------] 2 tests from TransportStressTest\n[ RUN      ] TransportStressTest.LocalPublish\n[New Thread 0x7fffdffff700 (LWP 7636)]\nGazebo multi-robot simulator, version 1.7.0\nCopyright (C) 2013 Open Source Robotics Foundation.\nReleased under the Apache 2 License.\nhttp://gazebosim.org\n\nWarning [parser.cc:361] Converting a deprecated SDF source[/home/scpeters/local/share/gazebo-1.6/worlds/empty.world].\nWarning [Converter.cc:60]   Version[1.3] to Version[1.4]\n  Please use the gzsdf tool to update your SDF files.\n    $ gzsdf convert [sdf_file]\nWarning [parser.cc:361] Converting a deprecated SDF source[/home/scpeters/.gazebo/models/sun/model.sdf].\nWarning [Converter.cc:60]   Version[1.2] to Version[1.4]\n  Please use the gzsdf tool to update your SDF files.\n    $ gzsdf convert [sdf_file]\nWarning [parser.cc:361] Converting a deprecated SDF source[/home/scpeters/.gazebo/models/ground_plane/model.sdf].\nWarning [Converter.cc:60]   Version[1.2] to Version[1.4]\n  Please use the gzsdf tool to update your SDF files.\n    $ gzsdf convert [sdf_file]\n[New Thread 0x7fffdf7fe700 (LWP 7637)]\n[New Thread 0x7fffd7fff700 (LWP 7638)]\nMsg Waiting for master\nMsg Connected to gazebo master @ http://127.0.0.1:11345\nMsg Publicized address: 10.211.55.4\nError [RenderEngine.cc:608] Can&#39;t open display: asdf\nWarning [RenderEngine.cc:87] Unable to create X window. Rendering will be disabled\n[New Thread 0x7fffdeffd700 (LWP 7639)]\n[New Thread 0x7fffde5fc700 (LWP 7640)]\n[New Thread 0x7fffde1fb700 (LWP 7641)]\n[New Thread 0x7fffdddfa700 (LWP 7642)]\n[New Thread 0x7fffdd5f9700 (LWP 7643)]\n[New Thread 0x7fffdcdf8700 (LWP 7644)]\nDbg ServerFixture load in 0.02 seconds, timeout after 60 seconds\nMsg Publish Complete\nMsg Time to publish 1000000 messages = 1 169370210\n[Thread 0x7fffdcdf8700 (LWP 7644) exited]\n[Thread 0x7fffdddfa700 (LWP 7642) exited]\n[Thread 0x7fffdd5f9700 (LWP 7643) exited]\n[Thread 0x7fffdeffd700 (LWP 7639) exited]\n[Thread 0x7fffd7fff700 (LWP 7638) exited]\n[Thread 0x7fffdf7fe700 (LWP 7637) exited]\n[Thread 0x7fffde1fb700 (LWP 7641) exited]\n[Thread 0x7fffde5fc700 (LWP 7640) exited]\n[Thread 0x7fffdffff700 (LWP 7636) exited]\n[       OK ] TransportStressTest.LocalPublish (2391 ms)\n[ RUN      ] TransportStressTest.ManyNodes\n[New Thread 0x7fffdffff700 (LWP 7645)]\nGazebo multi-robot simulator, version 1.7.0\nCopyright (C) 2013 Open Source Robotics Foundation.\nReleased under the Apache 2 License.\nhttp://gazebosim.org\n\nWarning [parser.cc:361] Converting a deprecated SDF source[/home/scpeters/local/share/gazebo-1.6/worlds/empty.world].\nWarning [Converter.cc:60]   Version[1.3] to Version[1.4]\n  Please use the gzsdf tool to update your SDF files.\n    $ gzsdf convert [sdf_file]\nWarning [parser.cc:361] Converting a deprecated SDF source[/home/scpeters/.gazebo/models/sun/model.sdf].\nWarning [Converter.cc:60]   Version[1.2] to Version[1.4]\n  Please use the gzsdf tool to update your SDF files.\n    $ gzsdf convert [sdf_file]\nWarning [parser.cc:361] Converting a deprecated SDF source[/home/scpeters/.gazebo/models/ground_plane/model.sdf].\nWarning [Converter.cc:60]   Version[1.2] to Version[1.4]\n  Please use the gzsdf tool to update your SDF files.\n    $ gzsdf convert [sdf_file]\n[New Thread 0x7fffdf7fe700 (LWP 7646)]\n[New Thread 0x7fffdeffd700 (LWP 7647)]\nMsg Waiting for master\nMsg Connected to gazebo master @ http://127.0.0.1:11345\nMsg Publicized address: 10.211.55.4\nError [RenderEngine.cc:608] Can&#39;t open display: asdf\nWarning [RenderEngine.cc:87] Unable to create X window. Rendering will be disabled\n[New Thread 0x7fffdddfa700 (LWP 7648)]\n[New Thread 0x7fffde5fc700 (LWP 7649)]\n[New Thread 0x7fffde1fb700 (LWP 7650)]\n[New Thread 0x7fffdd5f9700 (LWP 7651)]\n[New Thread 0x7fffdcdf8700 (LWP 7652)]\n[New Thread 0x7fffd7fff700 (LWP 7653)]\nDbg ServerFixture load in 0.02 seconds, timeout after 60 seconds\nMsg Publish complete\nWarning [Publisher.cc:127] Queue limit reached for topic /gazebo/default/diagnostics, deleting message. This warning is printed only once.\nWarning [Publisher.cc:127] Queue limit reached for topic /gazebo/default/physics/contacts, deleting message. This warning is printed only once.\nMsg Time to publish 20000 = 0 20401673\nMsg Time to receive 40000000 = 66 667915523\n[Thread 0x7fffd7fff700 (LWP 7653) exited]\n^C\nProgram received signal SIGINT, Interrupt.\n0x00007ffff6544d84 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib/x86_64-linux-gnu/libpthread.so.0\n(gdb) bt\n#0  0x00007ffff6544d84 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib/x86_64-linux-gnu/libpthread.so.0\n#1  0x00007ffff5e3afdb in boost::thread::join() () from /usr/lib/libboost_thread.so.1.46.1\n#2  0x000000000043e5da in ServerFixture::Unload() ()\n#3  0x0000000000479f5d in void testing::internal::HandleExceptionsInMethodIfSupported&lt;testing::Test, void&gt;(testing::Test*, void (testing::Test::*)(), char const*) ()\n#4  0x00000000004721f3 in testing::Test::Run() ()\n#5  0x0000000000472322 in testing::TestInfo::Run() ()\n#6  0x0000000000472557 in testing::TestCase::Run() ()\n#7  0x00000000004728be in testing::internal::UnitTestImpl::RunAllTests() ()\n#8  0x0000000000472ab7 in testing::UnitTest::Run() ()\n#9  0x000000000043728f in main ()\n(gdb) threat apply all bt\nUndefined command: &quot;threat&quot;.  Try &quot;help&quot;.\n(gdb) thread apply all bt\n\nThread 19 (Thread 0x7fffdcdf8700 (LWP 7652)):\n#0  0x00007ffff6544d84 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib/x86_64-linux-gnu/libpthread.so.0\n#1  0x00007ffff70c62ea in gazebo::sensors::SensorManager::SensorContainer::RunLoop() ()\n   from /home/scpeters/osrf/gazebo/build/gazebo/sensors/libgazebo_sensors.so.1\n#2  0x00007ffff5e39ce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\n#3  0x00007ffff6540e9a in start_thread () from /lib/x86_64-linux-gnu/libpthread.so.0\n#4  0x00007ffff4fb64bd in clone () from /lib/x86_64-linux-gnu/libc.so.6\n#5  0x0000000000000000 in ?? ()\n\nThread 18 (Thread 0x7fffdd5f9700 (LWP 7651)):\n#0  0x00007ffff654789c in __lll_lock_wait () from /lib/x86_64-linux-gnu/libpthread.so.0\n#1  0x00007ffff6543065 in _L_lock_858 () from /lib/x86_64-linux-gnu/libpthread.so.0\n#2  0x00007ffff6542eba in pthread_mutex_lock () from /lib/x86_64-linux-gnu/libpthread.so.0\n#3  0x00007ffff5e3a4a4 in boost::this_thread::interruption_point() () from /usr/lib/libboost_thread.so.1.46.1\n#4  0x00007ffff70c62ef in gazebo::sensors::SensorManager::SensorContainer::RunLoop() ()\n   from /home/scpeters/osrf/gazebo/build/gazebo/sensors/libgazebo_sensors.so.1\n#5  0x00007ffff5e39ce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\n#6  0x00007ffff6540e9a in start_thread () from /lib/x86_64-linux-gnu/libpthread.so.0\n#7  0x00007ffff4fb64bd in clone () from /lib/x86_64-linux-gnu/libc.so.6\n#8  0x0000000000000000 in ?? ()\n\nThread 17 (Thread 0x7fffde1fb700 (LWP 7650)):\n#0  0x00007ffff4fb26d9 in syscall () from /lib/x86_64-linux-gnu/libc.so.6\n#1  0x00007ffff57ae293 in ?? () from /usr/lib/libtbb.so.2\n#2  0x00007ffff57ae2c9 in ?? () from /usr/lib/libtbb.so.2\n#3  0x00007ffff6540e9a in start_thread () from /lib/x86_64-linux-gnu/libpthread.so.0\n#4  0x00007ffff4fb64bd in clone () from /lib/x86_64-linux-gnu/libc.so.6\n#5  0x0000000000000000 in ?? ()\n\nThread 16 (Thread 0x7fffde5fc700 (LWP 7649)):\n#0  0x00007ffff4fb26d9 in syscall () from /lib/x86_64-linux-gnu/libc.so.6\n#1  0x00007ffff57ae293 in ?? () from /usr/lib/libtbb.so.2\n#2  0x00007ffff57ae2c9 in ?? () from /usr/lib/libtbb.so.2\n#3  0x00007ffff6540e9a in start_thread () from /lib/x86_64-linux-gnu/libpthread.so.0\n#4  0x00007ffff4fb64bd in clone () from /lib/x86_64-linux-gnu/libc.so.6\n#5  0x0000000000000000 in ?? ()\n\nThread 15 (Thread 0x7fffdddfa700 (LWP 7648)):\n#0  0x00007ffff65450fe in pthread_cond_timedwait@@GLIBC_2.3.2 () from /lib/x86_64-linux-gnu/libpthread.so.0\n#1  0x00007ffff67a9d22 in gazebo::transport::ConnectionManager::Run() () from /home/scpeters/osrf/gazebo/build/gazebo/transport/libgazebo_transport.so.1\n#2  0x00007ffff5e39ce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\n#3  0x00007ffff6540e9a in start_thread () from /lib/x86_64-linux-gnu/libpthread.so.0\n#4  0x00007ffff4fb64bd in clone () from /lib/x86_64-linux-gnu/libc.so.6\n#5  0x0000000000000000 in ?? ()\n\nThread 14 (Thread 0x7fffdeffd700 (LWP 7647)):\n#0  0x00007ffff654852d in nanosleep () from /lib/x86_64-linux-gnu/libpthread.so.0\n---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---\n#1  0x00007ffff7906c0d in gazebo::common::Time::Sleep(gazebo::common::Time const&amp;) ()\n   from /home/scpeters/osrf/gazebo/build/gazebo/common/libgazebo_common.so.1\n#2  0x00007ffff7907153 in gazebo::common::Time::MSleep(unsigned int) () from /home/scpeters/osrf/gazebo/build/gazebo/common/libgazebo_common.so.1\n#3  0x000000000045598d in gazebo::Master::Run() ()\n#4  0x00007ffff5e39ce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\n#5  0x00007ffff6540e9a in start_thread () from /lib/x86_64-linux-gnu/libpthread.so.0\n#6  0x00007ffff4fb64bd in clone () from /lib/x86_64-linux-gnu/libc.so.6\n#7  0x0000000000000000 in ?? ()\n\nThread 13 (Thread 0x7fffdf7fe700 (LWP 7646)):\n#0  0x00007ffff4fb6b53 in epoll_wait () from /lib/x86_64-linux-gnu/libc.so.6\n#1  0x00007ffff67b1584 in ?? () from /home/scpeters/osrf/gazebo/build/gazebo/transport/libgazebo_transport.so.1\n#2  0x00007ffff67b1cf4 in ?? () from /home/scpeters/osrf/gazebo/build/gazebo/transport/libgazebo_transport.so.1\n#3  0x00007ffff67b2bb5 in boost::asio::io_service::run() () from /home/scpeters/osrf/gazebo/build/gazebo/transport/libgazebo_transport.so.1\n#4  0x00007ffff5e39ce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\n#5  0x00007ffff6540e9a in start_thread () from /lib/x86_64-linux-gnu/libpthread.so.0\n#6  0x00007ffff4fb64bd in clone () from /lib/x86_64-linux-gnu/libc.so.6\n#7  0x0000000000000000 in ?? ()\n\nThread 12 (Thread 0x7fffdffff700 (LWP 7645)):\n#0  0x00007ffff654789c in __lll_lock_wait () from /lib/x86_64-linux-gnu/libpthread.so.0\n#1  0x00007ffff6543065 in _L_lock_858 () from /lib/x86_64-linux-gnu/libpthread.so.0\n#2  0x00007ffff6542eba in pthread_mutex_lock () from /lib/x86_64-linux-gnu/libpthread.so.0\n#3  0x00007ffff5e3a172 in boost::thread::interrupt() () from /usr/lib/libboost_thread.so.1.46.1\n#4  0x00007ffff70c384e in gazebo::sensors::SensorManager::SensorContainer::Stop() ()\n   from /home/scpeters/osrf/gazebo/build/gazebo/sensors/libgazebo_sensors.so.1\n#5  0x00007ffff70c38ac in gazebo::sensors::SensorManager::Stop() () from /home/scpeters/osrf/gazebo/build/gazebo/sensors/libgazebo_sensors.so.1\n#6  0x0000000000447135 in gazebo::Server::Run() ()\n#7  0x0000000000440cef in ServerFixture::RunServer(std::string const&amp;, bool, std::string const&amp;) ()\n#8  0x00007ffff5e39ce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\n#9  0x00007ffff6540e9a in start_thread () from /lib/x86_64-linux-gnu/libpthread.so.0\n#10 0x00007ffff4fb64bd in clone () from /lib/x86_64-linux-gnu/libc.so.6\n#11 0x0000000000000000 in ?? ()\n\nThread 2 (Thread 0x7fffe4cbd700 (LWP 7635)):\n#0  0x00007ffff6544d84 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib/x86_64-linux-gnu/libpthread.so.0\n#1  0x00007ffff78ee2b4 in gazebo::common::ModelDatabase::UpdateModelCache() () from /home/scpeters/osrf/gazebo/build/gazebo/common/libgazebo_common.so.1\n#2  0x00007ffff5e39ce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1\n#3  0x00007ffff6540e9a in start_thread () from /lib/x86_64-linux-gnu/libpthread.so.0\n#4  0x00007ffff4fb64bd in clone () from /lib/x86_64-linux-gnu/libc.so.6\n#5  0x0000000000000000 in ?? ()\n\nThread 1 (Thread 0x7ffff7fa6800 (LWP 7632)):\n#0  0x00007ffff6544d84 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib/x86_64-linux-gnu/libpthread.so.0\n#1  0x00007ffff5e3afdb in boost::thread::join() () from /usr/lib/libboost_thread.so.1.46.1\n#2  0x000000000043e5da in ServerFixture::Unload() ()\n#3  0x0000000000479f5d in void testing::internal::HandleExceptionsInMethodIfSupported&lt;testing::Test, void&gt;(testing::Test*, void (testing::Test::*)(), char const*) ()\n---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---\n#4  0x00000000004721f3 in testing::Test::Run() ()\n#5  0x0000000000472322 in testing::TestInfo::Run() ()\n#6  0x0000000000472557 in testing::TestCase::Run() ()\n#7  0x00000000004728be in testing::internal::UnitTestImpl::RunAllTests() ()\n#8  0x0000000000472ab7 in testing::UnitTest::Run() ()\n#9  0x000000000043728f in main ()\n(gdb) \n</pre></div>", "type": "rendered"}, "created_on": "2013-04-17T05:16:57.039704+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 3774286}