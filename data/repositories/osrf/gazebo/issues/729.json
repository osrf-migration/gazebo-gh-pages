{"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/729/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/729.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/729/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/729/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/729/ray-sensor-report-bad-distance"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/729/vote"}}, "reporter": {"display_name": "Fran\u00e7ois-Michel De Rainville", "uuid": "{cf33c382-d059-4b28-85b6-ee73719e1ff3}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcf33c382-d059-4b28-85b6-ee73719e1ff3%7D"}, "html": {"href": "https://bitbucket.org/%7Bcf33c382-d059-4b28-85b6-ee73719e1ff3%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4c2a1161f3a396b41f882dc002f910e9d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsFR-2.png"}}, "nickname": "fmder", "type": "user", "account_id": "557058:0c49ecc7-d366-465e-a551-9227fd9a6bdb"}, "title": "Ray sensor report bad distance", "component": {"name": "sensors", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122877.json"}}}, "votes": 0, "watches": 4, "content": {"raw": "When using a large min value in a ray sensor we can easily see in ROS RViz that the ranges reported are wrong. The min distance seems to be added twice in the MultiRangeShape, once in the Update function with the shortened fullRange and once in the GetRange function with the addition of GetMinRange.\r\n\r\nRemoving the addition of GetMinRange() from the MultiRangeShape::GetRange function seems to solves the problem. The visualization in RViz report aligned hits compared to a depth camera.\r\n\r\nRelated to issue #503", "markup": "markdown", "html": "<p>When using a large min value in a ray sensor we can easily see in ROS RViz that the ranges reported are wrong. The min distance seems to be added twice in the MultiRangeShape, once in the Update function with the shortened fullRange and once in the GetRange function with the addition of GetMinRange.</p>\n<p>Removing the addition of GetMinRange() from the MultiRangeShape::GetRange function seems to solves the problem. The visualization in RViz report aligned hits compared to a depth camera.</p>\n<p>Related to issue <a href=\"#!/osrf/gazebo/issues/503/incorrect-ray-sensor-range-values\" rel=\"nofollow\" title=\"Incorrect ray sensor range values\" class=\"ap-connect-link\"><s>#503</s></a></p>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "all", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/225575.json"}}}, "edited_on": null, "created_on": "2013-06-07T20:05:28.854130+00:00", "milestone": null, "updated_on": "2016-09-14T19:40:06.224797+00:00", "type": "issue", "id": 729}