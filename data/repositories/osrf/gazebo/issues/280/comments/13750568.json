{"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/280/comments/13750568.json"}, "html": {"href": "#!/osrf/gazebo/issues/280#comment-13750568"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/280.json"}}, "type": "issue", "id": 280, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "allow for command-line arguments to system plugins"}, "content": {"raw": "I'm having some issues on this topic.\nI'm trying to pass some options via command line to my system plugin. \nThe problem is that all the command line is passed to my plugin, but gazebo tries to parse it and fails to start if it does not recognise the option.\n\nSo for example:\nno options\n```\nmakaveli$ gzserver --verbose -s libgazebo_yarp_timesynchronizer.so\nGazebo multi-robot simulator, version 4.0.0\nCopyright (C) 2012-2014 Open Source Robotics Foundation.\nReleased under the Apache 2 License.\nhttp://gazebosim.org\n\ngzserver\n--verbose\n-s\nlibgazebo_yarp_timesynchronizer.so\n[Msg] Waiting for master.\n[Msg] Connected to gazebo master @ http://127.0.0.1:11345\n[Msg] Publicized address: 10.255.36.165\n2014-11-19 19:01:51.791 gzserver[9240:507] invalid drawable\n```\nit works (gazebo is running)\n\nIf I try any option, for example -a \"something\" this is what happens:\n```\nmakaveli$ gzserver --verbose -s libgazebo_yarp_timesynchronizer.so -a \"something\"\nGazebo multi-robot simulator, version 4.0.0\nCopyright (C) 2012-2014 Open Source Robotics Foundation.\nReleased under the Apache 2 License.\nhttp://gazebosim.org\n\ngzserver\n--verbose\n-s\nlibgazebo_yarp_timesynchronizer.so\n-a\nsomething\n[Msg] Waiting for master.\n[Msg] Connected to gazebo master @ http://127.0.0.1:11345\n[Msg] Publicized address: 10.255.36.165\n2014-11-19 19:04:15.903 gzserver[9251:507] invalid drawable\n[Err] [Server.cc:284] Could not open file[something]\n```\nand it exits.\n\nHow can I pass generic options to my plugin? I should have missed the correct way to do it in this discussion.\n\nEdit: ok, I'm stupid. The documentation says that the argument is the world file. \nSo I tried again.\nThis works: `gzserver --verbose -s libgazebo_yarp_clock.so --myoption=hello`\nThis does not: `gzserver --verbose -s libgazebo_yarp_clock.so --myoption hello`\n\nSo I will change my question to: what is the correct way to pass arguments to a server plugin?", "markup": "markdown", "html": "<p>I'm having some issues on this topic.\nI'm trying to pass some options via command line to my system plugin. \nThe problem is that all the command line is passed to my plugin, but gazebo tries to parse it and fails to start if it does not recognise the option.</p>\n<p>So for example:\nno options</p>\n<div class=\"codehilite\"><pre><span></span>makaveli$ gzserver --verbose -s libgazebo_yarp_timesynchronizer.so\nGazebo multi-robot simulator, version 4.0.0\nCopyright (C) 2012-2014 Open Source Robotics Foundation.\nReleased under the Apache 2 License.\nhttp://gazebosim.org\n\ngzserver\n--verbose\n-s\nlibgazebo_yarp_timesynchronizer.so\n[Msg] Waiting for master.\n[Msg] Connected to gazebo master @ http://127.0.0.1:11345\n[Msg] Publicized address: 10.255.36.165\n2014-11-19 19:01:51.791 gzserver[9240:507] invalid drawable\n</pre></div>\n\n\n<p>it works (gazebo is running)</p>\n<p>If I try any option, for example -a \"something\" this is what happens:</p>\n<div class=\"codehilite\"><pre><span></span>makaveli$ gzserver --verbose -s libgazebo_yarp_timesynchronizer.so -a &quot;something&quot;\nGazebo multi-robot simulator, version 4.0.0\nCopyright (C) 2012-2014 Open Source Robotics Foundation.\nReleased under the Apache 2 License.\nhttp://gazebosim.org\n\ngzserver\n--verbose\n-s\nlibgazebo_yarp_timesynchronizer.so\n-a\nsomething\n[Msg] Waiting for master.\n[Msg] Connected to gazebo master @ http://127.0.0.1:11345\n[Msg] Publicized address: 10.255.36.165\n2014-11-19 19:04:15.903 gzserver[9251:507] invalid drawable\n[Err] [Server.cc:284] Could not open file[something]\n</pre></div>\n\n\n<p>and it exits.</p>\n<p>How can I pass generic options to my plugin? I should have missed the correct way to do it in this discussion.</p>\n<p>Edit: ok, I'm stupid. The documentation says that the argument is the world file. \nSo I tried again.\nThis works: <code>gzserver --verbose -s libgazebo_yarp_clock.so --myoption=hello</code>\nThis does not: <code>gzserver --verbose -s libgazebo_yarp_clock.so --myoption hello</code></p>\n<p>So I will change my question to: what is the correct way to pass arguments to a server plugin?</p>", "type": "rendered"}, "created_on": "2014-11-19T18:05:18.724915+00:00", "user": {"display_name": "Francesco Romano", "uuid": "{453cf736-3d1d-4316-9cb6-f2610c82d1aa}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B453cf736-3d1d-4316-9cb6-f2610c82d1aa%7D"}, "html": {"href": "https://bitbucket.org/%7B453cf736-3d1d-4316-9cb6-f2610c82d1aa%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/2a005116a8a08b0a444dcd2cf41881d3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsFR-0.png"}}, "nickname": "francesco_romano", "type": "user", "account_id": "557058:db2f35dd-5911-42f5-8842-8cdc07f0b91f"}, "updated_on": "2014-11-20T09:40:28.920469+00:00", "type": "issue_comment", "id": 13750568}