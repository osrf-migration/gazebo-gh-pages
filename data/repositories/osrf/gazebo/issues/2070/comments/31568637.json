{"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2070/comments/31568637.json"}, "html": {"href": "#!/osrf/gazebo/issues/2070#comment-31568637"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2070.json"}}, "type": "issue", "id": 2070, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Rendering 1/4 of Scene with qt5 on macOS 10.12 (Sierra)"}, "content": {"raw": "I did some digging into this and found that it's due to [qt5's high dpi support](https://blog.qt.io/blog/2013/04/25/retina-display-support-for-mac-os-ios-and-x11/), i.e. a problem on retina devices. Everything is scaled by 2x.\n\nOgre 1.9's OSX [Cocoa window class](https://bitbucket.org/sinbad/ogre/src/108ab0bcc69603dba32c0ffd4bbbc39051f421c9/RenderSystems/GL/src/OSX/OgreOSXCocoaWindow.mm?at=v1-9&fileviewer=file-view-default) added some support for this, namely the `contentScalingFactor` param. On the other hand Qt 5.6+ added an attribute, [Qt::AA_DisableHighDpiScaling](http://doc.qt.io/qt-5/highdpi.html) that's supposed to disable scaling. Unfortunately we're on ogre 1.7.4 and qt 5.5 so we don't get these two options. \n\nA not-so-ideal workaround is to scale the ogre window by 2x but we'll probably need to make sure all qt mouse input pos (for mouse picking) are converted correctly to the ogre viewport coordinates within the scaled window.\n\n", "markup": "markdown", "html": "<p>I did some digging into this and found that it's due to <a data-is-external-link=\"true\" href=\"https://blog.qt.io/blog/2013/04/25/retina-display-support-for-mac-os-ios-and-x11/\" rel=\"nofollow\">qt5's high dpi support</a>, i.e. a problem on retina devices. Everything is scaled by 2x.</p>\n<p>Ogre 1.9's OSX <a data-is-external-link=\"true\" href=\"https://bitbucket.org/sinbad/ogre/src/108ab0bcc69603dba32c0ffd4bbbc39051f421c9/RenderSystems/GL/src/OSX/OgreOSXCocoaWindow.mm?at=v1-9&amp;fileviewer=file-view-default\" rel=\"nofollow\">Cocoa window class</a> added some support for this, namely the <code>contentScalingFactor</code> param. On the other hand Qt 5.6+ added an attribute, <a data-is-external-link=\"true\" href=\"http://doc.qt.io/qt-5/highdpi.html\" rel=\"nofollow\">Qt::AA_DisableHighDpiScaling</a> that's supposed to disable scaling. Unfortunately we're on ogre 1.7.4 and qt 5.5 so we don't get these two options. </p>\n<p>A not-so-ideal workaround is to scale the ogre window by 2x but we'll probably need to make sure all qt mouse input pos (for mouse picking) are converted correctly to the ogre viewport coordinates within the scaled window.</p>", "type": "rendered"}, "created_on": "2016-10-22T00:27:16.405580+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": null, "type": "issue_comment", "id": 31568637}