{"priority": "blocker", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2137/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2137.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2137/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2137/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2137/gzserver-crash-on-loading-model"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2137/vote"}}, "reporter": {"display_name": "Nicolae Rosia", "uuid": "{47441263-bb15-495f-b324-58a1e3c7b35f}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B47441263-bb15-495f-b324-58a1e3c7b35f%7D"}, "html": {"href": "https://bitbucket.org/%7B47441263-bb15-495f-b324-58a1e3c7b35f%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1b61ff7ec618b3e8743b8ab9743e4108d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsNR-6.png"}}, "nickname": "nicolaerosia", "type": "user", "account_id": "557058:2ea02a3a-4b8d-4620-8154-81f2eb2f71af"}, "title": "gzserver crash on loading model", "component": null, "votes": 0, "watches": 1, "content": {"raw": "I get the following crash with sitl_gazebo running [Gazebo 7.5.0]\r\n(#!/osrf/gazebo/commits/139bff5ed5b5a290be8ce1133d9770ff58641efb?at=default) and tag Gazebo 7.4.0\r\n\r\nIf the backtrace is not enough, I can provide reproduction instructions.\r\n\r\nOS: Fedora 25\r\nQt version: 5.7.1\r\n\r\nLE: Does not seem to crash on Fedora 23 with Qt 5.6.2.\r\n\r\nGazebo 7.5.0:\r\n```\r\n#0  0x00007fffebcda91f in raise () at /lib64/libc.so.6\r\n#1  0x00007fffebcdc51a in abort () at /lib64/libc.so.6\r\n#2  0x00007fffebd1e200 in __libc_message () at /lib64/libc.so.6\r\n#3  0x00007fffebd2b840 in realloc () at /lib64/libc.so.6\r\n#4  0x00007fff578fec51 in QListData::realloc_grow(int) () at /lib64/libQt5Core.so.5\r\n#5  0x00007fff578fecef in QListData::append(int) () at /lib64/libQt5Core.so.5\r\n#6  0x00007fff579b62c0 in QList<QResourceRoot*>::append(QResourceRoot* const&) () at /lib64/libQt5Core.so.5\r\n#7  0x00007fff579b20d5 in qRegisterResourceData(int, unsigned char const*, unsigned char const*, unsigned char const*) () at /lib64/libQt5Core.so.5\r\n#8  0x00007fff57881cd3 in _GLOBAL__sub_I_qrc_mimetypes.cpp () at /lib64/libQt5Core.so.5\r\n#9  0x00007ffff7de7a3a in call_init.part () at /lib64/ld-linux-x86-64.so.2\r\n#10 0x00007ffff7de7b4b in _dl_init () at /lib64/ld-linux-x86-64.so.2\r\n#11 0x00007ffff7decaa6 in dl_open_worker () at /lib64/ld-linux-x86-64.so.2\r\n#12 0x00007ffff7de78e4 in _dl_catch_error () at /lib64/ld-linux-x86-64.so.2\r\n#13 0x00007ffff7dec079 in _dl_open () at /lib64/ld-linux-x86-64.so.2\r\n#14 0x00007ffff272df09 in dlopen_doit () at /lib64/libdl.so.2\r\n#15 0x00007ffff7de78e4 in _dl_catch_error () at /lib64/ld-linux-x86-64.so.2\r\n#16 0x00007ffff272e591 in _dlerror_run () at /lib64/libdl.so.2\r\n#17 0x00007ffff272dfa2 in dlopen@@GLIBC_2.2.5 () at /lib64/libdl.so.2\r\n#18 0x00007ffff69d0c43 in gazebo::PluginT<gazebo::ModelPlugin>::Create(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (_filename=\"librotors_gazebo_multirotor_base_plugin.so\", _name=\"rosbag\")\r\n    at /home/user/aero-src/gazebo/gazebo/common/Plugin.hh:162\r\n#19 0x00007ffff69c69fa in gazebo::physics::Model::LoadPlugin(std::shared_ptr<sdf::Element>) (this=this@entry=0x13be020, _sdf=std::shared_ptr (count 3, weak 4) 0x1d15f20) at /home/user/aero-src/gazebo/gazebo/physics/Model.cc:1038\r\n#20 0x00007ffff69ccc10 in gazebo::physics::Model::LoadPlugins() (this=0x13be020)\r\n    at /home/user/aero-src/gazebo/gazebo/physics/Model.cc:978\r\n#21 0x00007ffff6a0ec69 in gazebo::physics::World::LoadPlugins() (this=this@entry=0xa76830)\r\n    at /home/user/aero-src/gazebo/gazebo/physics/World.cc:1524\r\n#22 0x00007ffff6a1fbc5 in gazebo::physics::World::Step() (this=this@entry=0xa76830)\r\n    at /home/user/aero-src/gazebo/gazebo/physics/World.cc:605\r\n#23 0x00007ffff6a1ff3d in gazebo::physics::World::RunLoop() (this=0xa76830)\r\n    at /home/user/aero-src/gazebo/gazebo/physics/World.cc:465\r\n#24 0x00007fffedb05146 in thread_proxy () at /lib64/libboost_thread.so.1.60.0\r\n#25 0x00007ffff6d186ca in start_thread () at /lib64/libpthread.so.0\r\n#26 0x00007fffebdacf7f in clone () at /lib64/libc.so.6\r\n```\r\n\r\nGazebo 7.4.0\r\n```\r\n#0  0x00007fff37b79437 in QMetaObject::className() const () at /lib64/libQt5Core.so.5\r\n#1  0x00007fff3841082f in QMetaTypeIdQObject<QWidget*, 8>::qt_metatype_id() () at /lib64/libQt5Widgets.so.5\r\n#2  0x00007fff383aa007 in _GLOBAL__sub_I_qwidgetsvariant.cpp () at /lib64/libQt5Widgets.so.5\r\n#3  0x00007ffff7de7a3a in call_init.part () at /lib64/ld-linux-x86-64.so.2\r\n#4  0x00007ffff7de7b4b in _dl_init () at /lib64/ld-linux-x86-64.so.2\r\n#5  0x00007ffff7decaa6 in dl_open_worker () at /lib64/ld-linux-x86-64.so.2\r\n#6  0x00007ffff7de78e4 in _dl_catch_error () at /lib64/ld-linux-x86-64.so.2\r\n#7  0x00007ffff7dec079 in _dl_open () at /lib64/ld-linux-x86-64.so.2\r\n#8  0x00007ffff2736f09 in dlopen_doit () at /lib64/libdl.so.2\r\n#9  0x00007ffff7de78e4 in _dl_catch_error () at /lib64/ld-linux-x86-64.so.2\r\n#10 0x00007ffff2737591 in _dlerror_run () at /lib64/libdl.so.2\r\n#11 0x00007ffff2736fa2 in dlopen@@GLIBC_2.2.5 () at /lib64/libdl.so.2\r\n#12 0x00007ffff69d6333 in gazebo::PluginT<gazebo::ModelPlugin>::Create(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (_filename=\"librotors_gazebo_multirotor_base_plugin.so\", _name=\"rosbag\")\r\n    at /home/user/aero-src/gazebo/gazebo/common/Plugin.hh:162\r\n#13 0x00007ffff69cc0ea in gazebo::physics::Model::LoadPlugin(std::shared_ptr<sdf::Element>) (this=this@entry=0x18fc6f0, _sdf=std::shared_ptr (count 3, weak 4) 0x2039e20) at /home/user/aero-src/gazebo/gazebo/physics/Model.cc:1038\r\n#14 0x00007ffff69d2300 in gazebo::physics::Model::LoadPlugins() (this=0x18fc6f0)\r\n    at /home/user/aero-src/gazebo/gazebo/physics/Model.cc:978\r\n#15 0x00007ffff6a14339 in gazebo::physics::World::LoadPlugins() (this=this@entry=0xb7d790)\r\n    at /home/user/aero-src/gazebo/gazebo/physics/World.cc:1524\r\n#16 0x00007ffff6a25295 in gazebo::physics::World::Step() (this=this@entry=0xb7d790)\r\n    at /home/user/aero-src/gazebo/gazebo/physics/World.cc:605\r\n#17 0x00007ffff6a2560d in gazebo::physics::World::RunLoop() (this=0xb7d790)\r\n    at /home/user/aero-src/gazebo/gazebo/physics/World.cc:465\r\n#18 0x00007fffedb0e146 in thread_proxy () at /lib64/libboost_thread.so.1.60.0\r\n#19 0x00007ffff6d1d6ca in start_thread () at /lib64/libpthread.so.0\r\n#20 0x00007fffebdb5f7f in clone () at /lib64/libc.so.6\r\n```", "markup": "markdown", "html": "<p>I get the following crash with sitl_gazebo running [Gazebo 7.5.0]\n(<a href=\"#!/osrf/gazebo/commits/139bff5ed5b5a290be8ce1133d9770ff58641efb?at=default\" rel=\"nofollow\" class=\"ap-connect-link\">#!/osrf/gazebo/commits/139bff5ed5b5a290be8ce1133d9770ff58641efb?at=default</a>) and tag Gazebo 7.4.0</p>\n<p>If the backtrace is not enough, I can provide reproduction instructions.</p>\n<p>OS: Fedora 25\nQt version: 5.7.1</p>\n<p>LE: Does not seem to crash on Fedora 23 with Qt 5.6.2.</p>\n<p>Gazebo 7.5.0:</p>\n<div class=\"codehilite\"><pre><span></span>#0  0x00007fffebcda91f in raise () at /lib64/libc.so.6\n#1  0x00007fffebcdc51a in abort () at /lib64/libc.so.6\n#2  0x00007fffebd1e200 in __libc_message () at /lib64/libc.so.6\n#3  0x00007fffebd2b840 in realloc () at /lib64/libc.so.6\n#4  0x00007fff578fec51 in QListData::realloc_grow(int) () at /lib64/libQt5Core.so.5\n#5  0x00007fff578fecef in QListData::append(int) () at /lib64/libQt5Core.so.5\n#6  0x00007fff579b62c0 in QList&lt;QResourceRoot*&gt;::append(QResourceRoot* const&amp;) () at /lib64/libQt5Core.so.5\n#7  0x00007fff579b20d5 in qRegisterResourceData(int, unsigned char const*, unsigned char const*, unsigned char const*) () at /lib64/libQt5Core.so.5\n#8  0x00007fff57881cd3 in _GLOBAL__sub_I_qrc_mimetypes.cpp () at /lib64/libQt5Core.so.5\n#9  0x00007ffff7de7a3a in call_init.part () at /lib64/ld-linux-x86-64.so.2\n#10 0x00007ffff7de7b4b in _dl_init () at /lib64/ld-linux-x86-64.so.2\n#11 0x00007ffff7decaa6 in dl_open_worker () at /lib64/ld-linux-x86-64.so.2\n#12 0x00007ffff7de78e4 in _dl_catch_error () at /lib64/ld-linux-x86-64.so.2\n#13 0x00007ffff7dec079 in _dl_open () at /lib64/ld-linux-x86-64.so.2\n#14 0x00007ffff272df09 in dlopen_doit () at /lib64/libdl.so.2\n#15 0x00007ffff7de78e4 in _dl_catch_error () at /lib64/ld-linux-x86-64.so.2\n#16 0x00007ffff272e591 in _dlerror_run () at /lib64/libdl.so.2\n#17 0x00007ffff272dfa2 in dlopen@@GLIBC_2.2.5 () at /lib64/libdl.so.2\n#18 0x00007ffff69d0c43 in gazebo::PluginT&lt;gazebo::ModelPlugin&gt;::Create(std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;, std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;) (_filename=&quot;librotors_gazebo_multirotor_base_plugin.so&quot;, _name=&quot;rosbag&quot;)\n    at /home/user/aero-src/gazebo/gazebo/common/Plugin.hh:162\n#19 0x00007ffff69c69fa in gazebo::physics::Model::LoadPlugin(std::shared_ptr&lt;sdf::Element&gt;) (this=this@entry=0x13be020, _sdf=std::shared_ptr (count 3, weak 4) 0x1d15f20) at /home/user/aero-src/gazebo/gazebo/physics/Model.cc:1038\n#20 0x00007ffff69ccc10 in gazebo::physics::Model::LoadPlugins() (this=0x13be020)\n    at /home/user/aero-src/gazebo/gazebo/physics/Model.cc:978\n#21 0x00007ffff6a0ec69 in gazebo::physics::World::LoadPlugins() (this=this@entry=0xa76830)\n    at /home/user/aero-src/gazebo/gazebo/physics/World.cc:1524\n#22 0x00007ffff6a1fbc5 in gazebo::physics::World::Step() (this=this@entry=0xa76830)\n    at /home/user/aero-src/gazebo/gazebo/physics/World.cc:605\n#23 0x00007ffff6a1ff3d in gazebo::physics::World::RunLoop() (this=0xa76830)\n    at /home/user/aero-src/gazebo/gazebo/physics/World.cc:465\n#24 0x00007fffedb05146 in thread_proxy () at /lib64/libboost_thread.so.1.60.0\n#25 0x00007ffff6d186ca in start_thread () at /lib64/libpthread.so.0\n#26 0x00007fffebdacf7f in clone () at /lib64/libc.so.6\n</pre></div>\n\n\n<p>Gazebo 7.4.0</p>\n<div class=\"codehilite\"><pre><span></span>#0  0x00007fff37b79437 in QMetaObject::className() const () at /lib64/libQt5Core.so.5\n#1  0x00007fff3841082f in QMetaTypeIdQObject&lt;QWidget*, 8&gt;::qt_metatype_id() () at /lib64/libQt5Widgets.so.5\n#2  0x00007fff383aa007 in _GLOBAL__sub_I_qwidgetsvariant.cpp () at /lib64/libQt5Widgets.so.5\n#3  0x00007ffff7de7a3a in call_init.part () at /lib64/ld-linux-x86-64.so.2\n#4  0x00007ffff7de7b4b in _dl_init () at /lib64/ld-linux-x86-64.so.2\n#5  0x00007ffff7decaa6 in dl_open_worker () at /lib64/ld-linux-x86-64.so.2\n#6  0x00007ffff7de78e4 in _dl_catch_error () at /lib64/ld-linux-x86-64.so.2\n#7  0x00007ffff7dec079 in _dl_open () at /lib64/ld-linux-x86-64.so.2\n#8  0x00007ffff2736f09 in dlopen_doit () at /lib64/libdl.so.2\n#9  0x00007ffff7de78e4 in _dl_catch_error () at /lib64/ld-linux-x86-64.so.2\n#10 0x00007ffff2737591 in _dlerror_run () at /lib64/libdl.so.2\n#11 0x00007ffff2736fa2 in dlopen@@GLIBC_2.2.5 () at /lib64/libdl.so.2\n#12 0x00007ffff69d6333 in gazebo::PluginT&lt;gazebo::ModelPlugin&gt;::Create(std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;, std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;) (_filename=&quot;librotors_gazebo_multirotor_base_plugin.so&quot;, _name=&quot;rosbag&quot;)\n    at /home/user/aero-src/gazebo/gazebo/common/Plugin.hh:162\n#13 0x00007ffff69cc0ea in gazebo::physics::Model::LoadPlugin(std::shared_ptr&lt;sdf::Element&gt;) (this=this@entry=0x18fc6f0, _sdf=std::shared_ptr (count 3, weak 4) 0x2039e20) at /home/user/aero-src/gazebo/gazebo/physics/Model.cc:1038\n#14 0x00007ffff69d2300 in gazebo::physics::Model::LoadPlugins() (this=0x18fc6f0)\n    at /home/user/aero-src/gazebo/gazebo/physics/Model.cc:978\n#15 0x00007ffff6a14339 in gazebo::physics::World::LoadPlugins() (this=this@entry=0xb7d790)\n    at /home/user/aero-src/gazebo/gazebo/physics/World.cc:1524\n#16 0x00007ffff6a25295 in gazebo::physics::World::Step() (this=this@entry=0xb7d790)\n    at /home/user/aero-src/gazebo/gazebo/physics/World.cc:605\n#17 0x00007ffff6a2560d in gazebo::physics::World::RunLoop() (this=0xb7d790)\n    at /home/user/aero-src/gazebo/gazebo/physics/World.cc:465\n#18 0x00007fffedb0e146 in thread_proxy () at /lib64/libboost_thread.so.1.60.0\n#19 0x00007ffff6d1d6ca in start_thread () at /lib64/libpthread.so.0\n#20 0x00007fffebdb5f7f in clone () at /lib64/libc.so.6\n</pre></div>", "type": "rendered"}, "assignee": null, "state": "invalid", "version": null, "edited_on": null, "created_on": "2017-01-12T16:47:04.894989+00:00", "milestone": null, "updated_on": "2017-04-06T13:42:40.153178+00:00", "type": "issue", "id": 2137}