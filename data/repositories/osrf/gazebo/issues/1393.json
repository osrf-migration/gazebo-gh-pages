{"priority": "critical", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/1393/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/1393.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/1393/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/1393/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/1393/after-apt-get-update-12-28-2014-gazebo-has"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/1393/vote"}}, "reporter": {"display_name": "Juan Rojas", "uuid": "{dfdf71a5-adfd-4f44-ae58-5193dc69ff55}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bdfdf71a5-adfd-4f44-ae58-5193dc69ff55%7D"}, "html": {"href": "https://bitbucket.org/%7Bdfdf71a5-adfd-4f44-ae58-5193dc69ff55%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/be5c1804981d023e09c7f60b3c3546efd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-1.png"}}, "nickname": "rojas70", "type": "user", "account_id": "557058:895c0efc-7ddd-4636-9aac-8db35b10523d"}, "title": "After apt-get update 12/28/2014 gazebo has ogre exceptions and rendering assertions.", "component": null, "votes": 0, "watches": 1, "content": {"raw": "After running an apt-get update on my computer on 12/28 gazebo stopped working on DRCSim related worlds + it has strange behavior as it does not run when I even type `gazebo` on the command line. \r\n\r\nHere is my computer configuration:\r\n\r\nRunning Ubuntu 12.04 Precise\r\nROS Hydro\r\n\r\nI have tried resoliving this problems by using pre-complied binaries and also running programs built from source.\r\n\r\nFor pre-compiled binaries, this is what I have:\r\n```\r\nii  gazebo4                              4.1.0-1~precise                      Open Source Robotics Simulator\r\nii  gazebo4-common                       4.1.0-1~precise                      Open Source Robotics Simulator - Shared files\r\nii  gazebo4-plugin-base                  4.1.0-1~precise                      Open Source Robotics Simulator - base plug-ins\r\n```\r\n\r\nWhen installed from Source, i installed the following:\r\ndrcsim  gazebo_ros_pkgs  osrf-common  sandia-hand.\r\n\r\nI have tried updating to the latest packages:\r\n(hg pull) and (git pull) and then run catkin_make install.\r\n\r\nBefore the updated, I ran nvidia through bumblebee and gazebo worked fine before my last update. This is my current configuration:\r\n\r\nsudo dpkg --get-selections | grep nvidia \r\n\r\n```\r\nbumblebee-nvidia\t\t\t\tinstall\r\nnvidia-304\t\t\t\t\tinstall\r\nnvidia-common\t\t\t\tinstall\r\nnvidia-current\t\t\t\t\tinstall\r\nnvidia-settings\t\t\t\t\tinstall\r\n```\r\n\r\nSome strange behavior.\r\n\r\nNone of the following work: \r\n\r\n```\r\n>> gazebo\r\n>> gzserver\r\n>> gzclient (opens a black window but if anything is loaded on it, it fails)\r\n```\r\n\r\nHowever, the following command does work:\r\n`roslaunch gazebo_ros mud_world.launch`\r\n\r\nAnd, no drcsim worlds work:\r\n\r\n```\r\nroslaunch drcsim_gazebo atlas.launch fails.\r\n```\r\n\r\nTwo sources of feedback:\r\n\r\nFirst, terminal indicates a gzserver assertion error for gazebo rendering a scene:\r\n```\r\ngzserver: /usr/include/boost/smart_ptr/shared_ptr.hpp:418: T* boost::shared_ptr<T>::operator->() const [with T = gazebo::rendering::Scene]: Assertion `px != 0' failed.\r\n```\r\n\r\nIf I try to use a version of drcsim that uses the cpu (graphics enabled) version of drcsim, I get an OGRE exception about rendering color:\r\n\r\n```\r\nterminate called after throwing an instance of 'Ogre::ItemIdentityException'\r\n  what():  OGRE EXCEPTION(5:ItemIdentityException): Could not find material Gazebo/Green in SimpleRenderable::setMaterial at /build/buildd/ogre-1.7.4/OgreMain/src/OgreSimpleRenderable.cpp (line 63)\r\n```\r\nIf I look at the log files generated by ROS, I find the following type of errors:\r\n\r\n```\r\nrosout.log:0.537000000 ERROR [/tmp/buildd/drcsim-4.1.1/drcsim_gazebo_ros_plugins/src/VRCPlugin.cpp:1537(VRCPlugin::Robot::InsertModel) [topics: /rosout, /clock, /gazebo/link_states, /gazebo/model_states, /gazebo/parameter_descriptions, /gazebo/parameter_updates] failed to spawn model from rosparam: [robot_description]...\r\n\r\nrosout.log:0.538000000 ERROR [/tmp/buildd/drcsim-4.1.1/drcsim_gazebo_ros_plugins/src/VRCPlugin.cpp:1524(VRCPlugin::Robot::InsertModel) [topics: /rosout, /clock, /gazebo/link_states, /gazebo/model_states, /gazebo/parameter_descriptions, /gazebo/parameter_updates] robot initial spawn pose not found...\r\n\r\nrosout.log:0.538000000 ERROR [/tmp/buildd/drcsim-4.1.1/drcsim_gazebo_ros_plugins/src/VRCPlugin.cpp:1537(VRCPlugin::Robot::InsertModel) [topics: /rosout, /clock, /gazebo/link_states, /gazebo/model_states, /gazebo/parameter_descriptions, /gazebo/parameter_updates] failed to spawn model from rosparam: [robot_description].\r\n```\r\n", "markup": "markdown", "html": "<p>After running an apt-get update on my computer on 12/28 gazebo stopped working on DRCSim related worlds + it has strange behavior as it does not run when I even type <code>gazebo</code> on the command line. </p>\n<p>Here is my computer configuration:</p>\n<p>Running Ubuntu 12.04 Precise\nROS Hydro</p>\n<p>I have tried resoliving this problems by using pre-complied binaries and also running programs built from source.</p>\n<p>For pre-compiled binaries, this is what I have:</p>\n<div class=\"codehilite\"><pre><span></span>ii  gazebo4                              4.1.0-1~precise                      Open Source Robotics Simulator\nii  gazebo4-common                       4.1.0-1~precise                      Open Source Robotics Simulator - Shared files\nii  gazebo4-plugin-base                  4.1.0-1~precise                      Open Source Robotics Simulator - base plug-ins\n</pre></div>\n\n\n<p>When installed from Source, i installed the following:\ndrcsim  gazebo_ros_pkgs  osrf-common  sandia-hand.</p>\n<p>I have tried updating to the latest packages:\n(hg pull) and (git pull) and then run catkin_make install.</p>\n<p>Before the updated, I ran nvidia through bumblebee and gazebo worked fine before my last update. This is my current configuration:</p>\n<p>sudo dpkg --get-selections | grep nvidia </p>\n<div class=\"codehilite\"><pre><span></span>bumblebee-nvidia                install\nnvidia-304                  install\nnvidia-common               install\nnvidia-current                  install\nnvidia-settings                 install\n</pre></div>\n\n\n<p>Some strange behavior.</p>\n<p>None of the following work: </p>\n<div class=\"codehilite\"><pre><span></span>&gt;&gt; gazebo\n&gt;&gt; gzserver\n&gt;&gt; gzclient (opens a black window but if anything is loaded on it, it fails)\n</pre></div>\n\n\n<p>However, the following command does work:\n<code>roslaunch gazebo_ros mud_world.launch</code></p>\n<p>And, no drcsim worlds work:</p>\n<div class=\"codehilite\"><pre><span></span>roslaunch drcsim_gazebo atlas.launch fails.\n</pre></div>\n\n\n<p>Two sources of feedback:</p>\n<p>First, terminal indicates a gzserver assertion error for gazebo rendering a scene:</p>\n<div class=\"codehilite\"><pre><span></span>gzserver: /usr/include/boost/smart_ptr/shared_ptr.hpp:418: T* boost::shared_ptr&lt;T&gt;::operator-&gt;() const [with T = gazebo::rendering::Scene]: Assertion `px != 0&#39; failed.\n</pre></div>\n\n\n<p>If I try to use a version of drcsim that uses the cpu (graphics enabled) version of drcsim, I get an OGRE exception about rendering color:</p>\n<div class=\"codehilite\"><pre><span></span>terminate called after throwing an instance of &#39;Ogre::ItemIdentityException&#39;\n  what():  OGRE EXCEPTION(5:ItemIdentityException): Could not find material Gazebo/Green in SimpleRenderable::setMaterial at /build/buildd/ogre-1.7.4/OgreMain/src/OgreSimpleRenderable.cpp (line 63)\n</pre></div>\n\n\n<p>If I look at the log files generated by ROS, I find the following type of errors:</p>\n<div class=\"codehilite\"><pre><span></span>rosout.log:0.537000000 ERROR [/tmp/buildd/drcsim-4.1.1/drcsim_gazebo_ros_plugins/src/VRCPlugin.cpp:1537(VRCPlugin::Robot::InsertModel) [topics: /rosout, /clock, /gazebo/link_states, /gazebo/model_states, /gazebo/parameter_descriptions, /gazebo/parameter_updates] failed to spawn model from rosparam: [robot_description]...\n\nrosout.log:0.538000000 ERROR [/tmp/buildd/drcsim-4.1.1/drcsim_gazebo_ros_plugins/src/VRCPlugin.cpp:1524(VRCPlugin::Robot::InsertModel) [topics: /rosout, /clock, /gazebo/link_states, /gazebo/model_states, /gazebo/parameter_descriptions, /gazebo/parameter_updates] robot initial spawn pose not found...\n\nrosout.log:0.538000000 ERROR [/tmp/buildd/drcsim-4.1.1/drcsim_gazebo_ros_plugins/src/VRCPlugin.cpp:1537(VRCPlugin::Robot::InsertModel) [topics: /rosout, /clock, /gazebo/link_states, /gazebo/model_states, /gazebo/parameter_descriptions, /gazebo/parameter_updates] failed to spawn model from rosparam: [robot_description].\n</pre></div>", "type": "rendered"}, "assignee": null, "state": "closed", "version": {"name": "3.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/100247.json"}}}, "edited_on": null, "created_on": "2014-12-18T15:41:33.398906+00:00", "milestone": null, "updated_on": "2015-01-02T02:55:33.324668+00:00", "type": "issue", "id": 1393}