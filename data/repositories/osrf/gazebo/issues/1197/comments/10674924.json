{"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1197/comments/10674924.json"}, "html": {"href": "#!/osrf/gazebo/issues/1197#comment-10674924"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1197.json"}}, "type": "issue", "id": 1197, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "DARTJoint::GetForceTorque returns wrong results"}, "content": {"raw": "@jlee02 There's also test failures in INTEGRATION_joint_force_torque as of DART 4.0:\n~~~\n[  FAILED  ] PhysicsEngines/JointForceTorqueTest.ForceTorque2/3, where GetParam() = \"dart\"\n[  FAILED  ] PhysicsEngines/JointForceTorqueTest.GetForceTorqueWithAppliedForce/3, where GetParam() = \"dart\"\n~~~\n\n~~~\n[ RUN      ] PhysicsEngines/JointForceTorqueTest.ForceTorque2/3\n[Msg] Waiting for master.\n[Msg] Connected to gazebo master @ http://127.0.0.1:11368\n[Msg] Publicized address: 192.168.1.182\n[Dbg] [DARTJoint.cc:305] Joint [joint_01] stiffness not implement in DART\n[Dbg] [DARTJoint.cc:305] Joint [joint_12] stiffness not implement in DART\n[Wrn] [Publisher.cc:131] Queue limit reached for topic /gazebo/default/pose/local/info, deleting message. This warning is printed only once.\n[Dbg] [ServerFixture.cc:144] ServerFixture load in 0.8 seconds, timeout after 600 seconds\n[Err] [DARTJoint.cc:503] Unable to handle joint attribute[stop_erp]\n[Err] [DARTJoint.cc:503] Unable to handle joint attribute[stop_erp]\n/home/scpeters/ws/gazebo_dart/src/gazebo/test/integration/joint_force_torque.cc:231: Failure\nThe difference between wrench_01.body1Force.z and 1000.0 is 494.71342331477405, which exceeds 2.0, where\nwrench_01.body1Force.z evaluates to 505.28657668522595,\n1000.0 evaluates to 1000, and\n2.0 evaluates to 2.\n/home/scpeters/ws/gazebo_dart/src/gazebo/test/integration/joint_force_torque.cc:232: Failure\nThe difference between wrench_01.body1Torque.x and 750.0 is 749.99925130574184, which exceeds 7.5, where\nwrench_01.body1Torque.x evaluates to 0.0007486942581635957,\n750.0 evaluates to 750, and\n7.5 evaluates to 7.5.\n/home/scpeters/ws/gazebo_dart/src/gazebo/test/integration/joint_force_torque.cc:237: Failure\nThe difference between wrench_01.body2Force.y and 1000.0 is 496.47238293013635, which exceeds 10.0, where\nwrench_01.body2Force.y evaluates to 503.52761706986365,\n1000.0 evaluates to 1000, and\n10.0 evaluates to 10.\n/home/scpeters/ws/gazebo_dart/src/gazebo/test/integration/joint_force_torque.cc:248: Failure\nThe difference between wrench_01.body2Torque.x and -750.0 is 749.99925130574184, which exceeds 7.5, where\nwrench_01.body2Torque.x evaluates to -0.0007486942581635958,\n-750.0 evaluates to -750, and\n7.5 evaluates to 7.5.\n/home/scpeters/ws/gazebo_dart/src/gazebo/test/integration/joint_force_torque.cc:269: Failure\nThe difference between wrench_12.body1Force.y and -500.0 is 495.60188847913327, which exceeds 5.0, where\nwrench_12.body1Force.y evaluates to -4.3981115208667445,\n-500.0 evaluates to -500, and\n5.0 evaluates to 5.\n/home/scpeters/ws/gazebo_dart/src/gazebo/test/integration/joint_force_torque.cc:280: Failure\nThe difference between wrench_12.body1Torque.x and 250.0 is 251.0991535330875, which exceeds 5.0, where\nwrench_12.body1Torque.x evaluates to -1.099153533087496,\n250.0 evaluates to 250, and\n5.0 evaluates to 5.\n...\n[Dbg] [joint_force_torque.cc:310] t after 20 steps : 2.026\n[Dbg] [ServerFixture.cc:95] ServerFixture::Unload\n[  FAILED  ] PhysicsEngines/JointForceTorqueTest.ForceTorque2/3, where GetParam() = \"dart\" (993 ms)\n~~~\n\n~~~\n[ RUN      ] PhysicsEngines/JointForceTorqueTest.GetForceTorqueWithAppliedForce/3\n[Msg] Waiting for master.\n[Msg] Connected to gazebo master @ http://127.0.0.1:11368\n[Msg] Publicized address: 192.168.1.182\n[Dbg] [DARTJoint.cc:305] Joint [joint1] stiffness not implement in DART\n[Dbg] [DARTJoint.cc:305] Joint [joint2] stiffness not implement in DART\n[Wrn] [Publisher.cc:131] Queue limit reached for topic /gazebo/default/pose/local/info, deleting message. This warning is printed only once.\n[Dbg] [ServerFixture.cc:144] ServerFixture load in 1 seconds, timeout after 600 seconds\n/home/scpeters/ws/gazebo_dart/src/gazebo/test/integration/joint_force_torque.cc:379: Failure\nThe difference between wrench_01.body1Force.x and 0.0 is 27.14280469772012, which exceeds 2.0, where\nwrench_01.body1Force.x evaluates to -27.14280469772012,\n0.0 evaluates to 0, and\n2.0 evaluates to 2.\n/home/scpeters/ws/gazebo_dart/src/gazebo/test/integration/joint_force_torque.cc:380: Failure\nThe difference between wrench_01.body1Force.y and 0.0 is 17.820965713906489, which exceeds 2.0, where\nwrench_01.body1Force.y evaluates to 17.820965713906489,\n0.0 evaluates to 0, and\n2.0 evaluates to 2.\n/home/scpeters/ws/gazebo_dart/src/gazebo/test/integration/joint_force_torque.cc:381: Failure\nThe difference between wrench_01.body1Force.z and 300.0 is 139.01883692932483, which exceeds 2.0, where\nwrench_01.body1Force.z evaluates to 160.98116307067517,\n300.0 evaluates to 300, and\n2.0 evaluates to 2.\n/home/scpeters/ws/gazebo_dart/src/gazebo/test/integration/joint_force_torque.cc:382: Failure\nThe difference between wrench_01.body1Torque.x and 25.0 is 9.8659195790225169, which exceeds 2.0, where\nwrench_01.body1Torque.x evaluates to 34.865919579022517,\n25.0 evaluates to 25, and\n2.0 evaluates to 2.\n/home/scpeters/ws/gazebo_dart/src/gazebo/test/integration/joint_force_torque.cc:384: Failure\nThe difference between wrench_01.body1Torque.z and 0.0 is 16.824586340948031, which exceeds 2.0, where\nwrench_01.body1Torque.z evaluates to 16.824586340948031,\n0.0 evaluates to 0, and\n2.0 evaluates to 2.\n/home/scpeters/ws/gazebo_dart/src/gazebo/test/integration/joint_force_torque.cc:409: Failure\nThe difference between wrench_12.body1Force.y and 0.0 is 18.207821001825828, which exceeds 2.0, where\nwrench_12.body1Force.y evaluates to 18.207821001825828,\n0.0 evaluates to 0, and\n2.0 evaluates to 2.\n/home/scpeters/ws/gazebo_dart/src/gazebo/test/integration/joint_force_torque.cc:410: Failure\nThe difference between wrench_12.body1Force.z and 50.0 is 83.989248655170798, which exceeds 2.0, where\nwrench_12.body1Force.z evaluates to 133.9892486551708,\n50.0 evaluates to 50, and\n2.0 evaluates to 2.\n/home/scpeters/ws/gazebo_dart/src/gazebo/test/integration/joint_force_torque.cc:411: Failure\nThe difference between wrench_12.body1Torque.x and 25.0 is 29.093954081364785, which exceeds 2.0, where\nwrench_12.body1Torque.x evaluates to 54.093954081364785,\n25.0 evaluates to 25, and\n2.0 evaluates to 2.\n/home/scpeters/ws/gazebo_dart/src/gazebo/test/integration/joint_force_torque.cc:415: Failure\nThe difference between wrench_12.body2Force.x and -35.355 is 59.087625591296934, which exceeds 2.0, where\nwrench_12.body2Force.x evaluates to -94.442625591296931,\n-35.355 evaluates to -35.354999999999997, and\n2.0 evaluates to 2.\n/home/scpeters/ws/gazebo_dart/src/gazebo/test/integration/joint_force_torque.cc:416: Failure\nThe difference between wrench_12.body2Force.y and 0.000 is 18.207821001825824, which exceeds 2.0, where\nwrench_12.body2Force.y evaluates to -18.207821001825824,\n0.000 evaluates to 0, and\n2.0 evaluates to 2.\n/home/scpeters/ws/gazebo_dart/src/gazebo/test/integration/joint_force_torque.cc:417: Failure\nThe difference between wrench_12.body2Force.z and -35.355 is 59.6928218228418, which exceeds 2.0, where\nwrench_12.body2Force.z evaluates to -95.047821822841797,\n-35.355 evaluates to -35.354999999999997, and\n2.0 evaluates to 2.\n/home/scpeters/ws/gazebo_dart/src/gazebo/test/integration/joint_force_torque.cc:418: Failure\nThe difference between wrench_12.body2Torque.x and -17.678 is 20.705449408666031, which exceeds 2.0, where\nwrench_12.body2Torque.x evaluates to -38.383449408666031,\n-17.678 evaluates to -17.678000000000001, and\n2.0 evaluates to 2.\n/home/scpeters/ws/gazebo_dart/src/gazebo/test/integration/joint_force_torque.cc:420: Failure\nThe difference between wrench_12.body2Torque.z and 17.678 is 20.439402294735547, which exceeds 2.0, where\nwrench_12.body2Torque.z evaluates to 38.117402294735548,\n17.678 evaluates to 17.678000000000001, and\n2.0 evaluates to 2.\n[Dbg] [ServerFixture.cc:95] ServerFixture::Unload\n[  FAILED  ] PhysicsEngines/JointForceTorqueTest.GetForceTorqueWithAppliedForce/3, where GetParam() = \"dart\" (4926 ms)\n~~~", "markup": "markdown", "html": "<p>@jlee02 There's also test failures in INTEGRATION_joint_force_torque as of DART 4.0:</p>\n<div class=\"codehilite\"><pre><span></span>[  FAILED  ] PhysicsEngines/JointForceTorqueTest.ForceTorque2/3, where GetParam() = &quot;dart&quot;\n[  FAILED  ] PhysicsEngines/JointForceTorqueTest.GetForceTorqueWithAppliedForce/3, where GetParam() = &quot;dart&quot;\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span>[ RUN      ] PhysicsEngines/JointForceTorqueTest.ForceTorque2/3\n[Msg] Waiting for master.\n[Msg] Connected to gazebo master @ http://127.0.0.1:11368\n[Msg] Publicized address: 192.168.1.182\n[Dbg] [DARTJoint.cc:305] Joint [joint_01] stiffness not implement in DART\n[Dbg] [DARTJoint.cc:305] Joint [joint_12] stiffness not implement in DART\n[Wrn] [Publisher.cc:131] Queue limit reached for topic /gazebo/default/pose/local/info, deleting message. This warning is printed only once.\n[Dbg] [ServerFixture.cc:144] ServerFixture load in 0.8 seconds, timeout after 600 seconds\n[Err] [DARTJoint.cc:503] Unable to handle joint attribute[stop_erp]\n[Err] [DARTJoint.cc:503] Unable to handle joint attribute[stop_erp]\n/home/scpeters/ws/gazebo_dart/src/gazebo/test/integration/joint_force_torque.cc:231: Failure\nThe difference between wrench_01.body1Force.z and 1000.0 is 494.71342331477405, which exceeds 2.0, where\nwrench_01.body1Force.z evaluates to 505.28657668522595,\n1000.0 evaluates to 1000, and\n2.0 evaluates to 2.\n/home/scpeters/ws/gazebo_dart/src/gazebo/test/integration/joint_force_torque.cc:232: Failure\nThe difference between wrench_01.body1Torque.x and 750.0 is 749.99925130574184, which exceeds 7.5, where\nwrench_01.body1Torque.x evaluates to 0.0007486942581635957,\n750.0 evaluates to 750, and\n7.5 evaluates to 7.5.\n/home/scpeters/ws/gazebo_dart/src/gazebo/test/integration/joint_force_torque.cc:237: Failure\nThe difference between wrench_01.body2Force.y and 1000.0 is 496.47238293013635, which exceeds 10.0, where\nwrench_01.body2Force.y evaluates to 503.52761706986365,\n1000.0 evaluates to 1000, and\n10.0 evaluates to 10.\n/home/scpeters/ws/gazebo_dart/src/gazebo/test/integration/joint_force_torque.cc:248: Failure\nThe difference between wrench_01.body2Torque.x and -750.0 is 749.99925130574184, which exceeds 7.5, where\nwrench_01.body2Torque.x evaluates to -0.0007486942581635958,\n-750.0 evaluates to -750, and\n7.5 evaluates to 7.5.\n/home/scpeters/ws/gazebo_dart/src/gazebo/test/integration/joint_force_torque.cc:269: Failure\nThe difference between wrench_12.body1Force.y and -500.0 is 495.60188847913327, which exceeds 5.0, where\nwrench_12.body1Force.y evaluates to -4.3981115208667445,\n-500.0 evaluates to -500, and\n5.0 evaluates to 5.\n/home/scpeters/ws/gazebo_dart/src/gazebo/test/integration/joint_force_torque.cc:280: Failure\nThe difference between wrench_12.body1Torque.x and 250.0 is 251.0991535330875, which exceeds 5.0, where\nwrench_12.body1Torque.x evaluates to -1.099153533087496,\n250.0 evaluates to 250, and\n5.0 evaluates to 5.\n...\n[Dbg] [joint_force_torque.cc:310] t after 20 steps : 2.026\n[Dbg] [ServerFixture.cc:95] ServerFixture::Unload\n[  FAILED  ] PhysicsEngines/JointForceTorqueTest.ForceTorque2/3, where GetParam() = &quot;dart&quot; (993 ms)\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span>[ RUN      ] PhysicsEngines/JointForceTorqueTest.GetForceTorqueWithAppliedForce/3\n[Msg] Waiting for master.\n[Msg] Connected to gazebo master @ http://127.0.0.1:11368\n[Msg] Publicized address: 192.168.1.182\n[Dbg] [DARTJoint.cc:305] Joint [joint1] stiffness not implement in DART\n[Dbg] [DARTJoint.cc:305] Joint [joint2] stiffness not implement in DART\n[Wrn] [Publisher.cc:131] Queue limit reached for topic /gazebo/default/pose/local/info, deleting message. This warning is printed only once.\n[Dbg] [ServerFixture.cc:144] ServerFixture load in 1 seconds, timeout after 600 seconds\n/home/scpeters/ws/gazebo_dart/src/gazebo/test/integration/joint_force_torque.cc:379: Failure\nThe difference between wrench_01.body1Force.x and 0.0 is 27.14280469772012, which exceeds 2.0, where\nwrench_01.body1Force.x evaluates to -27.14280469772012,\n0.0 evaluates to 0, and\n2.0 evaluates to 2.\n/home/scpeters/ws/gazebo_dart/src/gazebo/test/integration/joint_force_torque.cc:380: Failure\nThe difference between wrench_01.body1Force.y and 0.0 is 17.820965713906489, which exceeds 2.0, where\nwrench_01.body1Force.y evaluates to 17.820965713906489,\n0.0 evaluates to 0, and\n2.0 evaluates to 2.\n/home/scpeters/ws/gazebo_dart/src/gazebo/test/integration/joint_force_torque.cc:381: Failure\nThe difference between wrench_01.body1Force.z and 300.0 is 139.01883692932483, which exceeds 2.0, where\nwrench_01.body1Force.z evaluates to 160.98116307067517,\n300.0 evaluates to 300, and\n2.0 evaluates to 2.\n/home/scpeters/ws/gazebo_dart/src/gazebo/test/integration/joint_force_torque.cc:382: Failure\nThe difference between wrench_01.body1Torque.x and 25.0 is 9.8659195790225169, which exceeds 2.0, where\nwrench_01.body1Torque.x evaluates to 34.865919579022517,\n25.0 evaluates to 25, and\n2.0 evaluates to 2.\n/home/scpeters/ws/gazebo_dart/src/gazebo/test/integration/joint_force_torque.cc:384: Failure\nThe difference between wrench_01.body1Torque.z and 0.0 is 16.824586340948031, which exceeds 2.0, where\nwrench_01.body1Torque.z evaluates to 16.824586340948031,\n0.0 evaluates to 0, and\n2.0 evaluates to 2.\n/home/scpeters/ws/gazebo_dart/src/gazebo/test/integration/joint_force_torque.cc:409: Failure\nThe difference between wrench_12.body1Force.y and 0.0 is 18.207821001825828, which exceeds 2.0, where\nwrench_12.body1Force.y evaluates to 18.207821001825828,\n0.0 evaluates to 0, and\n2.0 evaluates to 2.\n/home/scpeters/ws/gazebo_dart/src/gazebo/test/integration/joint_force_torque.cc:410: Failure\nThe difference between wrench_12.body1Force.z and 50.0 is 83.989248655170798, which exceeds 2.0, where\nwrench_12.body1Force.z evaluates to 133.9892486551708,\n50.0 evaluates to 50, and\n2.0 evaluates to 2.\n/home/scpeters/ws/gazebo_dart/src/gazebo/test/integration/joint_force_torque.cc:411: Failure\nThe difference between wrench_12.body1Torque.x and 25.0 is 29.093954081364785, which exceeds 2.0, where\nwrench_12.body1Torque.x evaluates to 54.093954081364785,\n25.0 evaluates to 25, and\n2.0 evaluates to 2.\n/home/scpeters/ws/gazebo_dart/src/gazebo/test/integration/joint_force_torque.cc:415: Failure\nThe difference between wrench_12.body2Force.x and -35.355 is 59.087625591296934, which exceeds 2.0, where\nwrench_12.body2Force.x evaluates to -94.442625591296931,\n-35.355 evaluates to -35.354999999999997, and\n2.0 evaluates to 2.\n/home/scpeters/ws/gazebo_dart/src/gazebo/test/integration/joint_force_torque.cc:416: Failure\nThe difference between wrench_12.body2Force.y and 0.000 is 18.207821001825824, which exceeds 2.0, where\nwrench_12.body2Force.y evaluates to -18.207821001825824,\n0.000 evaluates to 0, and\n2.0 evaluates to 2.\n/home/scpeters/ws/gazebo_dart/src/gazebo/test/integration/joint_force_torque.cc:417: Failure\nThe difference between wrench_12.body2Force.z and -35.355 is 59.6928218228418, which exceeds 2.0, where\nwrench_12.body2Force.z evaluates to -95.047821822841797,\n-35.355 evaluates to -35.354999999999997, and\n2.0 evaluates to 2.\n/home/scpeters/ws/gazebo_dart/src/gazebo/test/integration/joint_force_torque.cc:418: Failure\nThe difference between wrench_12.body2Torque.x and -17.678 is 20.705449408666031, which exceeds 2.0, where\nwrench_12.body2Torque.x evaluates to -38.383449408666031,\n-17.678 evaluates to -17.678000000000001, and\n2.0 evaluates to 2.\n/home/scpeters/ws/gazebo_dart/src/gazebo/test/integration/joint_force_torque.cc:420: Failure\nThe difference between wrench_12.body2Torque.z and 17.678 is 20.439402294735547, which exceeds 2.0, where\nwrench_12.body2Torque.z evaluates to 38.117402294735548,\n17.678 evaluates to 17.678000000000001, and\n2.0 evaluates to 2.\n[Dbg] [ServerFixture.cc:95] ServerFixture::Unload\n[  FAILED  ] PhysicsEngines/JointForceTorqueTest.GetForceTorqueWithAppliedForce/3, where GetParam() = &quot;dart&quot; (4926 ms)\n</pre></div>", "type": "rendered"}, "created_on": "2014-06-12T01:08:36.480272+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 10674924}