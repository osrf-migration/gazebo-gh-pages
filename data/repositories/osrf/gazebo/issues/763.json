{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/763/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/763.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/763/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/763/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/763/buffer-overflow-in-connection-headerbuffer"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/763/vote"}}, "reporter": {"display_name": "daniel_pinyol_laserna", "uuid": "{1d0de129-ce25-492b-bfd0-8c586d99e578}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B1d0de129-ce25-492b-bfd0-8c586d99e578%7D"}, "html": {"href": "https://bitbucket.org/%7B1d0de129-ce25-492b-bfd0-8c586d99e578%7D/"}, "avatar": {"href": "https://bitbucket.org/account/daniel_pinyol_laserna/avatar/"}}, "nickname": "daniel_pinyol_laserna", "type": "user", "account_id": null}, "title": "buffer overflow in Connection:headerBuffer", "component": null, "votes": 0, "watches": 3, "content": {"raw": "Connection:headerBuffer is allocated 8 bytes, but later, in Connection::EnqueueMsg we allow to write up to 8+1 bytes (probably for the final \\0). This causes hundreds of valgrind errors, and it might cause the program to crash.\r\nimho headerBuffer should be allocated to a size of HEADER_LENGTH + 1. After this fix, valgrind does not complain any more\r\n\r\n\r\nthanks\r\n```\r\n#!c++\r\n\r\n  this->headerBuffer = new char[HEADER_LENGTH];\r\n\r\n  snprintf(this->headerBuffer, HEADER_LENGTH + 1, \"%08x\",\r\n      static_cast<unsigned int>(_buffer.size()));\r\n\r\n```\r\n\r\n```\r\n#!\r\n\r\n==12355== Thread 3:\r\n==12355== Invalid write of size 1\r\n==12355==    at 0x4EDE275: vsnprintf (vsnprintf.c:123)\r\n==12355==    by 0xDA06327: ???\r\n==12355==  Address 0xda06330 is 0 bytes after a block of size 8 alloc'd\r\n==12355==    at 0x402B22A: operator new[](unsigned int) (vg_replace_malloc.c:357)\r\n==12355==    by 0x44C8DE0: gazebo::transport::Connection::Connection() (Connection.cc:63)\r\n==12355==    by 0x44CA4B9: gazebo::transport::Connection::Listen(unsigned int, boost::function<void (boost::shared_ptr<gazebo::transport::Connection> const&)> const&) (Connection.cc:203)\r\n==12355==    by 0x80C264D: gazebo::Master::Init(unsigned short) (Master.cc:45)\r\n==12355==    by 0x80AD9BC: gazebo::Server::LoadImpl(boost::shared_ptr<sdf::Element>, std::string const&) (Server.cc:321)\r\n==12355==    by 0x80AD447: gazebo::Server::LoadFile(std::string const&, std::string const&) (Server.cc:288)\r\n==12355==    by 0x80AC6FB: gazebo::Server::ParseArgs(int, char**) (Server.cc:245)\r\n==12355==    by 0x80A97B2: main (server_main.cc:40)\r\n==12355== \r\n==12355== Invalid read of size 1\r\n==12355==    at 0x402C5D3: strlen (mc_replace_strmem.c:399)\r\n==12355==    by 0x4E03B9A: std::basic_string<char, std::char_traits<char>, std::allocator<char> >::basic_string(char const*, std::allocator<char> const&) (in /usr/lib/i386-linux-gnu/libstdc++.so.6.0.16)\r\n==12355==    by 0x44CAC54: gazebo::transport::Connection::EnqueueMsg(std::string const&, bool) (Connection.cc:260)\r\n==12355==    by 0x80C28AF: gazebo::Master::OnAccept(boost::shared_ptr<gazebo::transport::Connection> const&) (Master.cc:60)\r\n==12355==    by 0x80CDCA2: boost::_mfi::mf1<void, gazebo::Master, boost::shared_ptr<gazebo::transport::Connection> const&>::operator()(gazebo::Master*, boost::shared_ptr<gazebo::transport::Connection> const&) const (mem_fn_template.hpp:165)\r\n==12355==    by 0x80CD54F: void boost::_bi::list2<boost::_bi::value<gazebo::Master*>, boost::arg<1> >::operator()<boost::_mfi::mf1<void, gazebo::Master, boost::shared_ptr<gazebo::transport::Connection> const&>, boost::_bi::list1<boost::shared_ptr<gazebo::transport::Connection> const&> >(boost::_bi::type<void>, boost::_mfi::mf1<void, gazebo::Master, boost::shared_ptr<gazebo::transport::Connection> const&>&, boost::_bi::list1<boost::shared_ptr<gazebo::transport::Connection> const&>&, int) (bind.hpp:313)\r\n==12355==    by 0x80CCC06: void boost::_bi::bind_t<void, boost::_mfi::mf1<void, gazebo::Master, boost::shared_ptr<gazebo::transport::Connection> const&>, boost::_bi::list2<boost::_bi::value<gazebo::Master*>, boost::arg<1> > >::operator()<boost::shared_ptr<gazebo::transport::Connection> >(boost::shared_ptr<gazebo::transport::Connection> const&) (bind_template.hpp:47)\r\n==12355==    by 0x80CB9A5: boost::detail::function::void_function_obj_invoker1<boost::_bi::bind_t<void, boost::_mfi::mf1<void, gazebo::Master, boost::shared_ptr<gazebo::transport::Connection> const&>, boost::_bi::list2<boost::_bi::value<gazebo::Master*>, boost::arg<1> > >, void, boost::shared_ptr<gazebo::transport::Connection> const&>::invoke(boost::detail::function::function_buffer&, boost::shared_ptr<gazebo::transport::Connection> const&) (function_template.hpp:153)\r\n==12355==    by 0x44DB69F: boost::function1<void, boost::shared_ptr<gazebo::transport::Connection> const&>::operator()(boost::shared_ptr<gazebo::transport::Connection> const&) const (function_template.hpp:1013)\r\n==12355==    by 0x44CA7CE: gazebo::transport::Connection::OnAccept(boost::system::error_code const&) (Connection.cc:226)\r\n==12355==    by 0x44ECA0C: boost::_mfi::mf1<void, gazebo::transport::Connection, boost::system::error_code const&>::operator()(gazebo::transport::Connection*, boost::system::error_code const&) const (mem_fn_template.hpp:165)\r\n==12355==    by 0x44EC7A5: void boost::_bi::list2<boost::_bi::value<gazebo::transport::Connection*>, boost::arg<1> (*)()>::operator()<boost::_mfi::mf1<void, gazebo::transport::Connection, boost::system::error_code const&>, boost::_bi::list1<boost::system::error_code const&> >(boost::_bi::type<void>, boost::_mfi::mf1<void, gazebo::transport::Connection, boost::system::error_code const&>&, boost::_bi::list1<boost::system::error_code const&>&, int) (bind.hpp:313)\r\n==12355==  Address 0xda06330 is 0 bytes after a block of size 8 alloc'd\r\n==12355==    at 0x402B22A: operator new[](unsigned int) (vg_replace_malloc.c:357)\r\n==12355==    by 0x44C8DE0: gazebo::transport::Connection::Connection() (Connection.cc:63)\r\n==12355==    by 0x44CA4B9: gazebo::transport::Connection::Listen(unsigned int, boost::function<void (boost::shared_ptr<gazebo::transport::Connection> const&)> const&) (Connection.cc:203)\r\n==12355==    by 0x80C264D: gazebo::Master::Init(unsigned short) (Master.cc:45)\r\n==12355==    by 0x80AD9BC: gazebo::Server::LoadImpl(boost::shared_ptr<sdf::Element>, std::string const&) (Server.cc:321)\r\n==12355==    by 0x80AD447: gazebo::Server::LoadFile(std::string const&, std::string const&) (Server.cc:288)\r\n==12355==    by 0x80AC6FB: gazebo::Server::ParseArgs(int, char**) (Server.cc:245)\r\n==12355==    by 0x80A97B2: main (server_main.cc:40)\r\n==12355== \r\n==12355== Invalid read of size 1\r\n==12355==    at 0x402C5D3: strlen (mc_replace_strmem.c:399)\r\n==12355==    by 0x4E03B9A: std::basic_string<char, std::char_traits<char>, std::allocator<char> >::basic_string(char const*, std::allocator<char> const&) (in /usr/lib/i386-linux-gnu/libstdc++.so.6.0.16)\r\n==12355==    by 0x44CAC54: gazebo::transport::Connection::EnqueueMsg(std::string const&, bool) (Connection.cc:260)\r\n==12355==    by 0x80C29CB: gazebo::Master::OnAccept(boost::shared_ptr<gazebo::transport::Connection> const&) (Master.cc:71)\r\n==12355==    by 0x80CDCA2: boost::_mfi::mf1<void, gazebo::Master, boost::shared_ptr<gazebo::transport::Connection> const&>::operator()(gazebo::Master*, boost::shared_ptr<gazebo::transport::Connection> const&) const (mem_fn_template.hpp:165)\r\n==12355==    by 0x80CD54F: void boost::_bi::list2<boost::_bi::value<gazebo::Master*>, boost::arg<1> >::operator()<boost::_mfi::mf1<void, gazebo::Master, boost::shared_ptr<gazebo::transport::Connection> const&>, boost::_bi::list1<boost::shared_ptr<gazebo::transport::Connection> const&> >(boost::_bi::type<void>, boost::_mfi::mf1<void, gazebo::Master, boost::shared_ptr<gazebo::transport::Connection> const&>&, boost::_bi::list1<boost::shared_ptr<gazebo::transport::Connection> const&>&, int) (bind.hpp:313)\r\n==12355==    by 0x80CCC06: void boost::_bi::bind_t<void, boost::_mfi::mf1<void, gazebo::Master, boost::shared_ptr<gazebo::transport::Connection> const&>, boost::_bi::list2<boost::_bi::value<gazebo::Master*>, boost::arg<1> > >::operator()<boost::shared_ptr<gazebo::transport::Connection> >(boost::shared_ptr<gazebo::transport::Connection> const&) (bind_template.hpp:47)\r\n==12355==    by 0x80CB9A5: boost::detail::function::void_function_obj_invoker1<boost::_bi::bind_t<void, boost::_mfi::mf1<void, gazebo::Master, boost::shared_ptr<gazebo::transport::Connection> const&>, boost::_bi::list2<boost::_bi::value<gazebo::Master*>, boost::arg<1> > >, void, boost::shared_ptr<gazebo::transport::Connection> const&>::invoke(boost::detail::function::function_buffer&, boost::shared_ptr<gazebo::transport::Connection> const&) (function_template.hpp:153)\r\n==12355==    by 0x44DB69F: boost::function1<void, boost::shared_ptr<gazebo::transport::Connection> const&>::operator()(boost::shared_ptr<gazebo::transport::Connection> const&) const (function_template.hpp:1013)\r\n==12355==    by 0x44CA7CE: gazebo::transport::Connection::OnAccept(boost::system::error_code const&) (Connection.cc:226)\r\n==12355==    by 0x44ECA0C: boost::_mfi::mf1<void, gazebo::transport::Connection, boost::system::error_code const&>::operator()(gazebo::transport::Connection*, boost::system::error_code const&) const (mem_fn_template.hpp:165)\r\n==12355==    by 0x44EC7A5: void boost::_bi::list2<boost::_bi::value<gazebo::transport::Connection*>, boost::arg<1> (*)()>::operator()<boost::_mfi::mf1<void, gazebo::transport::Connection, boost::system::error_code const&>, boost::_bi::list1<boost::system::error_code const&> >(boost::_bi::type<void>, boost::_mfi::mf1<void, gazebo::transport::Connection, boost::system::error_code const&>&, boost::_bi::list1<boost::system::error_code const&>&, int) (bind.hpp:313)\r\n==12355==  Address 0xda06330 is 0 bytes after a block of size 8 alloc'd\r\n==12355==    at 0x402B22A: operator new[](unsigned int) (vg_replace_malloc.c:357)\r\n==12355==    by 0x44C8DE0: gazebo::transport::Connection::Connection() (Connection.cc:63)\r\n==12355==    by 0x44CA4B9: gazebo::transport::Connection::Listen(unsigned int, boost::function<void (boost::shared_ptr<gazebo::transport::Connection> const&)> const&) (Connection.cc:203)\r\n==12355==    by 0x80C264D: gazebo::Master::Init(unsigned short) (Master.cc:45)\r\n==12355==    by 0x80AD9BC: gazebo::Server::LoadImpl(boost::shared_ptr<sdf::Element>, std::string const&) (Server.cc:321)\r\n==12355==    by 0x80AD447: gazebo::Server::LoadFile(std::string const&, std::string const&) (Server.cc:288)\r\n==12355==    by 0x80AC6FB: gazebo::Server::ParseArgs(int, char**) (Server.cc:245)\r\n==12355==    by 0x80A97B2: main (server_main.cc:40)\r\n\r\n```", "markup": "markdown", "html": "<p>Connection:headerBuffer is allocated 8 bytes, but later, in Connection::EnqueueMsg we allow to write up to 8+1 bytes (probably for the final \\0). This causes hundreds of valgrind errors, and it might cause the program to crash.\nimho headerBuffer should be allocated to a size of HEADER_LENGTH + 1. After this fix, valgrind does not complain any more</p>\n<p>thanks</p>\n<div class=\"codehilite language-c++\"><pre><span></span>  <span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">headerBuffer</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"kt\">char</span><span class=\"p\">[</span><span class=\"n\">HEADER_LENGTH</span><span class=\"p\">];</span>\n\n  <span class=\"n\">snprintf</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">headerBuffer</span><span class=\"p\">,</span> <span class=\"n\">HEADER_LENGTH</span> <span class=\"o\">+</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"s\">&quot;%08x&quot;</span><span class=\"p\">,</span>\n      <span class=\"k\">static_cast</span><span class=\"o\">&lt;</span><span class=\"kt\">unsigned</span> <span class=\"kt\">int</span><span class=\"o\">&gt;</span><span class=\"p\">(</span><span class=\"n\">_buffer</span><span class=\"p\">.</span><span class=\"n\">size</span><span class=\"p\">()));</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span>==12355== Thread 3:\n==12355== Invalid write of size 1\n==12355==    at 0x4EDE275: vsnprintf (vsnprintf.c:123)\n==12355==    by 0xDA06327: ???\n==12355==  Address 0xda06330 is 0 bytes after a block of size 8 alloc&#39;d\n==12355==    at 0x402B22A: operator new[](unsigned int) (vg_replace_malloc.c:357)\n==12355==    by 0x44C8DE0: gazebo::transport::Connection::Connection() (Connection.cc:63)\n==12355==    by 0x44CA4B9: gazebo::transport::Connection::Listen(unsigned int, boost::function&lt;void (boost::shared_ptr&lt;gazebo::transport::Connection&gt; const&amp;)&gt; const&amp;) (Connection.cc:203)\n==12355==    by 0x80C264D: gazebo::Master::Init(unsigned short) (Master.cc:45)\n==12355==    by 0x80AD9BC: gazebo::Server::LoadImpl(boost::shared_ptr&lt;sdf::Element&gt;, std::string const&amp;) (Server.cc:321)\n==12355==    by 0x80AD447: gazebo::Server::LoadFile(std::string const&amp;, std::string const&amp;) (Server.cc:288)\n==12355==    by 0x80AC6FB: gazebo::Server::ParseArgs(int, char**) (Server.cc:245)\n==12355==    by 0x80A97B2: main (server_main.cc:40)\n==12355== \n==12355== Invalid read of size 1\n==12355==    at 0x402C5D3: strlen (mc_replace_strmem.c:399)\n==12355==    by 0x4E03B9A: std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::basic_string(char const*, std::allocator&lt;char&gt; const&amp;) (in /usr/lib/i386-linux-gnu/libstdc++.so.6.0.16)\n==12355==    by 0x44CAC54: gazebo::transport::Connection::EnqueueMsg(std::string const&amp;, bool) (Connection.cc:260)\n==12355==    by 0x80C28AF: gazebo::Master::OnAccept(boost::shared_ptr&lt;gazebo::transport::Connection&gt; const&amp;) (Master.cc:60)\n==12355==    by 0x80CDCA2: boost::_mfi::mf1&lt;void, gazebo::Master, boost::shared_ptr&lt;gazebo::transport::Connection&gt; const&amp;&gt;::operator()(gazebo::Master*, boost::shared_ptr&lt;gazebo::transport::Connection&gt; const&amp;) const (mem_fn_template.hpp:165)\n==12355==    by 0x80CD54F: void boost::_bi::list2&lt;boost::_bi::value&lt;gazebo::Master*&gt;, boost::arg&lt;1&gt; &gt;::operator()&lt;boost::_mfi::mf1&lt;void, gazebo::Master, boost::shared_ptr&lt;gazebo::transport::Connection&gt; const&amp;&gt;, boost::_bi::list1&lt;boost::shared_ptr&lt;gazebo::transport::Connection&gt; const&amp;&gt; &gt;(boost::_bi::type&lt;void&gt;, boost::_mfi::mf1&lt;void, gazebo::Master, boost::shared_ptr&lt;gazebo::transport::Connection&gt; const&amp;&gt;&amp;, boost::_bi::list1&lt;boost::shared_ptr&lt;gazebo::transport::Connection&gt; const&amp;&gt;&amp;, int) (bind.hpp:313)\n==12355==    by 0x80CCC06: void boost::_bi::bind_t&lt;void, boost::_mfi::mf1&lt;void, gazebo::Master, boost::shared_ptr&lt;gazebo::transport::Connection&gt; const&amp;&gt;, boost::_bi::list2&lt;boost::_bi::value&lt;gazebo::Master*&gt;, boost::arg&lt;1&gt; &gt; &gt;::operator()&lt;boost::shared_ptr&lt;gazebo::transport::Connection&gt; &gt;(boost::shared_ptr&lt;gazebo::transport::Connection&gt; const&amp;) (bind_template.hpp:47)\n==12355==    by 0x80CB9A5: boost::detail::function::void_function_obj_invoker1&lt;boost::_bi::bind_t&lt;void, boost::_mfi::mf1&lt;void, gazebo::Master, boost::shared_ptr&lt;gazebo::transport::Connection&gt; const&amp;&gt;, boost::_bi::list2&lt;boost::_bi::value&lt;gazebo::Master*&gt;, boost::arg&lt;1&gt; &gt; &gt;, void, boost::shared_ptr&lt;gazebo::transport::Connection&gt; const&amp;&gt;::invoke(boost::detail::function::function_buffer&amp;, boost::shared_ptr&lt;gazebo::transport::Connection&gt; const&amp;) (function_template.hpp:153)\n==12355==    by 0x44DB69F: boost::function1&lt;void, boost::shared_ptr&lt;gazebo::transport::Connection&gt; const&amp;&gt;::operator()(boost::shared_ptr&lt;gazebo::transport::Connection&gt; const&amp;) const (function_template.hpp:1013)\n==12355==    by 0x44CA7CE: gazebo::transport::Connection::OnAccept(boost::system::error_code const&amp;) (Connection.cc:226)\n==12355==    by 0x44ECA0C: boost::_mfi::mf1&lt;void, gazebo::transport::Connection, boost::system::error_code const&amp;&gt;::operator()(gazebo::transport::Connection*, boost::system::error_code const&amp;) const (mem_fn_template.hpp:165)\n==12355==    by 0x44EC7A5: void boost::_bi::list2&lt;boost::_bi::value&lt;gazebo::transport::Connection*&gt;, boost::arg&lt;1&gt; (*)()&gt;::operator()&lt;boost::_mfi::mf1&lt;void, gazebo::transport::Connection, boost::system::error_code const&amp;&gt;, boost::_bi::list1&lt;boost::system::error_code const&amp;&gt; &gt;(boost::_bi::type&lt;void&gt;, boost::_mfi::mf1&lt;void, gazebo::transport::Connection, boost::system::error_code const&amp;&gt;&amp;, boost::_bi::list1&lt;boost::system::error_code const&amp;&gt;&amp;, int) (bind.hpp:313)\n==12355==  Address 0xda06330 is 0 bytes after a block of size 8 alloc&#39;d\n==12355==    at 0x402B22A: operator new[](unsigned int) (vg_replace_malloc.c:357)\n==12355==    by 0x44C8DE0: gazebo::transport::Connection::Connection() (Connection.cc:63)\n==12355==    by 0x44CA4B9: gazebo::transport::Connection::Listen(unsigned int, boost::function&lt;void (boost::shared_ptr&lt;gazebo::transport::Connection&gt; const&amp;)&gt; const&amp;) (Connection.cc:203)\n==12355==    by 0x80C264D: gazebo::Master::Init(unsigned short) (Master.cc:45)\n==12355==    by 0x80AD9BC: gazebo::Server::LoadImpl(boost::shared_ptr&lt;sdf::Element&gt;, std::string const&amp;) (Server.cc:321)\n==12355==    by 0x80AD447: gazebo::Server::LoadFile(std::string const&amp;, std::string const&amp;) (Server.cc:288)\n==12355==    by 0x80AC6FB: gazebo::Server::ParseArgs(int, char**) (Server.cc:245)\n==12355==    by 0x80A97B2: main (server_main.cc:40)\n==12355== \n==12355== Invalid read of size 1\n==12355==    at 0x402C5D3: strlen (mc_replace_strmem.c:399)\n==12355==    by 0x4E03B9A: std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::basic_string(char const*, std::allocator&lt;char&gt; const&amp;) (in /usr/lib/i386-linux-gnu/libstdc++.so.6.0.16)\n==12355==    by 0x44CAC54: gazebo::transport::Connection::EnqueueMsg(std::string const&amp;, bool) (Connection.cc:260)\n==12355==    by 0x80C29CB: gazebo::Master::OnAccept(boost::shared_ptr&lt;gazebo::transport::Connection&gt; const&amp;) (Master.cc:71)\n==12355==    by 0x80CDCA2: boost::_mfi::mf1&lt;void, gazebo::Master, boost::shared_ptr&lt;gazebo::transport::Connection&gt; const&amp;&gt;::operator()(gazebo::Master*, boost::shared_ptr&lt;gazebo::transport::Connection&gt; const&amp;) const (mem_fn_template.hpp:165)\n==12355==    by 0x80CD54F: void boost::_bi::list2&lt;boost::_bi::value&lt;gazebo::Master*&gt;, boost::arg&lt;1&gt; &gt;::operator()&lt;boost::_mfi::mf1&lt;void, gazebo::Master, boost::shared_ptr&lt;gazebo::transport::Connection&gt; const&amp;&gt;, boost::_bi::list1&lt;boost::shared_ptr&lt;gazebo::transport::Connection&gt; const&amp;&gt; &gt;(boost::_bi::type&lt;void&gt;, boost::_mfi::mf1&lt;void, gazebo::Master, boost::shared_ptr&lt;gazebo::transport::Connection&gt; const&amp;&gt;&amp;, boost::_bi::list1&lt;boost::shared_ptr&lt;gazebo::transport::Connection&gt; const&amp;&gt;&amp;, int) (bind.hpp:313)\n==12355==    by 0x80CCC06: void boost::_bi::bind_t&lt;void, boost::_mfi::mf1&lt;void, gazebo::Master, boost::shared_ptr&lt;gazebo::transport::Connection&gt; const&amp;&gt;, boost::_bi::list2&lt;boost::_bi::value&lt;gazebo::Master*&gt;, boost::arg&lt;1&gt; &gt; &gt;::operator()&lt;boost::shared_ptr&lt;gazebo::transport::Connection&gt; &gt;(boost::shared_ptr&lt;gazebo::transport::Connection&gt; const&amp;) (bind_template.hpp:47)\n==12355==    by 0x80CB9A5: boost::detail::function::void_function_obj_invoker1&lt;boost::_bi::bind_t&lt;void, boost::_mfi::mf1&lt;void, gazebo::Master, boost::shared_ptr&lt;gazebo::transport::Connection&gt; const&amp;&gt;, boost::_bi::list2&lt;boost::_bi::value&lt;gazebo::Master*&gt;, boost::arg&lt;1&gt; &gt; &gt;, void, boost::shared_ptr&lt;gazebo::transport::Connection&gt; const&amp;&gt;::invoke(boost::detail::function::function_buffer&amp;, boost::shared_ptr&lt;gazebo::transport::Connection&gt; const&amp;) (function_template.hpp:153)\n==12355==    by 0x44DB69F: boost::function1&lt;void, boost::shared_ptr&lt;gazebo::transport::Connection&gt; const&amp;&gt;::operator()(boost::shared_ptr&lt;gazebo::transport::Connection&gt; const&amp;) const (function_template.hpp:1013)\n==12355==    by 0x44CA7CE: gazebo::transport::Connection::OnAccept(boost::system::error_code const&amp;) (Connection.cc:226)\n==12355==    by 0x44ECA0C: boost::_mfi::mf1&lt;void, gazebo::transport::Connection, boost::system::error_code const&amp;&gt;::operator()(gazebo::transport::Connection*, boost::system::error_code const&amp;) const (mem_fn_template.hpp:165)\n==12355==    by 0x44EC7A5: void boost::_bi::list2&lt;boost::_bi::value&lt;gazebo::transport::Connection*&gt;, boost::arg&lt;1&gt; (*)()&gt;::operator()&lt;boost::_mfi::mf1&lt;void, gazebo::transport::Connection, boost::system::error_code const&amp;&gt;, boost::_bi::list1&lt;boost::system::error_code const&amp;&gt; &gt;(boost::_bi::type&lt;void&gt;, boost::_mfi::mf1&lt;void, gazebo::transport::Connection, boost::system::error_code const&amp;&gt;&amp;, boost::_bi::list1&lt;boost::system::error_code const&amp;&gt;&amp;, int) (bind.hpp:313)\n==12355==  Address 0xda06330 is 0 bytes after a block of size 8 alloc&#39;d\n==12355==    at 0x402B22A: operator new[](unsigned int) (vg_replace_malloc.c:357)\n==12355==    by 0x44C8DE0: gazebo::transport::Connection::Connection() (Connection.cc:63)\n==12355==    by 0x44CA4B9: gazebo::transport::Connection::Listen(unsigned int, boost::function&lt;void (boost::shared_ptr&lt;gazebo::transport::Connection&gt; const&amp;)&gt; const&amp;) (Connection.cc:203)\n==12355==    by 0x80C264D: gazebo::Master::Init(unsigned short) (Master.cc:45)\n==12355==    by 0x80AD9BC: gazebo::Server::LoadImpl(boost::shared_ptr&lt;sdf::Element&gt;, std::string const&amp;) (Server.cc:321)\n==12355==    by 0x80AD447: gazebo::Server::LoadFile(std::string const&amp;, std::string const&amp;) (Server.cc:288)\n==12355==    by 0x80AC6FB: gazebo::Server::ParseArgs(int, char**) (Server.cc:245)\n==12355==    by 0x80A97B2: main (server_main.cc:40)\n</pre></div>", "type": "rendered"}, "assignee": null, "state": "closed", "version": {"name": "all", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/225575.json"}}}, "edited_on": null, "created_on": "2013-07-03T09:04:15.270393+00:00", "milestone": null, "updated_on": "2016-09-14T19:45:26.881748+00:00", "type": "issue", "id": 763}