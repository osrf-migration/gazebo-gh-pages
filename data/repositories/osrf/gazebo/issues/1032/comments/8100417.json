{"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1032/comments/8100417.json"}, "html": {"href": "#!/osrf/gazebo/issues/1032#comment-8100417"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1032.json"}}, "type": "issue", "id": 1032, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Gazebo fails to start when compiled with visibility=hidden"}, "content": {"raw": "The previous run probably fall in problems due to not rebooting the system after updating nvidia drivers. Now, I can see the error and trace it:\n\n```\ngzserver: /usr/include/boost/smart_ptr/shared_ptr.hpp:418: T* boost::shared_ptr<T>::operator->() const [with T = gazebo::transport::Publication]: Assertion `px != 0' failed.\n\nProgram received signal SIGABRT, Aborted.\n[Switching to Thread 0x7fffc23da700 (LWP 15041)]\n0x00007ffff4f97425 in __GI_raise (sig=<optimized out>)\n    at ../nptl/sysdeps/unix/sysv/linux/raise.c:64\n64\t../nptl/sysdeps/unix/sysv/linux/raise.c: No such file or directory.\n(gdb) bt\n#0  0x00007ffff4f97425 in __GI_raise (sig=<optimized out>)\n    at ../nptl/sysdeps/unix/sysv/linux/raise.c:64\n#1  0x00007ffff4f9ab8b in __GI_abort () at abort.c:91\n#2  0x00007ffff4f900ee in __assert_fail_base (fmt=<optimized out>, \n    assertion=0x7ffff76ce64c \"px != 0\", \n    file=0x7ffff76ceb48 \"/usr/include/boost/smart_ptr/shared_ptr.hpp\", \n    line=<optimized out>, function=<optimized out>) at assert.c:94\n#3  0x00007ffff4f90192 in __GI___assert_fail (\n    assertion=0x7ffff76ce64c \"px != 0\", \n    file=0x7ffff76ceb48 \"/usr/include/boost/smart_ptr/shared_ptr.hpp\", \n    line=418, \n    function=0x7ffff76d36a0 \"T* boost::shared_ptr<T>::operator->() const [with T = gazebo::transport::Publication]\") at assert.c:103\n#4  0x00007ffff7694edc in boost::shared_ptr<gazebo::transport::Publication>::operator-> (this=<optimized out>)\n    at /usr/include/boost/smart_ptr/shared_ptr.hpp:418\n#5  0x00007ffff76c4c32 in operator-> (this=<optimized out>)\n    at /usr/include/boost/smart_ptr/shared_ptr.hpp:418\n#6  gazebo::transport::TopicManager::ConnectPubToSub (this=<optimized out>, \n    _topic=..., _sublink=...)\n    at /home/jrivero/code/gazebo/gazebo/transport/TopicManager.cc:267\n---Type <return> to continue, or q <return> to quit---\n#7  0x00007ffff76b25f0 in gazebo::transport::ConnectionManager::OnRead (\n    this=<optimized out>, _connection=..., _data=...)\n    at /home/jrivero/code/gazebo/gazebo/transport/ConnectionManager.cc:484\n#8  0x00007ffff76b3102 in operator() (a2=..., \n    a1=<error reading variable: access outside bounds of object referenced via synthetic pointer>, p=<optimized out>, this=<optimized out>)\n    at /usr/include/boost/bind/mem_fn_template.hpp:280\n#9  operator()<boost::_mfi::mf2<void, gazebo::transport::ConnectionManager, boost::shared_ptr<gazebo::transport::Connection>, const std::basic_string<char>&>, boost::_bi::list1<const std::basic_string<char>&> > (a=<synthetic pointer>, \n    f=..., this=<optimized out>) at /usr/include/boost/bind/bind.hpp:392\n#10 operator()<std::basic_string<char> > (a1=..., this=<optimized out>)\n    at /usr/include/boost/bind/bind_template.hpp:47\n#11 boost::detail::function::void_function_obj_invoker1<boost::_bi::bind_t<void, boost::_mfi::mf2<void, gazebo::transport::ConnectionManager, boost::shared_ptr<gazebo::transport::Connection>, std::string const&>, boost::_bi::list3<boost::_bi::value<gazebo::transport::ConnectionManager*>, boost::_bi::value<boost::shared_ptr<gazebo::transport::Connection> >, boost::arg<1> > >, void, std::string const&>::invoke (function_obj_ptr=..., a0=...)\n    at /usr/include/boost/function/function_template.hpp:153\n#12 0x00000000004249ec in operator() (a0=..., this=<optimized out>)\n---Type <return> to continue, or q <return> to quit---qq^C at /usr/inclQuit\n```", "markup": "markdown", "html": "<p>The previous run probably fall in problems due to not rebooting the system after updating nvidia drivers. Now, I can see the error and trace it:</p>\n<div class=\"codehilite\"><pre><span></span>gzserver: /usr/include/boost/smart_ptr/shared_ptr.hpp:418: T* boost::shared_ptr&lt;T&gt;::operator-&gt;() const [with T = gazebo::transport::Publication]: Assertion `px != 0&#39; failed.\n\nProgram received signal SIGABRT, Aborted.\n[Switching to Thread 0x7fffc23da700 (LWP 15041)]\n0x00007ffff4f97425 in __GI_raise (sig=&lt;optimized out&gt;)\n    at ../nptl/sysdeps/unix/sysv/linux/raise.c:64\n64  ../nptl/sysdeps/unix/sysv/linux/raise.c: No such file or directory.\n(gdb) bt\n#0  0x00007ffff4f97425 in __GI_raise (sig=&lt;optimized out&gt;)\n    at ../nptl/sysdeps/unix/sysv/linux/raise.c:64\n#1  0x00007ffff4f9ab8b in __GI_abort () at abort.c:91\n#2  0x00007ffff4f900ee in __assert_fail_base (fmt=&lt;optimized out&gt;, \n    assertion=0x7ffff76ce64c &quot;px != 0&quot;, \n    file=0x7ffff76ceb48 &quot;/usr/include/boost/smart_ptr/shared_ptr.hpp&quot;, \n    line=&lt;optimized out&gt;, function=&lt;optimized out&gt;) at assert.c:94\n#3  0x00007ffff4f90192 in __GI___assert_fail (\n    assertion=0x7ffff76ce64c &quot;px != 0&quot;, \n    file=0x7ffff76ceb48 &quot;/usr/include/boost/smart_ptr/shared_ptr.hpp&quot;, \n    line=418, \n    function=0x7ffff76d36a0 &quot;T* boost::shared_ptr&lt;T&gt;::operator-&gt;() const [with T = gazebo::transport::Publication]&quot;) at assert.c:103\n#4  0x00007ffff7694edc in boost::shared_ptr&lt;gazebo::transport::Publication&gt;::operator-&gt; (this=&lt;optimized out&gt;)\n    at /usr/include/boost/smart_ptr/shared_ptr.hpp:418\n#5  0x00007ffff76c4c32 in operator-&gt; (this=&lt;optimized out&gt;)\n    at /usr/include/boost/smart_ptr/shared_ptr.hpp:418\n#6  gazebo::transport::TopicManager::ConnectPubToSub (this=&lt;optimized out&gt;, \n    _topic=..., _sublink=...)\n    at /home/jrivero/code/gazebo/gazebo/transport/TopicManager.cc:267\n---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---\n#7  0x00007ffff76b25f0 in gazebo::transport::ConnectionManager::OnRead (\n    this=&lt;optimized out&gt;, _connection=..., _data=...)\n    at /home/jrivero/code/gazebo/gazebo/transport/ConnectionManager.cc:484\n#8  0x00007ffff76b3102 in operator() (a2=..., \n    a1=&lt;error reading variable: access outside bounds of object referenced via synthetic pointer&gt;, p=&lt;optimized out&gt;, this=&lt;optimized out&gt;)\n    at /usr/include/boost/bind/mem_fn_template.hpp:280\n#9  operator()&lt;boost::_mfi::mf2&lt;void, gazebo::transport::ConnectionManager, boost::shared_ptr&lt;gazebo::transport::Connection&gt;, const std::basic_string&lt;char&gt;&amp;&gt;, boost::_bi::list1&lt;const std::basic_string&lt;char&gt;&amp;&gt; &gt; (a=&lt;synthetic pointer&gt;, \n    f=..., this=&lt;optimized out&gt;) at /usr/include/boost/bind/bind.hpp:392\n#10 operator()&lt;std::basic_string&lt;char&gt; &gt; (a1=..., this=&lt;optimized out&gt;)\n    at /usr/include/boost/bind/bind_template.hpp:47\n#11 boost::detail::function::void_function_obj_invoker1&lt;boost::_bi::bind_t&lt;void, boost::_mfi::mf2&lt;void, gazebo::transport::ConnectionManager, boost::shared_ptr&lt;gazebo::transport::Connection&gt;, std::string const&amp;&gt;, boost::_bi::list3&lt;boost::_bi::value&lt;gazebo::transport::ConnectionManager*&gt;, boost::_bi::value&lt;boost::shared_ptr&lt;gazebo::transport::Connection&gt; &gt;, boost::arg&lt;1&gt; &gt; &gt;, void, std::string const&amp;&gt;::invoke (function_obj_ptr=..., a0=...)\n    at /usr/include/boost/function/function_template.hpp:153\n#12 0x00000000004249ec in operator() (a0=..., this=&lt;optimized out&gt;)\n---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---qq^C at /usr/inclQuit\n</pre></div>", "type": "rendered"}, "created_on": "2014-02-05T17:09:46.678842+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": null, "type": "issue_comment", "id": 8100417}