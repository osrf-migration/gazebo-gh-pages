{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1032/comments/8100407.json"}, "html": {"href": "#!/osrf/gazebo/issues/1032#comment-8100407"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1032.json"}}, "type": "issue", "id": 1032, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Gazebo fails to start when compiled with visibility=hidden"}, "content": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "created_on": "2014-02-05T17:08:44.376720+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": null, "type": "issue_comment", "id": 8100407}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1032/comments/8100417.json"}, "html": {"href": "#!/osrf/gazebo/issues/1032#comment-8100417"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1032.json"}}, "type": "issue", "id": 1032, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Gazebo fails to start when compiled with visibility=hidden"}, "content": {"raw": "The previous run probably fall in problems due to not rebooting the system after updating nvidia drivers. Now, I can see the error and trace it:\n\n```\ngzserver: /usr/include/boost/smart_ptr/shared_ptr.hpp:418: T* boost::shared_ptr<T>::operator->() const [with T = gazebo::transport::Publication]: Assertion `px != 0' failed.\n\nProgram received signal SIGABRT, Aborted.\n[Switching to Thread 0x7fffc23da700 (LWP 15041)]\n0x00007ffff4f97425 in __GI_raise (sig=<optimized out>)\n    at ../nptl/sysdeps/unix/sysv/linux/raise.c:64\n64\t../nptl/sysdeps/unix/sysv/linux/raise.c: No such file or directory.\n(gdb) bt\n#0  0x00007ffff4f97425 in __GI_raise (sig=<optimized out>)\n    at ../nptl/sysdeps/unix/sysv/linux/raise.c:64\n#1  0x00007ffff4f9ab8b in __GI_abort () at abort.c:91\n#2  0x00007ffff4f900ee in __assert_fail_base (fmt=<optimized out>, \n    assertion=0x7ffff76ce64c \"px != 0\", \n    file=0x7ffff76ceb48 \"/usr/include/boost/smart_ptr/shared_ptr.hpp\", \n    line=<optimized out>, function=<optimized out>) at assert.c:94\n#3  0x00007ffff4f90192 in __GI___assert_fail (\n    assertion=0x7ffff76ce64c \"px != 0\", \n    file=0x7ffff76ceb48 \"/usr/include/boost/smart_ptr/shared_ptr.hpp\", \n    line=418, \n    function=0x7ffff76d36a0 \"T* boost::shared_ptr<T>::operator->() const [with T = gazebo::transport::Publication]\") at assert.c:103\n#4  0x00007ffff7694edc in boost::shared_ptr<gazebo::transport::Publication>::operator-> (this=<optimized out>)\n    at /usr/include/boost/smart_ptr/shared_ptr.hpp:418\n#5  0x00007ffff76c4c32 in operator-> (this=<optimized out>)\n    at /usr/include/boost/smart_ptr/shared_ptr.hpp:418\n#6  gazebo::transport::TopicManager::ConnectPubToSub (this=<optimized out>, \n    _topic=..., _sublink=...)\n    at /home/jrivero/code/gazebo/gazebo/transport/TopicManager.cc:267\n---Type <return> to continue, or q <return> to quit---\n#7  0x00007ffff76b25f0 in gazebo::transport::ConnectionManager::OnRead (\n    this=<optimized out>, _connection=..., _data=...)\n    at /home/jrivero/code/gazebo/gazebo/transport/ConnectionManager.cc:484\n#8  0x00007ffff76b3102 in operator() (a2=..., \n    a1=<error reading variable: access outside bounds of object referenced via synthetic pointer>, p=<optimized out>, this=<optimized out>)\n    at /usr/include/boost/bind/mem_fn_template.hpp:280\n#9  operator()<boost::_mfi::mf2<void, gazebo::transport::ConnectionManager, boost::shared_ptr<gazebo::transport::Connection>, const std::basic_string<char>&>, boost::_bi::list1<const std::basic_string<char>&> > (a=<synthetic pointer>, \n    f=..., this=<optimized out>) at /usr/include/boost/bind/bind.hpp:392\n#10 operator()<std::basic_string<char> > (a1=..., this=<optimized out>)\n    at /usr/include/boost/bind/bind_template.hpp:47\n#11 boost::detail::function::void_function_obj_invoker1<boost::_bi::bind_t<void, boost::_mfi::mf2<void, gazebo::transport::ConnectionManager, boost::shared_ptr<gazebo::transport::Connection>, std::string const&>, boost::_bi::list3<boost::_bi::value<gazebo::transport::ConnectionManager*>, boost::_bi::value<boost::shared_ptr<gazebo::transport::Connection> >, boost::arg<1> > >, void, std::string const&>::invoke (function_obj_ptr=..., a0=...)\n    at /usr/include/boost/function/function_template.hpp:153\n#12 0x00000000004249ec in operator() (a0=..., this=<optimized out>)\n---Type <return> to continue, or q <return> to quit---qq^C at /usr/inclQuit\n```", "markup": "markdown", "html": "<p>The previous run probably fall in problems due to not rebooting the system after updating nvidia drivers. Now, I can see the error and trace it:</p>\n<div class=\"codehilite\"><pre><span></span>gzserver: /usr/include/boost/smart_ptr/shared_ptr.hpp:418: T* boost::shared_ptr&lt;T&gt;::operator-&gt;() const [with T = gazebo::transport::Publication]: Assertion `px != 0&#39; failed.\n\nProgram received signal SIGABRT, Aborted.\n[Switching to Thread 0x7fffc23da700 (LWP 15041)]\n0x00007ffff4f97425 in __GI_raise (sig=&lt;optimized out&gt;)\n    at ../nptl/sysdeps/unix/sysv/linux/raise.c:64\n64  ../nptl/sysdeps/unix/sysv/linux/raise.c: No such file or directory.\n(gdb) bt\n#0  0x00007ffff4f97425 in __GI_raise (sig=&lt;optimized out&gt;)\n    at ../nptl/sysdeps/unix/sysv/linux/raise.c:64\n#1  0x00007ffff4f9ab8b in __GI_abort () at abort.c:91\n#2  0x00007ffff4f900ee in __assert_fail_base (fmt=&lt;optimized out&gt;, \n    assertion=0x7ffff76ce64c &quot;px != 0&quot;, \n    file=0x7ffff76ceb48 &quot;/usr/include/boost/smart_ptr/shared_ptr.hpp&quot;, \n    line=&lt;optimized out&gt;, function=&lt;optimized out&gt;) at assert.c:94\n#3  0x00007ffff4f90192 in __GI___assert_fail (\n    assertion=0x7ffff76ce64c &quot;px != 0&quot;, \n    file=0x7ffff76ceb48 &quot;/usr/include/boost/smart_ptr/shared_ptr.hpp&quot;, \n    line=418, \n    function=0x7ffff76d36a0 &quot;T* boost::shared_ptr&lt;T&gt;::operator-&gt;() const [with T = gazebo::transport::Publication]&quot;) at assert.c:103\n#4  0x00007ffff7694edc in boost::shared_ptr&lt;gazebo::transport::Publication&gt;::operator-&gt; (this=&lt;optimized out&gt;)\n    at /usr/include/boost/smart_ptr/shared_ptr.hpp:418\n#5  0x00007ffff76c4c32 in operator-&gt; (this=&lt;optimized out&gt;)\n    at /usr/include/boost/smart_ptr/shared_ptr.hpp:418\n#6  gazebo::transport::TopicManager::ConnectPubToSub (this=&lt;optimized out&gt;, \n    _topic=..., _sublink=...)\n    at /home/jrivero/code/gazebo/gazebo/transport/TopicManager.cc:267\n---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---\n#7  0x00007ffff76b25f0 in gazebo::transport::ConnectionManager::OnRead (\n    this=&lt;optimized out&gt;, _connection=..., _data=...)\n    at /home/jrivero/code/gazebo/gazebo/transport/ConnectionManager.cc:484\n#8  0x00007ffff76b3102 in operator() (a2=..., \n    a1=&lt;error reading variable: access outside bounds of object referenced via synthetic pointer&gt;, p=&lt;optimized out&gt;, this=&lt;optimized out&gt;)\n    at /usr/include/boost/bind/mem_fn_template.hpp:280\n#9  operator()&lt;boost::_mfi::mf2&lt;void, gazebo::transport::ConnectionManager, boost::shared_ptr&lt;gazebo::transport::Connection&gt;, const std::basic_string&lt;char&gt;&amp;&gt;, boost::_bi::list1&lt;const std::basic_string&lt;char&gt;&amp;&gt; &gt; (a=&lt;synthetic pointer&gt;, \n    f=..., this=&lt;optimized out&gt;) at /usr/include/boost/bind/bind.hpp:392\n#10 operator()&lt;std::basic_string&lt;char&gt; &gt; (a1=..., this=&lt;optimized out&gt;)\n    at /usr/include/boost/bind/bind_template.hpp:47\n#11 boost::detail::function::void_function_obj_invoker1&lt;boost::_bi::bind_t&lt;void, boost::_mfi::mf2&lt;void, gazebo::transport::ConnectionManager, boost::shared_ptr&lt;gazebo::transport::Connection&gt;, std::string const&amp;&gt;, boost::_bi::list3&lt;boost::_bi::value&lt;gazebo::transport::ConnectionManager*&gt;, boost::_bi::value&lt;boost::shared_ptr&lt;gazebo::transport::Connection&gt; &gt;, boost::arg&lt;1&gt; &gt; &gt;, void, std::string const&amp;&gt;::invoke (function_obj_ptr=..., a0=...)\n    at /usr/include/boost/function/function_template.hpp:153\n#12 0x00000000004249ec in operator() (a0=..., this=&lt;optimized out&gt;)\n---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---qq^C at /usr/inclQuit\n</pre></div>", "type": "rendered"}, "created_on": "2014-02-05T17:09:46.678842+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": null, "type": "issue_comment", "id": 8100417}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1032/comments/8276641.json"}, "html": {"href": "#!/osrf/gazebo/issues/1032#comment-8276641"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1032.json"}}, "type": "issue", "id": 1032, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Gazebo fails to start when compiled with visibility=hidden"}, "content": {"raw": "@scpeters I will probably need your masterfull expert help :) to known what's going on here. All I can see running gzserver in gdb is that threads are exited when the call in ```Server::Preload()``` reach ```this->master->Init(port);```", "markup": "markdown", "html": "<p>@scpeters I will probably need your masterfull expert help :) to known what's going on here. All I can see running gzserver in gdb is that threads are exited when the call in <code>Server::Preload()</code> reach <code>this-&gt;master-&gt;Init(port);</code></p>", "type": "rendered"}, "created_on": "2014-02-12T17:58:48.243728+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": null, "type": "issue_comment", "id": 8276641}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1032/comments/8276938.json"}, "html": {"href": "#!/osrf/gazebo/issues/1032#comment-8276938"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1032.json"}}, "type": "issue", "id": 1032, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Gazebo fails to start when compiled with visibility=hidden"}, "content": {"raw": "Yes sir, I will take a look. Is there a special configuration flag that is needed?", "markup": "markdown", "html": "<p>Yes sir, I will take a look. Is there a special configuration flag that is needed?</p>", "type": "rendered"}, "created_on": "2014-02-12T18:21:21.808214+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 8276938}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1032/comments/8277192.json"}, "html": {"href": "#!/osrf/gazebo/issues/1032#comment-8277192"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1032.json"}}, "type": "issue", "id": 1032, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Gazebo fails to start when compiled with visibility=hidden"}, "content": {"raw": "Thanks! you don't need anything special, just use the ```hidden_symbols```. Should be a couple of weeks behind default.", "markup": "markdown", "html": "<p>Thanks! you don't need anything special, just use the <code>hidden_symbols</code>. Should be a couple of weeks behind default.</p>", "type": "rendered"}, "created_on": "2014-02-12T18:46:35.245922+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": null, "type": "issue_comment", "id": 8277192}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1032/comments/8277208.json"}, "html": {"href": "#!/osrf/gazebo/issues/1032#comment-8277208"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1032.json"}}, "type": "issue", "id": 1032, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Gazebo fails to start when compiled with visibility=hidden"}, "content": {"raw": "Running `gazebo --verbose` I see some console errors from [TopicManager.cc:309](#!/osrf/gazebo/src/8e774cd52124e56305fee091a11c3e2054a91481/gazebo/transport/TopicManager.cc?at=default#cl-309):\n~~~\nGazebo multi-robot simulator, version 3.0.0\nCopyright (C) 2012-2013 Open Source Robotics Foundation.\nReleased under the Apache 2 License.\nhttp://gazebosim.org\n\n[Msg] Waiting for master.\nGazebo multi-robot simulator, version 3.0.0\nCopyright (C) 2012-2013 Open Source Robotics Foundation.\nReleased under the Apache 2 License.\nhttp://gazebosim.org\n\n[Msg] Connected to gazebo master @ http://127.0.0.1:11345\n[Msg] Publicized address: 192.168.1.188\n[Msg] Waiting for master.\n[Msg] Connected to gazebo master @ http://127.0.0.1:11345\n[Msg] Publicized address: 192.168.1.188\n[Err] [TopicManager.cc:309] Shouldn't get here topic[/gazebo/default/request]\n[Err] [TopicManager.cc:309] Shouldn't get here topic[/gazebo/default/request]\n[Err] [TopicManager.cc:309] Shouldn't get here topic[/gazebo/default/request]\n[Err] [TopicManager.cc:309] Shouldn't get here topic[/gazebo/default/request]\n~~~", "markup": "markdown", "html": "<p>Running <code>gazebo --verbose</code> I see some console errors from <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/8e774cd52124e56305fee091a11c3e2054a91481/gazebo/transport/TopicManager.cc?at=default#cl-309\" rel=\"nofollow\">TopicManager.cc:309</a>:</p>\n<div class=\"codehilite\"><pre><span></span>Gazebo multi-robot simulator, version 3.0.0\nCopyright (C) 2012-2013 Open Source Robotics Foundation.\nReleased under the Apache 2 License.\nhttp://gazebosim.org\n\n[Msg] Waiting for master.\nGazebo multi-robot simulator, version 3.0.0\nCopyright (C) 2012-2013 Open Source Robotics Foundation.\nReleased under the Apache 2 License.\nhttp://gazebosim.org\n\n[Msg] Connected to gazebo master @ http://127.0.0.1:11345\n[Msg] Publicized address: 192.168.1.188\n[Msg] Waiting for master.\n[Msg] Connected to gazebo master @ http://127.0.0.1:11345\n[Msg] Publicized address: 192.168.1.188\n[Err] [TopicManager.cc:309] Shouldn&#39;t get here topic[/gazebo/default/request]\n[Err] [TopicManager.cc:309] Shouldn&#39;t get here topic[/gazebo/default/request]\n[Err] [TopicManager.cc:309] Shouldn&#39;t get here topic[/gazebo/default/request]\n[Err] [TopicManager.cc:309] Shouldn&#39;t get here topic[/gazebo/default/request]\n</pre></div>", "type": "rendered"}, "created_on": "2014-02-12T18:47:17.722662+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2014-02-12T18:56:04.269773+00:00", "type": "issue_comment", "id": 8277208}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1032/comments/8277320.json"}, "html": {"href": "#!/osrf/gazebo/issues/1032#comment-8277320"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1032.json"}}, "type": "issue", "id": 1032, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Gazebo fails to start when compiled with visibility=hidden"}, "content": {"raw": "A simpler test:\n~~~\n$ gzserver --verbose\nGazebo multi-robot simulator, version 3.0.0\nCopyright (C) 2012-2013 Open Source Robotics Foundation.\nReleased under the Apache 2 License.\nhttp://gazebosim.org\n\n[Msg] Waiting for master.\n[Msg] Connected to gazebo master @ http://127.0.0.1:11345\n[Msg] Publicized address: 192.168.1.188\n~~~\nand in a separate terminal:\n~~~\n$ gztopic list\n/gazebo/default/request\n~~~\nIt only shows one topic, when there should be a bunch. Transport is not my strong suit, so I don't know if I have much more help to offer.", "markup": "markdown", "html": "<p>A simpler test:</p>\n<div class=\"codehilite\"><pre><span></span>$ gzserver --verbose\nGazebo multi-robot simulator, version <span class=\"m\">3</span>.0.0\nCopyright <span class=\"o\">(</span>C<span class=\"o\">)</span> <span class=\"m\">2012</span>-2013 Open Source Robotics Foundation.\nReleased under the Apache <span class=\"m\">2</span> License.\nhttp://gazebosim.org\n\n<span class=\"o\">[</span>Msg<span class=\"o\">]</span> Waiting <span class=\"k\">for</span> master.\n<span class=\"o\">[</span>Msg<span class=\"o\">]</span> Connected to gazebo master @ http://127.0.0.1:11345\n<span class=\"o\">[</span>Msg<span class=\"o\">]</span> Publicized address: <span class=\"m\">192</span>.168.1.188\n</pre></div>\n\n\n<p>and in a separate terminal:</p>\n<div class=\"codehilite\"><pre><span></span>$ gztopic list\n/gazebo/default/request\n</pre></div>\n\n\n<p>It only shows one topic, when there should be a bunch. Transport is not my strong suit, so I don't know if I have much more help to offer.</p>", "type": "rendered"}, "created_on": "2014-02-12T18:55:44.813662+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 8277320}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1032/comments/8423097.json"}, "html": {"href": "#!/osrf/gazebo/issues/1032#comment-8423097"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1032.json"}}, "type": "issue", "id": 1032, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Gazebo fails to start when compiled with visibility=hidden"}, "content": {"raw": "Thanks @scpeters . I've continued my research.\n\nWhen using the *visibility=hidden* by default the method ```TopicManager::ConnectPubToSub``` behaves different than when not using this compiler option.\n\nIn particular, the line:\n```\n  PublicationPtr publication = this->FindPublication(_topic);\n```\n_topic has the value of ```/gazebo/default/request``` and ```FindPublication``` is returning an empty PublicationPtr, so publication pointer is really invalid and the boost assertion is triggered in the line below.\n\nI've fixed some obscure macro generation in c5c215e and 48a9008 but the problem still exists.\n\nAnother way of triggering the bug is:\n\n```\n#!bash\n\ngzserver &\ngztopic echo /gazebo/default/request\n```\n", "markup": "markdown", "html": "<p>Thanks @scpeters . I've continued my research.</p>\n<p>When using the <em>visibility=hidden</em> by default the method <code>TopicManager::ConnectPubToSub</code> behaves different than when not using this compiler option.</p>\n<p>In particular, the line:</p>\n<div class=\"codehilite\"><pre><span></span>  PublicationPtr publication = this-&gt;FindPublication(_topic);\n</pre></div>\n\n\n<p>_topic has the value of <code>/gazebo/default/request</code> and <code>FindPublication</code> is returning an empty PublicationPtr, so publication pointer is really invalid and the boost assertion is triggered in the line below.</p>\n<p>I've fixed some obscure macro generation in <a href=\"#!/osrf/gazebo/commits/c5c215e\" rel=\"nofollow\" class=\"ap-connect-link\">c5c215e</a> and <a href=\"#!/osrf/gazebo/commits/48a9008\" rel=\"nofollow\" class=\"ap-connect-link\">48a9008</a> but the problem still exists.</p>\n<p>Another way of triggering the bug is:</p>\n<div class=\"codehilite language-bash\"><pre><span></span>gzserver <span class=\"p\">&amp;</span>\ngztopic <span class=\"nb\">echo</span> /gazebo/default/request\n</pre></div>", "type": "rendered"}, "created_on": "2014-02-17T00:38:25.082954+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2014-02-17T00:42:53.263506+00:00", "type": "issue_comment", "id": 8423097}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1032/comments/8569695.json"}, "html": {"href": "#!/osrf/gazebo/issues/1032#comment-8569695"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1032.json"}}, "type": "issue", "id": 1032, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Gazebo fails to start when compiled with visibility=hidden"}, "content": {"raw": "My research ended up detecting that the Singleton class was not really working and several instances of TopicManager were created in the application. I've fixed this in 1d4493b.", "markup": "markdown", "html": "<p>My research ended up detecting that the Singleton class was not really working and several instances of TopicManager were created in the application. I've fixed this in <a href=\"#!/osrf/gazebo/commits/1d4493b\" rel=\"nofollow\" class=\"ap-connect-link\">1d4493b</a>.</p>", "type": "rendered"}, "created_on": "2014-02-24T15:47:04.576024+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": null, "type": "issue_comment", "id": 8569695}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1032/comments/30610000.json"}, "html": {"href": "#!/osrf/gazebo/issues/1032#comment-30610000"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1032.json"}}, "type": "issue", "id": 1032, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Gazebo fails to start when compiled with visibility=hidden"}, "content": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "created_on": "2016-09-14T19:21:32.283093+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": null, "type": "issue_comment", "id": 30610000}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1032/comments/30612695.json"}, "html": {"href": "#!/osrf/gazebo/issues/1032#comment-30612695"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1032.json"}}, "type": "issue", "id": 1032, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Gazebo fails to start when compiled with visibility=hidden"}, "content": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "created_on": "2016-09-14T19:45:20.752651+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": null, "type": "issue_comment", "id": 30612695}], "page": 1, "size": 11}