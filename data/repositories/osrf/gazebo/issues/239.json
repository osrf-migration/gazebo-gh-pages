{"priority": "trivial", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/239/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/239.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/239/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/239/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/239/bug-when-reading-common-dae-for-collision"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/239/vote"}}, "reporter": {"display_name": "Maurice Fallon", "uuid": "{8bca6a99-adab-444a-b7f0-81660c79adfb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B8bca6a99-adab-444a-b7f0-81660c79adfb%7D"}, "html": {"href": "https://bitbucket.org/%7B8bca6a99-adab-444a-b7f0-81660c79adfb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/abb08cebf2b2b2fb3ae3f65fde4d36c0d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMF-4.png"}}, "nickname": "mauricefallon", "type": "user", "account_id": "557058:82a58458-5b27-457e-8e75-da6e16d4e3df"}, "title": "Bug when reading common dae for collision and texture", "component": null, "votes": 0, "watches": 4, "content": {"raw": "This simple SDF uses one file for both the collison and visual elements:\r\n\r\n\r\n\r\n```\r\n#!xml\r\n<?xml version='1.0'?>\r\n<gazebo version='1.2'>\r\n<model name=\"diy_box\">\r\n<static>true</static>\r\n<link name='chassis'>\r\n      <pose>0 0 0 0 0 0</pose>\r\n      <collision name='collision'>\r\n        <geometry>\r\n\t    <mesh>\r\n\t     <uri>model://diy_box/meshes/diy_box.dae</uri>\r\n\t    </mesh>\r\n        </geometry>\r\n      </collision>\r\n<visual name='visual'>\r\n  <geometry>\r\n    <mesh>\r\n     <uri>model://diy_box/meshes/diy_box.dae</uri>\r\n    </mesh>\r\n  </geometry>\r\n</visual>\r\n</link>  \r\n</model>\r\n</gazebo>\r\n```\r\n\r\nGazebo creates the collision element properly and in the Gazebo viewer correctly renderers the image BUT simulated camera images don't render the visual element. Instead its replaced by a black and yellow replacement texture.\r\n\r\nI think that the file mustn't be being properly read because the following workaround works, using this SDF file:\r\n\r\n```\r\n#!xml\r\n<?xml version='1.0'?>\r\n<gazebo version='1.2'>\r\n<model name=\"diy_box\">\r\n<static>true</static>\r\n<link name='chassis'>\r\n      <pose>0 0 0 0 0 0</pose>\r\n      <collision name='collision'>\r\n        <geometry>\r\n\t    <mesh>\r\n\t     <uri>model://diy_box/meshes/diy_box.dae</uri>\r\n\t    </mesh>\r\n        </geometry>\r\n      </collision>\r\n<visual name='visual'>\r\n  <geometry>\r\n    <mesh>\r\n     <uri>model://diy_box/meshes/diy_box_copied_file.dae</uri>\r\n    </mesh>\r\n  </geometry>\r\n</visual>\r\n</link>  \r\n</model>\r\n</gazebo>\r\n```\r\n\r\n... where the diy_box_copied_file.dae is just a copy of the original file.\r\n\r\nI'd imagine this is a trivial bug in whatever reads these files.", "markup": "markdown", "html": "<p>This simple SDF uses one file for both the collison and visual elements:</p>\n<div class=\"codehilite language-xml\"><pre><span></span><span class=\"cp\">&lt;?xml version=&#39;1.0&#39;?&gt;</span>\n<span class=\"nt\">&lt;gazebo</span> <span class=\"na\">version=</span><span class=\"s\">&#39;1.2&#39;</span><span class=\"nt\">&gt;</span>\n<span class=\"nt\">&lt;model</span> <span class=\"na\">name=</span><span class=\"s\">&quot;diy_box&quot;</span><span class=\"nt\">&gt;</span>\n<span class=\"nt\">&lt;static&gt;</span>true<span class=\"nt\">&lt;/static&gt;</span>\n<span class=\"nt\">&lt;link</span> <span class=\"na\">name=</span><span class=\"s\">&#39;chassis&#39;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;pose&gt;</span>0 0 0 0 0 0<span class=\"nt\">&lt;/pose&gt;</span>\n      <span class=\"nt\">&lt;collision</span> <span class=\"na\">name=</span><span class=\"s\">&#39;collision&#39;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;geometry&gt;</span>\n        <span class=\"nt\">&lt;mesh&gt;</span>\n         <span class=\"nt\">&lt;uri&gt;</span>model://diy_box/meshes/diy_box.dae<span class=\"nt\">&lt;/uri&gt;</span>\n        <span class=\"nt\">&lt;/mesh&gt;</span>\n        <span class=\"nt\">&lt;/geometry&gt;</span>\n      <span class=\"nt\">&lt;/collision&gt;</span>\n<span class=\"nt\">&lt;visual</span> <span class=\"na\">name=</span><span class=\"s\">&#39;visual&#39;</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;geometry&gt;</span>\n    <span class=\"nt\">&lt;mesh&gt;</span>\n     <span class=\"nt\">&lt;uri&gt;</span>model://diy_box/meshes/diy_box.dae<span class=\"nt\">&lt;/uri&gt;</span>\n    <span class=\"nt\">&lt;/mesh&gt;</span>\n  <span class=\"nt\">&lt;/geometry&gt;</span>\n<span class=\"nt\">&lt;/visual&gt;</span>\n<span class=\"nt\">&lt;/link&gt;</span>  \n<span class=\"nt\">&lt;/model&gt;</span>\n<span class=\"nt\">&lt;/gazebo&gt;</span>\n</pre></div>\n\n\n<p>Gazebo creates the collision element properly and in the Gazebo viewer correctly renderers the image BUT simulated camera images don't render the visual element. Instead its replaced by a black and yellow replacement texture.</p>\n<p>I think that the file mustn't be being properly read because the following workaround works, using this SDF file:</p>\n<div class=\"codehilite language-xml\"><pre><span></span><span class=\"cp\">&lt;?xml version=&#39;1.0&#39;?&gt;</span>\n<span class=\"nt\">&lt;gazebo</span> <span class=\"na\">version=</span><span class=\"s\">&#39;1.2&#39;</span><span class=\"nt\">&gt;</span>\n<span class=\"nt\">&lt;model</span> <span class=\"na\">name=</span><span class=\"s\">&quot;diy_box&quot;</span><span class=\"nt\">&gt;</span>\n<span class=\"nt\">&lt;static&gt;</span>true<span class=\"nt\">&lt;/static&gt;</span>\n<span class=\"nt\">&lt;link</span> <span class=\"na\">name=</span><span class=\"s\">&#39;chassis&#39;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;pose&gt;</span>0 0 0 0 0 0<span class=\"nt\">&lt;/pose&gt;</span>\n      <span class=\"nt\">&lt;collision</span> <span class=\"na\">name=</span><span class=\"s\">&#39;collision&#39;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;geometry&gt;</span>\n        <span class=\"nt\">&lt;mesh&gt;</span>\n         <span class=\"nt\">&lt;uri&gt;</span>model://diy_box/meshes/diy_box.dae<span class=\"nt\">&lt;/uri&gt;</span>\n        <span class=\"nt\">&lt;/mesh&gt;</span>\n        <span class=\"nt\">&lt;/geometry&gt;</span>\n      <span class=\"nt\">&lt;/collision&gt;</span>\n<span class=\"nt\">&lt;visual</span> <span class=\"na\">name=</span><span class=\"s\">&#39;visual&#39;</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;geometry&gt;</span>\n    <span class=\"nt\">&lt;mesh&gt;</span>\n     <span class=\"nt\">&lt;uri&gt;</span>model://diy_box/meshes/diy_box_copied_file.dae<span class=\"nt\">&lt;/uri&gt;</span>\n    <span class=\"nt\">&lt;/mesh&gt;</span>\n  <span class=\"nt\">&lt;/geometry&gt;</span>\n<span class=\"nt\">&lt;/visual&gt;</span>\n<span class=\"nt\">&lt;/link&gt;</span>  \n<span class=\"nt\">&lt;/model&gt;</span>\n<span class=\"nt\">&lt;/gazebo&gt;</span>\n</pre></div>\n\n\n<p>... where the diy_box_copied_file.dae is just a copy of the original file.</p>\n<p>I'd imagine this is a trivial bug in whatever reads these files.</p>", "type": "rendered"}, "assignee": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "state": "closed", "version": {"name": "all", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/225575.json"}}}, "edited_on": null, "created_on": "2012-11-19T00:50:09.289387+00:00", "milestone": null, "updated_on": "2016-09-14T19:43:53.978513+00:00", "type": "issue", "id": 239}