{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/825/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/825.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/825/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/825/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/825/cmake-integration-test-doesnt-test-linking"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/825/vote"}}, "reporter": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "title": "cmake integration test doesn't test linking", "component": {"name": "testing", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/128164.json"}}}, "votes": 0, "watches": 2, "content": {"raw": "We have a cmake integration test that builds a gazebo plugin, but it doesn't fully test linking since the [hello_world plugin](#!/osrf/gazebo/src/b53e50cdcd03f4f8c2214c53107879c4a77d4561/test/cmake/plugin/hello_world.cc?at=default) doesn't invoke any gazebo libraries.\r\n~~~\r\n$ ldd libhello_world.so \r\n\tlinux-vdso.so.1 =>  (0x00007fff1e7ff000)\r\n\tlibboost_system.so.1.49.0 => /usr/lib/libboost_system.so.1.49.0 (0x00007f9874642000)\r\n\tlibstdc++.so.6 => /usr/lib/x86_64-linux-gnu/libstdc++.so.6 (0x00007f987433f000)\r\n\tlibgcc_s.so.1 => /lib/x86_64-linux-gnu/libgcc_s.so.1 (0x00007f9874128000)\r\n\tlibc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007f9873d69000)\r\n\tlibm.so.6 => /lib/x86_64-linux-gnu/libm.so.6 (0x00007f9873a6d000)\r\n\t/lib64/ld-linux-x86-64.so.2 (0x00007f9874a84000)\r\n~~~\r\nIssue #824 may have been prevented with an improved test.", "markup": "markdown", "html": "<p>We have a cmake integration test that builds a gazebo plugin, but it doesn't fully test linking since the <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/b53e50cdcd03f4f8c2214c53107879c4a77d4561/test/cmake/plugin/hello_world.cc?at=default\" rel=\"nofollow\">hello_world plugin</a> doesn't invoke any gazebo libraries.</p>\n<div class=\"codehilite\"><pre><span></span>$ ldd libhello_world.so \n    linux-vdso.so.1 <span class=\"o\">=</span>&gt;  <span class=\"o\">(</span>0x00007fff1e7ff000<span class=\"o\">)</span>\n    libboost_system.so.1.49.0 <span class=\"o\">=</span>&gt; /usr/lib/libboost_system.so.1.49.0 <span class=\"o\">(</span>0x00007f9874642000<span class=\"o\">)</span>\n    libstdc++.so.6 <span class=\"o\">=</span>&gt; /usr/lib/x86_64-linux-gnu/libstdc++.so.6 <span class=\"o\">(</span>0x00007f987433f000<span class=\"o\">)</span>\n    libgcc_s.so.1 <span class=\"o\">=</span>&gt; /lib/x86_64-linux-gnu/libgcc_s.so.1 <span class=\"o\">(</span>0x00007f9874128000<span class=\"o\">)</span>\n    libc.so.6 <span class=\"o\">=</span>&gt; /lib/x86_64-linux-gnu/libc.so.6 <span class=\"o\">(</span>0x00007f9873d69000<span class=\"o\">)</span>\n    libm.so.6 <span class=\"o\">=</span>&gt; /lib/x86_64-linux-gnu/libm.so.6 <span class=\"o\">(</span>0x00007f9873a6d000<span class=\"o\">)</span>\n    /lib64/ld-linux-x86-64.so.2 <span class=\"o\">(</span>0x00007f9874a84000<span class=\"o\">)</span>\n</pre></div>\n\n\n<p>Issue <a href=\"#!/osrf/gazebo/issues/824/typo-in-cmake-config-file\" rel=\"nofollow\" title=\"typo in cmake config file\" class=\"ap-connect-link\"><s>#824</s></a> may have been prevented with an improved test.</p>", "type": "rendered"}, "assignee": null, "state": "closed", "version": {"name": "all", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/225575.json"}}}, "edited_on": null, "created_on": "2013-09-05T01:09:58.698021+00:00", "milestone": null, "updated_on": "2016-09-14T19:45:02.400463+00:00", "type": "issue", "id": 825}