{"priority": "critical", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/51/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/51.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/51/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/51/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/51/pioneer2dx-test-doesnt-pass-reliably"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/51/vote"}}, "reporter": {"display_name": "Brian Gerkey", "uuid": "{3d8b5763-9dad-4be7-85c2-a7ab6cd49173}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D"}, "html": {"href": "https://bitbucket.org/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9/5fa9ec73-0fec-4860-a202-e34ae23b6a12/128"}}, "nickname": "Brian Gerkey", "type": "user", "account_id": "557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9"}, "title": "pioneer2dx test doesn't pass reliably", "component": null, "votes": 0, "watches": 1, "content": {"raw": "The `pioneer2dx` test fails most of the time for me.  I've seen it pass a few times, but not often.\n\nIt seems that the robot is pretty consistently overshooting the expected travel distance.  I'm not familiar with how `ServerFixture` works, so I don't have a clear picture of the timing that's at work.  But I would guess that the test is running asynchronously with respect to the simulator, and that, depending on what machine you're on, the simulator may be running fast enough to advance the robot farther than expected by the discrete sampling in this test.\n\nIdeas on how to fix:\n\n* throttle simulation speed\n* run in a synchronous mode, with the test checking state after each physics update\n\nMarking critical because it's preventing a clean test report from Jenkins.\n\nNote that this problem is different from the one that's causing this test to fail under Jenkins currently (#!/osrf/gazebo/issue/50).  I've seen the behavior above by running the test manually from a directory not containing a file called `pioneer2dx`.", "markup": "markdown", "html": "<p>The <code>pioneer2dx</code> test fails most of the time for me.  I've seen it pass a few times, but not often.</p>\n<p>It seems that the robot is pretty consistently overshooting the expected travel distance.  I'm not familiar with how <code>ServerFixture</code> works, so I don't have a clear picture of the timing that's at work.  But I would guess that the test is running asynchronously with respect to the simulator, and that, depending on what machine you're on, the simulator may be running fast enough to advance the robot farther than expected by the discrete sampling in this test.</p>\n<p>Ideas on how to fix:</p>\n<ul>\n<li>throttle simulation speed</li>\n<li>run in a synchronous mode, with the test checking state after each physics update</li>\n</ul>\n<p>Marking critical because it's preventing a clean test report from Jenkins.</p>\n<p>Note that this problem is different from the one that's causing this test to fail under Jenkins currently (<a href=\"#!/osrf/gazebo/issue/50\" rel=\"nofollow\" class=\"ap-connect-link\">#!/osrf/gazebo/issue/50</a>).  I've seen the behavior above by running the test manually from a directory not containing a file called <code>pioneer2dx</code>.</p>", "type": "rendered"}, "assignee": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "state": "closed", "version": {"name": "all", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/225575.json"}}}, "edited_on": null, "created_on": "2012-10-11T07:38:07.034884+00:00", "milestone": null, "updated_on": "2016-09-14T19:43:38.367325+00:00", "type": "issue", "id": 51}