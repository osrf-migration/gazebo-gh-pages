{"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/1841/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/1841.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/1841/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/1841/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/1841/gazebo7-fails-to-build-with-hdf5-on-ubuntu"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/1841/vote"}}, "reporter": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "title": "Gazebo7 fails to build with hdf5 on Ubuntu Trusty", "component": {"name": "build", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/132954.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "Using the gazebo7-7.0.0~pre1 on Ubuntu Trusty and enabling the support for HDF5 by following the [HDF5 tutorial](http://gazebosim.org/tutorials?tut=instrument_hdf5_datasets&cat=tools_utilities), the linker displays an error when trying to link gzserver.\r\n\r\n```\r\nLinking CXX executable gzserver\r\ncd /home/jrivero/code/gazebo/build/gazebo && /usr/bin/cmake -E cmake_link_script CMakeFiles/gzserver.dir/link.txt --verbose=1\r\n/usr/bin/c++    -std=c++11  -Wall -Wextra -Wno-long-long -Wno-unused-value -Wno-unused-value -Wno-unused-value -Wno-unused-value -Wfloat-equal -Wshadow -Winit-self -Wswitch-default -Wmissing-include-dirs -pedantic -fvisibility=hidden -fvisibility-inlines-hidden -std=c++11  -g -O2 -mssse3 -msse3 -mfpmath=sse -msse -msse2     CMakeFiles/gzserver.dir/server_main.cc.o  -o \"gzserver-7.0.0~pre1\"  -L/home/jrivero/code/gazebo/build/test  -L/usr/lib/bullet_2.82 -rdynamic \"libgazebo.so.7.0.0~pre1\" \"common/libgazebo_common.so.7.0.0~pre1\" \"util/libgazebo_util.so.7.0.0~pre1\" \"transport/libgazebo_transport.so.7.0.0~pre1\" \"physics/libgazebo_physics.so.7.0.0~pre1\" \"sensors/libgazebo_sensors.so.7.0.0~pre1\" \"rendering/libgazebo_rendering.so.7.0.0~pre1\" \"msgs/libgazebo_msgs.so.7.0.0~pre1\" -lfreeimage -ltbb -lpthread \"physics/libgazebo_physics.so.7.0.0~pre1\" \"util/libgazebo_util.so.7.0.0~pre1\" -ltinyxml2 \"../deps/opende/libgazebo_ode.so.7.0.0~pre1\" \"../deps/opende/GIMPACT/libgazebo_gimpact.so.7.0.0~pre1\" \"../deps/opende/ou/libgazebo_opende_ou.so.7.0.0~pre1\" -lccd -lhdf5 -lz -lm \"../deps/opende/OPCODE/libgazebo_opcode.so.7.0.0~pre1\" -lBulletSoftBody -lBulletDynamics -lBulletCollision -lLinearMath /usr/lib/libdart-core.so.4.3.5 -lfcl -lccd -lassimp -lglut -lXmu -lXi -lSimTKsimbody -lSimTKmath -lSimTKcommon -lblas -llapack -lblas -llapack -ldl -lOgreRTShaderSystem -lOgreMain -lpthread -lOgreTerrain -lOgrePaging -lOgreMain -lpthread -lOgreTerrain -lOgrePaging \"transport/libgazebo_transport.so.7.0.0~pre1\" -lOgreRTShaderSystem -lOgreMain -lOgreTerrain -lOgrePaging -lOgreMain -lOgreTerrain -lOgrePaging -lGLU -lGL -lSM -lICE -lX11 -lXext -lX11 \"msgs/libgazebo_msgs.so.7.0.0~pre1\" \"common/libgazebo_common.so.7.0.0~pre1\" -lfreeimage -ldl -ltinyxml -lavcodec -lavformat -lavutil -lcurl -lswscale -ltar -ltbb -lsdformat -lrt -lgts -lm -lgthread-2.0 -lgmodule-2.0 -lglib-2.0 -lopenal -lgdal -lprotobuf -lpthread \"math/libgazebo_math.so.7.0.0~pre1\" /usr/lib/x86_64-linux-gnu/libignition-math2.so.2.3.0 -lboost_thread -lboost_signals -lboost_system -lboost_filesystem -lboost_program_options -lboost_regex -lboost_iostreams -lboost_date_time -lpthread -Wl,-rpath,/home/jrivero/code/gazebo/build/test:/usr/lib/bullet_2.82:/home/jrivero/code/gazebo/build/gazebo:/home/jrivero/code/gazebo/build/gazebo/common:/home/jrivero/code/gazebo/build/gazebo/util:/home/jrivero/code/gazebo/build/gazebo/transport:/home/jrivero/code/gazebo/build/gazebo/physics:/home/jrivero/code/gazebo/build/gazebo/sensors:/home/jrivero/code/gazebo/build/gazebo/rendering:/home/jrivero/code/gazebo/build/gazebo/msgs:/home/jrivero/code/gazebo/build/deps/opende:/home/jrivero/code/gazebo/build/deps/opende/GIMPACT:/home/jrivero/code/gazebo/build/deps/opende/ou:/home/jrivero/code/gazebo/build/deps/opende/OPCODE:/home/jrivero/code/gazebo/build/gazebo/math: \r\n../deps/opende/libgazebo_ode.so.7.0.0~pre1: undefined reference to `H5::PredType::NATIVE_INT16'\r\n../deps/opende/libgazebo_ode.so.7.0.0~pre1: undefined reference to `H5::FloatType::FloatType(H5::PredType const&)'\r\n../deps/opende/libgazebo_ode.so.7.0.0~pre1: undefined reference to `H5::CommonFG::getNumObjs() const'\r\n../deps/opende/libgazebo_ode.so.7.0.0~pre1: undefined reference to `H5::FloatType::~FloatType()'\r\n../deps/opende/libgazebo_ode.so.7.0.0~pre1: undefined reference to `typeinfo for H5::FileIException'\r\n../deps/opende/libgazebo_ode.so.7.0.0~pre1: undefined reference to `H5::DataSpace::operator=(H5::DataSpace const&)'\r\n../deps/opende/libgazebo_ode.so.7.0.0~pre1: undefined reference to `H5::FileAccPropList::DEFAULT'\r\n../deps/opende/libgazebo_ode.so.7.0.0~pre1: undefined reference to `H5::DataSet::write(void const*, H5::DataType const&, H5::DataSpace const&, H5::DataSpace const&, H5::DSetMemXferPropList const&) const'\r\n...\r\n```", "markup": "markdown", "html": "<p>Using the gazebo7-7.0.0~pre1 on Ubuntu Trusty and enabling the support for HDF5 by following the <a data-is-external-link=\"true\" href=\"http://gazebosim.org/tutorials?tut=instrument_hdf5_datasets&amp;cat=tools_utilities\" rel=\"nofollow\">HDF5 tutorial</a>, the linker displays an error when trying to link gzserver.</p>\n<div class=\"codehilite\"><pre><span></span>Linking CXX executable gzserver\ncd /home/jrivero/code/gazebo/build/gazebo &amp;&amp; /usr/bin/cmake -E cmake_link_script CMakeFiles/gzserver.dir/link.txt --verbose=1\n/usr/bin/c++    -std=c++11  -Wall -Wextra -Wno-long-long -Wno-unused-value -Wno-unused-value -Wno-unused-value -Wno-unused-value -Wfloat-equal -Wshadow -Winit-self -Wswitch-default -Wmissing-include-dirs -pedantic -fvisibility=hidden -fvisibility-inlines-hidden -std=c++11  -g -O2 -mssse3 -msse3 -mfpmath=sse -msse -msse2     CMakeFiles/gzserver.dir/server_main.cc.o  -o &quot;gzserver-7.0.0~pre1&quot;  -L/home/jrivero/code/gazebo/build/test  -L/usr/lib/bullet_2.82 -rdynamic &quot;libgazebo.so.7.0.0~pre1&quot; &quot;common/libgazebo_common.so.7.0.0~pre1&quot; &quot;util/libgazebo_util.so.7.0.0~pre1&quot; &quot;transport/libgazebo_transport.so.7.0.0~pre1&quot; &quot;physics/libgazebo_physics.so.7.0.0~pre1&quot; &quot;sensors/libgazebo_sensors.so.7.0.0~pre1&quot; &quot;rendering/libgazebo_rendering.so.7.0.0~pre1&quot; &quot;msgs/libgazebo_msgs.so.7.0.0~pre1&quot; -lfreeimage -ltbb -lpthread &quot;physics/libgazebo_physics.so.7.0.0~pre1&quot; &quot;util/libgazebo_util.so.7.0.0~pre1&quot; -ltinyxml2 &quot;../deps/opende/libgazebo_ode.so.7.0.0~pre1&quot; &quot;../deps/opende/GIMPACT/libgazebo_gimpact.so.7.0.0~pre1&quot; &quot;../deps/opende/ou/libgazebo_opende_ou.so.7.0.0~pre1&quot; -lccd -lhdf5 -lz -lm &quot;../deps/opende/OPCODE/libgazebo_opcode.so.7.0.0~pre1&quot; -lBulletSoftBody -lBulletDynamics -lBulletCollision -lLinearMath /usr/lib/libdart-core.so.4.3.5 -lfcl -lccd -lassimp -lglut -lXmu -lXi -lSimTKsimbody -lSimTKmath -lSimTKcommon -lblas -llapack -lblas -llapack -ldl -lOgreRTShaderSystem -lOgreMain -lpthread -lOgreTerrain -lOgrePaging -lOgreMain -lpthread -lOgreTerrain -lOgrePaging &quot;transport/libgazebo_transport.so.7.0.0~pre1&quot; -lOgreRTShaderSystem -lOgreMain -lOgreTerrain -lOgrePaging -lOgreMain -lOgreTerrain -lOgrePaging -lGLU -lGL -lSM -lICE -lX11 -lXext -lX11 &quot;msgs/libgazebo_msgs.so.7.0.0~pre1&quot; &quot;common/libgazebo_common.so.7.0.0~pre1&quot; -lfreeimage -ldl -ltinyxml -lavcodec -lavformat -lavutil -lcurl -lswscale -ltar -ltbb -lsdformat -lrt -lgts -lm -lgthread-2.0 -lgmodule-2.0 -lglib-2.0 -lopenal -lgdal -lprotobuf -lpthread &quot;math/libgazebo_math.so.7.0.0~pre1&quot; /usr/lib/x86_64-linux-gnu/libignition-math2.so.2.3.0 -lboost_thread -lboost_signals -lboost_system -lboost_filesystem -lboost_program_options -lboost_regex -lboost_iostreams -lboost_date_time -lpthread -Wl,-rpath,/home/jrivero/code/gazebo/build/test:/usr/lib/bullet_2.82:/home/jrivero/code/gazebo/build/gazebo:/home/jrivero/code/gazebo/build/gazebo/common:/home/jrivero/code/gazebo/build/gazebo/util:/home/jrivero/code/gazebo/build/gazebo/transport:/home/jrivero/code/gazebo/build/gazebo/physics:/home/jrivero/code/gazebo/build/gazebo/sensors:/home/jrivero/code/gazebo/build/gazebo/rendering:/home/jrivero/code/gazebo/build/gazebo/msgs:/home/jrivero/code/gazebo/build/deps/opende:/home/jrivero/code/gazebo/build/deps/opende/GIMPACT:/home/jrivero/code/gazebo/build/deps/opende/ou:/home/jrivero/code/gazebo/build/deps/opende/OPCODE:/home/jrivero/code/gazebo/build/gazebo/math: \n../deps/opende/libgazebo_ode.so.7.0.0~pre1: undefined reference to `H5::PredType::NATIVE_INT16&#39;\n../deps/opende/libgazebo_ode.so.7.0.0~pre1: undefined reference to `H5::FloatType::FloatType(H5::PredType const&amp;)&#39;\n../deps/opende/libgazebo_ode.so.7.0.0~pre1: undefined reference to `H5::CommonFG::getNumObjs() const&#39;\n../deps/opende/libgazebo_ode.so.7.0.0~pre1: undefined reference to `H5::FloatType::~FloatType()&#39;\n../deps/opende/libgazebo_ode.so.7.0.0~pre1: undefined reference to `typeinfo for H5::FileIException&#39;\n../deps/opende/libgazebo_ode.so.7.0.0~pre1: undefined reference to `H5::DataSpace::operator=(H5::DataSpace const&amp;)&#39;\n../deps/opende/libgazebo_ode.so.7.0.0~pre1: undefined reference to `H5::FileAccPropList::DEFAULT&#39;\n../deps/opende/libgazebo_ode.so.7.0.0~pre1: undefined reference to `H5::DataSet::write(void const*, H5::DataType const&amp;, H5::DataSpace const&amp;, H5::DataSpace const&amp;, H5::DSetMemXferPropList const&amp;) const&#39;\n...\n</pre></div>", "type": "rendered"}, "assignee": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "state": "resolved", "version": {"name": "all", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/225575.json"}}}, "edited_on": null, "created_on": "2016-01-23T00:01:26.162183+00:00", "milestone": null, "updated_on": "2017-03-31T18:10:18.025825+00:00", "type": "issue", "id": 1841}