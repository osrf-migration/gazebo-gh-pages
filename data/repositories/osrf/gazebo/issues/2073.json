{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2073/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2073.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2073/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2073/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2073/gazebo-gui-segmentation-fault-on-resize"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2073/vote"}}, "reporter": {"display_name": "Tully Foote", "uuid": "{3d90dbd4-b845-466f-b5bd-068566f7ff50}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d90dbd4-b845-466f-b5bd-068566f7ff50%7D"}, "html": {"href": "https://bitbucket.org/%7B3d90dbd4-b845-466f-b5bd-068566f7ff50%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/3bc6528f8fe1fef6b6ecc7312ee0cf04d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsTF-2.png"}}, "nickname": "Tully Foote", "type": "user", "account_id": "557058:e2bf789f-2138-4a4e-ba39-3d618078e20b"}, "title": "Gazebo gui segmentation fault on resize when on a dual monitor system", "component": {"name": "gui", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122878.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "If I resize the gzclient window near startup of an almost empty world, it regularly crashes the gui process. \r\n\r\nThe console output looks like this:\r\n\r\n```\r\n$ roslaunch /home/tfoote/uctf-ardu/devel/share/uctf/launch/uctf.launch\r\n... logging to /home/tfoote/.ros/log/804aa2f6-94c4-11e6-ae3f-3c970ee1fca6/roslaunch-snowman-645.log\r\nChecking log directory for disk usage. This may take awhile.\r\nPress Ctrl-C to interrupt\r\nDone checking log file disk usage. Usage is <1GB.\r\n\r\nstarted roslaunch server http://snowman:38316/\r\n\r\nSUMMARY\r\n========\r\n\r\nPARAMETERS\r\n * /rosdistro: kinetic\r\n * /rosversion: 1.12.2\r\n * /use_sim_time: True\r\n\r\nNODES\r\n  /\r\n    gazebo (gazebo_ros/gzserver)\r\n    gazebo_gui (gazebo_ros/gzclient)\r\n\r\nauto-starting new master\r\nprocess[master]: started with pid [658]\r\nROS_MASTER_URI=http://localhost:11311\r\n\r\nsetting /run_id to 804aa2f6-94c4-11e6-ae3f-3c970ee1fca6\r\nWARNING: Package name \"ign-math\" does not follow the naming conventions. It should start with a lower case letter and only contain lower case letters, digits and underscores.\r\nWARNING: Package name \"ign-msgs\" does not follow the naming conventions. It should start with a lower case letter and only contain lower case letters, digits and underscores.\r\nWARNING: Package name \"ign-tools\" does not follow the naming conventions. It should start with a lower case letter and only contain lower case letters, digits and underscores.\r\nprocess[rosout-1]: started with pid [671]\r\nstarted core service [/rosout]\r\nprocess[gazebo-2]: started with pid [675]\r\nprocess[gazebo_gui-3]: started with pid [695]\r\n[ INFO] [1476748237.564864967]: Finished loading Gazebo ROS API Plugin.\r\n[ INFO] [1476748237.565157007]: waitForService: Service [/gazebo/set_physics_properties] has not been advertised, waiting...\r\n[ INFO] [1476748238.475934490, 0.022000000]: waitForService: Service [/gazebo/set_physics_properties] is now available.\r\n[ INFO] [1476748238.527276235, 0.072000000]: Physics dynamic reconfigure ready.\r\nSegmentation fault (core dumped)\r\n[gazebo_gui-3] process has died [pid 695, exit code 139, cmd /home/tfoote/uctf-ardu/src/gazebo_ros_pkgs/gazebo_ros/scripts/gzclient __name:=gazebo_gui __log:=/home/tfoote/.ros/log/804aa2f6-94c4-11e6-ae3f-3c970ee1fca6/gazebo_gui-3.log].\r\nlog file: /home/tfoote/.ros/log/804aa2f6-94c4-11e6-ae3f-3c970ee1fca6/gazebo_gui-3*.log\r\n^C[gazebo-2] killing on exit\r\n[rosout-1] killing on exit\r\n[master] killing on exit\r\nshutting down processing monitor...\r\n... shutting down processing monitor complete\r\ndone\r\n```\r\n\r\nI'm running on the ardupilot branch but I don't think that this is unique to that branch. \r\n\r\nHere's an example of it not happening with the external monitor disabled: https://www.youtube.com/watch?v=YZic1Ao0cyE\r\nBut it fails if running with dual monitors: https://www.youtube.com/watch?v=lcB_1T7BjcU\r\nand also when on the external monitor: https://www.youtube.com/watch?v=G7fLTn3WmNg\r\nTo resize I was using the hot keys to snap it to the half or quarter screen size. \r\nIt also crashes double clicking on the title bar to un-maximize: https://www.youtube.com/watch?v=KDQYdCEa1Nk\r\n\r\n", "markup": "markdown", "html": "<p>If I resize the gzclient window near startup of an almost empty world, it regularly crashes the gui process. </p>\n<p>The console output looks like this:</p>\n<div class=\"codehilite\"><pre><span></span>$ roslaunch /home/tfoote/uctf-ardu/devel/share/uctf/launch/uctf.launch\n... logging to /home/tfoote/.ros/log/804aa2f6-94c4-11e6-ae3f-3c970ee1fca6/roslaunch-snowman-645.log\nChecking log directory <span class=\"k\">for</span> disk usage. This may take awhile.\nPress Ctrl-C to interrupt\nDone checking log file disk usage. Usage is &lt;1GB.\n\nstarted roslaunch server http://snowman:38316/\n\n<span class=\"nv\">SUMMARY</span>\n<span class=\"o\">========</span>\n\nPARAMETERS\n * /rosdistro: kinetic\n * /rosversion: <span class=\"m\">1</span>.12.2\n * /use_sim_time: True\n\nNODES\n  /\n    gazebo <span class=\"o\">(</span>gazebo_ros/gzserver<span class=\"o\">)</span>\n    gazebo_gui <span class=\"o\">(</span>gazebo_ros/gzclient<span class=\"o\">)</span>\n\nauto-starting new master\nprocess<span class=\"o\">[</span>master<span class=\"o\">]</span>: started with pid <span class=\"o\">[</span><span class=\"m\">658</span><span class=\"o\">]</span>\n<span class=\"nv\">ROS_MASTER_URI</span><span class=\"o\">=</span>http://localhost:11311\n\nsetting /run_id to 804aa2f6-94c4-11e6-ae3f-3c970ee1fca6\nWARNING: Package name <span class=\"s2\">&quot;ign-math&quot;</span> does not follow the naming conventions. It should start with a lower <span class=\"k\">case</span> letter and only contain lower <span class=\"k\">case</span> letters, digits and underscores.\nWARNING: Package name <span class=\"s2\">&quot;ign-msgs&quot;</span> does not follow the naming conventions. It should start with a lower <span class=\"k\">case</span> letter and only contain lower <span class=\"k\">case</span> letters, digits and underscores.\nWARNING: Package name <span class=\"s2\">&quot;ign-tools&quot;</span> does not follow the naming conventions. It should start with a lower <span class=\"k\">case</span> letter and only contain lower <span class=\"k\">case</span> letters, digits and underscores.\nprocess<span class=\"o\">[</span>rosout-1<span class=\"o\">]</span>: started with pid <span class=\"o\">[</span><span class=\"m\">671</span><span class=\"o\">]</span>\nstarted core service <span class=\"o\">[</span>/rosout<span class=\"o\">]</span>\nprocess<span class=\"o\">[</span>gazebo-2<span class=\"o\">]</span>: started with pid <span class=\"o\">[</span><span class=\"m\">675</span><span class=\"o\">]</span>\nprocess<span class=\"o\">[</span>gazebo_gui-3<span class=\"o\">]</span>: started with pid <span class=\"o\">[</span><span class=\"m\">695</span><span class=\"o\">]</span>\n<span class=\"o\">[</span> INFO<span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"m\">1476748237</span>.564864967<span class=\"o\">]</span>: Finished loading Gazebo ROS API Plugin.\n<span class=\"o\">[</span> INFO<span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"m\">1476748237</span>.565157007<span class=\"o\">]</span>: waitForService: Service <span class=\"o\">[</span>/gazebo/set_physics_properties<span class=\"o\">]</span> has not been advertised, waiting...\n<span class=\"o\">[</span> INFO<span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"m\">1476748238</span>.475934490, <span class=\"m\">0</span>.022000000<span class=\"o\">]</span>: waitForService: Service <span class=\"o\">[</span>/gazebo/set_physics_properties<span class=\"o\">]</span> is now available.\n<span class=\"o\">[</span> INFO<span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"m\">1476748238</span>.527276235, <span class=\"m\">0</span>.072000000<span class=\"o\">]</span>: Physics dynamic reconfigure ready.\nSegmentation fault <span class=\"o\">(</span>core dumped<span class=\"o\">)</span>\n<span class=\"o\">[</span>gazebo_gui-3<span class=\"o\">]</span> process has died <span class=\"o\">[</span>pid <span class=\"m\">695</span>, <span class=\"nb\">exit</span> code <span class=\"m\">139</span>, cmd /home/tfoote/uctf-ardu/src/gazebo_ros_pkgs/gazebo_ros/scripts/gzclient __name:<span class=\"o\">=</span>gazebo_gui __log:<span class=\"o\">=</span>/home/tfoote/.ros/log/804aa2f6-94c4-11e6-ae3f-3c970ee1fca6/gazebo_gui-3.log<span class=\"o\">]</span>.\nlog file: /home/tfoote/.ros/log/804aa2f6-94c4-11e6-ae3f-3c970ee1fca6/gazebo_gui-3*.log\n^C<span class=\"o\">[</span>gazebo-2<span class=\"o\">]</span> killing on <span class=\"nb\">exit</span>\n<span class=\"o\">[</span>rosout-1<span class=\"o\">]</span> killing on <span class=\"nb\">exit</span>\n<span class=\"o\">[</span>master<span class=\"o\">]</span> killing on <span class=\"nb\">exit</span>\nshutting down processing monitor...\n... shutting down processing monitor <span class=\"nb\">complete</span>\n<span class=\"k\">done</span>\n</pre></div>\n\n\n<p>I'm running on the ardupilot branch but I don't think that this is unique to that branch. </p>\n<p>Here's an example of it not happening with the external monitor disabled: <a href=\"https://www.youtube.com/watch?v=YZic1Ao0cyE\" rel=\"nofollow\" class=\"ap-connect-link\">https://www.youtube.com/watch?v=YZic1Ao0cyE</a>\nBut it fails if running with dual monitors: <a href=\"https://www.youtube.com/watch?v=lcB_1T7BjcU\" rel=\"nofollow\" class=\"ap-connect-link\">https://www.youtube.com/watch?v=lcB_1T7BjcU</a>\nand also when on the external monitor: <a href=\"https://www.youtube.com/watch?v=G7fLTn3WmNg\" rel=\"nofollow\" class=\"ap-connect-link\">https://www.youtube.com/watch?v=G7fLTn3WmNg</a>\nTo resize I was using the hot keys to snap it to the half or quarter screen size. \nIt also crashes double clicking on the title bar to un-maximize: <a href=\"https://www.youtube.com/watch?v=KDQYdCEa1Nk\" rel=\"nofollow\" class=\"ap-connect-link\">https://www.youtube.com/watch?v=KDQYdCEa1Nk</a></p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2016-10-18T00:08:20.693990+00:00", "milestone": null, "updated_on": "2016-10-18T00:08:20.693990+00:00", "type": "issue", "id": 2073}