{"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/1845/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/1845.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/1845/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/1845/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/1845/qtest-console-output-incomplete-with-make"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/1845/vote"}}, "reporter": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "title": "QTest console output incomplete with make test ARGS=-VV", "component": {"name": "testing", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/128164.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "The GUI tests have very little console output in jenkins, which makes it difficult to debug test failures.\r\n\r\nFor example, the `UNIT_ViewAngleWidget_TEST` has been failing for a while on [gazebo-ci-default-trusty-amd64-gpu-nvidia](http://build.osrfoundation.org/view/main/view/GazeboDefault/job/gazebo-ci-default-trusty-amd64-gpu-nvidia/60/testReport/). The [jenkins test result](http://build.osrfoundation.org/view/main/view/GazeboDefault/job/gazebo-ci-default-trusty-amd64-gpu-nvidia/60/testReport/(root)/ViewAngleWidget_TEST/EmptyWorld/) gives the following message:\r\n\r\n~~~\r\nViewAngleWidget_TEST.cc:170 :: '(pose.Pos() - ignition::math::Vector3d(0, dist, 0)).Length() < tol' returned FALSE. ()\r\n~~~\r\n\r\nbut this doesn't appear in the console output:\r\n\r\n~~~\r\ntest 141\r\n        Start 141: UNIT_ViewAngleWidget_TEST\r\n\r\n141: Test command: /var/lib/jenkins/workspace/gazebo-ci-default-trusty-amd64-gpu-nvidia/build/gazebo/gui/UNIT_ViewAngleWidget_TEST \"-xml\" \"-o\" \"/var/lib/jenkins/workspace/gazebo-ci-default-trusty-amd64-gpu-nvidia/build/test_results/UNIT_ViewAngleWidget_TEST.xml\"\r\n141: Test timeout computed to be: 240\r\n141: [Msg] Waiting for master.\r\n141: [Msg] Connected to gazebo master @ http://127.0.0.1:11345\r\n141: [Msg] Publicized address: 172.17.0.65\r\n141: [Err] [Scene.cc:2927] Light [sun] not found. Use topic ~/factory/light to spawn a new light.\r\n141: SharePercentChange[0.950312] ShareMaxPercentChange[2]\r\n141: ResPercentChange[1.81907]ResMaxPercentChange[5]\r\n141: [Msg] Waiting for master.\r\n141: [Msg] Connected to gazebo master @ http://127.0.0.1:11345\r\n141: [Msg] Publicized address: 172.17.0.65\r\n141: [Err] [Scene.cc:2927] Light [sun] not found. Use topic ~/factory/light to spawn a new light.\r\n141: [Wrn] [Publisher.cc:140] Queue limit reached for topic /gazebo/default/physics/contacts, deleting message. This warning is printed only once.\r\n141: SharePercentChange[-0.00996528] ShareMaxPercentChange[2]\r\n141: ResPercentChange[0.32546]ResMaxPercentChange[5]\r\n141: \r\n141: \r\n141/244 Test #141: UNIT_ViewAngleWidget_TEST ..............***Failed   15.23 sec\r\n~~~", "markup": "markdown", "html": "<p>The GUI tests have very little console output in jenkins, which makes it difficult to debug test failures.</p>\n<p>For example, the <code>UNIT_ViewAngleWidget_TEST</code> has been failing for a while on <a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/main/view/GazeboDefault/job/gazebo-ci-default-trusty-amd64-gpu-nvidia/60/testReport/\" rel=\"nofollow\">gazebo-ci-default-trusty-amd64-gpu-nvidia</a>. The <a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/main/view/GazeboDefault/job/gazebo-ci-default-trusty-amd64-gpu-nvidia/60/testReport/(root)/ViewAngleWidget_TEST/EmptyWorld/\" rel=\"nofollow\">jenkins test result</a> gives the following message:</p>\n<div class=\"codehilite\"><pre><span></span>ViewAngleWidget_TEST.cc:170 :: &#39;(pose.Pos() - ignition::math::Vector3d(0, dist, 0)).Length() &lt; tol&#39; returned FALSE. ()\n</pre></div>\n\n\n<p>but this doesn't appear in the console output:</p>\n<div class=\"codehilite\"><pre><span></span>test 141\n        Start 141: UNIT_ViewAngleWidget_TEST\n\n141: Test command: /var/lib/jenkins/workspace/gazebo-ci-default-trusty-amd64-gpu-nvidia/build/gazebo/gui/UNIT_ViewAngleWidget_TEST &quot;-xml&quot; &quot;-o&quot; &quot;/var/lib/jenkins/workspace/gazebo-ci-default-trusty-amd64-gpu-nvidia/build/test_results/UNIT_ViewAngleWidget_TEST.xml&quot;\n141: Test timeout computed to be: 240\n141: [Msg] Waiting for master.\n141: [Msg] Connected to gazebo master @ http://127.0.0.1:11345\n141: [Msg] Publicized address: 172.17.0.65\n141: [Err] [Scene.cc:2927] Light [sun] not found. Use topic ~/factory/light to spawn a new light.\n141: SharePercentChange[0.950312] ShareMaxPercentChange[2]\n141: ResPercentChange[1.81907]ResMaxPercentChange[5]\n141: [Msg] Waiting for master.\n141: [Msg] Connected to gazebo master @ http://127.0.0.1:11345\n141: [Msg] Publicized address: 172.17.0.65\n141: [Err] [Scene.cc:2927] Light [sun] not found. Use topic ~/factory/light to spawn a new light.\n141: [Wrn] [Publisher.cc:140] Queue limit reached for topic /gazebo/default/physics/contacts, deleting message. This warning is printed only once.\n141: SharePercentChange[-0.00996528] ShareMaxPercentChange[2]\n141: ResPercentChange[0.32546]ResMaxPercentChange[5]\n141: \n141: \n141/244 Test #141: UNIT_ViewAngleWidget_TEST ..............***Failed   15.23 sec\n</pre></div>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "all", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/225575.json"}}}, "edited_on": null, "created_on": "2016-01-28T00:55:01.161446+00:00", "milestone": null, "updated_on": "2016-09-14T19:24:03.483007+00:00", "type": "issue", "id": 1845}