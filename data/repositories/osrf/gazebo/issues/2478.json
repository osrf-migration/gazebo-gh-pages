{"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2478/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2478.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2478/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2478/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2478/the-same-mesh-file-is-loaded-multiple"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2478/vote"}}, "reporter": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "title": "The same mesh file is loaded multiple times", "component": {"name": "rendering", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122881.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "While working on pull request #2962, we noticed that when loading a model that has an OBJ mesh as a visual, and no collisions, i.e:\r\n\r\n~~~\r\n<?xml version=\"1.0\" ?>\r\n<sdf version=\"1.5\">\r\n  <model name=\"coffee_maker\">\r\n    <static>true</static>\r\n    <link name=\"link\">\r\n      <visual name=\"visual\">\r\n        <geometry>\r\n          <mesh>\r\n            <uri>https://api.ignitionfuel.org/1.0/chapulina/models/Coffee Maker/tip/files/meshes/coffee_maker.obj</uri>\r\n            <scale>0.01 0.01 0.01</scale>\r\n          </mesh>\r\n        </geometry>\r\n      </visual>\r\n    </link>\r\n  </model>\r\n</sdf>\r\n~~~\r\n\r\n `gzclient` makes 4 requests for the mesh's path on disk:\r\n\r\n* **1** when creating the preview attached to the mouse\r\n* **3** after the model is inserted (click)\r\n\r\nAnd if you then add a camera to the world, `gzserver` makes **2** more requests.\r\n\r\n---\r\n\r\nThese requests are asking for the mesh's path on disk, I didn't do any further investigation to find out how the path is being used", "markup": "markdown", "html": "<p>While working on <a href=\"#!/osrf/gazebo/pull-requests/2962/fuel-support-models-with-full-fuel-urls-in\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #2962</a>, we noticed that when loading a model that has an OBJ mesh as a visual, and no collisions, i.e:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"cp\">&lt;?xml version=&quot;1.0&quot; ?&gt;</span>\n<span class=\"nt\">&lt;sdf</span> <span class=\"na\">version=</span><span class=\"s\">&quot;1.5&quot;</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;model</span> <span class=\"na\">name=</span><span class=\"s\">&quot;coffee_maker&quot;</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;static&gt;</span>true<span class=\"nt\">&lt;/static&gt;</span>\n    <span class=\"nt\">&lt;link</span> <span class=\"na\">name=</span><span class=\"s\">&quot;link&quot;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;visual</span> <span class=\"na\">name=</span><span class=\"s\">&quot;visual&quot;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;geometry&gt;</span>\n          <span class=\"nt\">&lt;mesh&gt;</span>\n            <span class=\"nt\">&lt;uri&gt;</span>https://api.ignitionfuel.org/1.0/chapulina/models/Coffee Maker/tip/files/meshes/coffee_maker.obj<span class=\"nt\">&lt;/uri&gt;</span>\n            <span class=\"nt\">&lt;scale&gt;</span>0.01 0.01 0.01<span class=\"nt\">&lt;/scale&gt;</span>\n          <span class=\"nt\">&lt;/mesh&gt;</span>\n        <span class=\"nt\">&lt;/geometry&gt;</span>\n      <span class=\"nt\">&lt;/visual&gt;</span>\n    <span class=\"nt\">&lt;/link&gt;</span>\n  <span class=\"nt\">&lt;/model&gt;</span>\n<span class=\"nt\">&lt;/sdf&gt;</span>\n</pre></div>\n\n\n<p><code>gzclient</code> makes 4 requests for the mesh's path on disk:</p>\n<ul>\n<li><strong>1</strong> when creating the preview attached to the mouse</li>\n<li><strong>3</strong> after the model is inserted (click)</li>\n</ul>\n<p>And if you then add a camera to the world, <code>gzserver</code> makes <strong>2</strong> more requests.</p>\n<hr />\n<p>These requests are asking for the mesh's path on disk, I didn't do any further investigation to find out how the path is being used</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "all", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/225575.json"}}}, "edited_on": null, "created_on": "2018-05-31T19:12:32.794581+00:00", "milestone": null, "updated_on": "2018-05-31T19:14:00.304560+00:00", "type": "issue", "id": 2478}