{"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2134/comments/33535172.json"}, "html": {"href": "#!/osrf/gazebo/issues/2134#comment-33535172"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2134.json"}}, "type": "issue", "id": 2134, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Qt5: No menu shortcuts are working"}, "content": {"raw": "I found that this fixes the shortcut problem:\n\n~~~\ndiff -r 1ff0e24c4651 gazebo/gui/MainWindow.cc\n--- a/gazebo/gui/MainWindow.cc\tTue Jan 10 00:00:13 2017 +0100\n+++ b/gazebo/gui/MainWindow.cc\tTue Jan 10 11:52:34 2017 -0800\n@@ -1652,12 +1652,10 @@\n   this->dataPtr->menuLayout->addStretch(5);\n   this->dataPtr->menuLayout->setContentsMargins(0, 0, 0, 0);\n \n-#ifdef __APPLE__\n   // there is a problem on osx with the qt5 menubar being out of focus when\n   // the application is launched from a terminal, so prevent using a native\n   // menubar for now.\n   this->dataPtr->menuBar->setNativeMenuBar(false);\n-#endif\n }\n \n /////////////////////////////////////////////////\n~~~\n\nBut then we end up with 2 menu bars, only the non-native one has the shortcuts:\n\n![menubar.png](data/bitbucket.org/repo/jgXqbo/images/206370203-menubar.png)\n\n![menubar2.png](data/bitbucket.org/repo/jgXqbo/images/3771034799-menubar2.png)", "markup": "markdown", "html": "<p>I found that this fixes the shortcut problem:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gh\">diff -r 1ff0e24c4651 gazebo/gui/MainWindow.cc</span>\n<span class=\"gd\">--- a/gazebo/gui/MainWindow.cc  Tue Jan 10 00:00:13 2017 +0100</span>\n<span class=\"gi\">+++ b/gazebo/gui/MainWindow.cc  Tue Jan 10 11:52:34 2017 -0800</span>\n<span class=\"gu\">@@ -1652,12 +1652,10 @@</span>\n   this-&gt;dataPtr-&gt;menuLayout-&gt;addStretch(5);\n   this-&gt;dataPtr-&gt;menuLayout-&gt;setContentsMargins(0, 0, 0, 0);\n\n<span class=\"gd\">-#ifdef __APPLE__</span>\n   // there is a problem on osx with the qt5 menubar being out of focus when\n   // the application is launched from a terminal, so prevent using a native\n   // menubar for now.\n   this-&gt;dataPtr-&gt;menuBar-&gt;setNativeMenuBar(false);\n<span class=\"gd\">-#endif</span>\n }\n\n /////////////////////////////////////////////////\n</pre></div>\n\n\n<p>But then we end up with 2 menu bars, only the non-native one has the shortcuts:</p>\n<p><img alt=\"menubar.png\" src=\"data/bitbucket.org/repo/jgXqbo/images/206370203-menubar.png\" /></p>\n<p><img alt=\"menubar2.png\" src=\"data/bitbucket.org/repo/jgXqbo/images/3771034799-menubar2.png\" /></p>", "type": "rendered"}, "created_on": "2017-01-10T19:55:17.833261+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2017-01-10T19:55:55.155718+00:00", "type": "issue_comment", "id": 33535172}