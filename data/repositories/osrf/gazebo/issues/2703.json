{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2703/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2703.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2703/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2703/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2703/slipping-problem"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2703/vote"}}, "reporter": {"display_name": "Wasadim", "uuid": "{d09429b0-da80-4c0c-9705-c0e4f4fbe0fb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd09429b0-da80-4c0c-9705-c0e4f4fbe0fb%7D"}, "html": {"href": "https://bitbucket.org/%7Bd09429b0-da80-4c0c-9705-c0e4f4fbe0fb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/7fac82bca1111ca52dfb05c20d9fa937d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsW-4.png"}}, "nickname": "Wasadim", "type": "user", "account_id": "5e7b71f68f31f90c2f034357"}, "title": "Slipping problem", "component": {"name": "physics", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122876.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "Hi,\r\n\r\nwe are working on pick and place project in ros melodic - using simulation on gazebo 9, and we encounter a problem with a slipping. Wideo of the behavior can be seen at this link: [youtube](https://youtu.be/FTD5REwIWUA)\r\n\r\nthe settings for our gripper and object are as follows:\r\n\r\ngripper.gazebo.urdf:\r\n\r\n```\r\n    <!-- LinkRightFinger -->\r\n    <gazebo reference=\"${robot_name}_rightfinger\">\r\n        <material>Gazebo/Grey</material>\r\n        <kp>10000000.0</kp>\r\n        <kd>1000.0</kd>\r\n        <mu1>100.0</mu1>\r\n        <mu2>100.0</mu2>\r\n        <maxVel>1.0</maxVel>\r\n        <minDepth>0.003</minDepth>\r\n    </gazebo>\r\n\r\n    <!-- LinkLeftFinger -->\r\n    <gazebo reference=\"${robot_name}_leftfinger\">\r\n        <material>Gazebo/Grey</material>\r\n        <kp>10000000.0</kp>\r\n        <kd>1000.0</kd>\r\n        <mu1>100.0</mu1>\r\n        <mu2>100.0</mu2>\r\n        <maxVel>1.0</maxVel>\r\n        <minDepth>0.003</minDepth>\r\n    </gazebo>\r\n```\r\n\r\nmodel.sdf:\r\n\r\n```\r\n    <?xml version=\"1.0\" ?>\r\n    <sdf version='1.6'>\r\n      <model name=\"cuboid\">\r\n        <static>0</static>\r\n        <link name='link'>\r\n          <inertial>\r\n            <mass>0.10</mass>\r\n            <inertia>\r\n              <ixx>0.0002988</ixx>\r\n              <ixy>0.000000</ixy>\r\n              <ixz>0.000000</ixz>\r\n              <iyy>0.0002988</iyy>\r\n              <iyz>0.000000</iyz>\r\n              <izz>0.00005976</izz>\r\n            </inertia>\r\n          </inertial>\r\n          <collision name='collision'>\r\n            <geometry>\r\n              <box>\r\n                <size>0.060 0.060 0.180</size>\r\n              </box>\r\n            </geometry>\r\n            <surface>\r\n              <friction>\r\n                <ode>\r\n                  <mu>100</mu>\r\n                  <mu2>100</mu2>\r\n                </ode>\r\n              </friction>\r\n              <contact>\r\n                <ode>\r\n                  <kp>1000000.0</kp>\r\n                  <kd>100.0</kd>\r\n                  <max_vel>1.0</max_vel>\r\n                  <min_depth>0.002</min_depth>\r\n                </ode>\r\n              </contact>\r\n            </surface>\r\n          </collision>\r\n          <visual name='visual'>\r\n            <geometry>\r\n              <box>\r\n                <size>0.060 0.060 0.180</size>\r\n              </box>\r\n            </geometry>\r\n            <material>\r\n              <script>\r\n                <uri>file://media/materials/scripts/gazebo.material</uri>\r\n                <name>Gazebo/Red</name>\r\n              </script>\r\n            </material>\r\n          </visual>\r\n          <velocity_decay>\r\n            <linear>0.000000</linear>\r\n            <angular>0.000000</angular>\r\n          </velocity_decay>\r\n          <self_collide>0</self_collide>\r\n          <kinematic>0</kinematic>\r\n          <gravity>1</gravity>\r\n        </link>\r\n      </model>\r\n    </sdf>\r\n```\r\n\r\nand controller settings - control.yaml:\r\n\r\n```\r\n    panda_hand_controller:\r\n        type: position_controllers/JointTrajectoryController\r\n        joints:\r\n            - panda_finger_joint1\r\n            - panda_finger_joint2\r\n        constraints:\r\n            goal_time: 0.6\r\n            stopped_velocity_tolerance: 0\r\n            panda_finger_joint1: {trajectory: 0.1, goal: 0.1}\r\n            panda_finger_joint2: {trajectory: 0.1, goal: 0.1}\r\n\r\n\r\n        stop_trajectory_duration: 1.0\r\n\r\n        state_publish_rate: 100\r\n    joint_position_controller:\r\n        type: panda_simulation/JointPositionController\r\n        arm_id: panda\r\n        joint_names:\r\n            - panda_joint1\r\n            - panda_joint2\r\n            - panda_joint3\r\n            - panda_joint4\r\n            - panda_joint5\r\n            - panda_joint6\r\n            - panda_joint7\r\n        gains: [1, 1, 1, 1, 1, 1, 1]\r\n```\r\n\r\ni know of a JenniferBuehler/gazebo-pkgs grasping pluggin witch i implemented solving this issiue - but i dont like this approach and i want to do it in less cheaty way.\r\n\r\nThe physics engine we are using is ODE, and i didnt try to change it yet. Can it be a source of our problem?", "markup": "markdown", "html": "<p>Hi,</p>\n<p>we are working on pick and place project in ros melodic - using simulation on gazebo 9, and we encounter a problem with a slipping. Wideo of the behavior can be seen at this link: <a data-is-external-link=\"true\" href=\"https://youtu.be/FTD5REwIWUA\" rel=\"nofollow\">youtube</a></p>\n<p>the settings for our gripper and object are as follows:</p>\n<p>gripper.gazebo.urdf:</p>\n<div class=\"codehilite\"><pre><span></span>    <span class=\"c\">&lt;!-- LinkRightFinger --&gt;</span>\n    <span class=\"nt\">&lt;gazebo</span> <span class=\"na\">reference=</span><span class=\"s\">&quot;</span><span class=\"cp\">${</span><span class=\"n\">robot_name</span><span class=\"cp\">}</span><span class=\"s\">_rightfinger&quot;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;material&gt;</span>Gazebo/Grey<span class=\"nt\">&lt;/material&gt;</span>\n        <span class=\"nt\">&lt;kp&gt;</span>10000000.0<span class=\"nt\">&lt;/kp&gt;</span>\n        <span class=\"nt\">&lt;kd&gt;</span>1000.0<span class=\"nt\">&lt;/kd&gt;</span>\n        <span class=\"nt\">&lt;mu1&gt;</span>100.0<span class=\"nt\">&lt;/mu1&gt;</span>\n        <span class=\"nt\">&lt;mu2&gt;</span>100.0<span class=\"nt\">&lt;/mu2&gt;</span>\n        <span class=\"nt\">&lt;maxVel&gt;</span>1.0<span class=\"nt\">&lt;/maxVel&gt;</span>\n        <span class=\"nt\">&lt;minDepth&gt;</span>0.003<span class=\"nt\">&lt;/minDepth&gt;</span>\n    <span class=\"nt\">&lt;/gazebo&gt;</span>\n\n    <span class=\"c\">&lt;!-- LinkLeftFinger --&gt;</span>\n    <span class=\"nt\">&lt;gazebo</span> <span class=\"na\">reference=</span><span class=\"s\">&quot;</span><span class=\"cp\">${</span><span class=\"n\">robot_name</span><span class=\"cp\">}</span><span class=\"s\">_leftfinger&quot;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;material&gt;</span>Gazebo/Grey<span class=\"nt\">&lt;/material&gt;</span>\n        <span class=\"nt\">&lt;kp&gt;</span>10000000.0<span class=\"nt\">&lt;/kp&gt;</span>\n        <span class=\"nt\">&lt;kd&gt;</span>1000.0<span class=\"nt\">&lt;/kd&gt;</span>\n        <span class=\"nt\">&lt;mu1&gt;</span>100.0<span class=\"nt\">&lt;/mu1&gt;</span>\n        <span class=\"nt\">&lt;mu2&gt;</span>100.0<span class=\"nt\">&lt;/mu2&gt;</span>\n        <span class=\"nt\">&lt;maxVel&gt;</span>1.0<span class=\"nt\">&lt;/maxVel&gt;</span>\n        <span class=\"nt\">&lt;minDepth&gt;</span>0.003<span class=\"nt\">&lt;/minDepth&gt;</span>\n    <span class=\"nt\">&lt;/gazebo&gt;</span>\n</pre></div>\n\n\n<p>model.sdf:</p>\n<div class=\"codehilite\"><pre><span></span>    <span class=\"cp\">&lt;?xml version=&quot;1.0&quot; ?&gt;</span>\n    <span class=\"nt\">&lt;sdf</span> <span class=\"na\">version=</span><span class=\"s\">&#39;1.6&#39;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;model</span> <span class=\"na\">name=</span><span class=\"s\">&quot;cuboid&quot;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;static&gt;</span>0<span class=\"nt\">&lt;/static&gt;</span>\n        <span class=\"nt\">&lt;link</span> <span class=\"na\">name=</span><span class=\"s\">&#39;link&#39;</span><span class=\"nt\">&gt;</span>\n          <span class=\"nt\">&lt;inertial&gt;</span>\n            <span class=\"nt\">&lt;mass&gt;</span>0.10<span class=\"nt\">&lt;/mass&gt;</span>\n            <span class=\"nt\">&lt;inertia&gt;</span>\n              <span class=\"nt\">&lt;ixx&gt;</span>0.0002988<span class=\"nt\">&lt;/ixx&gt;</span>\n              <span class=\"nt\">&lt;ixy&gt;</span>0.000000<span class=\"nt\">&lt;/ixy&gt;</span>\n              <span class=\"nt\">&lt;ixz&gt;</span>0.000000<span class=\"nt\">&lt;/ixz&gt;</span>\n              <span class=\"nt\">&lt;iyy&gt;</span>0.0002988<span class=\"nt\">&lt;/iyy&gt;</span>\n              <span class=\"nt\">&lt;iyz&gt;</span>0.000000<span class=\"nt\">&lt;/iyz&gt;</span>\n              <span class=\"nt\">&lt;izz&gt;</span>0.00005976<span class=\"nt\">&lt;/izz&gt;</span>\n            <span class=\"nt\">&lt;/inertia&gt;</span>\n          <span class=\"nt\">&lt;/inertial&gt;</span>\n          <span class=\"nt\">&lt;collision</span> <span class=\"na\">name=</span><span class=\"s\">&#39;collision&#39;</span><span class=\"nt\">&gt;</span>\n            <span class=\"nt\">&lt;geometry&gt;</span>\n              <span class=\"nt\">&lt;box&gt;</span>\n                <span class=\"nt\">&lt;size&gt;</span>0.060 0.060 0.180<span class=\"nt\">&lt;/size&gt;</span>\n              <span class=\"nt\">&lt;/box&gt;</span>\n            <span class=\"nt\">&lt;/geometry&gt;</span>\n            <span class=\"nt\">&lt;surface&gt;</span>\n              <span class=\"nt\">&lt;friction&gt;</span>\n                <span class=\"nt\">&lt;ode&gt;</span>\n                  <span class=\"nt\">&lt;mu&gt;</span>100<span class=\"nt\">&lt;/mu&gt;</span>\n                  <span class=\"nt\">&lt;mu2&gt;</span>100<span class=\"nt\">&lt;/mu2&gt;</span>\n                <span class=\"nt\">&lt;/ode&gt;</span>\n              <span class=\"nt\">&lt;/friction&gt;</span>\n              <span class=\"nt\">&lt;contact&gt;</span>\n                <span class=\"nt\">&lt;ode&gt;</span>\n                  <span class=\"nt\">&lt;kp&gt;</span>1000000.0<span class=\"nt\">&lt;/kp&gt;</span>\n                  <span class=\"nt\">&lt;kd&gt;</span>100.0<span class=\"nt\">&lt;/kd&gt;</span>\n                  <span class=\"nt\">&lt;max_vel&gt;</span>1.0<span class=\"nt\">&lt;/max_vel&gt;</span>\n                  <span class=\"nt\">&lt;min_depth&gt;</span>0.002<span class=\"nt\">&lt;/min_depth&gt;</span>\n                <span class=\"nt\">&lt;/ode&gt;</span>\n              <span class=\"nt\">&lt;/contact&gt;</span>\n            <span class=\"nt\">&lt;/surface&gt;</span>\n          <span class=\"nt\">&lt;/collision&gt;</span>\n          <span class=\"nt\">&lt;visual</span> <span class=\"na\">name=</span><span class=\"s\">&#39;visual&#39;</span><span class=\"nt\">&gt;</span>\n            <span class=\"nt\">&lt;geometry&gt;</span>\n              <span class=\"nt\">&lt;box&gt;</span>\n                <span class=\"nt\">&lt;size&gt;</span>0.060 0.060 0.180<span class=\"nt\">&lt;/size&gt;</span>\n              <span class=\"nt\">&lt;/box&gt;</span>\n            <span class=\"nt\">&lt;/geometry&gt;</span>\n            <span class=\"nt\">&lt;material&gt;</span>\n              <span class=\"nt\">&lt;script&gt;</span>\n                <span class=\"nt\">&lt;uri&gt;</span>file://media/materials/scripts/gazebo.material<span class=\"nt\">&lt;/uri&gt;</span>\n                <span class=\"nt\">&lt;name&gt;</span>Gazebo/Red<span class=\"nt\">&lt;/name&gt;</span>\n              <span class=\"nt\">&lt;/script&gt;</span>\n            <span class=\"nt\">&lt;/material&gt;</span>\n          <span class=\"nt\">&lt;/visual&gt;</span>\n          <span class=\"nt\">&lt;velocity_decay&gt;</span>\n            <span class=\"nt\">&lt;linear&gt;</span>0.000000<span class=\"nt\">&lt;/linear&gt;</span>\n            <span class=\"nt\">&lt;angular&gt;</span>0.000000<span class=\"nt\">&lt;/angular&gt;</span>\n          <span class=\"nt\">&lt;/velocity_decay&gt;</span>\n          <span class=\"nt\">&lt;self_collide&gt;</span>0<span class=\"nt\">&lt;/self_collide&gt;</span>\n          <span class=\"nt\">&lt;kinematic&gt;</span>0<span class=\"nt\">&lt;/kinematic&gt;</span>\n          <span class=\"nt\">&lt;gravity&gt;</span>1<span class=\"nt\">&lt;/gravity&gt;</span>\n        <span class=\"nt\">&lt;/link&gt;</span>\n      <span class=\"nt\">&lt;/model&gt;</span>\n    <span class=\"nt\">&lt;/sdf&gt;</span>\n</pre></div>\n\n\n<p>and controller settings - control.yaml:</p>\n<div class=\"codehilite\"><pre><span></span>    panda_hand_controller:\n        type: position_controllers/JointTrajectoryController\n        joints:\n            - panda_finger_joint1\n            - panda_finger_joint2\n        constraints:\n            goal_time: 0.6\n            stopped_velocity_tolerance: 0\n            panda_finger_joint1: {trajectory: 0.1, goal: 0.1}\n            panda_finger_joint2: {trajectory: 0.1, goal: 0.1}\n\n\n        stop_trajectory_duration: 1.0\n\n        state_publish_rate: 100\n    joint_position_controller:\n        type: panda_simulation/JointPositionController\n        arm_id: panda\n        joint_names:\n            - panda_joint1\n            - panda_joint2\n            - panda_joint3\n            - panda_joint4\n            - panda_joint5\n            - panda_joint6\n            - panda_joint7\n        gains: [1, 1, 1, 1, 1, 1, 1]\n</pre></div>\n\n\n<p>i know of a JenniferBuehler/gazebo-pkgs grasping pluggin witch i implemented solving this issiue - but i dont like this approach and i want to do it in less cheaty way.</p>\n<p>The physics engine we are using is ODE, and i didnt try to change it yet. Can it be a source of our problem?</p>", "type": "rendered"}, "assignee": null, "state": "invalid", "version": {"name": "9.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242746.json"}}}, "edited_on": null, "created_on": "2020-03-25T15:03:49.874728+00:00", "milestone": null, "updated_on": "2020-03-25T16:47:17.233945+00:00", "type": "issue", "id": 2703}