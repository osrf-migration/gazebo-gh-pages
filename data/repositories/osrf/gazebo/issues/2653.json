{"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2653/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2653.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2653/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2653/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2653/tag-is-not-enforced-when-there-are-more"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2653/vote"}}, "reporter": {"display_name": "Nick Lamprianidis", "uuid": "{09ec6025-6f2c-4dd3-ac06-ac7d581aa96f}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B09ec6025-6f2c-4dd3-ac06-ac7d581aa96f%7D"}, "html": {"href": "https://bitbucket.org/%7B09ec6025-6f2c-4dd3-ac06-ac7d581aa96f%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/initials/NL-0.png"}}, "nickname": "lamprianidis", "type": "user", "account_id": "5ba25082ca71702f6d0a5c8f"}, "title": "<static> tag is not enforced when there are more than <gazebo> tags in a robot description", "component": null, "votes": 0, "watches": 1, "content": {"raw": "When you have a static model, if there are more than one <gazebo> tags in the description, the `<static>true</static>` snippet has to appear in all of them for the property to be enforced. Otherwise, the model is rendered as non-static, while the following warning is thrown:\r\n\r\n```\r\nWarning [parser_urdf.cc:1119] multiple inconsistent <static> exists due to fixed joint reduction overwriting previous value [true] with [false].\r\n```\r\n\r\nI\u2019m using gazebo 9.10 and here is a minimal example to reproduce this:\r\n\r\n```\r\n<robot name=\"robot\" xmlns:xacro=\"http://ros.org/wiki/xacro\">\r\n  <link name=\"base_footprint\" />\r\n  <joint name=\"base_footprint_to_base_link\" type=\"fixed\">\r\n    <origin xyz=\"0 0 0.5\" rpy=\"0 0 0\" />\r\n    <parent link=\"base_footprint\" />\r\n    <child link=\"base_link\" />\r\n  </joint>\r\n  <link name=\"base_link\">    \r\n    <inertial>\r\n      <origin xyz=\"0 0 0\" rpy=\"0 0 0\" />\r\n      <mass value=\"0.001\" />\r\n      <inertia ixx=\"0.001\" ixy=\"0.0\" ixz=\"0.0\" iyy=\"0.001\" iyz=\"0.0\" izz=\"0.001\" />\r\n    </inertial>\r\n    <visual>\r\n      <origin xyz=\"0 0 0\" rpy=\"0 0 0\" />\r\n      <geometry>\r\n        <box size=\"1 1 1\" />\r\n      </geometry>\r\n    </visual>\r\n    <collision>\r\n      <origin xyz=\"0 0 0\" rpy=\"0 0 0\" />\r\n      <geometry>\r\n        <box size=\"1 1 1\" />\r\n      </geometry>\r\n    </collision>\r\n  </link>\r\n\r\n  <gazebo>\r\n    <static>true</static>\r\n  </gazebo>\r\n\r\n  <gazebo>\r\n    <plugin name=\"gazebo_ros_control\" filename=\"libgazebo_ros_control.so\">\r\n      <robotSimType>gazebo_ros_control/DefaultRobotHWSim</robotSimType>\r\n      <legacyModeNS>false</legacyModeNS>\r\n    </plugin>\r\n  </gazebo>\r\n</robot>\r\n```", "markup": "markdown", "html": "<p>When you have a static model, if there are more than one &lt;gazebo&gt; tags in the description, the <code>&lt;static&gt;true&lt;/static&gt;</code> snippet has to appear in all of them for the property to be enforced. Otherwise, the model is rendered as non-static, while the following warning is thrown:</p>\n<div class=\"codehilite\"><pre><span></span>Warning [parser_urdf.cc:1119] multiple inconsistent &lt;static&gt; exists due to fixed joint reduction overwriting previous value [true] with [false].\n</pre></div>\n\n\n<p>I\u2019m using gazebo 9.10 and here is a minimal example to reproduce this:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;robot</span> <span class=\"na\">name=</span><span class=\"s\">&quot;robot&quot;</span> <span class=\"na\">xmlns:xacro=</span><span class=\"s\">&quot;http://ros.org/wiki/xacro&quot;</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;link</span> <span class=\"na\">name=</span><span class=\"s\">&quot;base_footprint&quot;</span> <span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;joint</span> <span class=\"na\">name=</span><span class=\"s\">&quot;base_footprint_to_base_link&quot;</span> <span class=\"na\">type=</span><span class=\"s\">&quot;fixed&quot;</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;origin</span> <span class=\"na\">xyz=</span><span class=\"s\">&quot;0 0 0.5&quot;</span> <span class=\"na\">rpy=</span><span class=\"s\">&quot;0 0 0&quot;</span> <span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;parent</span> <span class=\"na\">link=</span><span class=\"s\">&quot;base_footprint&quot;</span> <span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;child</span> <span class=\"na\">link=</span><span class=\"s\">&quot;base_link&quot;</span> <span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;/joint&gt;</span>\n  <span class=\"nt\">&lt;link</span> <span class=\"na\">name=</span><span class=\"s\">&quot;base_link&quot;</span><span class=\"nt\">&gt;</span>    \n    <span class=\"nt\">&lt;inertial&gt;</span>\n      <span class=\"nt\">&lt;origin</span> <span class=\"na\">xyz=</span><span class=\"s\">&quot;0 0 0&quot;</span> <span class=\"na\">rpy=</span><span class=\"s\">&quot;0 0 0&quot;</span> <span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;mass</span> <span class=\"na\">value=</span><span class=\"s\">&quot;0.001&quot;</span> <span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;inertia</span> <span class=\"na\">ixx=</span><span class=\"s\">&quot;0.001&quot;</span> <span class=\"na\">ixy=</span><span class=\"s\">&quot;0.0&quot;</span> <span class=\"na\">ixz=</span><span class=\"s\">&quot;0.0&quot;</span> <span class=\"na\">iyy=</span><span class=\"s\">&quot;0.001&quot;</span> <span class=\"na\">iyz=</span><span class=\"s\">&quot;0.0&quot;</span> <span class=\"na\">izz=</span><span class=\"s\">&quot;0.001&quot;</span> <span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;/inertial&gt;</span>\n    <span class=\"nt\">&lt;visual&gt;</span>\n      <span class=\"nt\">&lt;origin</span> <span class=\"na\">xyz=</span><span class=\"s\">&quot;0 0 0&quot;</span> <span class=\"na\">rpy=</span><span class=\"s\">&quot;0 0 0&quot;</span> <span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;geometry&gt;</span>\n        <span class=\"nt\">&lt;box</span> <span class=\"na\">size=</span><span class=\"s\">&quot;1 1 1&quot;</span> <span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;/geometry&gt;</span>\n    <span class=\"nt\">&lt;/visual&gt;</span>\n    <span class=\"nt\">&lt;collision&gt;</span>\n      <span class=\"nt\">&lt;origin</span> <span class=\"na\">xyz=</span><span class=\"s\">&quot;0 0 0&quot;</span> <span class=\"na\">rpy=</span><span class=\"s\">&quot;0 0 0&quot;</span> <span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;geometry&gt;</span>\n        <span class=\"nt\">&lt;box</span> <span class=\"na\">size=</span><span class=\"s\">&quot;1 1 1&quot;</span> <span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;/geometry&gt;</span>\n    <span class=\"nt\">&lt;/collision&gt;</span>\n  <span class=\"nt\">&lt;/link&gt;</span>\n\n  <span class=\"nt\">&lt;gazebo&gt;</span>\n    <span class=\"nt\">&lt;static&gt;</span>true<span class=\"nt\">&lt;/static&gt;</span>\n  <span class=\"nt\">&lt;/gazebo&gt;</span>\n\n  <span class=\"nt\">&lt;gazebo&gt;</span>\n    <span class=\"nt\">&lt;plugin</span> <span class=\"na\">name=</span><span class=\"s\">&quot;gazebo_ros_control&quot;</span> <span class=\"na\">filename=</span><span class=\"s\">&quot;libgazebo_ros_control.so&quot;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;robotSimType&gt;</span>gazebo_ros_control/DefaultRobotHWSim<span class=\"nt\">&lt;/robotSimType&gt;</span>\n      <span class=\"nt\">&lt;legacyModeNS&gt;</span>false<span class=\"nt\">&lt;/legacyModeNS&gt;</span>\n    <span class=\"nt\">&lt;/plugin&gt;</span>\n  <span class=\"nt\">&lt;/gazebo&gt;</span>\n<span class=\"nt\">&lt;/robot&gt;</span>\n</pre></div>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "9.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242746.json"}}}, "edited_on": null, "created_on": "2019-08-26T12:57:16.591693+00:00", "milestone": null, "updated_on": "2019-08-26T12:57:16.591693+00:00", "type": "issue", "id": 2653}