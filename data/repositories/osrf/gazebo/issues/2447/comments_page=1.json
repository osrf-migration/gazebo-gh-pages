{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2447/comments/44410740.json"}, "html": {"href": "#!/osrf/gazebo/issues/2447#comment-44410740"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2447.json"}}, "type": "issue", "id": 2447, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Distorted Actor animation by BVH file"}, "content": {"raw": "We have no working examples of BVH files. The last time I tried loading one I had a similar result to yours, I also tried baking the BVH into a DAE in Blender like you did, and also got bad results. As a reference, [here](#!/osrf/gazebo_models/branches/compare/skeleton_animation%0Ddefault#commits)'s the model I was working on.\n\nI investigated a bit and it's not clear to me if it's an issue with our loader or if it's a matter of choosing the correct options when exporting in Blender.", "markup": "markdown", "html": "<p>We have no working examples of BVH files. The last time I tried loading one I had a similar result to yours, I also tried baking the BVH into a DAE in Blender like you did, and also got bad results. As a reference, <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo_models/branches/compare/skeleton_animation%0Ddefault#commits\" rel=\"nofollow\">here</a>'s the model I was working on.</p>\n<p>I investigated a bit and it's not clear to me if it's an issue with our loader or if it's a matter of choosing the correct options when exporting in Blender.</p>", "type": "rendered"}, "created_on": "2018-04-02T12:18:01.317464+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": null, "type": "issue_comment", "id": 44410740}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2447/comments/44420306.json"}, "html": {"href": "#!/osrf/gazebo/issues/2447#comment-44420306"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2447.json"}}, "type": "issue", "id": 2447, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Distorted Actor animation by BVH file"}, "content": {"raw": "Thanks for your quick reply. I have investigated a little bit for this (Spent several days and got frustrated without solutions). \n\nBasically, I found that the dae files provided in the gazebo examples (run.dae, walk.dae etc.) use a special skeleton definition different from CMU MoCap skeleton. In the examples, the bones are actually not connected, as shown in this pic. And all the bones are facing towards.\n\n![pose1.png](data/bitbucket.org/repo/jgXqbo/images/1650666650-pose1.png)\n\nBut in the standard skeleton or in BVH files, those bones are defined to be connected to each other (shown here), which means that move one bone will also cause other associated bones to move. However in the example files, move one bone will only cause this bone to move. I guess maybe this is the cause of the distortion,  maybe from the loader. \n\n![pose2.png](data/bitbucket.org/repo/jgXqbo/images/304955533-pose2.png)", "markup": "markdown", "html": "<p>Thanks for your quick reply. I have investigated a little bit for this (Spent several days and got frustrated without solutions). </p>\n<p>Basically, I found that the dae files provided in the gazebo examples (run.dae, walk.dae etc.) use a special skeleton definition different from CMU MoCap skeleton. In the examples, the bones are actually not connected, as shown in this pic. And all the bones are facing towards.</p>\n<p><img alt=\"pose1.png\" src=\"data/bitbucket.org/repo/jgXqbo/images/1650666650-pose1.png\" /></p>\n<p>But in the standard skeleton or in BVH files, those bones are defined to be connected to each other (shown here), which means that move one bone will also cause other associated bones to move. However in the example files, move one bone will only cause this bone to move. I guess maybe this is the cause of the distortion,  maybe from the loader. </p>\n<p><img alt=\"pose2.png\" src=\"data/bitbucket.org/repo/jgXqbo/images/304955533-pose2.png\" /></p>", "type": "rendered"}, "created_on": "2018-04-02T15:06:30.476463+00:00", "user": {"display_name": "mingfei sun", "uuid": "{1e5a944b-56e4-4808-b81d-d6de318feadc}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B1e5a944b-56e4-4808-b81d-d6de318feadc%7D"}, "html": {"href": "https://bitbucket.org/%7B1e5a944b-56e4-4808-b81d-d6de318feadc%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/a4be22d43d004c04e5f8fee72a65d214d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMS-1.png"}}, "nickname": "mingfeisun", "type": "user", "account_id": "557058:ad32c2b0-bebb-403e-b385-c3c1f7aa1d09"}, "updated_on": null, "type": "issue_comment", "id": 44420306}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2447/comments/44579709.json"}, "html": {"href": "#!/osrf/gazebo/issues/2447#comment-44579709"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2447.json"}}, "type": "issue", "id": 2447, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Distorted Actor animation by BVH file"}, "content": {"raw": "@chapulina Could you tell me how the example dae files (walk.dae, run.dae, etc) were made ?? Thank you very much for your efforts and time. I really want to create an animated actor in Gazebo.", "markup": "markdown", "html": "<p>@chapulina Could you tell me how the example dae files (walk.dae, run.dae, etc) were made ?? Thank you very much for your efforts and time. I really want to create an animated actor in Gazebo.</p>", "type": "rendered"}, "created_on": "2018-04-09T12:15:28.255766+00:00", "user": {"display_name": "mingfei sun", "uuid": "{1e5a944b-56e4-4808-b81d-d6de318feadc}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B1e5a944b-56e4-4808-b81d-d6de318feadc%7D"}, "html": {"href": "https://bitbucket.org/%7B1e5a944b-56e4-4808-b81d-d6de318feadc%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/a4be22d43d004c04e5f8fee72a65d214d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMS-1.png"}}, "nickname": "mingfeisun", "type": "user", "account_id": "557058:ad32c2b0-bebb-403e-b385-c3c1f7aa1d09"}, "updated_on": null, "type": "issue_comment", "id": 44579709}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2447/comments/44611051.json"}, "html": {"href": "#!/osrf/gazebo/issues/2447#comment-44611051"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2447.json"}}, "type": "issue", "id": 2447, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Distorted Actor animation by BVH file"}, "content": {"raw": "Sorry, but I don't know... I'd also love to find out. The earliest use of actors I know of is in [this video](https://www.youtube.com/watch?v=N7WEjAeztrc).", "markup": "markdown", "html": "<p>Sorry, but I don't know... I'd also love to find out. The earliest use of actors I know of is in <a data-is-external-link=\"true\" href=\"https://www.youtube.com/watch?v=N7WEjAeztrc\" rel=\"nofollow\">this video</a>.</p>", "type": "rendered"}, "created_on": "2018-04-10T18:25:46.933498+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": null, "type": "issue_comment", "id": 44611051}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2447/comments/45240902.json"}, "html": {"href": "#!/osrf/gazebo/issues/2447#comment-45240902"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2447.json"}}, "type": "issue", "id": 2447, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Distorted Actor animation by BVH file"}, "content": {"raw": "Hi Louise, I solved this problem. I got inspired from sasabot's code [here](https://github.com/sasabot/hrisys/blob/master/hrisys_gazebo_tutorials/src/bvhactor.cc). \n\nThe point is before retargetting the BVH transformation to the dae file, it is required to do some pre-processing to the BVH transformation. Basically, it is needed to align the bone length, the initial posture, and the initial rotations. Accordingly, I made some changes to the Actor.cc and Actor.hh files. You can find my code here: [Actor.cc](https://github.com/mingfeisun/gazebo/blob/master/gazebo/physics/Actor.cc) and [Actor.hh](https://github.com/mingfeisun/gazebo/blob/master/gazebo/physics/Actor.hh). I tested these codes on CMU MoCap bvh files and it works ok, as follows:\n\n![actor.png](data/bitbucket.org/repo/jgXqbo/images/3691279157-actor.png)\n\nThanks again for your previous help. Also, the biggest credit should be given to [sasabot](https://github.com/sasabot/hrisys)", "markup": "markdown", "html": "<p>Hi Louise, I solved this problem. I got inspired from sasabot's code <a data-is-external-link=\"true\" href=\"https://github.com/sasabot/hrisys/blob/master/hrisys_gazebo_tutorials/src/bvhactor.cc\" rel=\"nofollow\">here</a>. </p>\n<p>The point is before retargetting the BVH transformation to the dae file, it is required to do some pre-processing to the BVH transformation. Basically, it is needed to align the bone length, the initial posture, and the initial rotations. Accordingly, I made some changes to the Actor.cc and Actor.hh files. You can find my code here: <a data-is-external-link=\"true\" href=\"https://github.com/mingfeisun/gazebo/blob/master/gazebo/physics/Actor.cc\" rel=\"nofollow\">Actor.cc</a> and <a data-is-external-link=\"true\" href=\"https://github.com/mingfeisun/gazebo/blob/master/gazebo/physics/Actor.hh\" rel=\"nofollow\">Actor.hh</a>. I tested these codes on CMU MoCap bvh files and it works ok, as follows:</p>\n<p><img alt=\"actor.png\" src=\"data/bitbucket.org/repo/jgXqbo/images/3691279157-actor.png\" /></p>\n<p>Thanks again for your previous help. Also, the biggest credit should be given to <a data-is-external-link=\"true\" href=\"https://github.com/sasabot/hrisys\" rel=\"nofollow\">sasabot</a></p>", "type": "rendered"}, "created_on": "2018-05-06T12:44:10.429454+00:00", "user": {"display_name": "mingfei sun", "uuid": "{1e5a944b-56e4-4808-b81d-d6de318feadc}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B1e5a944b-56e4-4808-b81d-d6de318feadc%7D"}, "html": {"href": "https://bitbucket.org/%7B1e5a944b-56e4-4808-b81d-d6de318feadc%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/a4be22d43d004c04e5f8fee72a65d214d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMS-1.png"}}, "nickname": "mingfeisun", "type": "user", "account_id": "557058:ad32c2b0-bebb-403e-b385-c3c1f7aa1d09"}, "updated_on": null, "type": "issue_comment", "id": 45240902}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2447/comments/45269632.json"}, "html": {"href": "#!/osrf/gazebo/issues/2447#comment-45269632"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2447.json"}}, "type": "issue", "id": 2447, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Distorted Actor animation by BVH file"}, "content": {"raw": "This is awesome, @mingfeisun ! It would be great if you could make a pull request to Gazebo with your fixes!", "markup": "markdown", "html": "<p>This is awesome, @mingfeisun ! It would be great if you could make a pull request to Gazebo with your fixes!</p>", "type": "rendered"}, "created_on": "2018-05-07T15:19:18.770759+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": null, "type": "issue_comment", "id": 45269632}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2447/comments/45334196.json"}, "html": {"href": "#!/osrf/gazebo/issues/2447#comment-45334196"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2447.json"}}, "type": "issue", "id": 2447, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Distorted Actor animation by BVH file"}, "content": {"raw": "No problem. It's my pleasure. I will make a pull request. @chapulina", "markup": "markdown", "html": "<p>No problem. It's my pleasure. I will make a pull request. @chapulina</p>", "type": "rendered"}, "created_on": "2018-05-09T13:02:33.806816+00:00", "user": {"display_name": "mingfei sun", "uuid": "{1e5a944b-56e4-4808-b81d-d6de318feadc}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B1e5a944b-56e4-4808-b81d-d6de318feadc%7D"}, "html": {"href": "https://bitbucket.org/%7B1e5a944b-56e4-4808-b81d-d6de318feadc%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/a4be22d43d004c04e5f8fee72a65d214d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMS-1.png"}}, "nickname": "mingfeisun", "type": "user", "account_id": "557058:ad32c2b0-bebb-403e-b385-c3c1f7aa1d09"}, "updated_on": null, "type": "issue_comment", "id": 45334196}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2447/comments/46381785.json"}, "html": {"href": "#!/osrf/gazebo/issues/2447#comment-46381785"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2447.json"}}, "type": "issue", "id": 2447, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Distorted Actor animation by BVH file"}, "content": {"raw": "Pull request #2957", "markup": "markdown", "html": "<p><a href=\"#!/osrf/gazebo/pull-requests/2957/modified-actor-to-overcome-the-distortion\" rel=\"nofollow\" class=\"ap-connect-link\">Pull request #2957</a></p>", "type": "rendered"}, "created_on": "2018-06-22T16:29:16.847945+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": null, "type": "issue_comment", "id": 46381785}], "page": 1, "size": 8}