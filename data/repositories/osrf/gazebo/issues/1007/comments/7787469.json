{"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1007/comments/7787469.json"}, "html": {"href": "#!/osrf/gazebo/issues/1007#comment-7787469"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1007.json"}}, "type": "issue", "id": 1007, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Gazebo-2.1.0 fails to compile on ARM"}, "content": {"raw": "OK the last build I submitted worked, with the addition of the following patch (which depends on functionality that started in CMake 2.8.9)\n\n\n```\n#!patch\n\ndiff -up ./gazebo/gui/qtpropertybrowser/CMakeLists.txt.fpic ./gazebo/gui/qtpropertybrowser/CMakeLists.txt\n--- ./gazebo/gui/qtpropertybrowser/CMakeLists.txt.fpic  2014-01-16 21:57:13.505666340 -0500\n+++ ./gazebo/gui/qtpropertybrowser/CMakeLists.txt       2014-01-16 21:57:41.710749459 -0500\n@@ -26,7 +26,7 @@ QT4_WRAP_CPP(headers_MOC ${qt_headers})\n QT4_ADD_RESOURCES(resources_RCC ${resources})\n\n add_library(gzqtpropertybrowser STATIC ${sources} ${headers_MOC} ${resources_RCC})\n-\n+set_target_properties(gzqtpropertybrowser PROPERTIES POSITION_INDEPENDENT_CODE ON)\n #set(CMAKE_PACKAGE_QTGUI TRUE)\n #\n #add_definitions( ${QT_DEFINITIONS} )\ndiff -up ./gazebo/gui/terrain/CMakeLists.txt.fpic ./gazebo/gui/terrain/CMakeLists.txt\n--- ./gazebo/gui/terrain/CMakeLists.txt.fpic    2014-01-16 21:56:31.476055388 -0500\n+++ ./gazebo/gui/terrain/CMakeLists.txt 2014-01-16 21:57:01.964224219 -0500\n@@ -21,5 +21,6 @@ QT4_ADD_RESOURCES(resources_RCC ${resour\n add_library(gazebo_gui_terrain STATIC ${sources} ${headers_MOC}\n   ${headers} ${resources_RCC})\n\n+set_target_properties(gazebo_gui_terrain PROPERTIES POSITION_INDEPENDENT_CODE ON)\n add_dependencies(gazebo_gui_terrain gazebo_msgs)\n include_directories(${CMAKE_CURRENT_BINARY_DIR})\n\n```\n\nA lot of the unit tests failed or timed out, I'll have to figure out a way to recover the test logs from the ARM builders.", "markup": "markdown", "html": "<p>OK the last build I submitted worked, with the addition of the following patch (which depends on functionality that started in CMake 2.8.9)</p>\n<div class=\"codehilite language-patch\"><pre><span></span><span class=\"gh\">diff -up ./gazebo/gui/qtpropertybrowser/CMakeLists.txt.fpic ./gazebo/gui/qtpropertybrowser/CMakeLists.txt</span>\n<span class=\"gd\">--- ./gazebo/gui/qtpropertybrowser/CMakeLists.txt.fpic  2014-01-16 21:57:13.505666340 -0500</span>\n<span class=\"gi\">+++ ./gazebo/gui/qtpropertybrowser/CMakeLists.txt       2014-01-16 21:57:41.710749459 -0500</span>\n<span class=\"gu\">@@ -26,7 +26,7 @@ QT4_WRAP_CPP(headers_MOC ${qt_headers})</span>\n QT4_ADD_RESOURCES(resources_RCC ${resources})\n\n add_library(gzqtpropertybrowser STATIC ${sources} ${headers_MOC} ${resources_RCC})\n<span class=\"gd\">-</span>\n<span class=\"gi\">+set_target_properties(gzqtpropertybrowser PROPERTIES POSITION_INDEPENDENT_CODE ON)</span>\n #set(CMAKE_PACKAGE_QTGUI TRUE)\n #\n #add_definitions( ${QT_DEFINITIONS} )\n<span class=\"gh\">diff -up ./gazebo/gui/terrain/CMakeLists.txt.fpic ./gazebo/gui/terrain/CMakeLists.txt</span>\n<span class=\"gd\">--- ./gazebo/gui/terrain/CMakeLists.txt.fpic    2014-01-16 21:56:31.476055388 -0500</span>\n<span class=\"gi\">+++ ./gazebo/gui/terrain/CMakeLists.txt 2014-01-16 21:57:01.964224219 -0500</span>\n<span class=\"gu\">@@ -21,5 +21,6 @@ QT4_ADD_RESOURCES(resources_RCC ${resour</span>\n add_library(gazebo_gui_terrain STATIC ${sources} ${headers_MOC}\n   ${headers} ${resources_RCC})\n\n<span class=\"gi\">+set_target_properties(gazebo_gui_terrain PROPERTIES POSITION_INDEPENDENT_CODE ON)</span>\n add_dependencies(gazebo_gui_terrain gazebo_msgs)\n include_directories(${CMAKE_CURRENT_BINARY_DIR})\n</pre></div>\n\n\n<p>A lot of the unit tests failed or timed out, I'll have to figure out a way to recover the test logs from the ARM builders.</p>", "type": "rendered"}, "created_on": "2014-01-17T12:50:11.737528+00:00", "user": {"display_name": "Rich Mattes", "uuid": "{1ef6f3dd-b8db-412b-94e9-e430e7aafd23}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B1ef6f3dd-b8db-412b-94e9-e430e7aafd23%7D"}, "html": {"href": "https://bitbucket.org/%7B1ef6f3dd-b8db-412b-94e9-e430e7aafd23%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/d431baafeedf5d8921cb50a3c9902e16d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRM-0.png"}}, "nickname": "richmattes", "type": "user", "account_id": "557058:a38935e3-9a08-40d9-917a-ff19973e58df"}, "updated_on": null, "type": "issue_comment", "id": 7787469}