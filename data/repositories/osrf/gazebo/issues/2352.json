{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2352/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2352.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2352/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2352/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2352/compilation-failed-with-ogre-110-on-arch"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2352/vote"}}, "reporter": {"display_name": "Jerry Lin", "uuid": "{2a34ef15-ff0e-46f7-8991-e234c653cf7b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2a34ef15-ff0e-46f7-8991-e234c653cf7b%7D"}, "html": {"href": "https://bitbucket.org/%7B2a34ef15-ff0e-46f7-8991-e234c653cf7b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/f4765aefcd3e023ea5582b65240e4e64d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJL-4.png"}}, "nickname": "jerry73204", "type": "user", "account_id": "557058:aa76ac90-e917-4cc6-84ac-9e69a89c29b0"}, "title": "Compilation failed with ogre 1.10 on Arch Linux", "component": null, "votes": 0, "watches": 1, "content": {"raw": "I tried to compile gazebo 8.0.0 with ogre 1.10 installed and got this error\r\n```\r\n/tmp/makepkg/gazebo/src/gazebo-8.0.0/gazebo/rendering/skyx/src/MeshManager.cpp: In constructor \u2018SkyX::MeshManager::MeshManager(SkyX::SkyX*)\u2019:\r\n/tmp/makepkg/gazebo/src/gazebo-8.0.0/gazebo/rendering/skyx/src/MeshManager.cpp:46:31: error: no matching function for call to \u2018Ogre::SharedPtr<Ogre::HardwareVertexBuffer>::SharedPtr(int)\u2019\r\n       , mMaterialName(\"_NULL_\")\r\n```\r\n\r\nBy checking with `make VERBOSE=1 -j1`, it shows the error is caused by this cmd.\r\n```\r\n#!sh\r\ncd /tmp/makepkg/gazebo/src/gazebo-8.0.0/build/gazebo/rendering && /usr/bin/c++  -DBUILDING_DLL -DBUILDING_DLL_GZ_RENDERING -DHAVE_OPENGL -DLIBBULLET_VERSION=0.0 -DSKYX_LIB -Dgazebo_rendering_EXPORTS -I/tmp/makepkg/gazebo/src/gazebo-8.0.0/test/gtest/include -I/tmp/makepkg/gazebo/src/gazebo-8.0.0 -I/tmp/makepkg/gazebo/src/gazebo-8.0.0/build -isystem /tmp/makepkg/gazebo/src/gazebo-8.0.0/gazebo/rendering/skyx -isystem /tmp/makepkg/gazebo/src/gazebo-8.0.0/gazebo/rendering/skyx/include -I/usr/include/libusb-1.0 -isystem /usr/include/ignition/msgs0 -isystem /usr/include/ignition/math3 -I/usr/include/ignition/transport3 -I/usr/include/uuid -isystem /usr/include/OGRE/RTShaderSystem -isystem /usr/include/OGRE -isystem /usr/include/OGRE/Terrain -isystem /usr/include/OGRE/Paging -isystem /usr/include/OGRE/Overlay -isystem /usr/include/sdformat-5.2  -march=x86-64 -mtune=generic -O2 -pipe -fstack-protector-strong -std=c++11  -Wall -Wextra -Wno-long-long -Wno-unused-value -Wfloat-equal -Wshadow -Wswitch-default -Wmissing-include-dirs -pedantic -fvisibility=hidden -fvisibility-inlines-hidden -std=c++11  -s -O3 -DNDEBUG -mssse3 -msse3 -mfpmath=sse -msse -msse2  -fPIC   -fPIC -std=c++11 -o CMakeFiles/gazebo_rendering.dir/skyx/src/MeshManager.cpp.o -c /tmp/makepkg/gazebo/src/gazebo-8.0.0/gazebo/rendering/skyx/src/MeshManager.cpp\r\n```\r\n\r\nThere is a patch in gazebo-ogre-1.10 on AUR. (Download tar.gz from \"Download snapshot\" link and ogre-1.10.patch is inside) This patch can resolve this issue.\r\n[https://aur.archlinux.org/packages/gazebo-ogre-1.10/](\r\nhttps://aur.archlinux.org/packages/gazebo-ogre-1.10/)", "markup": "markdown", "html": "<p>I tried to compile gazebo 8.0.0 with ogre 1.10 installed and got this error</p>\n<div class=\"codehilite\"><pre><span></span>/tmp/makepkg/gazebo/src/gazebo-8.0.0/gazebo/rendering/skyx/src/MeshManager.cpp: In constructor \u2018SkyX::MeshManager::MeshManager(SkyX::SkyX*)\u2019:\n/tmp/makepkg/gazebo/src/gazebo-8.0.0/gazebo/rendering/skyx/src/MeshManager.cpp:46:31: error: no matching function for call to \u2018Ogre::SharedPtr&lt;Ogre::HardwareVertexBuffer&gt;::SharedPtr(int)\u2019\n       , mMaterialName(&quot;_NULL_&quot;)\n</pre></div>\n\n\n<p>By checking with <code>make VERBOSE=1 -j1</code>, it shows the error is caused by this cmd.</p>\n<div class=\"codehilite language-sh\"><pre><span></span><span class=\"nb\">cd</span> /tmp/makepkg/gazebo/src/gazebo-8.0.0/build/gazebo/rendering <span class=\"o\">&amp;&amp;</span> /usr/bin/c++  -DBUILDING_DLL -DBUILDING_DLL_GZ_RENDERING -DHAVE_OPENGL -DLIBBULLET_VERSION<span class=\"o\">=</span><span class=\"m\">0</span>.0 -DSKYX_LIB -Dgazebo_rendering_EXPORTS -I/tmp/makepkg/gazebo/src/gazebo-8.0.0/test/gtest/include -I/tmp/makepkg/gazebo/src/gazebo-8.0.0 -I/tmp/makepkg/gazebo/src/gazebo-8.0.0/build -isystem /tmp/makepkg/gazebo/src/gazebo-8.0.0/gazebo/rendering/skyx -isystem /tmp/makepkg/gazebo/src/gazebo-8.0.0/gazebo/rendering/skyx/include -I/usr/include/libusb-1.0 -isystem /usr/include/ignition/msgs0 -isystem /usr/include/ignition/math3 -I/usr/include/ignition/transport3 -I/usr/include/uuid -isystem /usr/include/OGRE/RTShaderSystem -isystem /usr/include/OGRE -isystem /usr/include/OGRE/Terrain -isystem /usr/include/OGRE/Paging -isystem /usr/include/OGRE/Overlay -isystem /usr/include/sdformat-5.2  -march<span class=\"o\">=</span>x86-64 -mtune<span class=\"o\">=</span>generic -O2 -pipe -fstack-protector-strong -std<span class=\"o\">=</span>c++11  -Wall -Wextra -Wno-long-long -Wno-unused-value -Wfloat-equal -Wshadow -Wswitch-default -Wmissing-include-dirs -pedantic -fvisibility<span class=\"o\">=</span>hidden -fvisibility-inlines-hidden -std<span class=\"o\">=</span>c++11  -s -O3 -DNDEBUG -mssse3 -msse3 -mfpmath<span class=\"o\">=</span>sse -msse -msse2  -fPIC   -fPIC -std<span class=\"o\">=</span>c++11 -o CMakeFiles/gazebo_rendering.dir/skyx/src/MeshManager.cpp.o -c /tmp/makepkg/gazebo/src/gazebo-8.0.0/gazebo/rendering/skyx/src/MeshManager.cpp\n</pre></div>\n\n\n<p>There is a patch in gazebo-ogre-1.10 on AUR. (Download tar.gz from \"Download snapshot\" link and ogre-1.10.patch is inside) This patch can resolve this issue.\n<a data-is-external-link=\"true\" href=\"https://aur.archlinux.org/packages/gazebo-ogre-1.10/\" rel=\"nofollow\">https://aur.archlinux.org/packages/gazebo-ogre-1.10/</a></p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2017-09-24T08:32:45.699707+00:00", "milestone": null, "updated_on": "2017-09-25T02:08:05.949205+00:00", "type": "issue", "id": 2352}