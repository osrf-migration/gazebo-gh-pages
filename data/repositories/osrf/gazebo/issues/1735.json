{"priority": "minor", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/1735/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/1735.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/1735/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/1735/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/1735/add-helper-functions-to-handle-scoped"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/1735/vote"}}, "reporter": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "title": "Add helper functions to handle scoped names", "component": {"name": "gui::ModelEditor", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/222472.json"}}}, "votes": 0, "watches": 2, "content": {"raw": "There's a lot of duplicate code in the model editor to handle scoped names. This block [shows up](#!/osrf/gazebo/src/b725f3731da8e18c47328892f6bf8ceace2a964a/gazebo/gui/model/ModelCreator.cc?fileviewer=file-view-default#ModelCreator.cc-796) at least 6 times  in different classes:\r\n\r\n~~~\r\n  std::string leafName = linkName;\r\n  size_t idx = linkName.find_last_of(\"::\");\r\n  if (idx != std::string::npos)\r\n    leafName = linkName.substr(idx+1);\r\n~~~\r\n\r\nIt would be nice to have helper functions to do things like extracting leaf names, putting together scoped names, stripping scopes from a name up to a certain point and things like that.\r\n\r\nI'm mentioning the model editor, but this would probably be helpful for Gazebo in general as well, since the same name scoping is used everywhere. ", "markup": "markdown", "html": "<p>There's a lot of duplicate code in the model editor to handle scoped names. This block <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/b725f3731da8e18c47328892f6bf8ceace2a964a/gazebo/gui/model/ModelCreator.cc?fileviewer=file-view-default#ModelCreator.cc-796\" rel=\"nofollow\">shows up</a> at least 6 times  in different classes:</p>\n<div class=\"codehilite\"><pre><span></span>  <span class=\"nt\">std</span><span class=\"p\">::</span><span class=\"nd\">string</span> <span class=\"nt\">leafName</span> <span class=\"o\">=</span> <span class=\"nt\">linkName</span><span class=\"o\">;</span>\n  <span class=\"nt\">size_t</span> <span class=\"nt\">idx</span> <span class=\"o\">=</span> <span class=\"nt\">linkName</span><span class=\"p\">.</span><span class=\"nc\">find_last_of</span><span class=\"o\">(</span><span class=\"s2\">&quot;::&quot;</span><span class=\"o\">);</span>\n  <span class=\"nt\">if</span> <span class=\"o\">(</span><span class=\"nt\">idx</span> <span class=\"o\">!=</span> <span class=\"nt\">std</span><span class=\"p\">::</span><span class=\"nd\">string</span><span class=\"p\">::</span><span class=\"nd\">npos</span><span class=\"o\">)</span>\n    <span class=\"nt\">leafName</span> <span class=\"o\">=</span> <span class=\"nt\">linkName</span><span class=\"p\">.</span><span class=\"nc\">substr</span><span class=\"o\">(</span><span class=\"nt\">idx</span><span class=\"o\">+</span><span class=\"nt\">1</span><span class=\"o\">);</span>\n</pre></div>\n\n\n<p>It would be nice to have helper functions to do things like extracting leaf names, putting together scoped names, stripping scopes from a name up to a certain point and things like that.</p>\n<p>I'm mentioning the model editor, but this would probably be helpful for Gazebo in general as well, since the same name scoping is used everywhere. </p>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "all", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/225575.json"}}}, "edited_on": null, "created_on": "2015-09-10T19:43:33.533808+00:00", "milestone": null, "updated_on": "2018-07-31T21:56:12.036821+00:00", "type": "issue", "id": 1735}