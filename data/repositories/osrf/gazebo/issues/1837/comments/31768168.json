{"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1837/comments/31768168.json"}, "html": {"href": "#!/osrf/gazebo/issues/1837#comment-31768168"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1837.json"}}, "type": "issue", "id": 1837, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "VMWare rendering: Z Ordering Appears Random"}, "content": {"raw": "Hi everyone,\n\n**TL;DR**: I can confirm that installing Gazebo 7.4.0 solves the issue.\n\n**Details**:\n\nI was running Gazebo 7.0.0 and ROS Kinetic in an Ubuntu 16.04 virtual machine (VirtualBox 5.0.28, on a OS X 10.11.3 host). And Gazebo was crashing when I tried to `echo` any camera-related topic:\n\n```bash\n# Terminal 1\nroslaunch turtlebot_gazebo turtlebot_world.launch # requires the ros-kinetic-turtlebot-gazebo Ubuntu package\n\n# Terminal 2\nrostopic echo /cmd_vel_mux/input/teleop # outputs the motion commands as expected\n---\nlinear: \n  x: 0.5\n  y: 0.0\n  z: 0.0\nangular: \n  x: 0.0\n  y: 0.0\n  z: 0.0\n---\nlinear: \n  x: 0.0\n  y: 0.0\n  z: 0.0\nangular: \n  x: 0.0\n  y: 0.0\n  z: 0.0\n\nrostopic echo /clock   # outputs the simulated clock ticks as expected\n---\nclock: \n  secs: 1009\n  nsecs: 200000000\n---\nclock: \n  secs: 1009\n  nsecs: 210000000\n---\nclock: \n  secs: 1009\n  nsecs: 220000000\n\nrostopic list | grep depth/\n/camera/depth/camera_info\n/camera/depth/image_raw\n/camera/depth/points\n\n# But trying to echo any camera-related topic outputs:\nrostopic echo /camera/rgb/camera_info \nWARNING: no messages received and simulated time is active.\nIs /clock being published?\n\n# and also crashes Gazebo in Terminal 1 with the following error message:\ngzserver: /build/ogre-1.9-mqY1wq/ogre-1.9-1.9.0+dfsg1/OgreMain/src/OgreRenderSystem.cpp:546: virtual void Ogre::RenderSystem::setDepthBufferFor(Ogre::RenderTarget*): Assertion `bAttached && \"A new DepthBuffer for a RenderTarget was created, but after creation\" \"it says it's incompatible with that RT\"' failed.\nAborted (core dumped)\n[gazebo-2] process has died [pid 21993, exit code 134, cmd /opt/ros/kinetic/lib/gazebo_ros/gzserver -e ode /opt/ros/kinetic/share/turtlebot_gazebo/worlds/playground.world __name:=gazebo __log:=/home/gonzalo/.ros/log/ab0fead6-9d94-11e6-9ddc-0800273ffca9/gazebo-2.log].\nlog file: /home/gonzalo/.ros/log/ab0fead6-9d94-11e6-9ddc-0800273ffca9/gazebo-2*.log\n```\n\nI arrived here following from [the same issue as @SRV_kgp][orig] (see [comment above][similar]) and I can confirm that installing **Gazebo 7.4.0** ([using Ubuntu packages][update], no manual compilation needed) solves the issue.\n\nMany thanks to everyone involved!\n\n  [update]: http://gazebosim.org/tutorials?tut=install_ubuntu\n  [similar]: #!/osrf/gazebo/issues/1837/vmware-rendering-z-ordering-appears-random#comment-29498034\n  [orig]: http://answers.gazebosim.org/question/9395/gazebo-crashes-when-inserting-camera-in-virtual-machine-with-ubuntu-vivid-ros-jade/", "markup": "markdown", "html": "<p>Hi everyone,</p>\n<p><strong>TL;DR</strong>: I can confirm that installing Gazebo 7.4.0 solves the issue.</p>\n<p><strong>Details</strong>:</p>\n<p>I was running Gazebo 7.0.0 and ROS Kinetic in an Ubuntu 16.04 virtual machine (VirtualBox 5.0.28, on a OS X 10.11.3 host). And Gazebo was crashing when I tried to <code>echo</code> any camera-related topic:</p>\n<div class=\"codehilite language-bash\"><pre><span></span><span class=\"c1\"># Terminal 1</span>\nroslaunch turtlebot_gazebo turtlebot_world.launch <span class=\"c1\"># requires the ros-kinetic-turtlebot-gazebo Ubuntu package</span>\n\n<span class=\"c1\"># Terminal 2</span>\nrostopic <span class=\"nb\">echo</span> /cmd_vel_mux/input/teleop <span class=\"c1\"># outputs the motion commands as expected</span>\n---\nlinear: \n  x: <span class=\"m\">0</span>.5\n  y: <span class=\"m\">0</span>.0\n  z: <span class=\"m\">0</span>.0\nangular: \n  x: <span class=\"m\">0</span>.0\n  y: <span class=\"m\">0</span>.0\n  z: <span class=\"m\">0</span>.0\n---\nlinear: \n  x: <span class=\"m\">0</span>.0\n  y: <span class=\"m\">0</span>.0\n  z: <span class=\"m\">0</span>.0\nangular: \n  x: <span class=\"m\">0</span>.0\n  y: <span class=\"m\">0</span>.0\n  z: <span class=\"m\">0</span>.0\n\nrostopic <span class=\"nb\">echo</span> /clock   <span class=\"c1\"># outputs the simulated clock ticks as expected</span>\n---\nclock: \n  secs: <span class=\"m\">1009</span>\n  nsecs: <span class=\"m\">200000000</span>\n---\nclock: \n  secs: <span class=\"m\">1009</span>\n  nsecs: <span class=\"m\">210000000</span>\n---\nclock: \n  secs: <span class=\"m\">1009</span>\n  nsecs: <span class=\"m\">220000000</span>\n\nrostopic list <span class=\"p\">|</span> grep depth/\n/camera/depth/camera_info\n/camera/depth/image_raw\n/camera/depth/points\n\n<span class=\"c1\"># But trying to echo any camera-related topic outputs:</span>\nrostopic <span class=\"nb\">echo</span> /camera/rgb/camera_info \nWARNING: no messages received and simulated <span class=\"nb\">time</span> is active.\nIs /clock being published?\n\n<span class=\"c1\"># and also crashes Gazebo in Terminal 1 with the following error message:</span>\ngzserver: /build/ogre-1.9-mqY1wq/ogre-1.9-1.9.0+dfsg1/OgreMain/src/OgreRenderSystem.cpp:546: virtual void Ogre::RenderSystem::setDepthBufferFor<span class=\"o\">(</span>Ogre::RenderTarget*<span class=\"o\">)</span>: Assertion <span class=\"sb\">`</span>bAttached <span class=\"o\">&amp;&amp;</span> <span class=\"s2\">&quot;A new DepthBuffer for a RenderTarget was created, but after creation&quot;</span> <span class=\"s2\">&quot;it says it&#39;s incompatible with that RT&quot;</span><span class=\"err\">&#39;</span> failed.\nAborted <span class=\"o\">(</span>core dumped<span class=\"o\">)</span>\n<span class=\"o\">[</span>gazebo-2<span class=\"o\">]</span> process has died <span class=\"o\">[</span>pid <span class=\"m\">21993</span>, <span class=\"nb\">exit</span> code <span class=\"m\">134</span>, cmd /opt/ros/kinetic/lib/gazebo_ros/gzserver -e ode /opt/ros/kinetic/share/turtlebot_gazebo/worlds/playground.world __name:<span class=\"o\">=</span>gazebo __log:<span class=\"o\">=</span>/home/gonzalo/.ros/log/ab0fead6-9d94-11e6-9ddc-0800273ffca9/gazebo-2.log<span class=\"o\">]</span>.\nlog file: /home/gonzalo/.ros/log/ab0fead6-9d94-11e6-9ddc-0800273ffca9/gazebo-2*.log\n</pre></div>\n\n\n<p>I arrived here following from <a href=\"http://answers.gazebosim.org/question/9395/gazebo-crashes-when-inserting-camera-in-virtual-machine-with-ubuntu-vivid-ros-jade/\">the same issue as @SRV_kgp</a> (see <a href=\"#!/osrf/gazebo/issues/1837/vmware-rendering-z-ordering-appears-random#comment-29498034\">comment above</a>) and I can confirm that installing <strong>Gazebo 7.4.0</strong> (<a href=\"http://gazebosim.org/tutorials?tut=install_ubuntu\">using Ubuntu packages</a>, no manual compilation needed) solves the issue.</p>\n<p>Many thanks to everyone involved!</p>", "type": "rendered"}, "created_on": "2016-10-29T07:07:35.438723+00:00", "user": {"display_name": "Gonzalo Bulnes Guilpain", "uuid": "{960a11ef-6485-4b2c-b347-f056c920c00c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B960a11ef-6485-4b2c-b347-f056c920c00c%7D"}, "html": {"href": "https://bitbucket.org/%7B960a11ef-6485-4b2c-b347-f056c920c00c%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/ced8fe3f15554298901bcb65314799acd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsGG-5.png"}}, "nickname": "gonzalo-bulnes", "type": "user", "account_id": "557058:7e186692-4407-4211-8946-24aa8ea20c7b"}, "updated_on": "2016-10-29T07:11:47.895487+00:00", "type": "issue_comment", "id": 31768168}