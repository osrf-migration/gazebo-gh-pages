{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/1812/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/1812.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/1812/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/1812/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/1812/arrows-of-axisvisual-are-never-removed"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/1812/vote"}}, "reporter": {"display_name": "Elte Hupkes", "uuid": "{f23aa1a9-ae57-493f-8169-fbb59b3eae43}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bf23aa1a9-ae57-493f-8169-fbb59b3eae43%7D"}, "html": {"href": "https://bitbucket.org/%7Bf23aa1a9-ae57-493f-8169-fbb59b3eae43%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/8560ee94d50ba277c411499a45b3d732d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsEH-5.png"}}, "nickname": "ElteHupkes", "type": "user", "account_id": "557058:b758f523-bdaa-4718-964c-03b825bdea8d"}, "title": "Arrows of `AxisVisual` are never removed from scene", "component": {"name": "rendering", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122881.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "When a`Visual` is removed in `Scene::RemoveVisual()`, it calls `Scene::RemoveVisualizations()` in order to delete eventual additional GUI visualizations of the visual. It only removes these visuals if they are of the type `VT_PHYSICS` or `VT_SENSOR` (#!/osrf/gazebo/src/af3ec1827447c026003330cab9922cd50b637651/gazebo/rendering/Scene.cc?at=default&fileviewer=file-view-default#Scene.cc-3189). However for each `Link` a `LinkFrameVisual` is created, which extends `AxisVisual`. The arrow child visuals of this visual are of the type `VT_GUI` and are thus ignored by `Scene::RemoveVisualizations()`.\r\n\r\nPractically this means that whenever a model is removed from the world, the visualizations of its Link axes linger, causing things to slow down over time.\r\n\r\nSuggested fix:\r\nhttps://bitbucket.org/ElteHupkes/gazebo/commits/0762db447ea4ac36fa05c42434f4fdc24c0a2972", "markup": "markdown", "html": "<p>When a<code>Visual</code> is removed in <code>Scene::RemoveVisual()</code>, it calls <code>Scene::RemoveVisualizations()</code> in order to delete eventual additional GUI visualizations of the visual. It only removes these visuals if they are of the type <code>VT_PHYSICS</code> or <code>VT_SENSOR</code> (<a href=\"#!/osrf/gazebo/src/af3ec1827447c026003330cab9922cd50b637651/gazebo/rendering/Scene.cc?at=default&amp;fileviewer=file-view-default#Scene.cc-3189\" rel=\"nofollow\" class=\"ap-connect-link\">#!/osrf/gazebo/src/af3ec1827447c026003330cab9922cd50b637651/gazebo/rendering/Scene.cc?at=default&amp;fileviewer=file-view-default#Scene.cc-3189</a>). However for each <code>Link</code> a <code>LinkFrameVisual</code> is created, which extends <code>AxisVisual</code>. The arrow child visuals of this visual are of the type <code>VT_GUI</code> and are thus ignored by <code>Scene::RemoveVisualizations()</code>.</p>\n<p>Practically this means that whenever a model is removed from the world, the visualizations of its Link axes linger, causing things to slow down over time.</p>\n<p>Suggested fix:\n<a href=\"https://bitbucket.org/ElteHupkes/gazebo/commits/0762db447ea4ac36fa05c42434f4fdc24c0a2972\" rel=\"nofollow\" class=\"ap-connect-link\">https://bitbucket.org/ElteHupkes/gazebo/commits/0762db447ea4ac36fa05c42434f4fdc24c0a2972</a></p>", "type": "rendered"}, "assignee": null, "state": "closed", "version": {"name": "6.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/170782.json"}}}, "edited_on": null, "created_on": "2015-12-23T18:34:47.214033+00:00", "milestone": null, "updated_on": "2016-09-14T19:45:38.628324+00:00", "type": "issue", "id": 1812}