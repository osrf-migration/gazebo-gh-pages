{"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2382/comments/42707849.json"}, "html": {"href": "#!/osrf/gazebo/issues/2382#comment-42707849"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2382.json"}}, "type": "issue", "id": 2382, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Sensors failed to initialize when loading model"}, "content": {"raw": "Reproduced inside docker (v17.12.0-ce) every time.  Issue is compounded when multiple models (with multiple plugins) are being initialized at the same time (start of world in world file as well as multiple spawns via API).\n\nI dug around a bit, and didn't find any rationale for the limit of 5 seconds. All actors can wait on indefinitely for the sensor init to be over. It'll increase the time taken in one step, but timer is anyways paused while the check is going on, so it might be able to possible to do away with the arbitrary(?) value of 5 seconds, except maybe to give a debug message informing that gazebo is processing, have patience.\n\nMoreover, gazebo tries again to init the sensors, and sufficient waiting (150 seconds per model) post the error message results in all models loading successfully. But I'm using a model with about 10 plugins, so YMMV on the numbers.\n\nPS: I can confirm that the issue goes away with a higher iteration limit (about 250 seems to do the trick) in the beginning. Or maybe as a workaround for now, use API to spawn the models sequentially, not in parallel in case there's an issue in changing the hardcoded value", "markup": "markdown", "html": "<p>Reproduced inside docker (v17.12.0-ce) every time.  Issue is compounded when multiple models (with multiple plugins) are being initialized at the same time (start of world in world file as well as multiple spawns via API).</p>\n<p>I dug around a bit, and didn't find any rationale for the limit of 5 seconds. All actors can wait on indefinitely for the sensor init to be over. It'll increase the time taken in one step, but timer is anyways paused while the check is going on, so it might be able to possible to do away with the arbitrary(?) value of 5 seconds, except maybe to give a debug message informing that gazebo is processing, have patience.</p>\n<p>Moreover, gazebo tries again to init the sensors, and sufficient waiting (150 seconds per model) post the error message results in all models loading successfully. But I'm using a model with about 10 plugins, so YMMV on the numbers.</p>\n<p>PS: I can confirm that the issue goes away with a higher iteration limit (about 250 seems to do the trick) in the beginning. Or maybe as a workaround for now, use API to spawn the models sequentially, not in parallel in case there's an issue in changing the hardcoded value</p>", "type": "rendered"}, "created_on": "2018-01-18T08:25:00.883564+00:00", "user": {"display_name": "Kunal Tyagi", "uuid": "{549058f2-c154-4c9c-a8ac-be524224888a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B549058f2-c154-4c9c-a8ac-be524224888a%7D"}, "html": {"href": "https://bitbucket.org/%7B549058f2-c154-4c9c-a8ac-be524224888a%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:9066091b-9d3b-4f74-a7fe-d994c559b147/d36dc15c-fc09-4288-8b57-d6b17b9f6036/128"}}, "nickname": "kunaltyagi", "type": "user", "account_id": "557058:9066091b-9d3b-4f74-a7fe-d994c559b147"}, "updated_on": null, "type": "issue_comment", "id": 42707849}