{"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/544/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/544.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/544/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/544/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/544/problems-removing-sensors-with-new"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/544/vote"}}, "reporter": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "title": "Problems removing sensors with new SensorManager", "component": null, "votes": 0, "watches": 1, "content": {"raw": "If you delete a model containing a ray sensor or IMU (try the hokuyo model for example) and there are no other sensors of that type in the world, then the console spams an error message:\r\n~~~\r\nError [SensorManager.cc:498] Updating a sensor containing without any sensors.\r\nError [SensorManager.cc:498] Updating a sensor containing without any sensors.\r\nError [SensorManager.cc:498] Updating a sensor containing without any sensors.\r\nError [SensorManager.cc:498] Updating a sensor containing without any sensors.\r\n~~~\r\n\r\nInserting and deleting the camera model doesn't lead to this error message.\r\n\r\nUPDATE: I can't reproduce the following crash.\r\n\r\nI managed to cause a gzserver crash by repeatedly inserting and deleting cameras. This happened on my virtual machine, so I'll try to reproduce it on my desktop tomorrow to make sure it's for real. Here's the backtrace (see thread 11):\r\n~~~\r\n(gdb) thread apply all bt\r\n\r\nThread 16 (Thread 0x7fffcd7f9700 (LWP 7429)):\r\n#0  0x00007ffff6ac552d in nanosleep ()\r\n   from /lib/x86_64-linux-gnu/libpthread.so.0\r\n#1  0x00007ffff7bac21d in gazebo::common::Time::Sleep (_time=...)\r\n    at /home/scpeters/osrf/gazebo/gazebo/common/Time.cc:171\r\n#2  0x00007ffff736923f in gazebo::physics::World::Step (this=0xb305d0)\r\n    at /home/scpeters/osrf/gazebo/gazebo/physics/World.cc:449\r\n#3  0x00007ffff736a0a8 in gazebo::physics::World::RunLoop (this=0xb305d0)\r\n    at /home/scpeters/osrf/gazebo/gazebo/physics/World.cc:350\r\n#4  0x00007ffff5f53ce9 in thread_proxy ()\r\n   from /usr/lib/libboost_thread.so.1.46.1\r\n#5  0x00007ffff6abde9a in start_thread ()\r\n   from /lib/x86_64-linux-gnu/libpthread.so.0\r\n#6  0x00007ffff52fd4bd in clone () from /lib/x86_64-linux-gnu/libc.so.6\r\n#7  0x0000000000000000 in ?? ()\r\n\r\nThread 15 (Thread 0x7fffcdffa700 (LWP 7428)):\r\n#0  0x00007ffff6ac1d84 in pthread_cond_wait@@GLIBC_2.3.2 ()\r\n   from /lib/x86_64-linux-gnu/libpthread.so.0\r\n#1  0x00007ffff705a3e3 in boost::condition_variable::wait (this=0x127b150, \r\n    m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:53\r\n#2  0x00007ffff70593e0 in gazebo::sensors::SensorManager::SensorContainer::RunLo---Type <return> to continue, or q <return> to quit---\r\nop (this=0x127b0b0)\r\n    at /home/scpeters/osrf/gazebo/gazebo/sensors/SensorManager.cc:437\r\n#3  0x00007ffff5f53ce9 in thread_proxy ()\r\n   from /usr/lib/libboost_thread.so.1.46.1\r\n#4  0x00007ffff6abde9a in start_thread ()\r\n   from /lib/x86_64-linux-gnu/libpthread.so.0\r\n#5  0x00007ffff52fd4bd in clone () from /lib/x86_64-linux-gnu/libc.so.6\r\n#6  0x0000000000000000 in ?? ()\r\n\r\nThread 14 (Thread 0x7fffce7fb700 (LWP 7427)):\r\n#0  0x00007ffff6ac1d84 in pthread_cond_wait@@GLIBC_2.3.2 ()\r\n   from /lib/x86_64-linux-gnu/libpthread.so.0\r\n#1  0x00007ffff705a3e3 in boost::condition_variable::wait (this=0x1274b00, \r\n    m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:53\r\n#2  0x00007ffff70593e0 in gazebo::sensors::SensorManager::SensorContainer::RunLoop (this=0x1274a60)\r\n    at /home/scpeters/osrf/gazebo/gazebo/sensors/SensorManager.cc:437\r\n#3  0x00007ffff5f53ce9 in thread_proxy ()\r\n   from /usr/lib/libboost_thread.so.1.46.1\r\n#4  0x00007ffff6abde9a in start_thread ()\r\n   from /lib/x86_64-linux-gnu/libpthread.so.0\r\n#5  0x00007ffff52fd4bd in clone () from /lib/x86_64-linux-gnu/libc.so.6\r\n#6  0x0000000000000000 in ?? ()\r\n---Type <return> to continue, or q <return> to quit---\r\n\r\nThread 13 (Thread 0x7fffcebfc700 (LWP 7425)):\r\n#0  0x00007ffff52f96d9 in syscall () from /lib/x86_64-linux-gnu/libc.so.6\r\n#1  0x00007ffff65b1293 in ?? () from /usr/lib/libtbb.so.2\r\n#2  0x00007ffff65b12c9 in ?? () from /usr/lib/libtbb.so.2\r\n#3  0x00007ffff6abde9a in start_thread ()\r\n   from /lib/x86_64-linux-gnu/libpthread.so.0\r\n#4  0x00007ffff52fd4bd in clone () from /lib/x86_64-linux-gnu/libc.so.6\r\n#5  0x0000000000000000 in ?? ()\r\n\r\nThread 12 (Thread 0x7fffceffd700 (LWP 7424)):\r\n#0  0x00007ffff52f96d9 in syscall () from /lib/x86_64-linux-gnu/libc.so.6\r\n#1  0x00007ffff65b1293 in ?? () from /usr/lib/libtbb.so.2\r\n#2  0x00007ffff65b12c9 in ?? () from /usr/lib/libtbb.so.2\r\n#3  0x00007ffff6abde9a in start_thread ()\r\n   from /lib/x86_64-linux-gnu/libpthread.so.0\r\n#4  0x00007ffff52fd4bd in clone () from /lib/x86_64-linux-gnu/libc.so.6\r\n#5  0x0000000000000000 in ?? ()\r\n\r\nThread 11 (Thread 0x7fffcf7fe700 (LWP 7423)):\r\n#0  0x00007ffff5241445 in raise () from /lib/x86_64-linux-gnu/libc.so.6\r\n#1  0x00007ffff5244bab in abort () from /lib/x86_64-linux-gnu/libc.so.6\r\n#2  0x00007ffff523a10e in ?? () from /lib/x86_64-linux-gnu/libc.so.6\r\n---Type <return> to continue, or q <return> to quit---\r\n#3  0x00007ffff523a1b2 in __assert_fail () from /lib/x86_64-linux-gnu/libc.so.6\r\n#4  0x0000000000420880 in boost::pthread::pthread_mutex_scoped_lock::pthread_mutex_scoped_lock (m_=<optimized out>, this=<optimized out>)\r\n    at /usr/include/boost/thread/pthread/pthread_mutex_scoped_lock.hpp:26\r\n#5  0x000000000042c3da in pthread_mutex_scoped_lock (m_=0x7fffa00efdb0, \r\n    this=<synthetic pointer>)\r\n    at /usr/include/boost/thread/pthread/pthread_mutex_scoped_lock.hpp:26\r\n#6  lock (this=0x7fffa00efdb0)\r\n    at /usr/include/boost/thread/pthread/recursive_mutex.hpp:124\r\n#7  boost::unique_lock<boost::recursive_mutex>::lock (this=0x7fffcf7fdcb0)\r\n    at /usr/include/boost/thread/locks.hpp:412\r\n#8  0x00007ffff761d21f in unique_lock (m_=..., this=0x7fffcf7fdcb0)\r\n    at /usr/include/boost/thread/locks.hpp:290\r\n#9  gazebo::transport::Node::ProcessIncoming (this=0x7fffa00efc90)\r\n    at /home/scpeters/osrf/gazebo/gazebo/transport/Node.cc:141\r\n#10 0x00007ffff7627347 in gazebo::transport::TopicManager::ProcessNodes (\r\n    this=0x64afe0, _onlyOut=false)\r\n    at /home/scpeters/osrf/gazebo/gazebo/transport/TopicManager.cc:138\r\n#11 0x00007ffff76132c5 in gazebo::transport::ConnectionManager::RunUpdate (\r\n    this=0x64b120)\r\n    at /home/scpeters/osrf/gazebo/gazebo/transport/ConnectionManager.cc:218\r\n#12 0x00007ffff76134d0 in gazebo::transport::ConnectionManager::Run (\r\n    this=0x64b120)\r\n---Type <return> to continue, or q <return> to quit---\r\n    at /home/scpeters/osrf/gazebo/gazebo/transport/ConnectionManager.cc:247\r\n#13 0x00007ffff5f53ce9 in thread_proxy ()\r\n   from /usr/lib/libboost_thread.so.1.46.1\r\n#14 0x00007ffff6abde9a in start_thread ()\r\n   from /lib/x86_64-linux-gnu/libpthread.so.0\r\n#15 0x00007ffff52fd4bd in clone () from /lib/x86_64-linux-gnu/libc.so.6\r\n#16 0x0000000000000000 in ?? ()\r\n\r\nThread 10 (Thread 0x7fffbffff700 (LWP 7422)):\r\n#0  0x00007ffff6ac1d84 in pthread_cond_wait@@GLIBC_2.3.2 ()\r\n   from /lib/x86_64-linux-gnu/libpthread.so.0\r\n#1  0x00007fffee0a23b3 in void boost::condition_variable_any::wait<boost::unique_lock<boost::recursive_mutex> >(boost::unique_lock<boost::recursive_mutex>&) ()\r\n   from /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.7.4\r\n#2  0x00007fffee0a013f in Ogre::DefaultWorkQueue::waitForNextRequest() ()\r\n   from /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.7.4\r\n#3  0x00007fffee0a147c in Ogre::DefaultWorkQueue::_threadMain() ()\r\n   from /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.7.4\r\n#4  0x00007ffff5f53ce9 in thread_proxy ()\r\n   from /usr/lib/libboost_thread.so.1.46.1\r\n#5  0x00007ffff6abde9a in start_thread ()\r\n   from /lib/x86_64-linux-gnu/libpthread.so.0\r\n#6  0x00007ffff52fd4bd in clone () from /lib/x86_64-linux-gnu/libc.so.6\r\n---Type <return> to continue, or q <return> to quit---\r\n#7  0x0000000000000000 in ?? ()\r\n\r\nThread 9 (Thread 0x7fffcffff700 (LWP 7421)):\r\n#0  0x00007ffff6ac1d84 in pthread_cond_wait@@GLIBC_2.3.2 ()\r\n   from /lib/x86_64-linux-gnu/libpthread.so.0\r\n#1  0x00007fffee0a23b3 in void boost::condition_variable_any::wait<boost::unique_lock<boost::recursive_mutex> >(boost::unique_lock<boost::recursive_mutex>&) ()\r\n   from /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.7.4\r\n#2  0x00007fffee0a013f in Ogre::DefaultWorkQueue::waitForNextRequest() ()\r\n   from /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.7.4\r\n#3  0x00007fffee0a147c in Ogre::DefaultWorkQueue::_threadMain() ()\r\n   from /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.7.4\r\n#4  0x00007ffff5f53ce9 in thread_proxy ()\r\n   from /usr/lib/libboost_thread.so.1.46.1\r\n#5  0x00007ffff6abde9a in start_thread ()\r\n   from /lib/x86_64-linux-gnu/libpthread.so.0\r\n#6  0x00007ffff52fd4bd in clone () from /lib/x86_64-linux-gnu/libc.so.6\r\n#7  0x0000000000000000 in ?? ()\r\n\r\nThread 8 (Thread 0x7fffd4d65700 (LWP 7420)):\r\n#0  0x00007ffff6ac1d84 in pthread_cond_wait@@GLIBC_2.3.2 ()\r\n   from /lib/x86_64-linux-gnu/libpthread.so.0\r\n#1  0x00007fffee0a23b3 in void boost::condition_variable_any::wait<boost::unique---Type <return> to continue, or q <return> to quit---\r\n_lock<boost::recursive_mutex> >(boost::unique_lock<boost::recursive_mutex>&) ()\r\n   from /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.7.4\r\n#2  0x00007fffee0a013f in Ogre::DefaultWorkQueue::waitForNextRequest() ()\r\n   from /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.7.4\r\n#3  0x00007fffee0a147c in Ogre::DefaultWorkQueue::_threadMain() ()\r\n   from /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.7.4\r\n#4  0x00007ffff5f53ce9 in thread_proxy ()\r\n   from /usr/lib/libboost_thread.so.1.46.1\r\n#5  0x00007ffff6abde9a in start_thread ()\r\n   from /lib/x86_64-linux-gnu/libpthread.so.0\r\n#6  0x00007ffff52fd4bd in clone () from /lib/x86_64-linux-gnu/libc.so.6\r\n#7  0x0000000000000000 in ?? ()\r\n\r\nThread 7 (Thread 0x7fffd6ffd700 (LWP 7419)):\r\n#0  0x00007ffff6ac1d84 in pthread_cond_wait@@GLIBC_2.3.2 ()\r\n   from /lib/x86_64-linux-gnu/libpthread.so.0\r\n#1  0x00007fffdea0ba23 in ?? ()\r\n   from /usr/lib/x86_64-linux-gnu/dri/swrast_dri.so\r\n#2  0x00007ffff6abde9a in start_thread ()\r\n   from /lib/x86_64-linux-gnu/libpthread.so.0\r\n#3  0x00007ffff52fd4bd in clone () from /lib/x86_64-linux-gnu/libc.so.6\r\n#4  0x0000000000000000 in ?? ()\r\n\r\n---Type <return> to continue, or q <return> to quit---\r\nThread 6 (Thread 0x7fffd77fe700 (LWP 7418)):\r\n#0  0x00007ffff6ac1d84 in pthread_cond_wait@@GLIBC_2.3.2 ()\r\n   from /lib/x86_64-linux-gnu/libpthread.so.0\r\n#1  0x00007fffdea0ba23 in ?? ()\r\n   from /usr/lib/x86_64-linux-gnu/dri/swrast_dri.so\r\n#2  0x00007ffff6abde9a in start_thread ()\r\n   from /lib/x86_64-linux-gnu/libpthread.so.0\r\n#3  0x00007ffff52fd4bd in clone () from /lib/x86_64-linux-gnu/libc.so.6\r\n#4  0x0000000000000000 in ?? ()\r\n\r\nThread 5 (Thread 0x7fffd7fff700 (LWP 7417)):\r\n#0  0x00007ffff6ac1d84 in pthread_cond_wait@@GLIBC_2.3.2 ()\r\n   from /lib/x86_64-linux-gnu/libpthread.so.0\r\n#1  0x00007fffdea0ba23 in ?? ()\r\n   from /usr/lib/x86_64-linux-gnu/dri/swrast_dri.so\r\n#2  0x00007ffff6abde9a in start_thread ()\r\n   from /lib/x86_64-linux-gnu/libpthread.so.0\r\n#3  0x00007ffff52fd4bd in clone () from /lib/x86_64-linux-gnu/libc.so.6\r\n#4  0x0000000000000000 in ?? ()\r\n\r\nThread 4 (Thread 0x7fffdf7fe700 (LWP 7416)):\r\n#0  0x00007ffff6ac552d in nanosleep ()\r\n   from /lib/x86_64-linux-gnu/libpthread.so.0\r\n---Type <return> to continue, or q <return> to quit---\r\n#1  0x00007ffff7bac21d in gazebo::common::Time::Sleep (_time=...)\r\n    at /home/scpeters/osrf/gazebo/gazebo/common/Time.cc:171\r\n#2  0x00007ffff7bac763 in gazebo::common::Time::MSleep (_ms=<optimized out>)\r\n    at /home/scpeters/osrf/gazebo/gazebo/common/Time.cc:189\r\n#3  0x000000000043443d in gazebo::Master::Run (this=0x8794e0)\r\n    at /home/scpeters/osrf/gazebo/gazebo/Master.cc:320\r\n#4  0x00007ffff5f53ce9 in thread_proxy ()\r\n   from /usr/lib/libboost_thread.so.1.46.1\r\n#5  0x00007ffff6abde9a in start_thread ()\r\n   from /lib/x86_64-linux-gnu/libpthread.so.0\r\n#6  0x00007ffff52fd4bd in clone () from /lib/x86_64-linux-gnu/libc.so.6\r\n#7  0x0000000000000000 in ?? ()\r\n\r\nThread 3 (Thread 0x7fffdffff700 (LWP 7415)):\r\n#0  0x00007ffff52fdb53 in epoll_wait () from /lib/x86_64-linux-gnu/libc.so.6\r\n#1  0x00007ffff761b554 in boost::asio::detail::epoll_reactor::run (\r\n    this=0x86a540, block=<optimized out>, ops=...)\r\n    at /usr/include/boost/asio/detail/impl/epoll_reactor.ipp:240\r\n#2  0x00007ffff761bb76 in do_one (this_idle_thread=<optimized out>, lock=..., \r\n    this=<optimized out>)\r\n    at /usr/include/boost/asio/detail/impl/task_io_service.ipp:264\r\n#3  boost::asio::detail::task_io_service::run (this=0x851fc0, ec=...)\r\n    at /usr/include/boost/asio/detail/impl/task_io_service.ipp:130\r\n---Type <return> to continue, or q <return> to quit---\r\n#4  0x00007ffff761c125 in boost::asio::io_service::run (this=0x849820)\r\n    at /usr/include/boost/asio/impl/io_service.ipp:57\r\n#5  0x00007ffff5f53ce9 in thread_proxy ()\r\n   from /usr/lib/libboost_thread.so.1.46.1\r\n#6  0x00007ffff6abde9a in start_thread ()\r\n   from /lib/x86_64-linux-gnu/libpthread.so.0\r\n#7  0x00007ffff52fd4bd in clone () from /lib/x86_64-linux-gnu/libc.so.6\r\n#8  0x0000000000000000 in ?? ()\r\n\r\nThread 2 (Thread 0x7fffe4ec8700 (LWP 7414)):\r\n#0  0x00007ffff6ac1d84 in pthread_cond_wait@@GLIBC_2.3.2 ()\r\n   from /lib/x86_64-linux-gnu/libpthread.so.0\r\n#1  0x00007ffff7b956c3 in wait (m=..., this=0x7ffff7dd9b70)\r\n    at /usr/include/boost/thread/pthread/condition_variable.hpp:53\r\n#2  gazebo::common::ModelDatabase::UpdateModelCache (this=0x7ffff7dd9b00)\r\n    at /home/scpeters/osrf/gazebo/gazebo/common/ModelDatabase.cc:254\r\n#3  0x00007ffff5f53ce9 in thread_proxy ()\r\n   from /usr/lib/libboost_thread.so.1.46.1\r\n#4  0x00007ffff6abde9a in start_thread ()\r\n   from /lib/x86_64-linux-gnu/libpthread.so.0\r\n#5  0x00007ffff52fd4bd in clone () from /lib/x86_64-linux-gnu/libc.so.6\r\n#6  0x0000000000000000 in ?? ()\r\n\r\n---Type <return> to continue, or q <return> to quit---\r\nThread 1 (Thread 0x7ffff7faa800 (LWP 7413)):\r\n#0  0x00007ffff6ac552d in nanosleep ()\r\n   from /lib/x86_64-linux-gnu/libpthread.so.0\r\n#1  0x00007ffff7bac21d in gazebo::common::Time::Sleep (_time=...)\r\n    at /home/scpeters/osrf/gazebo/gazebo/common/Time.cc:171\r\n#2  0x00007ffff7bac763 in gazebo::common::Time::MSleep (_ms=<optimized out>)\r\n    at /home/scpeters/osrf/gazebo/gazebo/common/Time.cc:189\r\n#3  0x00000000004240cc in gazebo::Server::Run (this=0x68b260)\r\n    at /home/scpeters/osrf/gazebo/gazebo/Server.cc:417\r\n#4  0x0000000000420ac3 in main (argc=1, argv=0x7fffffffd638)\r\n    at /home/scpeters/osrf/gazebo/gazebo/server_main.cc:43\r\n(gdb) \r\n~~~", "markup": "markdown", "html": "<p>If you delete a model containing a ray sensor or IMU (try the hokuyo model for example) and there are no other sensors of that type in the world, then the console spams an error message:</p>\n<div class=\"codehilite\"><pre><span></span>Error [SensorManager.cc:498] Updating a sensor containing without any sensors.\nError [SensorManager.cc:498] Updating a sensor containing without any sensors.\nError [SensorManager.cc:498] Updating a sensor containing without any sensors.\nError [SensorManager.cc:498] Updating a sensor containing without any sensors.\n</pre></div>\n\n\n<p>Inserting and deleting the camera model doesn't lead to this error message.</p>\n<p>UPDATE: I can't reproduce the following crash.</p>\n<p>I managed to cause a gzserver crash by repeatedly inserting and deleting cameras. This happened on my virtual machine, so I'll try to reproduce it on my desktop tomorrow to make sure it's for real. Here's the backtrace (see thread 11):</p>\n<div class=\"codehilite\"><pre><span></span>(gdb) thread apply all bt\n\nThread 16 (Thread 0x7fffcd7f9700 (LWP 7429)):\n#0  0x00007ffff6ac552d in nanosleep ()\n   from /lib/x86_64-linux-gnu/libpthread.so.0\n#1  0x00007ffff7bac21d in gazebo::common::Time::Sleep (_time=...)\n    at /home/scpeters/osrf/gazebo/gazebo/common/Time.cc:171\n#2  0x00007ffff736923f in gazebo::physics::World::Step (this=0xb305d0)\n    at /home/scpeters/osrf/gazebo/gazebo/physics/World.cc:449\n#3  0x00007ffff736a0a8 in gazebo::physics::World::RunLoop (this=0xb305d0)\n    at /home/scpeters/osrf/gazebo/gazebo/physics/World.cc:350\n#4  0x00007ffff5f53ce9 in thread_proxy ()\n   from /usr/lib/libboost_thread.so.1.46.1\n#5  0x00007ffff6abde9a in start_thread ()\n   from /lib/x86_64-linux-gnu/libpthread.so.0\n#6  0x00007ffff52fd4bd in clone () from /lib/x86_64-linux-gnu/libc.so.6\n#7  0x0000000000000000 in ?? ()\n\nThread 15 (Thread 0x7fffcdffa700 (LWP 7428)):\n#0  0x00007ffff6ac1d84 in pthread_cond_wait@@GLIBC_2.3.2 ()\n   from /lib/x86_64-linux-gnu/libpthread.so.0\n#1  0x00007ffff705a3e3 in boost::condition_variable::wait (this=0x127b150, \n    m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:53\n#2  0x00007ffff70593e0 in gazebo::sensors::SensorManager::SensorContainer::RunLo---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---\nop (this=0x127b0b0)\n    at /home/scpeters/osrf/gazebo/gazebo/sensors/SensorManager.cc:437\n#3  0x00007ffff5f53ce9 in thread_proxy ()\n   from /usr/lib/libboost_thread.so.1.46.1\n#4  0x00007ffff6abde9a in start_thread ()\n   from /lib/x86_64-linux-gnu/libpthread.so.0\n#5  0x00007ffff52fd4bd in clone () from /lib/x86_64-linux-gnu/libc.so.6\n#6  0x0000000000000000 in ?? ()\n\nThread 14 (Thread 0x7fffce7fb700 (LWP 7427)):\n#0  0x00007ffff6ac1d84 in pthread_cond_wait@@GLIBC_2.3.2 ()\n   from /lib/x86_64-linux-gnu/libpthread.so.0\n#1  0x00007ffff705a3e3 in boost::condition_variable::wait (this=0x1274b00, \n    m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:53\n#2  0x00007ffff70593e0 in gazebo::sensors::SensorManager::SensorContainer::RunLoop (this=0x1274a60)\n    at /home/scpeters/osrf/gazebo/gazebo/sensors/SensorManager.cc:437\n#3  0x00007ffff5f53ce9 in thread_proxy ()\n   from /usr/lib/libboost_thread.so.1.46.1\n#4  0x00007ffff6abde9a in start_thread ()\n   from /lib/x86_64-linux-gnu/libpthread.so.0\n#5  0x00007ffff52fd4bd in clone () from /lib/x86_64-linux-gnu/libc.so.6\n#6  0x0000000000000000 in ?? ()\n---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---\n\nThread 13 (Thread 0x7fffcebfc700 (LWP 7425)):\n#0  0x00007ffff52f96d9 in syscall () from /lib/x86_64-linux-gnu/libc.so.6\n#1  0x00007ffff65b1293 in ?? () from /usr/lib/libtbb.so.2\n#2  0x00007ffff65b12c9 in ?? () from /usr/lib/libtbb.so.2\n#3  0x00007ffff6abde9a in start_thread ()\n   from /lib/x86_64-linux-gnu/libpthread.so.0\n#4  0x00007ffff52fd4bd in clone () from /lib/x86_64-linux-gnu/libc.so.6\n#5  0x0000000000000000 in ?? ()\n\nThread 12 (Thread 0x7fffceffd700 (LWP 7424)):\n#0  0x00007ffff52f96d9 in syscall () from /lib/x86_64-linux-gnu/libc.so.6\n#1  0x00007ffff65b1293 in ?? () from /usr/lib/libtbb.so.2\n#2  0x00007ffff65b12c9 in ?? () from /usr/lib/libtbb.so.2\n#3  0x00007ffff6abde9a in start_thread ()\n   from /lib/x86_64-linux-gnu/libpthread.so.0\n#4  0x00007ffff52fd4bd in clone () from /lib/x86_64-linux-gnu/libc.so.6\n#5  0x0000000000000000 in ?? ()\n\nThread 11 (Thread 0x7fffcf7fe700 (LWP 7423)):\n#0  0x00007ffff5241445 in raise () from /lib/x86_64-linux-gnu/libc.so.6\n#1  0x00007ffff5244bab in abort () from /lib/x86_64-linux-gnu/libc.so.6\n#2  0x00007ffff523a10e in ?? () from /lib/x86_64-linux-gnu/libc.so.6\n---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---\n#3  0x00007ffff523a1b2 in __assert_fail () from /lib/x86_64-linux-gnu/libc.so.6\n#4  0x0000000000420880 in boost::pthread::pthread_mutex_scoped_lock::pthread_mutex_scoped_lock (m_=&lt;optimized out&gt;, this=&lt;optimized out&gt;)\n    at /usr/include/boost/thread/pthread/pthread_mutex_scoped_lock.hpp:26\n#5  0x000000000042c3da in pthread_mutex_scoped_lock (m_=0x7fffa00efdb0, \n    this=&lt;synthetic pointer&gt;)\n    at /usr/include/boost/thread/pthread/pthread_mutex_scoped_lock.hpp:26\n#6  lock (this=0x7fffa00efdb0)\n    at /usr/include/boost/thread/pthread/recursive_mutex.hpp:124\n#7  boost::unique_lock&lt;boost::recursive_mutex&gt;::lock (this=0x7fffcf7fdcb0)\n    at /usr/include/boost/thread/locks.hpp:412\n#8  0x00007ffff761d21f in unique_lock (m_=..., this=0x7fffcf7fdcb0)\n    at /usr/include/boost/thread/locks.hpp:290\n#9  gazebo::transport::Node::ProcessIncoming (this=0x7fffa00efc90)\n    at /home/scpeters/osrf/gazebo/gazebo/transport/Node.cc:141\n#10 0x00007ffff7627347 in gazebo::transport::TopicManager::ProcessNodes (\n    this=0x64afe0, _onlyOut=false)\n    at /home/scpeters/osrf/gazebo/gazebo/transport/TopicManager.cc:138\n#11 0x00007ffff76132c5 in gazebo::transport::ConnectionManager::RunUpdate (\n    this=0x64b120)\n    at /home/scpeters/osrf/gazebo/gazebo/transport/ConnectionManager.cc:218\n#12 0x00007ffff76134d0 in gazebo::transport::ConnectionManager::Run (\n    this=0x64b120)\n---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---\n    at /home/scpeters/osrf/gazebo/gazebo/transport/ConnectionManager.cc:247\n#13 0x00007ffff5f53ce9 in thread_proxy ()\n   from /usr/lib/libboost_thread.so.1.46.1\n#14 0x00007ffff6abde9a in start_thread ()\n   from /lib/x86_64-linux-gnu/libpthread.so.0\n#15 0x00007ffff52fd4bd in clone () from /lib/x86_64-linux-gnu/libc.so.6\n#16 0x0000000000000000 in ?? ()\n\nThread 10 (Thread 0x7fffbffff700 (LWP 7422)):\n#0  0x00007ffff6ac1d84 in pthread_cond_wait@@GLIBC_2.3.2 ()\n   from /lib/x86_64-linux-gnu/libpthread.so.0\n#1  0x00007fffee0a23b3 in void boost::condition_variable_any::wait&lt;boost::unique_lock&lt;boost::recursive_mutex&gt; &gt;(boost::unique_lock&lt;boost::recursive_mutex&gt;&amp;) ()\n   from /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.7.4\n#2  0x00007fffee0a013f in Ogre::DefaultWorkQueue::waitForNextRequest() ()\n   from /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.7.4\n#3  0x00007fffee0a147c in Ogre::DefaultWorkQueue::_threadMain() ()\n   from /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.7.4\n#4  0x00007ffff5f53ce9 in thread_proxy ()\n   from /usr/lib/libboost_thread.so.1.46.1\n#5  0x00007ffff6abde9a in start_thread ()\n   from /lib/x86_64-linux-gnu/libpthread.so.0\n#6  0x00007ffff52fd4bd in clone () from /lib/x86_64-linux-gnu/libc.so.6\n---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---\n#7  0x0000000000000000 in ?? ()\n\nThread 9 (Thread 0x7fffcffff700 (LWP 7421)):\n#0  0x00007ffff6ac1d84 in pthread_cond_wait@@GLIBC_2.3.2 ()\n   from /lib/x86_64-linux-gnu/libpthread.so.0\n#1  0x00007fffee0a23b3 in void boost::condition_variable_any::wait&lt;boost::unique_lock&lt;boost::recursive_mutex&gt; &gt;(boost::unique_lock&lt;boost::recursive_mutex&gt;&amp;) ()\n   from /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.7.4\n#2  0x00007fffee0a013f in Ogre::DefaultWorkQueue::waitForNextRequest() ()\n   from /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.7.4\n#3  0x00007fffee0a147c in Ogre::DefaultWorkQueue::_threadMain() ()\n   from /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.7.4\n#4  0x00007ffff5f53ce9 in thread_proxy ()\n   from /usr/lib/libboost_thread.so.1.46.1\n#5  0x00007ffff6abde9a in start_thread ()\n   from /lib/x86_64-linux-gnu/libpthread.so.0\n#6  0x00007ffff52fd4bd in clone () from /lib/x86_64-linux-gnu/libc.so.6\n#7  0x0000000000000000 in ?? ()\n\nThread 8 (Thread 0x7fffd4d65700 (LWP 7420)):\n#0  0x00007ffff6ac1d84 in pthread_cond_wait@@GLIBC_2.3.2 ()\n   from /lib/x86_64-linux-gnu/libpthread.so.0\n#1  0x00007fffee0a23b3 in void boost::condition_variable_any::wait&lt;boost::unique---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---\n_lock&lt;boost::recursive_mutex&gt; &gt;(boost::unique_lock&lt;boost::recursive_mutex&gt;&amp;) ()\n   from /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.7.4\n#2  0x00007fffee0a013f in Ogre::DefaultWorkQueue::waitForNextRequest() ()\n   from /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.7.4\n#3  0x00007fffee0a147c in Ogre::DefaultWorkQueue::_threadMain() ()\n   from /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.7.4\n#4  0x00007ffff5f53ce9 in thread_proxy ()\n   from /usr/lib/libboost_thread.so.1.46.1\n#5  0x00007ffff6abde9a in start_thread ()\n   from /lib/x86_64-linux-gnu/libpthread.so.0\n#6  0x00007ffff52fd4bd in clone () from /lib/x86_64-linux-gnu/libc.so.6\n#7  0x0000000000000000 in ?? ()\n\nThread 7 (Thread 0x7fffd6ffd700 (LWP 7419)):\n#0  0x00007ffff6ac1d84 in pthread_cond_wait@@GLIBC_2.3.2 ()\n   from /lib/x86_64-linux-gnu/libpthread.so.0\n#1  0x00007fffdea0ba23 in ?? ()\n   from /usr/lib/x86_64-linux-gnu/dri/swrast_dri.so\n#2  0x00007ffff6abde9a in start_thread ()\n   from /lib/x86_64-linux-gnu/libpthread.so.0\n#3  0x00007ffff52fd4bd in clone () from /lib/x86_64-linux-gnu/libc.so.6\n#4  0x0000000000000000 in ?? ()\n\n---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---\nThread 6 (Thread 0x7fffd77fe700 (LWP 7418)):\n#0  0x00007ffff6ac1d84 in pthread_cond_wait@@GLIBC_2.3.2 ()\n   from /lib/x86_64-linux-gnu/libpthread.so.0\n#1  0x00007fffdea0ba23 in ?? ()\n   from /usr/lib/x86_64-linux-gnu/dri/swrast_dri.so\n#2  0x00007ffff6abde9a in start_thread ()\n   from /lib/x86_64-linux-gnu/libpthread.so.0\n#3  0x00007ffff52fd4bd in clone () from /lib/x86_64-linux-gnu/libc.so.6\n#4  0x0000000000000000 in ?? ()\n\nThread 5 (Thread 0x7fffd7fff700 (LWP 7417)):\n#0  0x00007ffff6ac1d84 in pthread_cond_wait@@GLIBC_2.3.2 ()\n   from /lib/x86_64-linux-gnu/libpthread.so.0\n#1  0x00007fffdea0ba23 in ?? ()\n   from /usr/lib/x86_64-linux-gnu/dri/swrast_dri.so\n#2  0x00007ffff6abde9a in start_thread ()\n   from /lib/x86_64-linux-gnu/libpthread.so.0\n#3  0x00007ffff52fd4bd in clone () from /lib/x86_64-linux-gnu/libc.so.6\n#4  0x0000000000000000 in ?? ()\n\nThread 4 (Thread 0x7fffdf7fe700 (LWP 7416)):\n#0  0x00007ffff6ac552d in nanosleep ()\n   from /lib/x86_64-linux-gnu/libpthread.so.0\n---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---\n#1  0x00007ffff7bac21d in gazebo::common::Time::Sleep (_time=...)\n    at /home/scpeters/osrf/gazebo/gazebo/common/Time.cc:171\n#2  0x00007ffff7bac763 in gazebo::common::Time::MSleep (_ms=&lt;optimized out&gt;)\n    at /home/scpeters/osrf/gazebo/gazebo/common/Time.cc:189\n#3  0x000000000043443d in gazebo::Master::Run (this=0x8794e0)\n    at /home/scpeters/osrf/gazebo/gazebo/Master.cc:320\n#4  0x00007ffff5f53ce9 in thread_proxy ()\n   from /usr/lib/libboost_thread.so.1.46.1\n#5  0x00007ffff6abde9a in start_thread ()\n   from /lib/x86_64-linux-gnu/libpthread.so.0\n#6  0x00007ffff52fd4bd in clone () from /lib/x86_64-linux-gnu/libc.so.6\n#7  0x0000000000000000 in ?? ()\n\nThread 3 (Thread 0x7fffdffff700 (LWP 7415)):\n#0  0x00007ffff52fdb53 in epoll_wait () from /lib/x86_64-linux-gnu/libc.so.6\n#1  0x00007ffff761b554 in boost::asio::detail::epoll_reactor::run (\n    this=0x86a540, block=&lt;optimized out&gt;, ops=...)\n    at /usr/include/boost/asio/detail/impl/epoll_reactor.ipp:240\n#2  0x00007ffff761bb76 in do_one (this_idle_thread=&lt;optimized out&gt;, lock=..., \n    this=&lt;optimized out&gt;)\n    at /usr/include/boost/asio/detail/impl/task_io_service.ipp:264\n#3  boost::asio::detail::task_io_service::run (this=0x851fc0, ec=...)\n    at /usr/include/boost/asio/detail/impl/task_io_service.ipp:130\n---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---\n#4  0x00007ffff761c125 in boost::asio::io_service::run (this=0x849820)\n    at /usr/include/boost/asio/impl/io_service.ipp:57\n#5  0x00007ffff5f53ce9 in thread_proxy ()\n   from /usr/lib/libboost_thread.so.1.46.1\n#6  0x00007ffff6abde9a in start_thread ()\n   from /lib/x86_64-linux-gnu/libpthread.so.0\n#7  0x00007ffff52fd4bd in clone () from /lib/x86_64-linux-gnu/libc.so.6\n#8  0x0000000000000000 in ?? ()\n\nThread 2 (Thread 0x7fffe4ec8700 (LWP 7414)):\n#0  0x00007ffff6ac1d84 in pthread_cond_wait@@GLIBC_2.3.2 ()\n   from /lib/x86_64-linux-gnu/libpthread.so.0\n#1  0x00007ffff7b956c3 in wait (m=..., this=0x7ffff7dd9b70)\n    at /usr/include/boost/thread/pthread/condition_variable.hpp:53\n#2  gazebo::common::ModelDatabase::UpdateModelCache (this=0x7ffff7dd9b00)\n    at /home/scpeters/osrf/gazebo/gazebo/common/ModelDatabase.cc:254\n#3  0x00007ffff5f53ce9 in thread_proxy ()\n   from /usr/lib/libboost_thread.so.1.46.1\n#4  0x00007ffff6abde9a in start_thread ()\n   from /lib/x86_64-linux-gnu/libpthread.so.0\n#5  0x00007ffff52fd4bd in clone () from /lib/x86_64-linux-gnu/libc.so.6\n#6  0x0000000000000000 in ?? ()\n\n---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---\nThread 1 (Thread 0x7ffff7faa800 (LWP 7413)):\n#0  0x00007ffff6ac552d in nanosleep ()\n   from /lib/x86_64-linux-gnu/libpthread.so.0\n#1  0x00007ffff7bac21d in gazebo::common::Time::Sleep (_time=...)\n    at /home/scpeters/osrf/gazebo/gazebo/common/Time.cc:171\n#2  0x00007ffff7bac763 in gazebo::common::Time::MSleep (_ms=&lt;optimized out&gt;)\n    at /home/scpeters/osrf/gazebo/gazebo/common/Time.cc:189\n#3  0x00000000004240cc in gazebo::Server::Run (this=0x68b260)\n    at /home/scpeters/osrf/gazebo/gazebo/Server.cc:417\n#4  0x0000000000420ac3 in main (argc=1, argv=0x7fffffffd638)\n    at /home/scpeters/osrf/gazebo/gazebo/server_main.cc:43\n(gdb) \n</pre></div>", "type": "rendered"}, "assignee": null, "state": "closed", "version": {"name": "all", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/225575.json"}}}, "edited_on": null, "created_on": "2013-02-28T08:01:24.185176+00:00", "milestone": null, "updated_on": "2016-09-14T19:44:13.902809+00:00", "type": "issue", "id": 544}