{"priority": "minor", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/1825/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/1825.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/1825/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/1825/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/1825/improve-scaling-models-on-the-server-side"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/1825/vote"}}, "reporter": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "title": "Improve scaling models on the server side", "component": {"name": "physics", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122876.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "Pull request #2020 added scale to model states. Unlike pose, which is absolute, scale is applied on top of geometries' previous sizes. Therefore, the initial value matters when applying a state that changes scale.\r\n\r\nThe pull request introduced a workaround which divides all geometries by the parent model scale before saving the initial SDF (9e60bc7). This way, subsequent states are applied on top of the initial condition. This solution is prone to bringing problems in the future. A more elegant solution might involve things like adding `<scale>` elements to `<model>`.\r\n\r\nAny solution should make sure scaling works for both visuals and collisions in all these situations:\r\n\r\n1. Scale a model -> copy -> paste\r\n\r\n1. Scale a model -> edit model\r\n\r\n1. Open 2 clients connected to the same server and scaling on one should be seen on the other\r\n\r\n1. Scale a model -> save the world -> load the world\r\n\r\n1. Scale a model while logging -> playback\r\n\r\n1. Scale a model -> undo", "markup": "markdown", "html": "<p><a href=\"#!/osrf/gazebo/pull-requests/2020/user-scaling-commands-are-properly-logged\" rel=\"nofollow\" class=\"ap-connect-link\">Pull request #2020</a> added scale to model states. Unlike pose, which is absolute, scale is applied on top of geometries' previous sizes. Therefore, the initial value matters when applying a state that changes scale.</p>\n<p>The pull request introduced a workaround which divides all geometries by the parent model scale before saving the initial SDF (<a href=\"#!/osrf/gazebo/commits/9e60bc7\" rel=\"nofollow\" class=\"ap-connect-link\">9e60bc7</a>). This way, subsequent states are applied on top of the initial condition. This solution is prone to bringing problems in the future. A more elegant solution might involve things like adding <code>&lt;scale&gt;</code> elements to <code>&lt;model&gt;</code>.</p>\n<p>Any solution should make sure scaling works for both visuals and collisions in all these situations:</p>\n<ol>\n<li>\n<p>Scale a model -&gt; copy -&gt; paste</p>\n</li>\n<li>\n<p>Scale a model -&gt; edit model</p>\n</li>\n<li>\n<p>Open 2 clients connected to the same server and scaling on one should be seen on the other</p>\n</li>\n<li>\n<p>Scale a model -&gt; save the world -&gt; load the world</p>\n</li>\n<li>\n<p>Scale a model while logging -&gt; playback</p>\n</li>\n<li>\n<p>Scale a model -&gt; undo</p>\n</li>\n</ol>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "all", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/225575.json"}}}, "edited_on": null, "created_on": "2016-01-09T00:32:11.607752+00:00", "milestone": null, "updated_on": "2017-06-02T22:36:24.280860+00:00", "type": "issue", "id": 1825}