{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2639/comments/52843029.json"}, "html": {"href": "#!/osrf/gazebo/issues/2639#comment-52843029"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2639.json"}}, "type": "issue", "id": 2639, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Linking error with protobuf 3.7 while building gazebo 7 on ubuntu 16.04"}, "content": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "created_on": "2019-07-04T01:23:21.330773+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 52843029}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2639/comments/52843065.json"}, "html": {"href": "#!/osrf/gazebo/issues/2639#comment-52843065"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2639.json"}}, "type": "issue", "id": 2639, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Linking error with protobuf 3.7 while building gazebo 7 on ubuntu 16.04"}, "content": {"raw": "the protobuf version in Ubuntu xenial is 2.6.1\n\n* https://packages.ubuntu.com/xenial/libprotobuf-dev\n\nare you building protobuf from source? please provide additional details about your build environment and where protobuf is installed. it is much easier for us to help if we can reproduce the problem or see a complete log of the console output from building gazebo and its dependencies\n\nthanks!", "markup": "markdown", "html": "<p>the protobuf version in Ubuntu xenial is 2.6.1</p>\n<ul>\n<li><a href=\"https://packages.ubuntu.com/xenial/libprotobuf-dev\" rel=\"nofollow\" class=\"ap-connect-link\">https://packages.ubuntu.com/xenial/libprotobuf-dev</a></li>\n</ul>\n<p>are you building protobuf from source? please provide additional details about your build environment and where protobuf is installed. it is much easier for us to help if we can reproduce the problem or see a complete log of the console output from building gazebo and its dependencies</p>\n<p>thanks!</p>", "type": "rendered"}, "created_on": "2019-07-04T01:27:52.451390+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 52843065}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2639/comments/52846665.json"}, "html": {"href": "#!/osrf/gazebo/issues/2639#comment-52846665"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2639.json"}}, "type": "issue", "id": 2639, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Linking error with protobuf 3.7 while building gazebo 7 on ubuntu 16.04"}, "content": {"raw": "Hi @{557058:5de38267-b118-494c-aa76-4fab35448816}\n\nSo it means that i can\u2019t build gazebo 7 using protobuf3.7?\n\nMy current situation is\n\n1. Installed protobuf 3.7 in system from source via cmake\n2. Trying to install gazebo 7 from source in separate installation folder with cmake\\(3.13.4\\), gazebo\u2019s one of the dependencies is protobuf having the following requirement in it\u2019s searchforstuff.cmake file:-\n\n```\nif (PROTOBUF_VERSION LESS 2.3.0)\nBUILD_ERROR(\"Incorrect version: Gazebo requires protobuf version 2.3.0 or greater\")\nendif()\nfind_package(Protobuf REQUIRED)\nif (NOT PROTOBUF_FOUND)\nBUILD_ERROR (\"Missing: Google Protobuf (libprotobuf-dev)\")\nendif()\nif (NOT PROTOBUF_PROTOC_EXECUTABLE)\nBUILD_ERROR (\"Missing: Google Protobuf Compiler (protobuf-compiler)\")\nendif()\nif (NOT PROTOBUF_PROTOC_LIBRARY)\n  BUILD_ERROR (\"Missing: Google Protobuf Compiler Library (libprotoc-dev)\")\nendif()\n\nif (\"${CMAKE_BUILD_TYPE}\" STREQUAL \"Debug\")\n  set (GZ_PROTOBUF_LIBRARY ${PROTOBUF_LIBRARY_DEBUG})\n  set (GZ_PROTOBUF_PROTOC_LIBRARY ${PROTOBUF_PROTOC_LIBRARY_DEBUG})\nelse()\n  set (GZ_PROTOBUF_LIBRARY ${PROTOBUF_LIBRARY})\n  set (GZ_PROTOBUF_PROTOC_LIBRARY ${PROTOBUF_PROTOC_LIBRARY})\nendif()\n```\n\nI have attached the needed files\n\nKindly go through them\n\nThanks for cooperation.", "markup": "markdown", "html": "<p>Hi <span class=\"ap-mention\" data-atlassian-id=\"557058:5de38267-b118-494c-aa76-4fab35448816\">@Steve Peters</span></p>\n<p>So it means that i can\u2019t build gazebo 7 using protobuf3.7?</p>\n<p>My current situation is</p>\n<ol>\n<li>Installed protobuf 3.7 in system from source via cmake</li>\n<li>Trying to install gazebo 7 from source in separate installation folder with cmake(3.13.4), gazebo\u2019s one of the dependencies is protobuf having the following requirement in it\u2019s searchforstuff.cmake file:-</li>\n</ol>\n<div class=\"codehilite\"><pre><span></span>if (PROTOBUF_VERSION LESS 2.3.0)\nBUILD_ERROR(&quot;Incorrect version: Gazebo requires protobuf version 2.3.0 or greater&quot;)\nendif()\nfind_package(Protobuf REQUIRED)\nif (NOT PROTOBUF_FOUND)\nBUILD_ERROR (&quot;Missing: Google Protobuf (libprotobuf-dev)&quot;)\nendif()\nif (NOT PROTOBUF_PROTOC_EXECUTABLE)\nBUILD_ERROR (&quot;Missing: Google Protobuf Compiler (protobuf-compiler)&quot;)\nendif()\nif (NOT PROTOBUF_PROTOC_LIBRARY)\n  BUILD_ERROR (&quot;Missing: Google Protobuf Compiler Library (libprotoc-dev)&quot;)\nendif()\n\nif (&quot;<span class=\"cp\">${</span><span class=\"n\">CMAKE_BUILD_TYPE</span><span class=\"cp\">}</span>&quot; STREQUAL &quot;Debug&quot;)\n  set (GZ_PROTOBUF_LIBRARY <span class=\"cp\">${</span><span class=\"n\">PROTOBUF_LIBRARY_DEBUG</span><span class=\"cp\">}</span>)\n  set (GZ_PROTOBUF_PROTOC_LIBRARY <span class=\"cp\">${</span><span class=\"n\">PROTOBUF_PROTOC_LIBRARY_DEBUG</span><span class=\"cp\">}</span>)\nelse()\n  set (GZ_PROTOBUF_LIBRARY <span class=\"cp\">${</span><span class=\"n\">PROTOBUF_LIBRARY</span><span class=\"cp\">}</span>)\n  set (GZ_PROTOBUF_PROTOC_LIBRARY <span class=\"cp\">${</span><span class=\"n\">PROTOBUF_PROTOC_LIBRARY</span><span class=\"cp\">}</span>)\nendif()\n</pre></div>\n\n\n<p>I have attached the needed files</p>\n<p>Kindly go through them</p>\n<p>Thanks for cooperation.</p>", "type": "rendered"}, "created_on": "2019-07-04T08:07:02.164903+00:00", "user": {"display_name": "rishabh lal", "uuid": "{a2189904-03bc-4407-a50e-76e21d618e28}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Ba2189904-03bc-4407-a50e-76e21d618e28%7D"}, "html": {"href": "https://bitbucket.org/%7Ba2189904-03bc-4407-a50e-76e21d618e28%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/fb7377003cf48b9e05683a406caca93cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRL-4.png"}}, "nickname": "Riss0", "type": "user", "account_id": "5cf5961323e75a0e7d27cfb7"}, "updated_on": "2019-07-04T08:14:12.981404+00:00", "type": "issue_comment", "id": 52846665}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2639/comments/52846696.json"}, "html": {"href": "#!/osrf/gazebo/issues/2639#comment-52846696"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2639.json"}}, "type": "issue", "id": 2639, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Linking error with protobuf 3.7 while building gazebo 7 on ubuntu 16.04"}, "content": {"raw": "build log for gazebo 7", "markup": "markdown", "html": "<p>build log for gazebo 7</p>", "type": "rendered"}, "created_on": "2019-07-04T08:09:35.926261+00:00", "user": {"display_name": "rishabh lal", "uuid": "{a2189904-03bc-4407-a50e-76e21d618e28}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Ba2189904-03bc-4407-a50e-76e21d618e28%7D"}, "html": {"href": "https://bitbucket.org/%7Ba2189904-03bc-4407-a50e-76e21d618e28%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/fb7377003cf48b9e05683a406caca93cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRL-4.png"}}, "nickname": "Riss0", "type": "user", "account_id": "5cf5961323e75a0e7d27cfb7"}, "updated_on": null, "type": "issue_comment", "id": 52846696}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2639/comments/52846722.json"}, "html": {"href": "#!/osrf/gazebo/issues/2639#comment-52846722"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2639.json"}}, "type": "issue", "id": 2639, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Linking error with protobuf 3.7 while building gazebo 7 on ubuntu 16.04"}, "content": {"raw": "cmakeoutput log file for gazebo 7", "markup": "markdown", "html": "<p>cmakeoutput log file for gazebo 7</p>", "type": "rendered"}, "created_on": "2019-07-04T08:11:33.801571+00:00", "user": {"display_name": "rishabh lal", "uuid": "{a2189904-03bc-4407-a50e-76e21d618e28}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Ba2189904-03bc-4407-a50e-76e21d618e28%7D"}, "html": {"href": "https://bitbucket.org/%7Ba2189904-03bc-4407-a50e-76e21d618e28%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/fb7377003cf48b9e05683a406caca93cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRL-4.png"}}, "nickname": "Riss0", "type": "user", "account_id": "5cf5961323e75a0e7d27cfb7"}, "updated_on": null, "type": "issue_comment", "id": 52846722}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2639/comments/52846739.json"}, "html": {"href": "#!/osrf/gazebo/issues/2639#comment-52846739"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2639.json"}}, "type": "issue", "id": 2639, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Linking error with protobuf 3.7 while building gazebo 7 on ubuntu 16.04"}, "content": {"raw": "cmake error log for gazebo 7", "markup": "markdown", "html": "<p>cmake error log for gazebo 7</p>", "type": "rendered"}, "created_on": "2019-07-04T08:12:40.418910+00:00", "user": {"display_name": "rishabh lal", "uuid": "{a2189904-03bc-4407-a50e-76e21d618e28}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Ba2189904-03bc-4407-a50e-76e21d618e28%7D"}, "html": {"href": "https://bitbucket.org/%7Ba2189904-03bc-4407-a50e-76e21d618e28%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/fb7377003cf48b9e05683a406caca93cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRL-4.png"}}, "nickname": "Riss0", "type": "user", "account_id": "5cf5961323e75a0e7d27cfb7"}, "updated_on": null, "type": "issue_comment", "id": 52846739}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2639/comments/52847664.json"}, "html": {"href": "#!/osrf/gazebo/issues/2639#comment-52847664"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2639.json"}}, "type": "issue", "id": 2639, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Linking error with protobuf 3.7 while building gazebo 7 on ubuntu 16.04"}, "content": {"raw": "On macOS, our homebrew bottle of gazebo7 is using protobuf 3.7.1:\n\n* https://github.com/osrf/homebrew-simulation/blob/master/Formula/gazebo7.rb#L29\n* https://github.com/Homebrew/homebrew-core/blob/master/Formula/protobuf.rb\n\nso I believe it should work\n\ncan you attach the output with `make VERBOSE=1`?", "markup": "markdown", "html": "<p>On macOS, our homebrew bottle of gazebo7 is using protobuf 3.7.1:</p>\n<ul>\n<li><a href=\"https://github.com/osrf/homebrew-simulation/blob/master/Formula/gazebo7.rb#L29\" rel=\"nofollow\" class=\"ap-connect-link\">https://github.com/osrf/homebrew-simulation/blob/master/Formula/gazebo7.rb#L29</a></li>\n<li><a href=\"https://github.com/Homebrew/homebrew-core/blob/master/Formula/protobuf.rb\" rel=\"nofollow\" class=\"ap-connect-link\">https://github.com/Homebrew/homebrew-core/blob/master/Formula/protobuf.rb</a></li>\n</ul>\n<p>so I believe it should work</p>\n<p>can you attach the output with <code>make VERBOSE=1</code>?</p>", "type": "rendered"}, "created_on": "2019-07-04T09:11:06.596988+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 52847664}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2639/comments/52851055.json"}, "html": {"href": "#!/osrf/gazebo/issues/2639#comment-52851055"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2639.json"}}, "type": "issue", "id": 2639, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Linking error with protobuf 3.7 while building gazebo 7 on ubuntu 16.04"}, "content": {"raw": "output of make VERBOSE=1", "markup": "markdown", "html": "<p>output of make VERBOSE=1</p>", "type": "rendered"}, "created_on": "2019-07-04T12:54:51.284175+00:00", "user": {"display_name": "rishabh lal", "uuid": "{a2189904-03bc-4407-a50e-76e21d618e28}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Ba2189904-03bc-4407-a50e-76e21d618e28%7D"}, "html": {"href": "https://bitbucket.org/%7Ba2189904-03bc-4407-a50e-76e21d618e28%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/fb7377003cf48b9e05683a406caca93cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRL-4.png"}}, "nickname": "Riss0", "type": "user", "account_id": "5cf5961323e75a0e7d27cfb7"}, "updated_on": null, "type": "issue_comment", "id": 52851055}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2639/comments/52851137.json"}, "html": {"href": "#!/osrf/gazebo/issues/2639#comment-52851137"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2639.json"}}, "type": "issue", "id": 2639, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Linking error with protobuf 3.7 while building gazebo 7 on ubuntu 16.04"}, "content": {"raw": "@{557058:5de38267-b118-494c-aa76-4fab35448816} I attached the output with verbose\n\nI hope this would help in figuring out the solution, kindly update whenever you get any leads on it.\n\nThanks", "markup": "markdown", "html": "<p><span class=\"ap-mention\" data-atlassian-id=\"557058:5de38267-b118-494c-aa76-4fab35448816\">@Steve Peters</span> I attached the output with verbose</p>\n<p>I hope this would help in figuring out the solution, kindly update whenever you get any leads on it.</p>\n<p>Thanks</p>", "type": "rendered"}, "created_on": "2019-07-04T12:59:42.042144+00:00", "user": {"display_name": "rishabh lal", "uuid": "{a2189904-03bc-4407-a50e-76e21d618e28}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Ba2189904-03bc-4407-a50e-76e21d618e28%7D"}, "html": {"href": "https://bitbucket.org/%7Ba2189904-03bc-4407-a50e-76e21d618e28%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/fb7377003cf48b9e05683a406caca93cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRL-4.png"}}, "nickname": "Riss0", "type": "user", "account_id": "5cf5961323e75a0e7d27cfb7"}, "updated_on": null, "type": "issue_comment", "id": 52851137}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2639/comments/52876838.json"}, "html": {"href": "#!/osrf/gazebo/issues/2639#comment-52876838"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2639.json"}}, "type": "issue", "id": 2639, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Linking error with protobuf 3.7 while building gazebo 7 on ubuntu 16.04"}, "content": {"raw": "I don't see anything in the `make VERBOSE=1` logs that jump out at me, but building protobuf from source seems like it may be a part of the problem.\n\nAre you able to make a Dockerfile that builds protobuf and gazebo7 from source and reproduces the build failure? I can't investigate it further without being able to reproduce it on my end.", "markup": "markdown", "html": "<p>I don't see anything in the <code>make VERBOSE=1</code> logs that jump out at me, but building protobuf from source seems like it may be a part of the problem.</p>\n<p>Are you able to make a Dockerfile that builds protobuf and gazebo7 from source and reproduces the build failure? I can't investigate it further without being able to reproduce it on my end.</p>", "type": "rendered"}, "created_on": "2019-07-06T20:02:22.662222+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 52876838}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2639/comments/52876946.json"}, "html": {"href": "#!/osrf/gazebo/issues/2639#comment-52876946"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2639.json"}}, "type": "issue", "id": 2639, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Linking error with protobuf 3.7 while building gazebo 7 on ubuntu 16.04"}, "content": {"raw": "@{557058:5de38267-b118-494c-aa76-4fab35448816} \n\nSince I don\u2019t have any experience with dockerfile i never build it. I have installed all the dependencies of gazebo 7 from source \\(sdformat,ign-transport,ign-msgs & ign-math\\), the error i am facing is probably on gazebo. For now i have linked gaezebo 7 with protobuf 2.6.1 \\(build from source\\) and the whole linking error is reduced to :-\n\n```\n[  3%] Linking CXX executable gazebomsgs_out\nCMakeFiles/gazebomsgs_out.dir/generator/GazeboGenerator.cc.o:(.data.rel.ro._ZTVN6google8protobuf8compiler3cpp15GazeboGeneratorE[_ZTVN6google8protobuf8compiler3cpp15GazeboGeneratorE]+0x28): undefined reference to `google::protobuf::compiler::CodeGenerator::GenerateAll(std::vector<google::protobuf::FileDescriptor const*, std::allocator<google::protobuf::FileDescriptor const*> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, google::protobuf::compiler::GeneratorContext*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) const'\ncollect2: error: ld returned 1 exit status\ngazebo/msgs/CMakeFiles/gazebomsgs_out.dir/build.make:100: recipe for target 'gazebo/msgs/gazebomsgs_out' failed\nmake[2]: *** [gazebo/msgs/gazebomsgs_out] Error 1\nCMakeFiles/Makefile2:914: recipe for target 'gazebo/msgs/CMakeFiles/gazebomsgs_out.dir/all' failed\nmake[1]: *** [gazebo/msgs/CMakeFiles/gazebomsgs_out.dir/all] Error 2\nmake[1]: *** Waiting for unfinished jobs....\n```\n\nThis **\u201c.data.rel.ro\u201d** error was also present in the beginning of this issue, if you could advice me anything about it then kindly share with me.\n\nThanks.", "markup": "markdown", "html": "<p><span class=\"ap-mention\" data-atlassian-id=\"557058:5de38267-b118-494c-aa76-4fab35448816\">@Steve Peters</span> </p>\n<p>Since I don\u2019t have any experience with dockerfile i never build it. I have installed all the dependencies of gazebo 7 from source (sdformat,ign-transport,ign-msgs &amp; ign-math), the error i am facing is probably on gazebo. For now i have linked gaezebo 7 with protobuf 2.6.1 (build from source) and the whole linking error is reduced to :-</p>\n<div class=\"codehilite\"><pre><span></span>[  3%] Linking CXX executable gazebomsgs_out\nCMakeFiles/gazebomsgs_out.dir/generator/GazeboGenerator.cc.o:(.data.rel.ro._ZTVN6google8protobuf8compiler3cpp15GazeboGeneratorE[_ZTVN6google8protobuf8compiler3cpp15GazeboGeneratorE]+0x28): undefined reference to `google::protobuf::compiler::CodeGenerator::GenerateAll(std::vector&lt;google::protobuf::FileDescriptor const*, std::allocator&lt;google::protobuf::FileDescriptor const*&gt; &gt; const&amp;, std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;, google::protobuf::compiler::GeneratorContext*, std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;*) const&#39;\ncollect2: error: ld returned 1 exit status\ngazebo/msgs/CMakeFiles/gazebomsgs_out.dir/build.make:100: recipe for target &#39;gazebo/msgs/gazebomsgs_out&#39; failed\nmake[2]: *** [gazebo/msgs/gazebomsgs_out] Error 1\nCMakeFiles/Makefile2:914: recipe for target &#39;gazebo/msgs/CMakeFiles/gazebomsgs_out.dir/all&#39; failed\nmake[1]: *** [gazebo/msgs/CMakeFiles/gazebomsgs_out.dir/all] Error 2\nmake[1]: *** Waiting for unfinished jobs....\n</pre></div>\n\n\n<p>This <strong>\u201c.data.rel.ro\u201d</strong> error was also present in the beginning of this issue, if you could advice me anything about it then kindly share with me.</p>\n<p>Thanks.</p>", "type": "rendered"}, "created_on": "2019-07-06T20:31:09.912280+00:00", "user": {"display_name": "rishabh lal", "uuid": "{a2189904-03bc-4407-a50e-76e21d618e28}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Ba2189904-03bc-4407-a50e-76e21d618e28%7D"}, "html": {"href": "https://bitbucket.org/%7Ba2189904-03bc-4407-a50e-76e21d618e28%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/fb7377003cf48b9e05683a406caca93cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRL-4.png"}}, "nickname": "Riss0", "type": "user", "account_id": "5cf5961323e75a0e7d27cfb7"}, "updated_on": null, "type": "issue_comment", "id": 52876946}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2639/comments/52888791.json"}, "html": {"href": "#!/osrf/gazebo/issues/2639#comment-52888791"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2639.json"}}, "type": "issue", "id": 2639, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Linking error with protobuf 3.7 while building gazebo 7 on ubuntu 16.04"}, "content": {"raw": "Where are you installing the files that you build from source? Are you building protobuf as a static or shared library? Without seeing the steps that you use to build from source, I can't reproduce it on my end.", "markup": "markdown", "html": "<p>Where are you installing the files that you build from source? Are you building protobuf as a static or shared library? Without seeing the steps that you use to build from source, I can't reproduce it on my end.</p>", "type": "rendered"}, "created_on": "2019-07-08T08:57:17.744077+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 52888791}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2639/comments/52903923.json"}, "html": {"href": "#!/osrf/gazebo/issues/2639#comment-52903923"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2639.json"}}, "type": "issue", "id": 2639, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Linking error with protobuf 3.7 while building gazebo 7 on ubuntu 16.04"}, "content": {"raw": "@{557058:5de38267-b118-494c-aa76-4fab35448816} \n\nI have found a way to reproduce this error in a simpler way by following the below steps:-\n\n1\\. sudo apt-get install build-essential \\\\                      cmake \\\\                      mercurial \\\\                      libprotoc-dev \\\\                      libprotobuf-dev \\\\                      protobuf-compiler\n\n2\\. Make sure you have FindProtobuf.cmake in your CMAKE\\_MODULE\\_PATH. In case you don\u2019t have FindProtobuf.cmake, download it from [https://github.com/NVIDIA/DALI/blob/master/cmake/modules/FindProtobuf.cmake#L548](https://github.com/NVIDIA/DALI/blob/master/cmake/modules/FindProtobuf.cmake#L548) .\n\n3\\. Download ign-msgs0 tarball from [https://bitbucket.org/ignitionrobotics/ign-msgs/get/ign-msgs0.tar.gz](https://bitbucket.org/ignitionrobotics/ign-msgs/get/ign-msgs0.tar.gz)\n\n4\\. cd \u201cdestination directory of ign-msgs0\u201c\n\n5\\. mkdir build\n\n6\\. cd build\n\n7\\. `cmake -DCMAKE_BUILD_TYPE=Debug ../`\n\n8\\. make -j4\n\nThe compilation &/or linking error will be like the one mentioned in the beginning.\n\nI hope you could reproduce it now.\n\nThanks", "markup": "markdown", "html": "<p><span class=\"ap-mention\" data-atlassian-id=\"557058:5de38267-b118-494c-aa76-4fab35448816\">@Steve Peters</span> </p>\n<p>I have found a way to reproduce this error in a simpler way by following the below steps:-</p>\n<p>1. sudo apt-get install build-essential \\                      cmake \\                      mercurial \\                      libprotoc-dev \\                      libprotobuf-dev \\                      protobuf-compiler</p>\n<p>2. Make sure you have FindProtobuf.cmake in your CMAKE_MODULE_PATH. In case you don\u2019t have FindProtobuf.cmake, download it from <a data-is-external-link=\"true\" href=\"https://github.com/NVIDIA/DALI/blob/master/cmake/modules/FindProtobuf.cmake#L548\" rel=\"nofollow\">https://github.com/NVIDIA/DALI/blob/master/cmake/modules/FindProtobuf.cmake#L548</a> .</p>\n<p>3. Download ign-msgs0 tarball from <a data-is-external-link=\"true\" href=\"https://bitbucket.org/ignitionrobotics/ign-msgs/get/ign-msgs0.tar.gz\" rel=\"nofollow\">https://bitbucket.org/ignitionrobotics/ign-msgs/get/ign-msgs0.tar.gz</a></p>\n<p>4. cd \u201cdestination directory of ign-msgs0\u201c</p>\n<p>5. mkdir build</p>\n<p>6. cd build</p>\n<p>7. <code>cmake -DCMAKE_BUILD_TYPE=Debug ../</code></p>\n<p>8. make -j4</p>\n<p>The compilation &amp;/or linking error will be like the one mentioned in the beginning.</p>\n<p>I hope you could reproduce it now.</p>\n<p>Thanks</p>", "type": "rendered"}, "created_on": "2019-07-09T07:17:19.198594+00:00", "user": {"display_name": "rishabh lal", "uuid": "{a2189904-03bc-4407-a50e-76e21d618e28}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Ba2189904-03bc-4407-a50e-76e21d618e28%7D"}, "html": {"href": "https://bitbucket.org/%7Ba2189904-03bc-4407-a50e-76e21d618e28%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/fb7377003cf48b9e05683a406caca93cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRL-4.png"}}, "nickname": "Riss0", "type": "user", "account_id": "5cf5961323e75a0e7d27cfb7"}, "updated_on": null, "type": "issue_comment", "id": 52903923}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2639/comments/52931386.json"}, "html": {"href": "#!/osrf/gazebo/issues/2639#comment-52931386"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2639.json"}}, "type": "issue", "id": 2639, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Linking error with protobuf 3.7 while building gazebo 7 on ubuntu 16.04"}, "content": {"raw": "Now I got it, in order to link protobuf 3.7 with gazebo 7, I modified a line in gazebo7/gazebo/msgs/Cmakelists.txt\n\nfrom\n\n```c++\nadd_executable(gazebomsgs_out generator/GazeboGenerator.cc generator/gazebo_generator.cc)\ntarget_link_libraries(gazebomsgs_out ${GZ_PROTOBUF_LIBRARY} ${GZ_PROTOBUF_PROTOC_LIBRARY})\n```\n\nto\n\n```c++\nadd_executable(gazebomsgs_out generator/GazeboGenerator.cc generator/gazebo_generator.cc)\ntarget_link_libraries(gazebomsgs_out ${GZ_PROTOBUF_LIBRARY} ${GZ_PROTOBUF_PROTOC_LIBRARY} protobuf::libprotoc protobuf::libprotobuf)\n```\n\nAnyways thanks for the cooperation.", "markup": "markdown", "html": "<p>Now I got it, in order to link protobuf 3.7 with gazebo 7, I modified a line in gazebo7/gazebo/msgs/Cmakelists.txt</p>\n<p>from</p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"n\">add_executable</span><span class=\"p\">(</span><span class=\"n\">gazebomsgs_out</span> <span class=\"n\">generator</span><span class=\"o\">/</span><span class=\"n\">GazeboGenerator</span><span class=\"p\">.</span><span class=\"n\">cc</span> <span class=\"n\">generator</span><span class=\"o\">/</span><span class=\"n\">gazebo_generator</span><span class=\"p\">.</span><span class=\"n\">cc</span><span class=\"p\">)</span>\n<span class=\"n\">target_link_libraries</span><span class=\"p\">(</span><span class=\"n\">gazebomsgs_out</span> <span class=\"err\">$</span><span class=\"p\">{</span><span class=\"n\">GZ_PROTOBUF_LIBRARY</span><span class=\"p\">}</span> <span class=\"err\">$</span><span class=\"p\">{</span><span class=\"n\">GZ_PROTOBUF_PROTOC_LIBRARY</span><span class=\"p\">})</span>\n</pre></div>\n\n\n<p>to</p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"n\">add_executable</span><span class=\"p\">(</span><span class=\"n\">gazebomsgs_out</span> <span class=\"n\">generator</span><span class=\"o\">/</span><span class=\"n\">GazeboGenerator</span><span class=\"p\">.</span><span class=\"n\">cc</span> <span class=\"n\">generator</span><span class=\"o\">/</span><span class=\"n\">gazebo_generator</span><span class=\"p\">.</span><span class=\"n\">cc</span><span class=\"p\">)</span>\n<span class=\"n\">target_link_libraries</span><span class=\"p\">(</span><span class=\"n\">gazebomsgs_out</span> <span class=\"err\">$</span><span class=\"p\">{</span><span class=\"n\">GZ_PROTOBUF_LIBRARY</span><span class=\"p\">}</span> <span class=\"err\">$</span><span class=\"p\">{</span><span class=\"n\">GZ_PROTOBUF_PROTOC_LIBRARY</span><span class=\"p\">}</span> <span class=\"n\">protobuf</span><span class=\"o\">::</span><span class=\"n\">libprotoc</span> <span class=\"n\">protobuf</span><span class=\"o\">::</span><span class=\"n\">libprotobuf</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p>Anyways thanks for the cooperation.</p>", "type": "rendered"}, "created_on": "2019-07-10T18:49:51.432295+00:00", "user": {"display_name": "rishabh lal", "uuid": "{a2189904-03bc-4407-a50e-76e21d618e28}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Ba2189904-03bc-4407-a50e-76e21d618e28%7D"}, "html": {"href": "https://bitbucket.org/%7Ba2189904-03bc-4407-a50e-76e21d618e28%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/fb7377003cf48b9e05683a406caca93cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRL-4.png"}}, "nickname": "Riss0", "type": "user", "account_id": "5cf5961323e75a0e7d27cfb7"}, "updated_on": "2019-07-10T18:52:02.153199+00:00", "type": "issue_comment", "id": 52931386}], "page": 1, "size": 14}