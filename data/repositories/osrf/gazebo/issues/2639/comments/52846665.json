{"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2639/comments/52846665.json"}, "html": {"href": "#!/osrf/gazebo/issues/2639#comment-52846665"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2639.json"}}, "type": "issue", "id": 2639, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Linking error with protobuf 3.7 while building gazebo 7 on ubuntu 16.04"}, "content": {"raw": "Hi @{557058:5de38267-b118-494c-aa76-4fab35448816}\n\nSo it means that i can\u2019t build gazebo 7 using protobuf3.7?\n\nMy current situation is\n\n1. Installed protobuf 3.7 in system from source via cmake\n2. Trying to install gazebo 7 from source in separate installation folder with cmake\\(3.13.4\\), gazebo\u2019s one of the dependencies is protobuf having the following requirement in it\u2019s searchforstuff.cmake file:-\n\n```\nif (PROTOBUF_VERSION LESS 2.3.0)\nBUILD_ERROR(\"Incorrect version: Gazebo requires protobuf version 2.3.0 or greater\")\nendif()\nfind_package(Protobuf REQUIRED)\nif (NOT PROTOBUF_FOUND)\nBUILD_ERROR (\"Missing: Google Protobuf (libprotobuf-dev)\")\nendif()\nif (NOT PROTOBUF_PROTOC_EXECUTABLE)\nBUILD_ERROR (\"Missing: Google Protobuf Compiler (protobuf-compiler)\")\nendif()\nif (NOT PROTOBUF_PROTOC_LIBRARY)\n  BUILD_ERROR (\"Missing: Google Protobuf Compiler Library (libprotoc-dev)\")\nendif()\n\nif (\"${CMAKE_BUILD_TYPE}\" STREQUAL \"Debug\")\n  set (GZ_PROTOBUF_LIBRARY ${PROTOBUF_LIBRARY_DEBUG})\n  set (GZ_PROTOBUF_PROTOC_LIBRARY ${PROTOBUF_PROTOC_LIBRARY_DEBUG})\nelse()\n  set (GZ_PROTOBUF_LIBRARY ${PROTOBUF_LIBRARY})\n  set (GZ_PROTOBUF_PROTOC_LIBRARY ${PROTOBUF_PROTOC_LIBRARY})\nendif()\n```\n\nI have attached the needed files\n\nKindly go through them\n\nThanks for cooperation.", "markup": "markdown", "html": "<p>Hi <span class=\"ap-mention\" data-atlassian-id=\"557058:5de38267-b118-494c-aa76-4fab35448816\">@Steve Peters</span></p>\n<p>So it means that i can\u2019t build gazebo 7 using protobuf3.7?</p>\n<p>My current situation is</p>\n<ol>\n<li>Installed protobuf 3.7 in system from source via cmake</li>\n<li>Trying to install gazebo 7 from source in separate installation folder with cmake(3.13.4), gazebo\u2019s one of the dependencies is protobuf having the following requirement in it\u2019s searchforstuff.cmake file:-</li>\n</ol>\n<div class=\"codehilite\"><pre><span></span>if (PROTOBUF_VERSION LESS 2.3.0)\nBUILD_ERROR(&quot;Incorrect version: Gazebo requires protobuf version 2.3.0 or greater&quot;)\nendif()\nfind_package(Protobuf REQUIRED)\nif (NOT PROTOBUF_FOUND)\nBUILD_ERROR (&quot;Missing: Google Protobuf (libprotobuf-dev)&quot;)\nendif()\nif (NOT PROTOBUF_PROTOC_EXECUTABLE)\nBUILD_ERROR (&quot;Missing: Google Protobuf Compiler (protobuf-compiler)&quot;)\nendif()\nif (NOT PROTOBUF_PROTOC_LIBRARY)\n  BUILD_ERROR (&quot;Missing: Google Protobuf Compiler Library (libprotoc-dev)&quot;)\nendif()\n\nif (&quot;<span class=\"cp\">${</span><span class=\"n\">CMAKE_BUILD_TYPE</span><span class=\"cp\">}</span>&quot; STREQUAL &quot;Debug&quot;)\n  set (GZ_PROTOBUF_LIBRARY <span class=\"cp\">${</span><span class=\"n\">PROTOBUF_LIBRARY_DEBUG</span><span class=\"cp\">}</span>)\n  set (GZ_PROTOBUF_PROTOC_LIBRARY <span class=\"cp\">${</span><span class=\"n\">PROTOBUF_PROTOC_LIBRARY_DEBUG</span><span class=\"cp\">}</span>)\nelse()\n  set (GZ_PROTOBUF_LIBRARY <span class=\"cp\">${</span><span class=\"n\">PROTOBUF_LIBRARY</span><span class=\"cp\">}</span>)\n  set (GZ_PROTOBUF_PROTOC_LIBRARY <span class=\"cp\">${</span><span class=\"n\">PROTOBUF_PROTOC_LIBRARY</span><span class=\"cp\">}</span>)\nendif()\n</pre></div>\n\n\n<p>I have attached the needed files</p>\n<p>Kindly go through them</p>\n<p>Thanks for cooperation.</p>", "type": "rendered"}, "created_on": "2019-07-04T08:07:02.164903+00:00", "user": {"display_name": "rishabh lal", "uuid": "{a2189904-03bc-4407-a50e-76e21d618e28}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Ba2189904-03bc-4407-a50e-76e21d618e28%7D"}, "html": {"href": "https://bitbucket.org/%7Ba2189904-03bc-4407-a50e-76e21d618e28%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/fb7377003cf48b9e05683a406caca93cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRL-4.png"}}, "nickname": "Riss0", "type": "user", "account_id": "5cf5961323e75a0e7d27cfb7"}, "updated_on": "2019-07-04T08:14:12.981404+00:00", "type": "issue_comment", "id": 52846665}