{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2234/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2234.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2234/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2234/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2234/dart-physics-engine-crashed-after-deleting"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2234/vote"}}, "reporter": null, "title": "DART physics engine crashed after deleting objects from gazebo.", "component": {"name": "physics::DARTPhysics", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/139387.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "I am using dart in gazebo. I need to add and delete objects in gazebo. It works fine to add the object. But whenever I delete the object, dart will crash with the error message: \"***** Internal Program Error - assertion (dartLink2.get() != __null) failed in virtual void gazebo::physics::DARTPhysics::UpdateCollision():\r\n/tmp/gazebo/gazebo/physics/dart/DARTPhysics.cc(157): dartLink2 in collision pare is NULL\".\r\n\r\nI used the gazebo SpawnModel to add and delete objects (http://gazebosim.org/tutorials?tut=ros_comm#SpawnModel). For example, add object: rosrun gazebo_ros spawn_model -database coke_can -sdf -model coke_can1 -y 2.2 -x -0.3, delete object: rosservice call gazebo/delete_model '{model_name: cokecan1}'\r\n\r\nI tried to delete the object in gazebo without using dart (uses the default ODE physics engine of Gazebo instead), which works well. So I guess it can be DART or [the glue code of Gazebo for DART](#!/osrf/gazebo/src/0d39ebf2b92ba1833f83ea14df668b50f89b5017/gazebo/physics/dart/?at=default). \r\n\r\nI also created [one issue in DART repo](https://github.com/dartsim/dart/issues/857#issuecomment-287931586).\r\n\r\nThank you for the help!", "markup": "markdown", "html": "<p>I am using dart in gazebo. I need to add and delete objects in gazebo. It works fine to add the object. But whenever I delete the object, dart will crash with the error message: \"<strong>*</strong> Internal Program Error - assertion (dartLink2.get() != __null) failed in virtual void gazebo::physics::DARTPhysics::UpdateCollision():\n/tmp/gazebo/gazebo/physics/dart/DARTPhysics.cc(157): dartLink2 in collision pare is NULL\".</p>\n<p>I used the gazebo SpawnModel to add and delete objects (<a href=\"http://gazebosim.org/tutorials?tut=ros_comm#SpawnModel\" rel=\"nofollow\" class=\"ap-connect-link\">http://gazebosim.org/tutorials?tut=ros_comm#SpawnModel</a>). For example, add object: rosrun gazebo_ros spawn_model -database coke_can -sdf -model coke_can1 -y 2.2 -x -0.3, delete object: rosservice call gazebo/delete_model '{model_name: cokecan1}'</p>\n<p>I tried to delete the object in gazebo without using dart (uses the default ODE physics engine of Gazebo instead), which works well. So I guess it can be DART or <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/0d39ebf2b92ba1833f83ea14df668b50f89b5017/gazebo/physics/dart/?at=default\" rel=\"nofollow\">the glue code of Gazebo for DART</a>. </p>\n<p>I also created <a data-is-external-link=\"true\" href=\"https://github.com/dartsim/dart/issues/857#issuecomment-287931586\" rel=\"nofollow\">one issue in DART repo</a>.</p>\n<p>Thank you for the help!</p>", "type": "rendered"}, "assignee": null, "state": "duplicate", "version": {"name": "7.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242744.json"}}}, "edited_on": null, "created_on": "2017-03-21T00:49:39.061144+00:00", "milestone": null, "updated_on": "2017-03-21T20:26:29.426657+00:00", "type": "issue", "id": 2234}