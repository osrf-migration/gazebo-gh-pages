{"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/485/comments/3061263.json"}, "html": {"href": "#!/osrf/gazebo/issues/485#comment-3061263"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/485.json"}}, "type": "issue", "id": 485, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Update Joint::GetForce to return accumulated result of SetForce at every timestep"}, "content": {"raw": "I think the call to `dJointAddHingeTorque` in `Joint::SetForce` is correct as is.  The question I have is  the `Joint::GetForce` call seemed to me a bit vague on what it should do right now.  Current documentation dictates it should return accumulated force applied through use of `Joint::SetForce` (within a time step).  But as is in the pull request, there is also a potential for race conditions on when the value is queried, unless we buffer the total force applied from the previous time step as the return value, and in addition assume there are no other ways of adding forces to a joint.", "markup": "markdown", "html": "<p>I think the call to <code>dJointAddHingeTorque</code> in <code>Joint::SetForce</code> is correct as is.  The question I have is  the <code>Joint::GetForce</code> call seemed to me a bit vague on what it should do right now.  Current documentation dictates it should return accumulated force applied through use of <code>Joint::SetForce</code> (within a time step).  But as is in the pull request, there is also a potential for race conditions on when the value is queried, unless we buffer the total force applied from the previous time step as the return value, and in addition assume there are no other ways of adding forces to a joint.</p>", "type": "rendered"}, "created_on": "2013-02-06T20:55:14.140471+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": null, "type": "issue_comment", "id": 3061263}