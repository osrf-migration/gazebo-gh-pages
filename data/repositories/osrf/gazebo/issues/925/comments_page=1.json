{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/925/comments/6683797.json"}, "html": {"href": "#!/osrf/gazebo/issues/925#comment-6683797"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/925.json"}}, "type": "issue", "id": 925, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "gazebo gui: disabling and then enabling shadows causes gazebo gui to segfault"}, "content": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "created_on": "2013-10-30T15:42:10.558211+00:00", "user": {"display_name": "Jonathan Bohren", "uuid": "{588087c1-4405-46da-b019-43f00b894b30}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B588087c1-4405-46da-b019-43f00b894b30%7D"}, "html": {"href": "https://bitbucket.org/%7B588087c1-4405-46da-b019-43f00b894b30%7D/"}, "avatar": {"href": "https://bitbucket.org/account/jbohren/avatar/"}}, "nickname": "jbohren", "type": "user", "account_id": null}, "updated_on": null, "type": "issue_comment", "id": 6683797}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/925/comments/6683811.json"}, "html": {"href": "#!/osrf/gazebo/issues/925#comment-6683811"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/925.json"}}, "type": "issue", "id": 925, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "gazebo gui: disabling and then enabling shadows causes gazebo gui to segfault"}, "content": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "created_on": "2013-10-30T15:42:55.992328+00:00", "user": {"display_name": "Jonathan Bohren", "uuid": "{588087c1-4405-46da-b019-43f00b894b30}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B588087c1-4405-46da-b019-43f00b894b30%7D"}, "html": {"href": "https://bitbucket.org/%7B588087c1-4405-46da-b019-43f00b894b30%7D/"}, "avatar": {"href": "https://bitbucket.org/account/jbohren/avatar/"}}, "nickname": "jbohren", "type": "user", "account_id": null}, "updated_on": null, "type": "issue_comment", "id": 6683811}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/925/comments/6720564.json"}, "html": {"href": "#!/osrf/gazebo/issues/925#comment-6720564"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/925.json"}}, "type": "issue", "id": 925, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "gazebo gui: disabling and then enabling shadows causes gazebo gui to segfault"}, "content": {"raw": "backtrace from quantal with gazebo-current (2.0.0) deb, ogre 1.7.4\n~~~\nProgram received signal SIGSEGV, Segmentation fault.\n0x00007ffff08fa4fa in Ogre::SceneManager::prepareShadowTextures (\n    this=0x7fffcda54a08, cam=0x7fff78a64c20, vp=0x7fffcd5bc7d8, \n    lightList=0x7fffcda58d48)\n    at /build/buildd/ogre-1.7.4/OgreMain/src/OgreSceneManager.cpp:6151\n6151\t/build/buildd/ogre-1.7.4/OgreMain/src/OgreSceneManager.cpp: No such file or directory.\n(gdb) bt\n#0  0x00007ffff08fa4fa in Ogre::SceneManager::prepareShadowTextures (\n    this=0x7fffcda54a08, cam=0x7fff78a64c20, vp=0x7fffcd5bc7d8, \n    lightList=0x7fffcda58d48)\n    at /build/buildd/ogre-1.7.4/OgreMain/src/OgreSceneManager.cpp:6151\n#1  0x00007ffff08f6263 in Ogre::SceneManager::_renderScene (\n    this=0x7fffcda54a08, camera=0x7fff78a64c20, vp=0x7fffcd5bc7d8, \n    includeOverlays=<optimized out>)\n    at /build/buildd/ogre-1.7.4/OgreMain/src/OgreSceneManager.cpp:1369\n#2  0x00007ffff077147c in Ogre::Camera::_renderScene (this=0x7fff78a64c20, \n    vp=0x7fffcd5bc7d8, includeOverlays=<optimized out>)\n    at /build/buildd/ogre-1.7.4/OgreMain/src/OgreCamera.cpp:412\n#3  0x00007ffff08c1938 in Ogre::RenderTarget::_updateViewport (\n    this=0x7fff78a7f940, viewport=0x7fffcd5bc7d8, \n    updateStatistics=<optimized out>)\n    at /build/buildd/ogre-1.7.4/OgreMain/src/OgreRenderTarget.cpp:146\n#4  0x00007ffff08c1aeb in Ogre::RenderTarget::_updateAutoUpdatedViewports (\n    this=0x7fff78a7f940, updateStatistics=true)\n    at /build/buildd/ogre-1.7.4/OgreMain/src/OgreRenderTarget.cpp:124\n#5  0x00007ffff08c14ae in Ogre::RenderTarget::updateImpl (this=0x7fff78a7f940)\n    at /build/buildd/ogre-1.7.4/OgreMain/src/OgreRenderTarget.cpp:101\n#6  0x00007ffff08c189c in Ogre::RenderTarget::update (this=0x7fff78a7f940, \n    swap=<optimized out>)\n    at /build/buildd/ogre-1.7.4/OgreMain/src/OgreRenderTarget.cpp:541\n---Type <return> to continue, or q <return> to quit---\n#7  0x00007ffff7543d58 in gazebo::rendering::Camera::RenderImpl() ()\n   from /usr/lib/x86_64-linux-gnu/libgazebo_rendering.so.2\n#8  0x00007ffff7543df8 in gazebo::rendering::Camera::Render() ()\n   from /usr/lib/x86_64-linux-gnu/libgazebo_rendering.so.2\n#9  0x00000000004c1e1a in gazebo::event::EventT<void ()>::Signal() ()\n#10 0x00000000004bdaac in gazebo::gui::GLWidget::paintEvent(QPaintEvent*) ()\n#11 0x00007ffff5d3b802 in QWidget::event(QEvent*) ()\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#12 0x00007ffff5cebe9c in QApplicationPrivate::notify_helper(QObject*, QEvent*)\n    () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#13 0x00007ffff5cf030a in QApplication::notify(QObject*, QEvent*) ()\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#14 0x00007ffff57c756e in QCoreApplication::notifyInternal(QObject*, QEvent*)\n    () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#15 0x00007ffff5d37524 in QWidgetPrivate::drawWidget(QPaintDevice*, QRegion const&, QPoint const&, int, QPainter*, QWidgetBackingStore*) ()\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#16 0x00007ffff5f0068c in QWidgetPrivate::repaint_sys(QRegion const&) ()\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#17 0x00007ffff5d2c794 in QWidgetPrivate::syncBackingStore() ()\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#18 0x00007ffff5d3be4c in QWidget::event(QEvent*) ()\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n---Type <return> to continue, or q <return> to quit---\n#19 0x00007ffff5cebe9c in QApplicationPrivate::notify_helper(QObject*, QEvent*)\n    () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#20 0x00007ffff5cf030a in QApplication::notify(QObject*, QEvent*) ()\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#21 0x00007ffff57c756e in QCoreApplication::notifyInternal(QObject*, QEvent*)\n    () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#22 0x00007ffff57cb3f1 in QCoreApplicationPrivate::sendPostedEvents(QObject*, int, QThreadData*) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#23 0x00007ffff57f5a63 in ?? () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#24 0x00007fffee198ab5 in g_main_context_dispatch ()\n   from /lib/x86_64-linux-gnu/libglib-2.0.so.0\n#25 0x00007fffee198de8 in ?? () from /lib/x86_64-linux-gnu/libglib-2.0.so.0\n#26 0x00007fffee198ea4 in g_main_context_iteration ()\n   from /lib/x86_64-linux-gnu/libglib-2.0.so.0\n#27 0x00007ffff57f5bf6 in QEventDispatcherGlib::processEvents(QFlags<QEventLoop::ProcessEventsFlag>) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#28 0x00007ffff5d90c1e in ?? () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#29 0x00007ffff57c62bf in QEventLoop::processEvents(QFlags<QEventLoop::ProcessEventsFlag>) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#30 0x00007ffff57c6548 in QEventLoop::exec(QFlags<QEventLoop::ProcessEventsFlag>) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#31 0x00007ffff57cb708 in QCoreApplication::exec() ()\n   from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n---Type <return> to continue, or q <return> to quit---\n#32 0x00000000004c748e in gazebo::gui::run(int, char**) ()\n#33 0x00000000004a94e9 in main ()\n(gdb) \n~~~", "markup": "markdown", "html": "<p>backtrace from quantal with gazebo-current (2.0.0) deb, ogre 1.7.4</p>\n<div class=\"codehilite\"><pre><span></span>Program received signal SIGSEGV, Segmentation fault.\n0x00007ffff08fa4fa in Ogre::SceneManager::prepareShadowTextures (\n    this=0x7fffcda54a08, cam=0x7fff78a64c20, vp=0x7fffcd5bc7d8, \n    lightList=0x7fffcda58d48)\n    at /build/buildd/ogre-1.7.4/OgreMain/src/OgreSceneManager.cpp:6151\n6151    /build/buildd/ogre-1.7.4/OgreMain/src/OgreSceneManager.cpp: No such file or directory.\n(gdb) bt\n#0  0x00007ffff08fa4fa in Ogre::SceneManager::prepareShadowTextures (\n    this=0x7fffcda54a08, cam=0x7fff78a64c20, vp=0x7fffcd5bc7d8, \n    lightList=0x7fffcda58d48)\n    at /build/buildd/ogre-1.7.4/OgreMain/src/OgreSceneManager.cpp:6151\n#1  0x00007ffff08f6263 in Ogre::SceneManager::_renderScene (\n    this=0x7fffcda54a08, camera=0x7fff78a64c20, vp=0x7fffcd5bc7d8, \n    includeOverlays=&lt;optimized out&gt;)\n    at /build/buildd/ogre-1.7.4/OgreMain/src/OgreSceneManager.cpp:1369\n#2  0x00007ffff077147c in Ogre::Camera::_renderScene (this=0x7fff78a64c20, \n    vp=0x7fffcd5bc7d8, includeOverlays=&lt;optimized out&gt;)\n    at /build/buildd/ogre-1.7.4/OgreMain/src/OgreCamera.cpp:412\n#3  0x00007ffff08c1938 in Ogre::RenderTarget::_updateViewport (\n    this=0x7fff78a7f940, viewport=0x7fffcd5bc7d8, \n    updateStatistics=&lt;optimized out&gt;)\n    at /build/buildd/ogre-1.7.4/OgreMain/src/OgreRenderTarget.cpp:146\n#4  0x00007ffff08c1aeb in Ogre::RenderTarget::_updateAutoUpdatedViewports (\n    this=0x7fff78a7f940, updateStatistics=true)\n    at /build/buildd/ogre-1.7.4/OgreMain/src/OgreRenderTarget.cpp:124\n#5  0x00007ffff08c14ae in Ogre::RenderTarget::updateImpl (this=0x7fff78a7f940)\n    at /build/buildd/ogre-1.7.4/OgreMain/src/OgreRenderTarget.cpp:101\n#6  0x00007ffff08c189c in Ogre::RenderTarget::update (this=0x7fff78a7f940, \n    swap=&lt;optimized out&gt;)\n    at /build/buildd/ogre-1.7.4/OgreMain/src/OgreRenderTarget.cpp:541\n---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---\n#7  0x00007ffff7543d58 in gazebo::rendering::Camera::RenderImpl() ()\n   from /usr/lib/x86_64-linux-gnu/libgazebo_rendering.so.2\n#8  0x00007ffff7543df8 in gazebo::rendering::Camera::Render() ()\n   from /usr/lib/x86_64-linux-gnu/libgazebo_rendering.so.2\n#9  0x00000000004c1e1a in gazebo::event::EventT&lt;void ()&gt;::Signal() ()\n#10 0x00000000004bdaac in gazebo::gui::GLWidget::paintEvent(QPaintEvent*) ()\n#11 0x00007ffff5d3b802 in QWidget::event(QEvent*) ()\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#12 0x00007ffff5cebe9c in QApplicationPrivate::notify_helper(QObject*, QEvent*)\n    () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#13 0x00007ffff5cf030a in QApplication::notify(QObject*, QEvent*) ()\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#14 0x00007ffff57c756e in QCoreApplication::notifyInternal(QObject*, QEvent*)\n    () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#15 0x00007ffff5d37524 in QWidgetPrivate::drawWidget(QPaintDevice*, QRegion const&amp;, QPoint const&amp;, int, QPainter*, QWidgetBackingStore*) ()\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#16 0x00007ffff5f0068c in QWidgetPrivate::repaint_sys(QRegion const&amp;) ()\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#17 0x00007ffff5d2c794 in QWidgetPrivate::syncBackingStore() ()\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#18 0x00007ffff5d3be4c in QWidget::event(QEvent*) ()\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---\n#19 0x00007ffff5cebe9c in QApplicationPrivate::notify_helper(QObject*, QEvent*)\n    () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#20 0x00007ffff5cf030a in QApplication::notify(QObject*, QEvent*) ()\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#21 0x00007ffff57c756e in QCoreApplication::notifyInternal(QObject*, QEvent*)\n    () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#22 0x00007ffff57cb3f1 in QCoreApplicationPrivate::sendPostedEvents(QObject*, int, QThreadData*) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#23 0x00007ffff57f5a63 in ?? () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#24 0x00007fffee198ab5 in g_main_context_dispatch ()\n   from /lib/x86_64-linux-gnu/libglib-2.0.so.0\n#25 0x00007fffee198de8 in ?? () from /lib/x86_64-linux-gnu/libglib-2.0.so.0\n#26 0x00007fffee198ea4 in g_main_context_iteration ()\n   from /lib/x86_64-linux-gnu/libglib-2.0.so.0\n#27 0x00007ffff57f5bf6 in QEventDispatcherGlib::processEvents(QFlags&lt;QEventLoop::ProcessEventsFlag&gt;) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#28 0x00007ffff5d90c1e in ?? () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#29 0x00007ffff57c62bf in QEventLoop::processEvents(QFlags&lt;QEventLoop::ProcessEventsFlag&gt;) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#30 0x00007ffff57c6548 in QEventLoop::exec(QFlags&lt;QEventLoop::ProcessEventsFlag&gt;) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#31 0x00007ffff57cb708 in QCoreApplication::exec() ()\n   from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---\n#32 0x00000000004c748e in gazebo::gui::run(int, char**) ()\n#33 0x00000000004a94e9 in main ()\n(gdb) \n</pre></div>", "type": "rendered"}, "created_on": "2013-11-01T20:51:53.799039+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 6720564}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/925/comments/6816135.json"}, "html": {"href": "#!/osrf/gazebo/issues/925#comment-6816135"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/925.json"}}, "type": "issue", "id": 925, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "gazebo gui: disabling and then enabling shadows causes gazebo gui to segfault"}, "content": {"raw": "While reviewing pull request #772, I was seeing some strange seg-faults from Ogre that mentioned shadows. I made a workaround in 68c62c1, but here's the backtrace I saw repeatedly:\n~~~\nRepeating all tests (iteration 2) . . .\n\nNote: Google Test filter = *Sphere*/0\n[==========] Running 1 test from 1 test case.\n[----------] Global test environment set-up.\n[----------] 1 test from PhysicsEngines/PhysicsTest\n[ RUN      ] PhysicsEngines/PhysicsTest.SphereAtlasLargeError/0\n...\nDbg ServerFixture load in 0.13 seconds, timeout after 60 seconds\n...\nProgram received signal SIGSEGV, Segmentation fault.\n[Switching to Thread 0x7fffdc84f700 (LWP 22494)]\n0x00007ffff06fbacc in Ogre::SharedPtr<Ogre::ShadowCameraSetup>::destroy (this=0x7fffdc84e300)\n    at /build/buildd/ogre-1.7.4/OgreMain/include/OgreSharedPtr.h:232\n232\t/build/buildd/ogre-1.7.4/OgreMain/include/OgreSharedPtr.h: No such file or directory.\n(gdb) bt\n#0  0x00007ffff06fbacc in Ogre::SharedPtr<Ogre::ShadowCameraSetup>::destroy (this=0x7fffdc84e300)\n    at /build/buildd/ogre-1.7.4/OgreMain/include/OgreSharedPtr.h:232\n#1  0x00007ffff06fc559 in Ogre::SharedPtr<Ogre::ShadowCameraSetup>::release (this=this@entry=0x7fffdc84e300)\n    at /build/buildd/ogre-1.7.4/OgreMain/include/OgreSharedPtr.h:218\n#2  0x00007ffff07fbca0 in ~SharedPtr (this=0x7fffdc84e300, __in_chrg=<optimized out>)\n    at /build/buildd/ogre-1.7.4/OgreMain/include/OgreSharedPtr.h:155\n#3  operator= (r=..., this=0x7fff800fef80) at /build/buildd/ogre-1.7.4/OgreMain/include/OgreSharedPtr.h:120\n#4  Ogre::SceneManager::setShadowCameraSetup (this=0x7fff800fa840, shadowSetup=...)\n    at /build/buildd/ogre-1.7.4/OgreMain/src/OgreSceneManager.cpp:5917\n#5  0x00007ffff6f7ee6b in gazebo::rendering::RTShaderSystem::RemoveShadows (this=0x7ffff723b440, _scene=...)\n    at /home/scpeters/ws/gazebo/src/gazebo/gazebo/rendering/RTShaderSystem.cc:422\n#6  0x00007ffff6f86a80 in gazebo::rendering::Scene::SetShadowsEnabled (this=this@entry=0x7fffd1642cf0, \n    _value=false) at /home/scpeters/ws/gazebo/src/gazebo/gazebo/rendering/Scene.cc:2630\n#7  0x00007ffff6f93506 in gazebo::rendering::Scene::ProcessSceneMsg (this=this@entry=0x7fffd1642cf0, _msg=...)\n    at /home/scpeters/ws/gazebo/src/gazebo/gazebo/rendering/Scene.cc:1389\n#8  0x00007ffff6f944df in gazebo::rendering::Scene::PreRender (this=0x7fffd1642cf0)\n    at /home/scpeters/ws/gazebo/src/gazebo/gazebo/rendering/Scene.cc:1651\n#9  0x00007ffff765a44a in operator() (this=<optimized out>)\n    at /usr/include/boost/function/function_template.hpp:760\n#10 gazebo::event::EventT<void ()>::Signal() (this=0x7ffff7dd8800 <gazebo::event::Events::preRender>)\n    at /home/scpeters/ws/gazebo/src/gazebo/gazebo/common/Event.hh:126\n#11 0x00007ffff72c79ef in operator() (this=<optimized out>)\n    at /home/scpeters/ws/gazebo/src/gazebo/gazebo/common/Event.hh:119\n#12 gazebo::sensors::SensorManager::ImageSensorContainer::Update (this=0x7fffd10f22a0, _force=<optimized out>)\n    at /home/scpeters/ws/gazebo/src/gazebo/gazebo/sensors/SensorManager.cc:647\n#13 0x00007ffff72c884a in gazebo::sensors::SensorManager::Update (this=0x7ffff78dd980, _force=<optimized out>)\n    at /home/scpeters/ws/gazebo/src/gazebo/gazebo/sensors/SensorManager.cc:157\n#14 0x0000000000498c0f in gazebo::Server::Run (this=0x7fff76940ea0)\n    at /home/scpeters/ws/gazebo/src/gazebo/gazebo/Server.cc:490\n#15 0x0000000000482d7e in ServerFixture::RunServer (this=0x76f250, _worldFilename=..., _paused=<optimized out>, \n    _physics=...) at /home/scpeters/ws/gazebo/src/gazebo/test/ServerFixture.hh:233\n#16 0x00007ffff596b6c9 in ?? () from /usr/lib/libboost_thread.so.1.49.0\n#17 0x00007ffff65dce9a in start_thread (arg=0x7fffdc84f700) at pthread_create.c:308\n---Type <return> to continue, or q <return> to quit---\n#18 0x00007ffff47ea3fd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\n#19 0x0000000000000000 in ?? ()\n(gdb) \n~~~", "markup": "markdown", "html": "<p>While reviewing <a href=\"#!/osrf/gazebo/pull-requests/772/ode-dynamic-inertia-modification-895\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #772</a>, I was seeing some strange seg-faults from Ogre that mentioned shadows. I made a workaround in <a href=\"#!/osrf/gazebo/commits/68c62c1\" rel=\"nofollow\" class=\"ap-connect-link\">68c62c1</a>, but here's the backtrace I saw repeatedly:</p>\n<div class=\"codehilite\"><pre><span></span>Repeating all tests (iteration 2) . . .\n\nNote: Google Test filter = *Sphere*/0\n[==========] Running 1 test from 1 test case.\n[----------] Global test environment set-up.\n[----------] 1 test from PhysicsEngines/PhysicsTest\n[ RUN      ] PhysicsEngines/PhysicsTest.SphereAtlasLargeError/0\n...\nDbg ServerFixture load in 0.13 seconds, timeout after 60 seconds\n...\nProgram received signal SIGSEGV, Segmentation fault.\n[Switching to Thread 0x7fffdc84f700 (LWP 22494)]\n0x00007ffff06fbacc in Ogre::SharedPtr&lt;Ogre::ShadowCameraSetup&gt;::destroy (this=0x7fffdc84e300)\n    at /build/buildd/ogre-1.7.4/OgreMain/include/OgreSharedPtr.h:232\n232 /build/buildd/ogre-1.7.4/OgreMain/include/OgreSharedPtr.h: No such file or directory.\n(gdb) bt\n#0  0x00007ffff06fbacc in Ogre::SharedPtr&lt;Ogre::ShadowCameraSetup&gt;::destroy (this=0x7fffdc84e300)\n    at /build/buildd/ogre-1.7.4/OgreMain/include/OgreSharedPtr.h:232\n#1  0x00007ffff06fc559 in Ogre::SharedPtr&lt;Ogre::ShadowCameraSetup&gt;::release (this=this@entry=0x7fffdc84e300)\n    at /build/buildd/ogre-1.7.4/OgreMain/include/OgreSharedPtr.h:218\n#2  0x00007ffff07fbca0 in ~SharedPtr (this=0x7fffdc84e300, __in_chrg=&lt;optimized out&gt;)\n    at /build/buildd/ogre-1.7.4/OgreMain/include/OgreSharedPtr.h:155\n#3  operator= (r=..., this=0x7fff800fef80) at /build/buildd/ogre-1.7.4/OgreMain/include/OgreSharedPtr.h:120\n#4  Ogre::SceneManager::setShadowCameraSetup (this=0x7fff800fa840, shadowSetup=...)\n    at /build/buildd/ogre-1.7.4/OgreMain/src/OgreSceneManager.cpp:5917\n#5  0x00007ffff6f7ee6b in gazebo::rendering::RTShaderSystem::RemoveShadows (this=0x7ffff723b440, _scene=...)\n    at /home/scpeters/ws/gazebo/src/gazebo/gazebo/rendering/RTShaderSystem.cc:422\n#6  0x00007ffff6f86a80 in gazebo::rendering::Scene::SetShadowsEnabled (this=this@entry=0x7fffd1642cf0, \n    _value=false) at /home/scpeters/ws/gazebo/src/gazebo/gazebo/rendering/Scene.cc:2630\n#7  0x00007ffff6f93506 in gazebo::rendering::Scene::ProcessSceneMsg (this=this@entry=0x7fffd1642cf0, _msg=...)\n    at /home/scpeters/ws/gazebo/src/gazebo/gazebo/rendering/Scene.cc:1389\n#8  0x00007ffff6f944df in gazebo::rendering::Scene::PreRender (this=0x7fffd1642cf0)\n    at /home/scpeters/ws/gazebo/src/gazebo/gazebo/rendering/Scene.cc:1651\n#9  0x00007ffff765a44a in operator() (this=&lt;optimized out&gt;)\n    at /usr/include/boost/function/function_template.hpp:760\n#10 gazebo::event::EventT&lt;void ()&gt;::Signal() (this=0x7ffff7dd8800 &lt;gazebo::event::Events::preRender&gt;)\n    at /home/scpeters/ws/gazebo/src/gazebo/gazebo/common/Event.hh:126\n#11 0x00007ffff72c79ef in operator() (this=&lt;optimized out&gt;)\n    at /home/scpeters/ws/gazebo/src/gazebo/gazebo/common/Event.hh:119\n#12 gazebo::sensors::SensorManager::ImageSensorContainer::Update (this=0x7fffd10f22a0, _force=&lt;optimized out&gt;)\n    at /home/scpeters/ws/gazebo/src/gazebo/gazebo/sensors/SensorManager.cc:647\n#13 0x00007ffff72c884a in gazebo::sensors::SensorManager::Update (this=0x7ffff78dd980, _force=&lt;optimized out&gt;)\n    at /home/scpeters/ws/gazebo/src/gazebo/gazebo/sensors/SensorManager.cc:157\n#14 0x0000000000498c0f in gazebo::Server::Run (this=0x7fff76940ea0)\n    at /home/scpeters/ws/gazebo/src/gazebo/gazebo/Server.cc:490\n#15 0x0000000000482d7e in ServerFixture::RunServer (this=0x76f250, _worldFilename=..., _paused=&lt;optimized out&gt;, \n    _physics=...) at /home/scpeters/ws/gazebo/src/gazebo/test/ServerFixture.hh:233\n#16 0x00007ffff596b6c9 in ?? () from /usr/lib/libboost_thread.so.1.49.0\n#17 0x00007ffff65dce9a in start_thread (arg=0x7fffdc84f700) at pthread_create.c:308\n---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---\n#18 0x00007ffff47ea3fd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\n#19 0x0000000000000000 in ?? ()\n(gdb) \n</pre></div>", "type": "rendered"}, "created_on": "2013-11-09T01:00:49.627714+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 6816135}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/925/comments/6816136.json"}, "html": {"href": "#!/osrf/gazebo/issues/925#comment-6816136"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/925.json"}}, "type": "issue", "id": 925, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "gazebo gui: disabling and then enabling shadows causes gazebo gui to segfault"}, "content": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "created_on": "2013-11-09T01:01:03.174364+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 6816136}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/925/comments/7052013.json"}, "html": {"href": "#!/osrf/gazebo/issues/925#comment-7052013"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/925.json"}}, "type": "issue", "id": 925, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "gazebo gui: disabling and then enabling shadows causes gazebo gui to segfault"}, "content": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "created_on": "2013-11-25T19:54:43.944465+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 7052013}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/925/comments/7052022.json"}, "html": {"href": "#!/osrf/gazebo/issues/925#comment-7052022"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/925.json"}}, "type": "issue", "id": 925, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "gazebo gui: disabling and then enabling shadows causes gazebo gui to segfault"}, "content": {"raw": "I assigned this to myself, but I'm planning on asking @iche033 for his advice.", "markup": "markdown", "html": "<p>I assigned this to myself, but I'm planning on asking @iche033 for his advice.</p>", "type": "rendered"}, "created_on": "2013-11-25T19:55:33.671119+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 7052022}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/925/comments/7269866.json"}, "html": {"href": "#!/osrf/gazebo/issues/925#comment-7269866"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/925.json"}}, "type": "issue", "id": 925, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "gazebo gui: disabling and then enabling shadows causes gazebo gui to segfault"}, "content": {"raw": "pull request #867", "markup": "markdown", "html": "<p><a href=\"#!/osrf/gazebo/pull-requests/867/fix-toggling-shadows\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #867</a></p>", "type": "rendered"}, "created_on": "2013-12-11T02:28:11.263358+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": null, "type": "issue_comment", "id": 7269866}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/925/comments/7286058.json"}, "html": {"href": "#!/osrf/gazebo/issues/925#comment-7286058"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/925.json"}}, "type": "issue", "id": 925, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "gazebo gui: disabling and then enabling shadows causes gazebo gui to segfault"}, "content": {"raw": "workaround for 1.9 in pull request #868, with a better fix for 3.0 in pull request #867", "markup": "markdown", "html": "<p>workaround for 1.9 in <a href=\"#!/osrf/gazebo/pull-requests/868/shadow-toggle-workaround-for-gazebo_19\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #868</a>, with a better fix for 3.0 in <a href=\"#!/osrf/gazebo/pull-requests/867/fix-toggling-shadows\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #867</a></p>", "type": "rendered"}, "created_on": "2013-12-12T01:33:53.743278+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 7286058}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/925/comments/30611326.json"}, "html": {"href": "#!/osrf/gazebo/issues/925#comment-30611326"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/925.json"}}, "type": "issue", "id": 925, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "gazebo gui: disabling and then enabling shadows causes gazebo gui to segfault"}, "content": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "created_on": "2016-09-14T19:24:51.064987+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": null, "type": "issue_comment", "id": 30611326}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/925/comments/30611985.json"}, "html": {"href": "#!/osrf/gazebo/issues/925#comment-30611985"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/925.json"}}, "type": "issue", "id": 925, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "gazebo gui: disabling and then enabling shadows causes gazebo gui to segfault"}, "content": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "created_on": "2016-09-14T19:43:33.948552+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": null, "type": "issue_comment", "id": 30611985}], "page": 1, "size": 11}