{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1780/comments/23226634.json"}, "html": {"href": "#!/osrf/gazebo/issues/1780#comment-23226634"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1780.json"}}, "type": "issue", "id": 1780, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "ODE collision space not deleted when model is removed from the world"}, "content": {"raw": "There is an additional problem that arises whenever a link has the `self_collide` property. In that case it creates its own collision space, which is then also not deleted. I'm attaching a patch file with a possible fix for this.", "markup": "markdown", "html": "<p>There is an additional problem that arises whenever a link has the <code>self_collide</code> property. In that case it creates its own collision space, which is then also not deleted. I'm attaching a patch file with a possible fix for this.</p>", "type": "rendered"}, "created_on": "2015-11-11T10:51:44.839755+00:00", "user": {"display_name": "Elte Hupkes", "uuid": "{f23aa1a9-ae57-493f-8169-fbb59b3eae43}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bf23aa1a9-ae57-493f-8169-fbb59b3eae43%7D"}, "html": {"href": "https://bitbucket.org/%7Bf23aa1a9-ae57-493f-8169-fbb59b3eae43%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/8560ee94d50ba277c411499a45b3d732d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsEH-5.png"}}, "nickname": "ElteHupkes", "type": "user", "account_id": "557058:b758f523-bdaa-4718-964c-03b825bdea8d"}, "updated_on": null, "type": "issue_comment", "id": 23226634}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1780/comments/23226641.json"}, "html": {"href": "#!/osrf/gazebo/issues/1780#comment-23226641"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1780.json"}}, "type": "issue", "id": 1780, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "ODE collision space not deleted when model is removed from the world"}, "content": {"raw": "", "markup": "markdown", "html": "", "type": "rendered"}, "created_on": "2015-11-11T10:51:55.851372+00:00", "user": {"display_name": "Elte Hupkes", "uuid": "{f23aa1a9-ae57-493f-8169-fbb59b3eae43}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bf23aa1a9-ae57-493f-8169-fbb59b3eae43%7D"}, "html": {"href": "https://bitbucket.org/%7Bf23aa1a9-ae57-493f-8169-fbb59b3eae43%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/8560ee94d50ba277c411499a45b3d732d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsEH-5.png"}}, "nickname": "ElteHupkes", "type": "user", "account_id": "557058:b758f523-bdaa-4718-964c-03b825bdea8d"}, "updated_on": null, "type": "issue_comment", "id": 23226641}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1780/comments/23245070.json"}, "html": {"href": "#!/osrf/gazebo/issues/1780#comment-23245070"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1780.json"}}, "type": "issue", "id": 1780, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "ODE collision space not deleted when model is removed from the world"}, "content": {"raw": "this is a great find! thanks for looking into this\n\nwe should somehow come up with a test for this patch and get it in", "markup": "markdown", "html": "<p>this is a great find! thanks for looking into this</p>\n<p>we should somehow come up with a test for this patch and get it in</p>", "type": "rendered"}, "created_on": "2015-11-12T02:39:48.652086+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": null, "type": "issue_comment", "id": 23245070}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1780/comments/23257308.json"}, "html": {"href": "#!/osrf/gazebo/issues/1780#comment-23257308"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1780.json"}}, "type": "issue", "id": 1780, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "ODE collision space not deleted when model is removed from the world"}, "content": {"raw": "@iche033 No problem, I really need this to work so my motives are rather selfish ;).\n\nI just realized there might be some issues with applying these patches. I am working on a custom branch which I tend to merge with the last stable tag of Gazebo available (currently it's 6.5.1) to fix any and all issues I run into when I find them. Especially the first patch was from before I merged 6.5.1 though so it might be hard to integrate. In addition I've some other fixes and workarounds in place in order to, frankly, just get this to work.\n\nThe truth is that fixing this issue does not even matter without some of the other fixes I implemented:\n\n- Issue #1142 (I replaced Entity::parentEntity with a weak pointer to prevent reference loops)\n- When links are connected with joints, the link <- joint -> link also results in a circular reference. I found that in order for things to be properly deleted you need to:\n    - Change the `Link` joint lists to use weak pointer (either that or change the `Joint` link references to use weak pointers, but the latter is more work and affects all joint implementations in all physics engines).\n    - Change `JointControllerPrivate::model` and `Joint::model` to weak pointers\n\nI want to share all these but I've both limited time and limited knowledge of Mercurial so I'm not sure how to approach this.", "markup": "markdown", "html": "<p>@iche033 No problem, I really need this to work so my motives are rather selfish ;).</p>\n<p>I just realized there might be some issues with applying these patches. I am working on a custom branch which I tend to merge with the last stable tag of Gazebo available (currently it's 6.5.1) to fix any and all issues I run into when I find them. Especially the first patch was from before I merged 6.5.1 though so it might be hard to integrate. In addition I've some other fixes and workarounds in place in order to, frankly, just get this to work.</p>\n<p>The truth is that fixing this issue does not even matter without some of the other fixes I implemented:</p>\n<ul>\n<li>Issue <a href=\"#!/osrf/gazebo/issues/1142/potential-for-smart-pointer-reference\" rel=\"nofollow\" title=\"Potential for smart pointer reference loops in physics::Base\" class=\"ap-connect-link\">#1142</a> (I replaced Entity::parentEntity with a weak pointer to prevent reference loops)</li>\n<li>When links are connected with joints, the link &lt;- joint -&gt; link also results in a circular reference. I found that in order for things to be properly deleted you need to:<ul>\n<li>Change the <code>Link</code> joint lists to use weak pointer (either that or change the <code>Joint</code> link references to use weak pointers, but the latter is more work and affects all joint implementations in all physics engines).</li>\n<li>Change <code>JointControllerPrivate::model</code> and <code>Joint::model</code> to weak pointers</li>\n</ul>\n</li>\n</ul>\n<p>I want to share all these but I've both limited time and limited knowledge of Mercurial so I'm not sure how to approach this.</p>", "type": "rendered"}, "created_on": "2015-11-12T13:25:33.117548+00:00", "user": {"display_name": "Elte Hupkes", "uuid": "{f23aa1a9-ae57-493f-8169-fbb59b3eae43}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bf23aa1a9-ae57-493f-8169-fbb59b3eae43%7D"}, "html": {"href": "https://bitbucket.org/%7Bf23aa1a9-ae57-493f-8169-fbb59b3eae43%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/8560ee94d50ba277c411499a45b3d732d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsEH-5.png"}}, "nickname": "ElteHupkes", "type": "user", "account_id": "557058:b758f523-bdaa-4718-964c-03b825bdea8d"}, "updated_on": "2015-11-12T13:26:55.543679+00:00", "type": "issue_comment", "id": 23257308}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1780/comments/23264803.json"}, "html": {"href": "#!/osrf/gazebo/issues/1780#comment-23264803"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1780.json"}}, "type": "issue", "id": 1780, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "ODE collision space not deleted when model is removed from the world"}, "content": {"raw": "You can point us to the branch you are using if it is on a public fork.", "markup": "markdown", "html": "<p>You can point us to the branch you are using if it is on a public fork.</p>", "type": "rendered"}, "created_on": "2015-11-12T17:41:05.121077+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 23264803}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1780/comments/23319407.json"}, "html": {"href": "#!/osrf/gazebo/issues/1780#comment-23319407"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1780.json"}}, "type": "issue", "id": 1780, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "ODE collision space not deleted when model is removed from the world"}, "content": {"raw": "Yes, of course I should do that, where is my mind. The branch can be found here: https://bitbucket.org/ElteHupkes/gazebo/src/566c84a6bf3cdf96804cd411b92f9462a24110f0?at=gazebo6-revolve. I list the issues I (have attempted to) resolve in [this file](https://bitbucket.org/ElteHupkes/gazebo/src/566c84a6bf3cdf96804cd411b92f9462a24110f0/revolve-changes.md?at=gazebo6-revolve&fileviewer=file-view-default).", "markup": "markdown", "html": "<p>Yes, of course I should do that, where is my mind. The branch can be found here: <a href=\"https://bitbucket.org/ElteHupkes/gazebo/src/566c84a6bf3cdf96804cd411b92f9462a24110f0?at=gazebo6-revolve\" rel=\"nofollow\" class=\"ap-connect-link\">https://bitbucket.org/ElteHupkes/gazebo/src/566c84a6bf3cdf96804cd411b92f9462a24110f0?at=gazebo6-revolve</a>. I list the issues I (have attempted to) resolve in <a data-is-external-link=\"true\" href=\"https://bitbucket.org/ElteHupkes/gazebo/src/566c84a6bf3cdf96804cd411b92f9462a24110f0/revolve-changes.md?at=gazebo6-revolve&amp;fileviewer=file-view-default\" rel=\"nofollow\">this file</a>.</p>", "type": "rendered"}, "created_on": "2015-11-15T20:03:28.329257+00:00", "user": {"display_name": "Elte Hupkes", "uuid": "{f23aa1a9-ae57-493f-8169-fbb59b3eae43}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bf23aa1a9-ae57-493f-8169-fbb59b3eae43%7D"}, "html": {"href": "https://bitbucket.org/%7Bf23aa1a9-ae57-493f-8169-fbb59b3eae43%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/8560ee94d50ba277c411499a45b3d732d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsEH-5.png"}}, "nickname": "ElteHupkes", "type": "user", "account_id": "557058:b758f523-bdaa-4718-964c-03b825bdea8d"}, "updated_on": null, "type": "issue_comment", "id": 23319407}], "page": 1, "size": 6}