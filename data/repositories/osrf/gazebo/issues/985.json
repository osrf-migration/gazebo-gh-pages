{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/985/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/985.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/985/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/985/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/985/compile-fails-on-gcc-482"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/985/vote"}}, "reporter": {"display_name": "Morgan Quigley", "uuid": "{92f5a4e9-2e82-42b7-955b-3eda9a272364}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B92f5a4e9-2e82-42b7-955b-3eda9a272364%7D"}, "html": {"href": "https://bitbucket.org/%7B92f5a4e9-2e82-42b7-955b-3eda9a272364%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/c40268cda48633a945ef88a3f37da8dcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMQ-4.png"}}, "nickname": "Morgan Quigley", "type": "user", "account_id": "557058:6d82cad4-6685-41dd-9e43-f2af8c287dbb"}, "title": "compile fails on gcc 4.8.2", "component": {"name": "rendering::ogre_gazebo", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/153568.json"}}}, "votes": 0, "watches": 4, "content": {"raw": "Compiler error on the gazebo_2.1 branch when compiling on Manjaro, which uses gcc 4.8.2 at the moment. Not sure what the right fix is.\r\n\r\n~~~~\r\nScanning dependencies of target gazebo_selection_buffer\r\n[ 50%] Building CXX object gazebo/rendering/selection_buffer/CMakeFiles/gazebo_selection_buffer.dir/MaterialSwitcher.cc.o\r\nIn file included from /usr/include/OGRE/OgreAnimable.h:37:0,\r\n                 from /usr/include/OGRE/OgreAnimation.h:35,\r\n                 from /usr/include/OGRE/Ogre.h:33,\r\n                 from /home/mquigley/gazebo_source/gazebo/gazebo/rendering/ogre_gazebo.h:22,\r\n                 from /home/mquigley/gazebo_source/gazebo/gazebo/rendering/selection_buffer/MaterialSwitcher.hh:23,\r\n                 from /home/mquigley/gazebo_source/gazebo/gazebo/rendering/selection_buffer/MaterialSwitcher.cc:19:\r\n/usr/include/OGRE/OgreSharedPtr.h: In instantiation of \u2018Ogre::SharedPtr<T>::SharedPtr(const Ogre::SharedPtr<Y>&) [with Y = Ogre::Resource; T = Ogre::Material]\u2019:\r\n/home/mquigley/gazebo_source/gazebo/gazebo/rendering/selection_buffer/MaterialSwitcher.cc:73:47:   required from here\r\n/usr/include/OGRE/OgreSharedPtr.h:202:28: error: invalid conversion from \u2018Ogre::Resource*\u2019 to \u2018Ogre::Material*\u2019 [-fpermissive]\r\n             , pInfo(r.pInfo)\r\n                            ^\r\ngazebo/rendering/selection_buffer/CMakeFiles/gazebo_selection_buffer.dir/build.make:57: recipe for target 'gazebo/rendering/selection_buffer/CMakeFiles/gazebo_selection_buffer.dir/MaterialSwitcher.cc.o' failed\r\nmake[2]: *** [gazebo/rendering/selection_buffer/CMakeFiles/gazebo_selection_buffer.dir/MaterialSwitcher.cc.o] Error 1\r\nCMakeFiles/Makefile2:1079: recipe for target 'gazebo/rendering/selection_buffer/CMakeFiles/gazebo_selection_buffer.dir/all' failed\r\nmake[1]: *** [gazebo/rendering/selection_buffer/CMakeFiles/gazebo_selection_buffer.dir/all] Error 2\r\nMakefile:126: recipe for target 'all' failed\r\nmake: *** [all] Error 2\r\n~~~~", "markup": "markdown", "html": "<p>Compiler error on the gazebo_2.1 branch when compiling on Manjaro, which uses gcc 4.8.2 at the moment. Not sure what the right fix is.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">Scanning</span> <span class=\"nt\">dependencies</span> <span class=\"nt\">of</span> <span class=\"nt\">target</span> <span class=\"nt\">gazebo_selection_buffer</span>\n<span class=\"cp\">[</span> <span class=\"mi\">50</span><span class=\"o\">%</span><span class=\"cp\">]</span> <span class=\"nt\">Building</span> <span class=\"nt\">CXX</span> <span class=\"nt\">object</span> <span class=\"nt\">gazebo</span><span class=\"o\">/</span><span class=\"nt\">rendering</span><span class=\"o\">/</span><span class=\"nt\">selection_buffer</span><span class=\"o\">/</span><span class=\"nt\">CMakeFiles</span><span class=\"o\">/</span><span class=\"nt\">gazebo_selection_buffer</span><span class=\"p\">.</span><span class=\"nc\">dir</span><span class=\"o\">/</span><span class=\"nt\">MaterialSwitcher</span><span class=\"p\">.</span><span class=\"nc\">cc</span><span class=\"p\">.</span><span class=\"nc\">o</span>\n<span class=\"nt\">In</span> <span class=\"nt\">file</span> <span class=\"nt\">included</span> <span class=\"nt\">from</span> <span class=\"o\">/</span><span class=\"nt\">usr</span><span class=\"o\">/</span><span class=\"nt\">include</span><span class=\"o\">/</span><span class=\"nt\">OGRE</span><span class=\"o\">/</span><span class=\"nt\">OgreAnimable</span><span class=\"p\">.</span><span class=\"nc\">h</span><span class=\"p\">:</span><span class=\"nd\">37</span><span class=\"p\">:</span><span class=\"nd\">0</span><span class=\"o\">,</span>\n                 <span class=\"nt\">from</span> <span class=\"o\">/</span><span class=\"nt\">usr</span><span class=\"o\">/</span><span class=\"nt\">include</span><span class=\"o\">/</span><span class=\"nt\">OGRE</span><span class=\"o\">/</span><span class=\"nt\">OgreAnimation</span><span class=\"p\">.</span><span class=\"nc\">h</span><span class=\"p\">:</span><span class=\"nd\">35</span><span class=\"o\">,</span>\n                 <span class=\"nt\">from</span> <span class=\"o\">/</span><span class=\"nt\">usr</span><span class=\"o\">/</span><span class=\"nt\">include</span><span class=\"o\">/</span><span class=\"nt\">OGRE</span><span class=\"o\">/</span><span class=\"nt\">Ogre</span><span class=\"p\">.</span><span class=\"nc\">h</span><span class=\"p\">:</span><span class=\"nd\">33</span><span class=\"o\">,</span>\n                 <span class=\"nt\">from</span> <span class=\"o\">/</span><span class=\"nt\">home</span><span class=\"o\">/</span><span class=\"nt\">mquigley</span><span class=\"o\">/</span><span class=\"nt\">gazebo_source</span><span class=\"o\">/</span><span class=\"nt\">gazebo</span><span class=\"o\">/</span><span class=\"nt\">gazebo</span><span class=\"o\">/</span><span class=\"nt\">rendering</span><span class=\"o\">/</span><span class=\"nt\">ogre_gazebo</span><span class=\"p\">.</span><span class=\"nc\">h</span><span class=\"p\">:</span><span class=\"nd\">22</span><span class=\"o\">,</span>\n                 <span class=\"nt\">from</span> <span class=\"o\">/</span><span class=\"nt\">home</span><span class=\"o\">/</span><span class=\"nt\">mquigley</span><span class=\"o\">/</span><span class=\"nt\">gazebo_source</span><span class=\"o\">/</span><span class=\"nt\">gazebo</span><span class=\"o\">/</span><span class=\"nt\">gazebo</span><span class=\"o\">/</span><span class=\"nt\">rendering</span><span class=\"o\">/</span><span class=\"nt\">selection_buffer</span><span class=\"o\">/</span><span class=\"nt\">MaterialSwitcher</span><span class=\"p\">.</span><span class=\"nc\">hh</span><span class=\"p\">:</span><span class=\"nd\">23</span><span class=\"o\">,</span>\n                 <span class=\"nt\">from</span> <span class=\"o\">/</span><span class=\"nt\">home</span><span class=\"o\">/</span><span class=\"nt\">mquigley</span><span class=\"o\">/</span><span class=\"nt\">gazebo_source</span><span class=\"o\">/</span><span class=\"nt\">gazebo</span><span class=\"o\">/</span><span class=\"nt\">gazebo</span><span class=\"o\">/</span><span class=\"nt\">rendering</span><span class=\"o\">/</span><span class=\"nt\">selection_buffer</span><span class=\"o\">/</span><span class=\"nt\">MaterialSwitcher</span><span class=\"p\">.</span><span class=\"nc\">cc</span><span class=\"p\">:</span><span class=\"nd\">19</span><span class=\"o\">:</span>\n<span class=\"o\">/</span><span class=\"nt\">usr</span><span class=\"o\">/</span><span class=\"nt\">include</span><span class=\"o\">/</span><span class=\"nt\">OGRE</span><span class=\"o\">/</span><span class=\"nt\">OgreSharedPtr</span><span class=\"p\">.</span><span class=\"nc\">h</span><span class=\"o\">:</span> <span class=\"nt\">In</span> <span class=\"nt\">instantiation</span> <span class=\"nt\">of</span> <span class=\"err\">\u2018</span><span class=\"nt\">Ogre</span><span class=\"p\">::</span><span class=\"nd\">SharedPtr</span><span class=\"o\">&lt;</span><span class=\"nt\">T</span><span class=\"o\">&gt;</span><span class=\"p\">::</span><span class=\"nd\">SharedPtr</span><span class=\"o\">(</span><span class=\"nt\">const</span> <span class=\"nt\">Ogre</span><span class=\"p\">::</span><span class=\"nd\">SharedPtr</span><span class=\"o\">&lt;</span><span class=\"nt\">Y</span><span class=\"o\">&gt;&amp;)</span> <span class=\"cp\">[</span><span class=\"k\">with</span> <span class=\"n\">Y</span><span class=\"o\"> =</span> <span class=\"nx\">Ogre</span><span class=\"nl\">::Resource</span><span class=\"p\">;</span> <span class=\"n\">T</span><span class=\"o\"> =</span> <span class=\"nx\">Ogre</span><span class=\"nl\">::Material</span><span class=\"cp\">]</span><span class=\"err\">\u2019</span><span class=\"o\">:</span>\n<span class=\"o\">/</span><span class=\"nt\">home</span><span class=\"o\">/</span><span class=\"nt\">mquigley</span><span class=\"o\">/</span><span class=\"nt\">gazebo_source</span><span class=\"o\">/</span><span class=\"nt\">gazebo</span><span class=\"o\">/</span><span class=\"nt\">gazebo</span><span class=\"o\">/</span><span class=\"nt\">rendering</span><span class=\"o\">/</span><span class=\"nt\">selection_buffer</span><span class=\"o\">/</span><span class=\"nt\">MaterialSwitcher</span><span class=\"p\">.</span><span class=\"nc\">cc</span><span class=\"p\">:</span><span class=\"nd\">73</span><span class=\"p\">:</span><span class=\"nd\">47</span><span class=\"o\">:</span>   <span class=\"nt\">required</span> <span class=\"nt\">from</span> <span class=\"nt\">here</span>\n<span class=\"o\">/</span><span class=\"nt\">usr</span><span class=\"o\">/</span><span class=\"nt\">include</span><span class=\"o\">/</span><span class=\"nt\">OGRE</span><span class=\"o\">/</span><span class=\"nt\">OgreSharedPtr</span><span class=\"p\">.</span><span class=\"nc\">h</span><span class=\"p\">:</span><span class=\"nd\">202</span><span class=\"p\">:</span><span class=\"nd\">28</span><span class=\"o\">:</span> <span class=\"nt\">error</span><span class=\"o\">:</span> <span class=\"nt\">invalid</span> <span class=\"nt\">conversion</span> <span class=\"nt\">from</span> <span class=\"err\">\u2018</span><span class=\"nt\">Ogre</span><span class=\"p\">::</span><span class=\"nd\">Resource</span><span class=\"o\">*</span><span class=\"err\">\u2019</span> <span class=\"nt\">to</span> <span class=\"err\">\u2018</span><span class=\"nt\">Ogre</span><span class=\"p\">::</span><span class=\"nd\">Material</span><span class=\"o\">*</span><span class=\"err\">\u2019</span> <span class=\"cp\">[</span><span class=\"na\">-fpermissive</span><span class=\"cp\">]</span>\n             <span class=\"o\">,</span> <span class=\"nt\">pInfo</span><span class=\"o\">(</span><span class=\"nt\">r</span><span class=\"p\">.</span><span class=\"nc\">pInfo</span><span class=\"o\">)</span>\n                            <span class=\"o\">^</span>\n<span class=\"nt\">gazebo</span><span class=\"o\">/</span><span class=\"nt\">rendering</span><span class=\"o\">/</span><span class=\"nt\">selection_buffer</span><span class=\"o\">/</span><span class=\"nt\">CMakeFiles</span><span class=\"o\">/</span><span class=\"nt\">gazebo_selection_buffer</span><span class=\"p\">.</span><span class=\"nc\">dir</span><span class=\"o\">/</span><span class=\"nt\">build</span><span class=\"p\">.</span><span class=\"nc\">make</span><span class=\"p\">:</span><span class=\"nd\">57</span><span class=\"o\">:</span> <span class=\"nt\">recipe</span> <span class=\"nt\">for</span> <span class=\"nt\">target</span> <span class=\"s1\">&#39;gazebo/rendering/selection_buffer/CMakeFiles/gazebo_selection_buffer.dir/MaterialSwitcher.cc.o&#39;</span> <span class=\"nt\">failed</span>\n<span class=\"nt\">make</span><span class=\"cp\">[</span><span class=\"mi\">2</span><span class=\"cp\">]</span><span class=\"o\">:</span> <span class=\"o\">***</span> <span class=\"cp\">[</span><span class=\"nx\">gazebo</span><span class=\"p\">/</span><span class=\"nx\">rendering</span><span class=\"p\">/</span><span class=\"nx\">selection_buffer</span><span class=\"p\">/</span><span class=\"nx\">CMakeFiles</span><span class=\"p\">/</span><span class=\"nx\">gazebo_selection_buffer.dir</span><span class=\"p\">/</span><span class=\"nx\">MaterialSwitcher.cc.o</span><span class=\"cp\">]</span> <span class=\"nt\">Error</span> <span class=\"nt\">1</span>\n<span class=\"nt\">CMakeFiles</span><span class=\"o\">/</span><span class=\"nt\">Makefile2</span><span class=\"p\">:</span><span class=\"nd\">1079</span><span class=\"o\">:</span> <span class=\"nt\">recipe</span> <span class=\"nt\">for</span> <span class=\"nt\">target</span> <span class=\"s1\">&#39;gazebo/rendering/selection_buffer/CMakeFiles/gazebo_selection_buffer.dir/all&#39;</span> <span class=\"nt\">failed</span>\n<span class=\"nt\">make</span><span class=\"cp\">[</span><span class=\"mi\">1</span><span class=\"cp\">]</span><span class=\"o\">:</span> <span class=\"o\">***</span> <span class=\"cp\">[</span><span class=\"nx\">gazebo</span><span class=\"p\">/</span><span class=\"nx\">rendering</span><span class=\"p\">/</span><span class=\"nx\">selection_buffer</span><span class=\"p\">/</span><span class=\"nx\">CMakeFiles</span><span class=\"p\">/</span><span class=\"nx\">gazebo_selection_buffer.dir</span><span class=\"p\">/</span><span class=\"nb\">all</span><span class=\"cp\">]</span> <span class=\"nt\">Error</span> <span class=\"nt\">2</span>\n<span class=\"nt\">Makefile</span><span class=\"p\">:</span><span class=\"nd\">126</span><span class=\"o\">:</span> <span class=\"nt\">recipe</span> <span class=\"nt\">for</span> <span class=\"nt\">target</span> <span class=\"s1\">&#39;all&#39;</span> <span class=\"nt\">failed</span>\n<span class=\"nt\">make</span><span class=\"o\">:</span> <span class=\"o\">***</span> <span class=\"cp\">[</span><span class=\"kc\">all</span><span class=\"cp\">]</span> <span class=\"nt\">Error</span> <span class=\"nt\">2</span>\n</pre></div>", "type": "rendered"}, "assignee": null, "state": "closed", "version": {"name": "all", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/225575.json"}}}, "edited_on": null, "created_on": "2013-12-17T08:50:19.085632+00:00", "milestone": null, "updated_on": "2016-09-14T19:45:10.751153+00:00", "type": "issue", "id": 985}