{"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/1680/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/1680.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/1680/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/1680/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/1680/segmentation-fault-in-gzclient-with-camera"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/1680/vote"}}, "reporter": {"display_name": "Sean Kugele", "uuid": "{8469283d-267e-429f-adaf-8a2900005867}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B8469283d-267e-429f-adaf-8a2900005867%7D"}, "html": {"href": "https://bitbucket.org/%7B8469283d-267e-429f-adaf-8a2900005867%7D/"}, "avatar": {"href": "https://bitbucket.org/account/sean_kugele/avatar/"}}, "nickname": "sean_kugele", "type": "user", "account_id": null}, "title": "Segmentation fault in gzclient with camera visualization enabled", "component": {"name": "rendering", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122881.json"}}}, "votes": 0, "watches": 2, "content": {"raw": "I'm encountering a segmentation fault whenever I add a camera (or model that contains a camera) with **<visualize>1</visualize>** in the sdf.  \r\n\r\nI first encountered this adding the PR2 robot model to a default world.  More recently I was able to reproduce with a camera sensor added to a YouBot.  After playing with it a little I was able to determine that the segmentation fault did not occur if visualize=0.\r\n\r\nThe segmentation fault is generated when the gzclient is closed.\r\n\r\nMay be related to [Issue #1470](#!/osrf/gazebo/issues/1470/gzclient-segmentation-fault-on-exit-when-a).\r\n\r\n**Version:** Gazebo multi-robot simulator, version 5.1.0\r\n\r\n**OS:** Ubuntu 14.04\r\n\r\n        Program received signal SIGSEGV, Segmentation fault.\r\n        0x0000000000000000 in ?? ()\r\n        (gdb) bt\r\n        #0  0x0000000000000000 in ?? ()\r\n        #1  0x00007f0fa23a67f0 in gazebo::rendering::Camera::~Camera() ()\r\n           from /usr/lib/x86_64-linux-gnu/libgazebo_rendering.so.5\r\n        #2  0x00007f0fa23a6ae9 in gazebo::rendering::Camera::~Camera() ()\r\n           from /usr/lib/x86_64-linux-gnu/libgazebo_rendering.so.5\r\n        #3  0x00007f0fa239e1ee in ?? ()\r\n           from /usr/lib/x86_64-linux-gnu/libgazebo_rendering.so.5\r\n        #4  0x00007f0fa23bd686 in gazebo::rendering::CameraVisual::~CameraVisual() ()\r\n           from /usr/lib/x86_64-linux-gnu/libgazebo_rendering.so.5\r\n        #5  0x00007f0fa23bd6b9 in gazebo::rendering::CameraVisual::~CameraVisual() ()\r\n           from /usr/lib/x86_64-linux-gnu/libgazebo_rendering.so.5\r\n        #6  0x00007f0fa239e1ee in ?? ()\r\n           from /usr/lib/x86_64-linux-gnu/libgazebo_rendering.so.5\r\n        #7  0x00007f0fa24532ae in ?? ()\r\n           from /usr/lib/x86_64-linux-gnu/libgazebo_rendering.so.5\r\n        #8  0x00007f0fa377169f in gazebo::event::EventT<void ()>::~EventT() ()\r\n           from /usr/lib/x86_64-linux-gnu/libgazebo_gui.so.5\r\n        #9  0x00007f0fa2c1f5ea in __cxa_finalize (d=0x7f0fa2be1bc0)\r\n            at cxa_finalize.c:56\r\n        #10 0x00007f0fa296c163 in ?? ()\r\n           from /usr/lib/x86_64-linux-gnu/libgazebo_common.so.5\r\n        #11 0x00007ffd3981f2c0 in ?? ()\r\n        #12 0x00007f0fa3dc173a in _dl_fini () at dl-fini.c:252\r\n\r\n\r\n\r\n", "markup": "markdown", "html": "<p>I'm encountering a segmentation fault whenever I add a camera (or model that contains a camera) with <strong>&lt;visualize&gt;1&lt;/visualize&gt;</strong> in the sdf.  </p>\n<p>I first encountered this adding the PR2 robot model to a default world.  More recently I was able to reproduce with a camera sensor added to a YouBot.  After playing with it a little I was able to determine that the segmentation fault did not occur if visualize=0.</p>\n<p>The segmentation fault is generated when the gzclient is closed.</p>\n<p>May be related to <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/issues/1470/gzclient-segmentation-fault-on-exit-when-a\" rel=\"nofollow\">Issue #1470</a>.</p>\n<p><strong>Version:</strong> Gazebo multi-robot simulator, version 5.1.0</p>\n<p><strong>OS:</strong> Ubuntu 14.04</p>\n<div class=\"codehilite\"><pre><span></span>    Program received signal SIGSEGV, Segmentation fault.\n    0x0000000000000000 in ?? ()\n    (gdb) bt\n    #0  0x0000000000000000 in ?? ()\n    #1  0x00007f0fa23a67f0 in gazebo::rendering::Camera::~Camera() ()\n       from /usr/lib/x86_64-linux-gnu/libgazebo_rendering.so.5\n    #2  0x00007f0fa23a6ae9 in gazebo::rendering::Camera::~Camera() ()\n       from /usr/lib/x86_64-linux-gnu/libgazebo_rendering.so.5\n    #3  0x00007f0fa239e1ee in ?? ()\n       from /usr/lib/x86_64-linux-gnu/libgazebo_rendering.so.5\n    #4  0x00007f0fa23bd686 in gazebo::rendering::CameraVisual::~CameraVisual() ()\n       from /usr/lib/x86_64-linux-gnu/libgazebo_rendering.so.5\n    #5  0x00007f0fa23bd6b9 in gazebo::rendering::CameraVisual::~CameraVisual() ()\n       from /usr/lib/x86_64-linux-gnu/libgazebo_rendering.so.5\n    #6  0x00007f0fa239e1ee in ?? ()\n       from /usr/lib/x86_64-linux-gnu/libgazebo_rendering.so.5\n    #7  0x00007f0fa24532ae in ?? ()\n       from /usr/lib/x86_64-linux-gnu/libgazebo_rendering.so.5\n    #8  0x00007f0fa377169f in gazebo::event::EventT&lt;void ()&gt;::~EventT() ()\n       from /usr/lib/x86_64-linux-gnu/libgazebo_gui.so.5\n    #9  0x00007f0fa2c1f5ea in __cxa_finalize (d=0x7f0fa2be1bc0)\n        at cxa_finalize.c:56\n    #10 0x00007f0fa296c163 in ?? ()\n       from /usr/lib/x86_64-linux-gnu/libgazebo_common.so.5\n    #11 0x00007ffd3981f2c0 in ?? ()\n    #12 0x00007f0fa3dc173a in _dl_fini () at dl-fini.c:252\n</pre></div>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "all", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/225575.json"}}}, "edited_on": null, "created_on": "2015-07-27T02:29:53.904619+00:00", "milestone": null, "updated_on": "2016-09-14T19:23:47.279451+00:00", "type": "issue", "id": 1680}