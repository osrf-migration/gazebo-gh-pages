{"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2569/comments/49310400.json"}, "html": {"href": "#!/osrf/gazebo/issues/2569#comment-49310400"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/2569.json"}}, "type": "issue", "id": 2569, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "Support for self-describing messages"}, "content": {"raw": "Hello @nkoenig! Again, thanks for your feedback.\n\nThe specific use case is [sitl_gazebo](https://github.com/PX4/sitl_gazebo), which is a collection of plugins, models and messages for simulation of sensors, components, control and estimation of flying vehicles. What we are looking in specific is of a way of yes, having `gztopic -e <topic>` to echo the messages that are generated and consumed by the plugins in `sitl_gazebo`. The collection of custom messages is present [here](https://github.com/PX4/sitl_gazebo/tree/master/msgs).\nI have started by taking a look on what does the `Echo` command do in the [`gz_topic.cc`](#!/osrf/gazebo/src/820440c98cd2fa17480ff66e5306bf4183db68da/tools/gz_topic.cc?fileviewer=file-view-default#lines-208) and I found it depends on the type of the message that you set on the [`Publisher` class](#!/osrf/gazebo/src/820440c98cd2fa17480ff66e5306bf4183db68da/gazebo/transport/Publisher.cc?at=default&fileviewer=file-view-default#lines-42). My understanding is that when we create a publisher we also have to pass the type, so is it right to consider that for self-describing messages, the type should be set automatically if there's a positive check for self-describable message? Or am I completely out of what is supposed to be addressed and this is actually something substantially more simple? Any tips you can give?\n\nThanks in advance!", "markup": "markdown", "html": "<p>Hello @nkoenig! Again, thanks for your feedback.</p>\n<p>The specific use case is <a data-is-external-link=\"true\" href=\"https://github.com/PX4/sitl_gazebo\" rel=\"nofollow\">sitl_gazebo</a>, which is a collection of plugins, models and messages for simulation of sensors, components, control and estimation of flying vehicles. What we are looking in specific is of a way of yes, having <code>gztopic -e &lt;topic&gt;</code> to echo the messages that are generated and consumed by the plugins in <code>sitl_gazebo</code>. The collection of custom messages is present <a data-is-external-link=\"true\" href=\"https://github.com/PX4/sitl_gazebo/tree/master/msgs\" rel=\"nofollow\">here</a>.\nI have started by taking a look on what does the <code>Echo</code> command do in the <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/820440c98cd2fa17480ff66e5306bf4183db68da/tools/gz_topic.cc?fileviewer=file-view-default#lines-208\" rel=\"nofollow\"><code>gz_topic.cc</code></a> and I found it depends on the type of the message that you set on the <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/820440c98cd2fa17480ff66e5306bf4183db68da/gazebo/transport/Publisher.cc?at=default&amp;fileviewer=file-view-default#lines-42\" rel=\"nofollow\"><code>Publisher</code> class</a>. My understanding is that when we create a publisher we also have to pass the type, so is it right to consider that for self-describing messages, the type should be set automatically if there's a positive check for self-describable message? Or am I completely out of what is supposed to be addressed and this is actually something substantially more simple? Any tips you can give?</p>\n<p>Thanks in advance!</p>", "type": "rendered"}, "created_on": "2018-12-05T19:02:53.788755+00:00", "user": {"display_name": "Nuno Marques", "uuid": "{a7356a80-a26a-4ab7-af5b-494fe038a1c7}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Ba7356a80-a26a-4ab7-af5b-494fe038a1c7%7D"}, "html": {"href": "https://bitbucket.org/%7Ba7356a80-a26a-4ab7-af5b-494fe038a1c7%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2ae57099-6545-4ef4-8e48-3cd5f87b7f52/20fd74f9-d763-4f0e-b57f-c4570327e595/128"}}, "nickname": "TSC21", "type": "user", "account_id": "557058:2ae57099-6545-4ef4-8e48-3cd5f87b7f52"}, "updated_on": null, "type": "issue_comment", "id": 49310400}