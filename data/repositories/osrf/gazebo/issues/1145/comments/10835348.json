{"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1145/comments/10835348.json"}, "html": {"href": "#!/osrf/gazebo/issues/1145#comment-10835348"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1145.json"}}, "type": "issue", "id": 1145, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "custom main problems with time and loading plugins"}, "content": {"raw": "@traversaro To test ModelPlugins, I added the pioneer2dx model in hello.world:\n~~~\ndiff -r b991f26d5786 examples/plugins/hello_world/hello.world\n--- a/examples/plugins/hello_world/hello.world\tTue Jun 17 17:35:46 2014 -0700\n+++ b/examples/plugins/hello_world/hello.world\tFri Jun 20 09:31:41 2014 -0700\n@@ -1,6 +1,9 @@\n <?xml version=\"1.0\"?>\n <sdf version=\"1.4\">\n   <world name=\"default\">\n+    <include>\n+      <uri>model://pioneer2dx</uri>\n+    </include>\n     <plugin name=\"hello_world\" filename=\"libhello_world.so\"/>\n   </world>\n </sdf>\n~~~\nand then checked the list of gazebo topics for vel_cmd, which is created by the [DiffDrivePlugin](#!/osrf/gazebo/src/8b2d9259f8d0607f2cbeaf470e9349bbe4efa8c1/plugins/DiffDrivePlugin.cc?at=default#cl-42):\n~~~\n$ gz topic -l | grep vel_cmd\n/gazebo/default/pioneer2dx/vel_cmd\n~~~\n\nSo I was able to load a ModelPlugin successfully. I then tried adding the breakable_test model, which has SensorPlugins, and I did notice problems loading plugins. Perhaps it is specifically an issue with SensorPlugins.\n~~~\ndiff -r b991f26d5786 examples/plugins/hello_world/hello.world\n--- a/examples/plugins/hello_world/hello.world\tTue Jun 17 17:35:46 2014 -0700\n+++ b/examples/plugins/hello_world/hello.world\tFri Jun 20 09:44:00 2014 -0700\n@@ -1,6 +1,12 @@\n <?xml version=\"1.0\"?>\n <sdf version=\"1.4\">\n   <world name=\"default\">\n+    <include>\n+      <uri>model://breakable_test</uri>\n+    </include>\n+    <include>\n+      <uri>model://pioneer2dx</uri>\n+    </include>\n     <plugin name=\"hello_world\" filename=\"libhello_world.so\"/>\n   </world>\n </sdf>\n~~~\nI'll keep looking as I have time. I may split this into separate issues (real time and plugin loading).", "markup": "markdown", "html": "<p>@traversaro To test ModelPlugins, I added the pioneer2dx model in hello.world:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gh\">diff -r b991f26d5786 examples/plugins/hello_world/hello.world</span>\n<span class=\"gd\">--- a/examples/plugins/hello_world/hello.world  Tue Jun 17 17:35:46 2014 -0700</span>\n<span class=\"gi\">+++ b/examples/plugins/hello_world/hello.world  Fri Jun 20 09:31:41 2014 -0700</span>\n<span class=\"gu\">@@ -1,6 +1,9 @@</span>\n &lt;?xml version=&quot;1.0&quot;?&gt;\n &lt;sdf version=&quot;1.4&quot;&gt;\n   &lt;world name=&quot;default&quot;&gt;\n<span class=\"gi\">+    &lt;include&gt;</span>\n<span class=\"gi\">+      &lt;uri&gt;model://pioneer2dx&lt;/uri&gt;</span>\n<span class=\"gi\">+    &lt;/include&gt;</span>\n     &lt;plugin name=&quot;hello_world&quot; filename=&quot;libhello_world.so&quot;/&gt;\n   &lt;/world&gt;\n &lt;/sdf&gt;\n</pre></div>\n\n\n<p>and then checked the list of gazebo topics for vel_cmd, which is created by the <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/8b2d9259f8d0607f2cbeaf470e9349bbe4efa8c1/plugins/DiffDrivePlugin.cc?at=default#cl-42\" rel=\"nofollow\">DiffDrivePlugin</a>:</p>\n<div class=\"codehilite\"><pre><span></span>$ gz topic -l <span class=\"p\">|</span> grep vel_cmd\n/gazebo/default/pioneer2dx/vel_cmd\n</pre></div>\n\n\n<p>So I was able to load a ModelPlugin successfully. I then tried adding the breakable_test model, which has SensorPlugins, and I did notice problems loading plugins. Perhaps it is specifically an issue with SensorPlugins.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gh\">diff -r b991f26d5786 examples/plugins/hello_world/hello.world</span>\n<span class=\"gd\">--- a/examples/plugins/hello_world/hello.world  Tue Jun 17 17:35:46 2014 -0700</span>\n<span class=\"gi\">+++ b/examples/plugins/hello_world/hello.world  Fri Jun 20 09:44:00 2014 -0700</span>\n<span class=\"gu\">@@ -1,6 +1,12 @@</span>\n &lt;?xml version=&quot;1.0&quot;?&gt;\n &lt;sdf version=&quot;1.4&quot;&gt;\n   &lt;world name=&quot;default&quot;&gt;\n<span class=\"gi\">+    &lt;include&gt;</span>\n<span class=\"gi\">+      &lt;uri&gt;model://breakable_test&lt;/uri&gt;</span>\n<span class=\"gi\">+    &lt;/include&gt;</span>\n<span class=\"gi\">+    &lt;include&gt;</span>\n<span class=\"gi\">+      &lt;uri&gt;model://pioneer2dx&lt;/uri&gt;</span>\n<span class=\"gi\">+    &lt;/include&gt;</span>\n     &lt;plugin name=&quot;hello_world&quot; filename=&quot;libhello_world.so&quot;/&gt;\n   &lt;/world&gt;\n &lt;/sdf&gt;\n</pre></div>\n\n\n<p>I'll keep looking as I have time. I may split this into separate issues (real time and plugin loading).</p>", "type": "rendered"}, "created_on": "2014-06-20T16:46:19.125169+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 10835348}