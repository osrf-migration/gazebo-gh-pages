{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1145/comments/9476904.json"}, "html": {"href": "#!/osrf/gazebo/issues/1145#comment-9476904"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1145.json"}}, "type": "issue", "id": 1145, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "custom main problems with time and loading plugins"}, "content": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "created_on": "2014-04-03T17:35:55.522394+00:00", "user": {"display_name": "Andrew Hundt", "uuid": "{1e508588-c010-4693-87e5-4923df91390d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B1e508588-c010-4693-87e5-4923df91390d%7D"}, "html": {"href": "https://bitbucket.org/%7B1e508588-c010-4693-87e5-4923df91390d%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/fb975596131ce08ea7e7472f09b8209dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsAH-1.png"}}, "nickname": "ahundt", "type": "user", "account_id": "557058:f565cbf4-e097-4b3f-b4db-4889856f7417"}, "updated_on": null, "type": "issue_comment", "id": 9476904}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1145/comments/9476922.json"}, "html": {"href": "#!/osrf/gazebo/issues/1145#comment-9476922"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1145.json"}}, "type": "issue", "id": 1145, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "custom main problems with time and loading plugins"}, "content": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "created_on": "2014-04-03T17:37:05.767547+00:00", "user": {"display_name": "Andrew Hundt", "uuid": "{1e508588-c010-4693-87e5-4923df91390d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B1e508588-c010-4693-87e5-4923df91390d%7D"}, "html": {"href": "https://bitbucket.org/%7B1e508588-c010-4693-87e5-4923df91390d%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/fb975596131ce08ea7e7472f09b8209dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsAH-1.png"}}, "nickname": "ahundt", "type": "user", "account_id": "557058:f565cbf4-e097-4b3f-b4db-4889856f7417"}, "updated_on": null, "type": "issue_comment", "id": 9476922}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1145/comments/9476927.json"}, "html": {"href": "#!/osrf/gazebo/issues/1145#comment-9476927"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1145.json"}}, "type": "issue", "id": 1145, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "custom main problems with time and loading plugins"}, "content": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "created_on": "2014-04-03T17:37:22.422416+00:00", "user": {"display_name": "Andrew Hundt", "uuid": "{1e508588-c010-4693-87e5-4923df91390d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B1e508588-c010-4693-87e5-4923df91390d%7D"}, "html": {"href": "https://bitbucket.org/%7B1e508588-c010-4693-87e5-4923df91390d%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/fb975596131ce08ea7e7472f09b8209dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsAH-1.png"}}, "nickname": "ahundt", "type": "user", "account_id": "557058:f565cbf4-e097-4b3f-b4db-4889856f7417"}, "updated_on": null, "type": "issue_comment", "id": 9476927}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1145/comments/10793220.json"}, "html": {"href": "#!/osrf/gazebo/issues/1145#comment-10793220"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1145.json"}}, "type": "issue", "id": 1145, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "custom main problems with time and loading plugins"}, "content": {"raw": "I can confirm that also with Gazebo 3.0 on Ubuntu 14.04 (installed from deb packages) models spawned from the server created by `custom_main` do not load their plugins. ", "markup": "markdown", "html": "<p>I can confirm that also with Gazebo 3.0 on Ubuntu 14.04 (installed from deb packages) models spawned from the server created by <code>custom_main</code> do not load their plugins. </p>", "type": "rendered"}, "created_on": "2014-06-18T16:19:18.663742+00:00", "user": {"display_name": "Silvio Traversaro", "uuid": "{34f404cb-5642-4f27-a032-e04c7143d776}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D"}, "html": {"href": "https://bitbucket.org/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6/578caaa1-056c-45a2-8bf9-bee94c3bebef/128"}}, "nickname": "traversaro", "type": "user", "account_id": "557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6"}, "updated_on": "2014-06-20T08:12:54.750761+00:00", "type": "issue_comment", "id": 10793220}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1145/comments/10820511.json"}, "html": {"href": "#!/osrf/gazebo/issues/1145#comment-10820511"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1145.json"}}, "type": "issue", "id": 1145, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "custom main problems with time and loading plugins"}, "content": {"raw": "I'm glad you're able to confirm it, and a bit surprised none of the developers have commented on this yet. ", "markup": "markdown", "html": "<p>I'm glad you're able to confirm it, and a bit surprised none of the developers have commented on this yet. </p>", "type": "rendered"}, "created_on": "2014-06-19T23:50:44.822023+00:00", "user": {"display_name": "Andrew Hundt", "uuid": "{1e508588-c010-4693-87e5-4923df91390d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B1e508588-c010-4693-87e5-4923df91390d%7D"}, "html": {"href": "https://bitbucket.org/%7B1e508588-c010-4693-87e5-4923df91390d%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/fb975596131ce08ea7e7472f09b8209dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsAH-1.png"}}, "nickname": "ahundt", "type": "user", "account_id": "557058:f565cbf4-e097-4b3f-b4db-4889856f7417"}, "updated_on": null, "type": "issue_comment", "id": 10820511}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1145/comments/10820534.json"}, "html": {"href": "#!/osrf/gazebo/issues/1145#comment-10820534"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1145.json"}}, "type": "issue", "id": 1145, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "custom main problems with time and loading plugins"}, "content": {"raw": "I didn't comment on it immediately, though I have been looking at it.", "markup": "markdown", "html": "<p>I didn't comment on it immediately, though I have been looking at it.</p>", "type": "rendered"}, "created_on": "2014-06-19T23:54:03.533836+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 10820534}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1145/comments/10820541.json"}, "html": {"href": "#!/osrf/gazebo/issues/1145#comment-10820541"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1145.json"}}, "type": "issue", "id": 1145, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "custom main problems with time and loading plugins"}, "content": {"raw": "Cool, were you able to reproduce it as well?", "markup": "markdown", "html": "<p>Cool, were you able to reproduce it as well?</p>", "type": "rendered"}, "created_on": "2014-06-19T23:55:36.135358+00:00", "user": {"display_name": "Andrew Hundt", "uuid": "{1e508588-c010-4693-87e5-4923df91390d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B1e508588-c010-4693-87e5-4923df91390d%7D"}, "html": {"href": "https://bitbucket.org/%7B1e508588-c010-4693-87e5-4923df91390d%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/fb975596131ce08ea7e7472f09b8209dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsAH-1.png"}}, "nickname": "ahundt", "type": "user", "account_id": "557058:f565cbf4-e097-4b3f-b4db-4889856f7417"}, "updated_on": null, "type": "issue_comment", "id": 10820541}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1145/comments/10820550.json"}, "html": {"href": "#!/osrf/gazebo/issues/1145#comment-10820550"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1145.json"}}, "type": "issue", "id": 1145, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "custom main problems with time and loading plugins"}, "content": {"raw": "I can confirm that the real time is not updating properly, and the iterations field does not display a cumulative total, but rather a count down for each instance of `gazebo::runWorld`.\n\nI'm still trying to confirm that plugins aren't loading. Be sure to note that the gazebo console streams (`gzerr`, `gzwarn`, `gzdbg`) will not go to the console unless the following line is added to the custom main program:\n~~~\ngazebo::common::Console::SetQuiet(false);\n~~~", "markup": "markdown", "html": "<p>I can confirm that the real time is not updating properly, and the iterations field does not display a cumulative total, but rather a count down for each instance of <code>gazebo::runWorld</code>.</p>\n<p>I'm still trying to confirm that plugins aren't loading. Be sure to note that the gazebo console streams (<code>gzerr</code>, <code>gzwarn</code>, <code>gzdbg</code>) will not go to the console unless the following line is added to the custom main program:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">gazebo</span><span class=\"p\">::</span><span class=\"nd\">common</span><span class=\"p\">::</span><span class=\"nd\">Console</span><span class=\"p\">::</span><span class=\"nd\">SetQuiet</span><span class=\"o\">(</span><span class=\"nt\">false</span><span class=\"o\">);</span>\n</pre></div>", "type": "rendered"}, "created_on": "2014-06-19T23:57:38.324216+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 10820550}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1145/comments/10820623.json"}, "html": {"href": "#!/osrf/gazebo/issues/1145#comment-10820623"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1145.json"}}, "type": "issue", "id": 1145, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "custom main problems with time and loading plugins"}, "content": {"raw": "I am able to load a world with a WorldPlugin in my own testing. I built the [hello_world example](http://gazebosim.org/tutorials/?tut=plugins_hello_world), added its build folder to my `GAZEBO_PLUGIN_PATH`,\nand modified custom_main as follows:\n~~~\ndiff -r b991f26d5786 examples/stand_alone/custom_main/custom_main.cc\n--- a/examples/stand_alone/custom_main/custom_main.cc\tTue Jun 17 17:35:46 2014 -0700\n+++ b/examples/stand_alone/custom_main/custom_main.cc\tThu Jun 19 17:06:53 2014 -0700\n@@ -25,15 +25,25 @@\n\u00a0 \u00a0// Initialize gazebo.\n\u00a0 \u00a0gazebo::setupServer(_argc, _argv);\n\u00a0\n+ \u00a0gazebo::common::Console::SetQuiet(false);\n+\n\u00a0 \u00a0// Load a world\n- \u00a0gazebo::physics::WorldPtr world = gazebo::loadWorld(\"worlds/empty.world\");\n+ \u00a0gazebo::physics::WorldPtr world = gazebo::loadWorld(\"../../../hello_world/hello.world\");\n\u00a0\n\u00a0 \u00a0// This is your custom main loop. In this example the main loop is just a\n\u00a0 \u00a0// for loop with 2 iterations.\n- \u00a0for (unsigned int i = 0; i < 2; ++i)\n+ \u00a0for (unsigned int i = 0; i < 2000; ++i)\n\u00a0 \u00a0{\n\u00a0 \u00a0 \u00a0// Run simulation for 100 steps.\n+ \u00a0 \u00a0gzerr << \"world \" << i\n+ \u00a0 \u00a0 \u00a0 \u00a0 \u00a0<< \" sim \" << world->GetSimTime()\n+ \u00a0 \u00a0 \u00a0 \u00a0 \u00a0<< \" real \" << world->GetRealTime()\n+ \u00a0 \u00a0 \u00a0 \u00a0 \u00a0<< std::endl;\n\u00a0 \u00a0 \u00a0gazebo::runWorld(world, 100);\n+ \u00a0 \u00a0gzerr << \"world \" << i\n+ \u00a0 \u00a0 \u00a0 \u00a0 \u00a0<< \" sim \" << world->GetSimTime()\n+ \u00a0 \u00a0 \u00a0 \u00a0 \u00a0<< \" real \" << world->GetRealTime()\n+ \u00a0 \u00a0 \u00a0 \u00a0 \u00a0<< std::endl;\n\u00a0 \u00a0}\n\u00a0\n\u00a0 \u00a0// Close everything.\n~~~", "markup": "markdown", "html": "<p>I am able to load a world with a WorldPlugin in my own testing. I built the <a data-is-external-link=\"true\" href=\"http://gazebosim.org/tutorials/?tut=plugins_hello_world\" rel=\"nofollow\">hello_world example</a>, added its build folder to my <code>GAZEBO_PLUGIN_PATH</code>,\nand modified custom_main as follows:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gh\">diff -r b991f26d5786 examples/stand_alone/custom_main/custom_main.cc</span>\n<span class=\"gd\">--- a/examples/stand_alone/custom_main/custom_main.cc   Tue Jun 17 17:35:46 2014 -0700</span>\n<span class=\"gi\">+++ b/examples/stand_alone/custom_main/custom_main.cc   Thu Jun 19 17:06:53 2014 -0700</span>\n<span class=\"gu\">@@ -25,15 +25,25 @@</span>\n\u00a0 \u00a0// Initialize gazebo.\n\u00a0 \u00a0gazebo::setupServer(_argc, _argv);\n\u00a0\n<span class=\"gi\">+ \u00a0gazebo::common::Console::SetQuiet(false);</span>\n<span class=\"gi\">+</span>\n\u00a0 \u00a0// Load a world\n<span class=\"gd\">- \u00a0gazebo::physics::WorldPtr world = gazebo::loadWorld(&quot;worlds/empty.world&quot;);</span>\n<span class=\"gi\">+ \u00a0gazebo::physics::WorldPtr world = gazebo::loadWorld(&quot;../../../hello_world/hello.world&quot;);</span>\n\u00a0\n\u00a0 \u00a0// This is your custom main loop. In this example the main loop is just a\n\u00a0 \u00a0// for loop with 2 iterations.\n<span class=\"gd\">- \u00a0for (unsigned int i = 0; i &lt; 2; ++i)</span>\n<span class=\"gi\">+ \u00a0for (unsigned int i = 0; i &lt; 2000; ++i)</span>\n\u00a0 \u00a0{\n\u00a0 \u00a0 \u00a0// Run simulation for 100 steps.\n<span class=\"gi\">+ \u00a0 \u00a0gzerr &lt;&lt; &quot;world &quot; &lt;&lt; i</span>\n<span class=\"gi\">+ \u00a0 \u00a0 \u00a0 \u00a0 \u00a0&lt;&lt; &quot; sim &quot; &lt;&lt; world-&gt;GetSimTime()</span>\n<span class=\"gi\">+ \u00a0 \u00a0 \u00a0 \u00a0 \u00a0&lt;&lt; &quot; real &quot; &lt;&lt; world-&gt;GetRealTime()</span>\n<span class=\"gi\">+ \u00a0 \u00a0 \u00a0 \u00a0 \u00a0&lt;&lt; std::endl;</span>\n\u00a0 \u00a0 \u00a0gazebo::runWorld(world, 100);\n<span class=\"gi\">+ \u00a0 \u00a0gzerr &lt;&lt; &quot;world &quot; &lt;&lt; i</span>\n<span class=\"gi\">+ \u00a0 \u00a0 \u00a0 \u00a0 \u00a0&lt;&lt; &quot; sim &quot; &lt;&lt; world-&gt;GetSimTime()</span>\n<span class=\"gi\">+ \u00a0 \u00a0 \u00a0 \u00a0 \u00a0&lt;&lt; &quot; real &quot; &lt;&lt; world-&gt;GetRealTime()</span>\n<span class=\"gi\">+ \u00a0 \u00a0 \u00a0 \u00a0 \u00a0&lt;&lt; std::endl;</span>\n\u00a0 \u00a0}\n\u00a0\n\u00a0 \u00a0// Close everything.\n</pre></div>", "type": "rendered"}, "created_on": "2014-06-20T00:08:07.478587+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2014-06-20T00:09:57.991213+00:00", "type": "issue_comment", "id": 10820623}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1145/comments/10821971.json"}, "html": {"href": "#!/osrf/gazebo/issues/1145#comment-10821971"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1145.json"}}, "type": "issue", "id": 1145, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "custom main problems with time and loading plugins"}, "content": {"raw": "Ah I see, thanks! Perhaps the tutorials should be modified with those diffs you posted? I never came across the SetQuiet flag on my own.\n\nIterations counting down is definitely different from the behavior I was imagining. Do you know the reasoning for the way it currently works vs simply counting up the number of total time steps?\n", "markup": "markdown", "html": "<p>Ah I see, thanks! Perhaps the tutorials should be modified with those diffs you posted? I never came across the SetQuiet flag on my own.</p>\n<p>Iterations counting down is definitely different from the behavior I was imagining. Do you know the reasoning for the way it currently works vs simply counting up the number of total time steps?</p>", "type": "rendered"}, "created_on": "2014-06-20T03:12:39.774662+00:00", "user": {"display_name": "Andrew Hundt", "uuid": "{1e508588-c010-4693-87e5-4923df91390d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B1e508588-c010-4693-87e5-4923df91390d%7D"}, "html": {"href": "https://bitbucket.org/%7B1e508588-c010-4693-87e5-4923df91390d%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/fb975596131ce08ea7e7472f09b8209dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsAH-1.png"}}, "nickname": "ahundt", "type": "user", "account_id": "557058:f565cbf4-e097-4b3f-b4db-4889856f7417"}, "updated_on": "2014-06-20T03:13:07.307324+00:00", "type": "issue_comment", "id": 10821971}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1145/comments/10825313.json"}, "html": {"href": "#!/osrf/gazebo/issues/1145#comment-10825313"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1145.json"}}, "type": "issue", "id": 1145, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "custom main problems with time and loading plugins"}, "content": {"raw": "Just for completeness: I had a problem in loading Model and Sensor plugins, I did not tried with World plugins. ", "markup": "markdown", "html": "<p>Just for completeness: I had a problem in loading Model and Sensor plugins, I did not tried with World plugins. </p>", "type": "rendered"}, "created_on": "2014-06-20T08:20:03.271544+00:00", "user": {"display_name": "Silvio Traversaro", "uuid": "{34f404cb-5642-4f27-a032-e04c7143d776}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D"}, "html": {"href": "https://bitbucket.org/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6/578caaa1-056c-45a2-8bf9-bee94c3bebef/128"}}, "nickname": "traversaro", "type": "user", "account_id": "557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6"}, "updated_on": null, "type": "issue_comment", "id": 10825313}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1145/comments/10835348.json"}, "html": {"href": "#!/osrf/gazebo/issues/1145#comment-10835348"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1145.json"}}, "type": "issue", "id": 1145, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "custom main problems with time and loading plugins"}, "content": {"raw": "@traversaro To test ModelPlugins, I added the pioneer2dx model in hello.world:\n~~~\ndiff -r b991f26d5786 examples/plugins/hello_world/hello.world\n--- a/examples/plugins/hello_world/hello.world\tTue Jun 17 17:35:46 2014 -0700\n+++ b/examples/plugins/hello_world/hello.world\tFri Jun 20 09:31:41 2014 -0700\n@@ -1,6 +1,9 @@\n <?xml version=\"1.0\"?>\n <sdf version=\"1.4\">\n   <world name=\"default\">\n+    <include>\n+      <uri>model://pioneer2dx</uri>\n+    </include>\n     <plugin name=\"hello_world\" filename=\"libhello_world.so\"/>\n   </world>\n </sdf>\n~~~\nand then checked the list of gazebo topics for vel_cmd, which is created by the [DiffDrivePlugin](#!/osrf/gazebo/src/8b2d9259f8d0607f2cbeaf470e9349bbe4efa8c1/plugins/DiffDrivePlugin.cc?at=default#cl-42):\n~~~\n$ gz topic -l | grep vel_cmd\n/gazebo/default/pioneer2dx/vel_cmd\n~~~\n\nSo I was able to load a ModelPlugin successfully. I then tried adding the breakable_test model, which has SensorPlugins, and I did notice problems loading plugins. Perhaps it is specifically an issue with SensorPlugins.\n~~~\ndiff -r b991f26d5786 examples/plugins/hello_world/hello.world\n--- a/examples/plugins/hello_world/hello.world\tTue Jun 17 17:35:46 2014 -0700\n+++ b/examples/plugins/hello_world/hello.world\tFri Jun 20 09:44:00 2014 -0700\n@@ -1,6 +1,12 @@\n <?xml version=\"1.0\"?>\n <sdf version=\"1.4\">\n   <world name=\"default\">\n+    <include>\n+      <uri>model://breakable_test</uri>\n+    </include>\n+    <include>\n+      <uri>model://pioneer2dx</uri>\n+    </include>\n     <plugin name=\"hello_world\" filename=\"libhello_world.so\"/>\n   </world>\n </sdf>\n~~~\nI'll keep looking as I have time. I may split this into separate issues (real time and plugin loading).", "markup": "markdown", "html": "<p>@traversaro To test ModelPlugins, I added the pioneer2dx model in hello.world:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gh\">diff -r b991f26d5786 examples/plugins/hello_world/hello.world</span>\n<span class=\"gd\">--- a/examples/plugins/hello_world/hello.world  Tue Jun 17 17:35:46 2014 -0700</span>\n<span class=\"gi\">+++ b/examples/plugins/hello_world/hello.world  Fri Jun 20 09:31:41 2014 -0700</span>\n<span class=\"gu\">@@ -1,6 +1,9 @@</span>\n &lt;?xml version=&quot;1.0&quot;?&gt;\n &lt;sdf version=&quot;1.4&quot;&gt;\n   &lt;world name=&quot;default&quot;&gt;\n<span class=\"gi\">+    &lt;include&gt;</span>\n<span class=\"gi\">+      &lt;uri&gt;model://pioneer2dx&lt;/uri&gt;</span>\n<span class=\"gi\">+    &lt;/include&gt;</span>\n     &lt;plugin name=&quot;hello_world&quot; filename=&quot;libhello_world.so&quot;/&gt;\n   &lt;/world&gt;\n &lt;/sdf&gt;\n</pre></div>\n\n\n<p>and then checked the list of gazebo topics for vel_cmd, which is created by the <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/8b2d9259f8d0607f2cbeaf470e9349bbe4efa8c1/plugins/DiffDrivePlugin.cc?at=default#cl-42\" rel=\"nofollow\">DiffDrivePlugin</a>:</p>\n<div class=\"codehilite\"><pre><span></span>$ gz topic -l <span class=\"p\">|</span> grep vel_cmd\n/gazebo/default/pioneer2dx/vel_cmd\n</pre></div>\n\n\n<p>So I was able to load a ModelPlugin successfully. I then tried adding the breakable_test model, which has SensorPlugins, and I did notice problems loading plugins. Perhaps it is specifically an issue with SensorPlugins.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gh\">diff -r b991f26d5786 examples/plugins/hello_world/hello.world</span>\n<span class=\"gd\">--- a/examples/plugins/hello_world/hello.world  Tue Jun 17 17:35:46 2014 -0700</span>\n<span class=\"gi\">+++ b/examples/plugins/hello_world/hello.world  Fri Jun 20 09:44:00 2014 -0700</span>\n<span class=\"gu\">@@ -1,6 +1,12 @@</span>\n &lt;?xml version=&quot;1.0&quot;?&gt;\n &lt;sdf version=&quot;1.4&quot;&gt;\n   &lt;world name=&quot;default&quot;&gt;\n<span class=\"gi\">+    &lt;include&gt;</span>\n<span class=\"gi\">+      &lt;uri&gt;model://breakable_test&lt;/uri&gt;</span>\n<span class=\"gi\">+    &lt;/include&gt;</span>\n<span class=\"gi\">+    &lt;include&gt;</span>\n<span class=\"gi\">+      &lt;uri&gt;model://pioneer2dx&lt;/uri&gt;</span>\n<span class=\"gi\">+    &lt;/include&gt;</span>\n     &lt;plugin name=&quot;hello_world&quot; filename=&quot;libhello_world.so&quot;/&gt;\n   &lt;/world&gt;\n &lt;/sdf&gt;\n</pre></div>\n\n\n<p>I'll keep looking as I have time. I may split this into separate issues (real time and plugin loading).</p>", "type": "rendered"}, "created_on": "2014-06-20T16:46:19.125169+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 10835348}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1145/comments/10847207.json"}, "html": {"href": "#!/osrf/gazebo/issues/1145#comment-10847207"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1145.json"}}, "type": "issue", "id": 1145, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "custom main problems with time and loading plugins"}, "content": {"raw": "@scpeters same for me. Using the server spawned by  `gazebo::setupServer(_argc, _argv)` I am able to load the model plugin in `pioneer2dx`. But if I try to load a model that have a sensor in it, I get this error messages:\n```\n[Err] [Model.cc:685] Sensors failed to initialize when loading model[iCub] via the factory mechanism.Plugins for the model will not be loaded.\n[Err] [Model.cc:685] Sensors failed to initialize when loading model[COMAN] via the factory mechanism.Plugins for the model will not be loaded.\n```\n\n\nInspecting the source code, this happens because \n```\nsensors::SensorManager::Instance()->SensorsInitialized()\n``` \nreturns false for 50 iterations. \n\n\nI guess that this happens because in `custom_main.cpp` we just call\n```gazebo::runWorld(world, 100)``` for running the simulation.\n\nBy inspecting the [`Run()` method of the \"real\" server](#!/osrf/gazebo/src/8b2d9259f8d0607f2cbeaf470e9349bbe4efa8c1/gazebo/Server.cc?at=default#cl-430) it appears that several other methods of the `SensorManager` should be called for properly simulating sensors, for example:\n\n * [`sensors::SensorManager::Instance()->RunThreads()` through `sensors::run_threads()`](#!/osrf/gazebo/src/8b2d9259f8d0607f2cbeaf470e9349bbe4efa8c1/gazebo/Server.cc?at=default#cl-447)\n * [`sensors::SensorManager::Instance()->Update()` through  `sensors::run_once()`](#!/osrf/gazebo/src/8b2d9259f8d0607f2cbeaf470e9349bbe4efa8c1/gazebo/Server.cc?at=default#cl-474)", "markup": "markdown", "html": "<p>@scpeters same for me. Using the server spawned by  <code>gazebo::setupServer(_argc, _argv)</code> I am able to load the model plugin in <code>pioneer2dx</code>. But if I try to load a model that have a sensor in it, I get this error messages:</p>\n<div class=\"codehilite\"><pre><span></span>[Err] [Model.cc:685] Sensors failed to initialize when loading model[iCub] via the factory mechanism.Plugins for the model will not be loaded.\n[Err] [Model.cc:685] Sensors failed to initialize when loading model[COMAN] via the factory mechanism.Plugins for the model will not be loaded.\n</pre></div>\n\n\n<p>Inspecting the source code, this happens because </p>\n<div class=\"codehilite\"><pre><span></span>sensors::SensorManager::Instance()-&gt;SensorsInitialized()\n</pre></div>\n\n\n<p>returns false for 50 iterations. </p>\n<p>I guess that this happens because in <code>custom_main.cpp</code> we just call\n<code>gazebo::runWorld(world, 100)</code> for running the simulation.</p>\n<p>By inspecting the <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/8b2d9259f8d0607f2cbeaf470e9349bbe4efa8c1/gazebo/Server.cc?at=default#cl-430\" rel=\"nofollow\"><code>Run()</code> method of the \"real\" server</a> it appears that several other methods of the <code>SensorManager</code> should be called for properly simulating sensors, for example:</p>\n<ul>\n<li><a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/8b2d9259f8d0607f2cbeaf470e9349bbe4efa8c1/gazebo/Server.cc?at=default#cl-447\" rel=\"nofollow\"><code>sensors::SensorManager::Instance()-&gt;RunThreads()</code> through <code>sensors::run_threads()</code></a></li>\n<li><a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/8b2d9259f8d0607f2cbeaf470e9349bbe4efa8c1/gazebo/Server.cc?at=default#cl-474\" rel=\"nofollow\"><code>sensors::SensorManager::Instance()-&gt;Update()</code> through  <code>sensors::run_once()</code></a></li>\n</ul>", "type": "rendered"}, "created_on": "2014-06-21T18:31:48.563831+00:00", "user": {"display_name": "Silvio Traversaro", "uuid": "{34f404cb-5642-4f27-a032-e04c7143d776}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D"}, "html": {"href": "https://bitbucket.org/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6/578caaa1-056c-45a2-8bf9-bee94c3bebef/128"}}, "nickname": "traversaro", "type": "user", "account_id": "557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6"}, "updated_on": null, "type": "issue_comment", "id": 10847207}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1145/comments/10900759.json"}, "html": {"href": "#!/osrf/gazebo/issues/1145#comment-10900759"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1145.json"}}, "type": "issue", "id": 1145, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "custom main problems with time and loading plugins"}, "content": {"raw": "I moved the GetRealTime issue into #1216.", "markup": "markdown", "html": "<p>I moved the GetRealTime issue into <a href=\"#!/osrf/gazebo/issues/1216/getrealtime-resets-with-each-call-to\" rel=\"nofollow\" title=\"GetRealTime resets with each call to gazebo::runWorld\" class=\"ap-connect-link\">#1216</a>.</p>", "type": "rendered"}, "created_on": "2014-06-24T23:51:24.837306+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 10900759}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1145/comments/10900774.json"}, "html": {"href": "#!/osrf/gazebo/issues/1145#comment-10900774"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1145.json"}}, "type": "issue", "id": 1145, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "custom main problems with time and loading plugins"}, "content": {"raw": "@nkoenig Does anything need to be added to the custom_main example to enable sensors?", "markup": "markdown", "html": "<p>@nkoenig Does anything need to be added to the custom_main example to enable sensors?</p>", "type": "rendered"}, "created_on": "2014-06-24T23:52:45.418505+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 10900774}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1145/comments/28101396.json"}, "html": {"href": "#!/osrf/gazebo/issues/1145#comment-28101396"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1145.json"}}, "type": "issue", "id": 1145, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "custom main problems with time and loading plugins"}, "content": {"raw": "Are there any news about the sensors not loaded using custom main ? \n\nI tried this http://answers.gazebosim.org/question/9491/how-to-bring-up-sensors-in-a-stand-alone-gazebo/ but I get a crash while trying to load a camera sensor via spawn_model : \n\n\n```\n\n#0  0x00007fffc6e44e29 in glGenBuffersARB () from /usr/lib/nvidia-352-updates/libGL.so.1\n#1  0x00007fff94f4c510 in Ogre::GLHardwareVertexBuffer::GLHardwareVertexBuffer(Ogre::HardwareBufferManagerBase*, unsigned long, unsigned long, Ogre::HardwareBuffer::Usage, bool) ()\n   from /usr/lib/x86_64-linux-gnu/OGRE-1.8.0/RenderSystem_GL.so\n#2  0x00007fff94f4752f in Ogre::GLHardwareBufferManagerBase::createVertexBuffer(unsigned long, unsigned long, Ogre::HardwareBuffer::Usage, bool) () from /usr/lib/x86_64-linux-gnu/OGRE-1.8.0/RenderSystem_GL.so\n#3  0x00007fff94f56ce5 in ?? () from /usr/lib/x86_64-linux-gnu/OGRE-1.8.0/RenderSystem_GL.so\n#4  0x00007fffd1e006d5 in SkyX::MeshManager::_createGeometry() () from /usr/lib/x86_64-linux-gnu/libgazebo_rendering.so.7\n#5  0x00007fffd1e00fe1 in SkyX::MeshManager::create() () from /usr/lib/x86_64-linux-gnu/libgazebo_rendering.so.7\n#6  0x00007fffd1e02ff7 in SkyX::SkyX::create() () from /usr/lib/x86_64-linux-gnu/libgazebo_rendering.so.7\n#7  0x00007fffd1d955d6 in gazebo::rendering::Scene::SetSky() () from /usr/lib/x86_64-linux-gnu/libgazebo_rendering.so.7\n#8  0x00007fffd1da1b10 in gazebo::rendering::Scene::Init() () from /usr/lib/x86_64-linux-gnu/libgazebo_rendering.so.7\n#9  0x00007fffd1d85308 in gazebo::rendering::RenderEngine::CreateScene(std::string const&, bool, bool) () from /usr/lib/x86_64-linux-gnu/libgazebo_rendering.so.7\n#10 0x00007fffd1d8b8c3 in gazebo::rendering::create_scene(std::string const&, bool, bool) () from /usr/lib/x86_64-linux-gnu/libgazebo_rendering.so.7\n#11 0x00007fffd823b4ea in gazebo::sensors::CameraSensor::Init() () from /usr/lib/x86_64-linux-gnu/libgazebo_sensors.so.7\n#12 0x00007fffd8274200 in gazebo::sensors::SensorManager::Update(bool) () from /usr/lib/x86_64-linux-gnu/libgazebo_sensors.so.7\n\n```\n", "markup": "markdown", "html": "<p>Are there any news about the sensors not loaded using custom main ? </p>\n<p>I tried this <a href=\"http://answers.gazebosim.org/question/9491/how-to-bring-up-sensors-in-a-stand-alone-gazebo/\" rel=\"nofollow\" class=\"ap-connect-link\">http://answers.gazebosim.org/question/9491/how-to-bring-up-sensors-in-a-stand-alone-gazebo/</a> but I get a crash while trying to load a camera sensor via spawn_model : </p>\n<div class=\"codehilite\"><pre><span></span>#0  0x00007fffc6e44e29 in glGenBuffersARB () from /usr/lib/nvidia-352-updates/libGL.so.1\n#1  0x00007fff94f4c510 in Ogre::GLHardwareVertexBuffer::GLHardwareVertexBuffer(Ogre::HardwareBufferManagerBase*, unsigned long, unsigned long, Ogre::HardwareBuffer::Usage, bool) ()\n   from /usr/lib/x86_64-linux-gnu/OGRE-1.8.0/RenderSystem_GL.so\n#2  0x00007fff94f4752f in Ogre::GLHardwareBufferManagerBase::createVertexBuffer(unsigned long, unsigned long, Ogre::HardwareBuffer::Usage, bool) () from /usr/lib/x86_64-linux-gnu/OGRE-1.8.0/RenderSystem_GL.so\n#3  0x00007fff94f56ce5 in ?? () from /usr/lib/x86_64-linux-gnu/OGRE-1.8.0/RenderSystem_GL.so\n#4  0x00007fffd1e006d5 in SkyX::MeshManager::_createGeometry() () from /usr/lib/x86_64-linux-gnu/libgazebo_rendering.so.7\n#5  0x00007fffd1e00fe1 in SkyX::MeshManager::create() () from /usr/lib/x86_64-linux-gnu/libgazebo_rendering.so.7\n#6  0x00007fffd1e02ff7 in SkyX::SkyX::create() () from /usr/lib/x86_64-linux-gnu/libgazebo_rendering.so.7\n#7  0x00007fffd1d955d6 in gazebo::rendering::Scene::SetSky() () from /usr/lib/x86_64-linux-gnu/libgazebo_rendering.so.7\n#8  0x00007fffd1da1b10 in gazebo::rendering::Scene::Init() () from /usr/lib/x86_64-linux-gnu/libgazebo_rendering.so.7\n#9  0x00007fffd1d85308 in gazebo::rendering::RenderEngine::CreateScene(std::string const&amp;, bool, bool) () from /usr/lib/x86_64-linux-gnu/libgazebo_rendering.so.7\n#10 0x00007fffd1d8b8c3 in gazebo::rendering::create_scene(std::string const&amp;, bool, bool) () from /usr/lib/x86_64-linux-gnu/libgazebo_rendering.so.7\n#11 0x00007fffd823b4ea in gazebo::sensors::CameraSensor::Init() () from /usr/lib/x86_64-linux-gnu/libgazebo_sensors.so.7\n#12 0x00007fffd8274200 in gazebo::sensors::SensorManager::Update(bool) () from /usr/lib/x86_64-linux-gnu/libgazebo_sensors.so.7\n</pre></div>", "type": "rendered"}, "created_on": "2016-05-27T15:35:11.745146+00:00", "user": {"display_name": "Antoine Hoarau", "uuid": "{eb335ef7-9e02-42a9-be5b-34a7eb3c813f}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beb335ef7-9e02-42a9-be5b-34a7eb3c813f%7D"}, "html": {"href": "https://bitbucket.org/%7Beb335ef7-9e02-42a9-be5b-34a7eb3c813f%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/initials/AH-1.png"}}, "nickname": "ahoarau", "type": "user", "account_id": "557058:267fd127-01c4-405e-a496-d9eb43a340c1"}, "updated_on": "2016-05-27T15:41:40.140722+00:00", "type": "issue_comment", "id": 28101396}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1145/comments/41857985.json"}, "html": {"href": "#!/osrf/gazebo/issues/1145#comment-41857985"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1145.json"}}, "type": "issue", "id": 1145, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "custom main problems with time and loading plugins"}, "content": {"raw": "Hi, do you have any news about this issue ?\n\nI'm trying to load plugins in a custom main too, i think @traversaro know theses plugins, it's gazebo_yarp_controlboard for icub.\nAnd it seems it's not working, so maybe you solved it ?\n\nBest regards,", "markup": "markdown", "html": "<p>Hi, do you have any news about this issue ?</p>\n<p>I'm trying to load plugins in a custom main too, i think @traversaro know theses plugins, it's gazebo_yarp_controlboard for icub.\nAnd it seems it's not working, so maybe you solved it ?</p>\n<p>Best regards,</p>", "type": "rendered"}, "created_on": "2017-12-12T15:48:47.834107+00:00", "user": {"display_name": "Brice Clement", "uuid": "{9a316ad8-04e2-4a05-980f-44dbbd5b3897}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9a316ad8-04e2-4a05-980f-44dbbd5b3897%7D"}, "html": {"href": "https://bitbucket.org/%7B9a316ad8-04e2-4a05-980f-44dbbd5b3897%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/76dc97e4a0367def37518e4f907f2f4ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsBC-0.png"}}, "nickname": "Brice_clement", "type": "user", "account_id": "5a2feea09f1e433e479775b0"}, "updated_on": null, "type": "issue_comment", "id": 41857985}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1145/comments/41859210.json"}, "html": {"href": "#!/osrf/gazebo/issues/1145#comment-41859210"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1145.json"}}, "type": "issue", "id": 1145, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "custom main problems with time and loading plugins"}, "content": {"raw": "Yes I finally managed to find a hack : https://github.com/kuka-isir/rtt_gazebo_embedded/blob/master/src/rtt_gazebo_embedded.cc#L524\n\n```cpp\n            gazebo::sensors::load();\n            gazebo::sensors::init();\n            gazebo::sensors::run_once(true);\n            gazebo::sensors::run_threads();\n```", "markup": "markdown", "html": "<p>Yes I finally managed to find a hack : <a href=\"https://github.com/kuka-isir/rtt_gazebo_embedded/blob/master/src/rtt_gazebo_embedded.cc#L524\" rel=\"nofollow\" class=\"ap-connect-link\">https://github.com/kuka-isir/rtt_gazebo_embedded/blob/master/src/rtt_gazebo_embedded.cc#L524</a></p>\n<div class=\"codehilite language-cpp\"><pre><span></span>            <span class=\"n\">gazebo</span><span class=\"o\">::</span><span class=\"n\">sensors</span><span class=\"o\">::</span><span class=\"n\">load</span><span class=\"p\">();</span>\n            <span class=\"n\">gazebo</span><span class=\"o\">::</span><span class=\"n\">sensors</span><span class=\"o\">::</span><span class=\"n\">init</span><span class=\"p\">();</span>\n            <span class=\"n\">gazebo</span><span class=\"o\">::</span><span class=\"n\">sensors</span><span class=\"o\">::</span><span class=\"n\">run_once</span><span class=\"p\">(</span><span class=\"nb\">true</span><span class=\"p\">);</span>\n            <span class=\"n\">gazebo</span><span class=\"o\">::</span><span class=\"n\">sensors</span><span class=\"o\">::</span><span class=\"n\">run_threads</span><span class=\"p\">();</span>\n</pre></div>", "type": "rendered"}, "created_on": "2017-12-12T16:42:54.776886+00:00", "user": {"display_name": "Antoine Hoarau", "uuid": "{eb335ef7-9e02-42a9-be5b-34a7eb3c813f}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beb335ef7-9e02-42a9-be5b-34a7eb3c813f%7D"}, "html": {"href": "https://bitbucket.org/%7Beb335ef7-9e02-42a9-be5b-34a7eb3c813f%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/initials/AH-1.png"}}, "nickname": "ahoarau", "type": "user", "account_id": "557058:267fd127-01c4-405e-a496-d9eb43a340c1"}, "updated_on": null, "type": "issue_comment", "id": 41859210}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1145/comments/41859557.json"}, "html": {"href": "#!/osrf/gazebo/issues/1145#comment-41859557"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo/issues/1145.json"}}, "type": "issue", "id": 1145, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "title": "custom main problems with time and loading plugins"}, "content": {"raw": "Awesome ! Thank you !", "markup": "markdown", "html": "<p>Awesome ! Thank you !</p>", "type": "rendered"}, "created_on": "2017-12-12T16:59:46.265301+00:00", "user": {"display_name": "Brice Clement", "uuid": "{9a316ad8-04e2-4a05-980f-44dbbd5b3897}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9a316ad8-04e2-4a05-980f-44dbbd5b3897%7D"}, "html": {"href": "https://bitbucket.org/%7B9a316ad8-04e2-4a05-980f-44dbbd5b3897%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/76dc97e4a0367def37518e4f907f2f4ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsBC-0.png"}}, "nickname": "Brice_clement", "type": "user", "account_id": "5a2feea09f1e433e479775b0"}, "updated_on": null, "type": "issue_comment", "id": 41859557}], "page": 1, "size": 19}