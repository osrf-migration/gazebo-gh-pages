{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3200/comments/140151366.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3200/_/diff#comment-140151366"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 3200, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3200.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3200"}}, "title": "Disable warnings 4251 and 4275 in Visual Studio"}, "content": {"raw": "This is most meant as a proposal for discussion, rather then a definite PR. The warnings 4251 and  4275  in some situations actually provide useful info, but in the current situation in Gazebo just  flood the  compilation output, without  providing  any kind of real help to the developer. \n\nWhile in several ignition projects this kind of warning has been  selectively suppressed, for Gazebo I think that it make sense to just suppress the warning, and catch eventually symbol visibility problems \\(if they emerge\\) directly with runtime tests on downstream projects. In this way, it is possible to  actually catch really problematic warnings such as \\(for example\\): \n\n~~~\n\nC:\\\\idjl-ws\\\\src\\\\gazebo\\\\gazebo\\\\common\\\\[SystemPaths.cc](http://SystemPaths.cc)\\(179\\): warning C4172: returning address of local variable or temporary \\[C:\\\\idjl-ws\\\\build\\\\Gazebo\\\\gazebo\\\\common\\\\gazebo\\_common.vcxproj\\]  \nC:\\\\idjl-ws\\\\src\\\\gazebo\\\\gazebo\\\\common\\\\[SystemPaths.cc](http://SystemPaths.cc)\\(185\\): warning C4172: returning address of local variable or temporary \\[C:\\\\idjl-ws\\\\build\\\\Gazebo\\\\gazebo\\\\common\\\\gazebo\\_common.vcxproj\\]  \n~~~", "markup": "markdown", "html": "<p>This is most meant as a proposal for discussion, rather then a definite PR. The warnings 4251 and  4275  in some situations actually provide useful info, but in the current situation in Gazebo just  flood the  compilation output, without  providing  any kind of real help to the developer. </p>\n<p>While in several ignition projects this kind of warning has been  selectively suppressed, for Gazebo I think that it make sense to just suppress the warning, and catch eventually symbol visibility problems (if they emerge) directly with runtime tests on downstream projects. In this way, it is possible to  actually catch really problematic warnings such as (for example): </p>\n<div class=\"codehilite\"><pre><span></span>C:\\\\idjl-ws\\\\src\\\\gazebo\\\\gazebo\\\\common\\\\[SystemPaths.cc](http://SystemPaths.cc)\\(179\\): warning C4172: returning address of local variable or temporary \\[C:\\\\idjl-ws\\\\build\\\\Gazebo\\\\gazebo\\\\common\\\\gazebo\\_common.vcxproj\\]  \nC:\\\\idjl-ws\\\\src\\\\gazebo\\\\gazebo\\\\common\\\\[SystemPaths.cc](http://SystemPaths.cc)\\(185\\): warning C4172: returning address of local variable or temporary \\[C:\\\\idjl-ws\\\\build\\\\Gazebo\\\\gazebo\\\\common\\\\gazebo\\_common.vcxproj\\]  \n</pre></div>", "type": "rendered"}, "created_on": "2020-03-15T14:50:25.523730+00:00", "user": {"display_name": "Silvio Traversaro", "uuid": "{34f404cb-5642-4f27-a032-e04c7143d776}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D"}, "html": {"href": "https://bitbucket.org/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6/578caaa1-056c-45a2-8bf9-bee94c3bebef/128"}}, "nickname": "traversaro", "type": "user", "account_id": "557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6"}, "updated_on": "2020-03-15T14:50:25.529316+00:00", "type": "pullrequest_comment", "id": 140151366}