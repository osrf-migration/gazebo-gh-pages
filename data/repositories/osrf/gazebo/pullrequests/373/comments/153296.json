{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/373/comments/153296.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/373/_/diff#comment-153296"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 373, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/373.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/373"}}, "title": "Fix for issue #573"}, "content": {"raw": "I got it to work but it segfaults 1 out of 5 times.\nThis is what I did: I ran listener first and waited for it to say waiting for master then I start gzserver\n\n\n```\n#!c++\n\nMsg Waiting for master.\nMsg Connected to gazebo master @ http://127.0.0.1:11345\nMsg Publicized address: 192.168.1.138\nError [Node.cc:76] No namespace found\n\nProgram received signal SIGSEGV, Segmentation fault.\n0x00007ffff6b8af9b in std::string::assign(std::string const&) ()\n   from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n(gdb) bt\n#0  0x00007ffff6b8af9b in std::string::assign(std::string const&) ()\n   from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#1  0x00007ffff7bab68b in operator= (__str=..., this=0x689688)\n    at /usr/include/c++/4.6/bits/basic_string.h:542\n#2  gazebo::transport::Node::Init (this=0x689670, _space=...)\n    at /home/ian/depot/gazebo/gazebo/transport/Node.cc:78\n#3  0x0000000000417250 in main ()\n(gdb) \n```", "markup": "markdown", "html": "<p>I got it to work but it segfaults 1 out of 5 times.\nThis is what I did: I ran listener first and waited for it to say waiting for master then I start gzserver</p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"n\">Msg</span> <span class=\"n\">Waiting</span> <span class=\"k\">for</span> <span class=\"n\">master</span><span class=\"p\">.</span>\n<span class=\"n\">Msg</span> <span class=\"n\">Connected</span> <span class=\"n\">to</span> <span class=\"n\">gazebo</span> <span class=\"n\">master</span> <span class=\"err\">@</span> <span class=\"nl\">http</span><span class=\"p\">:</span><span class=\"c1\">//127.0.0.1:11345</span>\n<span class=\"n\">Msg</span> <span class=\"n\">Publicized</span> <span class=\"nl\">address</span><span class=\"p\">:</span> <span class=\"mf\">192.168.1.138</span>\n<span class=\"n\">Error</span> <span class=\"p\">[</span><span class=\"n\">Node</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">76</span><span class=\"p\">]</span> <span class=\"n\">No</span> <span class=\"k\">namespace</span> <span class=\"n\">found</span>\n\n<span class=\"n\">Program</span> <span class=\"n\">received</span> <span class=\"n\">signal</span> <span class=\"n\">SIGSEGV</span><span class=\"p\">,</span> <span class=\"n\">Segmentation</span> <span class=\"n\">fault</span><span class=\"p\">.</span>\n<span class=\"mh\">0x00007ffff6b8af9b</span> <span class=\"n\">in</span> <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">string</span><span class=\"o\">::</span><span class=\"n\">assign</span><span class=\"p\">(</span><span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">string</span> <span class=\"k\">const</span><span class=\"o\">&amp;</span><span class=\"p\">)</span> <span class=\"p\">()</span>\n   <span class=\"n\">from</span> <span class=\"o\">/</span><span class=\"n\">usr</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"o\">/</span><span class=\"n\">x86_64</span><span class=\"o\">-</span><span class=\"n\">linux</span><span class=\"o\">-</span><span class=\"n\">gnu</span><span class=\"o\">/</span><span class=\"n\">libstdc</span><span class=\"o\">++</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"mf\">.6</span>\n<span class=\"p\">(</span><span class=\"n\">gdb</span><span class=\"p\">)</span> <span class=\"n\">bt</span>\n<span class=\"cp\">#0  0x00007ffff6b8af9b in std::string::assign(std::string const&amp;) ()</span>\n   <span class=\"n\">from</span> <span class=\"o\">/</span><span class=\"n\">usr</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"o\">/</span><span class=\"n\">x86_64</span><span class=\"o\">-</span><span class=\"n\">linux</span><span class=\"o\">-</span><span class=\"n\">gnu</span><span class=\"o\">/</span><span class=\"n\">libstdc</span><span class=\"o\">++</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"mf\">.6</span>\n<span class=\"cp\">#1  0x00007ffff7bab68b in operator= (__str=..., this=0x689688)</span>\n    <span class=\"n\">at</span> <span class=\"o\">/</span><span class=\"n\">usr</span><span class=\"o\">/</span><span class=\"n\">include</span><span class=\"o\">/</span><span class=\"n\">c</span><span class=\"o\">++/</span><span class=\"mf\">4.6</span><span class=\"o\">/</span><span class=\"n\">bits</span><span class=\"o\">/</span><span class=\"n\">basic_string</span><span class=\"p\">.</span><span class=\"nl\">h</span><span class=\"p\">:</span><span class=\"mi\">542</span>\n<span class=\"cp\">#2  gazebo::transport::Node::Init (this=0x689670, _space=...)</span>\n    <span class=\"n\">at</span> <span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">ian</span><span class=\"o\">/</span><span class=\"n\">depot</span><span class=\"o\">/</span><span class=\"n\">gazebo</span><span class=\"o\">/</span><span class=\"n\">gazebo</span><span class=\"o\">/</span><span class=\"n\">transport</span><span class=\"o\">/</span><span class=\"n\">Node</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">78</span>\n<span class=\"cp\">#3  0x0000000000417250 in main ()</span>\n<span class=\"p\">(</span><span class=\"n\">gdb</span><span class=\"p\">)</span> \n</pre></div>", "type": "rendered"}, "created_on": "2013-03-13T18:07:23.107659+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2013-03-13T18:07:23.115874+00:00", "type": "pullrequest_comment", "id": 153296}