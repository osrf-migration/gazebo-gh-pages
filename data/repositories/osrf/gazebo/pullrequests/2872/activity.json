{"pagelen": 50, "values": [{"update": {"description": "While testing attaching lights, I observed a deadlock causing gzserver to freeze when a message is published to `~/light/factory` topic. The bug is possibly introduced by pull request #2807\r\n\r\nThe `World::ProcessLightFactoryMsgs` locks  `this->dataPtr->receiveMutex` and proceeds  to `LoadLight`, which in turn causes another msg to be published to `~/light/factory`. Because this is a local publication, I think callback is triggered immediately which then tries to lock the same mutex.\r\n\r\nIdeally we publish to a new `~/light/info` topic like in the case of models to avoid this problem; that'll probably need to go in gazebo10", "title": "Fix deadlock when publishing to ~/light/factory topic", "destination": {"commit": {"hash": "5dad775cb974", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/5dad775cb974.json"}, "html": {"href": "#!/osrf/gazebo/commits/5dad775cb974"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "7f4f46156e60", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/7f4f46156e60.json"}, "html": {"href": "#!/osrf/gazebo/commits/7f4f46156e60"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "light_factory_7"}}, "state": "MERGED", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2018-02-02T16:41:20.092581+00:00"}, "pull_request": {"type": "pullrequest", "id": 2872, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2872.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2872"}}, "title": "Fix deadlock when publishing to ~/light/factory topic"}}, {"approval": {"date": "2018-02-02T16:40:43.977543+00:00", "pullrequest": {"type": "pullrequest", "id": 2872, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2872.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2872"}}, "title": "Fix deadlock when publishing to ~/light/factory topic"}, "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}}, "pull_request": {"type": "pullrequest", "id": 2872, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2872.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2872"}}, "title": "Fix deadlock when publishing to ~/light/factory topic"}}, {"approval": {"date": "2018-02-02T05:11:43.680753+00:00", "pullrequest": {"type": "pullrequest", "id": 2872, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2872.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2872"}}, "title": "Fix deadlock when publishing to ~/light/factory topic"}, "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}}, "pull_request": {"type": "pullrequest", "id": 2872, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2872.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2872"}}, "title": "Fix deadlock when publishing to ~/light/factory topic"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2872/comments/55272407.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2872/_/diff#comment-55272407"}}, "parent": {"id": 55265886, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2872/comments/55265886.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2872/_/diff#comment-55265886"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2872, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2872.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2872"}}, "title": "Fix deadlock when publishing to ~/light/factory topic"}, "content": {"raw": "yeah, looks good to me too\n\nI'll just wait for the last CI jobs to finish", "markup": "markdown", "html": "<p>yeah, looks good to me too</p>\n<p>I'll just wait for the last CI jobs to finish</p>", "type": "rendered"}, "created_on": "2018-02-02T02:10:34.108080+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2018-02-02T02:10:34.110990+00:00", "type": "pullrequest_comment", "id": 55272407}, "pull_request": {"type": "pullrequest", "id": 2872, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2872.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2872"}}, "title": "Fix deadlock when publishing to ~/light/factory topic"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2872/comments/55271380.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2872/_/diff#comment-55271380"}}, "parent": {"id": 55270814, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2872/comments/55270814.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2872/_/diff#comment-55270814"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2872, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2872.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2872"}}, "title": "Fix deadlock when publishing to ~/light/factory topic"}, "content": {"raw": "good find, fixed. 7f4f461", "markup": "markdown", "html": "<p>good find, fixed. <a href=\"#!/osrf/gazebo/commits/7f4f461\" rel=\"nofollow\" class=\"ap-connect-link\">7f4f461</a></p>", "type": "rendered"}, "created_on": "2018-02-02T01:35:43.488806+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {}, "updated_on": "2018-02-02T01:35:43.491838+00:00", "type": "pullrequest_comment", "id": 55271380}, "pull_request": {"type": "pullrequest", "id": 2872, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2872.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2872"}}, "title": "Fix deadlock when publishing to ~/light/factory topic"}}, {"update": {"description": "While testing attaching lights, I observed a deadlock causing gzserver to freeze when a message is published to `~/light/factory` topic. The bug is possibly introduced by pull request #2807\r\n\r\nThe `World::ProcessLightFactoryMsgs` locks  `this->dataPtr->receiveMutex` and proceeds  to `LoadLight`, which in turn causes another msg to be published to `~/light/factory`. Because this is a local publication, I think callback is triggered immediately which then tries to lock the same mutex.\r\n\r\nIdeally we publish to a new `~/light/info` topic like in the case of models to avoid this problem; that'll probably need to go in gazebo10", "title": "Fix deadlock when publishing to ~/light/factory topic", "destination": {"commit": {"hash": "f9932187fc9d", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/f9932187fc9d.json"}, "html": {"href": "#!/osrf/gazebo/commits/f9932187fc9d"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "7f4f46156e60", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/7f4f46156e60.json"}, "html": {"href": "#!/osrf/gazebo/commits/7f4f46156e60"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "light_factory_7"}}, "state": "OPEN", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2018-02-02T01:35:07.187672+00:00"}, "pull_request": {"type": "pullrequest", "id": 2872, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2872.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2872"}}, "title": "Fix deadlock when publishing to ~/light/factory topic"}}, {"update": {"description": "While testing attaching lights, I observed a deadlock causing gzserver to freeze when a message is published to `~/light/factory` topic. The bug is possibly introduced by pull request #2807\r\n\r\nThe `World::ProcessLightFactoryMsgs` locks  `this->dataPtr->receiveMutex` and proceeds  to `LoadLight`, which in turn causes another msg to be published to `~/light/factory`. Because this is a local publication, I think callback is triggered immediately which then tries to lock the same mutex.\r\n\r\nIdeally we publish to a new `~/light/info` topic like in the case of models to avoid this problem; that'll probably need to go in gazebo10", "title": "Fix deadlock when publishing to ~/light/factory topic", "destination": {"commit": {"hash": "f9932187fc9d", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/f9932187fc9d.json"}, "html": {"href": "#!/osrf/gazebo/commits/f9932187fc9d"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "7f4f46156e60", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/7f4f46156e60.json"}, "html": {"href": "#!/osrf/gazebo/commits/7f4f46156e60"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "light_factory_7"}}, "state": "OPEN", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2018-02-02T01:35:05.214192+00:00"}, "pull_request": {"type": "pullrequest", "id": 2872, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2872.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2872"}}, "title": "Fix deadlock when publishing to ~/light/factory topic"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2872/comments/55270814.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2872/_/diff#comment-55270814"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2872, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2872.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2872"}}, "title": "Fix deadlock when publishing to ~/light/factory topic"}, "content": {"raw": "I just noticed that this only checks `publishModelPoses.empty()`, but this same code block also iterates through `publishLightPoses`. Should we check if either data structure is not empty?", "markup": "markdown", "html": "<p>I just noticed that this only checks <code>publishModelPoses.empty()</code>, but this same code block also iterates through <code>publishLightPoses</code>. Should we check if either data structure is not empty?</p>", "type": "rendered"}, "created_on": "2018-02-02T01:19:36.334829+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2018-02-02T01:19:36.337668+00:00", "type": "pullrequest_comment", "id": 55270814}, "pull_request": {"type": "pullrequest", "id": 2872, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2872.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2872"}}, "title": "Fix deadlock when publishing to ~/light/factory topic"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2872/comments/55269200.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2872/_/diff#comment-55269200"}}, "parent": {"id": 55265640, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2872/comments/55265640.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2872/_/diff#comment-55265640"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2872, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2872.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2872"}}, "title": "Fix deadlock when publishing to ~/light/factory topic"}, "content": {"raw": "done. 4fa759f", "markup": "markdown", "html": "<p>done. <a href=\"#!/osrf/gazebo/commits/4fa759f\" rel=\"nofollow\" class=\"ap-connect-link\">4fa759f</a></p>", "type": "rendered"}, "created_on": "2018-02-02T00:38:57.085670+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {}, "updated_on": "2018-02-02T00:38:57.088240+00:00", "type": "pullrequest_comment", "id": 55269200}, "pull_request": {"type": "pullrequest", "id": 2872, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2872.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2872"}}, "title": "Fix deadlock when publishing to ~/light/factory topic"}}, {"update": {"description": "While testing attaching lights, I observed a deadlock causing gzserver to freeze when a message is published to `~/light/factory` topic. The bug is possibly introduced by pull request #2807\r\n\r\nThe `World::ProcessLightFactoryMsgs` locks  `this->dataPtr->receiveMutex` and proceeds  to `LoadLight`, which in turn causes another msg to be published to `~/light/factory`. Because this is a local publication, I think callback is triggered immediately which then tries to lock the same mutex.\r\n\r\nIdeally we publish to a new `~/light/info` topic like in the case of models to avoid this problem; that'll probably need to go in gazebo10", "title": "Fix deadlock when publishing to ~/light/factory topic", "destination": {"commit": {"hash": "f9932187fc9d", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/f9932187fc9d.json"}, "html": {"href": "#!/osrf/gazebo/commits/f9932187fc9d"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "4fa759f6c501", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/4fa759f6c501.json"}, "html": {"href": "#!/osrf/gazebo/commits/4fa759f6c501"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "light_factory_7"}}, "state": "OPEN", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2018-02-02T00:38:44.436305+00:00"}, "pull_request": {"type": "pullrequest", "id": 2872, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2872.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2872"}}, "title": "Fix deadlock when publishing to ~/light/factory topic"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2872/comments/55265886.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2872/_/diff#comment-55265886"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2872, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2872.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2872"}}, "title": "Fix deadlock when publishing to ~/light/factory topic"}, "content": {"raw": "Looks good to me, triggered a last round of CI.", "markup": "markdown", "html": "<p>Looks good to me, triggered a last round of CI.</p>", "type": "rendered"}, "created_on": "2018-02-01T23:26:08.786704+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2018-02-01T23:26:08.788850+00:00", "type": "pullrequest_comment", "id": 55265886}, "pull_request": {"type": "pullrequest", "id": 2872, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2872.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2872"}}, "title": "Fix deadlock when publishing to ~/light/factory topic"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2872/comments/55265640.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2872/_/diff#comment-55265640"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2872, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2872.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2872"}}, "title": "Fix deadlock when publishing to ~/light/factory topic"}, "content": {"raw": "Assert?", "markup": "markdown", "html": "<p>Assert?</p>", "type": "rendered"}, "created_on": "2018-02-01T23:21:27.995606+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2018-02-01T23:21:27.998810+00:00", "type": "pullrequest_comment", "id": 55265640}, "pull_request": {"type": "pullrequest", "id": 2872, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2872.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2872"}}, "title": "Fix deadlock when publishing to ~/light/factory topic"}}, {"update": {"description": "While testing attaching lights, I observed a deadlock causing gzserver to freeze when a message is published to `~/light/factory` topic. The bug is possibly introduced by pull request #2807\r\n\r\nThe `World::ProcessLightFactoryMsgs` locks  `this->dataPtr->receiveMutex` and proceeds  to `LoadLight`, which in turn causes another msg to be published to `~/light/factory`. Because this is a local publication, I think callback is triggered immediately which then tries to lock the same mutex.\r\n\r\nIdeally we publish to a new `~/light/info` topic like in the case of models to avoid this problem; that'll probably need to go in gazebo10", "title": "Fix deadlock when publishing to ~/light/factory topic", "destination": {"commit": {"hash": "7deb11ae75f6", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/7deb11ae75f6.json"}, "html": {"href": "#!/osrf/gazebo/commits/7deb11ae75f6"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "090b9bdd0899", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/090b9bdd0899.json"}, "html": {"href": "#!/osrf/gazebo/commits/090b9bdd0899"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "light_factory_7"}}, "state": "OPEN", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2018-02-01T11:21:33.201414+00:00"}, "pull_request": {"type": "pullrequest", "id": 2872, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2872.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2872"}}, "title": "Fix deadlock when publishing to ~/light/factory topic"}}, {"update": {"description": "While testing attaching lights, I observed a deadlock causing gzserver to freeze when a message is published to `~/light/factory` topic. The bug is possibly introduced by pull request #2807\r\n\r\nThe `World::ProcessLightFactoryMsgs` locks  `this->dataPtr->receiveMutex` and proceeds  to `LoadLight`, which in turn causes another msg to be published to `~/light/factory`. Because this is a local publication, I think callback is triggered immediately which then tries to lock the same mutex.\r\n\r\nIdeally we publish to a new `~/light/info` topic like in the case of models to avoid this problem; that'll probably need to go in gazebo10", "title": "Fix deadlock when publishing to ~/light/factory topic", "destination": {"commit": {"hash": "7deb11ae75f6", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/7deb11ae75f6.json"}, "html": {"href": "#!/osrf/gazebo/commits/7deb11ae75f6"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "b03b28d0813b", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/b03b28d0813b.json"}, "html": {"href": "#!/osrf/gazebo/commits/b03b28d0813b"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "light_factory_7"}}, "state": "OPEN", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2018-02-01T06:17:56.505745+00:00"}, "pull_request": {"type": "pullrequest", "id": 2872, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2872.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2872"}}, "title": "Fix deadlock when publishing to ~/light/factory topic"}}, {"update": {"description": "While testing attaching lights, I observed a deadlock causing gzserver to freeze when a message is published to `~/light/factory` topic. The bug is possibly introduced by pull request #2807\r\n\r\nThe `World::ProcessLightFactoryMsgs` locks  `this->dataPtr->receiveMutex` and proceeds to  to `LoadLight`, which in turn causes another msg to be published to `~/light/factory`. Because this is a local publication, I think callback is triggered immediately which then tries to lock the same mutex.\r\n\r\nIdeally we publish to a new `~/light/info` topic like in the case of models to avoid this problem; that'll probably need to go in gazebo10", "title": "Fix deadlock when publishing to ~/light/factory topic", "destination": {"commit": {"hash": "7deb11ae75f6", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/7deb11ae75f6.json"}, "html": {"href": "#!/osrf/gazebo/commits/7deb11ae75f6"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "b03b28d0813b", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/b03b28d0813b.json"}, "html": {"href": "#!/osrf/gazebo/commits/b03b28d0813b"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "light_factory_7"}}, "state": "OPEN", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2018-02-01T06:17:26.142721+00:00"}, "pull_request": {"type": "pullrequest", "id": 2872, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2872.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2872"}}, "title": "Fix deadlock when publishing to ~/light/factory topic"}}, {"update": {"description": "While testing attaching lights, I observed a deadlock causing gzserver to freeze when a message is published to `~/light/factory` topic. The bug is possibly introduced by pull request #2807\r\n\r\nThe `World::ProcessLightFactoryMsgs` locks  `this->dataPtr->receiveMutex` and proceeds to  to `LoadLight`, which in turn causes another msg to be published to `~/light/factory`. Because this is a local publication, I think callback is triggered immediately which then tries to lock the same mutex.\r\n\r\nIdeally we publish to a new `~/light/info` topic like in the case of models to avoid this problem; that'll probably need to go in gazebo10", "title": "Fix deadlock when publishing to ~/light/factory topic", "destination": {"commit": {"hash": "7deb11ae75f6", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/7deb11ae75f6.json"}, "html": {"href": "#!/osrf/gazebo/commits/7deb11ae75f6"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "676badb4a55f", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/676badb4a55f.json"}, "html": {"href": "#!/osrf/gazebo/commits/676badb4a55f"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "light_factory_7"}}, "state": "OPEN", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2018-02-01T06:16:20.074063+00:00"}, "pull_request": {"type": "pullrequest", "id": 2872, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2872.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2872"}}, "title": "Fix deadlock when publishing to ~/light/factory topic"}}, {"update": {"description": "While testing attaching lights, I observed a deadlock causing gzserver to freeze when a message is published to `~/light/factory` topic. The bug is possibly introduced by pull request #2807\r\n\r\nThe `World::ProcessLightFactoryMsgs` locks  `this->dataPtr->receiveMutex` and proceeds to  to `LoadLight`, which in turn causes another msg to be published to `~/light/factory`. Because this is a local publication, I think callback is triggered immediately which then tries to lock the same mutex.\r\n\r\nIdeally we publish to a new `~/light/info` topic like in the case of models to avoid this problem; that'll probably need to go in gazebo10", "title": "Fix deadlock when publishing to ~/light/factory topic", "destination": {"commit": {"hash": "7deb11ae75f6", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/7deb11ae75f6.json"}, "html": {"href": "#!/osrf/gazebo/commits/7deb11ae75f6"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "676badb4a55f", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/676badb4a55f.json"}, "html": {"href": "#!/osrf/gazebo/commits/676badb4a55f"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "light_factory_7"}}, "state": "OPEN", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2018-02-01T06:16:20.040965+00:00"}, "pull_request": {"type": "pullrequest", "id": 2872, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2872.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2872"}}, "title": "Fix deadlock when publishing to ~/light/factory topic"}}]}