{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2890/comments/58361888.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2890/_/diff#comment-58361888"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2890, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2890.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2890"}}, "title": "Fix for issues #2297 and #2428"}, "content": {"raw": "I retested this with ARIAC. I noticed that during playback, the arm gets inserted at t=0 well, and everything in general is good, but if I drag the time slider back to t=0 it will get added a second time (in the original pose).\nWhen that happens I get these warnings output:\n```\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot?p=pose3d/world_pose] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot?p=vector3d/world_linear_velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot?p=vector3d/world_angular_velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot?p=vector3d/world_linear_acceleration] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot?p=vector3d/world_angular_acceleration] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/linear_arm_actuator?p=pose3d/world_pose] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/linear_arm_actuator?p=vector3d/world_linear_velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/linear_arm_actuator?p=vector3d/world_angular_velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/linear_arm_actuator?p=vector3d/world_linear_acceleration] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/linear_arm_actuator?p=vector3d/world_angular_acceleration] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/base_link?p=pose3d/world_pose] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/base_link?p=vector3d/world_linear_velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/base_link?p=vector3d/world_angular_velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/base_link?p=vector3d/world_linear_acceleration] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/base_link?p=vector3d/world_angular_acceleration] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/shoulder_link?p=pose3d/world_pose] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/shoulder_link?p=vector3d/world_linear_velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/shoulder_link?p=vector3d/world_angular_velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/shoulder_link?p=vector3d/world_linear_acceleration] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/shoulder_link?p=vector3d/world_angular_acceleration] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/upper_arm_link?p=pose3d/world_pose] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/upper_arm_link?p=vector3d/world_linear_velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/upper_arm_link?p=vector3d/world_angular_velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/upper_arm_link?p=vector3d/world_linear_acceleration] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/upper_arm_link?p=vector3d/world_angular_acceleration] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/forearm_link?p=pose3d/world_pose] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/forearm_link?p=vector3d/world_linear_velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/forearm_link?p=vector3d/world_angular_velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/forearm_link?p=vector3d/world_linear_acceleration] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/forearm_link?p=vector3d/world_angular_acceleration] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/wrist_1_link?p=pose3d/world_pose] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/wrist_1_link?p=vector3d/world_linear_velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/wrist_1_link?p=vector3d/world_angular_velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/wrist_1_link?p=vector3d/world_linear_acceleration] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/wrist_1_link?p=vector3d/world_angular_acceleration] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/wrist_2_link?p=pose3d/world_pose] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/wrist_2_link?p=vector3d/world_linear_velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/wrist_2_link?p=vector3d/world_angular_velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/wrist_2_link?p=vector3d/world_linear_acceleration] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/wrist_2_link?p=vector3d/world_angular_acceleration] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/wrist_3_link?p=pose3d/world_pose] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/wrist_3_link?p=vector3d/world_linear_velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/wrist_3_link?p=vector3d/world_angular_velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/wrist_3_link?p=vector3d/world_linear_acceleration] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/wrist_3_link?p=vector3d/world_angular_acceleration] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/vacuum_gripper_link?p=pose3d/world_pose] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/vacuum_gripper_link?p=vector3d/world_linear_velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/vacuum_gripper_link?p=vector3d/world_angular_velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/vacuum_gripper_link?p=vector3d/world_linear_acceleration] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/vacuum_gripper_link?p=vector3d/world_angular_acceleration] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/joint/linear_arm_actuator_joint?p=axis/0/double/position] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/joint/linear_arm_actuator_joint?p=axis/0/double/velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/joint/shoulder_pan_joint?p=axis/0/double/position] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/joint/shoulder_pan_joint?p=axis/0/double/velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/joint/shoulder_lift_joint?p=axis/0/double/position] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/joint/shoulder_lift_joint?p=axis/0/double/velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/joint/elbow_joint?p=axis/0/double/position] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/joint/elbow_joint?p=axis/0/double/velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/joint/wrist_1_joint?p=axis/0/double/position] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/joint/wrist_1_joint?p=axis/0/double/velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/joint/wrist_2_joint?p=axis/0/double/position] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/joint/wrist_2_joint?p=axis/0/double/velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/joint/wrist_3_joint?p=axis/0/double/position] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/joint/wrist_3_joint?p=axis/0/double/velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/joint/vacuum_gripper_joint?p=axis/0/double/position] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/joint/vacuum_gripper_joint?p=axis/0/double/velocity] already registered\n```\n\nWe're pretty keen for a gazebo release for ARIAC, so I'd like for this PR to not be blocked if this issue if it's as minor as it seems and can be done as a followup improvement. But, if it signals that something deeper is off, I understand if we can't merge this yet.", "markup": "markdown", "html": "<p>I retested this with ARIAC. I noticed that during playback, the arm gets inserted at t=0 well, and everything in general is good, but if I drag the time slider back to t=0 it will get added a second time (in the original pose).\nWhen that happens I get these warnings output:</p>\n<div class=\"codehilite\"><pre><span></span>[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot?p=pose3d/world_pose] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot?p=vector3d/world_linear_velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot?p=vector3d/world_angular_velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot?p=vector3d/world_linear_acceleration] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot?p=vector3d/world_angular_acceleration] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/linear_arm_actuator?p=pose3d/world_pose] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/linear_arm_actuator?p=vector3d/world_linear_velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/linear_arm_actuator?p=vector3d/world_angular_velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/linear_arm_actuator?p=vector3d/world_linear_acceleration] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/linear_arm_actuator?p=vector3d/world_angular_acceleration] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/base_link?p=pose3d/world_pose] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/base_link?p=vector3d/world_linear_velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/base_link?p=vector3d/world_angular_velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/base_link?p=vector3d/world_linear_acceleration] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/base_link?p=vector3d/world_angular_acceleration] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/shoulder_link?p=pose3d/world_pose] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/shoulder_link?p=vector3d/world_linear_velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/shoulder_link?p=vector3d/world_angular_velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/shoulder_link?p=vector3d/world_linear_acceleration] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/shoulder_link?p=vector3d/world_angular_acceleration] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/upper_arm_link?p=pose3d/world_pose] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/upper_arm_link?p=vector3d/world_linear_velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/upper_arm_link?p=vector3d/world_angular_velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/upper_arm_link?p=vector3d/world_linear_acceleration] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/upper_arm_link?p=vector3d/world_angular_acceleration] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/forearm_link?p=pose3d/world_pose] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/forearm_link?p=vector3d/world_linear_velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/forearm_link?p=vector3d/world_angular_velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/forearm_link?p=vector3d/world_linear_acceleration] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/forearm_link?p=vector3d/world_angular_acceleration] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/wrist_1_link?p=pose3d/world_pose] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/wrist_1_link?p=vector3d/world_linear_velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/wrist_1_link?p=vector3d/world_angular_velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/wrist_1_link?p=vector3d/world_linear_acceleration] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/wrist_1_link?p=vector3d/world_angular_acceleration] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/wrist_2_link?p=pose3d/world_pose] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/wrist_2_link?p=vector3d/world_linear_velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/wrist_2_link?p=vector3d/world_angular_velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/wrist_2_link?p=vector3d/world_linear_acceleration] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/wrist_2_link?p=vector3d/world_angular_acceleration] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/wrist_3_link?p=pose3d/world_pose] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/wrist_3_link?p=vector3d/world_linear_velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/wrist_3_link?p=vector3d/world_angular_velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/wrist_3_link?p=vector3d/world_linear_acceleration] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/wrist_3_link?p=vector3d/world_angular_acceleration] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/vacuum_gripper_link?p=pose3d/world_pose] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/vacuum_gripper_link?p=vector3d/world_linear_velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/vacuum_gripper_link?p=vector3d/world_angular_velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/vacuum_gripper_link?p=vector3d/world_linear_acceleration] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/link/vacuum_gripper_link?p=vector3d/world_angular_acceleration] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/joint/linear_arm_actuator_joint?p=axis/0/double/position] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/joint/linear_arm_actuator_joint?p=axis/0/double/velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/joint/shoulder_pan_joint?p=axis/0/double/position] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/joint/shoulder_pan_joint?p=axis/0/double/velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/joint/shoulder_lift_joint?p=axis/0/double/position] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/joint/shoulder_lift_joint?p=axis/0/double/velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/joint/elbow_joint?p=axis/0/double/position] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/joint/elbow_joint?p=axis/0/double/velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/joint/wrist_1_joint?p=axis/0/double/position] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/joint/wrist_1_joint?p=axis/0/double/velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/joint/wrist_2_joint?p=axis/0/double/position] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/joint/wrist_2_joint?p=axis/0/double/velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/joint/wrist_3_joint?p=axis/0/double/position] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/joint/wrist_3_joint?p=axis/0/double/velocity] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/joint/vacuum_gripper_joint?p=axis/0/double/position] already registered\n[Wrn] [IntrospectionManager.cc:115] Item [data://world/default/model/robot/joint/vacuum_gripper_joint?p=axis/0/double/velocity] already registered\n</pre></div>\n\n\n<p>We're pretty keen for a gazebo release for ARIAC, so I'd like for this PR to not be blocked if this issue if it's as minor as it seems and can be done as a followup improvement. But, if it signals that something deeper is off, I understand if we can't merge this yet.</p>", "type": "rendered"}, "created_on": "2018-03-09T00:05:02.338945+00:00", "user": {"display_name": "Deanna Hood", "uuid": "{40d490b4-7de9-4c89-ac1c-2219a22057eb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B40d490b4-7de9-4c89-ac1c-2219a22057eb%7D"}, "html": {"href": "https://bitbucket.org/%7B40d490b4-7de9-4c89-ac1c-2219a22057eb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ec666897-79d8-48b4-ae27-4f0e9e56f5b5/f7b56737-eb1f-481f-beb1-50c179565cf4/128"}}, "nickname": "d_hood", "type": "user", "account_id": "557058:ec666897-79d8-48b4-ae27-4f0e9e56f5b5"}, "updated_on": "2018-03-09T00:05:02.342077+00:00", "type": "pullrequest_comment", "id": 58361888}