{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/873/comments/957200.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/873/_/diff#comment-957200"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 873, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/873.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/873"}}, "title": "Fix camera sensor images"}, "content": {"raw": "How does one camera write into the buffer of another camera? Each camera has a separate render target. Moving PostRender in the sensors will probably remove the performance gain achieved from the `sensor_update_rate` branch.", "markup": "markdown", "html": "<p>How does one camera write into the buffer of another camera? Each camera has a separate render target. Moving PostRender in the sensors will probably remove the performance gain achieved from the <code>sensor_update_rate</code> branch.</p>", "type": "rendered"}, "created_on": "2013-12-16T15:37:39.974207+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2013-12-16T15:37:39.993965+00:00", "type": "pullrequest_comment", "id": 957200}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/873/comments/966444.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/873/_/diff#comment-966444"}}, "parent": {"id": 957200, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/873/comments/957200.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/873/_/diff#comment-957200"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 873, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/873.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/873"}}, "title": "Fix camera sensor images"}, "content": {"raw": "Looks like swapping buffers on update solves the problem, e71a042. Hard to explain why one camera was outputing the image of another if buffer is not swapped as I assumed each camera was rendering to a  different buffer.  Not sure if it's an ogre blitting implementation thing or not.", "markup": "markdown", "html": "<p>Looks like swapping buffers on update solves the problem, <a href=\"#!/osrf/gazebo/commits/e71a042\" rel=\"nofollow\" class=\"ap-connect-link\">e71a042</a>. Hard to explain why one camera was outputing the image of another if buffer is not swapped as I assumed each camera was rendering to a  different buffer.  Not sure if it's an ogre blitting implementation thing or not.</p>", "type": "rendered"}, "created_on": "2013-12-17T23:32:28.554281+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2013-12-17T23:32:28.563397+00:00", "type": "pullrequest_comment", "id": 966444}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/873/comments/959858.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:8073765af678..bd913245cf35?path=gazebo%2Fsensors%2FMultiCameraSensor.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/873/_/diff#comment-959858"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 873, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/873.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/873"}}, "title": "Fix camera sensor images"}, "content": {"raw": "code_check says (see bottom of [this page](https://drone.io/bitbucket.org/osrf/gazebo/222)):\n~~~\n[gazebo/sensors/MultiCameraSensor.cc:225]: (style) The scope of the variable 'index' can be reduced.\n~~~\nI'm going to make this change\n\nEDIT: I made the change in 3393501 but this comment still shows up on the main page", "markup": "markdown", "html": "<p>code_check says (see bottom of <a data-is-external-link=\"true\" href=\"https://drone.io/bitbucket.org/osrf/gazebo/222\" rel=\"nofollow\">this page</a>):</p>\n<div class=\"codehilite\"><pre><span></span>[gazebo/sensors/MultiCameraSensor.cc:225]: (style) The scope of the variable &#39;index&#39; can be reduced.\n</pre></div>\n\n\n<p>I'm going to make this change</p>\n<p>EDIT: I made the change in <a href=\"#!/osrf/gazebo/commits/3393501\" rel=\"nofollow\" class=\"ap-connect-link\">3393501</a> but this comment still shows up on the main page</p>", "type": "rendered"}, "created_on": "2013-12-16T23:25:54.738860+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {"to": null, "from": 224, "path": "gazebo/sensors/MultiCameraSensor.cc"}, "updated_on": "2013-12-16T23:28:18.403580+00:00", "type": "pullrequest_comment", "id": 959858}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/873/comments/965229.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/873/_/diff#comment-965229"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 873, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/873.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/873"}}, "title": "Fix camera sensor images"}, "content": {"raw": "I've also gotten intermittent camera failures in overnight testing that may be related:\n~~~\n169: [ RUN      ] CameraSensor.CheckNoise\n169: \n169: Msg Waiting for masterMsg Connected to gazebo master @ http://127.0.0.1:11345\n169: Msg Publicized address: 192.168.1.188\n169: Dbg ServerFixture load in 0.09 seconds, timeout after 60 seconds\n169: /tmp/gazebo_build/source/test/integration/camera_sensor.cc:311: Failure\n169: Expected: (diffSum) != (0u), actual: 0 vs 0\n169: /tmp/gazebo_build/source/test/integration/camera_sensor.cc:313: Failure\n169: The difference between diffAvg/255. and noiseMean is 0.10000000000000001, which exceeds 3*noiseStdDev, where\n169: diffAvg/255. evaluates to 0,\n169: noiseMean evaluates to 0.10000000000000001, and\n169: 3*noiseStdDev evaluates to 0.029999999999999999.\n169: [  FAILED  ] CameraSensor.CheckNoise (2389 ms)\n~~~\nThis failure happened 2 times out of 33 runs. It may be related since it was expecting two successive images with noise to be different, but they were actually exactly the same.", "markup": "markdown", "html": "<p>I've also gotten intermittent camera failures in overnight testing that may be related:</p>\n<div class=\"codehilite\"><pre><span></span>169: [ RUN      ] CameraSensor.CheckNoise\n169: \n169: Msg Waiting for masterMsg Connected to gazebo master @ http://127.0.0.1:11345\n169: Msg Publicized address: 192.168.1.188\n169: Dbg ServerFixture load in 0.09 seconds, timeout after 60 seconds\n169: /tmp/gazebo_build/source/test/integration/camera_sensor.cc:311: Failure\n169: Expected: (diffSum) != (0u), actual: 0 vs 0\n169: /tmp/gazebo_build/source/test/integration/camera_sensor.cc:313: Failure\n169: The difference between diffAvg/255. and noiseMean is 0.10000000000000001, which exceeds 3*noiseStdDev, where\n169: diffAvg/255. evaluates to 0,\n169: noiseMean evaluates to 0.10000000000000001, and\n169: 3*noiseStdDev evaluates to 0.029999999999999999.\n169: [  FAILED  ] CameraSensor.CheckNoise (2389 ms)\n</pre></div>\n\n\n<p>This failure happened 2 times out of 33 runs. It may be related since it was expecting two successive images with noise to be different, but they were actually exactly the same.</p>", "type": "rendered"}, "created_on": "2013-12-17T19:28:48.450702+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2013-12-17T19:28:48.460911+00:00", "type": "pullrequest_comment", "id": 965229}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/873/comments/966455.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/873/_/diff#comment-966455"}}, "parent": {"id": 965229, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/873/comments/965229.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/873/_/diff#comment-965229"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 873, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/873.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/873"}}, "title": "Fix camera sensor images"}, "content": {"raw": "I just updated the pull request with a new fix, should behave the same as the original one and this intermittent camera failure should not occur. ", "markup": "markdown", "html": "<p>I just updated the pull request with a new fix, should behave the same as the original one and this intermittent camera failure should not occur. </p>", "type": "rendered"}, "created_on": "2013-12-17T23:34:38.674614+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2013-12-17T23:34:38.685283+00:00", "type": "pullrequest_comment", "id": 966455}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/873/comments/1096561.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/873/_/diff#comment-1096561"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 873, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/873.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/873"}}, "title": "Fix camera sensor images"}, "content": {"raw": "this is needed for multicamera sensors (pull request #916 and issue #920), otherwise both images are using the same buffer.", "markup": "markdown", "html": "<p>this is needed for multicamera sensors (<a href=\"#!/osrf/gazebo/pull-requests/916/fix-for-camera-rotation-bug-issue-920\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #916</a> and issue <a href=\"#!/osrf/gazebo/issues/920/camera-rotation-error\" rel=\"nofollow\" title=\"camera rotation error\" class=\"ap-connect-link\"><s>#920</s></a>), otherwise both images are using the same buffer.</p>", "type": "rendered"}, "created_on": "2014-01-22T00:02:27.389606+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": "2014-01-22T00:02:27.400618+00:00", "type": "pullrequest_comment", "id": 1096561}], "page": 1, "size": 6}