{"pagelen": 50, "values": [{"update": {"description": "There is an issue that a light is not rendered when a model which holds the light is spawned. It was found that a message being published to `~/model/info` does not have the light information.\r\n\r\nThanks to the help by @iche033 , this PR fixes this issue by publishing a correct message.\r\n\r\nThe testing code `LightFactoryTest.SpawnModelWithLight` in `INTEGRATION_factory` spawns a simple model with a light, and compares a message for `~/model/info`, which is listened by the rendering engine, and the entity information, which the physics engine actually has.\r\n\r\n\u200c\r\n\r\n---\r\n\r\nHere are some details.\r\n\r\nWhen a model is being spawned, the process goes in the following order:\r\n\r\n1. Load\r\n2. FillMsg\r\n3. Publish ->`` `~/model/info``\r\n4. Init\r\n\r\nFillMsg \\(# 2\\) looks up the list of light objects in a link object. However, the light objects are added to the list at # 4. So the message sent to `~/model/info` does not contain the light information.\r\n\r\nThis PR moves the line of adding the lights from # 4 to # 1, so the FillMsg can see the light objects to include in a message.", "title": "Fix for the spawning light issue", "destination": {"commit": {"hash": "1561a52d5a7c", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/1561a52d5a7c.json"}, "html": {"href": "#!/osrf/gazebo/commits/1561a52d5a7c"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo9"}}, "reason": "", "source": {"commit": {"hash": "9831bf6a0ea9", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/tidota/gazebo/commit/9831bf6a0ea9"}, "html": {"href": "https://bitbucket.org/tidota/gazebo/commits/9831bf6a0ea9"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/tidota/gazebo"}, "html": {"href": "https://bitbucket.org/tidota/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{9b232d84-6bca-45a4-84c7-bfa140709a88}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "tidota/gazebo", "uuid": "{9b232d84-6bca-45a4-84c7-bfa140709a88}"}, "branch": {"name": "spawning_lights"}}, "state": "MERGED", "author": {"display_name": "User 1bdbd", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "https://avatar-cdn.atlassian.com/default/128?ordinal=2"}}, "nickname": "User 1bdbd", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "date": "2018-08-07T23:47:29.731024+00:00"}, "pull_request": {"type": "pullrequest", "id": 3003, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003"}}, "title": "Fix for the spawning light issue"}}, {"approval": {"date": "2018-08-07T23:46:57.609080+00:00", "pullrequest": {"type": "pullrequest", "id": 3003, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003"}}, "title": "Fix for the spawning light issue"}, "user": {"display_name": "User 1bdbd", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "https://avatar-cdn.atlassian.com/default/128?ordinal=2"}}, "nickname": "User 1bdbd", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}}, "pull_request": {"type": "pullrequest", "id": 3003, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003"}}, "title": "Fix for the spawning light issue"}}, {"approval": {"date": "2018-08-07T00:59:44.542014+00:00", "pullrequest": {"type": "pullrequest", "id": 3003, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003"}}, "title": "Fix for the spawning light issue"}, "user": {"display_name": "User b6cd5", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-cdn.atlassian.com/default/128?ordinal=6"}}, "nickname": "User b6cd5", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}}, "pull_request": {"type": "pullrequest", "id": 3003, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003"}}, "title": "Fix for the spawning light issue"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003/comments/72145056.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003/_/diff#comment-72145056"}}, "parent": {"id": 71997525, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003/comments/71997525.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003/_/diff#comment-71997525"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 3003, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003"}}, "title": "Fix for the spawning light issue"}, "content": {"raw": "builds look good", "markup": "markdown", "html": "<p>builds look good</p>", "type": "rendered"}, "created_on": "2018-08-07T00:59:27.362290+00:00", "user": {"display_name": "User b6cd5", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-cdn.atlassian.com/default/128?ordinal=6"}}, "nickname": "User b6cd5", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2018-08-07T00:59:27.372238+00:00", "type": "pullrequest_comment", "id": 72145056}, "pull_request": {"type": "pullrequest", "id": 3003, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003"}}, "title": "Fix for the spawning light issue"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003/comments/72145046.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003/_/diff#comment-72145046"}}, "parent": {"id": 71998716, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003/comments/71998716.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003/_/diff#comment-71998716"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 3003, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003"}}, "title": "Fix for the spawning light issue"}, "content": {"raw": "similar to the other comment. This has already be init in constructor", "markup": "markdown", "html": "<p>similar to the other comment. This has already be init in constructor</p>", "type": "rendered"}, "created_on": "2018-08-07T00:59:14.028624+00:00", "user": {"display_name": "User b6cd5", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-cdn.atlassian.com/default/128?ordinal=6"}}, "nickname": "User b6cd5", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {}, "updated_on": "2018-08-07T00:59:14.035919+00:00", "type": "pullrequest_comment", "id": 72145046}, "pull_request": {"type": "pullrequest", "id": 3003, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003"}}, "title": "Fix for the spawning light issue"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003/comments/72144118.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003/_/diff#comment-72144118"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 3003, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003"}}, "title": "Fix for the spawning light issue"}, "content": {"raw": "Just waiting to address some of Ian\u2019s comments and ready to approve.", "markup": "markdown", "html": "<p>Just waiting to address some of Ian\u2019s comments and ready to approve.</p>", "type": "rendered"}, "created_on": "2018-08-07T00:33:26.962236+00:00", "user": {"display_name": "User 1bdbd", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "https://avatar-cdn.atlassian.com/default/128?ordinal=2"}}, "nickname": "User 1bdbd", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "updated_on": "2018-08-07T00:33:26.968509+00:00", "type": "pullrequest_comment", "id": 72144118}, "pull_request": {"type": "pullrequest", "id": 3003, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003"}}, "title": "Fix for the spawning light issue"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003/comments/72142155.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003/_/diff#comment-72142155"}}, "parent": {"id": 72140772, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003/comments/72140772.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003/_/diff#comment-72140772"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 3003, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003"}}, "title": "Fix for the spawning light issue"}, "content": {"raw": "OK. Here is the update: [https://bitbucket.org/tidota/gazebo/commits/9831bf6a0ea99e42f09b792b2c78e6200e757670?at=gazebo9](https://bitbucket.org/tidota/gazebo/commits/9831bf6a0ea99e42f09b792b2c78e6200e757670?at=gazebo9)", "markup": "markdown", "html": "<p>OK. Here is the update: <a data-is-external-link=\"true\" href=\"https://bitbucket.org/tidota/gazebo/commits/9831bf6a0ea99e42f09b792b2c78e6200e757670?at=gazebo9\" rel=\"nofollow\">https://bitbucket.org/tidota/gazebo/commits/9831bf6a0ea99e42f09b792b2c78e6200e757670?at=gazebo9</a></p>", "type": "rendered"}, "created_on": "2018-08-06T23:39:37.944934+00:00", "user": {"display_name": "User 86fd3", "uuid": "{e3645666-978a-455a-85c4-dcc342a8d822}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D"}, "html": {"href": "https://bitbucket.org/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D/"}, "avatar": {"href": "https://avatar-cdn.atlassian.com/default/128?ordinal=6"}}, "nickname": "User 86fd3", "type": "user", "account_id": "5aa97fa8e78b8c2a7c886fd3"}, "inline": {}, "updated_on": "2018-08-06T23:39:38.006198+00:00", "type": "pullrequest_comment", "id": 72142155}, "pull_request": {"type": "pullrequest", "id": 3003, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003"}}, "title": "Fix for the spawning light issue"}}, {"update": {"description": "There is an issue that a light is not rendered when a model which holds the light is spawned. It was found that a message being published to `~/model/info` does not have the light information.\r\n\r\nThanks to the help by @iche033 , this PR fixes this issue by publishing a correct message.\r\n\r\nThe testing code `LightFactoryTest.SpawnModelWithLight` in `INTEGRATION_factory` spawns a simple model with a light, and compares a message for `~/model/info`, which is listened by the rendering engine, and the entity information, which the physics engine actually has.\r\n\r\n\u200c\r\n\r\n---\r\n\r\nHere are some details.\r\n\r\nWhen a model is being spawned, the process goes in the following order:\r\n\r\n1. Load\r\n2. FillMsg\r\n3. Publish ->`` `~/model/info``\r\n4. Init\r\n\r\nFillMsg \\(# 2\\) looks up the list of light objects in a link object. However, the light objects are added to the list at # 4. So the message sent to `~/model/info` does not contain the light information.\r\n\r\nThis PR moves the line of adding the lights from # 4 to # 1, so the FillMsg can see the light objects to include in a message.", "title": "Fix for the spawning light issue", "destination": {"commit": {"hash": "1561a52d5a7c", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/1561a52d5a7c.json"}, "html": {"href": "#!/osrf/gazebo/commits/1561a52d5a7c"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo9"}}, "reason": "", "source": {"commit": {"hash": "9831bf6a0ea9", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/tidota/gazebo/commit/9831bf6a0ea9"}, "html": {"href": "https://bitbucket.org/tidota/gazebo/commits/9831bf6a0ea9"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/tidota/gazebo"}, "html": {"href": "https://bitbucket.org/tidota/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{9b232d84-6bca-45a4-84c7-bfa140709a88}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "tidota/gazebo", "uuid": "{9b232d84-6bca-45a4-84c7-bfa140709a88}"}, "branch": {"name": "spawning_lights"}}, "state": "OPEN", "author": {"display_name": "User 86fd3", "uuid": "{e3645666-978a-455a-85c4-dcc342a8d822}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D"}, "html": {"href": "https://bitbucket.org/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D/"}, "avatar": {"href": "https://avatar-cdn.atlassian.com/default/128?ordinal=6"}}, "nickname": "User 86fd3", "type": "user", "account_id": "5aa97fa8e78b8c2a7c886fd3"}, "date": "2018-08-06T23:38:41.944948+00:00"}, "pull_request": {"type": "pullrequest", "id": 3003, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003"}}, "title": "Fix for the spawning light issue"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003/comments/72140772.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003/_/diff#comment-72140772"}}, "parent": {"id": 72140162, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003/comments/72140162.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003/_/diff#comment-72140162"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 3003, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003"}}, "title": "Fix for the spawning light issue"}, "content": {"raw": "Just for your code is fine.", "markup": "markdown", "html": "<p>Just for your code is fine.</p>", "type": "rendered"}, "created_on": "2018-08-06T23:09:22.601038+00:00", "user": {"display_name": "User 1bdbd", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "https://avatar-cdn.atlassian.com/default/128?ordinal=2"}}, "nickname": "User 1bdbd", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "inline": {}, "updated_on": "2018-08-06T23:09:22.609288+00:00", "type": "pullrequest_comment", "id": 72140772}, "pull_request": {"type": "pullrequest", "id": 3003, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003"}}, "title": "Fix for the spawning light issue"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003/comments/72140162.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003/_/diff#comment-72140162"}}, "parent": {"id": 72139516, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003/comments/72139516.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003/_/diff#comment-72139516"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 3003, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003"}}, "title": "Fix for the spawning light issue"}, "content": {"raw": "Should I also update the lines in other test cases in this source file?", "markup": "markdown", "html": "<p>Should I also update the lines in other test cases in this source file?</p>", "type": "rendered"}, "created_on": "2018-08-06T22:56:28.830681+00:00", "user": {"display_name": "User 86fd3", "uuid": "{e3645666-978a-455a-85c4-dcc342a8d822}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D"}, "html": {"href": "https://bitbucket.org/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D/"}, "avatar": {"href": "https://avatar-cdn.atlassian.com/default/128?ordinal=6"}}, "nickname": "User 86fd3", "type": "user", "account_id": "5aa97fa8e78b8c2a7c886fd3"}, "inline": {}, "updated_on": "2018-08-06T22:56:28.881023+00:00", "type": "pullrequest_comment", "id": 72140162}, "pull_request": {"type": "pullrequest", "id": 3003, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003"}}, "title": "Fix for the spawning light issue"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003/comments/72139516.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003/_/diff#comment-72139516"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 3003, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003"}}, "title": "Fix for the spawning light issue"}, "content": {"raw": "This is not consistent in Gazebo but the expected value should be placed as the first parameter. E.g.:\n\n    EXPECT_EQ(0, this->resMsg.id())\n\nThis way, if the expectation doesn\u2019t pass, it will properly show what is the expected value and the real value. See other expectations with the same issue.", "markup": "markdown", "html": "<p>This is not consistent in Gazebo but the expected value should be placed as the first parameter. E.g.:</p>\n<div class=\"codehilite\"><pre><span></span>EXPECT_EQ(0, this-&gt;resMsg.id())\n</pre></div>\n\n\n<p>This way, if the expectation doesn\u2019t pass, it will properly show what is the expected value and the real value. See other expectations with the same issue.</p>", "type": "rendered"}, "created_on": "2018-08-06T22:42:24.066171+00:00", "user": {"display_name": "User 1bdbd", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "https://avatar-cdn.atlassian.com/default/128?ordinal=2"}}, "nickname": "User 1bdbd", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "inline": {}, "updated_on": "2018-08-06T22:42:24.073539+00:00", "type": "pullrequest_comment", "id": 72139516}, "pull_request": {"type": "pullrequest", "id": 3003, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003"}}, "title": "Fix for the spawning light issue"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003/comments/71998982.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003/_/diff#comment-71998982"}}, "parent": {"id": 71998826, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003/comments/71998826.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003/_/diff#comment-71998826"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 3003, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003"}}, "title": "Fix for the spawning light issue"}, "content": {"raw": "Done: [https://bitbucket.org/tidota/gazebo/commits/ec1b945e9e2f3a31df3e64e4e6e328a2e7c0556d](https://bitbucket.org/tidota/gazebo/commits/ec1b945e9e2f3a31df3e64e4e6e328a2e7c0556d)", "markup": "markdown", "html": "<p>Done: <a data-is-external-link=\"true\" href=\"https://bitbucket.org/tidota/gazebo/commits/ec1b945e9e2f3a31df3e64e4e6e328a2e7c0556d\" rel=\"nofollow\">https://bitbucket.org/tidota/gazebo/commits/ec1b945e9e2f3a31df3e64e4e6e328a2e7c0556d</a></p>", "type": "rendered"}, "created_on": "2018-08-04T00:26:45.589195+00:00", "user": {"display_name": "User 86fd3", "uuid": "{e3645666-978a-455a-85c4-dcc342a8d822}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D"}, "html": {"href": "https://bitbucket.org/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D/"}, "avatar": {"href": "https://avatar-cdn.atlassian.com/default/128?ordinal=6"}}, "nickname": "User 86fd3", "type": "user", "account_id": "5aa97fa8e78b8c2a7c886fd3"}, "inline": {}, "updated_on": "2018-08-04T00:26:45.644038+00:00", "type": "pullrequest_comment", "id": 71998982}, "pull_request": {"type": "pullrequest", "id": 3003, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003"}}, "title": "Fix for the spawning light issue"}}, {"update": {"description": "There is an issue that a light is not rendered when a model which holds the light is spawned. It was found that a message being published to `~/model/info` does not have the light information.\r\n\r\nThanks to the help by @iche033 , this PR fixes this issue by publishing a correct message.\r\n\r\nThe testing code `LightFactoryTest.SpawnModelWithLight` in `INTEGRATION_factory` spawns a simple model with a light, and compares a message for `~/model/info`, which is listened by the rendering engine, and the entity information, which the physics engine actually has.\r\n\r\n\u200c\r\n\r\n---\r\n\r\nHere are some details.\r\n\r\nWhen a model is being spawned, the process goes in the following order:\r\n\r\n1. Load\r\n2. FillMsg\r\n3. Publish ->`` `~/model/info``\r\n4. Init\r\n\r\nFillMsg \\(# 2\\) looks up the list of light objects in a link object. However, the light objects are added to the list at # 4. So the message sent to `~/model/info` does not contain the light information.\r\n\r\nThis PR moves the line of adding the lights from # 4 to # 1, so the FillMsg can see the light objects to include in a message.", "title": "Fix for the spawning light issue", "destination": {"commit": {"hash": "1561a52d5a7c", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/1561a52d5a7c.json"}, "html": {"href": "#!/osrf/gazebo/commits/1561a52d5a7c"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo9"}}, "reason": "", "source": {"commit": {"hash": "ec1b945e9e2f", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/tidota/gazebo/commit/ec1b945e9e2f"}, "html": {"href": "https://bitbucket.org/tidota/gazebo/commits/ec1b945e9e2f"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/tidota/gazebo"}, "html": {"href": "https://bitbucket.org/tidota/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{9b232d84-6bca-45a4-84c7-bfa140709a88}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "tidota/gazebo", "uuid": "{9b232d84-6bca-45a4-84c7-bfa140709a88}"}, "branch": {"name": "spawning_lights"}}, "state": "OPEN", "author": {"display_name": "User 86fd3", "uuid": "{e3645666-978a-455a-85c4-dcc342a8d822}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D"}, "html": {"href": "https://bitbucket.org/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D/"}, "avatar": {"href": "https://avatar-cdn.atlassian.com/default/128?ordinal=6"}}, "nickname": "User 86fd3", "type": "user", "account_id": "5aa97fa8e78b8c2a7c886fd3"}, "date": "2018-08-04T00:26:01.072620+00:00"}, "pull_request": {"type": "pullrequest", "id": 3003, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003"}}, "title": "Fix for the spawning light issue"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003/comments/71998903.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003/_/diff#comment-71998903"}}, "parent": {"id": 71998807, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003/comments/71998807.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003/_/diff#comment-71998807"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 3003, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003"}}, "title": "Fix for the spawning light issue"}, "content": {"raw": "oh I missed it.\n\nya this should be fine", "markup": "markdown", "html": "<p>oh I missed it.</p>\n<p>ya this should be fine</p>", "type": "rendered"}, "created_on": "2018-08-04T00:22:03.121369+00:00", "user": {"display_name": "User b6cd5", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-cdn.atlassian.com/default/128?ordinal=6"}}, "nickname": "User b6cd5", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {}, "updated_on": "2018-08-04T00:22:03.127905+00:00", "type": "pullrequest_comment", "id": 71998903}, "pull_request": {"type": "pullrequest", "id": 3003, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003"}}, "title": "Fix for the spawning light issue"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003/comments/71998826.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003/_/diff#comment-71998826"}}, "parent": {"id": 71998723, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003/comments/71998723.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003/_/diff#comment-71998723"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 3003, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003"}}, "title": "Fix for the spawning light issue"}, "content": {"raw": "Oh, sorry! I will fix the typo.", "markup": "markdown", "html": "<p>Oh, sorry! I will fix the typo.</p>", "type": "rendered"}, "created_on": "2018-08-04T00:17:17.561869+00:00", "user": {"display_name": "User 86fd3", "uuid": "{e3645666-978a-455a-85c4-dcc342a8d822}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D"}, "html": {"href": "https://bitbucket.org/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D/"}, "avatar": {"href": "https://avatar-cdn.atlassian.com/default/128?ordinal=6"}}, "nickname": "User 86fd3", "type": "user", "account_id": "5aa97fa8e78b8c2a7c886fd3"}, "inline": {}, "updated_on": "2018-08-04T00:17:17.603376+00:00", "type": "pullrequest_comment", "id": 71998826}, "pull_request": {"type": "pullrequest", "id": 3003, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003"}}, "title": "Fix for the spawning light issue"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003/comments/71998807.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003/_/diff#comment-71998807"}}, "parent": {"id": 71998711, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003/comments/71998711.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003/_/diff#comment-71998711"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 3003, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003"}}, "title": "Fix for the spawning light issue"}, "content": {"raw": "The constructor has the initialization list for the flags, but should I move the initialization part to the test function?", "markup": "markdown", "html": "<p>The constructor has the initialization list for the flags, but should I move the initialization part to the test function?</p>", "type": "rendered"}, "created_on": "2018-08-04T00:16:41.341543+00:00", "user": {"display_name": "User 86fd3", "uuid": "{e3645666-978a-455a-85c4-dcc342a8d822}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D"}, "html": {"href": "https://bitbucket.org/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D/"}, "avatar": {"href": "https://avatar-cdn.atlassian.com/default/128?ordinal=6"}}, "nickname": "User 86fd3", "type": "user", "account_id": "5aa97fa8e78b8c2a7c886fd3"}, "inline": {}, "updated_on": "2018-08-04T00:16:41.393488+00:00", "type": "pullrequest_comment", "id": 71998807}, "pull_request": {"type": "pullrequest", "id": 3003, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003"}}, "title": "Fix for the spawning light issue"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003/comments/71998723.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003/_/diff#comment-71998723"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 3003, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003"}}, "title": "Fix for the spawning light issue"}, "content": {"raw": "`threre` ->`there`", "markup": "markdown", "html": "<p><code>threre</code> -&gt;<code>there</code></p>", "type": "rendered"}, "created_on": "2018-08-04T00:11:49.678916+00:00", "user": {"display_name": "User b6cd5", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-cdn.atlassian.com/default/128?ordinal=6"}}, "nickname": "User b6cd5", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {}, "updated_on": "2018-08-04T00:11:58.753563+00:00", "type": "pullrequest_comment", "id": 71998723}, "pull_request": {"type": "pullrequest", "id": 3003, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003"}}, "title": "Fix for the spawning light issue"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003/comments/71998716.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003/_/diff#comment-71998716"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 3003, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003"}}, "title": "Fix for the spawning light issue"}, "content": {"raw": "same here, init to `false`?", "markup": "markdown", "html": "<p>same here, init to <code>false</code>?</p>", "type": "rendered"}, "created_on": "2018-08-04T00:11:18.744320+00:00", "user": {"display_name": "User b6cd5", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-cdn.atlassian.com/default/128?ordinal=6"}}, "nickname": "User b6cd5", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {}, "updated_on": "2018-08-04T00:11:18.751979+00:00", "type": "pullrequest_comment", "id": 71998716}, "pull_request": {"type": "pullrequest", "id": 3003, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003"}}, "title": "Fix for the spawning light issue"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003/comments/71998711.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003/_/diff#comment-71998711"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 3003, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003"}}, "title": "Fix for the spawning light issue"}, "content": {"raw": "init to `false`?", "markup": "markdown", "html": "<p>init to <code>false</code>?</p>", "type": "rendered"}, "created_on": "2018-08-04T00:10:46.584588+00:00", "user": {"display_name": "User b6cd5", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-cdn.atlassian.com/default/128?ordinal=6"}}, "nickname": "User b6cd5", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {}, "updated_on": "2018-08-04T00:10:46.591128+00:00", "type": "pullrequest_comment", "id": 71998711}, "pull_request": {"type": "pullrequest", "id": 3003, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003"}}, "title": "Fix for the spawning light issue"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003/comments/71998652.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003/_/diff#comment-71998652"}}, "parent": {"id": 71998448, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003/comments/71998448.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003/_/diff#comment-71998448"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 3003, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003"}}, "title": "Fix for the spawning light issue"}, "content": {"raw": "Thanks. Here is the update: [https://bitbucket.org/tidota/gazebo/commits/ccbc0ed802dee6325e24c1ab87fac491c71f45ef?at=gazebo9](https://bitbucket.org/tidota/gazebo/commits/ccbc0ed802dee6325e24c1ab87fac491c71f45ef?at=gazebo9)", "markup": "markdown", "html": "<p>Thanks. Here is the update: <a data-is-external-link=\"true\" href=\"https://bitbucket.org/tidota/gazebo/commits/ccbc0ed802dee6325e24c1ab87fac491c71f45ef?at=gazebo9\" rel=\"nofollow\">https://bitbucket.org/tidota/gazebo/commits/ccbc0ed802dee6325e24c1ab87fac491c71f45ef?at=gazebo9</a></p>", "type": "rendered"}, "created_on": "2018-08-04T00:06:25.442107+00:00", "user": {"display_name": "User 86fd3", "uuid": "{e3645666-978a-455a-85c4-dcc342a8d822}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D"}, "html": {"href": "https://bitbucket.org/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D/"}, "avatar": {"href": "https://avatar-cdn.atlassian.com/default/128?ordinal=6"}}, "nickname": "User 86fd3", "type": "user", "account_id": "5aa97fa8e78b8c2a7c886fd3"}, "inline": {}, "updated_on": "2018-08-04T00:06:25.508060+00:00", "type": "pullrequest_comment", "id": 71998652}, "pull_request": {"type": "pullrequest", "id": 3003, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003"}}, "title": "Fix for the spawning light issue"}}, {"update": {"description": "There is an issue that a light is not rendered when a model which holds the light is spawned. It was found that a message being published to `~/model/info` does not have the light information.\r\n\r\nThanks to the help by @iche033 , this PR fixes this issue by publishing a correct message.\r\n\r\nThe testing code `LightFactoryTest.SpawnModelWithLight` in `INTEGRATION_factory` spawns a simple model with a light, and compares a message for `~/model/info`, which is listened by the rendering engine, and the entity information, which the physics engine actually has.\r\n\r\n\u200c\r\n\r\n---\r\n\r\nHere are some details.\r\n\r\nWhen a model is being spawned, the process goes in the following order:\r\n\r\n1. Load\r\n2. FillMsg\r\n3. Publish ->`` `~/model/info``\r\n4. Init\r\n\r\nFillMsg \\(# 2\\) looks up the list of light objects in a link object. However, the light objects are added to the list at # 4. So the message sent to `~/model/info` does not contain the light information.\r\n\r\nThis PR moves the line of adding the lights from # 4 to # 1, so the FillMsg can see the light objects to include in a message.", "title": "Fix for the spawning light issue", "destination": {"commit": {"hash": "1561a52d5a7c", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/1561a52d5a7c.json"}, "html": {"href": "#!/osrf/gazebo/commits/1561a52d5a7c"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo9"}}, "reason": "", "source": {"commit": {"hash": "ccbc0ed802de", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/tidota/gazebo/commit/ccbc0ed802de"}, "html": {"href": "https://bitbucket.org/tidota/gazebo/commits/ccbc0ed802de"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/tidota/gazebo"}, "html": {"href": "https://bitbucket.org/tidota/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{9b232d84-6bca-45a4-84c7-bfa140709a88}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "tidota/gazebo", "uuid": "{9b232d84-6bca-45a4-84c7-bfa140709a88}"}, "branch": {"name": "spawning_lights"}}, "state": "OPEN", "author": {"display_name": "User 86fd3", "uuid": "{e3645666-978a-455a-85c4-dcc342a8d822}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D"}, "html": {"href": "https://bitbucket.org/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D/"}, "avatar": {"href": "https://avatar-cdn.atlassian.com/default/128?ordinal=6"}}, "nickname": "User 86fd3", "type": "user", "account_id": "5aa97fa8e78b8c2a7c886fd3"}, "date": "2018-08-04T00:04:32.612547+00:00"}, "pull_request": {"type": "pullrequest", "id": 3003, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003"}}, "title": "Fix for the spawning light issue"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003/comments/71998448.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003/_/diff#comment-71998448"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 3003, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003"}}, "title": "Fix for the spawning light issue"}, "content": {"raw": "Can you add the comment below to explain the reason for this change:\n\n`The light need to be added to the list on Load (before Init) for the case when a model is created from a factory message. Otherwise the model msg published to the client will not contain an entry of this light`", "markup": "markdown", "html": "<p>Can you add the comment below to explain the reason for this change:</p>\n<p><code>The light need to be added to the list on Load (before Init) for the case when a model is created from a factory message. Otherwise the model msg published to the client will not contain an entry of this light</code></p>", "type": "rendered"}, "created_on": "2018-08-03T23:53:23.540343+00:00", "user": {"display_name": "User b6cd5", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-cdn.atlassian.com/default/128?ordinal=6"}}, "nickname": "User b6cd5", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {}, "updated_on": "2018-08-03T23:53:23.547360+00:00", "type": "pullrequest_comment", "id": 71998448}, "pull_request": {"type": "pullrequest", "id": 3003, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003"}}, "title": "Fix for the spawning light issue"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003/comments/71997525.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003/_/diff#comment-71997525"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 3003, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003"}}, "title": "Fix for the spawning light issue"}, "content": {"raw": "jenkins:\n\n* [xenial-gpu](https://build.osrfoundation.org/job/gazebo-ci-pr_any-xenial-amd64-gpu-nvidia/663/)\n* [homebrew](https://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/1561/)\n\n", "markup": "markdown", "html": "<p>jenkins:</p>\n<ul>\n<li><a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/job/gazebo-ci-pr_any-xenial-amd64-gpu-nvidia/663/\" rel=\"nofollow\">xenial-gpu</a></li>\n<li><a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/1561/\" rel=\"nofollow\">homebrew</a></li>\n</ul>", "type": "rendered"}, "created_on": "2018-08-03T23:12:27.633010+00:00", "user": {"display_name": "User b6cd5", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-cdn.atlassian.com/default/128?ordinal=6"}}, "nickname": "User b6cd5", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2018-08-03T23:12:27.638952+00:00", "type": "pullrequest_comment", "id": 71997525}, "pull_request": {"type": "pullrequest", "id": 3003, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003"}}, "title": "Fix for the spawning light issue"}}, {"update": {"description": "There is an issue that a light is not rendered when a model which holds the light is spawned. It was found that a message being published to `~/model/info` does not have the light information.\r\n\r\nThanks to the help by @iche033 , this PR fixes this issue by publishing a correct message.\r\n\r\nThe testing code `LightFactoryTest.SpawnModelWithLight` in `INTEGRATION_factory` spawns a simple model with a light, and compares a message for `~/model/info`, which is listened by the rendering engine, and the entity information, which the physics engine actually has.\r\n\r\n\u200c\r\n\r\n---\r\n\r\nHere are some details.\r\n\r\nWhen a model is being spawned, the process goes in the following order:\r\n\r\n1. Load\r\n2. FillMsg\r\n3. Publish ->`` `~/model/info``\r\n4. Init\r\n\r\nFillMsg \\(# 2\\) looks up the list of light objects in a link object. However, the light objects are added to the list at # 4. So the message sent to `~/model/info` does not contain the light information.\r\n\r\nThis PR moves the line of adding the lights from # 4 to # 1, so the FillMsg can see the light objects to include in a message.", "title": "Fix for the spawning light issue", "destination": {"commit": {"hash": "1561a52d5a7c", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/1561a52d5a7c.json"}, "html": {"href": "#!/osrf/gazebo/commits/1561a52d5a7c"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo9"}}, "reason": "", "source": {"commit": {"hash": "0d4175254fb4", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/tidota/gazebo/commit/0d4175254fb4"}, "html": {"href": "https://bitbucket.org/tidota/gazebo/commits/0d4175254fb4"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/tidota/gazebo"}, "html": {"href": "https://bitbucket.org/tidota/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{9b232d84-6bca-45a4-84c7-bfa140709a88}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "tidota/gazebo", "uuid": "{9b232d84-6bca-45a4-84c7-bfa140709a88}"}, "branch": {"name": "spawning_lights"}}, "state": "OPEN", "author": {"display_name": "User 86fd3", "uuid": "{e3645666-978a-455a-85c4-dcc342a8d822}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D"}, "html": {"href": "https://bitbucket.org/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D/"}, "avatar": {"href": "https://avatar-cdn.atlassian.com/default/128?ordinal=6"}}, "nickname": "User 86fd3", "type": "user", "account_id": "5aa97fa8e78b8c2a7c886fd3"}, "date": "2018-08-03T22:40:08.544401+00:00"}, "pull_request": {"type": "pullrequest", "id": 3003, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003"}}, "title": "Fix for the spawning light issue"}}, {"update": {"description": "There is an issue that a light is not rendered when a model which holds the light is spawned. It was found that a message being published to `~/model/info` does not have the light information.\r\n\r\nThanks to the help by @iche033 , this PR fixes this issue by publishing a correct message.\r\n\r\nThe testing code `LightFactoryTest.SpawnModelWithLight` in `INTEGRATION_factory` spawns a simple model with a light, and compares a message for `~/model/info`, which is listened by the rendering engine, and the entity information, which the physics engine actually has.\r\n\r\n\u200c\r\n\r\n---\r\n\r\nHere are some details.\r\n\r\nWhen a model is being spawned, the process goes in the following order:\r\n\r\n1. Load\r\n2. FillMsg\r\n3. Publish ->`` `~/model/info``\r\n4. Init\r\n\r\nFillMsg \\(#2\\) looks up the list of light objects in a link object. However, the light objects are added to the list at #4. So the message sent to `~/model/info` does not contain the light information.\r\n\r\nThis PR moves the line of adding the lights from #4 to #1, so the FillMsg can see the light objects to include in a message.", "title": "Fix for the spawning light issue", "destination": {"commit": {"hash": "1561a52d5a7c", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/1561a52d5a7c.json"}, "html": {"href": "#!/osrf/gazebo/commits/1561a52d5a7c"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo9"}}, "reason": "", "source": {"commit": {"hash": "0d4175254fb4", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/tidota/gazebo/commit/0d4175254fb4"}, "html": {"href": "https://bitbucket.org/tidota/gazebo/commits/0d4175254fb4"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/tidota/gazebo"}, "html": {"href": "https://bitbucket.org/tidota/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{9b232d84-6bca-45a4-84c7-bfa140709a88}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "tidota/gazebo", "uuid": "{9b232d84-6bca-45a4-84c7-bfa140709a88}"}, "branch": {"name": "spawning_lights"}}, "state": "OPEN", "author": {"display_name": "User 86fd3", "uuid": "{e3645666-978a-455a-85c4-dcc342a8d822}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D"}, "html": {"href": "https://bitbucket.org/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D/"}, "avatar": {"href": "https://avatar-cdn.atlassian.com/default/128?ordinal=6"}}, "nickname": "User 86fd3", "type": "user", "account_id": "5aa97fa8e78b8c2a7c886fd3"}, "date": "2018-08-03T22:38:51.589648+00:00"}, "pull_request": {"type": "pullrequest", "id": 3003, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003"}}, "title": "Fix for the spawning light issue"}}, {"update": {"description": "There is an issue that a light is not rendered when a model which holds the light is spawned. It was found that a message being published to `~/model/info` does not have the light information.\r\n\r\nThanks to the help by @iche033 , this PR fixes this issue by publishing a correct message.\r\n\r\nThe testing code `LightFactoryTest.SpawnModelWithLight` in `INTEGRATION_factory` spawns a simple model with a light, and compares a message for `~/model/info`, which is listened by the rendering engine, and the entity information, which the physics engine actually has.\r\n\r\n\u200c\r\n\r\n---\r\n\r\nHere are some details.\r\n\r\nWhen a model is being spawned, the process goes in the following order:\r\n\r\n1. Load\r\n2. FillMsg\r\n3. Publish ->`` `~/model/info``\r\n4. Init\r\n\r\nFillMsg \\(#2\\) looks up the list of light objects in a link object. However, the light objects are added to the list at #4. So the message sent to `~/model/info` does not contain the light information.\r\n\r\nThis PR moves the line of adding the lights from #4 to #1, so the FillMsg can see the light objects to include in a message.", "title": "Fix for the spawning light issue", "destination": {"commit": {"hash": "1561a52d5a7c", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/1561a52d5a7c.json"}, "html": {"href": "#!/osrf/gazebo/commits/1561a52d5a7c"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo9"}}, "reason": "", "source": {"commit": {"hash": "0d4175254fb4", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/tidota/gazebo/commit/0d4175254fb4"}, "html": {"href": "https://bitbucket.org/tidota/gazebo/commits/0d4175254fb4"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/tidota/gazebo"}, "html": {"href": "https://bitbucket.org/tidota/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{9b232d84-6bca-45a4-84c7-bfa140709a88}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "tidota/gazebo", "uuid": "{9b232d84-6bca-45a4-84c7-bfa140709a88}"}, "branch": {"name": "spawning_lights"}}, "state": "OPEN", "author": {"display_name": "User 86fd3", "uuid": "{e3645666-978a-455a-85c4-dcc342a8d822}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D"}, "html": {"href": "https://bitbucket.org/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D/"}, "avatar": {"href": "https://avatar-cdn.atlassian.com/default/128?ordinal=6"}}, "nickname": "User 86fd3", "type": "user", "account_id": "5aa97fa8e78b8c2a7c886fd3"}, "date": "2018-08-03T22:38:51.556028+00:00"}, "pull_request": {"type": "pullrequest", "id": 3003, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3003.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3003"}}, "title": "Fix for the spawning light issue"}}]}