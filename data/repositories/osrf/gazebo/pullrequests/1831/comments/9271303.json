{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9271303.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9271303"}}, "parent": {"id": 8616364, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/8616364.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-8616364"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}, "content": {"raw": "Regarding the maximum dissipation test failures:\n\nI ran the test as such:\n\n~~~\ntest/integration/INTEGRATION_physics_friction --gtest_filter=\"*MaximumDissip*\"\n~~~\n\nDon't have a solution yet, but it is failing because of a few things:\n\n - mu3 was active [`the_m >= 4` was true](#!/osrf/gazebo/src/8ffecaaee656fd8c22006651986e63f373484433/deps/opende/src/joints/contact.cpp?at=torsional_friction_louise#contact.cpp-310), which means dContactMu3 flag is set, is that what we want?\n - For cone friction constraint, [this check](#!/osrf/gazebo/src/8ffecaaee656fd8c22006651986e63f373484433/deps/opende/src/quickstep_pgs_lcp.cpp?at=torsional_friction_louise#quickstep_pgs_lcp.cpp-1503) returns true, but it shouldn't. What happens next is the algorithm attempts to compute cone friction using mu2 friction constraint and m3 torsional frictional constraint. So strange things happen and test fails.", "markup": "markdown", "html": "<p>Regarding the maximum dissipation test failures:</p>\n<p>I ran the test as such:</p>\n<div class=\"codehilite\"><pre><span></span>test/integration/INTEGRATION_physics_friction --gtest_filter=&quot;*MaximumDissip*&quot;\n</pre></div>\n\n\n<p>Don't have a solution yet, but it is failing because of a few things:</p>\n<ul>\n<li>mu3 was active <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/8ffecaaee656fd8c22006651986e63f373484433/deps/opende/src/joints/contact.cpp?at=torsional_friction_louise#contact.cpp-310\" rel=\"nofollow\"><code>the_m &gt;= 4</code> was true</a>, which means dContactMu3 flag is set, is that what we want?</li>\n<li>For cone friction constraint, <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/8ffecaaee656fd8c22006651986e63f373484433/deps/opende/src/quickstep_pgs_lcp.cpp?at=torsional_friction_louise#quickstep_pgs_lcp.cpp-1503\" rel=\"nofollow\">this check</a> returns true, but it shouldn't. What happens next is the algorithm attempts to compute cone friction using mu2 friction constraint and m3 torsional frictional constraint. So strange things happen and test fails.</li>\n</ul>", "type": "rendered"}, "created_on": "2015-08-21T06:54:59.897989+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": "2015-08-21T06:59:18.832401+00:00", "type": "pullrequest_comment", "id": 9271303}