{"pagelen": 50, "values": [{"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9408900.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9408900"}}, "parent": {"id": 9408655, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9408655.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9408655"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}, "content": {"raw": "I think the new logic makes sense. I'll merge it in if @scpeters is ok with it.", "markup": "markdown", "html": "<p>I think the new logic makes sense. I'll merge it in if @scpeters is ok with it.</p>", "type": "rendered"}, "created_on": "2015-08-26T18:48:45.613734+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2015-08-26T18:48:45.627655+00:00", "type": "pullrequest_comment", "id": 9408900}, "pull_request": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9408655.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9408655"}}, "parent": {"id": 9369562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9369562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9369562"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}, "content": {"raw": "I actually like the consistent defaults of all frictions coefficients to 1.0. Maybe implement a better check? (see b2be0a9)", "markup": "markdown", "html": "<p>I actually like the consistent defaults of all frictions coefficients to 1.0. Maybe implement a better check? (see <a href=\"#!/osrf/gazebo/commits/b2be0a9\" rel=\"nofollow\" class=\"ap-connect-link\">b2be0a9</a>)</p>", "type": "rendered"}, "created_on": "2015-08-26T18:42:45.605372+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": "2015-08-26T18:42:45.620257+00:00", "type": "pullrequest_comment", "id": 9408655}, "pull_request": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9401731.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9401731"}}, "parent": {"id": 9369562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9369562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9369562"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}, "content": {"raw": "Let me know what you guys think is best and I can make a new SDF pull request. I think we made `mu3 == 1` by default to be consistent with the other friction coefficients, but since it's a different thing, I think it could also make sense to have them different.", "markup": "markdown", "html": "<p>Let me know what you guys think is best and I can make a new SDF pull request. I think we made <code>mu3 == 1</code> by default to be consistent with the other friction coefficients, but since it's a different thing, I think it could also make sense to have them different.</p>", "type": "rendered"}, "created_on": "2015-08-26T15:25:03.223386+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2015-08-26T15:25:03.241804+00:00", "type": "pullrequest_comment", "id": 9401731}, "pull_request": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}}, {"approval": {"date": "2015-08-26T06:16:31.622726+00:00", "pullrequest": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}, "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}}, "pull_request": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9369562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9369562"}}, "parent": {"id": 9369341, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9369341.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9369341"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}, "content": {"raw": "In that case I would vote for making `mu3` default to zero (requires another sdformat pull request). We should be be able to describe the parameters in the tutorial, so the default shouldn't mislead people.", "markup": "markdown", "html": "<p>In that case I would vote for making <code>mu3</code> default to zero (requires another sdformat pull request). We should be be able to describe the parameters in the tutorial, so the default shouldn't mislead people.</p>", "type": "rendered"}, "created_on": "2015-08-25T18:49:31.040098+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2015-08-25T18:49:31.055584+00:00", "type": "pullrequest_comment", "id": 9369562}, "pull_request": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9369341.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9369341"}}, "parent": {"id": 9298077, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9298077.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9298077"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}, "content": {"raw": "minor note, unfortunately, default `mu3 = 1` and default `patch_radius = 0`, which means we end up computing torsional friction constraints with zero patch area, small extra work without changing the results from before this PR.  On the other hand if we do check patch radius as well as friction coefficient to enable `dContactMu3`, the check could be a bit more involved.", "markup": "markdown", "html": "<p>minor note, unfortunately, default <code>mu3 = 1</code> and default <code>patch_radius = 0</code>, which means we end up computing torsional friction constraints with zero patch area, small extra work without changing the results from before this PR.  On the other hand if we do check patch radius as well as friction coefficient to enable <code>dContactMu3</code>, the check could be a bit more involved.</p>", "type": "rendered"}, "created_on": "2015-08-25T18:43:27.533162+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": "2015-08-25T18:43:27.540738+00:00", "type": "pullrequest_comment", "id": 9369341}, "pull_request": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9336316.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9336316"}}, "parent": {"id": 9336301, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9336301.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9336301"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}, "content": {"raw": "Sure, I built from `default` already. Thanks!", "markup": "markdown", "html": "<p>Sure, I built from <code>default</code> already. Thanks!</p>", "type": "rendered"}, "created_on": "2015-08-24T23:16:47.896437+00:00", "user": {"display_name": "Ying Lu", "uuid": "{11ec131e-4af6-4228-beaf-167b1c8d1c2c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D"}, "html": {"href": "https://bitbucket.org/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:659bfe31-d941-44f5-aa6d-00058b070ea8/c88d5925-8a09-40c7-8684-c02aeafe0f59/128"}}, "nickname": "rosebudflyaway", "type": "user", "account_id": "557058:659bfe31-d941-44f5-aa6d-00058b070ea8"}, "updated_on": "2015-08-24T23:16:47.948388+00:00", "type": "pullrequest_comment", "id": 9336316}, "pull_request": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9336301.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9336301"}}, "parent": {"id": 9335858, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9335858.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9335858"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}, "content": {"raw": "Actually, that won't work yet, sorry. The debian was built but not uploaded to the repository. We are looking into it. In the meantime, please build from source, either `sdf3` or `default` branch", "markup": "markdown", "html": "<p>Actually, that won't work yet, sorry. The debian was built but not uploaded to the repository. We are looking into it. In the meantime, please build from source, either <code>sdf3</code> or <code>default</code> branch</p>", "type": "rendered"}, "created_on": "2015-08-24T23:15:56.548216+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2015-08-24T23:15:56.555189+00:00", "type": "pullrequest_comment", "id": 9336301}, "pull_request": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9335858.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9335858"}}, "parent": {"id": 9335656, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9335656.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9335656"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}, "content": {"raw": "Thanks, I will do that. \n", "markup": "markdown", "html": "<p>Thanks, I will do that. </p>", "type": "rendered"}, "created_on": "2015-08-24T22:46:33.069518+00:00", "user": {"display_name": "Ying Lu", "uuid": "{11ec131e-4af6-4228-beaf-167b1c8d1c2c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D"}, "html": {"href": "https://bitbucket.org/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:659bfe31-d941-44f5-aa6d-00058b070ea8/c88d5925-8a09-40c7-8684-c02aeafe0f59/128"}}, "nickname": "rosebudflyaway", "type": "user", "account_id": "557058:659bfe31-d941-44f5-aa6d-00058b070ea8"}, "updated_on": "2015-08-24T22:46:33.117595+00:00", "type": "pullrequest_comment", "id": 9335858}, "pull_request": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9335656.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9335656"}}, "parent": {"id": 9330351, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9330351.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9330351"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}, "content": {"raw": "you can also install the latest sdformat3 debs", "markup": "markdown", "html": "<p>you can also install the latest sdformat3 debs</p>", "type": "rendered"}, "created_on": "2015-08-24T22:28:20.719437+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2015-08-24T22:28:20.726704+00:00", "type": "pullrequest_comment", "id": 9335656}, "pull_request": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9333902.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9333902"}}, "parent": {"id": 9331064, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9331064.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9331064"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}, "content": {"raw": "Thanks a lot @hsu . I checked that all tests pass locally and queued a new jenkins [build](http://build.osrfoundation.org/job/gazebo-any-devel-trusty-amd64-no-gpu/). I also removed debug statements and a few changes to the world files which weren't in the .erb. Please let me know if any of those were important.", "markup": "markdown", "html": "<p>Thanks a lot @hsu . I checked that all tests pass locally and queued a new jenkins <a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/job/gazebo-any-devel-trusty-amd64-no-gpu/\" rel=\"nofollow\">build</a>. I also removed debug statements and a few changes to the world files which weren't in the .erb. Please let me know if any of those were important.</p>", "type": "rendered"}, "created_on": "2015-08-24T21:07:46.005126+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2015-08-24T21:07:46.018143+00:00", "type": "pullrequest_comment", "id": 9333902}, "pull_request": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}}, {"update": {"description": "[sdformat pull rqeust](https://bitbucket.org/osrf/sdformat/pull-request/205/torsional-friction/diff)\r\n\r\n[tutorials pull request](https://bitbucket.org/osrf/sdformat/pull-request/205/torsional-friction/diff)", "title": "Torsional friction", "destination": {"commit": {"hash": "da9d7ded55d6", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/da9d7ded55d6.json"}, "html": {"href": "#!/osrf/gazebo/commits/da9d7ded55d6"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "1255160643cc", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/1255160643cc.json"}, "html": {"href": "#!/osrf/gazebo/commits/1255160643cc"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "torsional_friction_louise"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2015-08-24T21:07:00.019281+00:00"}, "pull_request": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}}, {"update": {"description": "[sdformat pull rqeust](https://bitbucket.org/osrf/sdformat/pull-request/205/torsional-friction/diff)\r\n\r\n[tutorials pull request](https://bitbucket.org/osrf/sdformat/pull-request/205/torsional-friction/diff)", "title": "Torsional friction", "destination": {"commit": {"hash": "da9d7ded55d6", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/da9d7ded55d6.json"}, "html": {"href": "#!/osrf/gazebo/commits/da9d7ded55d6"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "97f44ecdfa4a", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/97f44ecdfa4a.json"}, "html": {"href": "#!/osrf/gazebo/commits/97f44ecdfa4a"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "torsional_friction_louise"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2015-08-24T21:04:14.566041+00:00"}, "pull_request": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}}, {"update": {"description": "[sdformat pull rqeust](https://bitbucket.org/osrf/sdformat/pull-request/205/torsional-friction/diff)\r\n\r\n[tutorials pull request](https://bitbucket.org/osrf/sdformat/pull-request/205/torsional-friction/diff)", "title": "Torsional friction", "destination": {"commit": {"hash": "da9d7ded55d6", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/da9d7ded55d6.json"}, "html": {"href": "#!/osrf/gazebo/commits/da9d7ded55d6"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "171f27d2f89a", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/171f27d2f89a.json"}, "html": {"href": "#!/osrf/gazebo/commits/171f27d2f89a"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "torsional_friction_louise"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2015-08-24T20:33:31.753091+00:00"}, "pull_request": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9331064.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9331064"}}, "parent": {"id": 9330351, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9330351.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9330351"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}, "content": {"raw": "you'll need to compile sdformat from default.\n\nAnyhow, I think my branch has all the necessary tweaks for torsional friction and friction cone calculation to work side by side now.  @chapulina please consider merging.\n", "markup": "markdown", "html": "<p>you'll need to compile sdformat from default.</p>\n<p>Anyhow, I think my branch has all the necessary tweaks for torsional friction and friction cone calculation to work side by side now.  @chapulina please consider merging.</p>", "type": "rendered"}, "created_on": "2015-08-24T19:29:47.136758+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": "2015-08-24T19:29:47.147693+00:00", "type": "pullrequest_comment", "id": 9331064}, "pull_request": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9330867.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9330867"}}, "parent": {"id": 9301908, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9301908.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9301908"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}, "content": {"raw": "I found the problem!  I forgot to flip the check to do \"previous index\" before \"next index\" in the assignment of bounds in `dxConeFrictionModel`.\n\nSee 527c044\n\nThis is important to prevent using mu3 constraint row for cone friction update, see my [comment](#!/osrf/gazebo/src/527c04406a39d8e26180ae69484845a93bcf4d6b/deps/opende/src/quickstep_pgs_lcp.cpp?at=torsional_friction_john#quickstep_pgs_lcp.cpp-1520).\n\nIf we enter the cone friction code on the first friction constraint row, then: \n\n  1. previous row check fails\n  1. next row check is fine, and cone friction is updated\n\nif we enter the cone friction code on the second friction constraint row, then:\n\n  1. previous row check is fine, cone friction is updated.\n  1. doesn't happen\n\nWhen the check order is reversed, and we enter the cone friction code on the second friction constraint row,\n\n  1. next constraint row *works*, but it's a torsional friction constraint, wrong result is computed.\n", "markup": "markdown", "html": "<p>I found the problem!  I forgot to flip the check to do \"previous index\" before \"next index\" in the assignment of bounds in <code>dxConeFrictionModel</code>.</p>\n<p>See <a href=\"#!/osrf/gazebo/commits/527c044\" rel=\"nofollow\" class=\"ap-connect-link\">527c044</a></p>\n<p>This is important to prevent using mu3 constraint row for cone friction update, see my <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/527c04406a39d8e26180ae69484845a93bcf4d6b/deps/opende/src/quickstep_pgs_lcp.cpp?at=torsional_friction_john#quickstep_pgs_lcp.cpp-1520\" rel=\"nofollow\">comment</a>.</p>\n<p>If we enter the cone friction code on the first friction constraint row, then: </p>\n<ol>\n<li>previous row check fails</li>\n<li>next row check is fine, and cone friction is updated</li>\n</ol>\n<p>if we enter the cone friction code on the second friction constraint row, then:</p>\n<ol>\n<li>previous row check is fine, cone friction is updated.</li>\n<li>doesn't happen</li>\n</ol>\n<p>When the check order is reversed, and we enter the cone friction code on the second friction constraint row,</p>\n<ol>\n<li>next constraint row <em>works</em>, but it's a torsional friction constraint, wrong result is computed.</li>\n</ol>", "type": "rendered"}, "created_on": "2015-08-24T19:21:32.265064+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": "2015-08-24T19:26:29.182839+00:00", "type": "pullrequest_comment", "id": 9330867}, "pull_request": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9297040.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9297040"}}, "parent": {"id": 9289766, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9289766.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9289766"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}, "content": {"raw": "added check to see if `mu3` is greater than zero before adding `dContactMu3`.", "markup": "markdown", "html": "<p>added check to see if <code>mu3</code> is greater than zero before adding <code>dContactMu3</code>.</p>", "type": "rendered"}, "created_on": "2015-08-21T23:57:36.089528+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "inline": {}, "updated_on": "2015-08-24T19:14:33.524652+00:00", "type": "pullrequest_comment", "id": 9297040}, "pull_request": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9330351.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9330351"}}, "parent": {"id": 9330205, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9330205.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9330205"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}, "content": {"raw": "I cannot test this, due to issue `Missing element description for [torsional]`", "markup": "markdown", "html": "<p>I cannot test this, due to issue <code>Missing element description for [torsional]</code></p>", "type": "rendered"}, "created_on": "2015-08-24T19:01:07.839749+00:00", "user": {"display_name": "Ying Lu", "uuid": "{11ec131e-4af6-4228-beaf-167b1c8d1c2c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D"}, "html": {"href": "https://bitbucket.org/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:659bfe31-d941-44f5-aa6d-00058b070ea8/c88d5925-8a09-40c7-8684-c02aeafe0f59/128"}}, "nickname": "rosebudflyaway", "type": "user", "account_id": "557058:659bfe31-d941-44f5-aa6d-00058b070ea8"}, "updated_on": "2015-08-24T19:01:07.889662+00:00", "type": "pullrequest_comment", "id": 9330351}, "pull_request": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9330205.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9330205"}}, "parent": {"id": 9329647, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9329647.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9329647"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}, "content": {"raw": "note, uncommenting the `printf` line previous to the conditional shows:\n\n`1, 2, 3, 1, 2, 3, ...` for a test with torsional friction turned on.", "markup": "markdown", "html": "<p>note, uncommenting the <code>printf</code> line previous to the conditional shows:</p>\n<p><code>1, 2, 3, 1, 2, 3, ...</code> for a test with torsional friction turned on.</p>", "type": "rendered"}, "created_on": "2015-08-24T18:55:30.081299+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": "2015-08-24T18:55:30.089889+00:00", "type": "pullrequest_comment", "id": 9330205}, "pull_request": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9329735.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9329735"}}, "parent": {"id": 9329647, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9329647.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9329647"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}, "content": {"raw": "Ohhh, yeah, you are right. We resize the constraint indices to have `4` rows for contact", "markup": "markdown", "html": "<p>Ohhh, yeah, you are right. We resize the constraint indices to have <code>4</code> rows for contact</p>", "type": "rendered"}, "created_on": "2015-08-24T18:39:19.131130+00:00", "user": {"display_name": "Ying Lu", "uuid": "{11ec131e-4af6-4228-beaf-167b1c8d1c2c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D"}, "html": {"href": "https://bitbucket.org/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:659bfe31-d941-44f5-aa6d-00058b070ea8/c88d5925-8a09-40c7-8684-c02aeafe0f59/128"}}, "nickname": "rosebudflyaway", "type": "user", "account_id": "557058:659bfe31-d941-44f5-aa6d-00058b070ea8"}, "updated_on": "2015-08-24T18:39:19.267248+00:00", "type": "pullrequest_comment", "id": 9329735}, "pull_request": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9329681.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9329681"}}, "parent": {"id": 9302124, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9302124.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9302124"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}, "content": {"raw": "that was a bad push of debug code. Should have been corrected.", "markup": "markdown", "html": "<p>that was a bad push of debug code. Should have been corrected.</p>", "type": "rendered"}, "created_on": "2015-08-24T18:37:37.098185+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": "2015-08-24T18:37:37.108269+00:00", "type": "pullrequest_comment", "id": 9329681}, "pull_request": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9329647.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9329647"}}, "parent": {"id": 9302484, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9302484.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9302484"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}, "content": {"raw": "I thought it might looks like this:\n\n`index`:  0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11\n\n`constraint_index`: -2, 0, 0, 0, -2, 4, 4, 4, -2, 8, 8, 8\n\n`index - constraint_index`:  x, 1, 2, 3, x, 1, 2, 3, x, 1, 2, 3\n", "markup": "markdown", "html": "<p>I thought it might looks like this:</p>\n<p><code>index</code>:  0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11</p>\n<p><code>constraint_index</code>: -2, 0, 0, 0, -2, 4, 4, 4, -2, 8, 8, 8</p>\n<p><code>index - constraint_index</code>:  x, 1, 2, 3, x, 1, 2, 3, x, 1, 2, 3</p>", "type": "rendered"}, "created_on": "2015-08-24T18:36:07.761865+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": "2015-08-24T18:36:36.605248+00:00", "type": "pullrequest_comment", "id": 9329647}, "pull_request": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9302484.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9302484"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}, "content": {"raw": "Another concern is related to [this line](#!/osrf/gazebo/src/228f9e8990f995f913e6bfc9a34d966b6593aa95/deps/opende/src/quickstep_pgs_lcp.cpp?at=torsional_friction_john#quickstep_pgs_lcp.cpp-557),  \nwhere we use `(index - constraint_index >= 3)` to decide whether it is torsional friction constraint: \n\nSuppose we have `12` constraint rows, `3` contacts, each contact has `1` normal, `2` coulomb friction, `1` torsional friction, then   \n\nIf we have index as:           0,  1,  2,  3,  4,  5,  6,  7,  8,  9,  10, 11  \nThe constraint index as:   -2,  0,  0,  0, -2,  3,  3,  3, -2,  6,   6,  6\n\nFor clear reading, put `index` on first row, `constraint_index` on second row.  \n 0,  1,  2,  3,  4,  5,  6,  7,  8,  9,  10, 11      \n-2,  0,  0,  0, -2,  3,  3,  3, -2,  6,   6,  6   \n\n\nThen we would know `(index - constraint_index >= 3)` only satisfy for `1st` contact, not the others.   \nI might be wrong here if I miss something, otherwise, this might cause problem for multiple contacts.", "markup": "markdown", "html": "<p>Another concern is related to <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/228f9e8990f995f913e6bfc9a34d966b6593aa95/deps/opende/src/quickstep_pgs_lcp.cpp?at=torsional_friction_john#quickstep_pgs_lcp.cpp-557\" rel=\"nofollow\">this line</a>,<br />\nwhere we use <code>(index - constraint_index &gt;= 3)</code> to decide whether it is torsional friction constraint: </p>\n<p>Suppose we have <code>12</code> constraint rows, <code>3</code> contacts, each contact has <code>1</code> normal, <code>2</code> coulomb friction, <code>1</code> torsional friction, then   </p>\n<p>If we have index as:           0,  1,  2,  3,  4,  5,  6,  7,  8,  9,  10, 11<br />\nThe constraint index as:   -2,  0,  0,  0, -2,  3,  3,  3, -2,  6,   6,  6</p>\n<p>For clear reading, put <code>index</code> on first row, <code>constraint_index</code> on second row.<br />\n 0,  1,  2,  3,  4,  5,  6,  7,  8,  9,  10, 11    <br />\n-2,  0,  0,  0, -2,  3,  3,  3, -2,  6,   6,  6   </p>\n<p>Then we would know <code>(index - constraint_index &gt;= 3)</code> only satisfy for <code>1st</code> contact, not the others. <br />\nI might be wrong here if I miss something, otherwise, this might cause problem for multiple contacts.</p>", "type": "rendered"}, "created_on": "2015-08-23T21:10:29.881176+00:00", "user": {"display_name": "Ying Lu", "uuid": "{11ec131e-4af6-4228-beaf-167b1c8d1c2c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D"}, "html": {"href": "https://bitbucket.org/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:659bfe31-d941-44f5-aa6d-00058b070ea8/c88d5925-8a09-40c7-8684-c02aeafe0f59/128"}}, "nickname": "rosebudflyaway", "type": "user", "account_id": "557058:659bfe31-d941-44f5-aa6d-00058b070ea8"}, "updated_on": "2015-08-23T21:12:11.128111+00:00", "type": "pullrequest_comment", "id": 9302484}, "pull_request": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9302215.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9302215"}}, "parent": {"id": 9267340, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9267340.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9267340"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}, "content": {"raw": "Thanks for the detailed instruction, I have reproduced the simulation, tracking the `box_yx` and `box_xy`, I fee both of them have some kind of   \nzig-zag trajectory.  \nOne quick question, if I would like to test the `maximum_dissipation` test in `integration/physics_friction`, which `sdformat` branch should I use?   \nI got some error:  \n\n\n```\n#!c++\n\nError [Element.cc:671] Missing element description for [torsional]\nINTEGRATION_physics_friction: /usr/include/boost/smart_ptr/shared_ptr.hpp:653: typename boost::detail::sp_member_access<T>::type boost::shared_ptr<T>::operator->() const [with T = sdf::Element; typename boost::detail::sp_member_access<T>::type = sdf::Element*]: Assertion `px != 0' failed.\n\n```\n", "markup": "markdown", "html": "<p>Thanks for the detailed instruction, I have reproduced the simulation, tracking the <code>box_yx</code> and <code>box_xy</code>, I fee both of them have some kind of <br />\nzig-zag trajectory.<br />\nOne quick question, if I would like to test the <code>maximum_dissipation</code> test in <code>integration/physics_friction</code>, which <code>sdformat</code> branch should I use? <br />\nI got some error:  </p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"n\">Error</span> <span class=\"p\">[</span><span class=\"n\">Element</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">671</span><span class=\"p\">]</span> <span class=\"n\">Missing</span> <span class=\"n\">element</span> <span class=\"n\">description</span> <span class=\"k\">for</span> <span class=\"p\">[</span><span class=\"n\">torsional</span><span class=\"p\">]</span>\n<span class=\"nl\">INTEGRATION_physics_friction</span><span class=\"p\">:</span> <span class=\"o\">/</span><span class=\"n\">usr</span><span class=\"o\">/</span><span class=\"n\">include</span><span class=\"o\">/</span><span class=\"n\">boost</span><span class=\"o\">/</span><span class=\"n\">smart_ptr</span><span class=\"o\">/</span><span class=\"n\">shared_ptr</span><span class=\"p\">.</span><span class=\"nl\">hpp</span><span class=\"p\">:</span><span class=\"mi\">653</span><span class=\"o\">:</span> <span class=\"k\">typename</span> <span class=\"n\">boost</span><span class=\"o\">::</span><span class=\"n\">detail</span><span class=\"o\">::</span><span class=\"n\">sp_member_access</span><span class=\"o\">&lt;</span><span class=\"n\">T</span><span class=\"o\">&gt;::</span><span class=\"n\">type</span> <span class=\"n\">boost</span><span class=\"o\">::</span><span class=\"n\">shared_ptr</span><span class=\"o\">&lt;</span><span class=\"n\">T</span><span class=\"o\">&gt;::</span><span class=\"k\">operator</span><span class=\"o\">-&gt;</span><span class=\"p\">()</span> <span class=\"k\">const</span> <span class=\"p\">[</span><span class=\"n\">with</span> <span class=\"n\">T</span> <span class=\"o\">=</span> <span class=\"n\">sdf</span><span class=\"o\">::</span><span class=\"n\">Element</span><span class=\"p\">;</span> <span class=\"k\">typename</span> <span class=\"n\">boost</span><span class=\"o\">::</span><span class=\"n\">detail</span><span class=\"o\">::</span><span class=\"n\">sp_member_access</span><span class=\"o\">&lt;</span><span class=\"n\">T</span><span class=\"o\">&gt;::</span><span class=\"n\">type</span> <span class=\"o\">=</span> <span class=\"n\">sdf</span><span class=\"o\">::</span><span class=\"n\">Element</span><span class=\"o\">*</span><span class=\"p\">]</span><span class=\"o\">:</span> <span class=\"n\">Assertion</span> <span class=\"err\">`</span><span class=\"n\">px</span> <span class=\"o\">!=</span> <span class=\"mi\">0</span><span class=\"err\">&#39;</span> <span class=\"n\">failed</span><span class=\"p\">.</span>\n</pre></div>", "type": "rendered"}, "created_on": "2015-08-23T19:21:20.506454+00:00", "user": {"display_name": "Ying Lu", "uuid": "{11ec131e-4af6-4228-beaf-167b1c8d1c2c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D"}, "html": {"href": "https://bitbucket.org/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:659bfe31-d941-44f5-aa6d-00058b070ea8/c88d5925-8a09-40c7-8684-c02aeafe0f59/128"}}, "nickname": "rosebudflyaway", "type": "user", "account_id": "557058:659bfe31-d941-44f5-aa6d-00058b070ea8"}, "updated_on": "2015-08-23T19:21:20.575280+00:00", "type": "pullrequest_comment", "id": 9302215}, "pull_request": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9302124.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9302124"}}, "parent": {"id": 9272630, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9272630.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9272630"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}, "content": {"raw": "Does [this](#!/osrf/gazebo/commits/b0822e6#Ldeps/opende/src/joints/contact.cppT374) mean the `findex` for `torsional_friction` is `-1` ?  instead of equal to `findex` of `coulomb_friction`", "markup": "markdown", "html": "<p>Does <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/commits/b0822e6#Ldeps/opende/src/joints/contact.cppT374\" rel=\"nofollow\">this</a> mean the <code>findex</code> for <code>torsional_friction</code> is <code>-1</code> ?  instead of equal to <code>findex</code> of <code>coulomb_friction</code></p>", "type": "rendered"}, "created_on": "2015-08-23T18:54:06.893988+00:00", "user": {"display_name": "Ying Lu", "uuid": "{11ec131e-4af6-4228-beaf-167b1c8d1c2c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D"}, "html": {"href": "https://bitbucket.org/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:659bfe31-d941-44f5-aa6d-00058b070ea8/c88d5925-8a09-40c7-8684-c02aeafe0f59/128"}}, "nickname": "rosebudflyaway", "type": "user", "account_id": "557058:659bfe31-d941-44f5-aa6d-00058b070ea8"}, "updated_on": "2015-08-23T18:54:06.961191+00:00", "type": "pullrequest_comment", "id": 9302124}, "pull_request": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9301908.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9301908"}}, "parent": {"id": 9271303, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9271303.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9271303"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}, "content": {"raw": "Confirmed the second point: \n\"For cone friction constraint, this check returns true, but it shouldn't. What happens next is the algorithm attempts to compute cone friction  \nusing mu2 friction constraint and m3 torsional frictional constraint. So strange things happen and test fails.\"\n\n that's why I had that point earlier: there will be problem if the `findex` is the same for `torsional_friction`, and `coulomb friction`.   \nStill work on this to see how to decouple the check between two directions of coulomb friction and torsional friction", "markup": "markdown", "html": "<p>Confirmed the second point: \n\"For cone friction constraint, this check returns true, but it shouldn't. What happens next is the algorithm attempts to compute cone friction<br />\nusing mu2 friction constraint and m3 torsional frictional constraint. So strange things happen and test fails.\"</p>\n<p>that's why I had that point earlier: there will be problem if the <code>findex</code> is the same for <code>torsional_friction</code>, and <code>coulomb friction</code>. <br />\nStill work on this to see how to decouple the check between two directions of coulomb friction and torsional friction</p>", "type": "rendered"}, "created_on": "2015-08-23T17:22:53.168055+00:00", "user": {"display_name": "Ying Lu", "uuid": "{11ec131e-4af6-4228-beaf-167b1c8d1c2c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D"}, "html": {"href": "https://bitbucket.org/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:659bfe31-d941-44f5-aa6d-00058b070ea8/c88d5925-8a09-40c7-8684-c02aeafe0f59/128"}}, "nickname": "rosebudflyaway", "type": "user", "account_id": "557058:659bfe31-d941-44f5-aa6d-00058b070ea8"}, "updated_on": "2015-08-23T17:24:06.662045+00:00", "type": "pullrequest_comment", "id": 9301908}, "pull_request": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9298077.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9298077"}}, "parent": {"id": 9297234, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9297234.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9297234"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}, "content": {"raw": "ok, in my branch I added a check if `mu3` is not greater than 0, `dContactMu3` bit is not set.  Similarly for `slip3`.\n\nsee 228f9e8\n\nBoth test pass in that branch now.  Unfortunately, I had to explicitly set torsional coefficient to 0 in the maximum dissipation test in order for it to pass. Which means, there might still be a bug when both options are on.  But at least separately things work correctly now.", "markup": "markdown", "html": "<p>ok, in my branch I added a check if <code>mu3</code> is not greater than 0, <code>dContactMu3</code> bit is not set.  Similarly for <code>slip3</code>.</p>\n<p>see <a href=\"#!/osrf/gazebo/commits/228f9e8\" rel=\"nofollow\" class=\"ap-connect-link\">228f9e8</a></p>\n<p>Both test pass in that branch now.  Unfortunately, I had to explicitly set torsional coefficient to 0 in the maximum dissipation test in order for it to pass. Which means, there might still be a bug when both options are on.  But at least separately things work correctly now.</p>", "type": "rendered"}, "created_on": "2015-08-22T07:47:22.800816+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": "2015-08-22T07:47:22.806363+00:00", "type": "pullrequest_comment", "id": 9298077}, "pull_request": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9297234.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9297234"}}, "parent": {"id": 9271303, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9271303.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9271303"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}, "content": {"raw": "I mentioned `dContactMu3` being always set because of your comment here. If I understand well what you did in your branch, you added an [if statement](#!/osrf/gazebo/branches/compare/torsional_friction_john%0Dtorsional_friction_louise#Ldeps/opende/src/quickstep_pgs_lcp.cppT557) which will always be true because of that.", "markup": "markdown", "html": "<p>I mentioned <code>dContactMu3</code> being always set because of your comment here. If I understand well what you did in your branch, you added an <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/branches/compare/torsional_friction_john%0Dtorsional_friction_louise#Ldeps/opende/src/quickstep_pgs_lcp.cppT557\" rel=\"nofollow\">if statement</a> which will always be true because of that.</p>", "type": "rendered"}, "created_on": "2015-08-22T00:33:45.356830+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2015-08-22T00:33:45.364389+00:00", "type": "pullrequest_comment", "id": 9297234}, "pull_request": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9297017.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9297017"}}, "parent": {"id": 9290487, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9290487.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9290487"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}, "content": {"raw": "fixed in 82043fa, both tests pass now.  Problem was I forgot to multiply the projection limits by lambda for torsional case.", "markup": "markdown", "html": "<p>fixed in <a href=\"#!/osrf/gazebo/commits/82043fa\" rel=\"nofollow\" class=\"ap-connect-link\">82043fa</a>, both tests pass now.  Problem was I forgot to multiply the projection limits by lambda for torsional case.</p>", "type": "rendered"}, "created_on": "2015-08-21T23:55:43.771678+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": "2015-08-21T23:55:43.781127+00:00", "type": "pullrequest_comment", "id": 9297017}, "pull_request": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9290487.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9290487"}}, "parent": {"id": 9272630, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9272630.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9272630"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}, "content": {"raw": "I tried merging in your branch but `PhysicsTorsionalFrictionTest.CoefficientTest` fails. Also, the example world behaves differently, there seems to be less friction... The errors are like this:\n\n~~~\n[ RUN      ] PhysicsEngines/PhysicsTorsionalFrictionTest.CoefficientTest/0\n[Msg] Waiting for master.\n[Msg] Connected to gazebo master @ http://127.0.0.1:11345\n[Msg] Publicized address: 172.23.1.52\n[Dbg] [ServerFixture.cc:169] ServerFixture load in 2.1 seconds, timeout after 600 seconds\n[Dbg] [physics_torsional_friction.cc:331] Model sphere_coefficient_1\n[Dbg] [physics_torsional_friction.cc:331] Model sphere_coefficient_2\n/home/louisep/gazebo_source/gazebo/test/integration/physics_torsional_friction.cc:332: Failure\nThe difference between sphere.error.Map()[\"maxAbs\"] and 0.0 is 2.8602901839149126, which exceeds g_friction_tolerance, where\nsphere.error.Map()[\"maxAbs\"] evaluates to 2.8602901839149126,\n0.0 evaluates to 0, and\ng_friction_tolerance evaluates to 0.001.\n[Dbg] [physics_torsional_friction.cc:331] Model sphere_coefficient_3\n/home/louisep/gazebo_source/gazebo/test/integration/physics_torsional_friction.cc:332: Failure\nThe difference between sphere.error.Map()[\"maxAbs\"] and 0.0 is 14.301450919563649, which exceeds g_friction_tolerance, where\nsphere.error.Map()[\"maxAbs\"] evaluates to 14.301450919563649,\n0.0 evaluates to 0, and\ng_friction_tolerance evaluates to 0.001.\n...\n~~~", "markup": "markdown", "html": "<p>I tried merging in your branch but <code>PhysicsTorsionalFrictionTest.CoefficientTest</code> fails. Also, the example world behaves differently, there seems to be less friction... The errors are like this:</p>\n<div class=\"codehilite\"><pre><span></span>[ RUN      ] PhysicsEngines/PhysicsTorsionalFrictionTest.CoefficientTest/0\n[Msg] Waiting for master.\n[Msg] Connected to gazebo master @ http://127.0.0.1:11345\n[Msg] Publicized address: 172.23.1.52\n[Dbg] [ServerFixture.cc:169] ServerFixture load in 2.1 seconds, timeout after 600 seconds\n[Dbg] [physics_torsional_friction.cc:331] Model sphere_coefficient_1\n[Dbg] [physics_torsional_friction.cc:331] Model sphere_coefficient_2\n/home/louisep/gazebo_source/gazebo/test/integration/physics_torsional_friction.cc:332: Failure\nThe difference between sphere.error.Map()[&quot;maxAbs&quot;] and 0.0 is 2.8602901839149126, which exceeds g_friction_tolerance, where\nsphere.error.Map()[&quot;maxAbs&quot;] evaluates to 2.8602901839149126,\n0.0 evaluates to 0, and\ng_friction_tolerance evaluates to 0.001.\n[Dbg] [physics_torsional_friction.cc:331] Model sphere_coefficient_3\n/home/louisep/gazebo_source/gazebo/test/integration/physics_torsional_friction.cc:332: Failure\nThe difference between sphere.error.Map()[&quot;maxAbs&quot;] and 0.0 is 14.301450919563649, which exceeds g_friction_tolerance, where\nsphere.error.Map()[&quot;maxAbs&quot;] evaluates to 14.301450919563649,\n0.0 evaluates to 0, and\ng_friction_tolerance evaluates to 0.001.\n...\n</pre></div>", "type": "rendered"}, "created_on": "2015-08-21T17:31:05.467099+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2015-08-21T17:31:05.475085+00:00", "type": "pullrequest_comment", "id": 9290487}, "pull_request": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9289766.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9289766"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}, "content": {"raw": "@hsu , it looks like the flag is always set, right?", "markup": "markdown", "html": "<p>@hsu , it looks like the flag is always set, right?</p>", "type": "rendered"}, "created_on": "2015-08-21T17:03:10.247614+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2015-08-21T17:03:10.260420+00:00", "type": "pullrequest_comment", "id": 9289766}, "pull_request": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9289688.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9289688"}}, "parent": {"id": 9289390, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9289390.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9289390"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}, "content": {"raw": "oops, you're right. sorry for the noise.", "markup": "markdown", "html": "<p>oops, you're right. sorry for the noise.</p>", "type": "rendered"}, "created_on": "2015-08-21T16:59:58.462616+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "inline": {}, "updated_on": "2015-08-21T16:59:58.481195+00:00", "type": "pullrequest_comment", "id": 9289688}, "pull_request": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}}, {"update": {"description": "[sdformat pull rqeust](https://bitbucket.org/osrf/sdformat/pull-request/205/torsional-friction/diff)\r\n\r\n[tutorials pull request](https://bitbucket.org/osrf/sdformat/pull-request/205/torsional-friction/diff)", "title": "Torsional friction", "destination": {"commit": {"hash": "0307cb9cabc8", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/0307cb9cabc8.json"}, "html": {"href": "#!/osrf/gazebo/commits/0307cb9cabc8"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "c018ac150d21", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/c018ac150d21.json"}, "html": {"href": "#!/osrf/gazebo/commits/c018ac150d21"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "torsional_friction_louise"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2015-08-21T16:55:18.641082+00:00"}, "pull_request": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9289485.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9289485"}}, "parent": {"id": 9273776, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9273776.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9273776"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}, "content": {"raw": "humm true, `max_vel` is only set for the depth test (`sphere_mass_*`). The other tests seem to be passing consistently though. Should I add the same `max_vel` to them just in case?", "markup": "markdown", "html": "<p>humm true, <code>max_vel</code> is only set for the depth test (<code>sphere_mass_*</code>). The other tests seem to be passing consistently though. Should I add the same <code>max_vel</code> to them just in case?</p>", "type": "rendered"}, "created_on": "2015-08-21T16:52:00.500646+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2015-08-21T16:52:00.510366+00:00", "type": "pullrequest_comment", "id": 9289485}, "pull_request": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9289390.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9289390"}}, "parent": {"id": 9273292, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9273292.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9273292"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}, "content": {"raw": "Only the first one is zero on `test/worlds/torsional_friction_test.world`. The others are:\n\n* `sphere_patch_1` : 0.0\n\n* `sphere_patch_2` : 0.1\n\n* `sphere_patch_3` : 2.0\n\n* `sphere_patch_4` : 5.0\n\n* `sphere_patch_5` : 10.0\n\n", "markup": "markdown", "html": "<p>Only the first one is zero on <code>test/worlds/torsional_friction_test.world</code>. The others are:</p>\n<ul>\n<li>\n<p><code>sphere_patch_1</code> : 0.0</p>\n</li>\n<li>\n<p><code>sphere_patch_2</code> : 0.1</p>\n</li>\n<li>\n<p><code>sphere_patch_3</code> : 2.0</p>\n</li>\n<li>\n<p><code>sphere_patch_4</code> : 5.0</p>\n</li>\n<li>\n<p><code>sphere_patch_5</code> : 10.0</p>\n</li>\n</ul>", "type": "rendered"}, "created_on": "2015-08-21T16:47:51.070064+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2015-08-21T16:47:51.076883+00:00", "type": "pullrequest_comment", "id": 9289390}, "pull_request": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9273776.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9273776"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}, "content": {"raw": "no min_depth or max_vel, how stable are the contacts?", "markup": "markdown", "html": "<p>no min_depth or max_vel, how stable are the contacts?</p>", "type": "rendered"}, "created_on": "2015-08-21T08:45:40.221838+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "inline": {}, "updated_on": "2015-08-21T08:45:40.232217+00:00", "type": "pullrequest_comment", "id": 9273776}, "pull_request": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9273292.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9273292"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}, "content": {"raw": "for `sphere_patch_1` through `sphere_patch_5`, `<patch_radius>` are set to zero, the calculation below for `frictionTorque` seems incorrect.", "markup": "markdown", "html": "<p>for <code>sphere_patch_1</code> through <code>sphere_patch_5</code>, <code>&lt;patch_radius&gt;</code> are set to zero, the calculation below for <code>frictionTorque</code> seems incorrect.</p>", "type": "rendered"}, "created_on": "2015-08-21T08:28:34.654245+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "inline": {}, "updated_on": "2015-08-21T08:28:34.669603+00:00", "type": "pullrequest_comment", "id": 9273292}, "pull_request": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9272630.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9272630"}}, "parent": {"id": 9272525, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9272525.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9272525"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}, "content": {"raw": "test fixed in b0822e6.  This is one way to do it. The other way involves relying on two float > 0 checks to stay consistent.", "markup": "markdown", "html": "<p>test fixed in <a href=\"#!/osrf/gazebo/commits/b0822e6\" rel=\"nofollow\" class=\"ap-connect-link\">b0822e6</a>.  This is one way to do it. The other way involves relying on two float &gt; 0 checks to stay consistent.</p>", "type": "rendered"}, "created_on": "2015-08-21T08:01:16.723216+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": "2015-08-21T08:01:16.744553+00:00", "type": "pullrequest_comment", "id": 9272630}, "pull_request": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9272525.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9272525"}}, "parent": {"id": 9271798, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9271798.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9271798"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}, "content": {"raw": "ok, [here's potentially one way to do it](#!/osrf/gazebo/src/76a8bbdac94b77868061dc48132bbde5ab3df557/deps/opende/src/quickstep_pgs_lcp.cpp?at=torsional_friction_john#quickstep_pgs_lcp.cpp-557).\n\nBut I think there is another bug, imagine if [line 66 is true](#!/osrf/gazebo/src/8ffecaaee656fd8c22006651986e63f373484433/deps/opende/src/joints/contact.cpp?at=torsional_friction_louise#contact.cpp-66), but subsequently [line 69 is false because mu3 is 0](#!/osrf/gazebo/src/8ffecaaee656fd8c22006651986e63f373484433/deps/opende/src/joints/contact.cpp?at=torsional_friction_louise#contact.cpp-69), the `m` never gets incremented.  Subsequently we enter into [this block](#!/osrf/gazebo/src/8ffecaaee656fd8c22006651986e63f373484433/deps/opende/src/joints/contact.cpp?at=torsional_friction_louise#contact.cpp-337), and any reference to index of `3` such as [this](#!/osrf/gazebo/src/8ffecaaee656fd8c22006651986e63f373484433/deps/opende/src/joints/contact.cpp?at=torsional_friction_louise#contact.cpp-368) oversteps this contact constraint boundary, erroneously overwrites values for the next set of constraints.", "markup": "markdown", "html": "<p>ok, <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/76a8bbdac94b77868061dc48132bbde5ab3df557/deps/opende/src/quickstep_pgs_lcp.cpp?at=torsional_friction_john#quickstep_pgs_lcp.cpp-557\" rel=\"nofollow\">here's potentially one way to do it</a>.</p>\n<p>But I think there is another bug, imagine if <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/8ffecaaee656fd8c22006651986e63f373484433/deps/opende/src/joints/contact.cpp?at=torsional_friction_louise#contact.cpp-66\" rel=\"nofollow\">line 66 is true</a>, but subsequently <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/8ffecaaee656fd8c22006651986e63f373484433/deps/opende/src/joints/contact.cpp?at=torsional_friction_louise#contact.cpp-69\" rel=\"nofollow\">line 69 is false because mu3 is 0</a>, the <code>m</code> never gets incremented.  Subsequently we enter into <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/8ffecaaee656fd8c22006651986e63f373484433/deps/opende/src/joints/contact.cpp?at=torsional_friction_louise#contact.cpp-337\" rel=\"nofollow\">this block</a>, and any reference to index of <code>3</code> such as <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/8ffecaaee656fd8c22006651986e63f373484433/deps/opende/src/joints/contact.cpp?at=torsional_friction_louise#contact.cpp-368\" rel=\"nofollow\">this</a> oversteps this contact constraint boundary, erroneously overwrites values for the next set of constraints.</p>", "type": "rendered"}, "created_on": "2015-08-21T07:56:40.061988+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": "2015-08-21T07:57:01.457047+00:00", "type": "pullrequest_comment", "id": 9272525}, "pull_request": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9271798.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9271798"}}, "parent": {"id": 9271303, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9271303.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9271303"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}, "content": {"raw": "trying to implement a fix in [my branch](#!/osrf/gazebo/branches/compare/torsional_friction_john%0Dtorsional_friction_louise#diff), still missing one piece of information - is there a way to know if [this is true](#!/osrf/gazebo/src/83cb25bbca0db1af50c551d98ae2cbf64c780df7/deps/opende/src/quickstep_pgs_lcp.cpp?at=torsional_friction_john#quickstep_pgs_lcp.cpp-556)?", "markup": "markdown", "html": "<p>trying to implement a fix in <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/branches/compare/torsional_friction_john%0Dtorsional_friction_louise#diff\" rel=\"nofollow\">my branch</a>, still missing one piece of information - is there a way to know if <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/83cb25bbca0db1af50c551d98ae2cbf64c780df7/deps/opende/src/quickstep_pgs_lcp.cpp?at=torsional_friction_john#quickstep_pgs_lcp.cpp-556\" rel=\"nofollow\">this is true</a>?</p>", "type": "rendered"}, "created_on": "2015-08-21T07:19:54.265955+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": "2015-08-21T07:19:54.272823+00:00", "type": "pullrequest_comment", "id": 9271798}, "pull_request": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9271303.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9271303"}}, "parent": {"id": 8616364, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/8616364.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-8616364"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}, "content": {"raw": "Regarding the maximum dissipation test failures:\n\nI ran the test as such:\n\n~~~\ntest/integration/INTEGRATION_physics_friction --gtest_filter=\"*MaximumDissip*\"\n~~~\n\nDon't have a solution yet, but it is failing because of a few things:\n\n - mu3 was active [`the_m >= 4` was true](#!/osrf/gazebo/src/8ffecaaee656fd8c22006651986e63f373484433/deps/opende/src/joints/contact.cpp?at=torsional_friction_louise#contact.cpp-310), which means dContactMu3 flag is set, is that what we want?\n - For cone friction constraint, [this check](#!/osrf/gazebo/src/8ffecaaee656fd8c22006651986e63f373484433/deps/opende/src/quickstep_pgs_lcp.cpp?at=torsional_friction_louise#quickstep_pgs_lcp.cpp-1503) returns true, but it shouldn't. What happens next is the algorithm attempts to compute cone friction using mu2 friction constraint and m3 torsional frictional constraint. So strange things happen and test fails.", "markup": "markdown", "html": "<p>Regarding the maximum dissipation test failures:</p>\n<p>I ran the test as such:</p>\n<div class=\"codehilite\"><pre><span></span>test/integration/INTEGRATION_physics_friction --gtest_filter=&quot;*MaximumDissip*&quot;\n</pre></div>\n\n\n<p>Don't have a solution yet, but it is failing because of a few things:</p>\n<ul>\n<li>mu3 was active <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/8ffecaaee656fd8c22006651986e63f373484433/deps/opende/src/joints/contact.cpp?at=torsional_friction_louise#contact.cpp-310\" rel=\"nofollow\"><code>the_m &gt;= 4</code> was true</a>, which means dContactMu3 flag is set, is that what we want?</li>\n<li>For cone friction constraint, <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/8ffecaaee656fd8c22006651986e63f373484433/deps/opende/src/quickstep_pgs_lcp.cpp?at=torsional_friction_louise#quickstep_pgs_lcp.cpp-1503\" rel=\"nofollow\">this check</a> returns true, but it shouldn't. What happens next is the algorithm attempts to compute cone friction using mu2 friction constraint and m3 torsional frictional constraint. So strange things happen and test fails.</li>\n</ul>", "type": "rendered"}, "created_on": "2015-08-21T06:54:59.897989+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": "2015-08-21T06:59:18.832401+00:00", "type": "pullrequest_comment", "id": 9271303}, "pull_request": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9270737.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9270737"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}, "content": {"raw": "change 2 to 3", "markup": "markdown", "html": "<p>change 2 to 3</p>", "type": "rendered"}, "created_on": "2015-08-21T06:12:39.643767+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "inline": {}, "updated_on": "2015-08-21T06:12:39.649827+00:00", "type": "pullrequest_comment", "id": 9270737}, "pull_request": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9270717.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9270717"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}, "content": {"raw": "should this be `dReal[3*n]`?\n(line below as well)", "markup": "markdown", "html": "<p>should this be <code>dReal[3*n]</code>?\n(line below as well)</p>", "type": "rendered"}, "created_on": "2015-08-21T06:11:07.761145+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "inline": {}, "updated_on": "2015-08-21T06:11:52.614647+00:00", "type": "pullrequest_comment", "id": 9270717}, "pull_request": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9267340.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9267340"}}, "parent": {"id": 8616364, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/8616364.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-8616364"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}, "content": {"raw": "I've looked further into the `MaximumDissipation` test failure and created an example world in [branch friction_cone_test](#!/osrf/gazebo/compare/friction_cone_test%0Ddefault#diff) to show how it's failing. To run it, I recommend building and installing this `torsional_friction_louise` branch, then downloading the [world_edit folder from the friction_cone_test branch](#!/osrf/gazebo/src/friction_cone_test/examples/plugins/world_edit/), building and running as follows:\n\n~~~\n# make sure to source the gazebo setup.sh file\n# it is probably in a different location\n. /usr/share/gazebo/setup.sh\ncd world_edit\nexport GAZEBO_MODEL_PATH=$GAZEBO_MODEL_PATH:$PWD/models\nmkdir build\ncd build\ncmake .. && make\nexport GAZEBO_PLUGIN_PATH=$GAZEBO_PLUGIN_PATH:$PWD\ngazebo --verbose ../world_edit.world\n~~~\n\nTwo boxes aligned with the x and y axes (`box_x`, `box_y`) behave as expected. One of the boxes (`box_yx`) doesn't move in a straight line but follows a piecewise linear trajectory. The other box (`box_xy`) looks ok but I haven't verified its path numerically. See a [video here](https://vimeo.com/136882831) (once it finishes converting).\n\nMaybe @rosebudflyaway has an idea of how to fix it?", "markup": "markdown", "html": "<p>I've looked further into the <code>MaximumDissipation</code> test failure and created an example world in <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/compare/friction_cone_test%0Ddefault#diff\" rel=\"nofollow\">branch friction_cone_test</a> to show how it's failing. To run it, I recommend building and installing this <code>torsional_friction_louise</code> branch, then downloading the <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/friction_cone_test/examples/plugins/world_edit/\" rel=\"nofollow\">world_edit folder from the friction_cone_test branch</a>, building and running as follows:</p>\n<div class=\"codehilite\"><pre><span></span># make sure to source the gazebo setup.sh file\n# it is probably in a different location\n. /usr/share/gazebo/setup.sh\ncd world_edit\nexport GAZEBO_MODEL_PATH=$GAZEBO_MODEL_PATH:$PWD/models\nmkdir build\ncd build\ncmake .. &amp;&amp; make\nexport GAZEBO_PLUGIN_PATH=$GAZEBO_PLUGIN_PATH:$PWD\ngazebo --verbose ../world_edit.world\n</pre></div>\n\n\n<p>Two boxes aligned with the x and y axes (<code>box_x</code>, <code>box_y</code>) behave as expected. One of the boxes (<code>box_yx</code>) doesn't move in a straight line but follows a piecewise linear trajectory. The other box (<code>box_xy</code>) looks ok but I haven't verified its path numerically. See a <a data-is-external-link=\"true\" href=\"https://vimeo.com/136882831\" rel=\"nofollow\">video here</a> (once it finishes converting).</p>\n<p>Maybe @rosebudflyaway has an idea of how to fix it?</p>", "type": "rendered"}, "created_on": "2015-08-21T00:18:15.528454+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2015-08-21T00:18:15.540965+00:00", "type": "pullrequest_comment", "id": 9267340}, "pull_request": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9263763.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9263763"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}, "content": {"raw": "[Queued](http://build.osrfoundation.org/job/gazebo-any-coverage-trusty-amd64/) new build since last commits", "markup": "markdown", "html": "<p><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/job/gazebo-any-coverage-trusty-amd64/\" rel=\"nofollow\">Queued</a> new build since last commits</p>", "type": "rendered"}, "created_on": "2015-08-20T20:52:13.338772+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2015-08-20T20:52:13.349972+00:00", "type": "pullrequest_comment", "id": 9263763}, "pull_request": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9263727.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9263727"}}, "parent": {"id": 9188515, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9188515.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9188515"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}, "content": {"raw": "Deprecated all Get functions in this file 8ffecaa", "markup": "markdown", "html": "<p>Deprecated all Get functions in this file <a href=\"#!/osrf/gazebo/commits/8ffecaa\" rel=\"nofollow\" class=\"ap-connect-link\">8ffecaa</a></p>", "type": "rendered"}, "created_on": "2015-08-20T20:50:45.078130+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2015-08-20T20:50:45.086447+00:00", "type": "pullrequest_comment", "id": 9263727}, "pull_request": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}}, {"update": {"description": "[sdformat pull rqeust](https://bitbucket.org/osrf/sdformat/pull-request/205/torsional-friction/diff)\r\n\r\n[tutorials pull request](https://bitbucket.org/osrf/sdformat/pull-request/205/torsional-friction/diff)", "title": "Torsional friction", "destination": {"commit": {"hash": "b54961341ffb", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/b54961341ffb.json"}, "html": {"href": "#!/osrf/gazebo/commits/b54961341ffb"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "8ffecaaee656", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/8ffecaaee656.json"}, "html": {"href": "#!/osrf/gazebo/commits/8ffecaaee656"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "torsional_friction_louise"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2015-08-20T20:50:21.825763+00:00"}, "pull_request": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}}, {"update": {"description": "[sdformat pull rqeust](https://bitbucket.org/osrf/sdformat/pull-request/205/torsional-friction/diff)\r\n\r\n[tutorials pull request](https://bitbucket.org/osrf/sdformat/pull-request/205/torsional-friction/diff)", "title": "Torsional friction", "destination": {"commit": {"hash": "b54961341ffb", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/b54961341ffb.json"}, "html": {"href": "#!/osrf/gazebo/commits/b54961341ffb"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "905f281ad8c8", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/905f281ad8c8.json"}, "html": {"href": "#!/osrf/gazebo/commits/905f281ad8c8"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "torsional_friction_louise"}}, "state": "OPEN", "author": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "date": "2015-08-18T21:12:53.199035+00:00"}, "pull_request": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9188515.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9188515"}}, "parent": {"id": 9188443, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9188443.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9188443"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}, "content": {"raw": "Right. This is targeted to default, so could you add a new function to `SurfaceParams` that is called `Mu() const` and deprectat `SurfaceParams::GetMu`?", "markup": "markdown", "html": "<p>Right. This is targeted to default, so could you add a new function to <code>SurfaceParams</code> that is called <code>Mu() const</code> and deprectat <code>SurfaceParams::GetMu</code>?</p>", "type": "rendered"}, "created_on": "2015-08-18T20:19:27.759869+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "inline": {}, "updated_on": "2015-08-18T20:19:27.767292+00:00", "type": "pullrequest_comment", "id": 9188515}, "pull_request": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9188443.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9188443"}}, "parent": {"id": 9188385, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831/comments/9188385.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831/_/diff#comment-9188385"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}, "content": {"raw": "It's not possible because of `GetMu`... Or is there a way?", "markup": "markdown", "html": "<p>It's not possible because of <code>GetMu</code>... Or is there a way?</p>", "type": "rendered"}, "created_on": "2015-08-18T20:17:14.711369+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2015-08-18T20:17:14.724811+00:00", "type": "pullrequest_comment", "id": 9188443}, "pull_request": {"type": "pullrequest", "id": 1831, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1831.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1831"}}, "title": "Torsional friction"}}], "next": "data/repositories/osrf/gazebo/pullrequests/1831/activity_ctx=xnFKyIBt7.json"}