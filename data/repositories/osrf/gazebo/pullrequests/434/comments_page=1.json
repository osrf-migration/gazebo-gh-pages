{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/191264.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-191264"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 434, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434"}}, "title": "Allow world with a name other than \"default\". Fixed all tests."}, "content": {"raw": "Issue #621 was created with regard to the Sensor_TEST that was failing. Did you see that discussion? I'm building this branch right now to test.", "markup": "markdown", "html": "<p>Issue <a href=\"#!/osrf/gazebo/issues/621/current-sensor_test-fails-without-a\" rel=\"nofollow\" title=\"Current Sensor_TEST fails without a display\" class=\"ap-connect-link\"><s>#621</s></a> was created with regard to the Sensor_TEST that was failing. Did you see that discussion? I'm building this branch right now to test.</p>", "type": "rendered"}, "created_on": "2013-04-09T23:34:36.965013+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2013-04-09T23:34:36.975682+00:00", "type": "pullrequest_comment", "id": 191264}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/191276.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-191276"}}, "parent": {"id": 191264, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/191264.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-191264"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 434, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434"}}, "title": "Allow world with a name other than \"default\". Fixed all tests."}, "content": {"raw": "Nevermind, it looks like you fixed Sensor_TEST. So add #621 to the list of fixed issues.", "markup": "markdown", "html": "<p>Nevermind, it looks like you fixed Sensor_TEST. So add <a href=\"#!/osrf/gazebo/issues/621/current-sensor_test-fails-without-a\" rel=\"nofollow\" title=\"Current Sensor_TEST fails without a display\" class=\"ap-connect-link\"><s>#621</s></a> to the list of fixed issues.</p>", "type": "rendered"}, "created_on": "2013-04-09T23:39:22.854300+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2013-04-09T23:39:22.864532+00:00", "type": "pullrequest_comment", "id": 191276}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/191306.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-191306"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 434, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434"}}, "title": "Allow world with a name other than \"default\". Fixed all tests."}, "content": {"raw": "I noted in the discussion of issue #623 that I was observing SIGABRT's when deleting models when I reduced the sleep time for the ConnectionManager (see #623 for backtraces). In some preliminary testing of this branch, I've managed to catch another one, though I had to insert and delete about 20 models before observing it, rather than 4-5. This time it's at Node::ProcessIncoming\n~~~\ngzserver: /usr/include/boost/thread/pthread/pthread_mutex_scoped_lock.hpp:26: boost::pthread::pthread_mutex_scoped_lock::pthread_mutex_scoped_lock(pthread_mutex_t*): Assertion `!pthread_mutex_lock(m)' failed.\n\nProgram received signal SIGABRT, Aborted.\n[Switching to Thread 0x7fffc1ffb700 (LWP 30125)]\n0x00007ffff5229425 in __GI_raise (sig=<optimized out>)\n    at ../nptl/sysdeps/unix/sysv/linux/raise.c:64\n64\t../nptl/sysdeps/unix/sysv/linux/raise.c: No such file or directory.\n(gdb) bt\n#0  0x00007ffff5229425 in __GI_raise (sig=<optimized out>)\n    at ../nptl/sysdeps/unix/sysv/linux/raise.c:64\n#1  0x00007ffff522cb8b in __GI_abort () at abort.c:91\n#2  0x00007ffff52220ee in __assert_fail_base (fmt=<optimized out>, \n    assertion=0x43ca9d \"!pthread_mutex_lock(m)\", \n    file=0x43c5c0 \"/usr/include/boost/thread/pthread/pthread_mutex_scoped_lock.hpp\", line=<optimized out>, function=<optimized out>) at assert.c:94\n#3  0x00007ffff5222192 in __GI___assert_fail (\n    assertion=0x43ca9d \"!pthread_mutex_lock(m)\", \n    file=0x43c5c0 \"/usr/include/boost/thread/pthread/pthread_mutex_scoped_lock.hpp\", line=26, \n    function=0x43d4a0 \"boost::pthread::pthread_mutex_scoped_lock::pthread_mutex_scoped_lock(pthread_mutex_t*)\") at assert.c:103\n#4  0x0000000000420d40 in boost::pthread::pthread_mutex_scoped_lock::pthread_mutex_scoped_lock (m_=<optimized out>, this=<optimized out>)\n    at /usr/include/boost/thread/pthread/pthread_mutex_scoped_lock.hpp:26\n#5  0x000000000042c24a in pthread_mutex_scoped_lock (m_=0x7fff802936d0, \n    this=<synthetic pointer>)\n    at /usr/include/boost/thread/pthread/pthread_mutex_scoped_lock.hpp:26\n#6  lock (this=0x7fff802936d0)\n    at /usr/include/boost/thread/pthread/recursive_mutex.hpp:124\n#7  boost::unique_lock<boost::recursive_mutex>::lock (this=0x7fffc1ffab30)\n    at /usr/include/boost/thread/locks.hpp:412\n---Type <return> to continue, or q <return> to quit---\n#8  0x00007ffff761acb8 in unique_lock (m_=..., this=0x7fffc1ffab30)\n    at /usr/include/boost/thread/locks.hpp:290\n#9  gazebo::transport::Node::ProcessIncoming (this=0x7fff802935d0)\n    at /home/scpeters/osrf/gazebo_default/gazebo/transport/Node.cc:160\n#10 0x00007ffff7625653 in gazebo::transport::TopicManager::ProcessNodes (\n    this=0x64bfe0, _onlyOut=false)\n    at /home/scpeters/osrf/gazebo_default/gazebo/transport/TopicManager.cc:162\n#11 0x00007ffff76105c6 in gazebo::transport::ConnectionManager::RunUpdate (\n    this=0x64c120)\n    at /home/scpeters/osrf/gazebo_default/gazebo/transport/ConnectionManager.cc:235\n#12 0x00007ffff7610920 in gazebo::transport::ConnectionManager::Run (\n    this=0x64c120)\n    at /home/scpeters/osrf/gazebo_default/gazebo/transport/ConnectionManager.cc:264\n#13 0x00007ffff5f3dce9 in thread_proxy ()\n   from /usr/lib/libboost_thread.so.1.46.1\n#14 0x00007ffff6aa7e9a in start_thread (arg=0x7fffc1ffb700)\n    at pthread_create.c:308\n#15 0x00007ffff52e6cbd in clone ()\n    at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\n#16 0x0000000000000000 in ?? ()\n(gdb) \n~~~", "markup": "markdown", "html": "<p>I noted in the discussion of issue <a href=\"#!/osrf/gazebo/issues/623/connectionmanager-sleeps-for-30-ms-between\" rel=\"nofollow\" title=\"ConnectionManager sleeps for 30 ms between message updates\" class=\"ap-connect-link\"><s>#623</s></a> that I was observing SIGABRT's when deleting models when I reduced the sleep time for the ConnectionManager (see <a href=\"#!/osrf/gazebo/issues/623/connectionmanager-sleeps-for-30-ms-between\" rel=\"nofollow\" title=\"ConnectionManager sleeps for 30 ms between message updates\" class=\"ap-connect-link\"><s>#623</s></a> for backtraces). In some preliminary testing of this branch, I've managed to catch another one, though I had to insert and delete about 20 models before observing it, rather than 4-5. This time it's at Node::ProcessIncoming</p>\n<div class=\"codehilite\"><pre><span></span>gzserver: /usr/include/boost/thread/pthread/pthread_mutex_scoped_lock.hpp:26: boost::pthread::pthread_mutex_scoped_lock::pthread_mutex_scoped_lock(pthread_mutex_t*): Assertion `!pthread_mutex_lock(m)&#39; failed.\n\nProgram received signal SIGABRT, Aborted.\n[Switching to Thread 0x7fffc1ffb700 (LWP 30125)]\n0x00007ffff5229425 in __GI_raise (sig=&lt;optimized out&gt;)\n    at ../nptl/sysdeps/unix/sysv/linux/raise.c:64\n64  ../nptl/sysdeps/unix/sysv/linux/raise.c: No such file or directory.\n(gdb) bt\n#0  0x00007ffff5229425 in __GI_raise (sig=&lt;optimized out&gt;)\n    at ../nptl/sysdeps/unix/sysv/linux/raise.c:64\n#1  0x00007ffff522cb8b in __GI_abort () at abort.c:91\n#2  0x00007ffff52220ee in __assert_fail_base (fmt=&lt;optimized out&gt;, \n    assertion=0x43ca9d &quot;!pthread_mutex_lock(m)&quot;, \n    file=0x43c5c0 &quot;/usr/include/boost/thread/pthread/pthread_mutex_scoped_lock.hpp&quot;, line=&lt;optimized out&gt;, function=&lt;optimized out&gt;) at assert.c:94\n#3  0x00007ffff5222192 in __GI___assert_fail (\n    assertion=0x43ca9d &quot;!pthread_mutex_lock(m)&quot;, \n    file=0x43c5c0 &quot;/usr/include/boost/thread/pthread/pthread_mutex_scoped_lock.hpp&quot;, line=26, \n    function=0x43d4a0 &quot;boost::pthread::pthread_mutex_scoped_lock::pthread_mutex_scoped_lock(pthread_mutex_t*)&quot;) at assert.c:103\n#4  0x0000000000420d40 in boost::pthread::pthread_mutex_scoped_lock::pthread_mutex_scoped_lock (m_=&lt;optimized out&gt;, this=&lt;optimized out&gt;)\n    at /usr/include/boost/thread/pthread/pthread_mutex_scoped_lock.hpp:26\n#5  0x000000000042c24a in pthread_mutex_scoped_lock (m_=0x7fff802936d0, \n    this=&lt;synthetic pointer&gt;)\n    at /usr/include/boost/thread/pthread/pthread_mutex_scoped_lock.hpp:26\n#6  lock (this=0x7fff802936d0)\n    at /usr/include/boost/thread/pthread/recursive_mutex.hpp:124\n#7  boost::unique_lock&lt;boost::recursive_mutex&gt;::lock (this=0x7fffc1ffab30)\n    at /usr/include/boost/thread/locks.hpp:412\n---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---\n#8  0x00007ffff761acb8 in unique_lock (m_=..., this=0x7fffc1ffab30)\n    at /usr/include/boost/thread/locks.hpp:290\n#9  gazebo::transport::Node::ProcessIncoming (this=0x7fff802935d0)\n    at /home/scpeters/osrf/gazebo_default/gazebo/transport/Node.cc:160\n#10 0x00007ffff7625653 in gazebo::transport::TopicManager::ProcessNodes (\n    this=0x64bfe0, _onlyOut=false)\n    at /home/scpeters/osrf/gazebo_default/gazebo/transport/TopicManager.cc:162\n#11 0x00007ffff76105c6 in gazebo::transport::ConnectionManager::RunUpdate (\n    this=0x64c120)\n    at /home/scpeters/osrf/gazebo_default/gazebo/transport/ConnectionManager.cc:235\n#12 0x00007ffff7610920 in gazebo::transport::ConnectionManager::Run (\n    this=0x64c120)\n    at /home/scpeters/osrf/gazebo_default/gazebo/transport/ConnectionManager.cc:264\n#13 0x00007ffff5f3dce9 in thread_proxy ()\n   from /usr/lib/libboost_thread.so.1.46.1\n#14 0x00007ffff6aa7e9a in start_thread (arg=0x7fffc1ffb700)\n    at pthread_create.c:308\n#15 0x00007ffff52e6cbd in clone ()\n    at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\n#16 0x0000000000000000 in ?? ()\n(gdb) \n</pre></div>", "type": "rendered"}, "created_on": "2013-04-09T23:54:58.289999+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2013-04-09T23:54:58.301325+00:00", "type": "pullrequest_comment", "id": 191306}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/191399.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-191399"}}, "parent": {"id": 191306, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/191306.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-191306"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 434, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434"}}, "title": "Allow world with a name other than \"default\". Fixed all tests."}, "content": {"raw": "That failure listed above wasn't repeatable. I've managed to create a repeatable failure, but it's not a SIGABRT; it's a gzserver hang.\n\nProcedure:\n\n1. `gzserver` in one terminal\n2. `gzstats` in another terminal\n2. `gzclient` in another terminal (optional)\n3. make sure you have the bookshelf model in your .gazebo/models folder\n4. run the following in another terminal; it just spawns and deletes models repeatedly with gzfactory\n~~~\nfor i in `seq 1 10`; do \\\n  gzfactory spawn -f ~/.gazebo/models/bookshelf/model-1_3.sdf -m bookshelf_$i && \\\n  sleep 0.5 && \\\n  gzfactory delete -m bookshelf_$i && \\\n  sleep 0.5; done\n~~~\nAfter a couple iterations, it will hang, which can be verified by watching gzstats. I did `gdb gzserver` one time to see where it was hanging and got a backtrace, but I put it in #623 to reduce the verbosity of my comments here.", "markup": "markdown", "html": "<p>That failure listed above wasn't repeatable. I've managed to create a repeatable failure, but it's not a SIGABRT; it's a gzserver hang.</p>\n<p>Procedure:</p>\n<ol>\n<li><code>gzserver</code> in one terminal</li>\n<li><code>gzstats</code> in another terminal</li>\n<li><code>gzclient</code> in another terminal (optional)</li>\n<li>make sure you have the bookshelf model in your .gazebo/models folder</li>\n<li>run the following in another terminal; it just spawns and deletes models repeatedly with gzfactory</li>\n</ol>\n<div class=\"codehilite\"><pre><span></span>for i in `seq 1 10`; do \\\n  gzfactory spawn -f ~/.gazebo/models/bookshelf/model-1_3.sdf -m bookshelf_$i &amp;&amp; \\\n  sleep 0.5 &amp;&amp; \\\n  gzfactory delete -m bookshelf_$i &amp;&amp; \\\n  sleep 0.5; done\n</pre></div>\n\n\n<p>After a couple iterations, it will hang, which can be verified by watching gzstats. I did <code>gdb gzserver</code> one time to see where it was hanging and got a backtrace, but I put it in <a href=\"#!/osrf/gazebo/issues/623/connectionmanager-sleeps-for-30-ms-between\" rel=\"nofollow\" title=\"ConnectionManager sleeps for 30 ms between message updates\" class=\"ap-connect-link\"><s>#623</s></a> to reduce the verbosity of my comments here.</p>", "type": "rendered"}, "created_on": "2013-04-10T01:26:39.356785+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2013-04-10T01:26:39.364935+00:00", "type": "pullrequest_comment", "id": 191399}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/192645.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-192645"}}, "parent": {"id": 191399, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/191399.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-191399"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 434, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434"}}, "title": "Allow world with a name other than \"default\". Fixed all tests."}, "content": {"raw": "So far I can't reproduce this. I've added a new test `test/regression/factory_stress`. Could you see if that test fails for you? If it doesn't fail, could you modify it to make it fail?", "markup": "markdown", "html": "<p>So far I can't reproduce this. I've added a new test <code>test/regression/factory_stress</code>. Could you see if that test fails for you? If it doesn't fail, could you modify it to make it fail?</p>", "type": "rendered"}, "created_on": "2013-04-10T15:54:50.915123+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2013-04-10T15:54:50.923614+00:00", "type": "pullrequest_comment", "id": 192645}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/192759.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-192759"}}, "parent": {"id": 192645, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/192645.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-192645"}}, "depth": 3}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 434, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434"}}, "title": "Allow world with a name other than \"default\". Fixed all tests."}, "content": {"raw": "It fails for me by a timeout. It looks like it also had a timeout on Jenkins: http://build.osrfoundation.org/job/gazebo-any-devel-precise-amd64/60/console\n~~~\n 87/110 Test  #87: factory_stress ...................***Timeout 240.02 sec\n~~~", "markup": "markdown", "html": "<p>It fails for me by a timeout. It looks like it also had a timeout on Jenkins: <a href=\"http://build.osrfoundation.org/job/gazebo-any-devel-precise-amd64/60/console\" rel=\"nofollow\" class=\"ap-connect-link\">http://build.osrfoundation.org/job/gazebo-any-devel-precise-amd64/60/console</a></p>\n<div class=\"codehilite\"><pre><span></span> 87/110 Test  #87: factory_stress ...................***Timeout 240.02 sec\n</pre></div>", "type": "rendered"}, "created_on": "2013-04-10T17:12:06.260362+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2013-04-10T17:12:06.274814+00:00", "type": "pullrequest_comment", "id": 192759}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/192797.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-192797"}}, "parent": {"id": 192759, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/192759.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-192759"}}, "depth": 4}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 434, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434"}}, "title": "Allow world with a name other than \"default\". Fixed all tests."}, "content": {"raw": "The problem seems to be sensitive to the amount of sleep time in ConnectionManager.cc:265. I increased the sleep time from 1 ms back to 30 ms, and I was able to make it farther into the factory_stress test. Likewise, if I reduce the sleep to 10 us, it hangs much more quickly.", "markup": "markdown", "html": "<p>The problem seems to be sensitive to the amount of sleep time in ConnectionManager.cc:265. I increased the sleep time from 1 ms back to 30 ms, and I was able to make it farther into the factory_stress test. Likewise, if I reduce the sleep to 10 us, it hangs much more quickly.</p>", "type": "rendered"}, "created_on": "2013-04-10T17:25:13.978598+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2013-04-10T17:25:13.990194+00:00", "type": "pullrequest_comment", "id": 192797}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/192821.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-192821"}}, "parent": {"id": 192797, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/192797.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-192797"}}, "depth": 5}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 434, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434"}}, "title": "Allow world with a name other than \"default\". Fixed all tests."}, "content": {"raw": "I wonder if World::ProcessRequestMsgs and World::ProcessEntityMsgs (and possibly others) need locks.", "markup": "markdown", "html": "<p>I wonder if World::ProcessRequestMsgs and World::ProcessEntityMsgs (and possibly others) need locks.</p>", "type": "rendered"}, "created_on": "2013-04-10T17:40:51.410596+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2013-04-10T17:40:51.422695+00:00", "type": "pullrequest_comment", "id": 192821}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/193278.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-193278"}}, "parent": {"id": 192821, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/192821.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-192821"}}, "depth": 6}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 434, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434"}}, "title": "Allow world with a name other than \"default\". Fixed all tests."}, "content": {"raw": "Ok. I think I have it working now. I've removed the sleep from ConnectionManager, and replaced with a condition. It's building on jenkins:\nhttp://build.osrfoundation.org/job/gazebo-any-devel-precise-amd64/61\n\nLet me know if it still fails for you.", "markup": "markdown", "html": "<p>Ok. I think I have it working now. I've removed the sleep from ConnectionManager, and replaced with a condition. It's building on jenkins:\n<a href=\"http://build.osrfoundation.org/job/gazebo-any-devel-precise-amd64/61\" rel=\"nofollow\" class=\"ap-connect-link\">http://build.osrfoundation.org/job/gazebo-any-devel-precise-amd64/61</a></p>\n<p>Let me know if it still fails for you.</p>", "type": "rendered"}, "created_on": "2013-04-10T21:29:47.877721+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2013-04-10T21:29:47.885112+00:00", "type": "pullrequest_comment", "id": 193278}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/193386.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-193386"}}, "parent": {"id": 193278, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/193278.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-193278"}}, "depth": 7}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 434, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434"}}, "title": "Allow world with a name other than \"default\". Fixed all tests."}, "content": {"raw": "It looks good to me.", "markup": "markdown", "html": "<p>It looks good to me.</p>", "type": "rendered"}, "created_on": "2013-04-10T23:15:58.543280+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2013-04-10T23:15:58.555279+00:00", "type": "pullrequest_comment", "id": 193386}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/191375.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-191375"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 434, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434"}}, "title": "Allow world with a name other than \"default\". Fixed all tests."}, "content": {"raw": "I just tested this branch on Jenkins with the gazebo-any job. There are two test failures: TransportStressTest.ManyNodes and NonDefaultWorld.Load. http://build.osrfoundation.org/job/gazebo-any-devel-precise-amd64/59/\n\nHere's the raw console output for TransportStressTest.ManyNodes:\n~~~\n101: [ RUN      ] TransportStressTest.ManyNodes\n101: Gazebo multi-robot simulator, version 1.6.1\n101: Copyright (C) 2013 Open Source Robotics Foundation.\n101: Released under the Apache 2 License.\n101: http://gazebosim.org\n...\n101: \u001b[1;32mMsg\u001b[0m Waiting for master\u001b[1;32mMsg\u001b[0m Connected to gazebo master @ http://127.0.0.1:11345\n101: \u001b[1;32mMsg\u001b[0m Publicized address: 192.168.1.71\n101: \u001b[1;31mError [RenderEngine.cc:608]\u001b[0m Can't open display: \n101: \u001b[1;33mWarning [RenderEngine.cc:87]\u001b[0m Unable to create X window. Rendering will be disabled\n101: \u001b[1;36mDbg\u001b[0m ServerFixture load in 0.16 seconds, timeout after 60 seconds\n101: \u001b[1;32mMsg\u001b[0m Publish complete\n101: \u001b[1;33mWarning [Publisher.cc:127]\u001b[0m Queue limit reached for topic /gazebo/default/diagnostics, deleting message. This warning is printed only once.\n101: \u001b[1;33mWarning [Publisher.cc:127]\u001b[0m Queue limit reached for topic /gazebo/default/physics/contacts, deleting message. This warning is printed only once.\n101: /var/lib/jenkins/workspace/gazebo-any-devel-precise-amd64/gazebo/test/regression/transport_stress.cc:196: Failure\n101: Expected: (waitCount) < (50), actual: 50 vs 50\n101: /var/lib/jenkins/workspace/gazebo-any-devel-precise-amd64/gazebo/test/regression/transport_stress.cc:199: Failure\n101: Value of: g_localPublishCount\n101:   Actual: 3362832\n101: Expected: g_totalExpectedMsgCount\n101: Which is: 40000000\n101: \u001b[1;32mMsg\u001b[0m Time to publish 20000 = 0 23202196\n101: \u001b[1;32mMsg\u001b[0m Time to receive 3364223 = -8 -600090337\n101: [  FAILED  ] TransportStressTest.ManyNodes (78543 ms)\n~~~\n\nThe NonDefaultWorld.Load appears to fail when run on a machine with no display (I test this by ssh'ing to my own machine). The test loads much more quickly and fails before pose messages can be received by ServerFixture for the HasEntity call. Here's a patch that fixes the test for me without a display:\n~~~\ndiff -r 237e08ff175c test/regression/nondefault_world.cc\n--- a/test/regression/nondefault_world.cc\tTue Apr 09 16:18:31 2013 -0700\n+++ b/test/regression/nondefault_world.cc\tTue Apr 09 18:00:33 2013 -0700\n@@ -26,20 +26,12 @@\n TEST_F(NonDefaultWorld, Load)\n {\n   math::Pose setPose, testPose;\n-  Load(\"worlds/empty_different_name.world\");\n-  SetPause(false);\n+  Load(\"worlds/empty_different_name.world\", true);\n+  physics::WorldPtr world = physics::get_world(\"not_the_default_world_name\");\n+  ASSERT_TRUE(world != NULL);\n \n-  int i = 0;\n-\n-  // Wait for the entity to spawn\n-  while (!HasEntity(\"ground_plane\") && i < 10)\n-  {\n-    common::Time::MSleep(100);\n-    ++i;\n-  }\n-\n-  EXPECT_TRUE(HasEntity(\"ground_plane\"));\n-  EXPECT_LT(i, 10);\n+  physics::ModelPtr model = world->GetModel(\"ground_plane\");\n+  ASSERT_TRUE(model);\n }\n \n int main(int argc, char **argv)\n~~~", "markup": "markdown", "html": "<p>I just tested this branch on Jenkins with the gazebo-any job. There are two test failures: TransportStressTest.ManyNodes and NonDefaultWorld.Load. <a href=\"http://build.osrfoundation.org/job/gazebo-any-devel-precise-amd64/59/\" rel=\"nofollow\" class=\"ap-connect-link\">http://build.osrfoundation.org/job/gazebo-any-devel-precise-amd64/59/</a></p>\n<p>Here's the raw console output for TransportStressTest.ManyNodes:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">101</span><span class=\"o\">:</span> <span class=\"cp\">[</span> <span class=\"nx\">RUN</span>      <span class=\"cp\">]</span> <span class=\"nt\">TransportStressTest</span><span class=\"p\">.</span><span class=\"nc\">ManyNodes</span>\n<span class=\"nt\">101</span><span class=\"o\">:</span> <span class=\"nt\">Gazebo</span> <span class=\"nt\">multi-robot</span> <span class=\"nt\">simulator</span><span class=\"o\">,</span> <span class=\"nt\">version</span> <span class=\"nt\">1</span><span class=\"p\">.</span><span class=\"nc\">6</span><span class=\"p\">.</span><span class=\"nc\">1</span>\n<span class=\"nt\">101</span><span class=\"o\">:</span> <span class=\"nt\">Copyright</span> <span class=\"o\">(</span><span class=\"nt\">C</span><span class=\"o\">)</span> <span class=\"nt\">2013</span> <span class=\"nt\">Open</span> <span class=\"nt\">Source</span> <span class=\"nt\">Robotics</span> <span class=\"nt\">Foundation</span><span class=\"o\">.</span>\n<span class=\"nt\">101</span><span class=\"o\">:</span> <span class=\"nt\">Released</span> <span class=\"nt\">under</span> <span class=\"nt\">the</span> <span class=\"nt\">Apache</span> <span class=\"nt\">2</span> <span class=\"nt\">License</span><span class=\"o\">.</span>\n<span class=\"nt\">101</span><span class=\"o\">:</span> <span class=\"nt\">http</span><span class=\"o\">://</span><span class=\"nt\">gazebosim</span><span class=\"p\">.</span><span class=\"nc\">org</span>\n<span class=\"o\">...</span>\n<span class=\"nt\">101</span><span class=\"o\">:</span> <span class=\"err\">\u001b</span><span class=\"cp\">[</span><span class=\"mi\">1</span><span class=\"p\">;</span><span class=\"mi\">32</span><span class=\"nx\">mMsg</span><span class=\"err\">\u001b[</span><span class=\"mi\">0</span><span class=\"nx\">m</span> <span class=\"nx\">Waiting</span> <span class=\"nx\">for</span> <span class=\"nx\">master</span><span class=\"err\">\u001b[</span><span class=\"mi\">1</span><span class=\"p\">;</span><span class=\"mi\">32</span><span class=\"nx\">mMsg</span><span class=\"err\">\u001b[</span><span class=\"mi\">0</span><span class=\"nx\">m</span> <span class=\"nx\">Connected</span> <span class=\"k\">to</span> <span class=\"nx\">gazebo</span> <span class=\"nx\">master</span> <span class=\"p\">@</span> <span class=\"nx\">http</span><span class=\"p\">:</span><span class=\"c1\">//127.0.0.1:11345</span>\n<span class=\"mi\">101</span><span class=\"p\">:</span> <span class=\"err\">\u001b[</span><span class=\"mi\">1</span><span class=\"p\">;</span><span class=\"mi\">32</span><span class=\"nx\">mMsg</span><span class=\"err\">\u001b[</span><span class=\"mi\">0</span><span class=\"nx\">m</span> <span class=\"nx\">Publicized</span> <span class=\"nx\">address</span><span class=\"p\">:</span> <span class=\"mf\">192.168.1.71</span>\n<span class=\"mi\">101</span><span class=\"p\">:</span> <span class=\"err\">\u001b[</span><span class=\"mi\">1</span><span class=\"p\">;</span><span class=\"mi\">31</span><span class=\"nx\">mError</span> <span class=\"err\">[</span><span class=\"nx\">RenderEngine.cc</span><span class=\"p\">:</span><span class=\"mi\">608</span><span class=\"cp\">]</span><span class=\"err\">\u001b</span><span class=\"cp\">[</span><span class=\"mi\">0</span><span class=\"nx\">m</span> <span class=\"nx\">Can</span><span class=\"s1\">&#39;t open display: </span>\n<span class=\"s1\">101: \u001b[1;33mWarning [RenderEngine.cc:87]\u001b[0m Unable to create X window. Rendering will be disabled</span>\n<span class=\"s1\">101: \u001b[1;36mDbg\u001b[0m ServerFixture load in 0.16 seconds, timeout after 60 seconds</span>\n<span class=\"s1\">101: \u001b[1;32mMsg\u001b[0m Publish complete</span>\n<span class=\"s1\">101: \u001b[1;33mWarning [Publisher.cc:127]\u001b[0m Queue limit reached for topic /gazebo/default/diagnostics, deleting message. This warning is printed only once.</span>\n<span class=\"s1\">101: \u001b[1;33mWarning [Publisher.cc:127]\u001b[0m Queue limit reached for topic /gazebo/default/physics/contacts, deleting message. This warning is printed only once.</span>\n<span class=\"s1\">101: /var/lib/jenkins/workspace/gazebo-any-devel-precise-amd64/gazebo/test/regression/transport_stress.cc:196: Failure</span>\n<span class=\"s1\">101: Expected: (waitCount) &lt; (50), actual: 50 vs 50</span>\n<span class=\"s1\">101: /var/lib/jenkins/workspace/gazebo-any-devel-precise-amd64/gazebo/test/regression/transport_stress.cc:199: Failure</span>\n<span class=\"s1\">101: Value of: g_localPublishCount</span>\n<span class=\"s1\">101:   Actual: 3362832</span>\n<span class=\"s1\">101: Expected: g_totalExpectedMsgCount</span>\n<span class=\"s1\">101: Which is: 40000000</span>\n<span class=\"s1\">101: \u001b[1;32mMsg\u001b[0m Time to publish 20000 = 0 23202196</span>\n<span class=\"s1\">101: \u001b[1;32mMsg\u001b[0m Time to receive 3364223 = -8 -600090337</span>\n<span class=\"s1\">101: [  FAILED  ] TransportStressTest.ManyNodes (78543 ms)</span>\n</pre></div>\n\n\n<p>The NonDefaultWorld.Load appears to fail when run on a machine with no display (I test this by ssh'ing to my own machine). The test loads much more quickly and fails before pose messages can be received by ServerFixture for the HasEntity call. Here's a patch that fixes the test for me without a display:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gh\">diff -r 237e08ff175c test/regression/nondefault_world.cc</span>\n<span class=\"gd\">--- a/test/regression/nondefault_world.cc   Tue Apr 09 16:18:31 2013 -0700</span>\n<span class=\"gi\">+++ b/test/regression/nondefault_world.cc   Tue Apr 09 18:00:33 2013 -0700</span>\n<span class=\"gu\">@@ -26,20 +26,12 @@</span>\n TEST_F(NonDefaultWorld, Load)\n {\n   math::Pose setPose, testPose;\n<span class=\"gd\">-  Load(&quot;worlds/empty_different_name.world&quot;);</span>\n<span class=\"gd\">-  SetPause(false);</span>\n<span class=\"gi\">+  Load(&quot;worlds/empty_different_name.world&quot;, true);</span>\n<span class=\"gi\">+  physics::WorldPtr world = physics::get_world(&quot;not_the_default_world_name&quot;);</span>\n<span class=\"gi\">+  ASSERT_TRUE(world != NULL);</span>\n\n<span class=\"gd\">-  int i = 0;</span>\n<span class=\"gd\">-</span>\n<span class=\"gd\">-  // Wait for the entity to spawn</span>\n<span class=\"gd\">-  while (!HasEntity(&quot;ground_plane&quot;) &amp;&amp; i &lt; 10)</span>\n<span class=\"gd\">-  {</span>\n<span class=\"gd\">-    common::Time::MSleep(100);</span>\n<span class=\"gd\">-    ++i;</span>\n<span class=\"gd\">-  }</span>\n<span class=\"gd\">-</span>\n<span class=\"gd\">-  EXPECT_TRUE(HasEntity(&quot;ground_plane&quot;));</span>\n<span class=\"gd\">-  EXPECT_LT(i, 10);</span>\n<span class=\"gi\">+  physics::ModelPtr model = world-&gt;GetModel(&quot;ground_plane&quot;);</span>\n<span class=\"gi\">+  ASSERT_TRUE(model);</span>\n }\n\n int main(int argc, char **argv)\n</pre></div>", "type": "rendered"}, "created_on": "2013-04-10T01:02:35.554884+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2013-04-10T01:02:35.562333+00:00", "type": "pullrequest_comment", "id": 191375}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/192646.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-192646"}}, "parent": {"id": 191375, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/191375.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-191375"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 434, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434"}}, "title": "Allow world with a name other than \"default\". Fixed all tests."}, "content": {"raw": "Great. I've incorporated these changes.", "markup": "markdown", "html": "<p>Great. I've incorporated these changes.</p>", "type": "rendered"}, "created_on": "2013-04-10T15:55:13.469243+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2013-04-10T15:55:13.476481+00:00", "type": "pullrequest_comment", "id": 192646}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/192363.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-192363"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 434, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434"}}, "title": "Allow world with a name other than \"default\". Fixed all tests."}, "content": {"raw": "I've run a jenkins DRI powered run in our real-vrc machine in Amazon: http://build.osrfoundation.org/job/gazebo-any-devel-precise-amd64-gpu-vrc/5/\n\nFour tests are failing there:\n\n* **physics**: for Timeout. we should probably work on split this test into proper smaller cases.\n* **contact_sensor**: ContactSensor.StackTestODE\n\n```\n#!\n\n91: /var/lib/jenkins/workspace/gazebo-any-devel-precise-amd64-gpu-vrc/gazebo/test/ServerFixture.hh:683: Failure\n91: Expected: (i) < (50), actual: 50 vs 50\n91: /var/lib/jenkins/workspace/gazebo-any-devel-precise-amd64-gpu-vrc/gazebo/test/regression/contact_sensor.cc:234: Failure\n91: Value of: fabs(actualTorque.x) < odeTorqueTol\n91:   Actual: false\n91: Expected: true\n91: [  FAILED  ] ContactSensor.StackTestODE (6743 ms)\n\n```\n*  **Imu**: ImuTest.EmptyWorldNoiseODE\n```\n97: /var/lib/jenkins/workspace/gazebo-any-devel-precise-amd64-gpu-vrc/gazebo/test/ServerFixture.hh:623: Failure\n97: Expected: (i) < (50), actual: 50 vs 50\n97: /var/lib/jenkins/workspace/gazebo-any-devel-precise-amd64-gpu-vrc/gazebo/test/regression/imu.cc:148: Failure\n97: Value of: imu\n97:   Actual: false\n97: Expected: true\n97: \u001b[1;31mError [SensorManager.cc:340]\u001b[0m Unable to remove sensor[default::imu_model::body::imu_sensor] because it does not exist.\n97: [  FAILED  ] ImuTest.EmptyWorldNoiseODE (7331 ms)\n``` \n* **transport_test: ** this is probably for the difference in machine performance\n```\n09: /var/lib/jenkins/workspace/gazebo-any-devel-precise-amd64-gpu-vrc/gazebo/test/regression/transport_stress.cc:206: Failure\n109: Expected: (static_cast<unsigned int>(pubDiff.nsec)) < ((g_localPublishMessageCount * nodes.size()) * 1600), actual: 55549858 vs 32000000\n109: \u001b[1;32mMsg\u001b[0m Time to publish 20000 = 0 55549858\n109: \u001b[1;32mMsg\u001b[0m Time to receive 40000000 = 26 810402208\n109: [  FAILED  ] TransportStressTest.ManyNodes (39092 ms)\n```", "markup": "markdown", "html": "<p>I've run a jenkins DRI powered run in our real-vrc machine in Amazon: <a href=\"http://build.osrfoundation.org/job/gazebo-any-devel-precise-amd64-gpu-vrc/5/\" rel=\"nofollow\" class=\"ap-connect-link\">http://build.osrfoundation.org/job/gazebo-any-devel-precise-amd64-gpu-vrc/5/</a></p>\n<p>Four tests are failing there:</p>\n<ul>\n<li><strong>physics</strong>: for Timeout. we should probably work on split this test into proper smaller cases.</li>\n<li><strong>contact_sensor</strong>: ContactSensor.StackTestODE</li>\n</ul>\n<div class=\"codehilite\"><pre><span></span>91: /var/lib/jenkins/workspace/gazebo-any-devel-precise-amd64-gpu-vrc/gazebo/test/ServerFixture.hh:683: Failure\n91: Expected: (i) &lt; (50), actual: 50 vs 50\n91: /var/lib/jenkins/workspace/gazebo-any-devel-precise-amd64-gpu-vrc/gazebo/test/regression/contact_sensor.cc:234: Failure\n91: Value of: fabs(actualTorque.x) &lt; odeTorqueTol\n91:   Actual: false\n91: Expected: true\n91: [  FAILED  ] ContactSensor.StackTestODE (6743 ms)\n</pre></div>\n\n\n<ul>\n<li><strong>Imu</strong>: ImuTest.EmptyWorldNoiseODE</li>\n</ul>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">97</span><span class=\"o\">:</span> <span class=\"o\">/</span><span class=\"nt\">var</span><span class=\"o\">/</span><span class=\"nt\">lib</span><span class=\"o\">/</span><span class=\"nt\">jenkins</span><span class=\"o\">/</span><span class=\"nt\">workspace</span><span class=\"o\">/</span><span class=\"nt\">gazebo-any-devel-precise-amd64-gpu-vrc</span><span class=\"o\">/</span><span class=\"nt\">gazebo</span><span class=\"o\">/</span><span class=\"nt\">test</span><span class=\"o\">/</span><span class=\"nt\">ServerFixture</span><span class=\"p\">.</span><span class=\"nc\">hh</span><span class=\"p\">:</span><span class=\"nd\">623</span><span class=\"o\">:</span> <span class=\"nt\">Failure</span>\n<span class=\"nt\">97</span><span class=\"o\">:</span> <span class=\"nt\">Expected</span><span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"nt\">i</span><span class=\"o\">)</span> <span class=\"o\">&lt;</span> <span class=\"o\">(</span><span class=\"nt\">50</span><span class=\"o\">),</span> <span class=\"nt\">actual</span><span class=\"o\">:</span> <span class=\"nt\">50</span> <span class=\"nt\">vs</span> <span class=\"nt\">50</span>\n<span class=\"nt\">97</span><span class=\"o\">:</span> <span class=\"o\">/</span><span class=\"nt\">var</span><span class=\"o\">/</span><span class=\"nt\">lib</span><span class=\"o\">/</span><span class=\"nt\">jenkins</span><span class=\"o\">/</span><span class=\"nt\">workspace</span><span class=\"o\">/</span><span class=\"nt\">gazebo-any-devel-precise-amd64-gpu-vrc</span><span class=\"o\">/</span><span class=\"nt\">gazebo</span><span class=\"o\">/</span><span class=\"nt\">test</span><span class=\"o\">/</span><span class=\"nt\">regression</span><span class=\"o\">/</span><span class=\"nt\">imu</span><span class=\"p\">.</span><span class=\"nc\">cc</span><span class=\"p\">:</span><span class=\"nd\">148</span><span class=\"o\">:</span> <span class=\"nt\">Failure</span>\n<span class=\"nt\">97</span><span class=\"o\">:</span> <span class=\"nt\">Value</span> <span class=\"nt\">of</span><span class=\"o\">:</span> <span class=\"nt\">imu</span>\n<span class=\"nt\">97</span><span class=\"o\">:</span>   <span class=\"nt\">Actual</span><span class=\"o\">:</span> <span class=\"nt\">false</span>\n<span class=\"nt\">97</span><span class=\"o\">:</span> <span class=\"nt\">Expected</span><span class=\"o\">:</span> <span class=\"nt\">true</span>\n<span class=\"nt\">97</span><span class=\"o\">:</span> <span class=\"err\">\u001b</span><span class=\"cp\">[</span><span class=\"mi\">1</span><span class=\"p\">;</span><span class=\"mi\">31</span><span class=\"nx\">mError</span> <span class=\"err\">[</span><span class=\"nx\">SensorManager.cc</span><span class=\"p\">:</span><span class=\"mi\">340</span><span class=\"cp\">]</span><span class=\"err\">\u001b</span><span class=\"cp\">[</span><span class=\"mi\">0</span><span class=\"nx\">m</span> <span class=\"nx\">Unable</span> <span class=\"k\">to</span> <span class=\"nx\">remove</span> <span class=\"nx\">sensor</span><span class=\"err\">[</span><span class=\"nb\">default</span><span class=\"nl\">::imu_model::body::imu_sensor</span><span class=\"cp\">]</span> <span class=\"nt\">because</span> <span class=\"nt\">it</span> <span class=\"nt\">does</span> <span class=\"nt\">not</span> <span class=\"nt\">exist</span><span class=\"o\">.</span>\n<span class=\"nt\">97</span><span class=\"o\">:</span> <span class=\"cp\">[</span>  <span class=\"nx\">FAILED</span>  <span class=\"cp\">]</span> <span class=\"nt\">ImuTest</span><span class=\"p\">.</span><span class=\"nc\">EmptyWorldNoiseODE</span> <span class=\"o\">(</span><span class=\"nt\">7331</span> <span class=\"nt\">ms</span><span class=\"o\">)</span>\n</pre></div>\n\n\n<ul>\n<li><strong>transport_test: </strong> this is probably for the difference in machine performance</li>\n</ul>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">09</span><span class=\"o\">:</span> <span class=\"o\">/</span><span class=\"nt\">var</span><span class=\"o\">/</span><span class=\"nt\">lib</span><span class=\"o\">/</span><span class=\"nt\">jenkins</span><span class=\"o\">/</span><span class=\"nt\">workspace</span><span class=\"o\">/</span><span class=\"nt\">gazebo-any-devel-precise-amd64-gpu-vrc</span><span class=\"o\">/</span><span class=\"nt\">gazebo</span><span class=\"o\">/</span><span class=\"nt\">test</span><span class=\"o\">/</span><span class=\"nt\">regression</span><span class=\"o\">/</span><span class=\"nt\">transport_stress</span><span class=\"p\">.</span><span class=\"nc\">cc</span><span class=\"p\">:</span><span class=\"nd\">206</span><span class=\"o\">:</span> <span class=\"nt\">Failure</span>\n<span class=\"nt\">109</span><span class=\"o\">:</span> <span class=\"nt\">Expected</span><span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"nt\">static_cast</span><span class=\"o\">&lt;</span><span class=\"nt\">unsigned</span> <span class=\"nt\">int</span><span class=\"o\">&gt;(</span><span class=\"nt\">pubDiff</span><span class=\"p\">.</span><span class=\"nc\">nsec</span><span class=\"o\">))</span> <span class=\"o\">&lt;</span> <span class=\"o\">((</span><span class=\"nt\">g_localPublishMessageCount</span> <span class=\"o\">*</span> <span class=\"nt\">nodes</span><span class=\"p\">.</span><span class=\"nc\">size</span><span class=\"o\">())</span> <span class=\"o\">*</span> <span class=\"nt\">1600</span><span class=\"o\">),</span> <span class=\"nt\">actual</span><span class=\"o\">:</span> <span class=\"nt\">55549858</span> <span class=\"nt\">vs</span> <span class=\"nt\">32000000</span>\n<span class=\"nt\">109</span><span class=\"o\">:</span> <span class=\"err\">\u001b</span><span class=\"cp\">[</span><span class=\"mi\">1</span><span class=\"p\">;</span><span class=\"mi\">32</span><span class=\"nx\">mMsg</span><span class=\"err\">\u001b[</span><span class=\"mi\">0</span><span class=\"nx\">m</span> <span class=\"nx\">Time</span> <span class=\"k\">to</span> <span class=\"nx\">publish</span> <span class=\"mi\">20000</span> <span class=\"o\">=</span> <span class=\"mi\">0</span> <span class=\"mi\">55549858</span>\n<span class=\"mi\">109</span><span class=\"p\">:</span> <span class=\"err\">\u001b[</span><span class=\"mi\">1</span><span class=\"p\">;</span><span class=\"mi\">32</span><span class=\"nx\">mMsg</span><span class=\"err\">\u001b[</span><span class=\"mi\">0</span><span class=\"nx\">m</span> <span class=\"nx\">Time</span> <span class=\"k\">to</span> <span class=\"nx\">receive</span> <span class=\"mi\">40000000</span> <span class=\"o\">=</span> <span class=\"mi\">26</span> <span class=\"mi\">810402208</span>\n<span class=\"mi\">109</span><span class=\"p\">:</span> <span class=\"err\">[</span>  <span class=\"nx\">FAILED</span>  <span class=\"cp\">]</span> <span class=\"nt\">TransportStressTest</span><span class=\"p\">.</span><span class=\"nc\">ManyNodes</span> <span class=\"o\">(</span><span class=\"nt\">39092</span> <span class=\"nt\">ms</span><span class=\"o\">)</span>\n</pre></div>", "type": "rendered"}, "created_on": "2013-04-10T14:13:20.770760+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2013-04-10T14:13:20.777869+00:00", "type": "pullrequest_comment", "id": 192363}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/192649.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-192649"}}, "parent": {"id": 192363, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/192363.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-192363"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 434, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434"}}, "title": "Allow world with a name other than \"default\". Fixed all tests."}, "content": {"raw": "It looks like the amazon machine needs more time to process everything. I've bumped up the time to wait for things to spawn, and modified the `transport_test` to just check for a value that is less than 1 second.", "markup": "markdown", "html": "<p>It looks like the amazon machine needs more time to process everything. I've bumped up the time to wait for things to spawn, and modified the <code>transport_test</code> to just check for a value that is less than 1 second.</p>", "type": "rendered"}, "created_on": "2013-04-10T15:56:27.654823+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2013-04-10T15:56:27.663122+00:00", "type": "pullrequest_comment", "id": 192649}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/192719.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-192719"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 434, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434"}}, "title": "Allow world with a name other than \"default\". Fixed all tests."}, "content": {"raw": "Added a script called `gz_build_test.sh` that can be used to check the tests on multiple branches.", "markup": "markdown", "html": "<p>Added a script called <code>gz_build_test.sh</code> that can be used to check the tests on multiple branches.</p>", "type": "rendered"}, "created_on": "2013-04-10T16:49:28.428935+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2013-04-10T16:49:28.437829+00:00", "type": "pullrequest_comment", "id": 192719}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/193398.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-193398"}}, "parent": {"id": 192719, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/192719.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-192719"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 434, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434"}}, "title": "Allow world with a name other than \"default\". Fixed all tests."}, "content": {"raw": "In case anyone is interested, I've add `gz_build_test.sh` as a cronjob. You can add a cron job with the following:\n\n`crontab -e`\n\nAdd the following line at the end:\n\n`0 2 * * * <path to gz_build_test.sh> <branch names separated by spaces>`\n\nThe above line will run the script every morning at 2am.", "markup": "markdown", "html": "<p>In case anyone is interested, I've add <code>gz_build_test.sh</code> as a cronjob. You can add a cron job with the following:</p>\n<p><code>crontab -e</code></p>\n<p>Add the following line at the end:</p>\n<p><code>0 2 * * * &lt;path to gz_build_test.sh&gt; &lt;branch names separated by spaces&gt;</code></p>\n<p>The above line will run the script every morning at 2am.</p>", "type": "rendered"}, "created_on": "2013-04-10T23:31:36.714528+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2013-04-10T23:31:36.725245+00:00", "type": "pullrequest_comment", "id": 193398}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/193472.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-193472"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 434, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434"}}, "title": "Allow world with a name other than \"default\". Fixed all tests."}, "content": {"raw": "Latest run on jenkins gpu show the following result:\n```\n100% tests passed, 0 tests failed out of 116\n```\n\nJenkins summary is complaining about some failing tests but it had a problem for writing the XML. Both of the false failing test are ok when checking in the console.\n\nI will run the job again to see possible race conditions and double check.", "markup": "markdown", "html": "<p>Latest run on jenkins gpu show the following result:</p>\n<div class=\"codehilite\"><pre><span></span>100% tests passed, 0 tests failed out of 116\n</pre></div>\n\n\n<p>Jenkins summary is complaining about some failing tests but it had a problem for writing the XML. Both of the false failing test are ok when checking in the console.</p>\n<p>I will run the job again to see possible race conditions and double check.</p>", "type": "rendered"}, "created_on": "2013-04-11T00:27:25.114550+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2013-04-11T00:27:25.123648+00:00", "type": "pullrequest_comment", "id": 193472}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/193481.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-193481"}}, "parent": {"id": 193472, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/193472.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-193472"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 434, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434"}}, "title": "Allow world with a name other than \"default\". Fixed all tests."}, "content": {"raw": "This problem of not correctly detecting testing results is happening to all our QTest based tests: ImagesView, DataLogger and TimePanel ", "markup": "markdown", "html": "<p>This problem of not correctly detecting testing results is happening to all our QTest based tests: ImagesView, DataLogger and TimePanel </p>", "type": "rendered"}, "created_on": "2013-04-11T00:36:15.589585+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2013-04-11T00:36:15.595319+00:00", "type": "pullrequest_comment", "id": 193481}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/193509.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-193509"}}, "parent": {"id": 193481, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/193481.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-193481"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 434, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434"}}, "title": "Allow world with a name other than \"default\". Fixed all tests."}, "content": {"raw": "Seems like the final report in xml result file is ok, since test results can not be found but the check_ tests are always returning true, so system console show them as \"passed\". A fix for this (working for me) could be:\n\n\n```\n#!diff\n\ndiff -r 237e08ff175c tools/check_test_ran.py\n--- a/tools/check_test_ran.py\tTue Apr 09 16:18:31 2013 -0700\n+++ b/tools/check_test_ran.py\tThu Apr 11 02:53:29 2013 +0200\n@@ -74,6 +74,7 @@\n     <failure message=\"Unable to find test results for %(test)s, test did not run.\\nExpected results in %(test_file)s\" type=\"\"/>\n   </testcase>\n </testsuite>\"\"\"%d)\n+        sys.exit(getattr(os, 'EX_USAGE', 1))\n \n if __name__ == '__main__':\n     check_main()\n\n```", "markup": "markdown", "html": "<p>Seems like the final report in xml result file is ok, since test results can not be found but the check_ tests are always returning true, so system console show them as \"passed\". A fix for this (working for me) could be:</p>\n<div class=\"codehilite language-diff\"><pre><span></span><span class=\"gh\">diff -r 237e08ff175c tools/check_test_ran.py</span>\n<span class=\"gd\">--- a/tools/check_test_ran.py   Tue Apr 09 16:18:31 2013 -0700</span>\n<span class=\"gi\">+++ b/tools/check_test_ran.py   Thu Apr 11 02:53:29 2013 +0200</span>\n<span class=\"gu\">@@ -74,6 +74,7 @@</span>\n     &lt;failure message=&quot;Unable to find test results for %(test)s, test did not run.\\nExpected results in %(test_file)s&quot; type=&quot;&quot;/&gt;\n   &lt;/testcase&gt;\n &lt;/testsuite&gt;&quot;&quot;&quot;%d)\n<span class=\"gi\">+        sys.exit(getattr(os, &#39;EX_USAGE&#39;, 1))</span>\n\n if __name__ == &#39;__main__&#39;:\n     check_main()\n</pre></div>", "type": "rendered"}, "created_on": "2013-04-11T00:56:59.166335+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2013-04-11T00:57:45.033105+00:00", "type": "pullrequest_comment", "id": 193509}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/193518.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-193518"}}, "parent": {"id": 193481, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/193481.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-193481"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 434, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434"}}, "title": "Allow world with a name other than \"default\". Fixed all tests."}, "content": {"raw": "A possible patch to get the QTest based tests to log the data in the corresponding XML file, could be something like:\n\n```\n#!diff\ndiff -r 237e08ff175c cmake/GazeboUtils.cmake\n--- a/cmake/GazeboUtils.cmake\tTue Apr 09 16:18:31 2013 -0700\n+++ b/cmake/GazeboUtils.cmake\tThu Apr 11 03:01:11 2013 +0200\n@@ -245,8 +245,8 @@\n       ${QT_LIBRARIES}\n       )\n \n-    add_test(${BINARY_NAME} ${CMAKE_CURRENT_BINARY_DIR}/${BINARY_NAME} -xml)\n-\n+    # QTest need and extra -o parameter to write logging information to a file\n+    add_test(${BINARY_NAME} ${CMAKE_CURRENT_BINARY_DIR}/${BINARY_NAME} -xml -o ${CMAKE_BINARY_DIR}/test_results/${BINARY_NAME}.xml)\n     set_tests_properties(${BINARY_NAME} PROPERTIES TIMEOUT 240)\n \n     # Check that the test produced a result and create a failure if it didn't.\n```", "markup": "markdown", "html": "<p>A possible patch to get the QTest based tests to log the data in the corresponding XML file, could be something like:</p>\n<div class=\"codehilite language-diff\"><pre><span></span><span class=\"gh\">diff -r 237e08ff175c cmake/GazeboUtils.cmake</span>\n<span class=\"gd\">--- a/cmake/GazeboUtils.cmake   Tue Apr 09 16:18:31 2013 -0700</span>\n<span class=\"gi\">+++ b/cmake/GazeboUtils.cmake   Thu Apr 11 03:01:11 2013 +0200</span>\n<span class=\"gu\">@@ -245,8 +245,8 @@</span>\n       ${QT_LIBRARIES}\n       )\n\n<span class=\"gd\">-    add_test(${BINARY_NAME} ${CMAKE_CURRENT_BINARY_DIR}/${BINARY_NAME} -xml)</span>\n<span class=\"gd\">-</span>\n<span class=\"gi\">+    # QTest need and extra -o parameter to write logging information to a file</span>\n<span class=\"gi\">+    add_test(${BINARY_NAME} ${CMAKE_CURRENT_BINARY_DIR}/${BINARY_NAME} -xml -o ${CMAKE_BINARY_DIR}/test_results/${BINARY_NAME}.xml)</span>\n     set_tests_properties(${BINARY_NAME} PROPERTIES TIMEOUT 240)\n\n     # Check that the test produced a result and create a failure if it didn&#39;t.\n</pre></div>", "type": "rendered"}, "created_on": "2013-04-11T01:04:02.985801+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2013-04-11T01:04:56.980681+00:00", "type": "pullrequest_comment", "id": 193518}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/193521.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-193521"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 434, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434"}}, "title": "Allow world with a name other than \"default\". Fixed all tests."}, "content": {"raw": "I would be interested in testing these previous two patches in jenkins and see what happen there. Nate, could we have these two in this pull request?", "markup": "markdown", "html": "<p>I would be interested in testing these previous two patches in jenkins and see what happen there. Nate, could we have these two in this pull request?</p>", "type": "rendered"}, "created_on": "2013-04-11T01:06:35.992586+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2013-04-11T01:06:36.002699+00:00", "type": "pullrequest_comment", "id": 193521}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/193539.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-193539"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 434, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434"}}, "title": "Allow world with a name other than \"default\". Fixed all tests."}, "content": {"raw": "I really like the gz_build_test script. Should we rename it to have a .bash suffix since it's a bash script? Also, I noticed that cppcheck wasn't redirecting all of its output to the logfile. So in 4f47f06 of branch default_worldname_scpeters, I fixed that and added a verbose logfile that includes the raw console output for all failing tests. This is helpful for debugging what went wrong.", "markup": "markdown", "html": "<p>I really like the gz_build_test script. Should we rename it to have a .bash suffix since it's a bash script? Also, I noticed that cppcheck wasn't redirecting all of its output to the logfile. So in <a href=\"#!/osrf/gazebo/commits/4f47f06\" rel=\"nofollow\" class=\"ap-connect-link\">4f47f06</a> of branch default_worldname_scpeters, I fixed that and added a verbose logfile that includes the raw console output for all failing tests. This is helpful for debugging what went wrong.</p>", "type": "rendered"}, "created_on": "2013-04-11T01:38:39.941659+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2013-04-11T01:38:39.949555+00:00", "type": "pullrequest_comment", "id": 193539}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/194931.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-194931"}}, "parent": {"id": 193539, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/193539.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-193539"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 434, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434"}}, "title": "Allow world with a name other than \"default\". Fixed all tests."}, "content": {"raw": "Thanks. I've added in your changes, and a few more. I'm running the script now to see if it all works.", "markup": "markdown", "html": "<p>Thanks. I've added in your changes, and a few more. I'm running the script now to see if it all works.</p>", "type": "rendered"}, "created_on": "2013-04-11T16:27:44.378643+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2013-04-11T16:27:44.390719+00:00", "type": "pullrequest_comment", "id": 194931}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/195041.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-195041"}}, "parent": {"id": 194931, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/194931.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-194931"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 434, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434"}}, "title": "Allow world with a name other than \"default\". Fixed all tests."}, "content": {"raw": "I just noticed a small mistake in my logic for that script. As written it will include the wrong console out if test_ran fails. Here's a fix:\n~~~\ndiff -r 12ea2cfb6dd6 tools/gz_build_test.bash\n--- a/tools/gz_build_test.bash\tThu Apr 11 09:27:41 2013 -0700\n+++ b/tools/gz_build_test.bash\tThu Apr 11 10:31:49 2013 -0700\n@@ -62,8 +62,8 @@\n       echo Try $i of 100, failed test $f >> $logfileVerbose\n       # then send the raw output of both the test and its companion test_ran\n       # to the logfile for perusal\n-      grep '^ *'`echo \"($f/2)*2+1\" | bc`':' $logfileRaw >> $logfileVerbose\n-      grep '^ *'`echo \"($f/2)*2+2\" | bc`':' $logfileRaw >> $logfileVerbose\n+      grep '^ *'`echo \"(($f-1)/2)*2+1\" | bc`':' $logfileRaw >> $logfileVerbose\n+      grep '^ *'`echo \"(($f-1)/2)*2+2\" | bc`':' $logfileRaw >> $logfileVerbose\n     done\n   done\n \n~~~", "markup": "markdown", "html": "<p>I just noticed a small mistake in my logic for that script. As written it will include the wrong console out if test_ran fails. Here's a fix:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gh\">diff -r 12ea2cfb6dd6 tools/gz_build_test.bash</span>\n<span class=\"gd\">--- a/tools/gz_build_test.bash  Thu Apr 11 09:27:41 2013 -0700</span>\n<span class=\"gi\">+++ b/tools/gz_build_test.bash  Thu Apr 11 10:31:49 2013 -0700</span>\n<span class=\"gu\">@@ -62,8 +62,8 @@</span>\n       echo Try $i of 100, failed test $f &gt;&gt; $logfileVerbose\n       # then send the raw output of both the test and its companion test_ran\n       # to the logfile for perusal\n<span class=\"gd\">-      grep &#39;^ *&#39;`echo &quot;($f/2)*2+1&quot; | bc`&#39;:&#39; $logfileRaw &gt;&gt; $logfileVerbose</span>\n<span class=\"gd\">-      grep &#39;^ *&#39;`echo &quot;($f/2)*2+2&quot; | bc`&#39;:&#39; $logfileRaw &gt;&gt; $logfileVerbose</span>\n<span class=\"gi\">+      grep &#39;^ *&#39;`echo &quot;(($f-1)/2)*2+1&quot; | bc`&#39;:&#39; $logfileRaw &gt;&gt; $logfileVerbose</span>\n<span class=\"gi\">+      grep &#39;^ *&#39;`echo &quot;(($f-1)/2)*2+2&quot; | bc`&#39;:&#39; $logfileRaw &gt;&gt; $logfileVerbose</span>\n     done\n   done\n</pre></div>", "type": "rendered"}, "created_on": "2013-04-11T17:36:26.701073+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2013-04-11T17:36:26.714202+00:00", "type": "pullrequest_comment", "id": 195041}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/193845.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-193845"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 434, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434"}}, "title": "Allow world with a name other than \"default\". Fixed all tests."}, "content": {"raw": "I ran make test, and I get a consistent failure with the pioneer2dx test. Running Quantal.\n\nThis is the test output:\n\n\n```\n#!bash\n\nError [parser.cc:562] Directory doesn't exist[pioneer2dx]\nWarning [parser.cc:578] The manifest.xml for a Gazebo model is deprecated. Please rename manifest.xml to model.config.\nWarning [parser.cc:361] Converting a deprecated SDF source[/home/brawner/.gazebo/models/sun/model.sdf].\nSet SDF value\nWarning [Converter.cc:61]   Version[1.2] to Version[1.4]\n  Please use the gzsdf tool to update your SDF files.\n    $ gzsdf convert [sdf_file]\nMsg Waiting for master\nMsg Connected to gazebo master @ http://127.0.0.1:11345\nMsg Publicized address: 192.168.1.89\nDbg ServerFixture load in 0.09 seconds, timeout after 60 seconds\nDIst[20.0146]\nEnPose.x[0]\n/home/brawner/workspace/gazebo/test/regression/pioneer2dx.cc:73: Failure\nExpected: (fabs(endPose.pos.x - dist)) < (0.1), actual: 20.0146 vs 0.1\n```\n\nThe other one that gave me trouble, but not consistently was transport_stress. It segfaulted with the following:\n\n\n```\n#!bash\n\nWarning [Publisher.cc:127] Queue limit reached for topic /gazebo/default/pose/info, deleting message. This warning is printed only once.\nterminate called after throwing an instance of 'boost::exception_detail::clone_impl<boost::exception_detail::error_info_injector<boost::lock_error> >'\n  what():  boost::lock_error\nAborted (core dumped)\n```\n\nThis is the first time I've really run the tests individually. If you need more helpful output, I might need some pointers. We can discuss tomorrow.\n", "markup": "markdown", "html": "<p>I ran make test, and I get a consistent failure with the pioneer2dx test. Running Quantal.</p>\n<p>This is the test output:</p>\n<div class=\"codehilite language-bash\"><pre><span></span>Error <span class=\"o\">[</span>parser.cc:562<span class=\"o\">]</span> Directory doesn<span class=\"err\">&#39;</span>t exist<span class=\"o\">[</span>pioneer2dx<span class=\"o\">]</span>\nWarning <span class=\"o\">[</span>parser.cc:578<span class=\"o\">]</span> The manifest.xml <span class=\"k\">for</span> a Gazebo model is deprecated. Please rename manifest.xml to model.config.\nWarning <span class=\"o\">[</span>parser.cc:361<span class=\"o\">]</span> Converting a deprecated SDF source<span class=\"o\">[</span>/home/brawner/.gazebo/models/sun/model.sdf<span class=\"o\">]</span>.\nSet SDF value\nWarning <span class=\"o\">[</span>Converter.cc:61<span class=\"o\">]</span>   Version<span class=\"o\">[</span><span class=\"m\">1</span>.2<span class=\"o\">]</span> to Version<span class=\"o\">[</span><span class=\"m\">1</span>.4<span class=\"o\">]</span>\n  Please use the gzsdf tool to update your SDF files.\n    $ gzsdf convert <span class=\"o\">[</span>sdf_file<span class=\"o\">]</span>\nMsg Waiting <span class=\"k\">for</span> master\nMsg Connected to gazebo master @ http://127.0.0.1:11345\nMsg Publicized address: <span class=\"m\">192</span>.168.1.89\nDbg ServerFixture load in <span class=\"m\">0</span>.09 seconds, timeout after <span class=\"m\">60</span> seconds\nDIst<span class=\"o\">[</span><span class=\"m\">20</span>.0146<span class=\"o\">]</span>\nEnPose.x<span class=\"o\">[</span><span class=\"m\">0</span><span class=\"o\">]</span>\n/home/brawner/workspace/gazebo/test/regression/pioneer2dx.cc:73: Failure\nExpected: <span class=\"o\">(</span>fabs<span class=\"o\">(</span>endPose.pos.x - dist<span class=\"o\">))</span> &lt; <span class=\"o\">(</span><span class=\"m\">0</span>.1<span class=\"o\">)</span>, actual: <span class=\"m\">20</span>.0146 vs <span class=\"m\">0</span>.1\n</pre></div>\n\n\n<p>The other one that gave me trouble, but not consistently was transport_stress. It segfaulted with the following:</p>\n<div class=\"codehilite language-bash\"><pre><span></span>Warning <span class=\"o\">[</span>Publisher.cc:127<span class=\"o\">]</span> Queue limit reached <span class=\"k\">for</span> topic /gazebo/default/pose/info, deleting message. This warning is printed only once.\nterminate called after throwing an instance of <span class=\"s1\">&#39;boost::exception_detail::clone_impl&lt;boost::exception_detail::error_info_injector&lt;boost::lock_error&gt; &gt;&#39;</span>\n  what<span class=\"o\">()</span>:  boost::lock_error\nAborted <span class=\"o\">(</span>core dumped<span class=\"o\">)</span>\n</pre></div>\n\n\n<p>This is the first time I've really run the tests individually. If you need more helpful output, I might need some pointers. We can discuss tomorrow.</p>", "type": "rendered"}, "created_on": "2013-04-11T06:46:17.121485+00:00", "user": {"display_name": "Stephen Brawner", "uuid": "{f6bd3fe7-4d17-4503-9232-0915d6e97879}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bf6bd3fe7-4d17-4503-9232-0915d6e97879%7D"}, "html": {"href": "https://bitbucket.org/%7Bf6bd3fe7-4d17-4503-9232-0915d6e97879%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/68ef29dce5cc8f01a4d01c17a97226bdd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSB-1.png"}}, "nickname": "brawner", "type": "user", "account_id": "557058:84c67412-a2f4-4754-87f1-e4c1e3fe58fe"}, "updated_on": "2013-04-11T06:51:54.840079+00:00", "type": "pullrequest_comment", "id": 193845}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/194664.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-194664"}}, "parent": {"id": 193845, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/193845.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-193845"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 434, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434"}}, "title": "Allow world with a name other than \"default\". Fixed all tests."}, "content": {"raw": "Pioneer problem does not appear on quantal in jenkins: http://build.osrfoundation.org/job/gazebo-any-devel-quantal-amd64-gpu-nvidia/1/consoleFull.\n\nThis error is not appearing there:\n```\nError [parser.cc:562] Directory doesn't exist[pioneer2dx]\n```\n", "markup": "markdown", "html": "<p>Pioneer problem does not appear on quantal in jenkins: <a href=\"http://build.osrfoundation.org/job/gazebo-any-devel-quantal-amd64-gpu-nvidia/1/consoleFull\" rel=\"nofollow\" class=\"ap-connect-link\">http://build.osrfoundation.org/job/gazebo-any-devel-quantal-amd64-gpu-nvidia/1/consoleFull</a>.</p>\n<p>This error is not appearing there:</p>\n<div class=\"codehilite\"><pre><span></span>Error [parser.cc:562] Directory doesn&#39;t exist[pioneer2dx]\n</pre></div>", "type": "rendered"}, "created_on": "2013-04-11T14:28:34.796286+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2013-04-11T14:28:34.804919+00:00", "type": "pullrequest_comment", "id": 194664}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/194691.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-194691"}}, "parent": {"id": 193845, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/193845.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-193845"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 434, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434"}}, "title": "Allow world with a name other than \"default\". Fixed all tests."}, "content": {"raw": "mmm just tried the pioneer2dx and transport_stress tests on my laptop running quantal, I wasn't able to reproduce these failures.", "markup": "markdown", "html": "<p>mmm just tried the pioneer2dx and transport_stress tests on my laptop running quantal, I wasn't able to reproduce these failures.</p>", "type": "rendered"}, "created_on": "2013-04-11T14:45:50.651993+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2013-04-11T14:45:50.660575+00:00", "type": "pullrequest_comment", "id": 194691}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/194750.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-194750"}}, "parent": {"id": 193845, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/193845.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-193845"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 434, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434"}}, "title": "Allow world with a name other than \"default\". Fixed all tests."}, "content": {"raw": "The first error in your output for the pioneer2dx test indicates that the pioneer2dx model doesn't exist on your computer. This could be caused by incorrect environment variables, lack of internet connection to download pioneer2dx, or gazebosim.org was down.\n\nCan you include a backtrace for the second error?", "markup": "markdown", "html": "<p>The first error in your output for the pioneer2dx test indicates that the pioneer2dx model doesn't exist on your computer. This could be caused by incorrect environment variables, lack of internet connection to download pioneer2dx, or gazebosim.org was down.</p>\n<p>Can you include a backtrace for the second error?</p>", "type": "rendered"}, "created_on": "2013-04-11T15:03:14.700271+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2013-04-11T15:03:14.707572+00:00", "type": "pullrequest_comment", "id": 194750}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/195068.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-195068"}}, "parent": {"id": 194750, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/194750.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-194750"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 434, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434"}}, "title": "Allow world with a name other than \"default\". Fixed all tests."}, "content": {"raw": "Sourcing setup.sh worked, I'll see if I can reproduce the second one.", "markup": "markdown", "html": "<p>Sourcing setup.sh worked, I'll see if I can reproduce the second one.</p>", "type": "rendered"}, "created_on": "2013-04-11T17:56:47.248518+00:00", "user": {"display_name": "Stephen Brawner", "uuid": "{f6bd3fe7-4d17-4503-9232-0915d6e97879}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bf6bd3fe7-4d17-4503-9232-0915d6e97879%7D"}, "html": {"href": "https://bitbucket.org/%7Bf6bd3fe7-4d17-4503-9232-0915d6e97879%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/68ef29dce5cc8f01a4d01c17a97226bdd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSB-1.png"}}, "nickname": "brawner", "type": "user", "account_id": "557058:84c67412-a2f4-4754-87f1-e4c1e3fe58fe"}, "updated_on": "2013-04-11T17:56:47.257361+00:00", "type": "pullrequest_comment", "id": 195068}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/194821.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-194821"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 434, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434"}}, "title": "Allow world with a name other than \"default\". Fixed all tests."}, "content": {"raw": "In the latest two runs of GPU Amazon machine I've seen some ODE test cases failing in different tests suites.\n\nIn [run #9](http://build.osrfoundation.org/job/gazebo-any-devel-precise-amd64-gpu-vrc/9/): ContactSensor.StackTestODE, ImuTest.EmptyWorldBiasODE and LaserTest.LaserBoxODE.\n\nIn [run #10](http://build.osrfoundation.org/job/gazebo-any-devel-precise-amd64-gpu-vrc/10/) only LaserTest.LaserBoxODE.\n\nAll errors ( Expected i < 50) are in the same line of ServerFixture.hh 559 which seems like it could be a timeout problem:\n\n```\n#!c++\n\n               // Wait for the entity to spawn\n               while (!this->HasEntity(_modelName) && i < 50)\n               {\n                 common::Time::MSleep(20);\n                 ++i;\n               }\n               EXPECT_LT(i, 50);\n             }\n\n```", "markup": "markdown", "html": "<p>In the latest two runs of GPU Amazon machine I've seen some ODE test cases failing in different tests suites.</p>\n<p>In <a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/job/gazebo-any-devel-precise-amd64-gpu-vrc/9/\" rel=\"nofollow\">run #9</a>: ContactSensor.StackTestODE, ImuTest.EmptyWorldBiasODE and LaserTest.LaserBoxODE.</p>\n<p>In <a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/job/gazebo-any-devel-precise-amd64-gpu-vrc/10/\" rel=\"nofollow\">run #10</a> only LaserTest.LaserBoxODE.</p>\n<p>All errors ( Expected i &lt; 50) are in the same line of ServerFixture.hh 559 which seems like it could be a timeout problem:</p>\n<div class=\"codehilite language-c++\"><pre><span></span>               <span class=\"c1\">// Wait for the entity to spawn</span>\n               <span class=\"k\">while</span> <span class=\"p\">(</span><span class=\"o\">!</span><span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">HasEntity</span><span class=\"p\">(</span><span class=\"n\">_modelName</span><span class=\"p\">)</span> <span class=\"o\">&amp;&amp;</span> <span class=\"n\">i</span> <span class=\"o\">&lt;</span> <span class=\"mi\">50</span><span class=\"p\">)</span>\n               <span class=\"p\">{</span>\n                 <span class=\"n\">common</span><span class=\"o\">::</span><span class=\"n\">Time</span><span class=\"o\">::</span><span class=\"n\">MSleep</span><span class=\"p\">(</span><span class=\"mi\">20</span><span class=\"p\">);</span>\n                 <span class=\"o\">++</span><span class=\"n\">i</span><span class=\"p\">;</span>\n               <span class=\"p\">}</span>\n               <span class=\"n\">EXPECT_LT</span><span class=\"p\">(</span><span class=\"n\">i</span><span class=\"p\">,</span> <span class=\"mi\">50</span><span class=\"p\">);</span>\n             <span class=\"p\">}</span>\n</pre></div>", "type": "rendered"}, "created_on": "2013-04-11T15:33:18.163488+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2013-04-11T15:33:18.173639+00:00", "type": "pullrequest_comment", "id": 194821}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/194827.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-194827"}}, "parent": {"id": 194821, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/194821.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-194821"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 434, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434"}}, "title": "Allow world with a name other than \"default\". Fixed all tests."}, "content": {"raw": "Also [appeared once](http://build.osrfoundation.org/job/gazebo-any-devel-precise-amd64-gpu-ati/lastCompletedBuild/testReport/%28root%29/ImuTest/EmptyWorldNoiseODE/) in our ATI OSRF machine", "markup": "markdown", "html": "<p>Also <a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/job/gazebo-any-devel-precise-amd64-gpu-ati/lastCompletedBuild/testReport/%28root%29/ImuTest/EmptyWorldNoiseODE/\" rel=\"nofollow\">appeared once</a> in our ATI OSRF machine</p>", "type": "rendered"}, "created_on": "2013-04-11T15:35:27.512823+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2013-04-11T15:35:27.521734+00:00", "type": "pullrequest_comment", "id": 194827}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/194967.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-194967"}}, "parent": {"id": 194827, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/194827.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-194827"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 434, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434"}}, "title": "Allow world with a name other than \"default\". Fixed all tests."}, "content": {"raw": "I've pushed the sleep time to 100ms in this branch. Could you try it out with that change?", "markup": "markdown", "html": "<p>I've pushed the sleep time to 100ms in this branch. Could you try it out with that change?</p>", "type": "rendered"}, "created_on": "2013-04-11T16:39:57.163226+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2013-04-11T16:39:57.191177+00:00", "type": "pullrequest_comment", "id": 194967}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/195074.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-195074"}}, "parent": {"id": 194967, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/194967.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-194967"}}, "depth": 3}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 434, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434"}}, "title": "Allow world with a name other than \"default\". Fixed all tests."}, "content": {"raw": "First run (on amazon gpu) after changes seems safe (I'm spinning another one to be sure). Only remaining failing tests I think could be fixed with my two patches from comments above.", "markup": "markdown", "html": "<p>First run (on amazon gpu) after changes seems safe (I'm spinning another one to be sure). Only remaining failing tests I think could be fixed with my two patches from comments above.</p>", "type": "rendered"}, "created_on": "2013-04-11T18:01:14.825975+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2013-04-11T18:01:55.852037+00:00", "type": "pullrequest_comment", "id": 195074}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/195161.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-195161"}}, "parent": {"id": 194967, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/194967.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-194967"}}, "depth": 3}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 434, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434"}}, "title": "Allow world with a name other than \"default\". Fixed all tests."}, "content": {"raw": "I didn't see them in latest run on Nvidia/Quantal and ATI", "markup": "markdown", "html": "<p>I didn't see them in latest run on Nvidia/Quantal and ATI</p>", "type": "rendered"}, "created_on": "2013-04-11T18:26:32.827920+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2013-04-11T18:26:32.836234+00:00", "type": "pullrequest_comment", "id": 195161}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/195210.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-195210"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 434, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434"}}, "title": "Allow world with a name other than \"default\". Fixed all tests."}, "content": {"raw": "At this moment I think all current failing tests on Nvidia (both precise/quantal) are fixed are have a patch that could fix them.\n\nFor ATI we have a couple more failing (in the last two runs). For the first one it could hide a race condition problems if our ATI is the slowest machine/GPU around. The second one is related to render.\n\n**SensorManager_TEST.InitRemove**:\n\n```\n/var/lib/jenkins/workspace/gazebo-any-devel-precise-amd64-gpu-ati/gazebo/gazebo/sensors/SensorManager_TEST.cc:118\nExpected: (i) < (20), actual: 30 vs 20\n```\nrelated code:\n\n```\n#!c++\n\n\n  // Try removing a few senors.\n  for (sensors::Sensor_V::iterator iter = sensors.begin();\n       iter != sensors.end() && sensorCount > 10; ++iter)\n  {\n    mgr->RemoveSensor((*iter)->GetName());\n\n    --sensorCount;\n\n    int i = 0;\n\n    // Wait for a sensor manager update.\n    while (mgr->GetSensors().size() > sensorCount)\n    {\n      gazebo::common::Time::MSleep(100);\n      ++i;\n    }\n\n    EXPECT_LT(i, 20);\n  }\n\n```\n\n**HeightmapTest.Heights** :\n\n```\n/var/lib/jenkins/workspace/gazebo-any-devel-precise-amd64-gpu-ati/gazebo/test/regression/heightmap.cc:119\nValue of: math::equal(physicsTest.back(), renderTest.back(), 0.13f)\n  Actual: false\nExpected: true\n```\n\nrelated code:\n```\n      // Test to see if the physics height is equal to the render engine\n      // height.\n      EXPECT_TRUE(math::equal(physicsTest.back(), renderTest.back(), 0.13f));\n```", "markup": "markdown", "html": "<p>At this moment I think all current failing tests on Nvidia (both precise/quantal) are fixed are have a patch that could fix them.</p>\n<p>For ATI we have a couple more failing (in the last two runs). For the first one it could hide a race condition problems if our ATI is the slowest machine/GPU around. The second one is related to render.</p>\n<p><strong>SensorManager_TEST.InitRemove</strong>:</p>\n<div class=\"codehilite\"><pre><span></span>/var/lib/jenkins/workspace/gazebo-any-devel-precise-amd64-gpu-ati/gazebo/gazebo/sensors/SensorManager_TEST.cc:118\nExpected: (i) &lt; (20), actual: 30 vs 20\n</pre></div>\n\n\n<p>related code:</p>\n<div class=\"codehilite language-c++\"><pre><span></span>  <span class=\"c1\">// Try removing a few senors.</span>\n  <span class=\"k\">for</span> <span class=\"p\">(</span><span class=\"n\">sensors</span><span class=\"o\">::</span><span class=\"n\">Sensor_V</span><span class=\"o\">::</span><span class=\"n\">iterator</span> <span class=\"n\">iter</span> <span class=\"o\">=</span> <span class=\"n\">sensors</span><span class=\"p\">.</span><span class=\"n\">begin</span><span class=\"p\">();</span>\n       <span class=\"n\">iter</span> <span class=\"o\">!=</span> <span class=\"n\">sensors</span><span class=\"p\">.</span><span class=\"n\">end</span><span class=\"p\">()</span> <span class=\"o\">&amp;&amp;</span> <span class=\"n\">sensorCount</span> <span class=\"o\">&gt;</span> <span class=\"mi\">10</span><span class=\"p\">;</span> <span class=\"o\">++</span><span class=\"n\">iter</span><span class=\"p\">)</span>\n  <span class=\"p\">{</span>\n    <span class=\"n\">mgr</span><span class=\"o\">-&gt;</span><span class=\"n\">RemoveSensor</span><span class=\"p\">((</span><span class=\"o\">*</span><span class=\"n\">iter</span><span class=\"p\">)</span><span class=\"o\">-&gt;</span><span class=\"n\">GetName</span><span class=\"p\">());</span>\n\n    <span class=\"o\">--</span><span class=\"n\">sensorCount</span><span class=\"p\">;</span>\n\n    <span class=\"kt\">int</span> <span class=\"n\">i</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">;</span>\n\n    <span class=\"c1\">// Wait for a sensor manager update.</span>\n    <span class=\"k\">while</span> <span class=\"p\">(</span><span class=\"n\">mgr</span><span class=\"o\">-&gt;</span><span class=\"n\">GetSensors</span><span class=\"p\">().</span><span class=\"n\">size</span><span class=\"p\">()</span> <span class=\"o\">&gt;</span> <span class=\"n\">sensorCount</span><span class=\"p\">)</span>\n    <span class=\"p\">{</span>\n      <span class=\"n\">gazebo</span><span class=\"o\">::</span><span class=\"n\">common</span><span class=\"o\">::</span><span class=\"n\">Time</span><span class=\"o\">::</span><span class=\"n\">MSleep</span><span class=\"p\">(</span><span class=\"mi\">100</span><span class=\"p\">);</span>\n      <span class=\"o\">++</span><span class=\"n\">i</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n\n    <span class=\"n\">EXPECT_LT</span><span class=\"p\">(</span><span class=\"n\">i</span><span class=\"p\">,</span> <span class=\"mi\">20</span><span class=\"p\">);</span>\n  <span class=\"p\">}</span>\n</pre></div>\n\n\n<p><strong>HeightmapTest.Heights</strong> :</p>\n<div class=\"codehilite\"><pre><span></span>/var/lib/jenkins/workspace/gazebo-any-devel-precise-amd64-gpu-ati/gazebo/test/regression/heightmap.cc:119\nValue of: math::equal(physicsTest.back(), renderTest.back(), 0.13f)\n  Actual: false\nExpected: true\n</pre></div>\n\n\n<p>related code:</p>\n<div class=\"codehilite\"><pre><span></span>      <span class=\"o\">//</span> <span class=\"nt\">Test</span> <span class=\"nt\">to</span> <span class=\"nt\">see</span> <span class=\"nt\">if</span> <span class=\"nt\">the</span> <span class=\"nt\">physics</span> <span class=\"nt\">height</span> <span class=\"nt\">is</span> <span class=\"nt\">equal</span> <span class=\"nt\">to</span> <span class=\"nt\">the</span> <span class=\"nt\">render</span> <span class=\"nt\">engine</span>\n      <span class=\"o\">//</span> <span class=\"nt\">height</span><span class=\"o\">.</span>\n      <span class=\"nt\">EXPECT_TRUE</span><span class=\"o\">(</span><span class=\"nt\">math</span><span class=\"p\">::</span><span class=\"nd\">equal</span><span class=\"o\">(</span><span class=\"nt\">physicsTest</span><span class=\"p\">.</span><span class=\"nc\">back</span><span class=\"o\">(),</span> <span class=\"nt\">renderTest</span><span class=\"p\">.</span><span class=\"nc\">back</span><span class=\"o\">(),</span> <span class=\"nt\">0</span><span class=\"p\">.</span><span class=\"nc\">13f</span><span class=\"o\">));</span>\n</pre></div>", "type": "rendered"}, "created_on": "2013-04-11T18:40:55.703362+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2013-04-11T18:40:55.712739+00:00", "type": "pullrequest_comment", "id": 195210}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/195624.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-195624"}}, "parent": {"id": 195210, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/195210.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-195210"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 434, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434"}}, "title": "Allow world with a name other than \"default\". Fixed all tests."}, "content": {"raw": "There still seems to be an issue with the Jenkins test reporting. The [most recent gpu-vrc test](http://build.osrfoundation.org/view/gazebo/job/gazebo-any-devel-precise-amd64-gpu-vrc/13/console) is listed as fixed but has two failures listed in the raw console output:\n~~~\n63 - viewers/ImagesView_TEST (Failed)\n64 - check_viewers/ImagesView_TEST (Failed)\n~~~", "markup": "markdown", "html": "<p>There still seems to be an issue with the Jenkins test reporting. The <a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/gazebo/job/gazebo-any-devel-precise-amd64-gpu-vrc/13/console\" rel=\"nofollow\">most recent gpu-vrc test</a> is listed as fixed but has two failures listed in the raw console output:</p>\n<div class=\"codehilite\"><pre><span></span>63 - viewers/ImagesView_TEST (Failed)\n64 - check_viewers/ImagesView_TEST (Failed)\n</pre></div>", "type": "rendered"}, "created_on": "2013-04-11T21:32:07.359098+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2013-04-11T21:32:07.367860+00:00", "type": "pullrequest_comment", "id": 195624}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/195787.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-195787"}}, "parent": {"id": 195624, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/195624.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-195624"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 434, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434"}}, "title": "Allow world with a name other than \"default\". Fixed all tests."}, "content": {"raw": "This is the error:\n\n\n```\n#!c++\n\n63: Unable to open file for logging: /var/lib/jenkins/workspace/gazebo-any-devel-precise-amd64-gpu-vrc/build/test_results/viewers/ImagesView_TEST.xml\n\n```\n\n@_jrivero_  What do you think would cause this? Disk space problem?", "markup": "markdown", "html": "<p>This is the error:</p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"mi\">63</span><span class=\"o\">:</span> <span class=\"n\">Unable</span> <span class=\"n\">to</span> <span class=\"n\">open</span> <span class=\"n\">file</span> <span class=\"k\">for</span> <span class=\"nl\">logging</span><span class=\"p\">:</span> <span class=\"o\">/</span><span class=\"n\">var</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"o\">/</span><span class=\"n\">jenkins</span><span class=\"o\">/</span><span class=\"n\">workspace</span><span class=\"o\">/</span><span class=\"n\">gazebo</span><span class=\"o\">-</span><span class=\"n\">any</span><span class=\"o\">-</span><span class=\"n\">devel</span><span class=\"o\">-</span><span class=\"n\">precise</span><span class=\"o\">-</span><span class=\"n\">amd64</span><span class=\"o\">-</span><span class=\"n\">gpu</span><span class=\"o\">-</span><span class=\"n\">vrc</span><span class=\"o\">/</span><span class=\"n\">build</span><span class=\"o\">/</span><span class=\"n\">test_results</span><span class=\"o\">/</span><span class=\"n\">viewers</span><span class=\"o\">/</span><span class=\"n\">ImagesView_TEST</span><span class=\"p\">.</span><span class=\"n\">xml</span>\n</pre></div>\n\n\n<p>@<em>jrivero</em>  What do you think would cause this? Disk space problem?</p>", "type": "rendered"}, "created_on": "2013-04-11T22:40:43.953093+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2013-04-11T22:42:18.070461+00:00", "type": "pullrequest_comment", "id": 195787}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/195833.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-195833"}}, "parent": {"id": 195787, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/195787.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-195787"}}, "depth": 3}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 434, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434"}}, "title": "Allow world with a name other than \"default\". Fixed all tests."}, "content": {"raw": "Out of a linux machine at this moment to confirm it but my hypothesis would be that the \"/\" in the test name is breaking the -o logging since it makes linux to think it is a subdirectory/case.xml (instead of a full filename) and the subdirectory \"viewers\" does not exist under test_results so it is impossible to log the file there. This explains also the lack of failing in the jenkins results since the XML with fails was never written.\n\nSound reasonable? Could we have the test name changed to not use a slash?", "markup": "markdown", "html": "<p>Out of a linux machine at this moment to confirm it but my hypothesis would be that the \"/\" in the test name is breaking the -o logging since it makes linux to think it is a subdirectory/case.xml (instead of a full filename) and the subdirectory \"viewers\" does not exist under test_results so it is impossible to log the file there. This explains also the lack of failing in the jenkins results since the XML with fails was never written.</p>\n<p>Sound reasonable? Could we have the test name changed to not use a slash?</p>", "type": "rendered"}, "created_on": "2013-04-11T23:32:50.750237+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2013-04-11T23:33:24.458241+00:00", "type": "pullrequest_comment", "id": 195833}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/195905.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-195905"}}, "parent": {"id": 195833, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/195833.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-195833"}}, "depth": 4}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 434, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434"}}, "title": "Allow world with a name other than \"default\". Fixed all tests."}, "content": {"raw": "Cool. I'll take care of that.", "markup": "markdown", "html": "<p>Cool. I'll take care of that.</p>", "type": "rendered"}, "created_on": "2013-04-12T00:54:20.674957+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2013-04-12T00:54:20.681238+00:00", "type": "pullrequest_comment", "id": 195905}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/195524.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-195524"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 434, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434"}}, "title": "Allow world with a name other than \"default\". Fixed all tests."}, "content": {"raw": "Tests generally pass for me. I'll run the gz_build_test script tonight to see what else it comes up with.", "markup": "markdown", "html": "<p>Tests generally pass for me. I'll run the gz_build_test script tonight to see what else it comes up with.</p>", "type": "rendered"}, "created_on": "2013-04-11T20:59:09.710589+00:00", "user": {"display_name": "Stephen Brawner", "uuid": "{f6bd3fe7-4d17-4503-9232-0915d6e97879}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bf6bd3fe7-4d17-4503-9232-0915d6e97879%7D"}, "html": {"href": "https://bitbucket.org/%7Bf6bd3fe7-4d17-4503-9232-0915d6e97879%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/68ef29dce5cc8f01a4d01c17a97226bdd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSB-1.png"}}, "nickname": "brawner", "type": "user", "account_id": "557058:84c67412-a2f4-4754-87f1-e4c1e3fe58fe"}, "updated_on": "2013-04-11T20:59:09.719083+00:00", "type": "pullrequest_comment", "id": 195524}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/195864.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-195864"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 434, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434"}}, "title": "Allow world with a name other than \"default\". Fixed all tests."}, "content": {"raw": "Nice.\n\nAll tests pass for me.\n\nNow, to do the same for drcsim...", "markup": "markdown", "html": "<p>Nice.</p>\n<p>All tests pass for me.</p>\n<p>Now, to do the same for drcsim...</p>", "type": "rendered"}, "created_on": "2013-04-12T00:07:45.649193+00:00", "user": {"display_name": "Brian Gerkey", "uuid": "{3d8b5763-9dad-4be7-85c2-a7ab6cd49173}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D"}, "html": {"href": "https://bitbucket.org/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9/5fa9ec73-0fec-4860-a202-e34ae23b6a12/128"}}, "nickname": "Brian Gerkey", "type": "user", "account_id": "557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9"}, "updated_on": "2013-04-12T00:07:45.659830+00:00", "type": "pullrequest_comment", "id": 195864}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/196702.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-196702"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 434, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434"}}, "title": "Allow world with a name other than \"default\". Fixed all tests."}, "content": {"raw": "I've fixed the compilation problem for the new viewers subdirectory and paths to QTestFixture in commit 264110b and spin new compilations runs.\n\nIn our OSRF Nvidia machine all seems to be fixed.\n\nIn the Amazon instance some errors have appeared: http://build.osrfoundation.org/job/gazebo-any-devel-precise-amd64-gpu-vrc/16/testReport/:\n\n* Segfaults for stress factory and transport\n* Timeout in ServerFixture for Bullet related tests: ContactSensor and LaserTest\n", "markup": "markdown", "html": "<p>I've fixed the compilation problem for the new viewers subdirectory and paths to QTestFixture in commit <a href=\"#!/osrf/gazebo/commits/264110b\" rel=\"nofollow\" class=\"ap-connect-link\">264110b</a> and spin new compilations runs.</p>\n<p>In our OSRF Nvidia machine all seems to be fixed.</p>\n<p>In the Amazon instance some errors have appeared: <a href=\"http://build.osrfoundation.org/job/gazebo-any-devel-precise-amd64-gpu-vrc/16/testReport/\" rel=\"nofollow\" class=\"ap-connect-link\">http://build.osrfoundation.org/job/gazebo-any-devel-precise-amd64-gpu-vrc/16/testReport/</a>:</p>\n<ul>\n<li>Segfaults for stress factory and transport</li>\n<li>Timeout in ServerFixture for Bullet related tests: ContactSensor and LaserTest</li>\n</ul>", "type": "rendered"}, "created_on": "2013-04-12T12:29:03.673163+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2013-04-12T12:29:19.502932+00:00", "type": "pullrequest_comment", "id": 196702}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/197075.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-197075"}}, "parent": {"id": 196702, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/196702.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-196702"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 434, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434"}}, "title": "Allow world with a name other than \"default\". Fixed all tests."}, "content": {"raw": "I was unable to repeat the failures in my local machine but _stress appear to fail from time to time in Amazon and Nvidia testing boxes in the form of [segfault](http://build.osrfoundation.org/job/gazebo-any-devel-precise-amd64-gpu-vrc/18/console) or [timeout](http://build.osrfoundation.org/job/gazebo-any-devel-quantal-amd64-gpu-nvidia/8/testReport/junit/%28root%29/transport_stress/test_ran/). Probably it will need manual inspection in the affected machines.", "markup": "markdown", "html": "<p>I was unable to repeat the failures in my local machine but _stress appear to fail from time to time in Amazon and Nvidia testing boxes in the form of <a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/job/gazebo-any-devel-precise-amd64-gpu-vrc/18/console\" rel=\"nofollow\">segfault</a> or <a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/job/gazebo-any-devel-quantal-amd64-gpu-nvidia/8/testReport/junit/%28root%29/transport_stress/test_ran/\" rel=\"nofollow\">timeout</a>. Probably it will need manual inspection in the affected machines.</p>", "type": "rendered"}, "created_on": "2013-04-12T16:07:09.371352+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2013-04-12T16:07:09.378655+00:00", "type": "pullrequest_comment", "id": 197075}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/197095.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-197095"}}, "parent": {"id": 197075, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/197075.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-197075"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 434, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434"}}, "title": "Allow world with a name other than \"default\". Fixed all tests."}, "content": {"raw": "I agree. I can't reproduce it, and it's also not a consistent failure on the Amazon and nvidia boxes.", "markup": "markdown", "html": "<p>I agree. I can't reproduce it, and it's also not a consistent failure on the Amazon and nvidia boxes.</p>", "type": "rendered"}, "created_on": "2013-04-12T16:22:59.771365+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2013-04-12T16:22:59.780440+00:00", "type": "pullrequest_comment", "id": 197095}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/197174.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-197174"}}, "parent": {"id": 197075, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/197075.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-197075"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 434, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434"}}, "title": "Allow world with a name other than \"default\". Fixed all tests."}, "content": {"raw": "I've ticketed with issue #644.\n\nI'm going to merge this pull-request.", "markup": "markdown", "html": "<p>I've ticketed with issue <a href=\"#!/osrf/gazebo/issues/644/occasional-test-failures-on-cloud-machines\" rel=\"nofollow\" title=\"Occasional test failures on cloud machines\" class=\"ap-connect-link\"><s>#644</s></a>.</p>\n<p>I'm going to merge this pull-request.</p>", "type": "rendered"}, "created_on": "2013-04-12T17:17:44.154099+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2013-04-12T17:17:44.161519+00:00", "type": "pullrequest_comment", "id": 197174}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/197178.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-197178"}}, "parent": {"id": 197174, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/197174.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-197174"}}, "depth": 3}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 434, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434"}}, "title": "Allow world with a name other than \"default\". Fixed all tests."}, "content": {"raw": "Agree. Rock and Roll.", "markup": "markdown", "html": "<p>Agree. Rock and Roll.</p>", "type": "rendered"}, "created_on": "2013-04-12T17:18:52.485017+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2013-04-12T17:18:52.496381+00:00", "type": "pullrequest_comment", "id": 197178}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/197139.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:5ec7fcbebfe1..dae44f8efd4e?path=tools%2Fgz_build_test.bash"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-197139"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 434, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434"}}, "title": "Allow world with a name other than \"default\". Fixed all tests."}, "content": {"raw": "Things are looking good. I did have one minor logic fix to the code I added to gz_build_test.bash, but it's not major.\n~~~\ndiff -r 12ea2cfb6dd6 tools/gz_build_test.bash\n--- a/tools/gz_build_test.bash  Thu Apr 11 09:27:41 2013 -0700\n+++ b/tools/gz_build_test.bash  Thu Apr 11 10:31:49 2013 -0700\n@@ -62,8 +62,8 @@\n       echo Try $i of 100, failed test $f >> $logfileVerbose\n       # then send the raw output of both the test and its companion test_ran\n       # to the logfile for perusal\n-      grep '^ *'`echo \"($f/2)*2+1\" | bc`':' $logfileRaw >> $logfileVerbose\n-      grep '^ *'`echo \"($f/2)*2+2\" | bc`':' $logfileRaw >> $logfileVerbose\n+      grep '^ *'`echo \"(($f-1)/2)*2+1\" | bc`':' $logfileRaw >> $logfileVerbose\n+      grep '^ *'`echo \"(($f-1)/2)*2+2\" | bc`':' $logfileRaw >> $logfileVerbose\n     done\n   done\n~~~", "markup": "markdown", "html": "<p>Things are looking good. I did have one minor logic fix to the code I added to gz_build_test.bash, but it's not major.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gh\">diff -r 12ea2cfb6dd6 tools/gz_build_test.bash</span>\n<span class=\"gd\">--- a/tools/gz_build_test.bash  Thu Apr 11 09:27:41 2013 -0700</span>\n<span class=\"gi\">+++ b/tools/gz_build_test.bash  Thu Apr 11 10:31:49 2013 -0700</span>\n<span class=\"gu\">@@ -62,8 +62,8 @@</span>\n       echo Try $i of 100, failed test $f &gt;&gt; $logfileVerbose\n       # then send the raw output of both the test and its companion test_ran\n       # to the logfile for perusal\n<span class=\"gd\">-      grep &#39;^ *&#39;`echo &quot;($f/2)*2+1&quot; | bc`&#39;:&#39; $logfileRaw &gt;&gt; $logfileVerbose</span>\n<span class=\"gd\">-      grep &#39;^ *&#39;`echo &quot;($f/2)*2+2&quot; | bc`&#39;:&#39; $logfileRaw &gt;&gt; $logfileVerbose</span>\n<span class=\"gi\">+      grep &#39;^ *&#39;`echo &quot;(($f-1)/2)*2+1&quot; | bc`&#39;:&#39; $logfileRaw &gt;&gt; $logfileVerbose</span>\n<span class=\"gi\">+      grep &#39;^ *&#39;`echo &quot;(($f-1)/2)*2+2&quot; | bc`&#39;:&#39; $logfileRaw &gt;&gt; $logfileVerbose</span>\n     done\n   done\n</pre></div>", "type": "rendered"}, "created_on": "2013-04-12T16:54:48.549123+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {"to": 66, "from": null, "path": "tools/gz_build_test.bash"}, "updated_on": "2013-04-12T16:54:48.557449+00:00", "type": "pullrequest_comment", "id": 197139}], "page": 1, "size": 47}