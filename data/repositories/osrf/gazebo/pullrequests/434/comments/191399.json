{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/191399.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-191399"}}, "parent": {"id": 191306, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/191306.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-191306"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 434, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434"}}, "title": "Allow world with a name other than \"default\". Fixed all tests."}, "content": {"raw": "That failure listed above wasn't repeatable. I've managed to create a repeatable failure, but it's not a SIGABRT; it's a gzserver hang.\n\nProcedure:\n\n1. `gzserver` in one terminal\n2. `gzstats` in another terminal\n2. `gzclient` in another terminal (optional)\n3. make sure you have the bookshelf model in your .gazebo/models folder\n4. run the following in another terminal; it just spawns and deletes models repeatedly with gzfactory\n~~~\nfor i in `seq 1 10`; do \\\n  gzfactory spawn -f ~/.gazebo/models/bookshelf/model-1_3.sdf -m bookshelf_$i && \\\n  sleep 0.5 && \\\n  gzfactory delete -m bookshelf_$i && \\\n  sleep 0.5; done\n~~~\nAfter a couple iterations, it will hang, which can be verified by watching gzstats. I did `gdb gzserver` one time to see where it was hanging and got a backtrace, but I put it in #623 to reduce the verbosity of my comments here.", "markup": "markdown", "html": "<p>That failure listed above wasn't repeatable. I've managed to create a repeatable failure, but it's not a SIGABRT; it's a gzserver hang.</p>\n<p>Procedure:</p>\n<ol>\n<li><code>gzserver</code> in one terminal</li>\n<li><code>gzstats</code> in another terminal</li>\n<li><code>gzclient</code> in another terminal (optional)</li>\n<li>make sure you have the bookshelf model in your .gazebo/models folder</li>\n<li>run the following in another terminal; it just spawns and deletes models repeatedly with gzfactory</li>\n</ol>\n<div class=\"codehilite\"><pre><span></span>for i in `seq 1 10`; do \\\n  gzfactory spawn -f ~/.gazebo/models/bookshelf/model-1_3.sdf -m bookshelf_$i &amp;&amp; \\\n  sleep 0.5 &amp;&amp; \\\n  gzfactory delete -m bookshelf_$i &amp;&amp; \\\n  sleep 0.5; done\n</pre></div>\n\n\n<p>After a couple iterations, it will hang, which can be verified by watching gzstats. I did <code>gdb gzserver</code> one time to see where it was hanging and got a backtrace, but I put it in <a href=\"#!/osrf/gazebo/issues/623/connectionmanager-sleeps-for-30-ms-between\" rel=\"nofollow\" title=\"ConnectionManager sleeps for 30 ms between message updates\" class=\"ap-connect-link\"><s>#623</s></a> to reduce the verbosity of my comments here.</p>", "type": "rendered"}, "created_on": "2013-04-10T01:26:39.356785+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2013-04-10T01:26:39.364935+00:00", "type": "pullrequest_comment", "id": 191399}