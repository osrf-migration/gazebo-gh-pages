{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434/comments/192363.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434/_/diff#comment-192363"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 434, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/434.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/434"}}, "title": "Allow world with a name other than \"default\". Fixed all tests."}, "content": {"raw": "I've run a jenkins DRI powered run in our real-vrc machine in Amazon: http://build.osrfoundation.org/job/gazebo-any-devel-precise-amd64-gpu-vrc/5/\n\nFour tests are failing there:\n\n* **physics**: for Timeout. we should probably work on split this test into proper smaller cases.\n* **contact_sensor**: ContactSensor.StackTestODE\n\n```\n#!\n\n91: /var/lib/jenkins/workspace/gazebo-any-devel-precise-amd64-gpu-vrc/gazebo/test/ServerFixture.hh:683: Failure\n91: Expected: (i) < (50), actual: 50 vs 50\n91: /var/lib/jenkins/workspace/gazebo-any-devel-precise-amd64-gpu-vrc/gazebo/test/regression/contact_sensor.cc:234: Failure\n91: Value of: fabs(actualTorque.x) < odeTorqueTol\n91:   Actual: false\n91: Expected: true\n91: [  FAILED  ] ContactSensor.StackTestODE (6743 ms)\n\n```\n*  **Imu**: ImuTest.EmptyWorldNoiseODE\n```\n97: /var/lib/jenkins/workspace/gazebo-any-devel-precise-amd64-gpu-vrc/gazebo/test/ServerFixture.hh:623: Failure\n97: Expected: (i) < (50), actual: 50 vs 50\n97: /var/lib/jenkins/workspace/gazebo-any-devel-precise-amd64-gpu-vrc/gazebo/test/regression/imu.cc:148: Failure\n97: Value of: imu\n97:   Actual: false\n97: Expected: true\n97: \u001b[1;31mError [SensorManager.cc:340]\u001b[0m Unable to remove sensor[default::imu_model::body::imu_sensor] because it does not exist.\n97: [  FAILED  ] ImuTest.EmptyWorldNoiseODE (7331 ms)\n``` \n* **transport_test: ** this is probably for the difference in machine performance\n```\n09: /var/lib/jenkins/workspace/gazebo-any-devel-precise-amd64-gpu-vrc/gazebo/test/regression/transport_stress.cc:206: Failure\n109: Expected: (static_cast<unsigned int>(pubDiff.nsec)) < ((g_localPublishMessageCount * nodes.size()) * 1600), actual: 55549858 vs 32000000\n109: \u001b[1;32mMsg\u001b[0m Time to publish 20000 = 0 55549858\n109: \u001b[1;32mMsg\u001b[0m Time to receive 40000000 = 26 810402208\n109: [  FAILED  ] TransportStressTest.ManyNodes (39092 ms)\n```", "markup": "markdown", "html": "<p>I've run a jenkins DRI powered run in our real-vrc machine in Amazon: <a href=\"http://build.osrfoundation.org/job/gazebo-any-devel-precise-amd64-gpu-vrc/5/\" rel=\"nofollow\" class=\"ap-connect-link\">http://build.osrfoundation.org/job/gazebo-any-devel-precise-amd64-gpu-vrc/5/</a></p>\n<p>Four tests are failing there:</p>\n<ul>\n<li><strong>physics</strong>: for Timeout. we should probably work on split this test into proper smaller cases.</li>\n<li><strong>contact_sensor</strong>: ContactSensor.StackTestODE</li>\n</ul>\n<div class=\"codehilite\"><pre><span></span>91: /var/lib/jenkins/workspace/gazebo-any-devel-precise-amd64-gpu-vrc/gazebo/test/ServerFixture.hh:683: Failure\n91: Expected: (i) &lt; (50), actual: 50 vs 50\n91: /var/lib/jenkins/workspace/gazebo-any-devel-precise-amd64-gpu-vrc/gazebo/test/regression/contact_sensor.cc:234: Failure\n91: Value of: fabs(actualTorque.x) &lt; odeTorqueTol\n91:   Actual: false\n91: Expected: true\n91: [  FAILED  ] ContactSensor.StackTestODE (6743 ms)\n</pre></div>\n\n\n<ul>\n<li><strong>Imu</strong>: ImuTest.EmptyWorldNoiseODE</li>\n</ul>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">97</span><span class=\"o\">:</span> <span class=\"o\">/</span><span class=\"nt\">var</span><span class=\"o\">/</span><span class=\"nt\">lib</span><span class=\"o\">/</span><span class=\"nt\">jenkins</span><span class=\"o\">/</span><span class=\"nt\">workspace</span><span class=\"o\">/</span><span class=\"nt\">gazebo-any-devel-precise-amd64-gpu-vrc</span><span class=\"o\">/</span><span class=\"nt\">gazebo</span><span class=\"o\">/</span><span class=\"nt\">test</span><span class=\"o\">/</span><span class=\"nt\">ServerFixture</span><span class=\"p\">.</span><span class=\"nc\">hh</span><span class=\"p\">:</span><span class=\"nd\">623</span><span class=\"o\">:</span> <span class=\"nt\">Failure</span>\n<span class=\"nt\">97</span><span class=\"o\">:</span> <span class=\"nt\">Expected</span><span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"nt\">i</span><span class=\"o\">)</span> <span class=\"o\">&lt;</span> <span class=\"o\">(</span><span class=\"nt\">50</span><span class=\"o\">),</span> <span class=\"nt\">actual</span><span class=\"o\">:</span> <span class=\"nt\">50</span> <span class=\"nt\">vs</span> <span class=\"nt\">50</span>\n<span class=\"nt\">97</span><span class=\"o\">:</span> <span class=\"o\">/</span><span class=\"nt\">var</span><span class=\"o\">/</span><span class=\"nt\">lib</span><span class=\"o\">/</span><span class=\"nt\">jenkins</span><span class=\"o\">/</span><span class=\"nt\">workspace</span><span class=\"o\">/</span><span class=\"nt\">gazebo-any-devel-precise-amd64-gpu-vrc</span><span class=\"o\">/</span><span class=\"nt\">gazebo</span><span class=\"o\">/</span><span class=\"nt\">test</span><span class=\"o\">/</span><span class=\"nt\">regression</span><span class=\"o\">/</span><span class=\"nt\">imu</span><span class=\"p\">.</span><span class=\"nc\">cc</span><span class=\"p\">:</span><span class=\"nd\">148</span><span class=\"o\">:</span> <span class=\"nt\">Failure</span>\n<span class=\"nt\">97</span><span class=\"o\">:</span> <span class=\"nt\">Value</span> <span class=\"nt\">of</span><span class=\"o\">:</span> <span class=\"nt\">imu</span>\n<span class=\"nt\">97</span><span class=\"o\">:</span>   <span class=\"nt\">Actual</span><span class=\"o\">:</span> <span class=\"nt\">false</span>\n<span class=\"nt\">97</span><span class=\"o\">:</span> <span class=\"nt\">Expected</span><span class=\"o\">:</span> <span class=\"nt\">true</span>\n<span class=\"nt\">97</span><span class=\"o\">:</span> <span class=\"err\">\u001b</span><span class=\"cp\">[</span><span class=\"mi\">1</span><span class=\"p\">;</span><span class=\"mi\">31</span><span class=\"nx\">mError</span> <span class=\"err\">[</span><span class=\"nx\">SensorManager.cc</span><span class=\"p\">:</span><span class=\"mi\">340</span><span class=\"cp\">]</span><span class=\"err\">\u001b</span><span class=\"cp\">[</span><span class=\"mi\">0</span><span class=\"nx\">m</span> <span class=\"nx\">Unable</span> <span class=\"k\">to</span> <span class=\"nx\">remove</span> <span class=\"nx\">sensor</span><span class=\"err\">[</span><span class=\"nb\">default</span><span class=\"nl\">::imu_model::body::imu_sensor</span><span class=\"cp\">]</span> <span class=\"nt\">because</span> <span class=\"nt\">it</span> <span class=\"nt\">does</span> <span class=\"nt\">not</span> <span class=\"nt\">exist</span><span class=\"o\">.</span>\n<span class=\"nt\">97</span><span class=\"o\">:</span> <span class=\"cp\">[</span>  <span class=\"nx\">FAILED</span>  <span class=\"cp\">]</span> <span class=\"nt\">ImuTest</span><span class=\"p\">.</span><span class=\"nc\">EmptyWorldNoiseODE</span> <span class=\"o\">(</span><span class=\"nt\">7331</span> <span class=\"nt\">ms</span><span class=\"o\">)</span>\n</pre></div>\n\n\n<ul>\n<li><strong>transport_test: </strong> this is probably for the difference in machine performance</li>\n</ul>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">09</span><span class=\"o\">:</span> <span class=\"o\">/</span><span class=\"nt\">var</span><span class=\"o\">/</span><span class=\"nt\">lib</span><span class=\"o\">/</span><span class=\"nt\">jenkins</span><span class=\"o\">/</span><span class=\"nt\">workspace</span><span class=\"o\">/</span><span class=\"nt\">gazebo-any-devel-precise-amd64-gpu-vrc</span><span class=\"o\">/</span><span class=\"nt\">gazebo</span><span class=\"o\">/</span><span class=\"nt\">test</span><span class=\"o\">/</span><span class=\"nt\">regression</span><span class=\"o\">/</span><span class=\"nt\">transport_stress</span><span class=\"p\">.</span><span class=\"nc\">cc</span><span class=\"p\">:</span><span class=\"nd\">206</span><span class=\"o\">:</span> <span class=\"nt\">Failure</span>\n<span class=\"nt\">109</span><span class=\"o\">:</span> <span class=\"nt\">Expected</span><span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"nt\">static_cast</span><span class=\"o\">&lt;</span><span class=\"nt\">unsigned</span> <span class=\"nt\">int</span><span class=\"o\">&gt;(</span><span class=\"nt\">pubDiff</span><span class=\"p\">.</span><span class=\"nc\">nsec</span><span class=\"o\">))</span> <span class=\"o\">&lt;</span> <span class=\"o\">((</span><span class=\"nt\">g_localPublishMessageCount</span> <span class=\"o\">*</span> <span class=\"nt\">nodes</span><span class=\"p\">.</span><span class=\"nc\">size</span><span class=\"o\">())</span> <span class=\"o\">*</span> <span class=\"nt\">1600</span><span class=\"o\">),</span> <span class=\"nt\">actual</span><span class=\"o\">:</span> <span class=\"nt\">55549858</span> <span class=\"nt\">vs</span> <span class=\"nt\">32000000</span>\n<span class=\"nt\">109</span><span class=\"o\">:</span> <span class=\"err\">\u001b</span><span class=\"cp\">[</span><span class=\"mi\">1</span><span class=\"p\">;</span><span class=\"mi\">32</span><span class=\"nx\">mMsg</span><span class=\"err\">\u001b[</span><span class=\"mi\">0</span><span class=\"nx\">m</span> <span class=\"nx\">Time</span> <span class=\"k\">to</span> <span class=\"nx\">publish</span> <span class=\"mi\">20000</span> <span class=\"o\">=</span> <span class=\"mi\">0</span> <span class=\"mi\">55549858</span>\n<span class=\"mi\">109</span><span class=\"p\">:</span> <span class=\"err\">\u001b[</span><span class=\"mi\">1</span><span class=\"p\">;</span><span class=\"mi\">32</span><span class=\"nx\">mMsg</span><span class=\"err\">\u001b[</span><span class=\"mi\">0</span><span class=\"nx\">m</span> <span class=\"nx\">Time</span> <span class=\"k\">to</span> <span class=\"nx\">receive</span> <span class=\"mi\">40000000</span> <span class=\"o\">=</span> <span class=\"mi\">26</span> <span class=\"mi\">810402208</span>\n<span class=\"mi\">109</span><span class=\"p\">:</span> <span class=\"err\">[</span>  <span class=\"nx\">FAILED</span>  <span class=\"cp\">]</span> <span class=\"nt\">TransportStressTest</span><span class=\"p\">.</span><span class=\"nc\">ManyNodes</span> <span class=\"o\">(</span><span class=\"nt\">39092</span> <span class=\"nt\">ms</span><span class=\"o\">)</span>\n</pre></div>", "type": "rendered"}, "created_on": "2013-04-10T14:13:20.770760+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2013-04-10T14:13:20.777869+00:00", "type": "pullrequest_comment", "id": 192363}