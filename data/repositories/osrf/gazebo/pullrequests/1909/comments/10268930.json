{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1909/comments/10268930.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1909/_/diff#comment-10268930"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1909, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1909.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1909"}}, "title": "Update inertia properties during simulation: part 1"}, "content": {"raw": "I think this will require using the same Gazebo code that @hsu wrote for reinitializing after adding new bodies to the system. If I remember it correctly it is basically a re-creation of the system and a new state, followed by a transfer of all the corresponding information from the old state to the new one. In the case where only mass properties have been changed, the generalized coordinates q and speeds u will be exactly the same in the old and new states so can be copied in bulk with `newState.updY()=oldState.getY()` where Y is a vector containing all the continuous state variables concatenated together. That's easier than what John had to do because he had to go joint-by-joint to find corresponding coordinates, but you might be able to just re-use John's method.", "markup": "markdown", "html": "<p>I think this will require using the same Gazebo code that @hsu wrote for reinitializing after adding new bodies to the system. If I remember it correctly it is basically a re-creation of the system and a new state, followed by a transfer of all the corresponding information from the old state to the new one. In the case where only mass properties have been changed, the generalized coordinates q and speeds u will be exactly the same in the old and new states so can be copied in bulk with <code>newState.updY()=oldState.getY()</code> where Y is a vector containing all the continuous state variables concatenated together. That's easier than what John had to do because he had to go joint-by-joint to find corresponding coordinates, but you might be able to just re-use John's method.</p>", "type": "rendered"}, "created_on": "2015-09-27T21:44:56.124641+00:00", "user": {"display_name": "Michael Sherman", "uuid": "{997c6f1e-e2a3-4f0e-8fa4-fed745840d50}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B997c6f1e-e2a3-4f0e-8fa4-fed745840d50%7D"}, "html": {"href": "https://bitbucket.org/%7B997c6f1e-e2a3-4f0e-8fa4-fed745840d50%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/355dea43ed612b7be3c9361df2d52213d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMS-2.png"}}, "nickname": "sherm1", "type": "user", "account_id": "557058:4590c319-b75f-4187-93d4-6cec61da74f7"}, "updated_on": "2015-09-27T21:44:56.134270+00:00", "type": "pullrequest_comment", "id": 10268930}