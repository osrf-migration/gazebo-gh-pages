{"pagelen": 50, "values": [{"update": {"description": "This is related to issue #1311.\r\n\r\nThe code in GuiIface.cc doesn't work, because gazebo::client::addPlugin() calls gazebo_shared::addPlugin() which only supports system plugins. Same for gazebo_shared::setup(), it only supports system plugins and calls Load(argc,argv) and Init(argc,argv), which the GUIPlugin doesn't have.\r\n\r\nThe error described in issue #1311 happens because QApplication has to be created before the plugin is loaded (requirement by Qt). But in the current version of GuiIface.cc, the plugin is created too early in parse_args().\r\n\r\nThis PR fixes this issue. Now gzclient can be started with the -g parameter, e.g.\r\n\r\n``gzclient -g <your-plugin-lib>.so``", "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311", "destination": {"commit": {"hash": "062efd5d0886", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/062efd5d0886.json"}, "html": {"href": "#!/osrf/gazebo/commits/062efd5d0886"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "cd53656bfb8f", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo/commit/cd53656bfb8f"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo/commits/cd53656bfb8f"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{11522dd5-648b-4e9e-b908-d3e1170ba728}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "JenniferBuehler/gazebo", "uuid": "{11522dd5-648b-4e9e-b908-d3e1170ba728}"}, "branch": {"name": "gzclient_gui_plugin_loading"}}, "state": "MERGED", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2017-01-27T17:57:24.955835+00:00"}, "pull_request": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}}, {"approval": {"date": "2017-01-27T17:47:54.396250+00:00", "pullrequest": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}, "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}}, "pull_request": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}}, {"approval": {"date": "2017-01-27T16:06:52.483555+00:00", "pullrequest": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}, "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}}, "pull_request": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562/comments/30471481.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562/_/diff#comment-30471481"}}, "parent": {"id": 30280726, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562/comments/30280726.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562/_/diff#comment-30280726"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}, "content": {"raw": "I was testing the plugins with this PR an seems to be working fine for me.\n\nWith respect to have an extra check, if the check is not expensive in performance, I'm for leaving it there, the code will evolve with time and it can serve as a firewall in the future.", "markup": "markdown", "html": "<p>I was testing the plugins with this PR an seems to be working fine for me.</p>\n<p>With respect to have an extra check, if the check is not expensive in performance, I'm for leaving it there, the code will evolve with time and it can serve as a firewall in the future.</p>", "type": "rendered"}, "created_on": "2017-01-27T16:06:42.046351+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2017-01-27T16:06:42.049639+00:00", "type": "pullrequest_comment", "id": 30471481}, "pull_request": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562/comments/30426520.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562/_/diff#comment-30426520"}}, "parent": {"id": 30341451, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562/comments/30341451.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562/_/diff#comment-30341451"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}, "content": {"raw": "Ok great, it's in for all systems now as well, also removed the comment which seems to be obsolete. Maybe the previous problem in the tests was related to the broken \"parent-chain\" as well? Anyway, it seems to be resolved...", "markup": "markdown", "html": "<p>Ok great, it's in for all systems now as well, also removed the comment which seems to be obsolete. Maybe the previous problem in the tests was related to the broken \"parent-chain\" as well? Anyway, it seems to be resolved...</p>", "type": "rendered"}, "created_on": "2017-01-26T23:35:57.311568+00:00", "user": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "updated_on": "2017-01-26T23:35:57.353774+00:00", "type": "pullrequest_comment", "id": 30426520}, "pull_request": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}}, {"update": {"description": "This is related to issue #1311.\r\n\r\nThe code in GuiIface.cc doesn't work, because gazebo::client::addPlugin() calls gazebo_shared::addPlugin() which only supports system plugins. Same for gazebo_shared::setup(), it only supports system plugins and calls Load(argc,argv) and Init(argc,argv), which the GUIPlugin doesn't have.\r\n\r\nThe error described in issue #1311 happens because QApplication has to be created before the plugin is loaded (requirement by Qt). But in the current version of GuiIface.cc, the plugin is created too early in parse_args().\r\n\r\nThis PR fixes this issue. Now gzclient can be started with the -g parameter, e.g.\r\n\r\n``gzclient -g <your-plugin-lib>.so``", "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311", "destination": {"commit": {"hash": "25bd65669066", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/25bd65669066.json"}, "html": {"href": "#!/osrf/gazebo/commits/25bd65669066"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "cd53656bfb8f", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo/commit/cd53656bfb8f"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo/commits/cd53656bfb8f"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{11522dd5-648b-4e9e-b908-d3e1170ba728}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "JenniferBuehler/gazebo", "uuid": "{11522dd5-648b-4e9e-b908-d3e1170ba728}"}, "branch": {"name": "gzclient_gui_plugin_loading"}}, "state": "OPEN", "author": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "date": "2017-01-26T23:33:43.579811+00:00"}, "pull_request": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562/comments/30341451.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562/_/diff#comment-30341451"}}, "parent": {"id": 30274334, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562/comments/30274334.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562/_/diff#comment-30274334"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}, "content": {"raw": "[homebrew jenkins results](http://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-homebrew-amd64/936/) with `Qt::WA_PaintOnScreen` attribute set to `true`. Looks ok too so seems like we can take out the `if !defined(__APPLE__)`  check around this attribute.", "markup": "markdown", "html": "<p><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-homebrew-amd64/936/\" rel=\"nofollow\">homebrew jenkins results</a> with <code>Qt::WA_PaintOnScreen</code> attribute set to <code>true</code>. Looks ok too so seems like we can take out the <code>if !defined(__APPLE__)</code>  check around this attribute.</p>", "type": "rendered"}, "created_on": "2017-01-25T19:40:28.234742+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2017-01-25T19:40:28.238291+00:00", "type": "pullrequest_comment", "id": 30341451}, "pull_request": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}}, {"approval": {"date": "2017-01-25T03:50:15.917559+00:00", "pullrequest": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}, "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}}, "pull_request": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562/comments/30280726.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562/_/diff#comment-30280726"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}, "content": {"raw": "Thanks for running the tests.\nI fixed the style issues, let me know if there is anything else.\n\nOne comment left to resolve: in RenderWidget.cc about the plugin type. I'm happy to remove the extra check.", "markup": "markdown", "html": "<p>Thanks for running the tests.\nI fixed the style issues, let me know if there is anything else.</p>\n<p>One comment left to resolve: in RenderWidget.cc about the plugin type. I'm happy to remove the extra check.</p>", "type": "rendered"}, "created_on": "2017-01-25T03:12:05.297300+00:00", "user": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "updated_on": "2017-01-25T03:12:05.351776+00:00", "type": "pullrequest_comment", "id": 30280726}, "pull_request": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562/comments/30280662.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562/_/diff#comment-30280662"}}, "parent": {"id": 30268920, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562/comments/30268920.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562/_/diff#comment-30268920"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}, "content": {"raw": "Yes, I thought that... let's tick all the boxes here first and once all is approved I'm happy to handpick a separate PR to fix issue #2133 in gazebo8.", "markup": "markdown", "html": "<p>Yes, I thought that... let's tick all the boxes here first and once all is approved I'm happy to handpick a separate PR to fix issue <a href=\"#!/osrf/gazebo/issues/2133/qt5-gui-overlay-plugins-not-working\" rel=\"nofollow\" title=\"Qt5: GUI overlay plugins not working?\" class=\"ap-connect-link\"><s>#2133</s></a> in gazebo8.</p>", "type": "rendered"}, "created_on": "2017-01-25T03:08:55.720503+00:00", "user": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "updated_on": "2017-01-25T03:08:55.758075+00:00", "type": "pullrequest_comment", "id": 30280662}, "pull_request": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}}, {"update": {"description": "This is related to issue #1311.\r\n\r\nThe code in GuiIface.cc doesn't work, because gazebo::client::addPlugin() calls gazebo_shared::addPlugin() which only supports system plugins. Same for gazebo_shared::setup(), it only supports system plugins and calls Load(argc,argv) and Init(argc,argv), which the GUIPlugin doesn't have.\r\n\r\nThe error described in issue #1311 happens because QApplication has to be created before the plugin is loaded (requirement by Qt). But in the current version of GuiIface.cc, the plugin is created too early in parse_args().\r\n\r\nThis PR fixes this issue. Now gzclient can be started with the -g parameter, e.g.\r\n\r\n``gzclient -g <your-plugin-lib>.so``", "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311", "destination": {"commit": {"hash": "8d35d7d913a3", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/8d35d7d913a3.json"}, "html": {"href": "#!/osrf/gazebo/commits/8d35d7d913a3"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "f5533859b81f", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo/commit/f5533859b81f"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo/commits/f5533859b81f"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{11522dd5-648b-4e9e-b908-d3e1170ba728}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "JenniferBuehler/gazebo", "uuid": "{11522dd5-648b-4e9e-b908-d3e1170ba728}"}, "branch": {"name": "gzclient_gui_plugin_loading"}}, "state": "OPEN", "author": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "date": "2017-01-25T03:06:45.735473+00:00"}, "pull_request": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562/comments/30280597.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562/_/diff#comment-30280597"}}, "parent": {"id": 30268617, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562/comments/30268617.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562/_/diff#comment-30268617"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}, "content": {"raw": "Fixed. My personal preference style sometimes sneaks in ;)", "markup": "markdown", "html": "<p>Fixed. My personal preference style sometimes sneaks in ;)</p>", "type": "rendered"}, "created_on": "2017-01-25T03:05:50.838384+00:00", "user": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "inline": {}, "updated_on": "2017-01-25T03:05:50.881851+00:00", "type": "pullrequest_comment", "id": 30280597}, "pull_request": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562/comments/30280423.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562/_/diff#comment-30280423"}}, "parent": {"id": 30268499, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562/comments/30268499.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562/_/diff#comment-30268499"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}, "content": {"raw": "Good point. Plugin::Create probably would crash or fail to load the the .so file if the plugin in the file is not of the right class. I've only put this in here because I've seen this type of check elsewhere.\nWould be worth a try-out though... I don't have a world, model or system plugin ready to go right now, but can make one and test it, if you would prefer to take this extra check out.", "markup": "markdown", "html": "<p>Good point. Plugin::Create probably would crash or fail to load the the .so file if the plugin in the file is not of the right class. I've only put this in here because I've seen this type of check elsewhere.\nWould be worth a try-out though... I don't have a world, model or system plugin ready to go right now, but can make one and test it, if you would prefer to take this extra check out.</p>", "type": "rendered"}, "created_on": "2017-01-25T02:58:54.643098+00:00", "user": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "inline": {}, "updated_on": "2017-01-25T02:58:54.699489+00:00", "type": "pullrequest_comment", "id": 30280423}, "pull_request": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562/comments/30268920.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562/_/diff#comment-30268920"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}, "content": {"raw": "I only have a few comments related to style, but this looks good to me. We should make sure this is tested on OSX.\n\nWe might need to hand-pick the changes which fix issue #2133 and backport them to the gazebo8 branch.", "markup": "markdown", "html": "<p>I only have a few comments related to style, but this looks good to me. We should make sure this is tested on OSX.</p>\n<p>We might need to hand-pick the changes which fix issue <a href=\"#!/osrf/gazebo/issues/2133/qt5-gui-overlay-plugins-not-working\" rel=\"nofollow\" title=\"Qt5: GUI overlay plugins not working?\" class=\"ap-connect-link\"><s>#2133</s></a> and backport them to the gazebo8 branch.</p>", "type": "rendered"}, "created_on": "2017-01-24T21:28:00.892773+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2017-01-25T01:54:46.801982+00:00", "type": "pullrequest_comment", "id": 30268920}, "pull_request": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562/comments/30274334.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562/_/diff#comment-30274334"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}, "content": {"raw": "jenkins:\n\n[homebrew](http://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-homebrew-amd64/934/) - ok\n\n[xenial-gpu](http://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-xenial-amd64-gpu-nvidia/26/) - ok\n\nupdate:\n\nTest results look good. On OSX, apart from the two recurring gui test failures, I have not seen the `ExportDialog` test failure before but it looks unrelated / flaky.\n\n", "markup": "markdown", "html": "<p>jenkins:</p>\n<p><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-homebrew-amd64/934/\" rel=\"nofollow\">homebrew</a> - ok</p>\n<p><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-xenial-amd64-gpu-nvidia/26/\" rel=\"nofollow\">xenial-gpu</a> - ok</p>\n<p>update:</p>\n<p>Test results look good. On OSX, apart from the two recurring gui test failures, I have not seen the <code>ExportDialog</code> test failure before but it looks unrelated / flaky.</p>", "type": "rendered"}, "created_on": "2017-01-24T23:19:28.310315+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2017-01-25T01:47:46.847696+00:00", "type": "pullrequest_comment", "id": 30274334}, "pull_request": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562/comments/30268617.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562/_/diff#comment-30268617"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}, "content": {"raw": "style detail, the `&` goes close to the variable: `std::vector<std::string> &_pluginFilenames`", "markup": "markdown", "html": "<p>style detail, the <code>&amp;</code> goes close to the variable: <code>std::vector&lt;std::string&gt; &amp;_pluginFilenames</code></p>", "type": "rendered"}, "created_on": "2017-01-24T21:21:53.054182+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2017-01-24T21:22:03.832929+00:00", "type": "pullrequest_comment", "id": 30268617}, "pull_request": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562/comments/30268499.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562/_/diff#comment-30268499"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}, "content": {"raw": "Humm I wonder if it's possible to get another type, since we're dealing with a `GUIPluginPtr` already (not an abstract `PluginPtr`)", "markup": "markdown", "html": "<p>Humm I wonder if it's possible to get another type, since we're dealing with a <code>GUIPluginPtr</code> already (not an abstract <code>PluginPtr</code>)</p>", "type": "rendered"}, "created_on": "2017-01-24T21:19:15.305933+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2017-01-24T21:19:15.308515+00:00", "type": "pullrequest_comment", "id": 30268499}, "pull_request": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562/comments/30268328.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562/_/diff#comment-30268328"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}, "content": {"raw": "Another detail, we try to avoid inline comments (style guide)", "markup": "markdown", "html": "<p>Another detail, we try to avoid inline comments (style guide)</p>", "type": "rendered"}, "created_on": "2017-01-24T21:15:41.669283+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2017-01-24T21:15:41.671644+00:00", "type": "pullrequest_comment", "id": 30268328}, "pull_request": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562/comments/30268284.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562/_/diff#comment-30268284"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}, "content": {"raw": "`this->`", "markup": "markdown", "html": "<p><code>this-&gt;</code></p>", "type": "rendered"}, "created_on": "2017-01-24T21:14:57.092482+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2017-01-24T21:14:57.096127+00:00", "type": "pullrequest_comment", "id": 30268284}, "pull_request": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562/comments/30268262.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562/_/diff#comment-30268262"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}, "content": {"raw": "`this->`", "markup": "markdown", "html": "<p><code>this-&gt;</code></p>", "type": "rendered"}, "created_on": "2017-01-24T21:14:33.445744+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2017-01-24T21:14:33.448415+00:00", "type": "pullrequest_comment", "id": 30268262}, "pull_request": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562/comments/30268225.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562/_/diff#comment-30268225"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}, "content": {"raw": "Nitpick: please use `this->` for all member functions (as per the style guide)", "markup": "markdown", "html": "<p>Nitpick: please use <code>this-&gt;</code> for all member functions (as per the style guide)</p>", "type": "rendered"}, "created_on": "2017-01-24T21:13:49.213115+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2017-01-24T21:13:49.216345+00:00", "type": "pullrequest_comment", "id": 30268225}, "pull_request": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562/comments/30208784.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562/_/diff#comment-30208784"}}, "parent": {"id": 30039498, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562/comments/30039498.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562/_/diff#comment-30039498"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}, "content": {"raw": "Fixed this as discussed in issue #2133", "markup": "markdown", "html": "<p>Fixed this as discussed in issue <a href=\"#!/osrf/gazebo/issues/2133/qt5-gui-overlay-plugins-not-working\" rel=\"nofollow\" title=\"Qt5: GUI overlay plugins not working?\" class=\"ap-connect-link\"><s>#2133</s></a></p>", "type": "rendered"}, "created_on": "2017-01-24T07:49:15.463721+00:00", "user": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "updated_on": "2017-01-24T07:49:15.514777+00:00", "type": "pullrequest_comment", "id": 30208784}, "pull_request": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}}, {"update": {"description": "This is related to issue #1311.\r\n\r\nThe code in GuiIface.cc doesn't work, because gazebo::client::addPlugin() calls gazebo_shared::addPlugin() which only supports system plugins. Same for gazebo_shared::setup(), it only supports system plugins and calls Load(argc,argv) and Init(argc,argv), which the GUIPlugin doesn't have.\r\n\r\nThe error described in issue #1311 happens because QApplication has to be created before the plugin is loaded (requirement by Qt). But in the current version of GuiIface.cc, the plugin is created too early in parse_args().\r\n\r\nThis PR fixes this issue. Now gzclient can be started with the -g parameter, e.g.\r\n\r\n``gzclient -g <your-plugin-lib>.so``", "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311", "destination": {"commit": {"hash": "8d35d7d913a3", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/8d35d7d913a3.json"}, "html": {"href": "#!/osrf/gazebo/commits/8d35d7d913a3"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "d2e189ef9ee5", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo/commit/d2e189ef9ee5"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo/commits/d2e189ef9ee5"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{11522dd5-648b-4e9e-b908-d3e1170ba728}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "JenniferBuehler/gazebo", "uuid": "{11522dd5-648b-4e9e-b908-d3e1170ba728}"}, "branch": {"name": "gzclient_gui_plugin_loading"}}, "state": "OPEN", "author": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "date": "2017-01-24T07:47:54.302497+00:00"}, "pull_request": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562/comments/30039498.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562/_/diff#comment-30039498"}}, "parent": {"id": 30017560, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562/comments/30017560.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562/_/diff#comment-30017560"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}, "content": {"raw": "I've replied in the closed issue", "markup": "markdown", "html": "<p>I've replied in the closed issue</p>", "type": "rendered"}, "created_on": "2017-01-19T21:55:42.667664+00:00", "user": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "updated_on": "2017-01-19T21:55:42.703335+00:00", "type": "pullrequest_comment", "id": 30039498}, "pull_request": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562/comments/30017560.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562/_/diff#comment-30017560"}}, "parent": {"id": 29975667, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562/comments/29975667.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562/_/diff#comment-29975667"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}, "content": {"raw": "I was having this issue some commits ago and ticketed issue #2133, but then I tried it later and the GUI plugins showed up, so I figured the problem might have been in my system and closed the issue. Now they work even with two screens. ", "markup": "markdown", "html": "<p>I was having this issue some commits ago and ticketed issue <a href=\"#!/osrf/gazebo/issues/2133/qt5-gui-overlay-plugins-not-working\" rel=\"nofollow\" title=\"Qt5: GUI overlay plugins not working?\" class=\"ap-connect-link\"><s>#2133</s></a>, but then I tried it later and the GUI plugins showed up, so I figured the problem might have been in my system and closed the issue. Now they work even with two screens. </p>", "type": "rendered"}, "created_on": "2017-01-19T16:00:24.622285+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2017-01-19T16:00:24.625479+00:00", "type": "pullrequest_comment", "id": 30017560}, "pull_request": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562/comments/29975667.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562/_/diff#comment-29975667"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}, "content": {"raw": "Gnah, I accidentally pushed after merging with the new default branch, before testing it... GUI plugins are not working any more with Qt5, at least not for me. Anyone having the same problem?\n\nI get lots of messages like this when loading GUI plugins, but it's not showing the plugin:\n\n``[Wrn] [GuiIface.cc:113] 0x6d92b10 void QWindowPrivate::setTopLevelScreen(QScreen*, bool) ( QScreen(0x2fa3db0) ): Attempt to set a screen on a child window.``\n\nThe warning is related to my dual screen setup though, and only happens when the second screen is used. But it still doesn't show the plugin with one screen.\n\nI'm in the process of finding the bug. If anyone already knows this issue, let me know.", "markup": "markdown", "html": "<p>Gnah, I accidentally pushed after merging with the new default branch, before testing it... GUI plugins are not working any more with Qt5, at least not for me. Anyone having the same problem?</p>\n<p>I get lots of messages like this when loading GUI plugins, but it's not showing the plugin:</p>\n<p><code>[Wrn] [GuiIface.cc:113] 0x6d92b10 void QWindowPrivate::setTopLevelScreen(QScreen*, bool) ( QScreen(0x2fa3db0) ): Attempt to set a screen on a child window.</code></p>\n<p>The warning is related to my dual screen setup though, and only happens when the second screen is used. But it still doesn't show the plugin with one screen.</p>\n<p>I'm in the process of finding the bug. If anyone already knows this issue, let me know.</p>", "type": "rendered"}, "created_on": "2017-01-19T06:10:45.316944+00:00", "user": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "updated_on": "2017-01-19T06:14:47.587225+00:00", "type": "pullrequest_comment", "id": 29975667}, "pull_request": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}}, {"update": {"description": "This is related to issue #1311.\r\n\r\nThe code in GuiIface.cc doesn't work, because gazebo::client::addPlugin() calls gazebo_shared::addPlugin() which only supports system plugins. Same for gazebo_shared::setup(), it only supports system plugins and calls Load(argc,argv) and Init(argc,argv), which the GUIPlugin doesn't have.\r\n\r\nThe error described in issue #1311 happens because QApplication has to be created before the plugin is loaded (requirement by Qt). But in the current version of GuiIface.cc, the plugin is created too early in parse_args().\r\n\r\nThis PR fixes this issue. Now gzclient can be started with the -g parameter, e.g.\r\n\r\n``gzclient -g <your-plugin-lib>.so``", "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311", "destination": {"commit": {"hash": "8d35d7d913a3", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/8d35d7d913a3.json"}, "html": {"href": "#!/osrf/gazebo/commits/8d35d7d913a3"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "b19f65c7e88d", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo/commit/b19f65c7e88d"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo/commits/b19f65c7e88d"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{11522dd5-648b-4e9e-b908-d3e1170ba728}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "JenniferBuehler/gazebo", "uuid": "{11522dd5-648b-4e9e-b908-d3e1170ba728}"}, "branch": {"name": "gzclient_gui_plugin_loading"}}, "state": "OPEN", "author": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "date": "2017-01-19T01:34:26.832018+00:00"}, "pull_request": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}}, {"update": {"description": "This is related to issue #1311.\r\n\r\nThe code in GuiIface.cc doesn't work, because gazebo::client::addPlugin() calls gazebo_shared::addPlugin() which only supports system plugins. Same for gazebo_shared::setup(), it only supports system plugins and calls Load(argc,argv) and Init(argc,argv), which the GUIPlugin doesn't have.\r\n\r\nThe error described in issue #1311 happens because QApplication has to be created before the plugin is loaded (requirement by Qt). But in the current version of GuiIface.cc, the plugin is created too early in parse_args().\r\n\r\nThis PR fixes this issue. Now gzclient can be started with the -g parameter, e.g.\r\n\r\n``gzclient -g <your-plugin-lib>.so``", "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311", "destination": {"commit": {"hash": "75c110c1ba6e", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/75c110c1ba6e.json"}, "html": {"href": "#!/osrf/gazebo/commits/75c110c1ba6e"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "a5d97137333b", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo/commit/a5d97137333b"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo/commits/a5d97137333b"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{11522dd5-648b-4e9e-b908-d3e1170ba728}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "JenniferBuehler/gazebo", "uuid": "{11522dd5-648b-4e9e-b908-d3e1170ba728}"}, "branch": {"name": "gzclient_gui_plugin_loading"}}, "state": "OPEN", "author": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "date": "2017-01-18T04:21:50.990867+00:00"}, "pull_request": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562/comments/29185587.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562/_/diff#comment-29185587"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}, "content": {"raw": "Alright, here comes the update.\n\nI noticed one more flaw while testing with the KeyboardGUIPlugin. When loaded from INI file or from command line (and now calling Load()), there was an error because it could not get the main window which it needs. This is a good example actually of the necessity to always call the Load() function: the Keyboard plugin does nothing without it.\nAnyway the reason for the error was that RenderWidget is created in MainWindow constructor. Now if we initialize the INI plugins from the RenderWidget constructor (and call Load()), the main window is actually not available yet. Therefore I created a RenderWidget::Init() which is called from MainWindow::Init() and now the loading of plugins is done from there.\n\nI tested with following plugins, both in INI and in command line:\n\n* libTimerGUIPlugin.so  (also changed the defaults for empty sdf::Element so it's now displaying ok)\n* libKeyboardGUIPlugin.so (not crashing any more though I didn't test the functionality it provides via the transport node)\n* libCessnaGUIPlugin.so (doesn't crash or print errors but didn't test functionality)\n* libLookAtDemoPlugin.so (works)\n", "markup": "markdown", "html": "<p>Alright, here comes the update.</p>\n<p>I noticed one more flaw while testing with the KeyboardGUIPlugin. When loaded from INI file or from command line (and now calling Load()), there was an error because it could not get the main window which it needs. This is a good example actually of the necessity to always call the Load() function: the Keyboard plugin does nothing without it.\nAnyway the reason for the error was that RenderWidget is created in MainWindow constructor. Now if we initialize the INI plugins from the RenderWidget constructor (and call Load()), the main window is actually not available yet. Therefore I created a RenderWidget::Init() which is called from MainWindow::Init() and now the loading of plugins is done from there.</p>\n<p>I tested with following plugins, both in INI and in command line:</p>\n<ul>\n<li>libTimerGUIPlugin.so  (also changed the defaults for empty sdf::Element so it's now displaying ok)</li>\n<li>libKeyboardGUIPlugin.so (not crashing any more though I didn't test the functionality it provides via the transport node)</li>\n<li>libCessnaGUIPlugin.so (doesn't crash or print errors but didn't test functionality)</li>\n<li>libLookAtDemoPlugin.so (works)</li>\n</ul>", "type": "rendered"}, "created_on": "2017-01-05T00:26:20.975643+00:00", "user": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "updated_on": "2017-01-05T00:26:21.069048+00:00", "type": "pullrequest_comment", "id": 29185587}, "pull_request": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}}, {"update": {"description": "This is related to issue #1311.\r\n\r\nThe code in GuiIface.cc doesn't work, because gazebo::client::addPlugin() calls gazebo_shared::addPlugin() which only supports system plugins. Same for gazebo_shared::setup(), it only supports system plugins and calls Load(argc,argv) and Init(argc,argv), which the GUIPlugin doesn't have.\r\n\r\nThe error described in issue #1311 happens because QApplication has to be created before the plugin is loaded (requirement by Qt). But in the current version of GuiIface.cc, the plugin is created too early in parse_args().\r\n\r\nThis PR fixes this issue. Now gzclient can be started with the -g parameter, e.g.\r\n\r\n``gzclient -g <your-plugin-lib>.so``", "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311", "destination": {"commit": {"hash": "f1c8c5b396c1", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/f1c8c5b396c1.json"}, "html": {"href": "#!/osrf/gazebo/commits/f1c8c5b396c1"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "29fff84872a8", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo/commit/29fff84872a8"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo/commits/29fff84872a8"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{11522dd5-648b-4e9e-b908-d3e1170ba728}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "JenniferBuehler/gazebo", "uuid": "{11522dd5-648b-4e9e-b908-d3e1170ba728}"}, "branch": {"name": "gzclient_gui_plugin_loading"}}, "state": "OPEN", "author": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "date": "2017-01-05T00:23:20.077223+00:00"}, "pull_request": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562/comments/29161967.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562/_/diff#comment-29161967"}}, "parent": {"id": 29125626, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562/comments/29125626.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562/_/diff#comment-29125626"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}, "content": {"raw": "+1 for calling load with an empty element", "markup": "markdown", "html": "<p>+1 for calling load with an empty element</p>", "type": "rendered"}, "created_on": "2017-01-04T16:39:10.771133+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2017-01-04T16:39:10.773980+00:00", "type": "pullrequest_comment", "id": 29161967}, "pull_request": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562/comments/29125626.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562/_/diff#comment-29125626"}}, "parent": {"id": 29105445, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562/comments/29105445.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562/_/diff#comment-29105445"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}, "content": {"raw": "Ah ok, I thought it was intentional that Load() was not called, because it  is explicitly stated in the documentation.\nI didn't have any troubles calling Load(), it's just that the plugin may then look different, but probably rather like it's intended to be. The timer plugin for example appears pretty large as in Louise's screenshot above when loaded via INI (or now via -g as well) and not calling Load(). But when Load() is called, it is a bit too small, but that's only because the Load() function of the timer plugin just doesn't set the size properly, the defaults are a bit too small.\n\nSo I agree with you, we should make it all consistent, and then it's up to the plugin developer to make sure Load() could be called with an empty element as well, in which case that needs to be handled with proper default values/behaviour (or throwing an error).\n\nIf everyone agrees I will do the changes you suggested and update the PR.", "markup": "markdown", "html": "<p>Ah ok, I thought it was intentional that Load() was not called, because it  is explicitly stated in the documentation.\nI didn't have any troubles calling Load(), it's just that the plugin may then look different, but probably rather like it's intended to be. The timer plugin for example appears pretty large as in Louise's screenshot above when loaded via INI (or now via -g as well) and not calling Load(). But when Load() is called, it is a bit too small, but that's only because the Load() function of the timer plugin just doesn't set the size properly, the defaults are a bit too small.</p>\n<p>So I agree with you, we should make it all consistent, and then it's up to the plugin developer to make sure Load() could be called with an empty element as well, in which case that needs to be handled with proper default values/behaviour (or throwing an error).</p>\n<p>If everyone agrees I will do the changes you suggested and update the PR.</p>", "type": "rendered"}, "created_on": "2017-01-04T06:23:17.133562+00:00", "user": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "inline": {}, "updated_on": "2017-01-04T06:23:17.250732+00:00", "type": "pullrequest_comment", "id": 29125626}, "pull_request": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562/comments/29105445.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562/_/diff#comment-29105445"}}, "parent": {"id": 28965227, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562/comments/28965227.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562/_/diff#comment-28965227"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}, "content": {"raw": "mm actually I think the `Load` function is called in all the different types of gazebo plugins so it's kind of inconsistent that gui INI's GUI plugins don't call `Load` even if an empty sdf element is passed in. Does it cause any problems if `Load` is called?\n\nThe changes here look good to me. I wonder if we can reduce duplicate code by putting this function in `RenderWidget` and update the RenderWidget constructor code that loads gui plugins in gui.ini file to also call this function. ", "markup": "markdown", "html": "<p>mm actually I think the <code>Load</code> function is called in all the different types of gazebo plugins so it's kind of inconsistent that gui INI's GUI plugins don't call <code>Load</code> even if an empty sdf element is passed in. Does it cause any problems if <code>Load</code> is called?</p>\n<p>The changes here look good to me. I wonder if we can reduce duplicate code by putting this function in <code>RenderWidget</code> and update the RenderWidget constructor code that loads gui plugins in gui.ini file to also call this function. </p>", "type": "rendered"}, "created_on": "2017-01-03T19:17:46.142439+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {}, "updated_on": "2017-01-03T19:17:46.144864+00:00", "type": "pullrequest_comment", "id": 29105445}, "pull_request": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562/comments/28965234.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562/_/diff#comment-28965234"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}, "content": {"raw": "Please also see my comment for GuiIface.cc, there's one more thing we may want to fix up.", "markup": "markdown", "html": "<p>Please also see my comment for GuiIface.cc, there's one more thing we may want to fix up.</p>", "type": "rendered"}, "created_on": "2016-12-30T00:31:35.463336+00:00", "user": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "updated_on": "2016-12-30T00:31:35.510742+00:00", "type": "pullrequest_comment", "id": 28965234}, "pull_request": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562/comments/28965227.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562/_/diff#comment-28965227"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}, "content": {"raw": "The Load() method of the GuiPlugin is called from within this RenderWidget::AddPlugin(). However this is by definition *not to be done* when a GUI Plugin is loaded from the INI file, and it should probably be the same for plugins loaded via the command line interface. You will notice the difference with the timer plugin, because it its Load() sets the widget to smaller dimensions if called without the specifications in the SDF. When loaded via INI (no Load() call), the plugin is large. When loaded via command line parameter (currently calling Load()), it's pretty small.\n\nHowever we need to call RenderWidget::AddPlugin() here for two reasons:\n\n1. RenderWidget::glWidget is private, and we need it to set the parent of the plugin. \n2. The plugins should be managed in the plugins vector of the RenderWidget along with the ones loaded from the INI file (in the constructor of RenderWidget). This is the best solution to avoid a segfault upon gzclient exit.\n\nHow we could fix this in method ``RenderWidget::AddPlugin()``:\n\n* Suggestion 1: Avoid calling GuiPlugin::Load() if the sdf element is set to NULL, and set it to NULL in this case. Disadvantage is that sometimes maybe we want to call Load() even if the ElementPtr is NULL?\n* Suggestion 2: Add an extra boolean parameter loadPlugin which defaults to true, and call Load() only if it's true.\n\nAny other suggestions? Which solution would be preferable?", "markup": "markdown", "html": "<p>The Load() method of the GuiPlugin is called from within this RenderWidget::AddPlugin(). However this is by definition <em>not to be done</em> when a GUI Plugin is loaded from the INI file, and it should probably be the same for plugins loaded via the command line interface. You will notice the difference with the timer plugin, because it its Load() sets the widget to smaller dimensions if called without the specifications in the SDF. When loaded via INI (no Load() call), the plugin is large. When loaded via command line parameter (currently calling Load()), it's pretty small.</p>\n<p>However we need to call RenderWidget::AddPlugin() here for two reasons:</p>\n<ol>\n<li>RenderWidget::glWidget is private, and we need it to set the parent of the plugin. </li>\n<li>The plugins should be managed in the plugins vector of the RenderWidget along with the ones loaded from the INI file (in the constructor of RenderWidget). This is the best solution to avoid a segfault upon gzclient exit.</li>\n</ol>\n<p>How we could fix this in method <code>RenderWidget::AddPlugin()</code>:</p>\n<ul>\n<li>Suggestion 1: Avoid calling GuiPlugin::Load() if the sdf element is set to NULL, and set it to NULL in this case. Disadvantage is that sometimes maybe we want to call Load() even if the ElementPtr is NULL?</li>\n<li>Suggestion 2: Add an extra boolean parameter loadPlugin which defaults to true, and call Load() only if it's true.</li>\n</ul>\n<p>Any other suggestions? Which solution would be preferable?</p>", "type": "rendered"}, "created_on": "2016-12-30T00:31:07.489912+00:00", "user": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "inline": {}, "updated_on": "2016-12-30T00:31:07.579135+00:00", "type": "pullrequest_comment", "id": 28965227}, "pull_request": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562/comments/28930672.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562/_/diff#comment-28930672"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}, "content": {"raw": "Almost forgot to push... it now affects RenderWidget.cc as well, the plugins in there need to be cleared before everything else gets destroyed. No need to keep the g_plugins global variable in GuiIface.cc any more as all the plugins are maintained in RenderWidget anyway.", "markup": "markdown", "html": "<p>Almost forgot to push... it now affects RenderWidget.cc as well, the plugins in there need to be cleared before everything else gets destroyed. No need to keep the g_plugins global variable in GuiIface.cc any more as all the plugins are maintained in RenderWidget anyway.</p>", "type": "rendered"}, "created_on": "2016-12-29T02:59:52.386547+00:00", "user": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "updated_on": "2016-12-29T02:59:52.447352+00:00", "type": "pullrequest_comment", "id": 28930672}, "pull_request": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}}, {"update": {"description": "This is related to issue #1311.\r\n\r\nThe code in GuiIface.cc doesn't work, because gazebo::client::addPlugin() calls gazebo_shared::addPlugin() which only supports system plugins. Same for gazebo_shared::setup(), it only supports system plugins and calls Load(argc,argv) and Init(argc,argv), which the GUIPlugin doesn't have.\r\n\r\nThe error described in issue #1311 happens because QApplication has to be created before the plugin is loaded (requirement by Qt). But in the current version of GuiIface.cc, the plugin is created too early in parse_args().\r\n\r\nThis PR fixes this issue. Now gzclient can be started with the -g parameter, e.g.\r\n\r\n``gzclient -g <your-plugin-lib>.so``", "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311", "destination": {"commit": {"hash": "3e4d047eb36b", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/3e4d047eb36b.json"}, "html": {"href": "#!/osrf/gazebo/commits/3e4d047eb36b"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "829f7ec4c516", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo/commit/829f7ec4c516"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo/commits/829f7ec4c516"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{11522dd5-648b-4e9e-b908-d3e1170ba728}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "JenniferBuehler/gazebo", "uuid": "{11522dd5-648b-4e9e-b908-d3e1170ba728}"}, "branch": {"name": "gzclient_gui_plugin_loading"}}, "state": "OPEN", "author": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "date": "2016-12-29T02:57:08.345957+00:00"}, "pull_request": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562/comments/28928473.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562/_/diff#comment-28928473"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}, "content": {"raw": "Hmmmm hang on, I'm getting a segmentation fault on exit now, not sure where it comes from, I'm tracking it and will post and update then.", "markup": "markdown", "html": "<p>Hmmmm hang on, I'm getting a segmentation fault on exit now, not sure where it comes from, I'm tracking it and will post and update then.</p>", "type": "rendered"}, "created_on": "2016-12-28T23:30:39.561359+00:00", "user": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "updated_on": "2016-12-28T23:30:39.609839+00:00", "type": "pullrequest_comment", "id": 28928473}, "pull_request": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562/comments/28927598.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562/_/diff#comment-28927598"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}, "content": {"raw": "Done", "markup": "markdown", "html": "<p>Done</p>", "type": "rendered"}, "created_on": "2016-12-28T22:38:51.925904+00:00", "user": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "updated_on": "2016-12-28T22:38:51.966689+00:00", "type": "pullrequest_comment", "id": 28927598}, "pull_request": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}}, {"update": {"description": "This is related to issue #1311.\r\n\r\nThe code in GuiIface.cc doesn't work, because gazebo::client::addPlugin() calls gazebo_shared::addPlugin() which only supports system plugins. Same for gazebo_shared::setup(), it only supports system plugins and calls Load(argc,argv) and Init(argc,argv), which the GUIPlugin doesn't have.\r\n\r\nThe error described in issue #1311 happens because QApplication has to be created before the plugin is loaded (requirement by Qt). But in the current version of GuiIface.cc, the plugin is created too early in parse_args().\r\n\r\nThis PR fixes this issue. Now gzclient can be started with the -g parameter, e.g.\r\n\r\n``gzclient -g <your-plugin-lib>.so``", "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311", "destination": {"commit": {"hash": "d34d108d4102", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/d34d108d4102.json"}, "html": {"href": "#!/osrf/gazebo/commits/d34d108d4102"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "d19783b8409a", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo/commit/d19783b8409a"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo/commits/d19783b8409a"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{11522dd5-648b-4e9e-b908-d3e1170ba728}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "JenniferBuehler/gazebo", "uuid": "{11522dd5-648b-4e9e-b908-d3e1170ba728}"}, "branch": {"name": "gzclient_gui_plugin_loading"}}, "state": "OPEN", "author": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "date": "2016-12-28T22:38:26.313442+00:00"}, "pull_request": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562/comments/28927360.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562/_/diff#comment-28927360"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}, "content": {"raw": "Ok, great. We agree then about the RenderWidget being a better place, I will push my new version in a moment.", "markup": "markdown", "html": "<p>Ok, great. We agree then about the RenderWidget being a better place, I will push my new version in a moment.</p>", "type": "rendered"}, "created_on": "2016-12-28T22:24:58.816958+00:00", "user": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "updated_on": "2016-12-28T22:24:58.887762+00:00", "type": "pullrequest_comment", "id": 28927360}, "pull_request": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562/comments/28925531.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562/_/diff#comment-28925531"}}, "parent": {"id": 28896032, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562/comments/28896032.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562/_/diff#comment-28896032"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}, "content": {"raw": "Yeah I wouldn't worry about the test failures. And you're right about the tests, maybe the effort to make a test for this doesn't pay off. I couldn't find any tests currently checking GUI plugins, but I didn't look much further. The approach you described sounds good to me, but I'm ok with just manually testing this for now.\n\nAs for where to attach the plugin, as far as I know, there are 3 ways to load a GUI plugin:\n\n1. `gui.ini`\n    \n    The file is read directly by the `RenderWidget`, which loads the plugin and [attaches](#!/osrf/gazebo/src/d34d108d41020bb43ee4d8b962ad7adc1fd6c865/gazebo/gui/RenderWidget.cc?fileviewer=file-view-default#RenderWidget.cc-141) it to `GLWidget`\n\n1. `<plugin>` tag in SDF\n\n    Loaded by the server and sent to the client via a GUI message. `MainWindow` loads it and [sends](#!/osrf/gazebo/src/d34d108d41020bb43ee4d8b962ad7adc1fd6c865/gazebo/gui/MainWindow.cc?fileviewer=file-view-default#MainWindow.cc-2087) it to the render widget, who [attaches](#!/osrf/gazebo/src/d34d108d41020bb43ee4d8b962ad7adc1fd6c865/gazebo/gui/RenderWidget.cc?fileviewer=file-view-default#RenderWidget.cc-293) it to `GLWidget`.\n\n1. And now thanks to this PR, via the command line\n\n    I think we could keep the pattern and also attach it to `GLWidget` via the `RenderWidget`, as you mentioned. I think it makes sense that the same plugin shows up the same way no matter how it is loaded. This is how the Timer GUI plugin looks like for me at the moment if loaded with `gzclient --verbose -g libTimerGUIPlugin.so`:\n\n    ![guiplugin.png](data/bitbucket.org/repo/jgXqbo/images/1065399581-guiplugin.png)", "markup": "markdown", "html": "<p>Yeah I wouldn't worry about the test failures. And you're right about the tests, maybe the effort to make a test for this doesn't pay off. I couldn't find any tests currently checking GUI plugins, but I didn't look much further. The approach you described sounds good to me, but I'm ok with just manually testing this for now.</p>\n<p>As for where to attach the plugin, as far as I know, there are 3 ways to load a GUI plugin:</p>\n<ol>\n<li>\n<p><code>gui.ini</code></p>\n<p>The file is read directly by the <code>RenderWidget</code>, which loads the plugin and <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/d34d108d41020bb43ee4d8b962ad7adc1fd6c865/gazebo/gui/RenderWidget.cc?fileviewer=file-view-default#RenderWidget.cc-141\" rel=\"nofollow\">attaches</a> it to <code>GLWidget</code></p>\n</li>\n<li>\n<p><code>&lt;plugin&gt;</code> tag in SDF</p>\n<p>Loaded by the server and sent to the client via a GUI message. <code>MainWindow</code> loads it and <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/d34d108d41020bb43ee4d8b962ad7adc1fd6c865/gazebo/gui/MainWindow.cc?fileviewer=file-view-default#MainWindow.cc-2087\" rel=\"nofollow\">sends</a> it to the render widget, who <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/d34d108d41020bb43ee4d8b962ad7adc1fd6c865/gazebo/gui/RenderWidget.cc?fileviewer=file-view-default#RenderWidget.cc-293\" rel=\"nofollow\">attaches</a> it to <code>GLWidget</code>.</p>\n</li>\n<li>\n<p>And now thanks to this PR, via the command line</p>\n<p>I think we could keep the pattern and also attach it to <code>GLWidget</code> via the <code>RenderWidget</code>, as you mentioned. I think it makes sense that the same plugin shows up the same way no matter how it is loaded. This is how the Timer GUI plugin looks like for me at the moment if loaded with <code>gzclient --verbose -g libTimerGUIPlugin.so</code>:</p>\n<p><img alt=\"guiplugin.png\" src=\"data/bitbucket.org/repo/jgXqbo/images/1065399581-guiplugin.png\" /></p>\n</li>\n</ol>", "type": "rendered"}, "created_on": "2016-12-28T21:18:30.677895+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2016-12-28T21:18:30.680720+00:00", "type": "pullrequest_comment", "id": 28925531}, "pull_request": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562/comments/28923444.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562/_/diff#comment-28923444"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}, "content": {"raw": "~~~I think it's g_plugins, right?~~~ Nevermind, saw it now", "markup": "markdown", "html": "<p><del>~I think it's g_plugins, right?</del>~ Nevermind, saw it now</p>", "type": "rendered"}, "created_on": "2016-12-28T19:58:45.113752+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2016-12-28T19:59:24.028028+00:00", "type": "pullrequest_comment", "id": 28923444}, "pull_request": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}}, {"update": {"description": "This is related to issue #1311.\r\n\r\nThe code in GuiIface.cc doesn't work, because gazebo::client::addPlugin() calls gazebo_shared::addPlugin() which only supports system plugins. Same for gazebo_shared::setup(), it only supports system plugins and calls Load(argc,argv) and Init(argc,argv), which the GUIPlugin doesn't have.\r\n\r\nThe error described in issue #1311 happens because QApplication has to be created before the plugin is loaded (requirement by Qt). But in the current version of GuiIface.cc, the plugin is created too early in parse_args().\r\n\r\nThis PR fixes this issue. Now gzclient can be started with the -g parameter, e.g.\r\n\r\n``gzclient -g <your-plugin-lib>.so``", "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311", "destination": {"commit": {"hash": "e4a92f0846ad", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/e4a92f0846ad.json"}, "html": {"href": "#!/osrf/gazebo/commits/e4a92f0846ad"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "5cfc6372b0f0", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo/commit/5cfc6372b0f0"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo/commits/5cfc6372b0f0"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{11522dd5-648b-4e9e-b908-d3e1170ba728}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "JenniferBuehler/gazebo", "uuid": "{11522dd5-648b-4e9e-b908-d3e1170ba728}"}, "branch": {"name": "gzclient_gui_plugin_loading"}}, "state": "OPEN", "author": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "date": "2016-12-28T07:40:40.266228+00:00"}, "pull_request": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562/comments/28896032.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562/_/diff#comment-28896032"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}, "content": {"raw": "Hi Louise,\n\nThanks for reviewing this.\n\nI got rid of the warning, always forget about the style check ;)\n\nI have seen the test failures before in my dart-6 branch, I highly doubt they are related to the changes in this PR because the code only ever gets used if there are -g command line arguments...\n\nTrue, making a test for this would be nice, on the other hand it's really such a minor change that I'm thinking the best test is probably to just bring up a GUI plugin with gzclient and see that it works ;) Because I presume the GUI Plugins have their own proper tests already?\nOn the other hand, that's not automated testing for the future... I  only tested it with the sphere spawn button in the tutorials and it works.\nOne test could be to load up a dummy GUI plugin which sets a static boolean in its constructor, which the test code could then check for being set to true. Maybe not the best idea but can't think of anything better right now...\n\nOn another note, I made a different version in which the plugin gets loaded onto the RenderWidget instead of the MainWindow. I find that nicer because there is usually more space on it and it doesn't get pasted above the top-left info window. I also saw that this is where the plugins specified in the INI file get loaded to. On the other hand, it's also more restrictive to put it on the RenderWidget... what do you reckon? If you also prefer the RenderWidget solution I can update the PR with this.\n\nCheers\nJenny", "markup": "markdown", "html": "<p>Hi Louise,</p>\n<p>Thanks for reviewing this.</p>\n<p>I got rid of the warning, always forget about the style check ;)</p>\n<p>I have seen the test failures before in my dart-6 branch, I highly doubt they are related to the changes in this PR because the code only ever gets used if there are -g command line arguments...</p>\n<p>True, making a test for this would be nice, on the other hand it's really such a minor change that I'm thinking the best test is probably to just bring up a GUI plugin with gzclient and see that it works ;) Because I presume the GUI Plugins have their own proper tests already?\nOn the other hand, that's not automated testing for the future... I  only tested it with the sphere spawn button in the tutorials and it works.\nOne test could be to load up a dummy GUI plugin which sets a static boolean in its constructor, which the test code could then check for being set to true. Maybe not the best idea but can't think of anything better right now...</p>\n<p>On another note, I made a different version in which the plugin gets loaded onto the RenderWidget instead of the MainWindow. I find that nicer because there is usually more space on it and it doesn't get pasted above the top-left info window. I also saw that this is where the plugins specified in the INI file get loaded to. On the other hand, it's also more restrictive to put it on the RenderWidget... what do you reckon? If you also prefer the RenderWidget solution I can update the PR with this.</p>\n<p>Cheers\nJenny</p>", "type": "rendered"}, "created_on": "2016-12-28T06:36:02.668450+00:00", "user": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "updated_on": "2016-12-28T06:36:02.764751+00:00", "type": "pullrequest_comment", "id": 28896032}, "pull_request": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562/comments/28895836.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562/_/diff#comment-28895836"}}, "parent": {"id": 28884169, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562/comments/28884169.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562/_/diff#comment-28884169"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}, "content": {"raw": "Makes sense, done. Put it after the database cleanup, let me know if it's better elsewhere.", "markup": "markdown", "html": "<p>Makes sense, done. Put it after the database cleanup, let me know if it's better elsewhere.</p>", "type": "rendered"}, "created_on": "2016-12-28T06:23:43.655932+00:00", "user": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "inline": {}, "updated_on": "2016-12-28T06:23:43.720078+00:00", "type": "pullrequest_comment", "id": 28895836}, "pull_request": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562/comments/28895813.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562/_/diff#comment-28895813"}}, "parent": {"id": 28883972, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562/comments/28883972.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562/_/diff#comment-28883972"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}, "content": {"raw": "For sure, forgot to do that before the PR", "markup": "markdown", "html": "<p>For sure, forgot to do that before the PR</p>", "type": "rendered"}, "created_on": "2016-12-28T06:21:17.927102+00:00", "user": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "inline": {}, "updated_on": "2016-12-28T06:21:17.982600+00:00", "type": "pullrequest_comment", "id": 28895813}, "pull_request": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562/comments/28895797.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562/_/diff#comment-28895797"}}, "parent": {"id": 28883930, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562/comments/28883930.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562/_/diff#comment-28883930"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}, "content": {"raw": "Oh I didn't know, ok will fix and commit.", "markup": "markdown", "html": "<p>Oh I didn't know, ok will fix and commit.</p>", "type": "rendered"}, "created_on": "2016-12-28T06:19:29.768731+00:00", "user": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "inline": {}, "updated_on": "2016-12-28T06:19:29.817954+00:00", "type": "pullrequest_comment", "id": 28895797}, "pull_request": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562/comments/28884169.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562/_/diff#comment-28884169"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}, "content": {"raw": "Considering that the plugins shouldn't outlive the main window, what do you think of moving this call to `gui::fini`? (around line 218)", "markup": "markdown", "html": "<p>Considering that the plugins shouldn't outlive the main window, what do you think of moving this call to <code>gui::fini</code>? (around line 218)</p>", "type": "rendered"}, "created_on": "2016-12-27T19:04:30.763507+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2016-12-27T19:04:30.768268+00:00", "type": "pullrequest_comment", "id": 28884169}, "pull_request": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562/comments/28884087.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562/_/diff#comment-28884087"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}, "content": {"raw": "Thanks for tackling this!\n\nThere is a warning and a couple of failed tests, not sure if the failures are related to this though:\n\nhttp://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/852/\n\nI'm thinking of a way to test this. We could test calling `addAndLoadPlugin`, not sure how much work that would be...", "markup": "markdown", "html": "<p>Thanks for tackling this!</p>\n<p>There is a warning and a couple of failed tests, not sure if the failures are related to this though:</p>\n<p><a href=\"http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/852/\" rel=\"nofollow\" class=\"ap-connect-link\">http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/852/</a></p>\n<p>I'm thinking of a way to test this. We could test calling <code>addAndLoadPlugin</code>, not sure how much work that would be...</p>", "type": "rendered"}, "created_on": "2016-12-27T19:01:31.394479+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2016-12-27T19:01:31.400643+00:00", "type": "pullrequest_comment", "id": 28884087}, "pull_request": {"type": "pullrequest", "id": 2562, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2562"}}, "title": "Load GUI Plugins with gzclient parameter -g, fixes issue 1311"}}], "next": "data/repositories/osrf/gazebo/pullrequests/2562/activity_ctx=xqfgqSAS7.json"}