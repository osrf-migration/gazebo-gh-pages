{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1522/comments/6368311.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1522/_/diff#comment-6368311"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1522, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1522.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1522"}}, "title": "cone friction model "}, "content": {"raw": "`INTEGRATION_physics_friction` also fails for me. Here is a short snippet.\n\n\n```\n#!c++\n\n[ RUN      ] PhysicsEngines/PhysicsFrictionTest.FrictionDemo/0\n/data/gazebo_pr_1522/test/integration/physics_friction.cc:286: Failure\nThe difference between vel.y and (g.y + box->friction) * t.Double() is 0.001169343486147404, which exceeds g_friction_tolerance, where\nvel.y evaluates to -0.0014193434861473765,\n(g.y + box->friction) * t.Double() evaluates to -0.00024999999999997247, and\ng_friction_tolerance evaluates to 0.001.\n/data/gazebo_pr_1522/test/integration/physics_friction.cc:279: Failure\nThe difference between vel.y and 0 is 0.0010057863217582351, which exceeds g_friction_tolerance, where\nvel.y evaluates to -0.0010057863217582351,\n0 evaluates to 0, and\ng_friction_tolerance evaluates to 0.001.\n\n```\n", "markup": "markdown", "html": "<p><code>INTEGRATION_physics_friction</code> also fails for me. Here is a short snippet.</p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"p\">[</span> <span class=\"n\">RUN</span>      <span class=\"p\">]</span> <span class=\"n\">PhysicsEngines</span><span class=\"o\">/</span><span class=\"n\">PhysicsFrictionTest</span><span class=\"p\">.</span><span class=\"n\">FrictionDemo</span><span class=\"o\">/</span><span class=\"mi\">0</span>\n<span class=\"o\">/</span><span class=\"n\">data</span><span class=\"o\">/</span><span class=\"n\">gazebo_pr_1522</span><span class=\"o\">/</span><span class=\"n\">test</span><span class=\"o\">/</span><span class=\"n\">integration</span><span class=\"o\">/</span><span class=\"n\">physics_friction</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">286</span><span class=\"o\">:</span> <span class=\"n\">Failure</span>\n<span class=\"n\">The</span> <span class=\"n\">difference</span> <span class=\"n\">between</span> <span class=\"n\">vel</span><span class=\"p\">.</span><span class=\"n\">y</span> <span class=\"n\">and</span> <span class=\"p\">(</span><span class=\"n\">g</span><span class=\"p\">.</span><span class=\"n\">y</span> <span class=\"o\">+</span> <span class=\"n\">box</span><span class=\"o\">-&gt;</span><span class=\"n\">friction</span><span class=\"p\">)</span> <span class=\"o\">*</span> <span class=\"n\">t</span><span class=\"p\">.</span><span class=\"n\">Double</span><span class=\"p\">()</span> <span class=\"n\">is</span> <span class=\"mf\">0.001169343486147404</span><span class=\"p\">,</span> <span class=\"n\">which</span> <span class=\"n\">exceeds</span> <span class=\"n\">g_friction_tolerance</span><span class=\"p\">,</span> <span class=\"n\">where</span>\n<span class=\"n\">vel</span><span class=\"p\">.</span><span class=\"n\">y</span> <span class=\"n\">evaluates</span> <span class=\"n\">to</span> <span class=\"o\">-</span><span class=\"mf\">0.0014193434861473765</span><span class=\"p\">,</span>\n<span class=\"p\">(</span><span class=\"n\">g</span><span class=\"p\">.</span><span class=\"n\">y</span> <span class=\"o\">+</span> <span class=\"n\">box</span><span class=\"o\">-&gt;</span><span class=\"n\">friction</span><span class=\"p\">)</span> <span class=\"o\">*</span> <span class=\"n\">t</span><span class=\"p\">.</span><span class=\"n\">Double</span><span class=\"p\">()</span> <span class=\"n\">evaluates</span> <span class=\"n\">to</span> <span class=\"o\">-</span><span class=\"mf\">0.00024999999999997247</span><span class=\"p\">,</span> <span class=\"n\">and</span>\n<span class=\"n\">g_friction_tolerance</span> <span class=\"n\">evaluates</span> <span class=\"n\">to</span> <span class=\"mf\">0.001</span><span class=\"p\">.</span>\n<span class=\"o\">/</span><span class=\"n\">data</span><span class=\"o\">/</span><span class=\"n\">gazebo_pr_1522</span><span class=\"o\">/</span><span class=\"n\">test</span><span class=\"o\">/</span><span class=\"n\">integration</span><span class=\"o\">/</span><span class=\"n\">physics_friction</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">279</span><span class=\"o\">:</span> <span class=\"n\">Failure</span>\n<span class=\"n\">The</span> <span class=\"n\">difference</span> <span class=\"n\">between</span> <span class=\"n\">vel</span><span class=\"p\">.</span><span class=\"n\">y</span> <span class=\"n\">and</span> <span class=\"mi\">0</span> <span class=\"n\">is</span> <span class=\"mf\">0.0010057863217582351</span><span class=\"p\">,</span> <span class=\"n\">which</span> <span class=\"n\">exceeds</span> <span class=\"n\">g_friction_tolerance</span><span class=\"p\">,</span> <span class=\"n\">where</span>\n<span class=\"n\">vel</span><span class=\"p\">.</span><span class=\"n\">y</span> <span class=\"n\">evaluates</span> <span class=\"n\">to</span> <span class=\"o\">-</span><span class=\"mf\">0.0010057863217582351</span><span class=\"p\">,</span>\n<span class=\"mi\">0</span> <span class=\"n\">evaluates</span> <span class=\"n\">to</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"n\">and</span>\n<span class=\"n\">g_friction_tolerance</span> <span class=\"n\">evaluates</span> <span class=\"n\">to</span> <span class=\"mf\">0.001</span><span class=\"p\">.</span>\n</pre></div>", "type": "rendered"}, "created_on": "2015-04-20T20:28:24.582408+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2015-04-20T20:28:24.589200+00:00", "type": "pullrequest_comment", "id": 6368311}