{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1506/comments/5749172.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1506/_/diff#comment-5749172"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1506, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1506.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1506"}}, "title": "Apply Force/Torque GUI"}, "content": {"raw": "I just made Gazebo crash while using this tool. It traces back to `GLWidget::OnSelectionMsg`, and I noticed that this is also present on issue #1523\n\n~~~\n#0  0x00007fffee91c8e9 in glBindBufferARB () from /usr/lib/nvidia-304/libGL.so.1\n#1  0x00007fffd28c7f7c in Ogre::GLHardwareVertexBuffer::lockImpl(unsigned long, unsigned long, Ogre::HardwareBuffer::LockOptions) ()\n   from /usr/lib/x86_64-linux-gnu/OGRE-1.8.0/RenderSystem_GL.so\n#2  0x00007fffd28c44a5 in ?? () from /usr/lib/x86_64-linux-gnu/OGRE-1.8.0/RenderSystem_GL.so\n#3  0x00007ffff63c0877 in lock (options=Ogre::HardwareBuffer::HBL_NORMAL, this=<optimized out>) at /usr/include/OGRE/OgreHardwareBuffer.h:220\n#4  gazebo::rendering::DynamicLines::FillHardwareBuffers (this=0x7fffa4147eb0)\n    at /home/louisep/gazebo_source/gazebo/gazebo/rendering/DynamicLines.cc:158\n#5  0x00007ffff645280f in gazebo::rendering::WireBox::Init (this=0xb4bb3d0, _box=...)\n    at /home/louisep/gazebo_source/gazebo/gazebo/rendering/WireBox.cc:105\n#6  0x00007ffff6444a68 in gazebo::rendering::Visual::SetHighlighted (this=0x85640d0, _highlighted=_highlighted@entry=true)\n    at /home/louisep/gazebo_source/gazebo/gazebo/rendering/Visual.cc:1632\n#7  0x00007ffff777aece in gazebo::gui::GLWidget::SetSelectedVisual (this=this@entry=0x1054e80, _vis=...)\n    at /home/louisep/gazebo_source/gazebo/gazebo/gui/GLWidget.cc:1031\n#8  0x00007ffff777be72 in gazebo::gui::GLWidget::OnSetSelectedEntity (this=this@entry=0x1054e80, _name=..., _mode=...)\n    at /home/louisep/gazebo_source/gazebo/gazebo/gui/GLWidget.cc:1207\n#9  0x00007ffff777bfb2 in gazebo::gui::GLWidget::OnSelectionMsg (this=0x1054e80, _msg=...)\n    at /home/louisep/gazebo_source/gazebo/gazebo/gui/GLWidget.cc:1007\n#10 0x00007ffff7781e7b in operator() (a0=..., this=0x109d4e0) at /usr/include/boost/function/function_template.hpp:767\n#11 gazebo::transport::CallbackHelperT<gazebo::msgs::Selection>::HandleMessage (this=0x109d4d0, _newMsg=...)\n    at /home/louisep/gazebo_source/gazebo/gazebo/transport/CallbackHelper.hh:153\n#12 0x00007ffff670768a in gazebo::transport::Node::ProcessIncoming (this=0x107f1b0)\n    at /home/louisep/gazebo_source/gazebo/gazebo/transport/Node.cc:253\n#13 0x00007ffff67109eb in gazebo::transport::TopicManager::ProcessNodes (\n    this=0x7ffff7dd7220 <SingletonT<gazebo::transport::TopicManager>::GetInstance()::t>, _onlyOut=_onlyOut@entry=false)\n    at /home/louisep/gazebo_source/gazebo/gazebo/transport/TopicManager.cc:190\n#14 0x00007ffff67007d6 in gazebo::transport::ConnectionManager::RunUpdate (\n    this=this@entry=0x7ffff7dd7020 <SingletonT<gazebo::transport::ConnectionManager>::GetInstance()::t>)\n    at /home/louisep/gazebo_source/gazebo/gazebo/transport/ConnectionManager.cc:276\n#15 0x00007ffff6700975 in gazebo::transport::ConnectionManager::Run (\n    this=0x7ffff7dd7020 <SingletonT<gazebo::transport::ConnectionManager>::GetInstance()::t>)\n    at /home/louisep/gazebo_source/gazebo/gazebo/transport/ConnectionManager.cc:307\n#16 0x00007ffff36ffa4a in ?? () from /usr/lib/x86_64-linux-gnu/libboost_thread.so.1.54.0\n#17 0x00007ffff3912182 in start_thread (arg=0x7fffd881b700) at pthread_create.c:312\n#18 0x00007ffff6cea00d in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:111\n~~~", "markup": "markdown", "html": "<p>I just made Gazebo crash while using this tool. It traces back to <code>GLWidget::OnSelectionMsg</code>, and I noticed that this is also present on issue <a href=\"#!/osrf/gazebo/issues/1523/gzclient-crashes-when-a-light-is-selected\" rel=\"nofollow\" title=\"gzclient crashes when a light is selected on another client\" class=\"ap-connect-link\">#1523</a></p>\n<div class=\"codehilite\"><pre><span></span>#0  0x00007fffee91c8e9 in glBindBufferARB () from /usr/lib/nvidia-304/libGL.so.1\n#1  0x00007fffd28c7f7c in Ogre::GLHardwareVertexBuffer::lockImpl(unsigned long, unsigned long, Ogre::HardwareBuffer::LockOptions) ()\n   from /usr/lib/x86_64-linux-gnu/OGRE-1.8.0/RenderSystem_GL.so\n#2  0x00007fffd28c44a5 in ?? () from /usr/lib/x86_64-linux-gnu/OGRE-1.8.0/RenderSystem_GL.so\n#3  0x00007ffff63c0877 in lock (options=Ogre::HardwareBuffer::HBL_NORMAL, this=&lt;optimized out&gt;) at /usr/include/OGRE/OgreHardwareBuffer.h:220\n#4  gazebo::rendering::DynamicLines::FillHardwareBuffers (this=0x7fffa4147eb0)\n    at /home/louisep/gazebo_source/gazebo/gazebo/rendering/DynamicLines.cc:158\n#5  0x00007ffff645280f in gazebo::rendering::WireBox::Init (this=0xb4bb3d0, _box=...)\n    at /home/louisep/gazebo_source/gazebo/gazebo/rendering/WireBox.cc:105\n#6  0x00007ffff6444a68 in gazebo::rendering::Visual::SetHighlighted (this=0x85640d0, _highlighted=_highlighted@entry=true)\n    at /home/louisep/gazebo_source/gazebo/gazebo/rendering/Visual.cc:1632\n#7  0x00007ffff777aece in gazebo::gui::GLWidget::SetSelectedVisual (this=this@entry=0x1054e80, _vis=...)\n    at /home/louisep/gazebo_source/gazebo/gazebo/gui/GLWidget.cc:1031\n#8  0x00007ffff777be72 in gazebo::gui::GLWidget::OnSetSelectedEntity (this=this@entry=0x1054e80, _name=..., _mode=...)\n    at /home/louisep/gazebo_source/gazebo/gazebo/gui/GLWidget.cc:1207\n#9  0x00007ffff777bfb2 in gazebo::gui::GLWidget::OnSelectionMsg (this=0x1054e80, _msg=...)\n    at /home/louisep/gazebo_source/gazebo/gazebo/gui/GLWidget.cc:1007\n#10 0x00007ffff7781e7b in operator() (a0=..., this=0x109d4e0) at /usr/include/boost/function/function_template.hpp:767\n#11 gazebo::transport::CallbackHelperT&lt;gazebo::msgs::Selection&gt;::HandleMessage (this=0x109d4d0, _newMsg=...)\n    at /home/louisep/gazebo_source/gazebo/gazebo/transport/CallbackHelper.hh:153\n#12 0x00007ffff670768a in gazebo::transport::Node::ProcessIncoming (this=0x107f1b0)\n    at /home/louisep/gazebo_source/gazebo/gazebo/transport/Node.cc:253\n#13 0x00007ffff67109eb in gazebo::transport::TopicManager::ProcessNodes (\n    this=0x7ffff7dd7220 &lt;SingletonT&lt;gazebo::transport::TopicManager&gt;::GetInstance()::t&gt;, _onlyOut=_onlyOut@entry=false)\n    at /home/louisep/gazebo_source/gazebo/gazebo/transport/TopicManager.cc:190\n#14 0x00007ffff67007d6 in gazebo::transport::ConnectionManager::RunUpdate (\n    this=this@entry=0x7ffff7dd7020 &lt;SingletonT&lt;gazebo::transport::ConnectionManager&gt;::GetInstance()::t&gt;)\n    at /home/louisep/gazebo_source/gazebo/gazebo/transport/ConnectionManager.cc:276\n#15 0x00007ffff6700975 in gazebo::transport::ConnectionManager::Run (\n    this=0x7ffff7dd7020 &lt;SingletonT&lt;gazebo::transport::ConnectionManager&gt;::GetInstance()::t&gt;)\n    at /home/louisep/gazebo_source/gazebo/gazebo/transport/ConnectionManager.cc:307\n#16 0x00007ffff36ffa4a in ?? () from /usr/lib/x86_64-linux-gnu/libboost_thread.so.1.54.0\n#17 0x00007ffff3912182 in start_thread (arg=0x7fffd881b700) at pthread_create.c:312\n#18 0x00007ffff6cea00d in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:111\n</pre></div>", "type": "rendered"}, "created_on": "2015-03-19T01:34:48.937087+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2015-03-19T01:34:48.944854+00:00", "type": "pullrequest_comment", "id": 5749172}