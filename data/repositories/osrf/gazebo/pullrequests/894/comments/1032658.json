{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/894/comments/1032658.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/894/_/diff#comment-1032658"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 894, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/894.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/894"}}, "title": "Improve console output, fix for issue #794"}, "content": {"raw": "I'm seeing a strange issue with some of the messages in the log file having multiple timestamps. It seems that a `gzlog` message that follows a `gzmsg`, `gzdbg`, `gzwarn`, or `gzerr` will have multiple timestamps. For example, running the Empty world tests from INTEGRATION_physics:\n~~~\n$ test/integration/INTEGRATION_physics --gtest_filter=\"*Empty*\"\n...\n$ cat ~/.gazebo/test.log\nGazebo multi-robot simulator, version 3.0.0\nCopyright (C) 2012-2013 Open Source Robotics Foundation.\nReleased under the Apache 2 License.\nhttp://gazebosim.org\n\n\n(1389228344 497016930) [Msg] Waiting for master.\n(1389228344 505991478) (1389228344 506202435) (1389228345 437513895) World::Init\n(1389228345 495411071) [Dbg] [ServerFixture.cc:142] ServerFixture load in 1 seconds, timeout after 600 seconds\n(1389228345 757637930) (1389228345 767018252) (1389228345 767199374) (1389228346 305966814)  debug physics:  iters[50] sor[1.3] erp[0.2] cfm[0] split[1] split tol[-0.02]\n(1389228346 307479623) Bullet rigid body for link [link] does not exist, GetGravityMode returns 0 by default.\n(1389228346 645062090) Bullet rigid body for link [link] does not exist, unable to respond to OnPoseChange\n(1389228346 645108735) Bullet rigid body for link [link] does not exist, unable to respond to OnPoseChange\n(1389228346 645378886) World::Init\n(1389228346 656449844) [Dbg] [ServerFixture.cc:142] ServerFixture load in 0.9 seconds, timeout after 600 seconds\n(1389228347 19306929) (1389228347 28621111) (1389228347 28791193) (1389228347 548271132) GetGravityMode [0], but physics not initialized, returning cached value\n(1389228347 887543670) GetGravityMode [0], but physics not initialized, returning cached value\n(1389228347 887563458) SetGravityMode [0], but physics not initialized, caching\n(1389228347 887681501) World::Init\n(1389228347 917935761) [Dbg] [ServerFixture.cc:142] ServerFixture load in 0.9 seconds, timeout after 600 seconds\n~~~\nIn this case, after `gzmsg` messages, there are three timestamps, while after `gzdbg` messages, there are 4 timestamps.", "markup": "markdown", "html": "<p>I'm seeing a strange issue with some of the messages in the log file having multiple timestamps. It seems that a <code>gzlog</code> message that follows a <code>gzmsg</code>, <code>gzdbg</code>, <code>gzwarn</code>, or <code>gzerr</code> will have multiple timestamps. For example, running the Empty world tests from INTEGRATION_physics:</p>\n<div class=\"codehilite\"><pre><span></span>$ test/integration/INTEGRATION_physics --gtest_filter<span class=\"o\">=</span><span class=\"s2\">&quot;*Empty*&quot;</span>\n...\n$ cat ~/.gazebo/test.log\nGazebo multi-robot simulator, version <span class=\"m\">3</span>.0.0\nCopyright <span class=\"o\">(</span>C<span class=\"o\">)</span> <span class=\"m\">2012</span>-2013 Open Source Robotics Foundation.\nReleased under the Apache <span class=\"m\">2</span> License.\nhttp://gazebosim.org\n\n\n<span class=\"o\">(</span><span class=\"m\">1389228344</span> <span class=\"m\">497016930</span><span class=\"o\">)</span> <span class=\"o\">[</span>Msg<span class=\"o\">]</span> Waiting <span class=\"k\">for</span> master.\n<span class=\"o\">(</span><span class=\"m\">1389228344</span> <span class=\"m\">505991478</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"m\">1389228344</span> <span class=\"m\">506202435</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"m\">1389228345</span> <span class=\"m\">437513895</span><span class=\"o\">)</span> World::Init\n<span class=\"o\">(</span><span class=\"m\">1389228345</span> <span class=\"m\">495411071</span><span class=\"o\">)</span> <span class=\"o\">[</span>Dbg<span class=\"o\">]</span> <span class=\"o\">[</span>ServerFixture.cc:142<span class=\"o\">]</span> ServerFixture load in <span class=\"m\">1</span> seconds, timeout after <span class=\"m\">600</span> seconds\n<span class=\"o\">(</span><span class=\"m\">1389228345</span> <span class=\"m\">757637930</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"m\">1389228345</span> <span class=\"m\">767018252</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"m\">1389228345</span> <span class=\"m\">767199374</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"m\">1389228346</span> <span class=\"m\">305966814</span><span class=\"o\">)</span>  debug physics:  iters<span class=\"o\">[</span><span class=\"m\">50</span><span class=\"o\">]</span> sor<span class=\"o\">[</span><span class=\"m\">1</span>.3<span class=\"o\">]</span> erp<span class=\"o\">[</span><span class=\"m\">0</span>.2<span class=\"o\">]</span> cfm<span class=\"o\">[</span><span class=\"m\">0</span><span class=\"o\">]</span> split<span class=\"o\">[</span><span class=\"m\">1</span><span class=\"o\">]</span> split tol<span class=\"o\">[</span>-0.02<span class=\"o\">]</span>\n<span class=\"o\">(</span><span class=\"m\">1389228346</span> <span class=\"m\">307479623</span><span class=\"o\">)</span> Bullet rigid body <span class=\"k\">for</span> link <span class=\"o\">[</span>link<span class=\"o\">]</span> does not exist, GetGravityMode returns <span class=\"m\">0</span> by default.\n<span class=\"o\">(</span><span class=\"m\">1389228346</span> <span class=\"m\">645062090</span><span class=\"o\">)</span> Bullet rigid body <span class=\"k\">for</span> link <span class=\"o\">[</span>link<span class=\"o\">]</span> does not exist, unable to respond to OnPoseChange\n<span class=\"o\">(</span><span class=\"m\">1389228346</span> <span class=\"m\">645108735</span><span class=\"o\">)</span> Bullet rigid body <span class=\"k\">for</span> link <span class=\"o\">[</span>link<span class=\"o\">]</span> does not exist, unable to respond to OnPoseChange\n<span class=\"o\">(</span><span class=\"m\">1389228346</span> <span class=\"m\">645378886</span><span class=\"o\">)</span> World::Init\n<span class=\"o\">(</span><span class=\"m\">1389228346</span> <span class=\"m\">656449844</span><span class=\"o\">)</span> <span class=\"o\">[</span>Dbg<span class=\"o\">]</span> <span class=\"o\">[</span>ServerFixture.cc:142<span class=\"o\">]</span> ServerFixture load in <span class=\"m\">0</span>.9 seconds, timeout after <span class=\"m\">600</span> seconds\n<span class=\"o\">(</span><span class=\"m\">1389228347</span> <span class=\"m\">19306929</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"m\">1389228347</span> <span class=\"m\">28621111</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"m\">1389228347</span> <span class=\"m\">28791193</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"m\">1389228347</span> <span class=\"m\">548271132</span><span class=\"o\">)</span> GetGravityMode <span class=\"o\">[</span><span class=\"m\">0</span><span class=\"o\">]</span>, but physics not initialized, returning cached value\n<span class=\"o\">(</span><span class=\"m\">1389228347</span> <span class=\"m\">887543670</span><span class=\"o\">)</span> GetGravityMode <span class=\"o\">[</span><span class=\"m\">0</span><span class=\"o\">]</span>, but physics not initialized, returning cached value\n<span class=\"o\">(</span><span class=\"m\">1389228347</span> <span class=\"m\">887563458</span><span class=\"o\">)</span> SetGravityMode <span class=\"o\">[</span><span class=\"m\">0</span><span class=\"o\">]</span>, but physics not initialized, caching\n<span class=\"o\">(</span><span class=\"m\">1389228347</span> <span class=\"m\">887681501</span><span class=\"o\">)</span> World::Init\n<span class=\"o\">(</span><span class=\"m\">1389228347</span> <span class=\"m\">917935761</span><span class=\"o\">)</span> <span class=\"o\">[</span>Dbg<span class=\"o\">]</span> <span class=\"o\">[</span>ServerFixture.cc:142<span class=\"o\">]</span> ServerFixture load in <span class=\"m\">0</span>.9 seconds, timeout after <span class=\"m\">600</span> seconds\n</pre></div>\n\n\n<p>In this case, after <code>gzmsg</code> messages, there are three timestamps, while after <code>gzdbg</code> messages, there are 4 timestamps.</p>", "type": "rendered"}, "created_on": "2014-01-09T00:50:19.262940+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2014-01-09T00:50:19.278581+00:00", "type": "pullrequest_comment", "id": 1032658}