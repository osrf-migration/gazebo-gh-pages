{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1836/comments/8647039.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1836/_/diff#comment-8647039"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1836, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1836.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1836"}}, "title": "Update inertial values when links are scaled in model editor"}, "content": {"raw": "I created a \"lead ball\" as follows:\n\n1. Insert a sphere in the model editor\n\n1. Change the radius of visual and collision to 1 m to make calculation easier\n\n1. On the inspector, put 47476.8 kg for mass (11340 kg/m3 * 4 / 3 * PI * 1^3)\n\n1. For inertia, put 18990.72 kg . m2 for ixx, iyy and izz (2 / 5 * 1^2 * 47476.8)\n\n1. Save it and on the simulation, turn on CoM visualization - the CoM visual should match the visual and collision sizes.\n\nNow edit it, scale it and save. I'd expect the CoM visual for the scaled sphere to also match its size but it doesn't. The CoM is always visibly bigger, whether the sphere was scaled up or down. It could be a problem with the CoM visual or with the scaling.\n\nAs a reference, I scaled the lead sphere to about 2 m radius, so I'd expect the mass to become about 379814.4 kg (11340 kg/m3 * 4 / 3 * PI * 2^3), but it became 3049075.158474 kg, which is one order of magnitude above.", "markup": "markdown", "html": "<p>I created a \"lead ball\" as follows:</p>\n<ol>\n<li>\n<p>Insert a sphere in the model editor</p>\n</li>\n<li>\n<p>Change the radius of visual and collision to 1 m to make calculation easier</p>\n</li>\n<li>\n<p>On the inspector, put 47476.8 kg for mass (11340 kg/m3 * 4 / 3 * PI * 1^3)</p>\n</li>\n<li>\n<p>For inertia, put 18990.72 kg . m2 for ixx, iyy and izz (2 / 5 * 1^2 * 47476.8)</p>\n</li>\n<li>\n<p>Save it and on the simulation, turn on CoM visualization - the CoM visual should match the visual and collision sizes.</p>\n</li>\n</ol>\n<p>Now edit it, scale it and save. I'd expect the CoM visual for the scaled sphere to also match its size but it doesn't. The CoM is always visibly bigger, whether the sphere was scaled up or down. It could be a problem with the CoM visual or with the scaling.</p>\n<p>As a reference, I scaled the lead sphere to about 2 m radius, so I'd expect the mass to become about 379814.4 kg (11340 kg/m3 * 4 / 3 * PI * 2^3), but it became <a href=\"#!/osrf/gazebo/commits/3049075\" rel=\"nofollow\" class=\"ap-connect-link\">3049075</a>.158474 kg, which is one order of magnitude above.</p>", "type": "rendered"}, "created_on": "2015-07-30T01:40:06.324830+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2015-07-30T01:40:06.335694+00:00", "type": "pullrequest_comment", "id": 8647039}