{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/862/comments/920764.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/862/_/diff#comment-920764"}}, "parent": {"id": 919094, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/862/comments/919094.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/862/_/diff#comment-919094"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 862, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/862.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/862"}}, "title": "Fix joint anchor when link pose not specified (#978)"}, "content": {"raw": "I fixed the test failures in 0f738df by modifying the test. The documentation, code comments, and #465 state that the IMU should return an orientation relative to a reference pose that is initialized based on the initial pose of the object. The failing tests involve a stationary sensor that is expected to report a non-identity orientation, which contradicts the documentation. The test was previously passing because of bug #978, which is fixed here.\n\nI don't think this will affect drcsim, since I think the urdf parser populates all the `<link>` elements with `<pose>`'s.\n\n@hsu you wrote the reference pose stuff for the IMU; what do you think?", "markup": "markdown", "html": "<p>I fixed the test failures in <a href=\"#!/osrf/gazebo/commits/0f738df\" rel=\"nofollow\" class=\"ap-connect-link\">0f738df</a> by modifying the test. The documentation, code comments, and <a href=\"#!/osrf/gazebo/issues/465/imusensor-should-also-return-accumulated\" rel=\"nofollow\" title=\"ImuSensor should also return accumulated orientation relative to initial imu reference frame\" class=\"ap-connect-link\"><s>#465</s></a> state that the IMU should return an orientation relative to a reference pose that is initialized based on the initial pose of the object. The failing tests involve a stationary sensor that is expected to report a non-identity orientation, which contradicts the documentation. The test was previously passing because of bug <a href=\"#!/osrf/gazebo/issues/978/incorrect-joint-anchor-position-when-child\" rel=\"nofollow\" title=\"Incorrect joint anchor position when child link pose is unset\" class=\"ap-connect-link\"><s>#978</s></a>, which is fixed here.</p>\n<p>I don't think this will affect drcsim, since I think the urdf parser populates all the <code>&lt;link&gt;</code> elements with <code>&lt;pose&gt;</code>'s.</p>\n<p>@hsu you wrote the reference pose stuff for the IMU; what do you think?</p>", "type": "rendered"}, "created_on": "2013-12-09T07:14:54.291426+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2013-12-09T07:32:29.340775+00:00", "type": "pullrequest_comment", "id": 920764}