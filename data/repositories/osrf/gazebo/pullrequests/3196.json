{"rendered": {"description": {"raw": "Problem: The Visual\u2019s bounding box\u2019s min and max values are initialized to zeros. But for a visual with a link at an offset \\(.e.g. a positive offset\\), the bounding box computation incorrectly merges the empty bounding box located at zero position with the link\u2019s bounding box resulting in the final bounding box that is larger than it should be.\r\n\r\nThis PR changes the initialization to `+/- MAX_D`, which is consistent with they way it\u2019s done in [physics::Link](#!/osrf/gazebo/src/f0d3578207d5149e3709947558b5846ce79d02b3/gazebo/physics/Link.cc#lines-829).\r\n\r\nTo avoid breaking the fix for CoM visualization submitted in pull request #2934, a zero sized bounding box is returned for empty visuals.", "markup": "markdown", "html": "<p>Problem: The Visual\u2019s bounding box\u2019s min and max values are initialized to zeros. But for a visual with a link at an offset (.e.g. a positive offset), the bounding box computation incorrectly merges the empty bounding box located at zero position with the link\u2019s bounding box resulting in the final bounding box that is larger than it should be.</p>\n<p>This PR changes the initialization to <code>+/- MAX_D</code>, which is consistent with they way it\u2019s done in <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/f0d3578207d5149e3709947558b5846ce79d02b3/gazebo/physics/Link.cc#lines-829\" rel=\"nofollow\">physics::Link</a>.</p>\n<p>To avoid breaking the fix for CoM visualization submitted in <a href=\"#!/osrf/gazebo/pull-requests/2934/fix-empty-visual-bounding-box\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #2934</a>, a zero sized bounding box is returned for empty visuals.</p>", "type": "rendered"}, "title": {"raw": "Fix bounding box calculation for visuals that have links with pose offset", "markup": "markdown", "html": "<p>Fix bounding box calculation for visuals that have links with pose offset</p>", "type": "rendered"}}, "type": "pullrequest", "description": "Problem: The Visual\u2019s bounding box\u2019s min and max values are initialized to zeros. But for a visual with a link at an offset \\(.e.g. a positive offset\\), the bounding box computation incorrectly merges the empty bounding box located at zero position with the link\u2019s bounding box resulting in the final bounding box that is larger than it should be.\r\n\r\nThis PR changes the initialization to `+/- MAX_D`, which is consistent with they way it\u2019s done in [physics::Link](#!/osrf/gazebo/src/f0d3578207d5149e3709947558b5846ce79d02b3/gazebo/physics/Link.cc#lines-829).\r\n\r\nTo avoid breaking the fix for CoM visualization submitted in pull request #2934, a zero sized bounding box is returned for empty visuals.", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/pullrequests/3196/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diffstat/osrf/gazebo:232d5cf47d26%0D805fb1f75e68?from_pullrequest_id=3196"}, "commits": {"href": "data/repositories/osrf/gazebo/pullrequests/3196/commits.json"}, "self": {"href": "data/repositories/osrf/gazebo/pullrequests/3196.json"}, "comments": {"href": "data/repositories/osrf/gazebo/pullrequests/3196/comments_page=1.json"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/pullrequests/3196/merge"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3196"}, "activity": {"href": "data/repositories/osrf/gazebo/pullrequests/3196/activity.json"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:232d5cf47d26%0D805fb1f75e68?from_pullrequest_id=3196"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/pullrequests/3196/approve"}, "statuses": {"href": "data/repositories/osrf/gazebo/pullrequests/3196/statuses_page=1.json"}}, "title": "Fix bounding box calculation for visuals that have links with pose offset", "close_source_branch": true, "reviewers": [], "id": 3196, "destination": {"commit": {"hash": "805fb1f75e68", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/805fb1f75e68.json"}, "html": {"href": "#!/osrf/gazebo/commits/805fb1f75e68"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo9"}}, "created_on": "2020-02-24T23:58:48.268832+00:00", "summary": {"raw": "Problem: The Visual\u2019s bounding box\u2019s min and max values are initialized to zeros. But for a visual with a link at an offset \\(.e.g. a positive offset\\), the bounding box computation incorrectly merges the empty bounding box located at zero position with the link\u2019s bounding box resulting in the final bounding box that is larger than it should be.\r\n\r\nThis PR changes the initialization to `+/- MAX_D`, which is consistent with they way it\u2019s done in [physics::Link](#!/osrf/gazebo/src/f0d3578207d5149e3709947558b5846ce79d02b3/gazebo/physics/Link.cc#lines-829).\r\n\r\nTo avoid breaking the fix for CoM visualization submitted in pull request #2934, a zero sized bounding box is returned for empty visuals.", "markup": "markdown", "html": "<p>Problem: The Visual\u2019s bounding box\u2019s min and max values are initialized to zeros. But for a visual with a link at an offset (.e.g. a positive offset), the bounding box computation incorrectly merges the empty bounding box located at zero position with the link\u2019s bounding box resulting in the final bounding box that is larger than it should be.</p>\n<p>This PR changes the initialization to <code>+/- MAX_D</code>, which is consistent with they way it\u2019s done in <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/f0d3578207d5149e3709947558b5846ce79d02b3/gazebo/physics/Link.cc#lines-829\" rel=\"nofollow\">physics::Link</a>.</p>\n<p>To avoid breaking the fix for CoM visualization submitted in <a href=\"#!/osrf/gazebo/pull-requests/2934/fix-empty-visual-bounding-box\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #2934</a>, a zero sized bounding box is returned for empty visuals.</p>", "type": "rendered"}, "source": {"commit": {"hash": "4de51b5a703a", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/4de51b5a703a.json"}, "html": {"href": "#!/osrf/gazebo/commits/4de51b5a703a"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "visual_offset_bbox"}}, "comment_count": 3, "state": "MERGED", "task_count": 0, "participants": [{"role": "PARTICIPANT", "participated_on": "2020-03-30T19:49:31.563241+00:00", "type": "participant", "approved": true, "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}}, {"role": "PARTICIPANT", "participated_on": "2020-03-30T20:23:36.388542+00:00", "type": "participant", "approved": true, "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}}, {"role": "PARTICIPANT", "participated_on": "2020-03-31T21:18:27.417109+00:00", "type": "participant", "approved": false, "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}}], "reason": "", "updated_on": "2020-03-31T21:19:03.994036+00:00", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "merge_commit": {"hash": "232d5cf47d26", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/232d5cf47d26.json"}, "html": {"href": "#!/osrf/gazebo/commits/232d5cf47d26"}}}, "closed_by": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}}