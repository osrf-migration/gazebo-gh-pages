{"pagelen": 50, "values": [{"update": {"description": "Based on the `arat.world` from pull request #1205, I've created a world plugin called ARATPlugin. Here's an example of the sdf parameters that it accepts:\r\n~~~\r\n<plugin name=\"arat_plugin\" filename=\"libARATPlugin.so\">\r\n  <modelName>cricket_ball</modelName>\r\n  <modelName>wood_block_10_2_1cm</modelName>\r\n  <modelName>wood_cube_10cm</modelName>\r\n  <modelName>wood_cube_7_5cm</modelName>\r\n  <modelName>wood_cube_5cm</modelName>\r\n  <modelName>wood_cube_2_5cm</modelName>\r\n  <initialTask>wood_blocks</initialTask>\r\n  <task name=\"default\">\r\n    <pose name=\"cricket_ball\"       > 0.6 -0.25 1.015 0 0 0</pose>\r\n    <pose name=\"wood_block_10_2_1cm\"> 0.4 -0.25 1.015 0 0 0</pose>\r\n    <pose name=\"wood_cube_10cm\"     > 0.2 -0.25 1.015 0 0 0</pose>\r\n    <pose name=\"wood_cube_7_5cm\"    > 0.0 -0.25 1.015 0 0 0</pose>\r\n    <pose name=\"wood_cube_5cm\"      >-0.2 -0.25 1.015 0 0 0</pose>\r\n    <pose name=\"wood_cube_2_5cm\"    >-0.4 -0.25 1.015 0 0 0</pose>\r\n  </task>\r\n  <task name=\"cricket_ball\">\r\n    <pose name=\"cricket_ball\"       > 0.6 -0.25 1.015 0 0 0</pose>\r\n  </task>\r\n  <task name=\"wood_blocks\">\r\n    <pose name=\"wood_block_10_2_1cm\"> 0.4 -0.25 1.015 0 0 0</pose>\r\n    <pose name=\"wood_cube_10cm\"     > 0.2 -0.25 1.015 0 0 0</pose>\r\n    <pose name=\"wood_cube_7_5cm\"    > 0.0 -0.25 1.015 0 0 0</pose>\r\n    <pose name=\"wood_cube_5cm\"      >-0.2 -0.25 1.015 0 0 0</pose>\r\n    <pose name=\"wood_cube_2_5cm\"    >-0.4 -0.25 1.015 0 0 0</pose>\r\n  </task>\r\n</plugin>\r\n~~~\r\n\r\nFirst, it accepts a sequence of `modelName` elements, with the names of models that should be pre-arranged for each task. The plugin stores the initial pose of these models internally.\r\n\r\nIt also accepts a sequence of `task` elements that have a name attribute (for task name) and child `pose` elements. The child pose elements have a name attribute that should match one of the `modelName` tags, and then pose data. Note that a task doesn't require all poses to be listed (this will be explained below).\r\n\r\nThere is also an `initialTask` element that should match one of the task names.\r\n\r\nThere is a `ARATPlugin::SetTask` API to switch between tasks (eventually it will listen to a gzstring topic). This function does the following:\r\n\r\n* Iterate through all the models listed in the `modelName` tags.\r\n    * If a given model has a `pose` tag defined under the specified task, then reset the pose of that model using the task-specific pose.\r\n    * If the given model doesn't have a `pose` tag specified, then reset the pose of that model to its initial pose.\r\n\r\nTo illustrate how this might be used, I moved the initial pose of all the objects from the table to 250 meters away (`y=-0.25` -> `y=250`). Then if you set `cricket_ball` as the initial task, it will only put the cricket ball on the table. If you set `wood_blocks` as the initial task, it will put the wood blocks on the table but leave the cricket ball far away.\r\n\r\nThe nice thing is that you can change the tasks by modifying the plugin xml tags without recompiling the plugin. It's actually kind of a general plugin. Should we give it a more general name than `ARATPlugin`?\r\n\r\nI also added a `Model::ResetPhysicsStates` API to call `Link::ResetPhysicsStates` for each link in a model. This will reset the velocities to zero and is called whenever we change the pose of an object.", "title": "Add ARATPlugin to arrange models for tasks", "destination": {"commit": {"hash": "034a329082ff", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/034a329082ff.json"}, "html": {"href": "#!/osrf/gazebo/commits/034a329082ff"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo_4.0"}}, "reason": "", "source": {"commit": {"hash": "1364b6e4bc2a", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/1364b6e4bc2a.json"}, "html": {"href": "#!/osrf/gazebo/commits/1364b6e4bc2a"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "arat_plugin"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2014-09-22T17:46:27.696426+00:00"}, "pull_request": {"type": "pullrequest", "id": 1208, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1208.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1208"}}, "title": "Add ArrangePlugin to arrange models for tasks"}}, {"update": {"description": "Based on the `arat.world` from pull request #1205, I've created a world plugin called ARATPlugin. Here's an example of the sdf parameters that it accepts:\r\n~~~\r\n<plugin name=\"arat_plugin\" filename=\"libARATPlugin.so\">\r\n  <modelName>cricket_ball</modelName>\r\n  <modelName>wood_block_10_2_1cm</modelName>\r\n  <modelName>wood_cube_10cm</modelName>\r\n  <modelName>wood_cube_7_5cm</modelName>\r\n  <modelName>wood_cube_5cm</modelName>\r\n  <modelName>wood_cube_2_5cm</modelName>\r\n  <initialTask>wood_blocks</initialTask>\r\n  <task name=\"default\">\r\n    <pose name=\"cricket_ball\"       > 0.6 -0.25 1.015 0 0 0</pose>\r\n    <pose name=\"wood_block_10_2_1cm\"> 0.4 -0.25 1.015 0 0 0</pose>\r\n    <pose name=\"wood_cube_10cm\"     > 0.2 -0.25 1.015 0 0 0</pose>\r\n    <pose name=\"wood_cube_7_5cm\"    > 0.0 -0.25 1.015 0 0 0</pose>\r\n    <pose name=\"wood_cube_5cm\"      >-0.2 -0.25 1.015 0 0 0</pose>\r\n    <pose name=\"wood_cube_2_5cm\"    >-0.4 -0.25 1.015 0 0 0</pose>\r\n  </task>\r\n  <task name=\"cricket_ball\">\r\n    <pose name=\"cricket_ball\"       > 0.6 -0.25 1.015 0 0 0</pose>\r\n  </task>\r\n  <task name=\"wood_blocks\">\r\n    <pose name=\"wood_block_10_2_1cm\"> 0.4 -0.25 1.015 0 0 0</pose>\r\n    <pose name=\"wood_cube_10cm\"     > 0.2 -0.25 1.015 0 0 0</pose>\r\n    <pose name=\"wood_cube_7_5cm\"    > 0.0 -0.25 1.015 0 0 0</pose>\r\n    <pose name=\"wood_cube_5cm\"      >-0.2 -0.25 1.015 0 0 0</pose>\r\n    <pose name=\"wood_cube_2_5cm\"    >-0.4 -0.25 1.015 0 0 0</pose>\r\n  </task>\r\n</plugin>\r\n~~~\r\n\r\nFirst, it accepts a sequence of `modelName` elements, with the names of models that should be pre-arranged for each task. The plugin stores the initial pose of these models internally.\r\n\r\nIt also accepts a sequence of `task` elements that have a name attribute (for task name) and child `pose` elements. The child pose elements have a name attribute that should match one of the `modelName` tags, and then pose data. Note that a task doesn't require all poses to be listed (this will be explained below).\r\n\r\nThere is also an `initialTask` element that should match one of the task names.\r\n\r\nThere is a `ARATPlugin::SetTask` API to switch between tasks (eventually it will listen to a gzstring topic). This function does the following:\r\n\r\n* Iterate through all the models listed in the `modelName` tags.\r\n    * If a given model has a `pose` tag defined under the specified task, then reset the pose of that model using the task-specific pose.\r\n    * If the given model doesn't have a `pose` tag specified, then reset the pose of that model to its initial pose.\r\n\r\nTo illustrate how this might be used, I moved the initial pose of all the objects from the table to 250 meters away (`y=-0.25` -> `y=250`). Then if you set `cricket_ball` as the initial task, it will only put the cricket ball on the table. If you set `wood_blocks` as the initial task, it will put the wood blocks on the table but leave the cricket ball far away.\r\n\r\nThe nice thing is that you can change the tasks by modifying the plugin xml tags without recompiling the plugin. It's actually kind of a general plugin. Should we give it a more general name than `ARATPlugin`?\r\n\r\nI also added a `Model::ResetPhysicsStates` API to call `Link::ResetPhysicsStates` for each link in a model. This will reset the velocities to zero and is called whenever we change the pose of an object.", "title": "Add ARATPlugin to arrange models for tasks", "destination": {"commit": {"hash": "034a329082ff", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/034a329082ff.json"}, "html": {"href": "#!/osrf/gazebo/commits/034a329082ff"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo_4.0"}}, "reason": "", "source": {"commit": {"hash": "1364b6e4bc2a", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/1364b6e4bc2a.json"}, "html": {"href": "#!/osrf/gazebo/commits/1364b6e4bc2a"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "arat_plugin"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2014-09-22T17:46:27.603203+00:00"}, "pull_request": {"type": "pullrequest", "id": 1208, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1208.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1208"}}, "title": "Add ArrangePlugin to arrange models for tasks"}}]}