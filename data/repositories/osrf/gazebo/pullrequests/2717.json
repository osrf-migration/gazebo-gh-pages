{"rendered": {"description": {"raw": "ODE has contact parameters `slip1` and `slip2` (corresponding to friction directions) that are described as \"force-dependent slip\" in the [ode handbook](http://ode.org/ode-latest-userguide.html#sec_7_3_7). We expose these parameters in sdformat's surface.sdf (see an update to the [documentation here](https://bitbucket.org/osrf/sdformat/pull-requests/343)), but I didn't know how to use them until recently. The slip parameters are implemented as constraint-force mixing (cfm) on the friction constraints and are physically equivalent to the inverse of a viscous damping coefficient. When the slip is `0` in a given direction, the viscous damping is infinite, and sliding will only occur if the applied forces exceed the friction limit. When the slip is non-zero, however, applying forces less than the friction limit can generate some sliding. The amount of slip depends on the magnitude of the force, the slip coefficient, and the number of contact points.\r\n\r\nTo demonstrate this behavior, I made an example world with several models that have 1, 2, or 3 collision spheres on a ground plane (spheres were chosen since they have one contact point with a plane). A lateral gravity component is applied, and the models slide in proportion to the following quantity: `mass * slip / contact_count`. The models are colored so that each color corresponds to a constant value of `mass * slip`. This behavior is checked in a test case added to `INTEGRATION_physics_friction`. Note that the parameters are chosen so that 3 pairs of models (one of each color) have identical steady-state velocity.\r\n\r\n![friction_spheres.gif](data/bitbucket.org/repo/jgXqbo/images/42019069-friction_spheres.gif)\r\n\r\nIn order for this test to pass, I had to modify the `ODEPhysics::Collide` function to merge slip coefficients by a sum instead of `std::min` function. The `std::min` makes sense for merging friction coefficients, but slip values have an inverse relationship to damping, and two surfaces contacting with viscous damping is like having viscous dampers in series, in which case it is appropriate to add the inverses together (just like is done for [springs in series](https://en.wikipedia.org/wiki/Series_and_parallel_springs)).", "markup": "markdown", "html": "<p>ODE has contact parameters <code>slip1</code> and <code>slip2</code> (corresponding to friction directions) that are described as \"force-dependent slip\" in the <a data-is-external-link=\"true\" href=\"http://ode.org/ode-latest-userguide.html#sec_7_3_7\" rel=\"nofollow\">ode handbook</a>. We expose these parameters in sdformat's surface.sdf (see an update to the <a data-is-external-link=\"true\" href=\"https://bitbucket.org/osrf/sdformat/pull-requests/343\" rel=\"nofollow\">documentation here</a>), but I didn't know how to use them until recently. The slip parameters are implemented as constraint-force mixing (cfm) on the friction constraints and are physically equivalent to the inverse of a viscous damping coefficient. When the slip is <code>0</code> in a given direction, the viscous damping is infinite, and sliding will only occur if the applied forces exceed the friction limit. When the slip is non-zero, however, applying forces less than the friction limit can generate some sliding. The amount of slip depends on the magnitude of the force, the slip coefficient, and the number of contact points.</p>\n<p>To demonstrate this behavior, I made an example world with several models that have 1, 2, or 3 collision spheres on a ground plane (spheres were chosen since they have one contact point with a plane). A lateral gravity component is applied, and the models slide in proportion to the following quantity: <code>mass * slip / contact_count</code>. The models are colored so that each color corresponds to a constant value of <code>mass * slip</code>. This behavior is checked in a test case added to <code>INTEGRATION_physics_friction</code>. Note that the parameters are chosen so that 3 pairs of models (one of each color) have identical steady-state velocity.</p>\n<p><img alt=\"friction_spheres.gif\" src=\"data/bitbucket.org/repo/jgXqbo/images/42019069-friction_spheres.gif\" /></p>\n<p>In order for this test to pass, I had to modify the <code>ODEPhysics::Collide</code> function to merge slip coefficients by a sum instead of <code>std::min</code> function. The <code>std::min</code> makes sense for merging friction coefficients, but slip values have an inverse relationship to damping, and two surfaces contacting with viscous damping is like having viscous dampers in series, in which case it is appropriate to add the inverses together (just like is done for <a data-is-external-link=\"true\" href=\"https://en.wikipedia.org/wiki/Series_and_parallel_springs\" rel=\"nofollow\">springs in series</a>).</p>", "type": "rendered"}, "title": {"raw": "ODE slip parameter example world and test", "markup": "markdown", "html": "<p>ODE slip parameter example world and test</p>", "type": "rendered"}}, "type": "pullrequest", "description": "ODE has contact parameters `slip1` and `slip2` (corresponding to friction directions) that are described as \"force-dependent slip\" in the [ode handbook](http://ode.org/ode-latest-userguide.html#sec_7_3_7). We expose these parameters in sdformat's surface.sdf (see an update to the [documentation here](https://bitbucket.org/osrf/sdformat/pull-requests/343)), but I didn't know how to use them until recently. The slip parameters are implemented as constraint-force mixing (cfm) on the friction constraints and are physically equivalent to the inverse of a viscous damping coefficient. When the slip is `0` in a given direction, the viscous damping is infinite, and sliding will only occur if the applied forces exceed the friction limit. When the slip is non-zero, however, applying forces less than the friction limit can generate some sliding. The amount of slip depends on the magnitude of the force, the slip coefficient, and the number of contact points.\r\n\r\nTo demonstrate this behavior, I made an example world with several models that have 1, 2, or 3 collision spheres on a ground plane (spheres were chosen since they have one contact point with a plane). A lateral gravity component is applied, and the models slide in proportion to the following quantity: `mass * slip / contact_count`. The models are colored so that each color corresponds to a constant value of `mass * slip`. This behavior is checked in a test case added to `INTEGRATION_physics_friction`. Note that the parameters are chosen so that 3 pairs of models (one of each color) have identical steady-state velocity.\r\n\r\n![friction_spheres.gif](data/bitbucket.org/repo/jgXqbo/images/42019069-friction_spheres.gif)\r\n\r\nIn order for this test to pass, I had to modify the `ODEPhysics::Collide` function to merge slip coefficients by a sum instead of `std::min` function. The `std::min` makes sense for merging friction coefficients, but slip values have an inverse relationship to damping, and two surfaces contacting with viscous damping is like having viscous dampers in series, in which case it is appropriate to add the inverses together (just like is done for [springs in series](https://en.wikipedia.org/wiki/Series_and_parallel_springs)).", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/pullrequests/2717/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diffstat/osrf/gazebo:9210f981b0b1%0Daf1c4470209d?from_pullrequest_id=2717"}, "commits": {"href": "data/repositories/osrf/gazebo/pullrequests/2717/commits.json"}, "self": {"href": "data/repositories/osrf/gazebo/pullrequests/2717.json"}, "comments": {"href": "data/repositories/osrf/gazebo/pullrequests/2717/comments_page=1.json"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/pullrequests/2717/merge"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2717"}, "activity": {"href": "data/repositories/osrf/gazebo/pullrequests/2717/activity.json"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:9210f981b0b1%0Daf1c4470209d?from_pullrequest_id=2717"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/pullrequests/2717/approve"}, "statuses": {"href": "data/repositories/osrf/gazebo/pullrequests/2717/statuses_page=1.json"}}, "title": "ODE slip parameter example world and test", "close_source_branch": true, "reviewers": [], "id": 2717, "destination": {"commit": {"hash": "af1c4470209d", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/af1c4470209d.json"}, "html": {"href": "#!/osrf/gazebo/commits/af1c4470209d"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "created_on": "2017-05-26T08:53:49.980212+00:00", "summary": {"raw": "ODE has contact parameters `slip1` and `slip2` (corresponding to friction directions) that are described as \"force-dependent slip\" in the [ode handbook](http://ode.org/ode-latest-userguide.html#sec_7_3_7). We expose these parameters in sdformat's surface.sdf (see an update to the [documentation here](https://bitbucket.org/osrf/sdformat/pull-requests/343)), but I didn't know how to use them until recently. The slip parameters are implemented as constraint-force mixing (cfm) on the friction constraints and are physically equivalent to the inverse of a viscous damping coefficient. When the slip is `0` in a given direction, the viscous damping is infinite, and sliding will only occur if the applied forces exceed the friction limit. When the slip is non-zero, however, applying forces less than the friction limit can generate some sliding. The amount of slip depends on the magnitude of the force, the slip coefficient, and the number of contact points.\r\n\r\nTo demonstrate this behavior, I made an example world with several models that have 1, 2, or 3 collision spheres on a ground plane (spheres were chosen since they have one contact point with a plane). A lateral gravity component is applied, and the models slide in proportion to the following quantity: `mass * slip / contact_count`. The models are colored so that each color corresponds to a constant value of `mass * slip`. This behavior is checked in a test case added to `INTEGRATION_physics_friction`. Note that the parameters are chosen so that 3 pairs of models (one of each color) have identical steady-state velocity.\r\n\r\n![friction_spheres.gif](data/bitbucket.org/repo/jgXqbo/images/42019069-friction_spheres.gif)\r\n\r\nIn order for this test to pass, I had to modify the `ODEPhysics::Collide` function to merge slip coefficients by a sum instead of `std::min` function. The `std::min` makes sense for merging friction coefficients, but slip values have an inverse relationship to damping, and two surfaces contacting with viscous damping is like having viscous dampers in series, in which case it is appropriate to add the inverses together (just like is done for [springs in series](https://en.wikipedia.org/wiki/Series_and_parallel_springs)).", "markup": "markdown", "html": "<p>ODE has contact parameters <code>slip1</code> and <code>slip2</code> (corresponding to friction directions) that are described as \"force-dependent slip\" in the <a data-is-external-link=\"true\" href=\"http://ode.org/ode-latest-userguide.html#sec_7_3_7\" rel=\"nofollow\">ode handbook</a>. We expose these parameters in sdformat's surface.sdf (see an update to the <a data-is-external-link=\"true\" href=\"https://bitbucket.org/osrf/sdformat/pull-requests/343\" rel=\"nofollow\">documentation here</a>), but I didn't know how to use them until recently. The slip parameters are implemented as constraint-force mixing (cfm) on the friction constraints and are physically equivalent to the inverse of a viscous damping coefficient. When the slip is <code>0</code> in a given direction, the viscous damping is infinite, and sliding will only occur if the applied forces exceed the friction limit. When the slip is non-zero, however, applying forces less than the friction limit can generate some sliding. The amount of slip depends on the magnitude of the force, the slip coefficient, and the number of contact points.</p>\n<p>To demonstrate this behavior, I made an example world with several models that have 1, 2, or 3 collision spheres on a ground plane (spheres were chosen since they have one contact point with a plane). A lateral gravity component is applied, and the models slide in proportion to the following quantity: <code>mass * slip / contact_count</code>. The models are colored so that each color corresponds to a constant value of <code>mass * slip</code>. This behavior is checked in a test case added to <code>INTEGRATION_physics_friction</code>. Note that the parameters are chosen so that 3 pairs of models (one of each color) have identical steady-state velocity.</p>\n<p><img alt=\"friction_spheres.gif\" src=\"data/bitbucket.org/repo/jgXqbo/images/42019069-friction_spheres.gif\" /></p>\n<p>In order for this test to pass, I had to modify the <code>ODEPhysics::Collide</code> function to merge slip coefficients by a sum instead of <code>std::min</code> function. The <code>std::min</code> makes sense for merging friction coefficients, but slip values have an inverse relationship to damping, and two surfaces contacting with viscous damping is like having viscous dampers in series, in which case it is appropriate to add the inverses together (just like is done for <a data-is-external-link=\"true\" href=\"https://en.wikipedia.org/wiki/Series_and_parallel_springs\" rel=\"nofollow\">springs in series</a>).</p>", "type": "rendered"}, "source": {"commit": {"hash": "2c6a46faf3cf", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/2c6a46faf3cf.json"}, "html": {"href": "#!/osrf/gazebo/commits/2c6a46faf3cf"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "ode_slip_example"}}, "comment_count": 3, "state": "MERGED", "task_count": 0, "participants": [{"role": "PARTICIPANT", "participated_on": "2017-06-03T00:53:00.555591+00:00", "type": "participant", "approved": true, "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}}, {"role": "PARTICIPANT", "participated_on": "2017-05-31T19:09:18.431170+00:00", "type": "participant", "approved": false, "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}}, {"role": "PARTICIPANT", "participated_on": "2017-05-31T19:13:57.675600+00:00", "type": "participant", "approved": true, "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}}], "reason": "", "updated_on": "2017-06-03T12:35:25.637300+00:00", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "merge_commit": {"hash": "9210f981b0b1", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/9210f981b0b1.json"}, "html": {"href": "#!/osrf/gazebo/commits/9210f981b0b1"}}}, "closed_by": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}}