{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3130/comments/117876211.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3130/_/diff#comment-117876211"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 3130, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3130.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3130"}}, "title": "Change gazebo rendering Heightmap class to compile with Ogre 1.11/1.12"}, "content": {"raw": "This PR builds on the top of [#!/osrf/gazebo/pull-requests/3129](#!/osrf/gazebo/pull-requests/3129) . The relevant commit is [https://bitbucket.org/traversaro/gazebo-21/commits/152a77d545b2e51cf7809760558578df36331b52?at=gazebo10](https://bitbucket.org/traversaro/gazebo-21/commits/152a77d545b2e51cf7809760558578df36331b52?at=gazebo10) .\n\nThis modification is in a separate commit because it is not a simple change of API of Ogre, but a more substantial change \\(done only if OGRE is >= 1.11\\).  \nThis modification is necessary because since OGRE 1.11, the once public Ogre::TerrainMaterialGeneratorA::SM2Profile::ShaderHelper  \nclass and its descent are now private classes of OGRE, see\n\n\\* [https://github.com/OGRECave/ogre/blob/master/Docs/1.11-Notes.md#other](https://github.com/OGRECave/ogre/blob/master/Docs/1.11-Notes.md#other)\n\n\\* [https://github.com/OGRECave/ogre/pull/722/commits/88d6903a0b6e3d47d477f2a18ea755804f990a2f](https://github.com/OGRECave/ogre/pull/722/commits/88d6903a0b6e3d47d477f2a18ea755804f990a2f)\n\nAs these classes are heavily used in the Heightmap class implementation \\(by accessing a protected Ogre pointer\\) we need to disable the definition of the custom terrain generator,  \nand just use the Ogre default one instead. While all the tests passes with this modification, I guess that the test do not cover the the actual rendering of the Heightmap, that is probably   \nimpacted by this change.", "markup": "markdown", "html": "<p>This PR builds on the top of <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/pull-requests/3129\" rel=\"nofollow\">#!/osrf/gazebo/pull-requests/3129</a> . The relevant commit is <a data-is-external-link=\"true\" href=\"https://bitbucket.org/traversaro/gazebo-21/commits/152a77d545b2e51cf7809760558578df36331b52?at=gazebo10\" rel=\"nofollow\">https://bitbucket.org/traversaro/gazebo-21/commits/152a77d545b2e51cf7809760558578df36331b52?at=gazebo10</a> .</p>\n<p>This modification is in a separate commit because it is not a simple change of API of Ogre, but a more substantial change (done only if OGRE is &gt;= 1.11).<br />\nThis modification is necessary because since OGRE 1.11, the once public Ogre::TerrainMaterialGeneratorA::SM2Profile::ShaderHelper<br />\nclass and its descent are now private classes of OGRE, see</p>\n<p>* <a data-is-external-link=\"true\" href=\"https://github.com/OGRECave/ogre/blob/master/Docs/1.11-Notes.md#other\" rel=\"nofollow\">https://github.com/OGRECave/ogre/blob/master/Docs/1.11-Notes.md#other</a></p>\n<p>* <a data-is-external-link=\"true\" href=\"https://github.com/OGRECave/ogre/pull/722/commits/88d6903a0b6e3d47d477f2a18ea755804f990a2f\" rel=\"nofollow\">https://github.com/OGRECave/ogre/pull/722/commits/88d6903a0b6e3d47d477f2a18ea755804f990a2f</a></p>\n<p>As these classes are heavily used in the Heightmap class implementation (by accessing a protected Ogre pointer) we need to disable the definition of the custom terrain generator,<br />\nand just use the Ogre default one instead. While all the tests passes with this modification, I guess that the test do not cover the the actual rendering of the Heightmap, that is probably <br />\nimpacted by this change.</p>", "type": "rendered"}, "created_on": "2019-09-23T08:46:51.413753+00:00", "user": {"display_name": "Silvio Traversaro", "uuid": "{34f404cb-5642-4f27-a032-e04c7143d776}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D"}, "html": {"href": "https://bitbucket.org/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6/578caaa1-056c-45a2-8bf9-bee94c3bebef/128"}}, "nickname": "traversaro", "type": "user", "account_id": "557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6"}, "updated_on": "2019-10-03T15:23:52.841611+00:00", "type": "pullrequest_comment", "id": 117876211}