{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983/comments/68129242.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983/_/diff#comment-68129242"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}, "content": {"raw": "@iche033 Sorry for the multiple updates/messages. I reorganized the fix. [https://bitbucket.org/tidota/gazebo/commits/ab66f1e5b0aaa59f5321b380a1575c059a5487c3](https://bitbucket.org/tidota/gazebo/commits/ab66f1e5b0aaa59f5321b380a1575c059a5487c3)\n\nTo the best of my knowledge, the original code creates a visual object if its parent visual is scene/world or already exists. This causes the problem of duplicating a visual object if the parent is scene/world and it does not exist yet at the very beginning. To solve this problem, we need to make sure that scene/world, or worldvisual, exists. But the other problem \\(the regression\\) appeared because the id of worldvisual is set to 0, which is different from that of the world in the physics engine. So the current patch checks the `parent_name` instead of id.\n\nI just tested on my local machine. The two tests \\(INTEGRATION\\_visual and UNIT\\_Scene\\_Test\\) both passed, but do you think there is a problem?", "markup": "markdown", "html": "<p>@iche033 Sorry for the multiple updates/messages. I reorganized the fix. <a data-is-external-link=\"true\" href=\"https://bitbucket.org/tidota/gazebo/commits/ab66f1e5b0aaa59f5321b380a1575c059a5487c3\" rel=\"nofollow\">https://bitbucket.org/tidota/gazebo/commits/ab66f1e5b0aaa59f5321b380a1575c059a5487c3</a></p>\n<p>To the best of my knowledge, the original code creates a visual object if its parent visual is scene/world or already exists. This causes the problem of duplicating a visual object if the parent is scene/world and it does not exist yet at the very beginning. To solve this problem, we need to make sure that scene/world, or worldvisual, exists. But the other problem (the regression) appeared because the id of worldvisual is set to 0, which is different from that of the world in the physics engine. So the current patch checks the <code>parent_name</code> instead of id.</p>\n<p>I just tested on my local machine. The two tests (INTEGRATION_visual and UNIT_Scene_Test) both passed, but do you think there is a problem?</p>", "type": "rendered"}, "created_on": "2018-06-25T20:21:49.317490+00:00", "user": {"display_name": "Tetsuya Idota", "uuid": "{e3645666-978a-455a-85c4-dcc342a8d822}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D"}, "html": {"href": "https://bitbucket.org/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/8cb890d7583a1f6b8a01419ebed6ac26d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsTI-1.png"}}, "nickname": "tidota", "type": "user", "account_id": "5aa97fa8e78b8c2a7c886fd3"}, "updated_on": "2018-06-25T20:24:38.373979+00:00", "type": "pullrequest_comment", "id": 68129242}