{"pagelen": 50, "values": [{"update": {"description": "A patch for the problem when a visual message is sent just after the simulator starts.\r\n\r\nIf a message to modify an existing visual object is sent to ~/visual topic at the very beginning, a duplicate visual object is created and the original one is never updated.\r\n\r\nThanks to @iche033 , the problem was found and fixed as follows.\r\n\r\nThis update should be applied to gazebo7 and later versions.", "title": "Patch for visual message process", "destination": {"commit": {"hash": "f313343726a8", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/f313343726a8.json"}, "html": {"href": "#!/osrf/gazebo/commits/f313343726a8"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "ab66f1e5b0aa", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/tidota/gazebo/commit/ab66f1e5b0aa"}, "html": {"href": "https://bitbucket.org/tidota/gazebo/commits/ab66f1e5b0aa"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/tidota/gazebo"}, "html": {"href": "https://bitbucket.org/tidota/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{9b232d84-6bca-45a4-84c7-bfa140709a88}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "tidota/gazebo", "uuid": "{9b232d84-6bca-45a4-84c7-bfa140709a88}"}, "branch": {"name": "visual_message_proc"}}, "state": "MERGED", "author": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "date": "2018-06-27T17:36:26.125324+00:00"}, "pull_request": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}}, {"approval": {"date": "2018-06-27T17:35:43.223796+00:00", "pullrequest": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}, "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}}, "pull_request": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}}, {"approval": {"date": "2018-06-26T17:51:10.987082+00:00", "pullrequest": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}, "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}}, "pull_request": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983/comments/68254024.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983/_/diff#comment-68254024"}}, "parent": {"id": 68144969, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983/comments/68144969.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983/_/diff#comment-68144969"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}, "content": {"raw": "great, thanks for the fixes", "markup": "markdown", "html": "<p>great, thanks for the fixes</p>", "type": "rendered"}, "created_on": "2018-06-26T17:51:07.198528+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2018-06-26T17:51:07.205894+00:00", "type": "pullrequest_comment", "id": 68254024}, "pull_request": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983/comments/68144969.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983/_/diff#comment-68144969"}}, "parent": {"id": 68134681, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983/comments/68134681.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983/_/diff#comment-68134681"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}, "content": {"raw": "Thank you! Seems like the error disappeared. [https://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr\\_any-xenial-amd64-gpu-nvidia/640/testReport/](https://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-xenial-amd64-gpu-nvidia/640/testReport/)", "markup": "markdown", "html": "<p>Thank you! Seems like the error disappeared. <a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-xenial-amd64-gpu-nvidia/640/testReport/\" rel=\"nofollow\">https://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-xenial-amd64-gpu-nvidia/640/testReport/</a></p>", "type": "rendered"}, "created_on": "2018-06-26T00:55:41.585271+00:00", "user": {"display_name": "Tetsuya Idota", "uuid": "{e3645666-978a-455a-85c4-dcc342a8d822}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D"}, "html": {"href": "https://bitbucket.org/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/8cb890d7583a1f6b8a01419ebed6ac26d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsTI-1.png"}}, "nickname": "tidota", "type": "user", "account_id": "5aa97fa8e78b8c2a7c886fd3"}, "updated_on": "2018-06-26T00:55:41.657770+00:00", "type": "pullrequest_comment", "id": 68144969}, "pull_request": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983/comments/68134681.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983/_/diff#comment-68134681"}}, "parent": {"id": 68129242, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983/comments/68129242.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983/_/diff#comment-68129242"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}, "content": {"raw": "ok I see. That looks good. Let\u2019s keep this patch simple and we can ticket an issue about the world id mismatch between rendering and physics\n\nOne more [xenial-nvidia jenkins build](https://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-xenial-amd64-gpu-nvidia/640/)\n\n\u200c", "markup": "markdown", "html": "<p>ok I see. That looks good. Let\u2019s keep this patch simple and we can ticket an issue about the world id mismatch between rendering and physics</p>\n<p>One more <a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-xenial-amd64-gpu-nvidia/640/\" rel=\"nofollow\">xenial-nvidia jenkins build</a></p>\n<p>\u200c</p>", "type": "rendered"}, "created_on": "2018-06-25T21:27:58.997009+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2018-06-25T21:27:59.006520+00:00", "type": "pullrequest_comment", "id": 68134681}, "pull_request": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983/comments/68129242.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983/_/diff#comment-68129242"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}, "content": {"raw": "@iche033 Sorry for the multiple updates/messages. I reorganized the fix. [https://bitbucket.org/tidota/gazebo/commits/ab66f1e5b0aaa59f5321b380a1575c059a5487c3](https://bitbucket.org/tidota/gazebo/commits/ab66f1e5b0aaa59f5321b380a1575c059a5487c3)\n\nTo the best of my knowledge, the original code creates a visual object if its parent visual is scene/world or already exists. This causes the problem of duplicating a visual object if the parent is scene/world and it does not exist yet at the very beginning. To solve this problem, we need to make sure that scene/world, or worldvisual, exists. But the other problem \\(the regression\\) appeared because the id of worldvisual is set to 0, which is different from that of the world in the physics engine. So the current patch checks the `parent_name` instead of id.\n\nI just tested on my local machine. The two tests \\(INTEGRATION\\_visual and UNIT\\_Scene\\_Test\\) both passed, but do you think there is a problem?", "markup": "markdown", "html": "<p>@iche033 Sorry for the multiple updates/messages. I reorganized the fix. <a data-is-external-link=\"true\" href=\"https://bitbucket.org/tidota/gazebo/commits/ab66f1e5b0aaa59f5321b380a1575c059a5487c3\" rel=\"nofollow\">https://bitbucket.org/tidota/gazebo/commits/ab66f1e5b0aaa59f5321b380a1575c059a5487c3</a></p>\n<p>To the best of my knowledge, the original code creates a visual object if its parent visual is scene/world or already exists. This causes the problem of duplicating a visual object if the parent is scene/world and it does not exist yet at the very beginning. To solve this problem, we need to make sure that scene/world, or worldvisual, exists. But the other problem (the regression) appeared because the id of worldvisual is set to 0, which is different from that of the world in the physics engine. So the current patch checks the <code>parent_name</code> instead of id.</p>\n<p>I just tested on my local machine. The two tests (INTEGRATION_visual and UNIT_Scene_Test) both passed, but do you think there is a problem?</p>", "type": "rendered"}, "created_on": "2018-06-25T20:21:49.317490+00:00", "user": {"display_name": "Tetsuya Idota", "uuid": "{e3645666-978a-455a-85c4-dcc342a8d822}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D"}, "html": {"href": "https://bitbucket.org/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/8cb890d7583a1f6b8a01419ebed6ac26d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsTI-1.png"}}, "nickname": "tidota", "type": "user", "account_id": "5aa97fa8e78b8c2a7c886fd3"}, "updated_on": "2018-06-25T20:24:38.373979+00:00", "type": "pullrequest_comment", "id": 68129242}, "pull_request": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}}, {"update": {"description": "A patch for the problem when a visual message is sent just after the simulator starts.\r\n\r\nIf a message to modify an existing visual object is sent to ~/visual topic at the very beginning, a duplicate visual object is created and the original one is never updated.\r\n\r\nThanks to @iche033 , the problem was found and fixed as follows.\r\n\r\nThis update should be applied to gazebo7 and later versions.", "title": "Patch for visual message process", "destination": {"commit": {"hash": "f313343726a8", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/f313343726a8.json"}, "html": {"href": "#!/osrf/gazebo/commits/f313343726a8"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "ab66f1e5b0aa", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/tidota/gazebo/commit/ab66f1e5b0aa"}, "html": {"href": "https://bitbucket.org/tidota/gazebo/commits/ab66f1e5b0aa"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/tidota/gazebo"}, "html": {"href": "https://bitbucket.org/tidota/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{9b232d84-6bca-45a4-84c7-bfa140709a88}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "tidota/gazebo", "uuid": "{9b232d84-6bca-45a4-84c7-bfa140709a88}"}, "branch": {"name": "visual_message_proc"}}, "state": "OPEN", "author": {"display_name": "Tetsuya Idota", "uuid": "{e3645666-978a-455a-85c4-dcc342a8d822}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D"}, "html": {"href": "https://bitbucket.org/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/8cb890d7583a1f6b8a01419ebed6ac26d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsTI-1.png"}}, "nickname": "tidota", "type": "user", "account_id": "5aa97fa8e78b8c2a7c886fd3"}, "date": "2018-06-25T20:08:30.809967+00:00"}, "pull_request": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983/comments/68110907.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983/_/diff#comment-68110907"}}, "parent": {"id": 68103803, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983/comments/68103803.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983/_/diff#comment-68103803"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}, "content": {"raw": "Scene cannot directly get the id of the world in the physics engine and cannot tell if the parent object is the world or not by the id, can it? But, since a visual message always contains `parent_name`, it does not cause a problem in the patch.\n\nSo I think it should be OK at the moment, but do you find any further problem?\n\nMaybe, a potential problem may be that, at the beginning, some one sends a visual message without `parent_name` but `parent_id` representing the world.\n\n**Update**: Oh, sorry for tons of messages, but `parent_name` is a required field for msgs::Visual, isn\u2019t it? I think I can reorganize the if statement parts.", "markup": "markdown", "html": "<p>Scene cannot directly get the id of the world in the physics engine and cannot tell if the parent object is the world or not by the id, can it? But, since a visual message always contains <code>parent_name</code>, it does not cause a problem in the patch.</p>\n<p>So I think it should be OK at the moment, but do you find any further problem?</p>\n<p>Maybe, a potential problem may be that, at the beginning, some one sends a visual message without <code>parent_name</code> but <code>parent_id</code> representing the world.</p>\n<p><strong>Update</strong>: Oh, sorry for tons of messages, but <code>parent_name</code> is a required field for msgs::Visual, isn\u2019t it? I think I can reorganize the if statement parts.</p>", "type": "rendered"}, "created_on": "2018-06-25T16:58:46.529685+00:00", "user": {"display_name": "Tetsuya Idota", "uuid": "{e3645666-978a-455a-85c4-dcc342a8d822}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D"}, "html": {"href": "https://bitbucket.org/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/8cb890d7583a1f6b8a01419ebed6ac26d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsTI-1.png"}}, "nickname": "tidota", "type": "user", "account_id": "5aa97fa8e78b8c2a7c886fd3"}, "updated_on": "2018-06-25T17:29:19.055151+00:00", "type": "pullrequest_comment", "id": 68110907}, "pull_request": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983/comments/68103803.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983/_/diff#comment-68103803"}}, "parent": {"id": 67970712, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983/comments/67970712.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983/_/diff#comment-67970712"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}, "content": {"raw": "Oh, I think I provided a wrong information. `parent_name` and `parent_id` are consistent \\(I thought the world\u2019s id was always 0.\\)\n\nAfter further observation, I think the problem was that it fell in the second condition `_msg->has_parent_id()` when a visual object with world/scene as its parent was to be created. Since the world visual is not included in `this->dataPtr->visuals`, it always returns false although it must create an object.\n\nI will revert the last update and refix the problem.", "markup": "markdown", "html": "<p>Oh, I think I provided a wrong information. <code>parent_name</code> and <code>parent_id</code> are consistent (I thought the world\u2019s id was always 0.)</p>\n<p>After further observation, I think the problem was that it fell in the second condition <code>_msg-&gt;has_parent_id()</code> when a visual object with world/scene as its parent was to be created. Since the world visual is not included in <code>this-&gt;dataPtr-&gt;visuals</code>, it always returns false although it must create an object.</p>\n<p>I will revert the last update and refix the problem.</p>", "type": "rendered"}, "created_on": "2018-06-25T15:54:40.005697+00:00", "user": {"display_name": "Tetsuya Idota", "uuid": "{e3645666-978a-455a-85c4-dcc342a8d822}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D"}, "html": {"href": "https://bitbucket.org/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/8cb890d7583a1f6b8a01419ebed6ac26d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsTI-1.png"}}, "nickname": "tidota", "type": "user", "account_id": "5aa97fa8e78b8c2a7c886fd3"}, "updated_on": "2018-06-25T15:54:40.077483+00:00", "type": "pullrequest_comment", "id": 68103803}, "pull_request": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983/comments/67991424.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983/_/diff#comment-67991424"}}, "parent": {"id": 67976068, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983/comments/67976068.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983/_/diff#comment-67976068"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}, "content": {"raw": "The error disappeared: [https://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr\\_any-xenial-amd64-gpu-nvidia/639/testReport/](https://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-xenial-amd64-gpu-nvidia/639/testReport/)\n\nBut there are still a few errors. Are these related to this patch?", "markup": "markdown", "html": "<p>The error disappeared: <a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-xenial-amd64-gpu-nvidia/639/testReport/\" rel=\"nofollow\">https://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-xenial-amd64-gpu-nvidia/639/testReport/</a></p>\n<p>But there are still a few errors. Are these related to this patch?</p>", "type": "rendered"}, "created_on": "2018-06-23T00:02:01.781792+00:00", "user": {"display_name": "Tetsuya Idota", "uuid": "{e3645666-978a-455a-85c4-dcc342a8d822}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D"}, "html": {"href": "https://bitbucket.org/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/8cb890d7583a1f6b8a01419ebed6ac26d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsTI-1.png"}}, "nickname": "tidota", "type": "user", "account_id": "5aa97fa8e78b8c2a7c886fd3"}, "updated_on": "2018-06-23T00:02:01.864662+00:00", "type": "pullrequest_comment", "id": 67991424}, "pull_request": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983/comments/67976068.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983/_/diff#comment-67976068"}}, "parent": {"id": 67975213, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983/comments/67975213.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983/_/diff#comment-67975213"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}, "content": {"raw": "great, I\u2019ve queued another [xenial-nividial jenkins build](https://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-xenial-amd64-gpu-nvidia/)", "markup": "markdown", "html": "<p>great, I\u2019ve queued another <a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-xenial-amd64-gpu-nvidia/\" rel=\"nofollow\">xenial-nividial jenkins build</a></p>", "type": "rendered"}, "created_on": "2018-06-22T18:44:14.449757+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2018-06-22T18:44:14.456689+00:00", "type": "pullrequest_comment", "id": 67976068}, "pull_request": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983/comments/67975213.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983/_/diff#comment-67975213"}}, "parent": {"id": 67970712, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983/comments/67970712.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983/_/diff#comment-67970712"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}, "content": {"raw": "Updated: [https://bitbucket.org/tidota/gazebo/commits/00da3bb5a061ed7183db9ee667d46d7237a105b6?at=gazebo7](https://bitbucket.org/tidota/gazebo/commits/00da3bb5a061ed7183db9ee667d46d7237a105b6?at=gazebo7)\n\nIt should fix the regression issue and pass both UNIT\\_Scene\\_TEST and INTEGRATION\\_visual..", "markup": "markdown", "html": "<p>Updated: <a data-is-external-link=\"true\" href=\"https://bitbucket.org/tidota/gazebo/commits/00da3bb5a061ed7183db9ee667d46d7237a105b6?at=gazebo7\" rel=\"nofollow\">https://bitbucket.org/tidota/gazebo/commits/00da3bb5a061ed7183db9ee667d46d7237a105b6?at=gazebo7</a></p>\n<p>It should fix the regression issue and pass both UNIT_Scene_TEST and INTEGRATION_visual..</p>", "type": "rendered"}, "created_on": "2018-06-22T18:32:59.664467+00:00", "user": {"display_name": "Tetsuya Idota", "uuid": "{e3645666-978a-455a-85c4-dcc342a8d822}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D"}, "html": {"href": "https://bitbucket.org/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/8cb890d7583a1f6b8a01419ebed6ac26d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsTI-1.png"}}, "nickname": "tidota", "type": "user", "account_id": "5aa97fa8e78b8c2a7c886fd3"}, "updated_on": "2018-06-22T18:32:59.727631+00:00", "type": "pullrequest_comment", "id": 67975213}, "pull_request": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}}, {"update": {"description": "A patch for the problem when a visual message is sent just after the simulator starts.\r\n\r\nIf a message to modify an existing visual object is sent to ~/visual topic at the very beginning, a duplicate visual object is created and the original one is never updated.\r\n\r\nThanks to @iche033 , the problem was found and fixed as follows.\r\n\r\nThis update should be applied to gazebo7 and later versions.", "title": "Patch for visual message process", "destination": {"commit": {"hash": "f313343726a8", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/f313343726a8.json"}, "html": {"href": "#!/osrf/gazebo/commits/f313343726a8"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "00da3bb5a061", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/tidota/gazebo/commit/00da3bb5a061"}, "html": {"href": "https://bitbucket.org/tidota/gazebo/commits/00da3bb5a061"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/tidota/gazebo"}, "html": {"href": "https://bitbucket.org/tidota/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{9b232d84-6bca-45a4-84c7-bfa140709a88}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "tidota/gazebo", "uuid": "{9b232d84-6bca-45a4-84c7-bfa140709a88}"}, "branch": {"name": "visual_message_proc"}}, "state": "OPEN", "author": {"display_name": "Tetsuya Idota", "uuid": "{e3645666-978a-455a-85c4-dcc342a8d822}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D"}, "html": {"href": "https://bitbucket.org/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/8cb890d7583a1f6b8a01419ebed6ac26d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsTI-1.png"}}, "nickname": "tidota", "type": "user", "account_id": "5aa97fa8e78b8c2a7c886fd3"}, "date": "2018-06-22T18:29:54.167566+00:00"}, "pull_request": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983/comments/67970712.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983/_/diff#comment-67970712"}}, "parent": {"id": 67969640, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983/comments/67969640.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983/_/diff#comment-67969640"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}, "content": {"raw": "I see, thanks for looking into this. Interesting that the `parent_name` and `parent_id` are inconsistent. We may have found another bug.\n\nI\u2019ll try out your changes when they are ready", "markup": "markdown", "html": "<p>I see, thanks for looking into this. Interesting that the <code>parent_name</code> and <code>parent_id</code> are inconsistent. We may have found another bug.</p>\n<p>I\u2019ll try out your changes when they are ready</p>", "type": "rendered"}, "created_on": "2018-06-22T17:42:57.355255+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2018-06-22T17:42:57.362928+00:00", "type": "pullrequest_comment", "id": 67970712}, "pull_request": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983/comments/67969640.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983/_/diff#comment-67969640"}}, "parent": {"id": 67885577, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983/comments/67885577.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983/_/diff#comment-67885577"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}, "content": {"raw": "In the testing code, the function call of `event::Events::preRender();` seems to send visual messages. Without this patch, visual objects directly attached to the root \\(i.e., ground\\_plane and the three models\\) are created for the first time, but the patch apparently hinders this process and makes them send second messages, which successfully create visual objects.  \nI think the first unsuccessful message goes to the second condition. As I checked the messages, it contains the parent name which is identical to Scene\u2019s name and parent id was 19, which is not Scene\u2019s id. And it just returns since a visual object with id 19 does not exist.  \n  \nI will update the code considering this. Let me know if this is wrong. ", "markup": "markdown", "html": "<p>In the testing code, the function call of <code>event::Events::preRender();</code> seems to send visual messages. Without this patch, visual objects directly attached to the root (i.e., ground_plane and the three models) are created for the first time, but the patch apparently hinders this process and makes them send second messages, which successfully create visual objects.<br />\nI think the first unsuccessful message goes to the second condition. As I checked the messages, it contains the parent name which is identical to Scene\u2019s name and parent id was 19, which is not Scene\u2019s id. And it just returns since a visual object with id 19 does not exist.  </p>\n<p>I will update the code considering this. Let me know if this is wrong. </p>", "type": "rendered"}, "created_on": "2018-06-22T17:30:31.198359+00:00", "user": {"display_name": "Tetsuya Idota", "uuid": "{e3645666-978a-455a-85c4-dcc342a8d822}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D"}, "html": {"href": "https://bitbucket.org/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/8cb890d7583a1f6b8a01419ebed6ac26d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsTI-1.png"}}, "nickname": "tidota", "type": "user", "account_id": "5aa97fa8e78b8c2a7c886fd3"}, "updated_on": "2018-06-22T17:30:31.267737+00:00", "type": "pullrequest_comment", "id": 67969640}, "pull_request": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983/comments/67885577.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983/_/diff#comment-67885577"}}, "parent": {"id": 67882501, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983/comments/67882501.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983/_/diff#comment-67882501"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}, "content": {"raw": "Thanks, good to know that.\n\nThe difference which this patch causes is that a visual object will not be created if a message with parent\\_id but no parent\\_name is sent, isn\u2019t it? Could there be any other possible effect?", "markup": "markdown", "html": "<p>Thanks, good to know that.</p>\n<p>The difference which this patch causes is that a visual object will not be created if a message with parent_id but no parent_name is sent, isn\u2019t it? Could there be any other possible effect?</p>", "type": "rendered"}, "created_on": "2018-06-22T02:26:11.436053+00:00", "user": {"display_name": "Tetsuya Idota", "uuid": "{e3645666-978a-455a-85c4-dcc342a8d822}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D"}, "html": {"href": "https://bitbucket.org/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/8cb890d7583a1f6b8a01419ebed6ac26d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsTI-1.png"}}, "nickname": "tidota", "type": "user", "account_id": "5aa97fa8e78b8c2a7c886fd3"}, "updated_on": "2018-06-22T02:26:11.492475+00:00", "type": "pullrequest_comment", "id": 67885577}, "pull_request": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983/comments/67882501.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983/_/diff#comment-67882501"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}, "content": {"raw": "I verified that the `Scene::RemoveModelVisual` test doesn\u2019t fail before these changes. So it\u2019s a regression that needs to be fixed", "markup": "markdown", "html": "<p>I verified that the <code>Scene::RemoveModelVisual</code> test doesn\u2019t fail before these changes. So it\u2019s a regression that needs to be fixed</p>", "type": "rendered"}, "created_on": "2018-06-22T00:55:50.119039+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2018-06-22T00:55:50.126173+00:00", "type": "pullrequest_comment", "id": 67882501}, "pull_request": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983/comments/67877670.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983/_/diff#comment-67877670"}}, "parent": {"id": 67859349, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983/comments/67859349.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983/_/diff#comment-67859349"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}, "content": {"raw": "`Scene::RemoveVisualizations`is for removing  visual objects that are not associated with a model, link, visual, or collision. So it removes visuals \\(that are created on gzclient\\) like laser scan visualizations, joint arrows, CoM, etc. ", "markup": "markdown", "html": "<p><code>Scene::RemoveVisualizations</code>is for removing  visual objects that are not associated with a model, link, visual, or collision. So it removes visuals (that are created on gzclient) like laser scan visualizations, joint arrows, CoM, etc. </p>", "type": "rendered"}, "created_on": "2018-06-21T22:53:06.801473+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2018-06-21T22:53:06.809027+00:00", "type": "pullrequest_comment", "id": 67877670}, "pull_request": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983/comments/67868088.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983/_/diff#comment-67868088"}}, "parent": {"id": 67859381, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983/comments/67859381.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983/_/diff#comment-67859381"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}, "content": {"raw": "The VisualProperty tests including the new one passed, but apparently the similar problem \\(Scene\\_TEST\\) happened.\n\n[https://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr\\_any-xenial-amd64-gpu-nvidia/633/testReport/\\(root\\)/Scene\\_TEST/RemoveModelVisual/](https://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-xenial-amd64-gpu-nvidia/633/testReport/(root)/Scene_TEST/RemoveModelVisual/)", "markup": "markdown", "html": "<p>The VisualProperty tests including the new one passed, but apparently the similar problem (Scene_TEST) happened.</p>\n<p><a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-xenial-amd64-gpu-nvidia/633/testReport/(root)/Scene_TEST/RemoveModelVisual/\" rel=\"nofollow\">https://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-xenial-amd64-gpu-nvidia/633/testReport/(root)/Scene_TEST/RemoveModelVisual/</a></p>", "type": "rendered"}, "created_on": "2018-06-21T20:27:33.002312+00:00", "user": {"display_name": "Tetsuya Idota", "uuid": "{e3645666-978a-455a-85c4-dcc342a8d822}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D"}, "html": {"href": "https://bitbucket.org/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/8cb890d7583a1f6b8a01419ebed6ac26d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsTI-1.png"}}, "nickname": "tidota", "type": "user", "account_id": "5aa97fa8e78b8c2a7c886fd3"}, "updated_on": "2018-06-21T20:39:18.496194+00:00", "type": "pullrequest_comment", "id": 67868088}, "pull_request": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983/comments/67859349.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983/_/diff#comment-67859349"}}, "parent": {"id": 67851040, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983/comments/67851040.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983/_/diff#comment-67851040"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}, "content": {"raw": "Seems like `void Scene::RemoveVisualizations(rendering::VisualPtr _vis)` is supposed to remove the visual objects with a name starting with \u201cbox::\u201d but it does not?\n\nThis function removes a visual object with its child visual objects which has either VT\\_PHYSICS, VT\\_SENSOR, or VT\\_GUI as visual type. The error messages are about visual objects with sufix \\(like \u201cbox::link\u201d\\), which are supposed to be childs of \u201cbox\u201d. Do they have different visual types so they are not removed?", "markup": "markdown", "html": "<p>Seems like <code>void Scene::RemoveVisualizations(rendering::VisualPtr _vis)</code> is supposed to remove the visual objects with a name starting with \u201cbox::\u201d but it does not?</p>\n<p>This function removes a visual object with its child visual objects which has either VT_PHYSICS, VT_SENSOR, or VT_GUI as visual type. The error messages are about visual objects with sufix (like \u201cbox::link\u201d), which are supposed to be childs of \u201cbox\u201d. Do they have different visual types so they are not removed?</p>", "type": "rendered"}, "created_on": "2018-06-21T18:45:29.056245+00:00", "user": {"display_name": "Tetsuya Idota", "uuid": "{e3645666-978a-455a-85c4-dcc342a8d822}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D"}, "html": {"href": "https://bitbucket.org/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/8cb890d7583a1f6b8a01419ebed6ac26d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsTI-1.png"}}, "nickname": "tidota", "type": "user", "account_id": "5aa97fa8e78b8c2a7c886fd3"}, "updated_on": "2018-06-21T20:23:14.122506+00:00", "type": "pullrequest_comment", "id": 67859349}, "pull_request": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983/comments/67859381.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983/_/diff#comment-67859381"}}, "parent": {"id": 67851169, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983/comments/67851169.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983/_/diff#comment-67851169"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}, "content": {"raw": "Thanks!", "markup": "markdown", "html": "<p>Thanks!</p>", "type": "rendered"}, "created_on": "2018-06-21T18:45:48.621051+00:00", "user": {"display_name": "Tetsuya Idota", "uuid": "{e3645666-978a-455a-85c4-dcc342a8d822}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D"}, "html": {"href": "https://bitbucket.org/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/8cb890d7583a1f6b8a01419ebed6ac26d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsTI-1.png"}}, "nickname": "tidota", "type": "user", "account_id": "5aa97fa8e78b8c2a7c886fd3"}, "updated_on": "2018-06-21T18:45:48.661750+00:00", "type": "pullrequest_comment", "id": 67859381}, "pull_request": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983/comments/67851169.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983/_/diff#comment-67851169"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}, "content": {"raw": "I started another [xenial-nvidia build](https://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-xenial-amd64-gpu-nvidia/633/) for the new integration test", "markup": "markdown", "html": "<p>I started another <a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-xenial-amd64-gpu-nvidia/633/\" rel=\"nofollow\">xenial-nvidia build</a> for the new integration test</p>", "type": "rendered"}, "created_on": "2018-06-21T17:14:15.608933+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2018-06-21T17:14:15.618696+00:00", "type": "pullrequest_comment", "id": 67851169}, "pull_request": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983/comments/67851040.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983/_/diff#comment-67851040"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}, "content": {"raw": "I noticed a test failure on jenkins that I have not seen before:\n\n[https://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr\\_any-homebrew-amd64/1535/testReport/junit/\\(root\\)/Scene\\_TEST/RemoveModelVisual/](https://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-homebrew-amd64/1535/testReport/junit/(root)/Scene_TEST/RemoveModelVisual/)\n\nIt may or may not be related\n\n\u200c\n\n\u200c", "markup": "markdown", "html": "<p>I noticed a test failure on jenkins that I have not seen before:</p>\n<p><a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-homebrew-amd64/1535/testReport/junit/(root)/Scene_TEST/RemoveModelVisual/\" rel=\"nofollow\">https://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-homebrew-amd64/1535/testReport/junit/(root)/Scene_TEST/RemoveModelVisual/</a></p>\n<p>It may or may not be related</p>\n<p>\u200c</p>\n<p>\u200c</p>", "type": "rendered"}, "created_on": "2018-06-21T17:12:46.865056+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2018-06-21T17:13:17.022127+00:00", "type": "pullrequest_comment", "id": 67851040}, "pull_request": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983/comments/67720611.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983/_/diff#comment-67720611"}}, "parent": {"id": 67610022, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983/comments/67610022.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983/_/diff#comment-67610022"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}, "content": {"raw": "Added a test case [https://bitbucket.org/tidota/gazebo/commits/3e699786f552cd89f51d042e6c7497d1a6a13ff3?at=gazebo7](https://bitbucket.org/tidota/gazebo/commits/3e699786f552cd89f51d042e6c7497d1a6a13ff3?at=gazebo7)\n\nIt first sends a message to set the transparency to 1.0 at the very beginning and keeps sending the same message, and verifies the ground is visible to the camera so the box disappeared. After that, the transparency is set back to 0.0 and the test checks if the box reappears.", "markup": "markdown", "html": "<p>Added a test case <a data-is-external-link=\"true\" href=\"https://bitbucket.org/tidota/gazebo/commits/3e699786f552cd89f51d042e6c7497d1a6a13ff3?at=gazebo7\" rel=\"nofollow\">https://bitbucket.org/tidota/gazebo/commits/3e699786f552cd89f51d042e6c7497d1a6a13ff3?at=gazebo7</a></p>\n<p>It first sends a message to set the transparency to 1.0 at the very beginning and keeps sending the same message, and verifies the ground is visible to the camera so the box disappeared. After that, the transparency is set back to 0.0 and the test checks if the box reappears.</p>", "type": "rendered"}, "created_on": "2018-06-20T17:50:37.757506+00:00", "user": {"display_name": "Tetsuya Idota", "uuid": "{e3645666-978a-455a-85c4-dcc342a8d822}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D"}, "html": {"href": "https://bitbucket.org/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/8cb890d7583a1f6b8a01419ebed6ac26d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsTI-1.png"}}, "nickname": "tidota", "type": "user", "account_id": "5aa97fa8e78b8c2a7c886fd3"}, "updated_on": "2018-06-20T17:50:37.818911+00:00", "type": "pullrequest_comment", "id": 67720611}, "pull_request": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}}, {"update": {"description": "A patch for the problem when a visual message is sent just after the simulator starts.\r\n\r\nIf a message to modify an existing visual object is sent to ~/visual topic at the very beginning, a duplicate visual object is created and the original one is never updated.\r\n\r\nThanks to @iche033 , the problem was found and fixed as follows.\r\n\r\nThis update should be applied to gazebo7 and later versions.", "title": "Patch for visual message process", "destination": {"commit": {"hash": "9f027b1f92f9", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/9f027b1f92f9.json"}, "html": {"href": "#!/osrf/gazebo/commits/9f027b1f92f9"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "3e699786f552", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/tidota/gazebo/commit/3e699786f552"}, "html": {"href": "https://bitbucket.org/tidota/gazebo/commits/3e699786f552"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/tidota/gazebo"}, "html": {"href": "https://bitbucket.org/tidota/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{9b232d84-6bca-45a4-84c7-bfa140709a88}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "tidota/gazebo", "uuid": "{9b232d84-6bca-45a4-84c7-bfa140709a88}"}, "branch": {"name": "visual_message_proc"}}, "state": "OPEN", "author": {"display_name": "Tetsuya Idota", "uuid": "{e3645666-978a-455a-85c4-dcc342a8d822}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D"}, "html": {"href": "https://bitbucket.org/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/8cb890d7583a1f6b8a01419ebed6ac26d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsTI-1.png"}}, "nickname": "tidota", "type": "user", "account_id": "5aa97fa8e78b8c2a7c886fd3"}, "date": "2018-06-20T17:46:18.444950+00:00"}, "pull_request": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983/comments/67610022.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983/_/diff#comment-67610022"}}, "parent": {"id": 67609886, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983/comments/67609886.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983/_/diff#comment-67609886"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}, "content": {"raw": "OK, I will. Thanks for the suggestion.", "markup": "markdown", "html": "<p>OK, I will. Thanks for the suggestion.</p>", "type": "rendered"}, "created_on": "2018-06-20T00:09:18.410369+00:00", "user": {"display_name": "Tetsuya Idota", "uuid": "{e3645666-978a-455a-85c4-dcc342a8d822}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D"}, "html": {"href": "https://bitbucket.org/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/8cb890d7583a1f6b8a01419ebed6ac26d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsTI-1.png"}}, "nickname": "tidota", "type": "user", "account_id": "5aa97fa8e78b8c2a7c886fd3"}, "updated_on": "2018-06-20T00:09:18.455696+00:00", "type": "pullrequest_comment", "id": 67610022}, "pull_request": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983/comments/67609886.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983/_/diff#comment-67609886"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}, "content": {"raw": "would you like to try writing a simple integration test for this patch?\n\nYou can publish a visual message with `parent_name` set but no `parent_id` and verify that the visual is attached to the correct parent.\n\nA good place to put it could be in `gazebo/test/integration/visual.cc`", "markup": "markdown", "html": "<p>would you like to try writing a simple integration test for this patch?</p>\n<p>You can publish a visual message with <code>parent_name</code> set but no <code>parent_id</code> and verify that the visual is attached to the correct parent.</p>\n<p>A good place to put it could be in <code>gazebo/test/integration/visual.cc</code></p>", "type": "rendered"}, "created_on": "2018-06-20T00:06:04.795965+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2018-06-20T00:06:04.803995+00:00", "type": "pullrequest_comment", "id": 67609886}, "pull_request": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}}, {"update": {"description": "A patch for the problem when a visual message is sent just after the simulator starts.\r\n\r\nIf a message to modify an existing visual object is sent to ~/visual topic at the very beginning, a duplicate visual object is created and the original one is never updated.\r\n\r\nThanks to @iche033 , the problem was found and fixed as follows.\r\n\r\nThis update should be applied to gazebo7 and later versions.", "title": "Patch for visual message process", "destination": {"commit": {"hash": "9f027b1f92f9", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/9f027b1f92f9.json"}, "html": {"href": "#!/osrf/gazebo/commits/9f027b1f92f9"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "70ab312b03b2", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/tidota/gazebo/commit/70ab312b03b2"}, "html": {"href": "https://bitbucket.org/tidota/gazebo/commits/70ab312b03b2"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/tidota/gazebo"}, "html": {"href": "https://bitbucket.org/tidota/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{9b232d84-6bca-45a4-84c7-bfa140709a88}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "tidota/gazebo", "uuid": "{9b232d84-6bca-45a4-84c7-bfa140709a88}"}, "branch": {"name": "visual_message_proc"}}, "state": "OPEN", "author": {"display_name": "Tetsuya Idota", "uuid": "{e3645666-978a-455a-85c4-dcc342a8d822}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D"}, "html": {"href": "https://bitbucket.org/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/8cb890d7583a1f6b8a01419ebed6ac26d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsTI-1.png"}}, "nickname": "tidota", "type": "user", "account_id": "5aa97fa8e78b8c2a7c886fd3"}, "date": "2018-06-19T23:49:08.343318+00:00"}, "pull_request": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}}, {"update": {"description": "A patch for the problem when a visual message is sent just after the simulator starts.\r\n\r\nIf a message to modify an existing visual object is sent to ~/visual topic at the very beginning, a duplicate visual object is created and the original one is never updated.\r\n\r\nThanks to @iche033 , the problem was found and fixed as follows.\r\n\r\nThis update should be applied to gazebo7 and later versions.", "title": "Patch for visual message process", "destination": {"commit": {"hash": "9f027b1f92f9", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/9f027b1f92f9.json"}, "html": {"href": "#!/osrf/gazebo/commits/9f027b1f92f9"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "70ab312b03b2", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/tidota/gazebo/commit/70ab312b03b2"}, "html": {"href": "https://bitbucket.org/tidota/gazebo/commits/70ab312b03b2"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/tidota/gazebo"}, "html": {"href": "https://bitbucket.org/tidota/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{9b232d84-6bca-45a4-84c7-bfa140709a88}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "tidota/gazebo", "uuid": "{9b232d84-6bca-45a4-84c7-bfa140709a88}"}, "branch": {"name": "visual_message_proc"}}, "state": "OPEN", "author": {"display_name": "Tetsuya Idota", "uuid": "{e3645666-978a-455a-85c4-dcc342a8d822}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D"}, "html": {"href": "https://bitbucket.org/%7Be3645666-978a-455a-85c4-dcc342a8d822%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/8cb890d7583a1f6b8a01419ebed6ac26d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsTI-1.png"}}, "nickname": "tidota", "type": "user", "account_id": "5aa97fa8e78b8c2a7c886fd3"}, "date": "2018-06-19T23:49:08.305960+00:00"}, "pull_request": {"type": "pullrequest", "id": 2983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2983"}}, "title": "Patch for visual message process"}}]}