{"rendered": {"description": {"raw": "Currently the\r\n[gpu-intel jenkins build](http://build.osrfoundation.org/view/main/view/GazeboDefault/job/gazebo-ci-default-vivid-amd64-gpu-intel/)\r\nthinks that it is able to find a valid X11 instance, since there appears to be an X server named `:0` running on the system.\r\nThere is a problem with this X server, though, that causes [all the GUI tests to fail](http://build.osrfoundation.org/view/main/view/GazeboDefault/job/gazebo-ci-default-vivid-amd64-gpu-intel/29/testReport/).\r\nThis pull request updates the display checking logic to check if `xwininfo -root` can be run successfully before declaring that a display has been found.\r\n\r\nI've tested with a [gazebo-any gpu-intel](http://build.osrfoundation.org/view/gazebo/job/gazebo-any-devel-vivid-amd64-gpu-intel/9/) job, which fails to detect the display with this branch, so it does not build or run the GUI tests. Ultimately, this is an X11 configuration problem, which we should fix, but this logic is helpful for reducing jenkins noise.\r\n\r\n[Diff without whitespace](#!/osrf/gazebo/pull-requests/2111/check-for-valid-display-using-xwininfo/diff?w=1)\r\n\r\n* [trusty nvidia build](http://build.osrfoundation.org/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/76/) still runs the GUI tests", "markup": "markdown", "html": "<p>Currently the\n<a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/main/view/GazeboDefault/job/gazebo-ci-default-vivid-amd64-gpu-intel/\" rel=\"nofollow\">gpu-intel jenkins build</a>\nthinks that it is able to find a valid X11 instance, since there appears to be an X server named <code>:0</code> running on the system.\nThere is a problem with this X server, though, that causes <a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/main/view/GazeboDefault/job/gazebo-ci-default-vivid-amd64-gpu-intel/29/testReport/\" rel=\"nofollow\">all the GUI tests to fail</a>.\nThis pull request updates the display checking logic to check if <code>xwininfo -root</code> can be run successfully before declaring that a display has been found.</p>\n<p>I've tested with a <a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/gazebo/job/gazebo-any-devel-vivid-amd64-gpu-intel/9/\" rel=\"nofollow\">gazebo-any gpu-intel</a> job, which fails to detect the display with this branch, so it does not build or run the GUI tests. Ultimately, this is an X11 configuration problem, which we should fix, but this logic is helpful for reducing jenkins noise.</p>\n<p><a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/pull-requests/2111/check-for-valid-display-using-xwininfo/diff?w=1\" rel=\"nofollow\">Diff without whitespace</a></p>\n<ul>\n<li><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/76/\" rel=\"nofollow\">trusty nvidia build</a> still runs the GUI tests</li>\n</ul>", "type": "rendered"}, "title": {"raw": "Check for valid display using xwininfo -root", "markup": "markdown", "html": "<p>Check for valid display using xwininfo -root</p>", "type": "rendered"}}, "type": "pullrequest", "description": "Currently the\r\n[gpu-intel jenkins build](http://build.osrfoundation.org/view/main/view/GazeboDefault/job/gazebo-ci-default-vivid-amd64-gpu-intel/)\r\nthinks that it is able to find a valid X11 instance, since there appears to be an X server named `:0` running on the system.\r\nThere is a problem with this X server, though, that causes [all the GUI tests to fail](http://build.osrfoundation.org/view/main/view/GazeboDefault/job/gazebo-ci-default-vivid-amd64-gpu-intel/29/testReport/).\r\nThis pull request updates the display checking logic to check if `xwininfo -root` can be run successfully before declaring that a display has been found.\r\n\r\nI've tested with a [gazebo-any gpu-intel](http://build.osrfoundation.org/view/gazebo/job/gazebo-any-devel-vivid-amd64-gpu-intel/9/) job, which fails to detect the display with this branch, so it does not build or run the GUI tests. Ultimately, this is an X11 configuration problem, which we should fix, but this logic is helpful for reducing jenkins noise.\r\n\r\n[Diff without whitespace](#!/osrf/gazebo/pull-requests/2111/check-for-valid-display-using-xwininfo/diff?w=1)\r\n\r\n* [trusty nvidia build](http://build.osrfoundation.org/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/76/) still runs the GUI tests", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/pullrequests/2111/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diffstat/osrf/gazebo:34458d9b63e2%0Dc409cbb90456?from_pullrequest_id=2111"}, "commits": {"href": "data/repositories/osrf/gazebo/pullrequests/2111/commits.json"}, "self": {"href": "data/repositories/osrf/gazebo/pullrequests/2111.json"}, "comments": {"href": "data/repositories/osrf/gazebo/pullrequests/2111/comments_page=1.json"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/pullrequests/2111/merge"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2111"}, "activity": {"href": "data/repositories/osrf/gazebo/pullrequests/2111/activity.json"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:34458d9b63e2%0Dc409cbb90456?from_pullrequest_id=2111"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/pullrequests/2111/approve"}, "statuses": {"href": "data/repositories/osrf/gazebo/pullrequests/2111/statuses_page=1.json"}}, "title": "Check for valid display using xwininfo -root", "close_source_branch": true, "reviewers": [], "id": 2111, "destination": {"commit": {"hash": "c409cbb90456", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/c409cbb90456.json"}, "html": {"href": "#!/osrf/gazebo/commits/c409cbb90456"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo5"}}, "created_on": "2016-01-29T19:57:25.789378+00:00", "summary": {"raw": "Currently the\r\n[gpu-intel jenkins build](http://build.osrfoundation.org/view/main/view/GazeboDefault/job/gazebo-ci-default-vivid-amd64-gpu-intel/)\r\nthinks that it is able to find a valid X11 instance, since there appears to be an X server named `:0` running on the system.\r\nThere is a problem with this X server, though, that causes [all the GUI tests to fail](http://build.osrfoundation.org/view/main/view/GazeboDefault/job/gazebo-ci-default-vivid-amd64-gpu-intel/29/testReport/).\r\nThis pull request updates the display checking logic to check if `xwininfo -root` can be run successfully before declaring that a display has been found.\r\n\r\nI've tested with a [gazebo-any gpu-intel](http://build.osrfoundation.org/view/gazebo/job/gazebo-any-devel-vivid-amd64-gpu-intel/9/) job, which fails to detect the display with this branch, so it does not build or run the GUI tests. Ultimately, this is an X11 configuration problem, which we should fix, but this logic is helpful for reducing jenkins noise.\r\n\r\n[Diff without whitespace](#!/osrf/gazebo/pull-requests/2111/check-for-valid-display-using-xwininfo/diff?w=1)\r\n\r\n* [trusty nvidia build](http://build.osrfoundation.org/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/76/) still runs the GUI tests", "markup": "markdown", "html": "<p>Currently the\n<a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/main/view/GazeboDefault/job/gazebo-ci-default-vivid-amd64-gpu-intel/\" rel=\"nofollow\">gpu-intel jenkins build</a>\nthinks that it is able to find a valid X11 instance, since there appears to be an X server named <code>:0</code> running on the system.\nThere is a problem with this X server, though, that causes <a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/main/view/GazeboDefault/job/gazebo-ci-default-vivid-amd64-gpu-intel/29/testReport/\" rel=\"nofollow\">all the GUI tests to fail</a>.\nThis pull request updates the display checking logic to check if <code>xwininfo -root</code> can be run successfully before declaring that a display has been found.</p>\n<p>I've tested with a <a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/gazebo/job/gazebo-any-devel-vivid-amd64-gpu-intel/9/\" rel=\"nofollow\">gazebo-any gpu-intel</a> job, which fails to detect the display with this branch, so it does not build or run the GUI tests. Ultimately, this is an X11 configuration problem, which we should fix, but this logic is helpful for reducing jenkins noise.</p>\n<p><a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/pull-requests/2111/check-for-valid-display-using-xwininfo/diff?w=1\" rel=\"nofollow\">Diff without whitespace</a></p>\n<ul>\n<li><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/76/\" rel=\"nofollow\">trusty nvidia build</a> still runs the GUI tests</li>\n</ul>", "type": "rendered"}, "source": {"commit": {"hash": "1ae87e282c99", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/1ae87e282c99.json"}, "html": {"href": "#!/osrf/gazebo/commits/1ae87e282c99"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "check_valid_display"}}, "comment_count": 0, "state": "MERGED", "task_count": 0, "participants": [{"role": "PARTICIPANT", "participated_on": "2016-02-02T22:53:49.076610+00:00", "type": "participant", "approved": true, "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}}, {"role": "PARTICIPANT", "participated_on": "2016-02-03T01:06:16.975937+00:00", "type": "participant", "approved": true, "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}}], "reason": "", "updated_on": "2016-02-03T01:08:45.817270+00:00", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "merge_commit": {"hash": "34458d9b63e2", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/34458d9b63e2.json"}, "html": {"href": "#!/osrf/gazebo/commits/34458d9b63e2"}}}, "closed_by": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}}