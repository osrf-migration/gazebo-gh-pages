{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1963/comments/12100687.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1963/_/diff#comment-12100687"}}, "parent": {"id": 12087728, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1963/comments/12087728.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1963/_/diff#comment-12087728"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1963, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1963.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1963"}}, "title": "Set the pose of a visual"}, "content": {"raw": "Actually, that's the reason why I had to change msgs.cc in the original commit to explicitly set the pose of each visual to the default value determined by sdformat (0 0 0 0 0 0). I forgot to tell you about it. Wouldn't it be better to return (0 0 0 0 0 0) in `Link::VisualPose()` when the pose is not yet defined?\n\n```\n#!c++\n\n  if (msg.has_pose())\n  {\n    _pose = msgs::ConvertIgn(msg.pose());\n  }\n  else\n  {\n    _pose = ignition::math::Pose3d();\n  }\n```\nThat way, we would not have to change msgs.cc.", "markup": "markdown", "html": "<p>Actually, that's the reason why I had to change msgs.cc in the original commit to explicitly set the pose of each visual to the default value determined by sdformat (0 0 0 0 0 0). I forgot to tell you about it. Wouldn't it be better to return (0 0 0 0 0 0) in <code>Link::VisualPose()</code> when the pose is not yet defined?</p>\n<div class=\"codehilite language-c++\"><pre><span></span>  <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"n\">msg</span><span class=\"p\">.</span><span class=\"n\">has_pose</span><span class=\"p\">())</span>\n  <span class=\"p\">{</span>\n    <span class=\"n\">_pose</span> <span class=\"o\">=</span> <span class=\"n\">msgs</span><span class=\"o\">::</span><span class=\"n\">ConvertIgn</span><span class=\"p\">(</span><span class=\"n\">msg</span><span class=\"p\">.</span><span class=\"n\">pose</span><span class=\"p\">());</span>\n  <span class=\"p\">}</span>\n  <span class=\"k\">else</span>\n  <span class=\"p\">{</span>\n    <span class=\"n\">_pose</span> <span class=\"o\">=</span> <span class=\"n\">ignition</span><span class=\"o\">::</span><span class=\"n\">math</span><span class=\"o\">::</span><span class=\"n\">Pose3d</span><span class=\"p\">();</span>\n  <span class=\"p\">}</span>\n</pre></div>\n\n\n<p>That way, we would not have to change msgs.cc.</p>", "type": "rendered"}, "created_on": "2015-11-24T08:11:08.378482+00:00", "user": {"display_name": "Olivier Crave", "uuid": "{c2c9ac10-3ca6-45ef-a19b-d3a76d065296}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc2c9ac10-3ca6-45ef-a19b-d3a76d065296%7D"}, "html": {"href": "https://bitbucket.org/%7Bc2c9ac10-3ca6-45ef-a19b-d3a76d065296%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/a4e0f2b75ca0affe5c82b9650a623d0dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsOC-4.png"}}, "nickname": "ocrave", "type": "user", "account_id": "557058:24cd6b3d-30bb-4c42-9e4b-f5836c392874"}, "updated_on": "2015-11-24T08:11:08.442253+00:00", "type": "pullrequest_comment", "id": 12100687}