{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1502/comments/5607707.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1502/_/diff#comment-5607707"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1502, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1502.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1502"}}, "title": "Delete scene on exit"}, "content": {"raw": "I just ran [another jenkins build](http://build.osrfoundation.org/job/gazebo-any-devel-trusty-amd64-gpu-nvidia/600/). It looks clean.\n\nHowever, there are some testing seg-faults that happen after the xml file gets written, so Jenkins doesn't notice. Sneaky.\n~~~\n91: [==========] Running 1 test from 1 test case.\n91: [----------] Global test environment set-up.\n91: [----------] 1 test from SonarVisual_TEST\n91: [ RUN      ] SonarVisual_TEST.SonarVisualTest\n91: [Msg] Waiting for master.\n91: [Msg] Connected to gazebo master @ http://127.0.0.1:11345\n91: [Msg] Publicized address: 172.23.3.215\n91: [Dbg] [ServerFixture.cc:145] ServerFixture load in 0.9 seconds, timeout after 600 seconds\n91: [Err] [Visual.cc:2296] Unable to insert mesh[Cannot create GL vertex buffer]\n91: [Dbg] [ServerFixture.cc:96] ServerFixture::Unload\n91: [       OK ] SonarVisual_TEST.SonarVisualTest (1042 ms)\n91: [----------] 1 test from SonarVisual_TEST (1042 ms total)\n91: \n91: [----------] Global test environment tear-down\n91: [==========] 1 test from 1 test case ran. (1042 ms total)\n91: [  PASSED  ] 1 test.\n91: \n 91/164 Test  #91: UNIT_SonarVisual_TEST ..................***Exception: SegFault  9.44 sec\ntest 92\n        Start  92: check_UNIT_SonarVisual_TEST\n\n92: Test command: /var/lib/jenkins/workspace/gazebo-any-devel-trusty-amd64-gpu-nvidia/gazebo/tools/check_test_ran.py \"/var/lib/jenkins/workspace/gazebo-any-devel-trusty-amd64-gpu-nvidia/build/test_results/UNIT_SonarVisual_TEST.xml\"\n92: Test timeout computed to be: 9.99988e+06\n92: Checking for test results in /var/lib/jenkins/workspace/gazebo-any-devel-trusty-amd64-gpu-nvidia/build/test_results/UNIT_SonarVisual_TEST.xml\n 92/164 Test  #92: check_UNIT_SonarVisual_TEST ............   Passed    0.01 sec\n~~~\n~~~\n93: [==========] Running 1 test from 1 test case.\n93: [----------] Global test environment set-up.\n93: [----------] 1 test from TransmitterVisual_TEST\n93: [ RUN      ] TransmitterVisual_TEST.TransmitterVisualTest\n93: [Msg] Waiting for master.\n93: [Msg] Connected to gazebo master @ http://127.0.0.1:11345\n93: [Msg] Publicized address: 172.23.3.215\n93: [Dbg] [ServerFixture.cc:145] ServerFixture load in 0.9 seconds, timeout after 600 seconds\n93: [Dbg] [ServerFixture.cc:96] ServerFixture::Unload\n93: [       OK ] TransmitterVisual_TEST.TransmitterVisualTest (1040 ms)\n93: [----------] 1 test from TransmitterVisual_TEST (1040 ms total)\n93: \n93: [----------] Global test environment tear-down\n93: [==========] 1 test from 1 test case ran. (1040 ms total)\n93: [  PASSED  ] 1 test.\n 93/164 Test  #93: UNIT_TransmitterVisual_TEST ............***Exception: SegFault  9.17 sec\ntest 94\n        Start  94: check_UNIT_TransmitterVisual_TEST\n\n94: Test command: /var/lib/jenkins/workspace/gazebo-any-devel-trusty-amd64-gpu-nvidia/gazebo/tools/check_test_ran.py \"/var/lib/jenkins/workspace/gazebo-any-devel-trusty-amd64-gpu-nvidia/build/test_results/UNIT_TransmitterVisual_TEST.xml\"\n94: Test timeout computed to be: 9.99988e+06\n94: Checking for test results in /var/lib/jenkins/workspace/gazebo-any-devel-trusty-amd64-gpu-nvidia/build/test_results/UNIT_TransmitterVisual_TEST.xml\n 94/164 Test  #94: check_UNIT_TransmitterVisual_TEST ......   Passed    0.02 sec\n~~~\nI'll see if I can get a backtrace.", "markup": "markdown", "html": "<p>I just ran <a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/job/gazebo-any-devel-trusty-amd64-gpu-nvidia/600/\" rel=\"nofollow\">another jenkins build</a>. It looks clean.</p>\n<p>However, there are some testing seg-faults that happen after the xml file gets written, so Jenkins doesn't notice. Sneaky.</p>\n<div class=\"codehilite\"><pre><span></span>91: [==========] Running 1 test from 1 test case.\n91: [----------] Global test environment set-up.\n91: [----------] 1 test from SonarVisual_TEST\n91: [ RUN      ] SonarVisual_TEST.SonarVisualTest\n91: [Msg] Waiting for master.\n91: [Msg] Connected to gazebo master @ http://127.0.0.1:11345\n91: [Msg] Publicized address: 172.23.3.215\n91: [Dbg] [ServerFixture.cc:145] ServerFixture load in 0.9 seconds, timeout after 600 seconds\n91: [Err] [Visual.cc:2296] Unable to insert mesh[Cannot create GL vertex buffer]\n91: [Dbg] [ServerFixture.cc:96] ServerFixture::Unload\n91: [       OK ] SonarVisual_TEST.SonarVisualTest (1042 ms)\n91: [----------] 1 test from SonarVisual_TEST (1042 ms total)\n91: \n91: [----------] Global test environment tear-down\n91: [==========] 1 test from 1 test case ran. (1042 ms total)\n91: [  PASSED  ] 1 test.\n91: \n 91/164 Test  #91: UNIT_SonarVisual_TEST ..................***Exception: SegFault  9.44 sec\ntest 92\n        Start  92: check_UNIT_SonarVisual_TEST\n\n92: Test command: /var/lib/jenkins/workspace/gazebo-any-devel-trusty-amd64-gpu-nvidia/gazebo/tools/check_test_ran.py &quot;/var/lib/jenkins/workspace/gazebo-any-devel-trusty-amd64-gpu-nvidia/build/test_results/UNIT_SonarVisual_TEST.xml&quot;\n92: Test timeout computed to be: 9.99988e+06\n92: Checking for test results in /var/lib/jenkins/workspace/gazebo-any-devel-trusty-amd64-gpu-nvidia/build/test_results/UNIT_SonarVisual_TEST.xml\n 92/164 Test  #92: check_UNIT_SonarVisual_TEST ............   Passed    0.01 sec\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span>93: [==========] Running 1 test from 1 test case.\n93: [----------] Global test environment set-up.\n93: [----------] 1 test from TransmitterVisual_TEST\n93: [ RUN      ] TransmitterVisual_TEST.TransmitterVisualTest\n93: [Msg] Waiting for master.\n93: [Msg] Connected to gazebo master @ http://127.0.0.1:11345\n93: [Msg] Publicized address: 172.23.3.215\n93: [Dbg] [ServerFixture.cc:145] ServerFixture load in 0.9 seconds, timeout after 600 seconds\n93: [Dbg] [ServerFixture.cc:96] ServerFixture::Unload\n93: [       OK ] TransmitterVisual_TEST.TransmitterVisualTest (1040 ms)\n93: [----------] 1 test from TransmitterVisual_TEST (1040 ms total)\n93: \n93: [----------] Global test environment tear-down\n93: [==========] 1 test from 1 test case ran. (1040 ms total)\n93: [  PASSED  ] 1 test.\n 93/164 Test  #93: UNIT_TransmitterVisual_TEST ............***Exception: SegFault  9.17 sec\ntest 94\n        Start  94: check_UNIT_TransmitterVisual_TEST\n\n94: Test command: /var/lib/jenkins/workspace/gazebo-any-devel-trusty-amd64-gpu-nvidia/gazebo/tools/check_test_ran.py &quot;/var/lib/jenkins/workspace/gazebo-any-devel-trusty-amd64-gpu-nvidia/build/test_results/UNIT_TransmitterVisual_TEST.xml&quot;\n94: Test timeout computed to be: 9.99988e+06\n94: Checking for test results in /var/lib/jenkins/workspace/gazebo-any-devel-trusty-amd64-gpu-nvidia/build/test_results/UNIT_TransmitterVisual_TEST.xml\n 94/164 Test  #94: check_UNIT_TransmitterVisual_TEST ......   Passed    0.02 sec\n</pre></div>\n\n\n<p>I'll see if I can get a backtrace.</p>", "type": "rendered"}, "created_on": "2015-03-11T18:44:39.694968+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2015-03-11T18:44:39.700878+00:00", "type": "pullrequest_comment", "id": 5607707}