{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2217/comments/16369183.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:372d5bad6257..5101b00bb30b?path=gazebo%2Fgui%2Fviewers%2FImageFrame.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2217/_/diff#comment-16369183"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2217, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2217.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2217"}}, "title": "Backport ImagesView_TEST changes -> gazebo7"}, "content": {"raw": "Just checking: we swapped these two lines in [pull request #2209](#!/osrf/gazebo/pull-requests/2209/fix-imagesview_test-crashes). Is not needed here?", "markup": "markdown", "html": "<p>Just checking: we swapped these two lines in <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/pull-requests/2209/fix-imagesview_test-crashes\" rel=\"nofollow\">pull request #2209</a>. Is not needed here?</p>", "type": "rendered"}, "created_on": "2016-03-28T21:12:04.452250+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "inline": {"to": null, "from": 41, "path": "gazebo/gui/viewers/ImageFrame.cc"}, "updated_on": "2016-03-28T21:12:04.454827+00:00", "type": "pullrequest_comment", "id": 16369183}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2217/comments/16423092.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:None..None?path=gazebo%2Fgui%2Fviewers%2FImageFrame.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2217/_/diff#comment-16423092"}}, "parent": {"id": 16369183, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2217/comments/16369183.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2217/_/diff#comment-16369183"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2217, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2217.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2217"}}, "title": "Backport ImagesView_TEST changes -> gazebo7"}, "content": {"raw": "it shouldn't matter but updated for consistency", "markup": "markdown", "html": "<p>it shouldn't matter but updated for consistency</p>", "type": "rendered"}, "created_on": "2016-03-29T21:22:44.058084+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {"to": null, "from": null, "path": "gazebo/gui/viewers/ImageFrame.cc"}, "updated_on": "2016-03-29T21:22:44.065506+00:00", "type": "pullrequest_comment", "id": 16423092}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2217/comments/16372239.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2217/_/diff#comment-16372239"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2217, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2217.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2217"}}, "title": "Backport ImagesView_TEST changes -> gazebo7"}, "content": {"raw": "Beware, it [failed on homebrew](http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/265/testReport/junit/(root)/ImagesView_TEST/Switch/):\n\n~~~\n163: [Msg] cam1 to cam6\n163: \n163/492 Test #163: UNIT_ImagesView_TEST ..................................***Exception: Other 36.83 sec\n~~~", "markup": "markdown", "html": "<p>Beware, it <a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/265/testReport/junit/(root)/ImagesView_TEST/Switch/\" rel=\"nofollow\">failed on homebrew</a>:</p>\n<div class=\"codehilite\"><pre><span></span>163: [Msg] cam1 to cam6\n163: \n163/492 Test #163: UNIT_ImagesView_TEST ..................................***Exception: Other 36.83 sec\n</pre></div>", "type": "rendered"}, "created_on": "2016-03-28T22:46:44.311598+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2016-03-28T22:46:44.318737+00:00", "type": "pullrequest_comment", "id": 16372239}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2217/comments/16375106.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2217/_/diff#comment-16375106"}}, "parent": {"id": 16372239, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2217/comments/16372239.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2217/_/diff#comment-16372239"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2217, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2217.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2217"}}, "title": "Backport ImagesView_TEST changes -> gazebo7"}, "content": {"raw": "backtrace:\n\nbad access during `ImageFrame::OnImage`\n\n~~~\n[Msg] cam1 to cam6\nProcess 78951 stopped\n* thread #40: tid = 0x4854a3, 0x00007fff86abe43e libsystem_platform.dylib`_platform_memmove$VARIANT$Nehalem + 254, stop reason = EXC_BAD_ACCESS (code=1, address=0x12ca65000)\n    frame #0: 0x00007fff86abe43e libsystem_platform.dylib`_platform_memmove$VARIANT$Nehalem + 254\nlibsystem_platform.dylib`_platform_memmove$VARIANT$Nehalem:\n->  0x7fff86abe43e <+254>: movaps 0x30(%rsi), %xmm4\n    0x7fff86abe442 <+258>: addq   $0x40, %rsi\n    0x7fff86abe446 <+262>: subq   $0x40, %rdx\n    0x7fff86abe44a <+266>: ja     0x7fff86abe420            ; <+224>\n(lldb)\n~~~\n\n~~~\n* thread #40: tid = 0x4854a3, 0x00007fff86abe43e libsystem_platform.dylib`_platform_memmove$VARIANT$Nehalem + 254\n  * frame #0: 0x00007fff86abe43e libsystem_platform.dylib`_platform_memmove$VARIANT$Nehalem + 254\n    frame #1: 0x00000001001eb105 libgazebo_gui.7.dylib`gazebo::gui::ImageFrame::OnImage(this=0x000000010ac4ccd0, _msg=<unavailable>) + 405 at ImageFrame.cc:89\n    frame #2: 0x00000001001edfd7 libgazebo_gui.7.dylib`gazebo::gui::ImagesView::OnImages(this=0x0000000122090c50, _msg=0x000000011a503c68) + 503 at ImagesView.cc:173\n    frame #3: 0x00000001001ef653 libgazebo_gui.7.dylib`gazebo::transport::CallbackHelperT<gazebo::msgs::ImagesStamped>::HandleMessage(boost::shared_ptr<google::protobuf::Message>) [inlined] boost::function1<void, boost::shared_ptr<gazebo::msgs::ImagesStamped const> const&>::operator()(boost::shared_ptr<gazebo::msgs::ImagesStamped const> const&) const + 131 at function_template.hpp:770\n    frame #4: 0x00000001001ef635 libgazebo_gui.7.dylib`gazebo::transport::CallbackHelperT<gazebo::msgs::ImagesStamped>::HandleMessage(this=<unavailable>, _newMsg=<unavailable>) + 101 at CallbackHelper.hh:159\n    frame #5: 0x0000000106b04b02 libgazebo_transport.7.dylib`gazebo::transport::Node::ProcessIncoming(this=0x000000010aca8d00) + 898 at Node.cc:260\n    frame #6: 0x0000000106b12ee5 libgazebo_transport.7.dylib`gazebo::transport::TopicManager::ProcessNodes(this=0x000000010008b5d8, _onlyOut=<unavailable>) + 501 at TopicManager.cc:197\n    frame #7: 0x0000000106af9f66 libgazebo_transport.7.dylib`gazebo::transport::ConnectionManager::RunUpdate(this=0x000000010008b788) + 326 at ConnectionManager.cc:283\n    frame #8: 0x0000000106afafe6 libgazebo_transport.7.dylib`gazebo::transport::ConnectionManager::Run(this=0x000000010008b788) + 102 at ConnectionManager.cc:314\n    frame #9: 0x000000010973f5e9 libboost_thread-mt.dylib`boost::(anonymous namespace)::thread_proxy(void*) + 185\n    frame #10: 0x00007fff8153105a libsystem_pthread.dylib`_pthread_body + 131\n    frame #11: 0x00007fff81530fd7 libsystem_pthread.dylib`_pthread_start + 176\n    frame #12: 0x00007fff8152e3ed libsystem_pthread.dylib`thread_start + 13\n~~~\n\nanother thread is calling `processEvents`:\n\n~~~\n    frame #27: 0x000000010381e787 QtCore`QCoreApplication::processEvents(QFlags<QEventLoop::ProcessEventsFlag>) + 81\n    frame #28: 0x000000010001aa84 UNIT_ImagesView_TEST`ImagesView_TEST::SetTopic(this=<unavailable>, _view=<unavailable>, _topicName=<unavailable>, _count=<unavailable>) + 436 at ImagesView_TEST.cc:122\n    frame #29: 0x000000010001a3d9 UNIT_ImagesView_TEST`ImagesView_TEST::Switch(this=0x00007fff5fbff800) + 2201 at ImagesView_TEST.cc:71\n~~~\n\n", "markup": "markdown", "html": "<p>backtrace:</p>\n<p>bad access during <code>ImageFrame::OnImage</code></p>\n<div class=\"codehilite\"><pre><span></span>[Msg] cam1 to cam6\nProcess 78951 stopped\n* thread #40: tid = 0x4854a3, 0x00007fff86abe43e libsystem_platform.dylib`_platform_memmove$VARIANT$Nehalem + 254, stop reason = EXC_BAD_ACCESS (code=1, address=0x12ca65000)\n    frame #0: 0x00007fff86abe43e libsystem_platform.dylib`_platform_memmove$VARIANT$Nehalem + 254\nlibsystem_platform.dylib`_platform_memmove$VARIANT$Nehalem:\n-&gt;  0x7fff86abe43e &lt;+254&gt;: movaps 0x30(%rsi), %xmm4\n    0x7fff86abe442 &lt;+258&gt;: addq   $0x40, %rsi\n    0x7fff86abe446 &lt;+262&gt;: subq   $0x40, %rdx\n    0x7fff86abe44a &lt;+266&gt;: ja     0x7fff86abe420            ; &lt;+224&gt;\n(lldb)\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span>* thread #40: tid = 0x4854a3, 0x00007fff86abe43e libsystem_platform.dylib`_platform_memmove$VARIANT$Nehalem + 254\n  * frame #0: 0x00007fff86abe43e libsystem_platform.dylib`_platform_memmove$VARIANT$Nehalem + 254\n    frame #1: 0x00000001001eb105 libgazebo_gui.7.dylib`gazebo::gui::ImageFrame::OnImage(this=0x000000010ac4ccd0, _msg=&lt;unavailable&gt;) + 405 at ImageFrame.cc:89\n    frame #2: 0x00000001001edfd7 libgazebo_gui.7.dylib`gazebo::gui::ImagesView::OnImages(this=0x0000000122090c50, _msg=0x000000011a503c68) + 503 at ImagesView.cc:173\n    frame #3: 0x00000001001ef653 libgazebo_gui.7.dylib`gazebo::transport::CallbackHelperT&lt;gazebo::msgs::ImagesStamped&gt;::HandleMessage(boost::shared_ptr&lt;google::protobuf::Message&gt;) [inlined] boost::function1&lt;void, boost::shared_ptr&lt;gazebo::msgs::ImagesStamped const&gt; const&amp;&gt;::operator()(boost::shared_ptr&lt;gazebo::msgs::ImagesStamped const&gt; const&amp;) const + 131 at function_template.hpp:770\n    frame #4: 0x00000001001ef635 libgazebo_gui.7.dylib`gazebo::transport::CallbackHelperT&lt;gazebo::msgs::ImagesStamped&gt;::HandleMessage(this=&lt;unavailable&gt;, _newMsg=&lt;unavailable&gt;) + 101 at CallbackHelper.hh:159\n    frame #5: 0x0000000106b04b02 libgazebo_transport.7.dylib`gazebo::transport::Node::ProcessIncoming(this=0x000000010aca8d00) + 898 at Node.cc:260\n    frame #6: 0x0000000106b12ee5 libgazebo_transport.7.dylib`gazebo::transport::TopicManager::ProcessNodes(this=0x000000010008b5d8, _onlyOut=&lt;unavailable&gt;) + 501 at TopicManager.cc:197\n    frame #7: 0x0000000106af9f66 libgazebo_transport.7.dylib`gazebo::transport::ConnectionManager::RunUpdate(this=0x000000010008b788) + 326 at ConnectionManager.cc:283\n    frame #8: 0x0000000106afafe6 libgazebo_transport.7.dylib`gazebo::transport::ConnectionManager::Run(this=0x000000010008b788) + 102 at ConnectionManager.cc:314\n    frame #9: 0x000000010973f5e9 libboost_thread-mt.dylib`boost::(anonymous namespace)::thread_proxy(void*) + 185\n    frame #10: 0x00007fff8153105a libsystem_pthread.dylib`_pthread_body + 131\n    frame #11: 0x00007fff81530fd7 libsystem_pthread.dylib`_pthread_start + 176\n    frame #12: 0x00007fff8152e3ed libsystem_pthread.dylib`thread_start + 13\n</pre></div>\n\n\n<p>another thread is calling <code>processEvents</code>:</p>\n<div class=\"codehilite\"><pre><span></span>    frame #27: 0x000000010381e787 QtCore`QCoreApplication::processEvents(QFlags&lt;QEventLoop::ProcessEventsFlag&gt;) + 81\n    frame #28: 0x000000010001aa84 UNIT_ImagesView_TEST`ImagesView_TEST::SetTopic(this=&lt;unavailable&gt;, _view=&lt;unavailable&gt;, _topicName=&lt;unavailable&gt;, _count=&lt;unavailable&gt;) + 436 at ImagesView_TEST.cc:122\n    frame #29: 0x000000010001a3d9 UNIT_ImagesView_TEST`ImagesView_TEST::Switch(this=0x00007fff5fbff800) + 2201 at ImagesView_TEST.cc:71\n</pre></div>", "type": "rendered"}, "created_on": "2016-03-29T00:36:58.204446+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2016-03-29T00:36:58.209310+00:00", "type": "pullrequest_comment", "id": 16375106}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2217/comments/16421384.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2217/_/diff#comment-16421384"}}, "parent": {"id": 16375106, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2217/comments/16375106.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2217/_/diff#comment-16375106"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2217, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2217.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2217"}}, "title": "Backport ImagesView_TEST changes -> gazebo7"}, "content": {"raw": "ok I shall not touch what's not broken. In gazebo7 the raw data is passed to `common::Image` then copied to `QImage`. Some magic in there makes Qt happy and not crash on destruction. So I'll leave the code as it is. This PR is now just a reshuffling of the mutex lock.\n\nNew [homebrew build queued](http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/gazebo-ci-pr_any-homebrew-amd64/270/) - ok", "markup": "markdown", "html": "<p>ok I shall not touch what's not broken. In gazebo7 the raw data is passed to <code>common::Image</code> then copied to <code>QImage</code>. Some magic in there makes Qt happy and not crash on destruction. So I'll leave the code as it is. This PR is now just a reshuffling of the mutex lock.</p>\n<p>New <a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/gazebo-ci-pr_any-homebrew-amd64/270/\" rel=\"nofollow\">homebrew build queued</a> - ok</p>", "type": "rendered"}, "created_on": "2016-03-29T20:36:46.425834+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2016-03-29T23:44:38.387017+00:00", "type": "pullrequest_comment", "id": 16421384}], "page": 1, "size": 5}