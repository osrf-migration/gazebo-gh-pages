{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1690/comments/7264837.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1690/_/diff#comment-7264837"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1690, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1690.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1690"}}, "title": "Add countdown feature to common::Timer, expose countdown to TimerGUIPlugin"}, "content": {"raw": "I just saw the timer tests fail on trusty too, though much closer to the tolerance ([no-gpu job](http://build.osrfoundation.org/job/gazebo-any-devel-trusty-amd64-no-gpu/322/)):\n~~~\n79: [ RUN      ] TimerTest.Timer\n79: /var/lib/jenkins/workspace/gazebo-any-devel-trusty-amd64-no-gpu/gazebo/gazebo/common/Timer_TEST.cc:41: Failure\n79: The difference between elapsed.nsec and 2e8 is 113353, which exceeds 1e5, where\n79: elapsed.nsec evaluates to 200113353,\n79: 2e8 evaluates to 200000000, and\n79: 1e5 evaluates to 100000.\n79: /var/lib/jenkins/workspace/gazebo-any-devel-trusty-amd64-no-gpu/gazebo/gazebo/common/Timer_TEST.cc:48: Failure\n79: The difference between elapsed.nsec and timer.GetElapsed().nsec is 262487, which exceeds 1e5, where\n79: elapsed.nsec evaluates to 200113353,\n79: timer.GetElapsed().nsec evaluates to 200375840, and\n79: 1e5 evaluates to 100000.\n79: [  FAILED  ] TimerTest.Timer (401 ms)\n79: [ RUN      ] TimerTest.CountdownTimer\n79: /var/lib/jenkins/workspace/gazebo-any-devel-trusty-amd64-no-gpu/gazebo/gazebo/common/Timer_TEST.cc:78: Failure\n79: The difference between elapsed.nsec and 8e8 is 114932, which exceeds 1e5, where\n79: elapsed.nsec evaluates to 799885068,\n79: 8e8 evaluates to 800000000, and\n79: 1e5 evaluates to 100000.\n79: /var/lib/jenkins/workspace/gazebo-any-devel-trusty-amd64-no-gpu/gazebo/gazebo/common/Timer_TEST.cc:85: Failure\n79: The difference between elapsed.nsec and timer.GetElapsed().nsec is 166995, which exceeds 1e5, where\n79: elapsed.nsec evaluates to 799885068,\n79: timer.GetElapsed().nsec evaluates to 799718073, and\n79: 1e5 evaluates to 100000.\n79: [  FAILED  ] TimerTest.CountdownTimer (401 ms)\n~~~", "markup": "markdown", "html": "<p>I just saw the timer tests fail on trusty too, though much closer to the tolerance (<a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/job/gazebo-any-devel-trusty-amd64-no-gpu/322/\" rel=\"nofollow\">no-gpu job</a>):</p>\n<div class=\"codehilite\"><pre><span></span>79: [ RUN      ] TimerTest.Timer\n79: /var/lib/jenkins/workspace/gazebo-any-devel-trusty-amd64-no-gpu/gazebo/gazebo/common/Timer_TEST.cc:41: Failure\n79: The difference between elapsed.nsec and 2e8 is 113353, which exceeds 1e5, where\n79: elapsed.nsec evaluates to 200113353,\n79: 2e8 evaluates to 200000000, and\n79: 1e5 evaluates to 100000.\n79: /var/lib/jenkins/workspace/gazebo-any-devel-trusty-amd64-no-gpu/gazebo/gazebo/common/Timer_TEST.cc:48: Failure\n79: The difference between elapsed.nsec and timer.GetElapsed().nsec is 262487, which exceeds 1e5, where\n79: elapsed.nsec evaluates to 200113353,\n79: timer.GetElapsed().nsec evaluates to 200375840, and\n79: 1e5 evaluates to 100000.\n79: [  FAILED  ] TimerTest.Timer (401 ms)\n79: [ RUN      ] TimerTest.CountdownTimer\n79: /var/lib/jenkins/workspace/gazebo-any-devel-trusty-amd64-no-gpu/gazebo/gazebo/common/Timer_TEST.cc:78: Failure\n79: The difference between elapsed.nsec and 8e8 is 114932, which exceeds 1e5, where\n79: elapsed.nsec evaluates to 799885068,\n79: 8e8 evaluates to 800000000, and\n79: 1e5 evaluates to 100000.\n79: /var/lib/jenkins/workspace/gazebo-any-devel-trusty-amd64-no-gpu/gazebo/gazebo/common/Timer_TEST.cc:85: Failure\n79: The difference between elapsed.nsec and timer.GetElapsed().nsec is 166995, which exceeds 1e5, where\n79: elapsed.nsec evaluates to 799885068,\n79: timer.GetElapsed().nsec evaluates to 799718073, and\n79: 1e5 evaluates to 100000.\n79: [  FAILED  ] TimerTest.CountdownTimer (401 ms)\n</pre></div>", "type": "rendered"}, "created_on": "2015-06-03T05:25:32.346149+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2015-06-03T05:25:32.357878+00:00", "type": "pullrequest_comment", "id": 7264837}