{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1411/comments/4969518.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1411/_/diff#comment-4969518"}}, "parent": {"id": 4969474, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1411/comments/4969474.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1411/_/diff#comment-4969474"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1411, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1411.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1411"}}, "title": "Allow multiple contact sensors per link (#960)"}, "content": {"raw": "I think your fix (not the original) was broken because parts of `Load` still expect `entityName` to be the name of the collision element's parent.\n\n```\n  while (collisionElem)\n  { \n    // get collision name\n    collisionName = collisionElem->Get<std::string>();\n    collisionScopedName = entityName;\n    collisionScopedName += \"::\" + collisionName;\n    \n    this->collisions.push_back(collisionScopedName);\n    \n    collisionElem = collisionElem->GetNextElement(\"collision\");\n  }\n```\n\nThis might mess up, for example, because there is no link named \"box_sensor\", but there are collisions under the link \"box\". Hmm...", "markup": "markdown", "html": "<p>I think your fix (not the original) was broken because parts of <code>Load</code> still expect <code>entityName</code> to be the name of the collision element's parent.</p>\n<div class=\"codehilite\"><pre><span></span>  <span class=\"nt\">while</span> <span class=\"o\">(</span><span class=\"nt\">collisionElem</span><span class=\"o\">)</span>\n  <span class=\"p\">{</span> \n    <span class=\"err\">//</span> <span class=\"err\">get</span> <span class=\"err\">collision</span> <span class=\"err\">name</span>\n    <span class=\"err\">collisionName</span> <span class=\"err\">=</span> <span class=\"err\">collisionElem-&gt;Get&lt;</span><span class=\"n\">std</span><span class=\"p\">:</span><span class=\"o\">:</span><span class=\"n\">string</span><span class=\"o\">&gt;</span><span class=\"p\">();</span>\n    <span class=\"err\">collisionScopedName</span> <span class=\"err\">=</span> <span class=\"err\">entityName</span><span class=\"p\">;</span>\n    <span class=\"err\">collisionScopedName</span> <span class=\"err\">+=</span> <span class=\"err\">&quot;::&quot;</span> <span class=\"err\">+</span> <span class=\"err\">collisionName</span><span class=\"p\">;</span>\n\n    <span class=\"err\">this-&gt;collisions.push_back(collisionScopedName)</span><span class=\"p\">;</span>\n\n    <span class=\"err\">collisionElem</span> <span class=\"err\">=</span> <span class=\"err\">collisionElem-&gt;GetNextElement(&quot;collision&quot;)</span><span class=\"p\">;</span>\n  <span class=\"p\">}</span>\n</pre></div>\n\n\n<p>This might mess up, for example, because there is no link named \"box_sensor\", but there are collisions under the link \"box\". Hmm...</p>", "type": "rendered"}, "created_on": "2015-02-04T17:43:33.518643+00:00", "user": {"display_name": "Jackie K", "uuid": "{e3d60b62-b7c7-4863-b9b9-cdae9f123cec}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3d60b62-b7c7-4863-b9b9-cdae9f123cec%7D"}, "html": {"href": "https://bitbucket.org/%7Be3d60b62-b7c7-4863-b9b9-cdae9f123cec%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/ea011fa2919d4bd4568b32b440eda779d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJK-0.png"}}, "nickname": "jacquelinekay", "type": "user", "account_id": "557058:f56c822f-f75c-4665-80f9-6e7764893b9c"}, "updated_on": "2015-02-04T17:43:33.528243+00:00", "type": "pullrequest_comment", "id": 4969518}