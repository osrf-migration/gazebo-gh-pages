{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1606/comments/6512547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1606/_/diff#comment-6512547"}}, "parent": {"id": 6512264, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1606/comments/6512264.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1606/_/diff#comment-6512264"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1606, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1606.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1606"}}, "title": "Install server fixture for use outside of gazebo."}, "content": {"raw": "I made these changes to CMakeLists (diff format):\n\n```\n target_link_libraries(gtest_main gtest)\n-set(GTEST_LIBRARY \"${PROJECT_BINARY_DIR}/test/libgtest.a\")\n-set(GTEST_MAIN_LIBRARY \"${PROJECT_BINARY_DIR}/test/libgtest_main.a\")\n+set(GTEST_LIBRARY \"${PROJECT_BINARY_DIR}/libgtest.a\")\n+set(GTEST_MAIN_LIBRARY \"${PROJECT_BINARY_DIR}/libgtest_main.a\")\n include_directories(${GTEST_INCLUDE_DIRS})\n \n add_executable(test test.cc)\n-target_link_libraries(test libgtest.a libgtest_main.a gazebo_test_fixture\n+target_link_libraries(test gtest gtest_main gazebo_test_fixture\n   ${GAZEBO_LIBRARIES} ${Boost_LIBRARIES})\n```\n\nIt now finds the gtest libraries but now I get the boost linking error:\n\n```\n/usr/bin/ld: /home/jackie/local/lib/x86_64-linux-gnu/libgazebo_test_fixture.a(ServerFixture.cc.o): undefined reference to symbol '_ZTVN5boost6detail16thread_data_baseE'\n//usr/lib/x86_64-linux-gnu/libboost_thread.so.1.54.0: error adding symbols: DSO missing from command line\n```", "markup": "markdown", "html": "<p>I made these changes to CMakeLists (diff format):</p>\n<div class=\"codehilite\"><pre><span></span> target_link_libraries(gtest_main gtest)\n-set(GTEST_LIBRARY &quot;<span class=\"cp\">${</span><span class=\"n\">PROJECT_BINARY_DIR</span><span class=\"cp\">}</span>/test/libgtest.a&quot;)\n-set(GTEST_MAIN_LIBRARY &quot;<span class=\"cp\">${</span><span class=\"n\">PROJECT_BINARY_DIR</span><span class=\"cp\">}</span>/test/libgtest_main.a&quot;)\n+set(GTEST_LIBRARY &quot;<span class=\"cp\">${</span><span class=\"n\">PROJECT_BINARY_DIR</span><span class=\"cp\">}</span>/libgtest.a&quot;)\n+set(GTEST_MAIN_LIBRARY &quot;<span class=\"cp\">${</span><span class=\"n\">PROJECT_BINARY_DIR</span><span class=\"cp\">}</span>/libgtest_main.a&quot;)\n include_directories(<span class=\"cp\">${</span><span class=\"n\">GTEST_INCLUDE_DIRS</span><span class=\"cp\">}</span>)\n\n add_executable(test test.cc)\n-target_link_libraries(test libgtest.a libgtest_main.a gazebo_test_fixture\n+target_link_libraries(test gtest gtest_main gazebo_test_fixture\n   <span class=\"cp\">${</span><span class=\"n\">GAZEBO_LIBRARIES</span><span class=\"cp\">}</span> <span class=\"cp\">${</span><span class=\"n\">Boost_LIBRARIES</span><span class=\"cp\">}</span>)\n</pre></div>\n\n\n<p>It now finds the gtest libraries but now I get the boost linking error:</p>\n<div class=\"codehilite\"><pre><span></span>/usr/bin/ld: /home/jackie/local/lib/x86_64-linux-gnu/libgazebo_test_fixture.a(ServerFixture.cc.o): undefined reference to symbol &#39;_ZTVN5boost6detail16thread_data_baseE&#39;\n//usr/lib/x86_64-linux-gnu/libboost_thread.so.1.54.0: error adding symbols: DSO missing from command line\n</pre></div>", "type": "rendered"}, "created_on": "2015-04-27T18:25:04.181398+00:00", "user": {"display_name": "Jackie K", "uuid": "{e3d60b62-b7c7-4863-b9b9-cdae9f123cec}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3d60b62-b7c7-4863-b9b9-cdae9f123cec%7D"}, "html": {"href": "https://bitbucket.org/%7Be3d60b62-b7c7-4863-b9b9-cdae9f123cec%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/ea011fa2919d4bd4568b32b440eda779d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJK-0.png"}}, "nickname": "jacquelinekay", "type": "user", "account_id": "557058:f56c822f-f75c-4665-80f9-6e7764893b9c"}, "updated_on": "2015-04-27T18:25:41.998470+00:00", "type": "pullrequest_comment", "id": 6512547}