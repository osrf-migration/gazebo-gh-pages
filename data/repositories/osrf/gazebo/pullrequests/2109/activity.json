{"pagelen": 50, "values": [{"update": {"description": "We will be doing a sprint soon to fix as many gazebo tests as possible. In preparation, we have made a dashboard summarizing the state of our jenkins builds of the default branch on all our supported platforms:\r\n\r\n* http://build.osrfoundation.org/view/main/view/GazeboDefault/\r\n\r\nIt uses the following color codes:\r\n\r\n* Red: build failure\r\n* Yellow: build completed with some warnings, cppcheck errors, or test failures\r\n* Blue: clean build\r\n\r\nThe dashboard also summarizes how many warnings, cppcheck errors, and test failures are present on a given build. While working to catalog these failures, I've identified fixes for quite a few of them, which I've included in this pull request.\r\n\r\n## Trusty fixes\r\n\r\n* trusty, release mode has 2 [compiler warnings related to unused variables](http://build.osrfoundation.org/view/main/view/GazeboDefault/job/gazebo-ci_BTRelease-default-trusty-amd64-gpu-none/warnings). This is caused by using a variable only in a `GZ_ASSERT`, which is a no-op in release mode. Fixed in 84a2658\r\n\r\n* trusty debug mode has a persistent timeout of `INTEGRATION_joint_gearbox` (issue #1824). I increased the timeout in 96548ab\r\n\r\n## OS X test fixes\r\n\r\n* `UNIT_Rand_TEST` fails on OS X (and also on [wily](http://build.osrfoundation.org/view/main/view/GazeboDefault/job/gazebo-ci-default-wily-amd64-gpu-none/lastCompletedBuild/testReport/%28root%29/RandTest/Rand/)) by expecting a specific random number after setting the seed. I'm not sure we can expect all random number generators to be implemented in the same way, so I modified the test in 473acbf to expect repeatability after setting the seed, but not exact values.\r\n\r\n* There are some tests that always fail on OSX (see issues #1219 and #1846) that I have disabled in b4d728e\r\n\r\n* I fixed some osx GUI tests in 442df5f and also added some extra console output, since the console output from QTest's is attenuated in jenkins (issue #1845)\r\n\r\nSince the fixes are all in specific commits, please consider approving the individual commits as you review this PR.\r\n\r\nI'll post jenkins results as they are available.\r\n\r\n* [OSX UNIT_ImagesView_TEST passed](http://build.osrfoundation.org/view/gazebo/job/gazebo-ci-pr_any-homebrew-amd64/72/testReport/%28root%29/ImagesView_TEST/), and it [fails on default](http://build.osrfoundation.org/view/main/view/GazeboDefault/job/gazebo-ci-default-homebrew-amd64/28/testReport/UNIT_ImagesView_TEST/xml/_empty_/)\r\n* [OSX UNIT_LayersWidget_TEST fixed](http://build.osrfoundation.org/view/gazebo/job/gazebo-ci-pr_any-homebrew-amd64/72/testReport/%28root%29/LayersWidget_TEST/)\r\n* [OSX UNIT_Projection_TEST fixed](http://build.osrfoundation.org/view/gazebo/job/gazebo-ci-pr_any-homebrew-amd64/72/testReport/%28root%29/Projection_TEST/)\r\n* no regressions in [trusty nvidia build](http://build.osrfoundation.org/view/gazebo/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/73/)\r\n* no related failures in [trusty no-gpu](http://build.osrfoundation.org/job/gazebo-ci-pr_any-trusty-amd64-gpu-none/82/)\r\n* regression of `UNIT_ImagesView_TEST` in [homebrew build](http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/75/), see discussion in comment thread", "title": "Fixes for tests and warnings", "destination": {"commit": {"hash": "902f8a1ea894", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/902f8a1ea894.json"}, "html": {"href": "#!/osrf/gazebo/commits/902f8a1ea894"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "96548ab57c74", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/96548ab57c74.json"}, "html": {"href": "#!/osrf/gazebo/commits/96548ab57c74"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "osx_gui_tests"}}, "state": "MERGED", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2016-01-29T17:16:17.157031+00:00"}, "pull_request": {"type": "pullrequest", "id": 2109, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2109.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2109"}}, "title": "Fixes for tests and warnings"}}, {"approval": {"date": "2016-01-29T08:27:33.344426+00:00", "pullrequest": {"type": "pullrequest", "id": 2109, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2109.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2109"}}, "title": "Fixes for tests and warnings"}, "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}}, "pull_request": {"type": "pullrequest", "id": 2109, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2109.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2109"}}, "title": "Fixes for tests and warnings"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2109/comments/13988957.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2109/_/diff#comment-13988957"}}, "parent": {"id": 13987619, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2109/comments/13987619.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2109/_/diff#comment-13987619"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2109, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2109.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2109"}}, "title": "Fixes for tests and warnings"}, "content": {"raw": "I would like to defer this fix of `UNIT_ImagesView_TEST` for now (we'll get to it soon). For this PR, I think the timeout increase is an improvement, and allows homebrew to pass sometimes.", "markup": "markdown", "html": "<p>I would like to defer this fix of <code>UNIT_ImagesView_TEST</code> for now (we'll get to it soon). For this PR, I think the timeout increase is an improvement, and allows homebrew to pass sometimes.</p>", "type": "rendered"}, "created_on": "2016-01-29T08:15:32.402786+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2016-01-29T08:15:32.404998+00:00", "type": "pullrequest_comment", "id": 13988957}, "pull_request": {"type": "pullrequest", "id": 2109, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2109.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2109"}}, "title": "Fixes for tests and warnings"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2109/comments/13987744.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2109/_/diff#comment-13987744"}}, "parent": {"id": 13987685, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2109/comments/13987685.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2109/_/diff#comment-13987685"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2109, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2109.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2109"}}, "title": "Fixes for tests and warnings"}, "content": {"raw": "All tests consistently pass if I run them one by one though.", "markup": "markdown", "html": "<p>All tests consistently pass if I run them one by one though.</p>", "type": "rendered"}, "created_on": "2016-01-29T07:16:13.900661+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2016-01-29T07:16:13.903510+00:00", "type": "pullrequest_comment", "id": 13987744}, "pull_request": {"type": "pullrequest", "id": 2109, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2109.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2109"}}, "title": "Fixes for tests and warnings"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2109/comments/13987685.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2109/_/diff#comment-13987685"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2109, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2109.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2109"}}, "title": "Fixes for tests and warnings"}, "content": {"raw": "It also consistently fails on my laptop (trusty)\n\n~~~\n#0  __strcmp_sse2_unaligned () at ../sysdeps/x86_64/multiarch/strcmp-sse2-unaligned.S:30\n#1  0x00007fffede71af0 in stub_find_dynamic () from /usr/lib/x86_64-linux-gnu/libglapi.so.0\n#2  0x00007fffede7195e in _glapi_get_proc_address () from /usr/lib/x86_64-linux-gnu/libglapi.so.0\n#3  0x00007ffff2b84529 in glXGetProcAddressARB () from /usr/lib/x86_64-linux-gnu/mesa/libGL.so.1\n#4  0x00007fffcf71d620 in ?? () from /usr/lib/x86_64-linux-gnu/OGRE-1.8.0/RenderSystem_GL.so\n#5  0x00007fffcf72dc5d in ?? () from /usr/lib/x86_64-linux-gnu/OGRE-1.8.0/RenderSystem_GL.so\n#6  0x00007fffcf705ee1 in Ogre::GLRenderSystem::initialiseContext(Ogre::RenderWindow*) ()\n   from /usr/lib/x86_64-linux-gnu/OGRE-1.8.0/RenderSystem_GL.so\n#7  0x00007fffcf70c1cc in Ogre::GLRenderSystem::_createRenderWindow(std::string const&, unsigned int, unsigned int, bool, std::map<std::string, std::string, std::less<std::string>, Ogre::STLAllocator<std::pair<std::string const, std::string>, Ogre::CategorisedAllocPolicy<(Ogre::MemoryCategory)0> > > const*) ()\n   from /usr/lib/x86_64-linux-gnu/OGRE-1.8.0/RenderSystem_GL.so\n#8  0x00007ffff3dd5612 in Ogre::Root::createRenderWindow(std::string const&, unsigned int, unsigned int, bool, std::map<std::string, std::string, std::less<std::string>, Ogre::STLAllocator<std::pair<std::string const, std::string>, Ogre::CategorisedAllocPolicy<(Ogre::MemoryCategory)0> > > const*) ()\n   from /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.8.1\n#9  0x00007ffff71ca0fe in gazebo::rendering::WindowManager::CreateWindow (this=0x7fffd800a450, \n    _ogreHandle=..., _width=_width@entry=1, _height=_height@entry=1)\n    at /home/louise/code/gazeboC/gazebo/rendering/WindowManager.cc:117\n#10 0x00007ffff716677b in gazebo::rendering::RenderEngine::Load (\n    this=0x7ffff7b940c0 <SingletonT<gazebo::rendering::RenderEngine>::GetInstance()::t>)\n    at /home/louise/code/gazeboC/gazebo/rendering/RenderEngine.cc:154\n#11 0x00007ffff716a285 in gazebo::rendering::load ()\n    at /home/louise/code/gazeboC/gazebo/rendering/RenderingIface.cc:33\n#12 0x00007ffff7938712 in gazebo::sensors::load ()\n    at /home/louise/code/gazeboC/gazebo/sensors/SensorsIface.cc:49\n#13 0x00007ffff7bc4e25 in gazebo::setupServer (_argc=5, _argv=0x7fffd80008c0)\n    at /home/louise/code/gazeboC/gazebo/gazebo.cc:84\n#14 0x00007ffff7bad136 in gazebo::Server::PreLoad (this=this@entry=0x7fffd80009a0)\n    at /home/louise/code/gazeboC/gazebo/Server.cc:412\n#15 0x00007ffff7baff63 in gazebo::Server::ParseArgs (this=this@entry=0x7fffd80009a0, \n    _argc=_argc@entry=5, _argv=_argv@entry=0x7fffd99813b0)\n    at /home/louise/code/gazeboC/gazebo/Server.cc:273\n#16 0x000000000041ea7a in gazebo::ServerFixture::RunServer (this=0x6fa990, _args=...)\n    at /home/louise/code/gazeboC/gazebo/test/ServerFixture.cc:257\n#17 0x00007ffff5d07a4a in ?? () from /usr/lib/x86_64-linux-gnu/libboost_thread.so.1.54.0\n#18 0x00007ffff727f182 in start_thread (arg=0x7fffdf9af700) at pthread_create.c:312\n#19 0x00007ffff4df747d in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:111\n~~~", "markup": "markdown", "html": "<p>It also consistently fails on my laptop (trusty)</p>\n<div class=\"codehilite\"><pre><span></span>#0  __strcmp_sse2_unaligned () at ../sysdeps/x86_64/multiarch/strcmp-sse2-unaligned.S:30\n#1  0x00007fffede71af0 in stub_find_dynamic () from /usr/lib/x86_64-linux-gnu/libglapi.so.0\n#2  0x00007fffede7195e in _glapi_get_proc_address () from /usr/lib/x86_64-linux-gnu/libglapi.so.0\n#3  0x00007ffff2b84529 in glXGetProcAddressARB () from /usr/lib/x86_64-linux-gnu/mesa/libGL.so.1\n#4  0x00007fffcf71d620 in ?? () from /usr/lib/x86_64-linux-gnu/OGRE-1.8.0/RenderSystem_GL.so\n#5  0x00007fffcf72dc5d in ?? () from /usr/lib/x86_64-linux-gnu/OGRE-1.8.0/RenderSystem_GL.so\n#6  0x00007fffcf705ee1 in Ogre::GLRenderSystem::initialiseContext(Ogre::RenderWindow*) ()\n   from /usr/lib/x86_64-linux-gnu/OGRE-1.8.0/RenderSystem_GL.so\n#7  0x00007fffcf70c1cc in Ogre::GLRenderSystem::_createRenderWindow(std::string const&amp;, unsigned int, unsigned int, bool, std::map&lt;std::string, std::string, std::less&lt;std::string&gt;, Ogre::STLAllocator&lt;std::pair&lt;std::string const, std::string&gt;, Ogre::CategorisedAllocPolicy&lt;(Ogre::MemoryCategory)0&gt; &gt; &gt; const*) ()\n   from /usr/lib/x86_64-linux-gnu/OGRE-1.8.0/RenderSystem_GL.so\n#8  0x00007ffff3dd5612 in Ogre::Root::createRenderWindow(std::string const&amp;, unsigned int, unsigned int, bool, std::map&lt;std::string, std::string, std::less&lt;std::string&gt;, Ogre::STLAllocator&lt;std::pair&lt;std::string const, std::string&gt;, Ogre::CategorisedAllocPolicy&lt;(Ogre::MemoryCategory)0&gt; &gt; &gt; const*) ()\n   from /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.8.1\n#9  0x00007ffff71ca0fe in gazebo::rendering::WindowManager::CreateWindow (this=0x7fffd800a450, \n    _ogreHandle=..., _width=_width@entry=1, _height=_height@entry=1)\n    at /home/louise/code/gazeboC/gazebo/rendering/WindowManager.cc:117\n#10 0x00007ffff716677b in gazebo::rendering::RenderEngine::Load (\n    this=0x7ffff7b940c0 &lt;SingletonT&lt;gazebo::rendering::RenderEngine&gt;::GetInstance()::t&gt;)\n    at /home/louise/code/gazeboC/gazebo/rendering/RenderEngine.cc:154\n#11 0x00007ffff716a285 in gazebo::rendering::load ()\n    at /home/louise/code/gazeboC/gazebo/rendering/RenderingIface.cc:33\n#12 0x00007ffff7938712 in gazebo::sensors::load ()\n    at /home/louise/code/gazeboC/gazebo/sensors/SensorsIface.cc:49\n#13 0x00007ffff7bc4e25 in gazebo::setupServer (_argc=5, _argv=0x7fffd80008c0)\n    at /home/louise/code/gazeboC/gazebo/gazebo.cc:84\n#14 0x00007ffff7bad136 in gazebo::Server::PreLoad (this=this@entry=0x7fffd80009a0)\n    at /home/louise/code/gazeboC/gazebo/Server.cc:412\n#15 0x00007ffff7baff63 in gazebo::Server::ParseArgs (this=this@entry=0x7fffd80009a0, \n    _argc=_argc@entry=5, _argv=_argv@entry=0x7fffd99813b0)\n    at /home/louise/code/gazeboC/gazebo/Server.cc:273\n#16 0x000000000041ea7a in gazebo::ServerFixture::RunServer (this=0x6fa990, _args=...)\n    at /home/louise/code/gazeboC/gazebo/test/ServerFixture.cc:257\n#17 0x00007ffff5d07a4a in ?? () from /usr/lib/x86_64-linux-gnu/libboost_thread.so.1.54.0\n#18 0x00007ffff727f182 in start_thread (arg=0x7fffdf9af700) at pthread_create.c:312\n#19 0x00007ffff4df747d in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:111\n</pre></div>", "type": "rendered"}, "created_on": "2016-01-29T07:13:44.310635+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2016-01-29T07:13:44.313018+00:00", "type": "pullrequest_comment", "id": 13987685}, "pull_request": {"type": "pullrequest", "id": 2109, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2109.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2109"}}, "title": "Fixes for tests and warnings"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2109/comments/13987619.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2109/_/diff#comment-13987619"}}, "parent": {"id": 13987467, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2109/comments/13987467.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2109/_/diff#comment-13987467"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2109, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2109.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2109"}}, "title": "Fixes for tests and warnings"}, "content": {"raw": "This test is always failing for me. Backtrace:\n\n~~~\nProgram received signal SIGSEGV, Segmentation fault.\n__strcmp_sse2_unaligned () at ../sysdeps/x86_64/multiarch/strcmp-sse2-unaligned.S:30\n30\t../sysdeps/x86_64/multiarch/strcmp-sse2-unaligned.S: No such file or directory.\n(gdb) bt\n#0  __strcmp_sse2_unaligned () at ../sysdeps/x86_64/multiarch/strcmp-sse2-unaligned.S:30\n#1  0x00007fffe57d7af0 in stub_find_dynamic () from /usr/lib/x86_64-linux-gnu/libglapi.so.0\n#2  0x00007fffe57d795e in _glapi_get_proc_address () from /usr/lib/x86_64-linux-gnu/libglapi.so.0\n#3  0x00007fffec571529 in glXGetProcAddressARB () from /usr/lib/x86_64-linux-gnu/mesa/libGL.so.1\n#4  0x00007fffca233620 in ?? () from /usr/lib/x86_64-linux-gnu/OGRE-1.8.0/RenderSystem_GL.so\n#5  0x00007fffca243c5d in ?? () from /usr/lib/x86_64-linux-gnu/OGRE-1.8.0/RenderSystem_GL.so\n#6  0x00007fffca21bee1 in Ogre::GLRenderSystem::initialiseContext(Ogre::RenderWindow*) ()\n   from /usr/lib/x86_64-linux-gnu/OGRE-1.8.0/RenderSystem_GL.so\n#7  0x00007fffca2221cc in Ogre::GLRenderSystem::_createRenderWindow(std::string const&, unsigned int, unsigned int, bool, std::map<std::string, std::string, std::less<std::string>, Ogre::STLAllocator<std::pair<std::string const, std::string>, Ogre::CategorisedAllocPolicy<(Ogre::MemoryCategory)0> > > const*) ()\n   from /usr/lib/x86_64-linux-gnu/OGRE-1.8.0/RenderSystem_GL.so\n#8  0x00007fffefea4612 in Ogre::Root::createRenderWindow(std::string const&, unsigned int, unsigned int, bool, std::map<std::string, std::string, std::less<std::string>, Ogre::STLAllocator<std::pair<std::string const, std::string>, Ogre::CategorisedAllocPolicy<(Ogre::MemoryCategory)0> > > const*) ()\n   from /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.8.1\n#9  0x00007ffff5b130fe in gazebo::rendering::WindowManager::CreateWindow (this=0x8ac480, \n    _ogreHandle=..., _width=_width@entry=1, _height=_height@entry=1)\n    at /home/louise/code/gazeboC/gazebo/rendering/WindowManager.cc:117\n#10 0x00007ffff5aaf77b in gazebo::rendering::RenderEngine::Load (\n    this=0x7ffff7b92d80 <SingletonT<gazebo::rendering::RenderEngine>::GetInstance()::t>)\n    at /home/louise/code/gazeboC/gazebo/rendering/RenderEngine.cc:154\n#11 0x00007ffff5ab3285 in gazebo::rendering::load ()\n    at /home/louise/code/gazeboC/gazebo/rendering/RenderingIface.cc:33\n#12 0x00007ffff638e908 in QMetaMethod::invoke(QObject*, Qt::ConnectionType, QGenericReturnArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument) const ()\n   from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#13 0x00007ffff73aa08f in ?? () from /usr/lib/x86_64-linux-gnu/libQtTest.so.4\n#14 0x00007ffff73acd8d in ?? () from /usr/lib/x86_64-linux-gnu/libQtTest.so.4\n#15 0x00007ffff73adddf in QTest::qExec(QObject*, int, char**) ()\n   from /usr/lib/x86_64-linux-gnu/libQtTest.so.4\n#16 0x00000000004071e5 in main (argc=1, argv=0x7fffffffde98)\n    at /home/louise/code/gazeboC/gazebo/gui/viewers/ImagesView_TEST.cc:148\n~~~", "markup": "markdown", "html": "<p>This test is always failing for me. Backtrace:</p>\n<div class=\"codehilite\"><pre><span></span>Program received signal SIGSEGV, Segmentation fault.\n__strcmp_sse2_unaligned () at ../sysdeps/x86_64/multiarch/strcmp-sse2-unaligned.S:30\n30  ../sysdeps/x86_64/multiarch/strcmp-sse2-unaligned.S: No such file or directory.\n(gdb) bt\n#0  __strcmp_sse2_unaligned () at ../sysdeps/x86_64/multiarch/strcmp-sse2-unaligned.S:30\n#1  0x00007fffe57d7af0 in stub_find_dynamic () from /usr/lib/x86_64-linux-gnu/libglapi.so.0\n#2  0x00007fffe57d795e in _glapi_get_proc_address () from /usr/lib/x86_64-linux-gnu/libglapi.so.0\n#3  0x00007fffec571529 in glXGetProcAddressARB () from /usr/lib/x86_64-linux-gnu/mesa/libGL.so.1\n#4  0x00007fffca233620 in ?? () from /usr/lib/x86_64-linux-gnu/OGRE-1.8.0/RenderSystem_GL.so\n#5  0x00007fffca243c5d in ?? () from /usr/lib/x86_64-linux-gnu/OGRE-1.8.0/RenderSystem_GL.so\n#6  0x00007fffca21bee1 in Ogre::GLRenderSystem::initialiseContext(Ogre::RenderWindow*) ()\n   from /usr/lib/x86_64-linux-gnu/OGRE-1.8.0/RenderSystem_GL.so\n#7  0x00007fffca2221cc in Ogre::GLRenderSystem::_createRenderWindow(std::string const&amp;, unsigned int, unsigned int, bool, std::map&lt;std::string, std::string, std::less&lt;std::string&gt;, Ogre::STLAllocator&lt;std::pair&lt;std::string const, std::string&gt;, Ogre::CategorisedAllocPolicy&lt;(Ogre::MemoryCategory)0&gt; &gt; &gt; const*) ()\n   from /usr/lib/x86_64-linux-gnu/OGRE-1.8.0/RenderSystem_GL.so\n#8  0x00007fffefea4612 in Ogre::Root::createRenderWindow(std::string const&amp;, unsigned int, unsigned int, bool, std::map&lt;std::string, std::string, std::less&lt;std::string&gt;, Ogre::STLAllocator&lt;std::pair&lt;std::string const, std::string&gt;, Ogre::CategorisedAllocPolicy&lt;(Ogre::MemoryCategory)0&gt; &gt; &gt; const*) ()\n   from /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.8.1\n#9  0x00007ffff5b130fe in gazebo::rendering::WindowManager::CreateWindow (this=0x8ac480, \n    _ogreHandle=..., _width=_width@entry=1, _height=_height@entry=1)\n    at /home/louise/code/gazeboC/gazebo/rendering/WindowManager.cc:117\n#10 0x00007ffff5aaf77b in gazebo::rendering::RenderEngine::Load (\n    this=0x7ffff7b92d80 &lt;SingletonT&lt;gazebo::rendering::RenderEngine&gt;::GetInstance()::t&gt;)\n    at /home/louise/code/gazeboC/gazebo/rendering/RenderEngine.cc:154\n#11 0x00007ffff5ab3285 in gazebo::rendering::load ()\n    at /home/louise/code/gazeboC/gazebo/rendering/RenderingIface.cc:33\n#12 0x00007ffff638e908 in QMetaMethod::invoke(QObject*, Qt::ConnectionType, QGenericReturnArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument) const ()\n   from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#13 0x00007ffff73aa08f in ?? () from /usr/lib/x86_64-linux-gnu/libQtTest.so.4\n#14 0x00007ffff73acd8d in ?? () from /usr/lib/x86_64-linux-gnu/libQtTest.so.4\n#15 0x00007ffff73adddf in QTest::qExec(QObject*, int, char**) ()\n   from /usr/lib/x86_64-linux-gnu/libQtTest.so.4\n#16 0x00000000004071e5 in main (argc=1, argv=0x7fffffffde98)\n    at /home/louise/code/gazeboC/gazebo/gui/viewers/ImagesView_TEST.cc:148\n</pre></div>", "type": "rendered"}, "created_on": "2016-01-29T07:10:40.295110+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2016-01-29T07:10:40.297512+00:00", "type": "pullrequest_comment", "id": 13987619}, "pull_request": {"type": "pullrequest", "id": 2109, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2109.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2109"}}, "title": "Fixes for tests and warnings"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2109/comments/13987467.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2109/_/diff#comment-13987467"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2109, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2109.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2109"}}, "title": "Fixes for tests and warnings"}, "content": {"raw": "The `UNIT_ImagesView_TEST` failed in the [most recent homebrew build](http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/75/testReport/junit/UNIT_ImagesView_TEST/xml/_empty_/). Here's a summary:\n\n## [Default branch](http://build.osrfoundation.org/view/main/view/GazeboDefault/job/gazebo-ci-default-homebrew-amd64/28/testReport/UNIT_ImagesView_TEST/xml/_empty_/)\n\nOn default, it fails with a timeout:\n\n~~~\n163/490 Test #163: UNIT_ImagesView_TEST ..................................***Timeout 249.17 sec\n~~~\n\n## This branch\n\nIn my first jenkins test, it [passed](http://build.osrfoundation.org/view/gazebo/job/gazebo-ci-pr_any-homebrew-amd64/72/testReport/%28root%29/ImagesView_TEST/). In the most recent build, [it failed](http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/75/testReport/junit/UNIT_ImagesView_TEST/xml/_empty_/), but it was a failure caused by an exception rather than a timeout:\n\n~~~\n163: Assertion failed: (!res), function ~mutex, file /Users/jenkins/jenkins.i7st/include/boost/thread/pthread/mutex.hpp, line 111.\n163/490 Test #163: UNIT_ImagesView_TEST ..................................***Exception: Other308.26 sec\n~~~\n\n I believe this test will still fail intermittently for some reason, but we can address that at a later time. I believe the timeout increase in this branch is justified, despite this recent failure.", "markup": "markdown", "html": "<p>The <code>UNIT_ImagesView_TEST</code> failed in the <a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/75/testReport/junit/UNIT_ImagesView_TEST/xml/_empty_/\" rel=\"nofollow\">most recent homebrew build</a>. Here's a summary:</p>\n<h2 id=\"markdown-header-default-branch\"><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/main/view/GazeboDefault/job/gazebo-ci-default-homebrew-amd64/28/testReport/UNIT_ImagesView_TEST/xml/_empty_/\" rel=\"nofollow\">Default branch</a></h2>\n<p>On default, it fails with a timeout:</p>\n<div class=\"codehilite\"><pre><span></span>163/490 Test #163: UNIT_ImagesView_TEST ..................................***Timeout 249.17 sec\n</pre></div>\n\n\n<h2 id=\"markdown-header-this-branch\">This branch</h2>\n<p>In my first jenkins test, it <a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/gazebo/job/gazebo-ci-pr_any-homebrew-amd64/72/testReport/%28root%29/ImagesView_TEST/\" rel=\"nofollow\">passed</a>. In the most recent build, <a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/75/testReport/junit/UNIT_ImagesView_TEST/xml/_empty_/\" rel=\"nofollow\">it failed</a>, but it was a failure caused by an exception rather than a timeout:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"mi\">163</span><span class=\"o\">:</span> <span class=\"n\">Assertion</span> <span class=\"n\">failed</span><span class=\"o\">:</span> <span class=\"o\">(!</span><span class=\"n\">res</span><span class=\"o\">),</span> <span class=\"kd\">function</span> <span class=\"o\">~</span><span class=\"n\">mutex</span><span class=\"o\">,</span> <span class=\"n\">file</span> <span class=\"sr\">/Users/jenkins/jenkins.i7st/include/boost/thread/pthread/</span><span class=\"n\">mutex</span><span class=\"o\">.</span><span class=\"na\">hpp</span><span class=\"o\">,</span> <span class=\"n\">line</span> <span class=\"mi\">111</span><span class=\"o\">.</span>\n<span class=\"mi\">163</span><span class=\"o\">/</span><span class=\"mi\">490</span> <span class=\"n\">Test</span> <span class=\"err\">#</span><span class=\"mi\">163</span><span class=\"o\">:</span> <span class=\"n\">UNIT_ImagesView_TEST</span> <span class=\"o\">..................................***</span><span class=\"n\">Exception</span><span class=\"o\">:</span> <span class=\"n\">Other308</span><span class=\"o\">.</span><span class=\"mi\">26</span> <span class=\"n\">sec</span>\n</pre></div>\n\n\n<p>I believe this test will still fail intermittently for some reason, but we can address that at a later time. I believe the timeout increase in this branch is justified, despite this recent failure.</p>", "type": "rendered"}, "created_on": "2016-01-29T07:02:22.159826+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2016-01-29T07:02:22.162003+00:00", "type": "pullrequest_comment", "id": 13987467}, "pull_request": {"type": "pullrequest", "id": 2109, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2109.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2109"}}, "title": "Fixes for tests and warnings"}}, {"update": {"description": "We will be doing a sprint soon to fix as many gazebo tests as possible. In preparation, we have made a dashboard summarizing the state of our jenkins builds of the default branch on all our supported platforms:\r\n\r\n* http://build.osrfoundation.org/view/main/view/GazeboDefault/\r\n\r\nIt uses the following color codes:\r\n\r\n* Red: build failure\r\n* Yellow: build completed with some warnings, cppcheck errors, or test failures\r\n* Blue: clean build\r\n\r\nThe dashboard also summarizes how many warnings, cppcheck errors, and test failures are present on a given build. While working to catalog these failures, I've identified fixes for quite a few of them, which I've included in this pull request.\r\n\r\n## Trusty fixes\r\n\r\n* trusty, release mode has 2 [compiler warnings related to unused variables](http://build.osrfoundation.org/view/main/view/GazeboDefault/job/gazebo-ci_BTRelease-default-trusty-amd64-gpu-none/warnings). This is caused by using a variable only in a `GZ_ASSERT`, which is a no-op in release mode. Fixed in 84a2658\r\n\r\n* trusty debug mode has a persistent timeout of `INTEGRATION_joint_gearbox` (issue #1824). I increased the timeout in 96548ab\r\n\r\n## OS X test fixes\r\n\r\n* `UNIT_Rand_TEST` fails on OS X (and also on [wily](http://build.osrfoundation.org/view/main/view/GazeboDefault/job/gazebo-ci-default-wily-amd64-gpu-none/lastCompletedBuild/testReport/%28root%29/RandTest/Rand/)) by expecting a specific random number after setting the seed. I'm not sure we can expect all random number generators to be implemented in the same way, so I modified the test in 473acbf to expect repeatability after setting the seed, but not exact values.\r\n\r\n* There are some tests that always fail on OSX (see issues #1219 and #1846) that I have disabled in b4d728e\r\n\r\n* I fixed some osx GUI tests in 442df5f and also added some extra console output, since the console output from QTest's is attenuated in jenkins (issue #1845)\r\n\r\nSince the fixes are all in specific commits, please consider approving the individual commits as you review this PR.\r\n\r\nI'll post jenkins results as they are available.\r\n\r\n* [OSX UNIT_ImagesView_TEST passed](http://build.osrfoundation.org/view/gazebo/job/gazebo-ci-pr_any-homebrew-amd64/72/testReport/%28root%29/ImagesView_TEST/), and it [fails on default](http://build.osrfoundation.org/view/main/view/GazeboDefault/job/gazebo-ci-default-homebrew-amd64/28/testReport/UNIT_ImagesView_TEST/xml/_empty_/)\r\n* [OSX UNIT_LayersWidget_TEST fixed](http://build.osrfoundation.org/view/gazebo/job/gazebo-ci-pr_any-homebrew-amd64/72/testReport/%28root%29/LayersWidget_TEST/)\r\n* [OSX UNIT_Projection_TEST fixed](http://build.osrfoundation.org/view/gazebo/job/gazebo-ci-pr_any-homebrew-amd64/72/testReport/%28root%29/Projection_TEST/)\r\n* no regressions in [trusty nvidia build](http://build.osrfoundation.org/view/gazebo/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/73/)\r\n* no related failures in [trusty no-gpu](http://build.osrfoundation.org/job/gazebo-ci-pr_any-trusty-amd64-gpu-none/82/)\r\n* regression of `UNIT_ImagesView_TEST` in [homebrew build](http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/75/), see discussion in comment thread", "title": "Fixes for tests and warnings", "destination": {"commit": {"hash": "902f8a1ea894", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/902f8a1ea894.json"}, "html": {"href": "#!/osrf/gazebo/commits/902f8a1ea894"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "96548ab57c74", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/96548ab57c74.json"}, "html": {"href": "#!/osrf/gazebo/commits/96548ab57c74"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "osx_gui_tests"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2016-01-29T06:39:46.084081+00:00"}, "pull_request": {"type": "pullrequest", "id": 2109, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2109.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2109"}}, "title": "Fixes for tests and warnings"}}, {"approval": {"date": "2016-01-29T00:42:52.661248+00:00", "pullrequest": {"type": "pullrequest", "id": 2109, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2109.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2109"}}, "title": "Fixes for tests and warnings"}, "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}}, "pull_request": {"type": "pullrequest", "id": 2109, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2109.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2109"}}, "title": "Fixes for tests and warnings"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2109/comments/13982004.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2109/_/diff#comment-13982004"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2109, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2109.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2109"}}, "title": "Fixes for tests and warnings"}, "content": {"raw": "nice! The tests also pass locally on my laptop. ", "markup": "markdown", "html": "<p>nice! The tests also pass locally on my laptop. </p>", "type": "rendered"}, "created_on": "2016-01-29T00:41:12.476149+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2016-01-29T00:41:12.478673+00:00", "type": "pullrequest_comment", "id": 13982004}, "pull_request": {"type": "pullrequest", "id": 2109, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2109.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2109"}}, "title": "Fixes for tests and warnings"}}, {"update": {"description": "We will be doing a sprint soon to fix as many gazebo tests as possible. In preparation, we have made a dashboard summarizing the state of our jenkins builds of the default branch on all our supported platforms:\r\n\r\n* http://build.osrfoundation.org/view/main/view/GazeboDefault/\r\n\r\nIt uses the following color codes:\r\n\r\n* Red: build failure\r\n* Yellow: build completed with some warnings, cppcheck errors, or test failures\r\n* Blue: clean build\r\n\r\nThe dashboard also summarizes how many warnings, cppcheck errors, and test failures are present on a given build. While working to catalog these failures, I've identified fixes for quite a few of them, which I've included in this pull request.\r\n\r\n## Trusty fixes\r\n\r\n* trusty, release mode has 2 [compiler warnings related to unused variables](http://build.osrfoundation.org/view/main/view/GazeboDefault/job/gazebo-ci_BTRelease-default-trusty-amd64-gpu-none/warnings). This is caused by using a variable only in a `GZ_ASSERT`, which is a no-op in release mode. Fixed in 84a2658\r\n\r\n* trusty debug mode has a persistent timeout of `INTEGRATION_joint_gearbox` (issue #1824). I increased the timeout in 96548ab\r\n\r\n## OS X test fixes\r\n\r\n* `UNIT_Rand_TEST` fails on OS X (and also on [wily](http://build.osrfoundation.org/view/main/view/GazeboDefault/job/gazebo-ci-default-wily-amd64-gpu-none/lastCompletedBuild/testReport/%28root%29/RandTest/Rand/)) by expecting a specific random number after setting the seed. I'm not sure we can expect all random number generators to be implemented in the same way, so I modified the test in 473acbf to expect repeatability after setting the seed, but not exact values.\r\n\r\n* There are some tests that always fail on OSX (see issues #1219 and #1846) that I have disabled in b4d728e\r\n\r\n* I fixed some osx GUI tests in 442df5f and also added some extra console output, since the console output from QTest's is attenuated in jenkins (issue #1845)\r\n\r\nSince the fixes are all in specific commits, please consider approving the individual commits as you review this PR.\r\n\r\nI'll post jenkins results as they are available.\r\n\r\n* [OSX UNIT_ImagesView_TEST passed](http://build.osrfoundation.org/view/gazebo/job/gazebo-ci-pr_any-homebrew-amd64/72/testReport/%28root%29/ImagesView_TEST/), and it [fails on default](http://build.osrfoundation.org/view/main/view/GazeboDefault/job/gazebo-ci-default-homebrew-amd64/28/testReport/UNIT_ImagesView_TEST/xml/_empty_/)\r\n* [OSX UNIT_LayersWidget_TEST fixed](http://build.osrfoundation.org/view/gazebo/job/gazebo-ci-pr_any-homebrew-amd64/72/testReport/%28root%29/LayersWidget_TEST/)\r\n* [OSX UNIT_Projection_TEST fixed](http://build.osrfoundation.org/view/gazebo/job/gazebo-ci-pr_any-homebrew-amd64/72/testReport/%28root%29/Projection_TEST/)\r\n* no regressions in [trusty nvidia build](http://build.osrfoundation.org/view/gazebo/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/73/)\r\n* no related failures in [trusty no-gpu](http://build.osrfoundation.org/job/gazebo-ci-pr_any-trusty-amd64-gpu-none/82/)", "title": "Fixes for tests and warnings", "destination": {"commit": {"hash": "902f8a1ea894", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/902f8a1ea894.json"}, "html": {"href": "#!/osrf/gazebo/commits/902f8a1ea894"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "96548ab57c74", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/96548ab57c74.json"}, "html": {"href": "#!/osrf/gazebo/commits/96548ab57c74"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "osx_gui_tests"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2016-01-28T23:33:58.207915+00:00"}, "pull_request": {"type": "pullrequest", "id": 2109, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2109.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2109"}}, "title": "Fixes for tests and warnings"}}, {"update": {"description": "We will be doing a sprint soon to fix as many gazebo tests as possible. In preparation, we have made a dashboard summarizing the state of our jenkins builds of the default branch on all our supported platforms:\r\n\r\n* http://build.osrfoundation.org/view/main/view/GazeboDefault/\r\n\r\nIt uses the following color codes:\r\n\r\n* Red: build failure\r\n* Yellow: build completed with some warnings, cppcheck errors, or test failures\r\n* Blue: clean build\r\n\r\nThe dashboard also summarizes how many warnings, cppcheck errors, and test failures are present on a given build. While working to catalog these failures, I've identified fixes for quite a few of them, which I've included in this pull request.\r\n\r\n## Trusty fixes\r\n\r\n* trusty, release mode has 2 [compiler warnings related to unused variables](http://build.osrfoundation.org/view/main/view/GazeboDefault/job/gazebo-ci_BTRelease-default-trusty-amd64-gpu-none/warnings). This is caused by using a variable only in a `GZ_ASSERT`, which is a no-op in release mode. Fixed in 84a2658\r\n\r\n* trusty debug mode has a persistent timeout of `INTEGRATION_joint_gearbox` (issue #1824). I increased the timeout in 96548ab\r\n\r\n## OS X test fixes\r\n\r\n* `UNIT_Rand_TEST` fails on OS X (and also on [wily](http://build.osrfoundation.org/view/main/view/GazeboDefault/job/gazebo-ci-default-wily-amd64-gpu-none/lastCompletedBuild/testReport/%28root%29/RandTest/Rand/)) by expecting a specific random number after setting the seed. I'm not sure we can expect all random number generators to be implemented in the same way, so I modified the test in 473acbf to expect repeatability after setting the seed, but not exact values.\r\n\r\n* There are some tests that always fail on OSX (see issues #1219 and #1846) that I have disabled in b4d728e\r\n\r\n* I fixed some osx GUI tests in 442df5f and also added some extra console output, since the console output from QTest's is attenuated in jenkins (issue #1845)\r\n\r\nSince the fixes are all in specific commits, please consider approving the individual commits as you review this PR.\r\n\r\nI'll post jenkins results as they are available.\r\n\r\n* [OSX UNIT_ImagesView_TEST passed](http://build.osrfoundation.org/view/gazebo/job/gazebo-ci-pr_any-homebrew-amd64/72/testReport/%28root%29/ImagesView_TEST/), and it [fails on default](http://build.osrfoundation.org/view/main/view/GazeboDefault/job/gazebo-ci-default-homebrew-amd64/28/testReport/UNIT_ImagesView_TEST/xml/_empty_/)\r\n* [OSX UNIT_LayersWidget_TEST fixed](http://build.osrfoundation.org/view/gazebo/job/gazebo-ci-pr_any-homebrew-amd64/72/testReport/%28root%29/LayersWidget_TEST/)\r\n* [OSX UNIT_Projection_TEST fixed](http://build.osrfoundation.org/view/gazebo/job/gazebo-ci-pr_any-homebrew-amd64/72/testReport/%28root%29/Projection_TEST/)\r\n* no regressions in [trusty nvidia build](http://build.osrfoundation.org/view/gazebo/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/73/)", "title": "Fixes for tests and warnings", "destination": {"commit": {"hash": "902f8a1ea894", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/902f8a1ea894.json"}, "html": {"href": "#!/osrf/gazebo/commits/902f8a1ea894"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "96548ab57c74", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/96548ab57c74.json"}, "html": {"href": "#!/osrf/gazebo/commits/96548ab57c74"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "osx_gui_tests"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2016-01-28T23:06:54.114885+00:00"}, "pull_request": {"type": "pullrequest", "id": 2109, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2109.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2109"}}, "title": "Fixes for tests and warnings"}}, {"update": {"description": "We will be doing a sprint soon to fix as many gazebo tests as possible. In preparation, we have made a dashboard summarizing the state of our jenkins builds of the default branch on all our supported platforms:\r\n\r\n* http://build.osrfoundation.org/view/main/view/GazeboDefault/\r\n\r\nIt uses the following color codes:\r\n\r\n* Red: build failure\r\n* Yellow: build completed with some warnings, cppcheck errors, or test failures\r\n* Blue: clean build\r\n\r\nThe dashboard also summarizes how many warnings, cppcheck errors, and test failures are present on a given build. While working to catalog these failures, I've identified fixes for quite a few of them, which I've included in this pull request.\r\n\r\n## Trusty fixes\r\n\r\n* trusty, release mode has 2 [compiler warnings related to unused variables](http://build.osrfoundation.org/view/main/view/GazeboDefault/job/gazebo-ci_BTRelease-default-trusty-amd64-gpu-none/warnings). This is caused by using a variable only in a `GZ_ASSERT`, which is a no-op in release mode. Fixed in 84a2658\r\n\r\n* trusty debug mode has a persistent timeout of `INTEGRATION_joint_gearbox` (issue #1824). I increased the timeout in 96548ab\r\n\r\n## OS X test fixes\r\n\r\n* `UNIT_Rand_TEST` fails on OS X (and also on [wily](http://build.osrfoundation.org/view/main/view/GazeboDefault/job/gazebo-ci-default-wily-amd64-gpu-none/lastCompletedBuild/testReport/%28root%29/RandTest/Rand/)) by expecting a specific random number after setting the seed. I'm not sure we can expect all random number generators to be implemented in the same way, so I modified the test in 473acbf to expect repeatability after setting the seed, but not exact values.\r\n\r\n* There are some tests that always fail on OSX (see issues #1219 and #1846) that I have disabled in b4d728e\r\n\r\n* I fixed some osx GUI tests in 442df5f and also added some extra console output, since the console output from QTest's is attenuated in jenkins (issue #1845)\r\n\r\nSince the fixes are all in specific commits, please consider approving the individual commits as you review this PR.\r\n\r\nI'll post jenkins results as they are available.\r\n\r\n* [OSX UNIT_ImagesView_TEST passed](http://build.osrfoundation.org/view/gazebo/job/gazebo-ci-pr_any-homebrew-amd64/72/testReport/%28root%29/ImagesView_TEST/), and it [fails on default](http://build.osrfoundation.org/view/main/view/GazeboDefault/job/gazebo-ci-default-homebrew-amd64/28/testReport/UNIT_ImagesView_TEST/xml/_empty_/)\r\n* [OSX UNIT_LayersWidget_TEST fixed](http://build.osrfoundation.org/view/gazebo/job/gazebo-ci-pr_any-homebrew-amd64/72/testReport/%28root%29/LayersWidget_TEST/)\r\n* [OSX UNIT_Projection_TEST fixed](http://build.osrfoundation.org/view/gazebo/job/gazebo-ci-pr_any-homebrew-amd64/72/testReport/%28root%29/Projection_TEST/)", "title": "Fixes for tests and warnings", "destination": {"commit": {"hash": "902f8a1ea894", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/902f8a1ea894.json"}, "html": {"href": "#!/osrf/gazebo/commits/902f8a1ea894"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "96548ab57c74", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/96548ab57c74.json"}, "html": {"href": "#!/osrf/gazebo/commits/96548ab57c74"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "osx_gui_tests"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2016-01-28T19:52:29.589972+00:00"}, "pull_request": {"type": "pullrequest", "id": 2109, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2109.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2109"}}, "title": "Fixes for tests and warnings"}}, {"update": {"description": "We will be doing a sprint soon to fix as many gazebo tests as possible. In preparation, we have made a dashboard summarizing the state of our jenkins builds of the default branch on all our supported platforms:\r\n\r\n* http://build.osrfoundation.org/view/main/view/GazeboDefault/\r\n\r\nIt uses the following color codes:\r\n\r\n* Red: build failure\r\n* Yellow: build completed with some warnings, cppcheck errors, or test failures\r\n* Blue: clean build\r\n\r\nThe dashboard also summarizes how many warnings, cppcheck errors, and test failures are present on a given build. While working to catalog these failures, I've identified fixes for quite a few of them, which I've included in this pull request.\r\n\r\n## Trusty fixes\r\n\r\n* trusty, release mode has 2 [compiler warnings related to unused variables](http://build.osrfoundation.org/view/main/view/GazeboDefault/job/gazebo-ci_BTRelease-default-trusty-amd64-gpu-none/warnings). This is caused by using a variable only in a `GZ_ASSERT`, which is a no-op in release mode. Fixed in 84a2658\r\n\r\n* trusty debug mode has a persistent timeout of `INTEGRATION_joint_gearbox` (issue #1824). I increased the timeout in 96548ab\r\n\r\n## OS X test fixes\r\n\r\n* `UNIT_Rand_TEST` fails on OS X (and also on [wily](http://build.osrfoundation.org/view/main/view/GazeboDefault/job/gazebo-ci-default-wily-amd64-gpu-none/lastCompletedBuild/testReport/%28root%29/RandTest/Rand/)) by expecting a specific random number after setting the seed. I'm not sure we can expect all random number generators to be implemented in the same way, so I modified the test in 473acbf to expect repeatability after setting the seed, but not exact values.\r\n\r\n* There are some tests that always fail on OSX (see issues #1219 and #1846) that I have disabled in b4d728e\r\n\r\n* I fixed some osx GUI tests in 442df5f and also added some extra console output, since the console output from QTest's is attenuated in jenkins (issue #1845)\r\n\r\nSince the fixes are all in specific commits, please consider approving the individual commits as you review this PR.\r\n\r\nI'll post jenkins results as they are available.\r\n\r\n* [OSX UNIT_ImagesView_TEST passed](http://build.osrfoundation.org/view/gazebo/job/gazebo-ci-pr_any-homebrew-amd64/72/testReport/%28root%29/ImagesView_TEST/), and it [fails on default](http://build.osrfoundation.org/view/main/view/GazeboDefault/job/gazebo-ci-default-homebrew-amd64/28/testReport/UNIT_ImagesView_TEST/xml/_empty_/)\r\n* [OSX UNIT_LayersWidget_TEST fixed](http://build.osrfoundation.org/view/gazebo/job/gazebo-ci-pr_any-homebrew-amd64/72/testReport/%28root%29/LayersWidget_TEST/)\r\n* [OSX UNIT_Projection_TEST fixed](http://build.osrfoundation.org/view/gazebo/job/gazebo-ci-pr_any-homebrew-amd64/72/testReport/%28root%29/Projection_TEST/)", "title": "Fixes for tests and warnings", "destination": {"commit": {"hash": "902f8a1ea894", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/902f8a1ea894.json"}, "html": {"href": "#!/osrf/gazebo/commits/902f8a1ea894"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "96548ab57c74", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/96548ab57c74.json"}, "html": {"href": "#!/osrf/gazebo/commits/96548ab57c74"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "osx_gui_tests"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2016-01-28T19:52:29.560402+00:00"}, "pull_request": {"type": "pullrequest", "id": 2109, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2109.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2109"}}, "title": "Fixes for tests and warnings"}}]}