{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1915/comments/10429523.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1915/_/diff#comment-10429523"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1915, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1915.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1915"}}, "title": "Issue_1702_part5"}, "content": {"raw": "I'm getting a test failure in `UNIT_RenderWidget_TEST`.\n\n~~~\nUNIT_RenderWidget_TEST: /usr/include/boost/smart_ptr/shared_ptr.hpp:653: typename boost::detail::sp_member_access<T>::type boost::shared_ptr<T>::operator->() const [with T = gazebo::rendering::Scene; typename boost::detail::sp_member_access<T>::type = gazebo::rendering::Scene*]: Assertion `px != 0' failed.\n...\n(gdb) bt\n...\n#3  0x00007ffff3f30c32 in __GI___assert_fail (assertion=0x7ffff709f2b1 \"px != 0\", \n    file=0x7ffff709f7b8 \"/usr/include/boost/smart_ptr/shared_ptr.hpp\", line=653, \n    function=0x7ffff70a5820 <_ZZNK5boost10shared_ptrIN6gazebo9rendering5SceneEEptEvE19__PRETTY_FUNCTION__> \"typename boost::detail::sp_member_access<T>::type boost::shared_ptr<T>::operator->() const [with T = gazebo::rendering::Scene; typename boost::detail::sp_member_access<T>::type = gazebo::rendering::Sc\"...) at assert.c:101\n#4  0x00007ffff6f12cf3 in boost::shared_ptr<gazebo::rendering::Scene>::operator-> (this=<optimized out>)\n    at /usr/include/boost/smart_ptr/shared_ptr.hpp:653\n#5  0x00007ffff6f14f1a in operator-> (this=0xadcf00) at /usr/include/c++/4.8/bits/stl_vector.h:911\n#6  gazebo::gui::GLWidget::SetSelectedVisual (this=this@entry=0xadcec0, _vis=...)\n    at /home/scpeters/ws/gazebo_sdformat/src/gazebo/gazebo/gui/GLWidget.cc:1034\n#7  0x00007ffff6f14fde in gazebo::gui::GLWidget::Clear (this=this@entry=0xadcec0)\n    at /home/scpeters/ws/gazebo_sdformat/src/gazebo/gazebo/gui/GLWidget.cc:874\n#8  0x00007ffff6f15096 in gazebo::gui::GLWidget::OnRemoveScene (this=0xadcec0, _name=...)\n    at /home/scpeters/ws/gazebo_sdformat/src/gazebo/gazebo/gui/GLWidget.cc:913\n#9  0x00007ffff5521579 in operator() (a0=..., this=<optimized out>)\n    at /usr/include/boost/function/function_template.hpp:767\n#10 gazebo::event::EventT<void (std::string const&)>::Signal<std::string>(std::string const&) (this=\n    0x7ffff5829640 <gazebo::rendering::Events::removeScene>, _p=...)\n    at /home/scpeters/ws/gazebo_sdformat/src/gazebo/gazebo/common/Event.hh:377\n#11 0x00007ffff551d1dc in operator()<std::basic_string<char> > (_p=..., this=<optimized out>)\n    at /home/scpeters/ws/gazebo_sdformat/src/gazebo/gazebo/common/Event.hh:213\n#12 gazebo::rendering::RenderEngine::RemoveScene (\n    this=this@entry=0x7ffff788aec0 <SingletonT<gazebo::rendering::RenderEngine>::GetInstance()::t>, _name=...)\n    at /home/scpeters/ws/gazebo_sdformat/src/gazebo/gazebo/rendering/RenderEngine.cc:234\n#13 0x00007ffff551d377 in gazebo::rendering::RenderEngine::Fini (\n    this=0x7ffff788aec0 <SingletonT<gazebo::rendering::RenderEngine>::GetInstance()::t>)\n    at /home/scpeters/ws/gazebo_sdformat/src/gazebo/gazebo/rendering/RenderEngine.cc:351\n#14 0x00007ffff5522fc1 in gazebo::rendering::fini ()\n    at /home/scpeters/ws/gazebo_sdformat/src/gazebo/gazebo/rendering/RenderingIface.cc:66\n#15 0x00007ffff7637806 in gazebo::sensors::fini ()\n    at /home/scpeters/ws/gazebo_sdformat/src/gazebo/gazebo/sensors/SensorsIface.cc:77\n#16 0x00007ffff73b077c in gazebo::shutdown () at /home/scpeters/ws/gazebo_sdformat/src/gazebo/gazebo/gazebo.cc:177\n...\n~~~", "markup": "markdown", "html": "<p>I'm getting a test failure in <code>UNIT_RenderWidget_TEST</code>.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">UNIT_RenderWidget_TEST</span><span class=\"o\">:</span> <span class=\"o\">/</span><span class=\"nt\">usr</span><span class=\"o\">/</span><span class=\"nt\">include</span><span class=\"o\">/</span><span class=\"nt\">boost</span><span class=\"o\">/</span><span class=\"nt\">smart_ptr</span><span class=\"o\">/</span><span class=\"nt\">shared_ptr</span><span class=\"p\">.</span><span class=\"nc\">hpp</span><span class=\"p\">:</span><span class=\"nd\">653</span><span class=\"o\">:</span> <span class=\"nt\">typename</span> <span class=\"nt\">boost</span><span class=\"p\">::</span><span class=\"nd\">detail</span><span class=\"p\">::</span><span class=\"nd\">sp_member_access</span><span class=\"o\">&lt;</span><span class=\"nt\">T</span><span class=\"o\">&gt;</span><span class=\"p\">::</span><span class=\"nd\">type</span> <span class=\"nt\">boost</span><span class=\"p\">::</span><span class=\"nd\">shared_ptr</span><span class=\"o\">&lt;</span><span class=\"nt\">T</span><span class=\"o\">&gt;</span><span class=\"p\">::</span><span class=\"nd\">operator-</span><span class=\"o\">&gt;()</span> <span class=\"nt\">const</span> <span class=\"cp\">[</span><span class=\"k\">with</span> <span class=\"n\">T</span><span class=\"o\"> =</span> <span class=\"nx\">gazebo</span><span class=\"nl\">::rendering::Scene</span><span class=\"p\">;</span> <span class=\"nx\">typename</span> <span class=\"nx\">boost</span><span class=\"nl\">::detail::sp_member_access</span><span class=\"o\">&lt;</span><span class=\"nx\">T</span><span class=\"o\">&gt;</span><span class=\"nl\">::type</span> <span class=\"o\">=</span> <span class=\"nx\">gazebo</span><span class=\"nl\">::rendering::Scene</span><span class=\"o\">*</span><span class=\"cp\">]</span><span class=\"o\">:</span> <span class=\"nt\">Assertion</span> <span class=\"err\">`</span><span class=\"nt\">px</span> <span class=\"o\">!=</span> <span class=\"nt\">0</span><span class=\"err\">&#39;</span> <span class=\"nt\">failed</span><span class=\"o\">.</span>\n<span class=\"o\">...</span>\n<span class=\"o\">(</span><span class=\"nt\">gdb</span><span class=\"o\">)</span> <span class=\"nt\">bt</span>\n<span class=\"o\">...</span>\n<span class=\"p\">#</span><span class=\"nn\">3</span>  <span class=\"nt\">0x00007ffff3f30c32</span> <span class=\"nt\">in</span> <span class=\"nt\">__GI___assert_fail</span> <span class=\"o\">(</span><span class=\"nt\">assertion</span><span class=\"o\">=</span><span class=\"nt\">0x7ffff709f2b1</span> <span class=\"s2\">&quot;px != 0&quot;</span><span class=\"o\">,</span> \n    <span class=\"nt\">file</span><span class=\"o\">=</span><span class=\"nt\">0x7ffff709f7b8</span> <span class=\"s2\">&quot;/usr/include/boost/smart_ptr/shared_ptr.hpp&quot;</span><span class=\"o\">,</span> <span class=\"nt\">line</span><span class=\"o\">=</span><span class=\"nt\">653</span><span class=\"o\">,</span> \n    <span class=\"nt\">function</span><span class=\"o\">=</span><span class=\"nt\">0x7ffff70a5820</span> <span class=\"o\">&lt;</span><span class=\"nt\">_ZZNK5boost10shared_ptrIN6gazebo9rendering5SceneEEptEvE19__PRETTY_FUNCTION__</span><span class=\"o\">&gt;</span> <span class=\"err\">&quot;</span><span class=\"nt\">typename</span> <span class=\"nt\">boost</span><span class=\"p\">::</span><span class=\"nd\">detail</span><span class=\"p\">::</span><span class=\"nd\">sp_member_access</span><span class=\"o\">&lt;</span><span class=\"nt\">T</span><span class=\"o\">&gt;</span><span class=\"p\">::</span><span class=\"nd\">type</span> <span class=\"nt\">boost</span><span class=\"p\">::</span><span class=\"nd\">shared_ptr</span><span class=\"o\">&lt;</span><span class=\"nt\">T</span><span class=\"o\">&gt;</span><span class=\"p\">::</span><span class=\"nd\">operator-</span><span class=\"o\">&gt;()</span> <span class=\"nt\">const</span> <span class=\"cp\">[</span><span class=\"k\">with</span> <span class=\"n\">T</span><span class=\"o\"> =</span> <span class=\"nx\">gazebo</span><span class=\"nl\">::rendering::Scene</span><span class=\"p\">;</span> <span class=\"nx\">typename</span> <span class=\"nx\">boost</span><span class=\"nl\">::detail::sp_member_access</span><span class=\"o\">&lt;</span><span class=\"nx\">T</span><span class=\"o\">&gt;</span><span class=\"nl\">::type</span> <span class=\"o\">=</span> <span class=\"nx\">gazebo</span><span class=\"nl\">::rendering::Sc</span><span class=\"s2\">&quot;...) at assert.c:101</span>\n<span class=\"s2\">#4  0x00007ffff6f12cf3 in boost::shared_ptr&lt;gazebo::rendering::Scene&gt;::operator-&gt; (this=&lt;optimized out&gt;)</span>\n<span class=\"s2\">    at /usr/include/boost/smart_ptr/shared_ptr.hpp:653</span>\n<span class=\"s2\">#5  0x00007ffff6f14f1a in operator-&gt; (this=0xadcf00) at /usr/include/c++/4.8/bits/stl_vector.h:911</span>\n<span class=\"s2\">#6  gazebo::gui::GLWidget::SetSelectedVisual (this=this@entry=0xadcec0, _vis=...)</span>\n<span class=\"s2\">    at /home/scpeters/ws/gazebo_sdformat/src/gazebo/gazebo/gui/GLWidget.cc:1034</span>\n<span class=\"s2\">#7  0x00007ffff6f14fde in gazebo::gui::GLWidget::Clear (this=this@entry=0xadcec0)</span>\n<span class=\"s2\">    at /home/scpeters/ws/gazebo_sdformat/src/gazebo/gazebo/gui/GLWidget.cc:874</span>\n<span class=\"s2\">#8  0x00007ffff6f15096 in gazebo::gui::GLWidget::OnRemoveScene (this=0xadcec0, _name=...)</span>\n<span class=\"s2\">    at /home/scpeters/ws/gazebo_sdformat/src/gazebo/gazebo/gui/GLWidget.cc:913</span>\n<span class=\"s2\">#9  0x00007ffff5521579 in operator() (a0=..., this=&lt;optimized out&gt;)</span>\n<span class=\"s2\">    at /usr/include/boost/function/function_template.hpp:767</span>\n<span class=\"s2\">#10 gazebo::event::EventT&lt;void (std::string const&amp;)&gt;::Signal&lt;std::string&gt;(std::string const&amp;) (this=</span>\n<span class=\"s2\">    0x7ffff5829640 &lt;gazebo::rendering::Events::removeScene&gt;, _p=...)</span>\n<span class=\"s2\">    at /home/scpeters/ws/gazebo_sdformat/src/gazebo/gazebo/common/Event.hh:377</span>\n<span class=\"s2\">#11 0x00007ffff551d1dc in operator()&lt;std::basic_string&lt;char&gt; &gt; (_p=..., this=&lt;optimized out&gt;)</span>\n<span class=\"s2\">    at /home/scpeters/ws/gazebo_sdformat/src/gazebo/gazebo/common/Event.hh:213</span>\n<span class=\"s2\">#12 gazebo::rendering::RenderEngine::RemoveScene (</span>\n<span class=\"s2\">    this=this@entry=0x7ffff788aec0 &lt;SingletonT&lt;gazebo::rendering::RenderEngine&gt;::GetInstance()::t&gt;, _name=...)</span>\n<span class=\"s2\">    at /home/scpeters/ws/gazebo_sdformat/src/gazebo/gazebo/rendering/RenderEngine.cc:234</span>\n<span class=\"s2\">#13 0x00007ffff551d377 in gazebo::rendering::RenderEngine::Fini (</span>\n<span class=\"s2\">    this=0x7ffff788aec0 &lt;SingletonT&lt;gazebo::rendering::RenderEngine&gt;::GetInstance()::t&gt;)</span>\n<span class=\"s2\">    at /home/scpeters/ws/gazebo_sdformat/src/gazebo/gazebo/rendering/RenderEngine.cc:351</span>\n<span class=\"s2\">#14 0x00007ffff5522fc1 in gazebo::rendering::fini ()</span>\n<span class=\"s2\">    at /home/scpeters/ws/gazebo_sdformat/src/gazebo/gazebo/rendering/RenderingIface.cc:66</span>\n<span class=\"s2\">#15 0x00007ffff7637806 in gazebo::sensors::fini ()</span>\n<span class=\"s2\">    at /home/scpeters/ws/gazebo_sdformat/src/gazebo/gazebo/sensors/SensorsIface.cc:77</span>\n<span class=\"s2\">#16 0x00007ffff73b077c in gazebo::shutdown () at /home/scpeters/ws/gazebo_sdformat/src/gazebo/gazebo/gazebo.cc:177</span>\n<span class=\"s2\">...</span>\n</pre></div>", "type": "rendered"}, "created_on": "2015-10-01T19:21:55.927601+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2015-10-01T19:21:55.932578+00:00", "type": "pullrequest_comment", "id": 10429523}