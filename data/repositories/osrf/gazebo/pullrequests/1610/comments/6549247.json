{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1610/comments/6549247.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1610/_/diff#comment-6549247"}}, "parent": {"id": 6549089, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1610/comments/6549089.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1610/_/diff#comment-6549089"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1610, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1610.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1610"}}, "title": "simbody contact manager integration for issue #865"}, "content": {"raw": "I'd say your test is already working -- it found a problem!\n\nAssuming the proper thread locks are already in place, I think a reasonable fix for this would be to add a call to\n `this->system.realize(state, Stage::Velocity)` just prior to the call to `calcContactPatchDetailsById()`. (Not sure if `system` is the right member name; should be the member of type `SimTK::MultibodySystem`.)", "markup": "markdown", "html": "<p>I'd say your test is already working -- it found a problem!</p>\n<p>Assuming the proper thread locks are already in place, I think a reasonable fix for this would be to add a call to\n <code>this-&gt;system.realize(state, Stage::Velocity)</code> just prior to the call to <code>calcContactPatchDetailsById()</code>. (Not sure if <code>system</code> is the right member name; should be the member of type <code>SimTK::MultibodySystem</code>.)</p>", "type": "rendered"}, "created_on": "2015-04-28T23:59:15.027034+00:00", "user": {"display_name": "Michael Sherman", "uuid": "{997c6f1e-e2a3-4f0e-8fa4-fed745840d50}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B997c6f1e-e2a3-4f0e-8fa4-fed745840d50%7D"}, "html": {"href": "https://bitbucket.org/%7B997c6f1e-e2a3-4f0e-8fa4-fed745840d50%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/355dea43ed612b7be3c9361df2d52213d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMS-2.png"}}, "nickname": "sherm1", "type": "user", "account_id": "557058:4590c319-b75f-4187-93d4-6cec61da74f7"}, "updated_on": "2015-04-28T23:59:15.033965+00:00", "type": "pullrequest_comment", "id": 6549247}