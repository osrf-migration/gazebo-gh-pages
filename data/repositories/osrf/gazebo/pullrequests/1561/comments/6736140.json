{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1561/comments/6736140.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1561/_/diff#comment-6736140"}}, "parent": {"id": 6734761, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1561/comments/6734761.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1561/_/diff#comment-6734761"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1561, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1561.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1561"}}, "title": "parallelize position projection error correction with threads"}, "content": {"raw": "The warning I got after merge: \n\n \n```\n#!c++\n/home/ying/ws/gazebo_pr/src/gazebo/deps/opende/src/quickstep_pgs_lcp.cpp: In function \u2018void* ComputeRows(void*)\u2019:\n/home/ying/ws/gazebo_pr/src/gazebo/deps/opende/src/quickstep_pgs_lcp.cpp:329:13: warning: unused variable \u2018delta_precon_erp\u2019 [-Wunused-variable]\n       dReal delta_precon_erp = 0;\n             ^\n/home/ying/ws/gazebo_pr/src/gazebo/deps/opende/src/quickstep_pgs_lcp.cpp:68:7: warning: unused variable \u2018thread_id\u2019 [-Wunused-variable]\n   int thread_id                 = params->thread_id;\n       ^\n/home/ying/ws/gazebo_pr/src/gazebo/deps/opende/src/quickstep_pgs_lcp.cpp:71:27: warning: unused variable \u2018mutex\u2019 [-Wunused-variable]\n   boost::recursive_mutex* mutex = params->mutex;\n                           ^\n/home/ying/ws/gazebo_pr/src/gazebo/deps/opende/src/quickstep_pgs_lcp.cpp:931:1: warning: no return statement in function returning non-void [-Wreturn-type]\n }\n ^\n/home/ying/ws/gazebo_pr/src/gazebo/deps/opende/src/quickstep_pgs_lcp.cpp: In function \u2018void ode::quickstep::PGS_LCP(dxWorldProcessContext*, int, int, dRealMutablePtr, dRealMutablePtr, dRealMutablePtr, int*, dxBody* const*, dRealPtr, dRealPtr, dRealMutablePtr, dRealMutablePtr, dRealMutablePtr, dRealMutablePtr, dRealMutablePtr, dRealMutablePtr, dRealMutablePtr, dRealMutablePtr, dRealPtr, dRealPtr, dRealPtr, const int*, dxQuickStepParameters*)\u2019:\n/home/ying/ws/gazebo_pr/src/gazebo/deps/opende/src/quickstep_pgs_lcp.cpp:1288:11: warning: variable \u2018pthread_err\u2019 set but not used [-Wunused-but-set-variable]\n       int pthread_err;\n           ^\n/home/ying/ws/gazebo_pr/src/gazebo/deps/opende/src/quickstep_pgs_lcp.cpp:1191:23: warning: \u2018params_erp\u2019 may be used uninitialized in this function [-Wmaybe-uninitialized]\n   dxPGSLCPParameters *params_erp;\n\n```\n\nIt seems those warnings came from variables used for debugging  purpose. ", "markup": "markdown", "html": "<p>The warning I got after merge: </p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">ying</span><span class=\"o\">/</span><span class=\"n\">ws</span><span class=\"o\">/</span><span class=\"n\">gazebo_pr</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">gazebo</span><span class=\"o\">/</span><span class=\"n\">deps</span><span class=\"o\">/</span><span class=\"n\">opende</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">quickstep_pgs_lcp</span><span class=\"p\">.</span><span class=\"nl\">cpp</span><span class=\"p\">:</span> <span class=\"n\">In</span> <span class=\"n\">function</span> <span class=\"err\">\u2018</span><span class=\"kt\">void</span><span class=\"o\">*</span> <span class=\"n\">ComputeRows</span><span class=\"p\">(</span><span class=\"kt\">void</span><span class=\"o\">*</span><span class=\"p\">)</span><span class=\"err\">\u2019</span><span class=\"o\">:</span>\n<span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">ying</span><span class=\"o\">/</span><span class=\"n\">ws</span><span class=\"o\">/</span><span class=\"n\">gazebo_pr</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">gazebo</span><span class=\"o\">/</span><span class=\"n\">deps</span><span class=\"o\">/</span><span class=\"n\">opende</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">quickstep_pgs_lcp</span><span class=\"p\">.</span><span class=\"nl\">cpp</span><span class=\"p\">:</span><span class=\"mi\">329</span><span class=\"o\">:</span><span class=\"mi\">13</span><span class=\"o\">:</span> <span class=\"nl\">warning</span><span class=\"p\">:</span> <span class=\"n\">unused</span> <span class=\"n\">variable</span> <span class=\"err\">\u2018</span><span class=\"n\">delta_precon_erp</span><span class=\"err\">\u2019</span> <span class=\"p\">[</span><span class=\"o\">-</span><span class=\"n\">Wunused</span><span class=\"o\">-</span><span class=\"n\">variable</span><span class=\"p\">]</span>\n       <span class=\"n\">dReal</span> <span class=\"n\">delta_precon_erp</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">;</span>\n             <span class=\"o\">^</span>\n<span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">ying</span><span class=\"o\">/</span><span class=\"n\">ws</span><span class=\"o\">/</span><span class=\"n\">gazebo_pr</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">gazebo</span><span class=\"o\">/</span><span class=\"n\">deps</span><span class=\"o\">/</span><span class=\"n\">opende</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">quickstep_pgs_lcp</span><span class=\"p\">.</span><span class=\"nl\">cpp</span><span class=\"p\">:</span><span class=\"mi\">68</span><span class=\"o\">:</span><span class=\"mi\">7</span><span class=\"o\">:</span> <span class=\"nl\">warning</span><span class=\"p\">:</span> <span class=\"n\">unused</span> <span class=\"n\">variable</span> <span class=\"err\">\u2018</span><span class=\"n\">thread_id</span><span class=\"err\">\u2019</span> <span class=\"p\">[</span><span class=\"o\">-</span><span class=\"n\">Wunused</span><span class=\"o\">-</span><span class=\"n\">variable</span><span class=\"p\">]</span>\n   <span class=\"kt\">int</span> <span class=\"n\">thread_id</span>                 <span class=\"o\">=</span> <span class=\"n\">params</span><span class=\"o\">-&gt;</span><span class=\"n\">thread_id</span><span class=\"p\">;</span>\n       <span class=\"o\">^</span>\n<span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">ying</span><span class=\"o\">/</span><span class=\"n\">ws</span><span class=\"o\">/</span><span class=\"n\">gazebo_pr</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">gazebo</span><span class=\"o\">/</span><span class=\"n\">deps</span><span class=\"o\">/</span><span class=\"n\">opende</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">quickstep_pgs_lcp</span><span class=\"p\">.</span><span class=\"nl\">cpp</span><span class=\"p\">:</span><span class=\"mi\">71</span><span class=\"o\">:</span><span class=\"mi\">27</span><span class=\"o\">:</span> <span class=\"nl\">warning</span><span class=\"p\">:</span> <span class=\"n\">unused</span> <span class=\"n\">variable</span> <span class=\"err\">\u2018</span><span class=\"n\">mutex</span><span class=\"err\">\u2019</span> <span class=\"p\">[</span><span class=\"o\">-</span><span class=\"n\">Wunused</span><span class=\"o\">-</span><span class=\"n\">variable</span><span class=\"p\">]</span>\n   <span class=\"n\">boost</span><span class=\"o\">::</span><span class=\"n\">recursive_mutex</span><span class=\"o\">*</span> <span class=\"n\">mutex</span> <span class=\"o\">=</span> <span class=\"n\">params</span><span class=\"o\">-&gt;</span><span class=\"n\">mutex</span><span class=\"p\">;</span>\n                           <span class=\"o\">^</span>\n<span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">ying</span><span class=\"o\">/</span><span class=\"n\">ws</span><span class=\"o\">/</span><span class=\"n\">gazebo_pr</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">gazebo</span><span class=\"o\">/</span><span class=\"n\">deps</span><span class=\"o\">/</span><span class=\"n\">opende</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">quickstep_pgs_lcp</span><span class=\"p\">.</span><span class=\"nl\">cpp</span><span class=\"p\">:</span><span class=\"mi\">931</span><span class=\"o\">:</span><span class=\"mi\">1</span><span class=\"o\">:</span> <span class=\"nl\">warning</span><span class=\"p\">:</span> <span class=\"n\">no</span> <span class=\"k\">return</span> <span class=\"n\">statement</span> <span class=\"n\">in</span> <span class=\"n\">function</span> <span class=\"n\">returning</span> <span class=\"n\">non</span><span class=\"o\">-</span><span class=\"kt\">void</span> <span class=\"p\">[</span><span class=\"o\">-</span><span class=\"n\">Wreturn</span><span class=\"o\">-</span><span class=\"n\">type</span><span class=\"p\">]</span>\n <span class=\"p\">}</span>\n <span class=\"o\">^</span>\n<span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">ying</span><span class=\"o\">/</span><span class=\"n\">ws</span><span class=\"o\">/</span><span class=\"n\">gazebo_pr</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">gazebo</span><span class=\"o\">/</span><span class=\"n\">deps</span><span class=\"o\">/</span><span class=\"n\">opende</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">quickstep_pgs_lcp</span><span class=\"p\">.</span><span class=\"nl\">cpp</span><span class=\"p\">:</span> <span class=\"n\">In</span> <span class=\"n\">function</span> <span class=\"err\">\u2018</span><span class=\"kt\">void</span> <span class=\"n\">ode</span><span class=\"o\">::</span><span class=\"n\">quickstep</span><span class=\"o\">::</span><span class=\"n\">PGS_LCP</span><span class=\"p\">(</span><span class=\"n\">dxWorldProcessContext</span><span class=\"o\">*</span><span class=\"p\">,</span> <span class=\"kt\">int</span><span class=\"p\">,</span> <span class=\"kt\">int</span><span class=\"p\">,</span> <span class=\"n\">dRealMutablePtr</span><span class=\"p\">,</span> <span class=\"n\">dRealMutablePtr</span><span class=\"p\">,</span> <span class=\"n\">dRealMutablePtr</span><span class=\"p\">,</span> <span class=\"kt\">int</span><span class=\"o\">*</span><span class=\"p\">,</span> <span class=\"n\">dxBody</span><span class=\"o\">*</span> <span class=\"k\">const</span><span class=\"o\">*</span><span class=\"p\">,</span> <span class=\"n\">dRealPtr</span><span class=\"p\">,</span> <span class=\"n\">dRealPtr</span><span class=\"p\">,</span> <span class=\"n\">dRealMutablePtr</span><span class=\"p\">,</span> <span class=\"n\">dRealMutablePtr</span><span class=\"p\">,</span> <span class=\"n\">dRealMutablePtr</span><span class=\"p\">,</span> <span class=\"n\">dRealMutablePtr</span><span class=\"p\">,</span> <span class=\"n\">dRealMutablePtr</span><span class=\"p\">,</span> <span class=\"n\">dRealMutablePtr</span><span class=\"p\">,</span> <span class=\"n\">dRealMutablePtr</span><span class=\"p\">,</span> <span class=\"n\">dRealMutablePtr</span><span class=\"p\">,</span> <span class=\"n\">dRealPtr</span><span class=\"p\">,</span> <span class=\"n\">dRealPtr</span><span class=\"p\">,</span> <span class=\"n\">dRealPtr</span><span class=\"p\">,</span> <span class=\"k\">const</span> <span class=\"kt\">int</span><span class=\"o\">*</span><span class=\"p\">,</span> <span class=\"n\">dxQuickStepParameters</span><span class=\"o\">*</span><span class=\"p\">)</span><span class=\"err\">\u2019</span><span class=\"o\">:</span>\n<span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">ying</span><span class=\"o\">/</span><span class=\"n\">ws</span><span class=\"o\">/</span><span class=\"n\">gazebo_pr</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">gazebo</span><span class=\"o\">/</span><span class=\"n\">deps</span><span class=\"o\">/</span><span class=\"n\">opende</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">quickstep_pgs_lcp</span><span class=\"p\">.</span><span class=\"nl\">cpp</span><span class=\"p\">:</span><span class=\"mi\">1288</span><span class=\"o\">:</span><span class=\"mi\">11</span><span class=\"o\">:</span> <span class=\"nl\">warning</span><span class=\"p\">:</span> <span class=\"n\">variable</span> <span class=\"err\">\u2018</span><span class=\"n\">pthread_err</span><span class=\"err\">\u2019</span> <span class=\"n\">set</span> <span class=\"n\">but</span> <span class=\"n\">not</span> <span class=\"n\">used</span> <span class=\"p\">[</span><span class=\"o\">-</span><span class=\"n\">Wunused</span><span class=\"o\">-</span><span class=\"n\">but</span><span class=\"o\">-</span><span class=\"n\">set</span><span class=\"o\">-</span><span class=\"n\">variable</span><span class=\"p\">]</span>\n       <span class=\"kt\">int</span> <span class=\"n\">pthread_err</span><span class=\"p\">;</span>\n           <span class=\"o\">^</span>\n<span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">ying</span><span class=\"o\">/</span><span class=\"n\">ws</span><span class=\"o\">/</span><span class=\"n\">gazebo_pr</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">gazebo</span><span class=\"o\">/</span><span class=\"n\">deps</span><span class=\"o\">/</span><span class=\"n\">opende</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">quickstep_pgs_lcp</span><span class=\"p\">.</span><span class=\"nl\">cpp</span><span class=\"p\">:</span><span class=\"mi\">1191</span><span class=\"o\">:</span><span class=\"mi\">23</span><span class=\"o\">:</span> <span class=\"nl\">warning</span><span class=\"p\">:</span> <span class=\"err\">\u2018</span><span class=\"n\">params_erp</span><span class=\"err\">\u2019</span> <span class=\"n\">may</span> <span class=\"n\">be</span> <span class=\"n\">used</span> <span class=\"n\">uninitialized</span> <span class=\"n\">in</span> <span class=\"k\">this</span> <span class=\"n\">function</span> <span class=\"p\">[</span><span class=\"o\">-</span><span class=\"n\">Wmaybe</span><span class=\"o\">-</span><span class=\"n\">uninitialized</span><span class=\"p\">]</span>\n   <span class=\"n\">dxPGSLCPParameters</span> <span class=\"o\">*</span><span class=\"n\">params_erp</span><span class=\"p\">;</span>\n</pre></div>\n\n\n<p>It seems those warnings came from variables used for debugging  purpose. </p>", "type": "rendered"}, "created_on": "2015-05-08T01:08:27.818258+00:00", "user": {"display_name": "Ying Lu", "uuid": "{11ec131e-4af6-4228-beaf-167b1c8d1c2c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D"}, "html": {"href": "https://bitbucket.org/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:659bfe31-d941-44f5-aa6d-00058b070ea8/c88d5925-8a09-40c7-8684-c02aeafe0f59/128"}}, "nickname": "rosebudflyaway", "type": "user", "account_id": "557058:659bfe31-d941-44f5-aa6d-00058b070ea8"}, "updated_on": "2015-05-08T01:08:27.899982+00:00", "type": "pullrequest_comment", "id": 6736140}