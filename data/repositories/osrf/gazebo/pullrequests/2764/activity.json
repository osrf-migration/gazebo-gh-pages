{"pagelen": 50, "values": [{"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2764/comments/76755032.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2764/_/diff#comment-76755032"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2764, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2764.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2764"}}, "title": "GUI Plugins on macOS"}, "content": {"raw": "Thanks for the update. I think this patch set is important \u2013 GUI plugins would be invisible/unusable on macOS otherwise. It will take a few weeks before I\u2019ll have time to get back to this though.", "markup": "markdown", "html": "<p>Thanks for the update. I think this patch set is important \u2013 GUI plugins would be invisible/unusable on macOS otherwise. It will take a few weeks before I\u2019ll have time to get back to this though.</p>", "type": "rendered"}, "created_on": "2018-09-21T13:06:17.438677+00:00", "user": {"display_name": "Florian Schoppmann", "uuid": "{f317d46e-b942-4a60-afe2-ff858378d934}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bf317d46e-b942-4a60-afe2-ff858378d934%7D"}, "html": {"href": "https://bitbucket.org/%7Bf317d46e-b942-4a60-afe2-ff858378d934%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:5088e322-4ce5-44ac-afaa-cc6a4c2199bf/2fd310aa-c773-4cb6-aa44-3c1aec78e221/128"}}, "nickname": "Florian Schoppmann", "type": "user", "account_id": "557058:5088e322-4ce5-44ac-afaa-cc6a4c2199bf"}, "updated_on": "2018-09-21T13:06:17.503225+00:00", "type": "pullrequest_comment", "id": 76755032}, "pull_request": {"type": "pullrequest", "id": 2764, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2764.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2764"}}, "title": "GUI Plugins on macOS"}}, {"update": {"description": "* Fix issues with OGRE 1.10.7\r\n\r\n    Changes: \r\n\r\n\r\n\r\n    * Recent versions of OGRE don't have a different prefix for OGRE plugin libraries on macOS than on other systems. \r\n    * OGRE does not like redundant resources\r\n    * Must not pass null \"externalWindowHandle\" to OGRE's createRenderWindow(). Also fixed missing initialization of RenderEngine::dummyWindowId.\r\n    * Missing headers during debug builds.\r\n    * Changes with HardwareVertexBufferSharedPtr et al. (no longer a subclass of SharedPtr). Changes should still work with older versions of OGRE.\r\n    \r\n* Fix GUI plugins on macOS\r\n\r\n    GUI plugins never worked on macOS because the OpenGL layer was always drawn on top of the window. With this commit, the OpenGL layer is now drawn below the window, and instead the GLWidget's area is \"carved out\" making the underlying OpenGL layer visible. Any GUI plugin then obviously also is on top of the OpenGL layer.\r\n\r\n\r\n\r\n    See also: https://developer.apple.com/library/content/documentation/GraphicsImaging/Conceptual/OpenGL-MacProgGuide/opengl\\_contexts/opengl\\_contexts.html#//apple\\_ref/doc/uid/TP40001987-CH216-SW21 (In short, the fix is the Apple-recommended way of drawing UI elements on top of OpenGL.)\r\n\r\n\r\n\r\n    Only caveat: This fix requires an upstream change in OGRE. This version works: https://github.com/fschopp/ogre/releases/tag/v1.10.7-fschopp-1", "title": "GUI Plugins on macOS", "destination": {"commit": {"hash": "0eaf948fbff0", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/0eaf948fbff0.json"}, "html": {"href": "#!/osrf/gazebo/commits/0eaf948fbff0"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo8"}}, "reason": "Thanks again for the contribution. This pull request is about one year old, and its time to triage this. Please update and resubmit if this pull request is important.", "source": {"commit": {"hash": "637395b5f145", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/fschopp/gazebo/commit/637395b5f145"}, "html": {"href": "https://bitbucket.org/fschopp/gazebo/commits/637395b5f145"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/fschopp/gazebo"}, "html": {"href": "https://bitbucket.org/fschopp/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{08b1b636-bad2-46e2-8081-0fb04b3835fa}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "fschopp/gazebo", "uuid": "{08b1b636-bad2-46e2-8081-0fb04b3835fa}"}, "branch": {"name": "macos_guiplugin"}}, "state": "DECLINED", "author": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "date": "2018-08-10T21:41:03.297868+00:00"}, "pull_request": {"type": "pullrequest", "id": 2764, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2764.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2764"}}, "title": "GUI Plugins on macOS"}}, {"update": {"description": "* Fix issues with OGRE 1.10.7\r\n\r\n    Changes: \r\n\r\n\r\n\r\n    * Recent versions of OGRE don't have a different prefix for OGRE plugin libraries on macOS than on other systems. \r\n    * OGRE does not like redundant resources\r\n    * Must not pass null \"externalWindowHandle\" to OGRE's createRenderWindow(). Also fixed missing initialization of RenderEngine::dummyWindowId.\r\n    * Missing headers during debug builds.\r\n    * Changes with HardwareVertexBufferSharedPtr et al. (no longer a subclass of SharedPtr). Changes should still work with older versions of OGRE.\r\n    \r\n* Fix GUI plugins on macOS\r\n\r\n    GUI plugins never worked on macOS because the OpenGL layer was always drawn on top of the window. With this commit, the OpenGL layer is now drawn below the window, and instead the GLWidget's area is \"carved out\" making the underlying OpenGL layer visible. Any GUI plugin then obviously also is on top of the OpenGL layer.\r\n\r\n\r\n\r\n    See also: https://developer.apple.com/library/content/documentation/GraphicsImaging/Conceptual/OpenGL-MacProgGuide/opengl\\_contexts/opengl\\_contexts.html#//apple\\_ref/doc/uid/TP40001987-CH216-SW21 (In short, the fix is the Apple-recommended way of drawing UI elements on top of OpenGL.)\r\n\r\n\r\n\r\n    Only caveat: This fix requires an upstream change in OGRE. This version works: https://github.com/fschopp/ogre/releases/tag/v1.10.7-fschopp-1", "title": "GUI Plugins on macOS", "destination": {"commit": {"hash": "7d94cae086e0", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/7d94cae086e0.json"}, "html": {"href": "#!/osrf/gazebo/commits/7d94cae086e0"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo8"}}, "reason": "", "source": {"commit": {"hash": "637395b5f145", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/fschopp/gazebo/commit/637395b5f145"}, "html": {"href": "https://bitbucket.org/fschopp/gazebo/commits/637395b5f145"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/fschopp/gazebo"}, "html": {"href": "https://bitbucket.org/fschopp/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{08b1b636-bad2-46e2-8081-0fb04b3835fa}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "fschopp/gazebo", "uuid": "{08b1b636-bad2-46e2-8081-0fb04b3835fa}"}, "branch": {"name": "macos_guiplugin"}}, "state": "OPEN", "author": {"display_name": "Florian Schoppmann", "uuid": "{f317d46e-b942-4a60-afe2-ff858378d934}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bf317d46e-b942-4a60-afe2-ff858378d934%7D"}, "html": {"href": "https://bitbucket.org/%7Bf317d46e-b942-4a60-afe2-ff858378d934%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:5088e322-4ce5-44ac-afaa-cc6a4c2199bf/2fd310aa-c773-4cb6-aa44-3c1aec78e221/128"}}, "nickname": "Florian Schoppmann", "type": "user", "account_id": "557058:5088e322-4ce5-44ac-afaa-cc6a4c2199bf"}, "date": "2017-08-15T01:55:00.192584+00:00"}, "pull_request": {"type": "pullrequest", "id": 2764, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2764.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2764"}}, "title": "GUI Plugins on macOS"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2764/comments/42800468.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2764/_/diff#comment-42800468"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2764, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2764.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2764"}}, "title": "GUI Plugins on macOS"}, "content": {"raw": "With my OGRE pull request (that was meanwhile [merged upstream](https://github.com/OGRECave/ogre/pull/481#event-1205679347)), the OGRE build should be significantly simpler than the [existing formula](https://github.com/osrf/homebrew-simulation/blob/master/ogre1.9.rb). No additional patches should be required. The next release that should contain the changes should be OGRE 1.10.8.\n\nFor now, I'll just paste the cmake arguments I'm using to build OGRE from [https://github.com/fschopp/ogre/releases/tag/v1.10.7-fschopp-1](https://github.com/fschopp/ogre/releases/tag/v1.10.7-fschopp-1). I currently use this build only with Gazebo, though. Not sure if the homebrew formula needs to be more general. Let me know if you'd like me to do a PR for it.\n\n    -DPKG_CONFIG_USE_CMAKE_PREFIX_PATH=YES\n    -DOGRE_BUILD_DEPENDENCIES=FALSE\n    -DOGRE_BUILD_RENDERSYSTEM_GL=TRUE\n    -DOGRE_BUILD_SAMPLES=FALSE\n    -DOGRE_BUILD_TOOLS=FALSE\n    -DOGRE_INSTALL_CMAKE=FALSE\n    -DOGRE_INSTALL_DOCS=FALSE\n    -DOGRE_BUILD_COMPONENT_PYTHON=FALSE\n    -DCMAKE_OSX_ARCHITECTURES=x86_64\n    -DOGRE_BUILD_LIBS_AS_FRAMEWORKS=FALSE\n    -DOGRE_BUILD_TYPE=${OGRE_BUILD_TYPE}\n\nPlease note that for newer OGRE versions this seems to work out of the box only with the Xcode generator, i.e., `cmake -G Xcode` . Also, `OGRE_BUILD_TYPE` needs to contain the lower-cased content of `CMAKE_BUILD_TYPE`. (Currently, the OGRE build script uses `OGRE_BUILD_TYPE` before it defines it. Should only be a problem for debug builds, though, and possibly not even on macOS.)", "markup": "markdown", "html": "<p>With my OGRE pull request (that was meanwhile <a data-is-external-link=\"true\" href=\"https://github.com/OGRECave/ogre/pull/481#event-1205679347\" rel=\"nofollow\">merged upstream</a>), the OGRE build should be significantly simpler than the <a data-is-external-link=\"true\" href=\"https://github.com/osrf/homebrew-simulation/blob/master/ogre1.9.rb\" rel=\"nofollow\">existing formula</a>. No additional patches should be required. The next release that should contain the changes should be OGRE 1.10.8.</p>\n<p>For now, I'll just paste the cmake arguments I'm using to build OGRE from <a data-is-external-link=\"true\" href=\"https://github.com/fschopp/ogre/releases/tag/v1.10.7-fschopp-1\" rel=\"nofollow\">https://github.com/fschopp/ogre/releases/tag/v1.10.7-fschopp-1</a>. I currently use this build only with Gazebo, though. Not sure if the homebrew formula needs to be more general. Let me know if you'd like me to do a PR for it.</p>\n<div class=\"codehilite\"><pre><span></span>-DPKG_CONFIG_USE_CMAKE_PREFIX_PATH=YES\n-DOGRE_BUILD_DEPENDENCIES=FALSE\n-DOGRE_BUILD_RENDERSYSTEM_GL=TRUE\n-DOGRE_BUILD_SAMPLES=FALSE\n-DOGRE_BUILD_TOOLS=FALSE\n-DOGRE_INSTALL_CMAKE=FALSE\n-DOGRE_INSTALL_DOCS=FALSE\n-DOGRE_BUILD_COMPONENT_PYTHON=FALSE\n-DCMAKE_OSX_ARCHITECTURES=x86_64\n-DOGRE_BUILD_LIBS_AS_FRAMEWORKS=FALSE\n-DOGRE_BUILD_TYPE=<span class=\"cp\">${</span><span class=\"n\">OGRE_BUILD_TYPE</span><span class=\"cp\">}</span>\n</pre></div>\n\n\n<p>Please note that for newer OGRE versions this seems to work out of the box only with the Xcode generator, i.e., <code>cmake -G Xcode</code> . Also, <code>OGRE_BUILD_TYPE</code> needs to contain the lower-cased content of <code>CMAKE_BUILD_TYPE</code>. (Currently, the OGRE build script uses <code>OGRE_BUILD_TYPE</code> before it defines it. Should only be a problem for debug builds, though, and possibly not even on macOS.)</p>", "type": "rendered"}, "created_on": "2017-08-15T01:42:26.824602+00:00", "user": {"display_name": "Florian Schoppmann", "uuid": "{f317d46e-b942-4a60-afe2-ff858378d934}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bf317d46e-b942-4a60-afe2-ff858378d934%7D"}, "html": {"href": "https://bitbucket.org/%7Bf317d46e-b942-4a60-afe2-ff858378d934%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:5088e322-4ce5-44ac-afaa-cc6a4c2199bf/2fd310aa-c773-4cb6-aa44-3c1aec78e221/128"}}, "nickname": "Florian Schoppmann", "type": "user", "account_id": "557058:5088e322-4ce5-44ac-afaa-cc6a4c2199bf"}, "updated_on": "2017-08-15T01:42:26.961005+00:00", "type": "pullrequest_comment", "id": 42800468}, "pull_request": {"type": "pullrequest", "id": 2764, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2764.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2764"}}, "title": "GUI Plugins on macOS"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2764/comments/42799734.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2764/_/diff#comment-42799734"}}, "parent": {"id": 42772292, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2764/comments/42772292.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2764/_/diff#comment-42772292"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2764, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2764.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2764"}}, "title": "GUI Plugins on macOS"}, "content": {"raw": "Thanks, good catch. Will fix.", "markup": "markdown", "html": "<p>Thanks, good catch. Will fix.</p>", "type": "rendered"}, "created_on": "2017-08-15T01:14:25.374674+00:00", "user": {"display_name": "Florian Schoppmann", "uuid": "{f317d46e-b942-4a60-afe2-ff858378d934}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bf317d46e-b942-4a60-afe2-ff858378d934%7D"}, "html": {"href": "https://bitbucket.org/%7Bf317d46e-b942-4a60-afe2-ff858378d934%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:5088e322-4ce5-44ac-afaa-cc6a4c2199bf/2fd310aa-c773-4cb6-aa44-3c1aec78e221/128"}}, "nickname": "Florian Schoppmann", "type": "user", "account_id": "557058:5088e322-4ce5-44ac-afaa-cc6a4c2199bf"}, "inline": {}, "updated_on": "2017-08-15T01:14:25.421355+00:00", "type": "pullrequest_comment", "id": 42799734}, "pull_request": {"type": "pullrequest", "id": 2764, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2764.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2764"}}, "title": "GUI Plugins on macOS"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2764/comments/42772292.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2764/_/diff#comment-42772292"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2764, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2764.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2764"}}, "title": "GUI Plugins on macOS"}, "content": {"raw": "I think this should be added to `qt_headers` since it is referenced in the public header file `GLWidget.hh`", "markup": "markdown", "html": "<p>I think this should be added to <code>qt_headers</code> since it is referenced in the public header file <code>GLWidget.hh</code></p>", "type": "rendered"}, "created_on": "2017-08-14T16:43:46.257988+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2017-08-14T16:43:46.260042+00:00", "type": "pullrequest_comment", "id": 42772292}, "pull_request": {"type": "pullrequest", "id": 2764, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2764.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2764"}}, "title": "GUI Plugins on macOS"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2764/comments/42772010.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2764/_/diff#comment-42772010"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2764, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2764.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2764"}}, "title": "GUI Plugins on macOS"}, "content": {"raw": "Hi, thanks for the contribution! We currently use a homebrew formula for [ogre1.9](https://github.com/osrf/homebrew-simulation/blob/master/ogre1.9.rb). Perhaps you could advise on creating a formula for `ogre1.10`?", "markup": "markdown", "html": "<p>Hi, thanks for the contribution! We currently use a homebrew formula for <a data-is-external-link=\"true\" href=\"https://github.com/osrf/homebrew-simulation/blob/master/ogre1.9.rb\" rel=\"nofollow\">ogre1.9</a>. Perhaps you could advise on creating a formula for <code>ogre1.10</code>?</p>", "type": "rendered"}, "created_on": "2017-08-14T16:39:14.638424+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-08-14T16:39:14.641707+00:00", "type": "pullrequest_comment", "id": 42772010}, "pull_request": {"type": "pullrequest", "id": 2764, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2764.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2764"}}, "title": "GUI Plugins on macOS"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2764/comments/42727690.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2764/_/diff#comment-42727690"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2764, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2764.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2764"}}, "title": "GUI Plugins on macOS"}, "content": {"raw": "I meanwhile also made an upstream pull request for OGRE: [https://github.com/OGRECave/ogre/pull/481](https://github.com/OGRECave/ogre/pull/481). So the necessary change (supporting [NSOpenGLCPSurfaceOrder](https://developer.apple.com/documentation/appkit/nsopenglcpsurfaceorder)) should hopefully be merged before too long.\n\nThis commit should introduce no new issues building against older OGRE v1.10.x releases (I used v1.10.3 and v1.10.6 before).", "markup": "markdown", "html": "<p>I meanwhile also made an upstream pull request for OGRE: <a data-is-external-link=\"true\" href=\"https://github.com/OGRECave/ogre/pull/481\" rel=\"nofollow\">https://github.com/OGRECave/ogre/pull/481</a>. So the necessary change (supporting <a data-is-external-link=\"true\" href=\"https://developer.apple.com/documentation/appkit/nsopenglcpsurfaceorder\" rel=\"nofollow\">NSOpenGLCPSurfaceOrder</a>) should hopefully be merged before too long.</p>\n<p>This commit should introduce no new issues building against older OGRE v1.10.x releases (I used v1.10.3 and v1.10.6 before).</p>", "type": "rendered"}, "created_on": "2017-08-14T07:51:57.380525+00:00", "user": {"display_name": "Florian Schoppmann", "uuid": "{f317d46e-b942-4a60-afe2-ff858378d934}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bf317d46e-b942-4a60-afe2-ff858378d934%7D"}, "html": {"href": "https://bitbucket.org/%7Bf317d46e-b942-4a60-afe2-ff858378d934%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:5088e322-4ce5-44ac-afaa-cc6a4c2199bf/2fd310aa-c773-4cb6-aa44-3c1aec78e221/128"}}, "nickname": "Florian Schoppmann", "type": "user", "account_id": "557058:5088e322-4ce5-44ac-afaa-cc6a4c2199bf"}, "updated_on": "2017-08-14T07:52:31.106013+00:00", "type": "pullrequest_comment", "id": 42727690}, "pull_request": {"type": "pullrequest", "id": 2764, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2764.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2764"}}, "title": "GUI Plugins on macOS"}}, {"update": {"description": "* Fix issues with OGRE 1.10.7\r\n\r\n    Changes: \r\n\r\n\r\n\r\n    * Recent versions of OGRE don't have a different prefix for OGRE plugin libraries on macOS than on other systems. \r\n    * OGRE does not like redundant resources\r\n    * Must not pass null \"externalWindowHandle\" to OGRE's createRenderWindow(). Also fixed missing initialization of RenderEngine::dummyWindowId.\r\n    * Missing headers during debug builds.\r\n    * Changes with HardwareVertexBufferSharedPtr et al. (no longer a subclass of SharedPtr). Changes should still work with older versions of OGRE.\r\n    \r\n* Fix GUI plugins on macOS\r\n\r\n    GUI plugins never worked on macOS because the OpenGL layer was always drawn on top of the window. With this commit, the OpenGL layer is now drawn below the window, and instead the GLWidget's area is \"carved out\" making the underlying OpenGL layer visible. Any GUI plugin then obviously also is on top of the OpenGL layer.\r\n\r\n\r\n\r\n    See also: https://developer.apple.com/library/content/documentation/GraphicsImaging/Conceptual/OpenGL-MacProgGuide/opengl\\_contexts/opengl\\_contexts.html#//apple\\_ref/doc/uid/TP40001987-CH216-SW21 (In short, the fix is the Apple-recommended way of drawing UI elements on top of OpenGL.)\r\n\r\n\r\n\r\n    Only caveat: This fix requires an upstream change in OGRE. This version works: https://github.com/fschopp/ogre/releases/tag/v1.10.7-fschopp-1", "title": "GUI Plugins on macOS", "destination": {"commit": {"hash": "7d94cae086e0", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/7d94cae086e0.json"}, "html": {"href": "#!/osrf/gazebo/commits/7d94cae086e0"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo8"}}, "reason": "", "source": {"commit": {"hash": "ebf9f855aaa3", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/fschopp/gazebo/commit/ebf9f855aaa3"}, "html": {"href": "https://bitbucket.org/fschopp/gazebo/commits/ebf9f855aaa3"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/fschopp/gazebo"}, "html": {"href": "https://bitbucket.org/fschopp/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{08b1b636-bad2-46e2-8081-0fb04b3835fa}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "fschopp/gazebo", "uuid": "{08b1b636-bad2-46e2-8081-0fb04b3835fa}"}, "branch": {"name": "macos_guiplugin"}}, "state": "OPEN", "author": {"display_name": "Florian Schoppmann", "uuid": "{f317d46e-b942-4a60-afe2-ff858378d934}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bf317d46e-b942-4a60-afe2-ff858378d934%7D"}, "html": {"href": "https://bitbucket.org/%7Bf317d46e-b942-4a60-afe2-ff858378d934%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:5088e322-4ce5-44ac-afaa-cc6a4c2199bf/2fd310aa-c773-4cb6-aa44-3c1aec78e221/128"}}, "nickname": "Florian Schoppmann", "type": "user", "account_id": "557058:5088e322-4ce5-44ac-afaa-cc6a4c2199bf"}, "date": "2017-08-14T07:47:09.187311+00:00"}, "pull_request": {"type": "pullrequest", "id": 2764, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2764.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2764"}}, "title": "GUI Plugins on macOS"}}, {"update": {"description": "* Fix issues with OGRE 1.10.7\r\n\r\n    Changes: \r\n\r\n\r\n\r\n    * Recent versions of OGRE don't have a different prefix for OGRE plugin libraries on macOS than on other systems. \r\n    * OGRE does not like redundant resources\r\n    * Must not pass null \"externalWindowHandle\" to OGRE's createRenderWindow(). Also fixed missing initialization of RenderEngine::dummyWindowId.\r\n    * Missing headers during debug builds.\r\n    * Changes with HardwareVertexBufferSharedPtr et al. (no longer a subclass of SharedPtr). Changes should still work with older versions of OGRE.\r\n    \r\n* Fix GUI plugins on macOS\r\n\r\n    GUI plugins never worked on macOS because the OpenGL layer was always drawn on top of the window. With this commit, the OpenGL layer is now drawn below the window, and instead the GLWidget's area is \"carved out\" making the underlying OpenGL layer visible. Any GUI plugin then obviously also is on top of the OpenGL layer.\r\n\r\n\r\n\r\n    See also: https://developer.apple.com/library/content/documentation/GraphicsImaging/Conceptual/OpenGL-MacProgGuide/opengl\\_contexts/opengl\\_contexts.html#//apple\\_ref/doc/uid/TP40001987-CH216-SW21 (In short, the fix is the Apple-recommended way of drawing UI elements on top of OpenGL.)\r\n\r\n\r\n\r\n    Only caveat: This fix requires an upstream change in OGRE. This version works: https://github.com/fschopp/ogre/releases/tag/v1.10.7-fschopp-1", "title": "GUI Plugins on macOS", "destination": {"commit": {"hash": "7d94cae086e0", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/7d94cae086e0.json"}, "html": {"href": "#!/osrf/gazebo/commits/7d94cae086e0"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo8"}}, "reason": "", "source": {"commit": {"hash": "ebf9f855aaa3", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/fschopp/gazebo/commit/ebf9f855aaa3"}, "html": {"href": "https://bitbucket.org/fschopp/gazebo/commits/ebf9f855aaa3"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/fschopp/gazebo"}, "html": {"href": "https://bitbucket.org/fschopp/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{08b1b636-bad2-46e2-8081-0fb04b3835fa}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "fschopp/gazebo", "uuid": "{08b1b636-bad2-46e2-8081-0fb04b3835fa}"}, "branch": {"name": "macos_guiplugin"}}, "state": "OPEN", "author": {"display_name": "Florian Schoppmann", "uuid": "{f317d46e-b942-4a60-afe2-ff858378d934}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bf317d46e-b942-4a60-afe2-ff858378d934%7D"}, "html": {"href": "https://bitbucket.org/%7Bf317d46e-b942-4a60-afe2-ff858378d934%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:5088e322-4ce5-44ac-afaa-cc6a4c2199bf/2fd310aa-c773-4cb6-aa44-3c1aec78e221/128"}}, "nickname": "Florian Schoppmann", "type": "user", "account_id": "557058:5088e322-4ce5-44ac-afaa-cc6a4c2199bf"}, "date": "2017-08-14T07:47:09.138757+00:00"}, "pull_request": {"type": "pullrequest", "id": 2764, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2764.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2764"}}, "title": "GUI Plugins on macOS"}}]}