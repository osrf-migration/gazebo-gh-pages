{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/63823346.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-63823346"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2955, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955"}}, "title": "Fix GpuRaySensor vertical rays"}, "content": {"raw": "Hi, Jacob, if I run the INTEGRATION\\_gpu\\_laser test I get:  \n\n    :~/gazebo/build$ ./test/integration/INTEGRATION_gpu_laser \n    [==========] Running 5 tests from 1 test case.\n    [----------] Global test environment set-up.\n    [----------] 5 tests from GPURaySensorTest\n    \n    ....\n    \n    [       OK ] GPURaySensorTest.Heightmap (2084 ms)\n    [ RUN      ] GPURaySensorTest.LaserVertical\n    [Msg] Waiting for master.\n    [Msg] Connected to gazebo master @ http://127.0.0.1:11345\n    [Msg] Publicized address: 172.17.0.2\n    [Dbg] [ServerFixture.cc:207] ServerFixture load in 1.1 seconds, timeout after 600 seconds\n    [Wrn] [msgs.cc:1808] Conversion of sensor type[gpu_ray] not suppported.\n    /home/docker/gazebo/test/integration/gpu_laser.cc:465: Failure\n    The difference between raySensor->Range(i*samples + mid) and expectedRange is 0.079109901099460034, which exceeds 1e-3, where\n    raySensor->Range(i*samples + mid) evaluates to 0.43266329169273376,\n    expectedRange evaluates to 0.35355339059327373, and\n    1e-3 evaluates to 0.001.\n    /home/docker/gazebo/test/integration/gpu_laser.cc:465: Failure\n    The difference between raySensor->Range(i*samples + mid) and expectedRange is 0.065850478119853451, which exceeds 1e-3, where\n    raySensor->Range(i*samples + mid) evaluates to 0.39836812019348145,\n    expectedRange evaluates to 0.33251764207362799, and\n    1e-3 evaluates to 0.001.\n    /home/docker/gazebo/test/integration/gpu_laser.cc:465: Failure\n    The difference between raySensor->Range(i*samples + mid) and expectedRange is 0.053652972699826496, which exceeds 1e-3, where\n    raySensor->Range(i*samples + mid) evaluates to 0.36877107620239258,\n    expectedRange evaluates to 0.31511810350256608, and\n    \n    ....\n    \n    /home/docker/gazebo/test/integration/gpu_laser.cc:465: Failure\n    The difference between raySensor->Range(i*samples + mid) and expectedRange is 0.043081311625098206, which exceeds 1e-3, where\n    raySensor->Range(i*samples + mid) evaluates to 0.34375375509262085,\n    expectedRange evaluates to 0.30067244346752264, and\n    1e-3 evaluates to 0.001.\n    /home/docker/gazebo/test/integration/gpu_laser.cc:465: Failure\n    The difference between raySensor->Range(i*samples + mid) and expectedRange is 0.053652764083569726, which exceeds 1e-3, where\n    raySensor->Range(i*samples + mid) evaluates to 0.36877086758613586,\n    expectedRange evaluates to 0.31511810350256614, and\n    1e-3 evaluates to 0.001.\n    /home/docker/gazebo/test/integration/gpu_laser.cc:465: Failure\n    The difference between raySensor->Range(i*samples + mid) and expectedRange is 0.065850299305919124, which exceeds 1e-3, where\n    raySensor->Range(i*samples + mid) evaluates to 0.39836794137954712,\n    expectedRange evaluates to 0.33251764207362799, and\n    1e-3 evaluates to 0.001.\n    /home/docker/gazebo/test/integration/gpu_laser.cc:465: Failure\n    The difference between raySensor->Range(i*samples + mid) and expectedRange is 0.07910975208784804, which exceeds 1e-3, where\n    raySensor->Range(i*samples + mid) evaluates to 0.43266314268112183,\n    expectedRange evaluates to 0.35355339059327379, and\n    1e-3 evaluates to 0.001.\n    [Dbg] [ServerFixture.cc:133] ServerFixture::Unload\n    [  FAILED  ] GPURaySensorTest.LaserVertical (1762 ms)\n    [ RUN      ] GPURaySensorTest.LaserScanResolution\n    [Msg] Waiting for master.\n    [Msg] Connected to gazebo master @ http://127.0.0.1:11345\n    [Msg] Publicized address: 172.17.0.2\n    [Dbg] [ServerFixture.cc:207] ServerFixture load in 1 seconds, timeout after 600 seconds\n    [Wrn] [msgs.cc:1808] Conversion of sensor type[gpu_ray] not suppported.\n    [Dbg] [ServerFixture.cc:133] ServerFixture::Unload\n    [       OK ] GPURaySensorTest.LaserScanResolution (1448 ms)\n    [----------] 5 tests from GPURaySensorTest (10228 ms total)\n    \n    [----------] Global test environment tear-down\n    [==========] 5 tests from 1 test case ran. (10228 ms total)\n    [  PASSED  ] 4 tests.\n    [  FAILED  ] 1 test, listed below:\n    [  FAILED  ] GPURaySensorTest.LaserVertical\n\nThis is consistent to what I see in Gazebo using a simple world:  \n  \n![Screenshot from 2018-05-09 16-55-19.png](https://bitbucket.org/repo/jgXqbo/images/1685315280-Screenshot%20from%202018-05-09%2016-55-19.png 'Screenshot from 2018-05-09 16-55-19.png')\n\nWe still have that saw looking border. It is better than we had before, but we still have this issue.  \n  \nDid you have the same results that I had?", "markup": "markdown", "html": "<p>Hi, Jacob, if I run the INTEGRATION_gpu_laser test I get:  </p>\n<div class=\"codehilite\"><pre><span></span>:~/gazebo/build$ ./test/integration/INTEGRATION_gpu_laser \n[==========] Running 5 tests from 1 test case.\n[----------] Global test environment set-up.\n[----------] 5 tests from GPURaySensorTest\n\n....\n\n[       OK ] GPURaySensorTest.Heightmap (2084 ms)\n[ RUN      ] GPURaySensorTest.LaserVertical\n[Msg] Waiting for master.\n[Msg] Connected to gazebo master @ http://127.0.0.1:11345\n[Msg] Publicized address: 172.17.0.2\n[Dbg] [ServerFixture.cc:207] ServerFixture load in 1.1 seconds, timeout after 600 seconds\n[Wrn] [msgs.cc:1808] Conversion of sensor type[gpu_ray] not suppported.\n/home/docker/gazebo/test/integration/gpu_laser.cc:465: Failure\nThe difference between raySensor-&gt;Range(i*samples + mid) and expectedRange is 0.079109901099460034, which exceeds 1e-3, where\nraySensor-&gt;Range(i*samples + mid) evaluates to 0.43266329169273376,\nexpectedRange evaluates to 0.35355339059327373, and\n1e-3 evaluates to 0.001.\n/home/docker/gazebo/test/integration/gpu_laser.cc:465: Failure\nThe difference between raySensor-&gt;Range(i*samples + mid) and expectedRange is 0.065850478119853451, which exceeds 1e-3, where\nraySensor-&gt;Range(i*samples + mid) evaluates to 0.39836812019348145,\nexpectedRange evaluates to 0.33251764207362799, and\n1e-3 evaluates to 0.001.\n/home/docker/gazebo/test/integration/gpu_laser.cc:465: Failure\nThe difference between raySensor-&gt;Range(i*samples + mid) and expectedRange is 0.053652972699826496, which exceeds 1e-3, where\nraySensor-&gt;Range(i*samples + mid) evaluates to 0.36877107620239258,\nexpectedRange evaluates to 0.31511810350256608, and\n\n....\n\n/home/docker/gazebo/test/integration/gpu_laser.cc:465: Failure\nThe difference between raySensor-&gt;Range(i*samples + mid) and expectedRange is 0.043081311625098206, which exceeds 1e-3, where\nraySensor-&gt;Range(i*samples + mid) evaluates to 0.34375375509262085,\nexpectedRange evaluates to 0.30067244346752264, and\n1e-3 evaluates to 0.001.\n/home/docker/gazebo/test/integration/gpu_laser.cc:465: Failure\nThe difference between raySensor-&gt;Range(i*samples + mid) and expectedRange is 0.053652764083569726, which exceeds 1e-3, where\nraySensor-&gt;Range(i*samples + mid) evaluates to 0.36877086758613586,\nexpectedRange evaluates to 0.31511810350256614, and\n1e-3 evaluates to 0.001.\n/home/docker/gazebo/test/integration/gpu_laser.cc:465: Failure\nThe difference between raySensor-&gt;Range(i*samples + mid) and expectedRange is 0.065850299305919124, which exceeds 1e-3, where\nraySensor-&gt;Range(i*samples + mid) evaluates to 0.39836794137954712,\nexpectedRange evaluates to 0.33251764207362799, and\n1e-3 evaluates to 0.001.\n/home/docker/gazebo/test/integration/gpu_laser.cc:465: Failure\nThe difference between raySensor-&gt;Range(i*samples + mid) and expectedRange is 0.07910975208784804, which exceeds 1e-3, where\nraySensor-&gt;Range(i*samples + mid) evaluates to 0.43266314268112183,\nexpectedRange evaluates to 0.35355339059327379, and\n1e-3 evaluates to 0.001.\n[Dbg] [ServerFixture.cc:133] ServerFixture::Unload\n[  FAILED  ] GPURaySensorTest.LaserVertical (1762 ms)\n[ RUN      ] GPURaySensorTest.LaserScanResolution\n[Msg] Waiting for master.\n[Msg] Connected to gazebo master @ http://127.0.0.1:11345\n[Msg] Publicized address: 172.17.0.2\n[Dbg] [ServerFixture.cc:207] ServerFixture load in 1 seconds, timeout after 600 seconds\n[Wrn] [msgs.cc:1808] Conversion of sensor type[gpu_ray] not suppported.\n[Dbg] [ServerFixture.cc:133] ServerFixture::Unload\n[       OK ] GPURaySensorTest.LaserScanResolution (1448 ms)\n[----------] 5 tests from GPURaySensorTest (10228 ms total)\n\n[----------] Global test environment tear-down\n[==========] 5 tests from 1 test case ran. (10228 ms total)\n[  PASSED  ] 4 tests.\n[  FAILED  ] 1 test, listed below:\n[  FAILED  ] GPURaySensorTest.LaserVertical\n</pre></div>\n\n\n<p>This is consistent to what I see in Gazebo using a simple world:  </p>\n<p><img alt=\"Screenshot from 2018-05-09 16-55-19.png\" src=\"data/bitbucket.org/repo/jgXqbo/images/1685315280-Screenshot_from_2018-05-09_16-55-19.png\" title=\"Screenshot from 2018-05-09 16-55-19.png\" /></p>\n<p>We still have that saw looking border. It is better than we had before, but we still have this issue.  </p>\n<p>Did you have the same results that I had?</p>", "type": "rendered"}, "created_on": "2018-05-09T20:59:01.041462+00:00", "user": {"display_name": "Javier Iv\u00e1n Choclin", "uuid": "{745acb37-6a3b-4169-8ba9-2c142a7408fb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B745acb37-6a3b-4169-8ba9-2c142a7408fb%7D"}, "html": {"href": "https://bitbucket.org/%7B745acb37-6a3b-4169-8ba9-2c142a7408fb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2279399d-3c75-4e1e-b818-4fb8339b2939/26f5815d-5477-4106-ba9b-ac56ee23e175/128"}}, "nickname": "Javier Choclin", "type": "user", "account_id": "557058:2279399d-3c75-4e1e-b818-4fb8339b2939"}, "updated_on": "2018-05-09T20:59:01.065477+00:00", "type": "pullrequest_comment", "id": 63823346}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/63859165.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-63859165"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2955, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955"}}, "title": "Fix GpuRaySensor vertical rays"}, "content": {"raw": "That's strange because the tests passed yesterday on my machine. I will check it again tomorrow.\n\nYes, the borders look similar for me but this also depends on the resolution. My guess about the saw looking border: I think it is due to the (vertical) resolution of the depth image. At large incident angles (near 90 degrees) there are big depth steps between neighbouring pixels. You can increase the resolution to reduce that effect but I think just because of the way the depth image is computed we can never completely avoid it. \n\n![laser_saw_shape.JPG](data/bitbucket.org/repo/jgXqbo/images/816016077-laser_saw_shape.JPG)\n\nIdeally we would have a parameter to increase the internal resolution of the first pass depth image without changing the resulting scan size. Unfortunately we can't use the \"resolution\" parameter for that without breaking consistency with the CPU laser.\n\nAlternatively one could try to apply smoothing (anti-aliasing?) to the textures mapped for the second pass. But I'm not sure if that is really a good idea. It could also mess up the ranges.", "markup": "markdown", "html": "<p>That's strange because the tests passed yesterday on my machine. I will check it again tomorrow.</p>\n<p>Yes, the borders look similar for me but this also depends on the resolution. My guess about the saw looking border: I think it is due to the (vertical) resolution of the depth image. At large incident angles (near 90 degrees) there are big depth steps between neighbouring pixels. You can increase the resolution to reduce that effect but I think just because of the way the depth image is computed we can never completely avoid it. </p>\n<p><img alt=\"laser_saw_shape.JPG\" src=\"data/bitbucket.org/repo/jgXqbo/images/816016077-laser_saw_shape.JPG\" /></p>\n<p>Ideally we would have a parameter to increase the internal resolution of the first pass depth image without changing the resulting scan size. Unfortunately we can't use the \"resolution\" parameter for that without breaking consistency with the CPU laser.</p>\n<p>Alternatively one could try to apply smoothing (anti-aliasing?) to the textures mapped for the second pass. But I'm not sure if that is really a good idea. It could also mess up the ranges.</p>", "type": "rendered"}, "created_on": "2018-05-10T08:21:01.355457+00:00", "user": {"display_name": "Jacob Seibert", "uuid": "{1b2f445c-78b0-4f05-a62c-681c2ccf481c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B1b2f445c-78b0-4f05-a62c-681c2ccf481c%7D"}, "html": {"href": "https://bitbucket.org/%7B1b2f445c-78b0-4f05-a62c-681c2ccf481c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/initials/JS-5.png"}}, "nickname": "jacob", "type": "user", "account_id": "5acdbbdcb783d22b5dadd70b"}, "updated_on": "2018-05-10T08:36:20.378153+00:00", "type": "pullrequest_comment", "id": 63859165}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/63897224.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-63897224"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2955, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955"}}, "title": "Fix GpuRaySensor vertical rays"}, "content": {"raw": "Check that you are running INTEGRATION\\_gpu\\_laser. For that you need to enable graphics tests, check the display capabilities in the cmake output. You can force compiling those tests with  \\`-DFORCE\\_GRAPHIC\\_TESTS\\_COMPILATION=True\\` .\n\nMaybe an option is to increase the resolution for the first pass with a constant multiplier in height and width for the resolution.  At least that way we can be sure if that is the issue. After confirm that is the issue we can think in leaving it there. It is not ideal, but we keep consistency with the CPU laser.\n\n\u200c", "markup": "markdown", "html": "<p>Check that you are running INTEGRATION_gpu_laser. For that you need to enable graphics tests, check the display capabilities in the cmake output. You can force compiling those tests with  `-DFORCE_GRAPHIC_TESTS_COMPILATION=True` .</p>\n<p>Maybe an option is to increase the resolution for the first pass with a constant multiplier in height and width for the resolution.  At least that way we can be sure if that is the issue. After confirm that is the issue we can think in leaving it there. It is not ideal, but we keep consistency with the CPU laser.</p>\n<p>\u200c</p>", "type": "rendered"}, "created_on": "2018-05-10T14:16:38.752263+00:00", "user": {"display_name": "Javier Iv\u00e1n Choclin", "uuid": "{745acb37-6a3b-4169-8ba9-2c142a7408fb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B745acb37-6a3b-4169-8ba9-2c142a7408fb%7D"}, "html": {"href": "https://bitbucket.org/%7B745acb37-6a3b-4169-8ba9-2c142a7408fb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2279399d-3c75-4e1e-b818-4fb8339b2939/26f5815d-5477-4106-ba9b-ac56ee23e175/128"}}, "nickname": "Javier Choclin", "type": "user", "account_id": "557058:2279399d-3c75-4e1e-b818-4fb8339b2939"}, "updated_on": "2018-05-10T14:16:38.767431+00:00", "type": "pullrequest_comment", "id": 63897224}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/63949690.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-63949690"}}, "parent": {"id": 63897224, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/63897224.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-63897224"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2955, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955"}}, "title": "Fix GpuRaySensor vertical rays"}, "content": {"raw": "mm weird, I don\u2019t get the test failures too. Does it happen every time for you?", "markup": "markdown", "html": "<p>mm weird, I don\u2019t get the test failures too. Does it happen every time for you?</p>", "type": "rendered"}, "created_on": "2018-05-11T01:13:06.978599+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2018-05-11T01:13:06.984755+00:00", "type": "pullrequest_comment", "id": 63949690}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/64018314.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-64018314"}}, "parent": {"id": 63949690, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/63949690.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-63949690"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2955, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955"}}, "title": "Fix GpuRaySensor vertical rays"}, "content": {"raw": "True, I recompiled everything from scratch and I don\u2019t get it anymore.", "markup": "markdown", "html": "<p>True, I recompiled everything from scratch and I don\u2019t get it anymore.</p>", "type": "rendered"}, "created_on": "2018-05-11T14:57:28.758922+00:00", "user": {"display_name": "Javier Iv\u00e1n Choclin", "uuid": "{745acb37-6a3b-4169-8ba9-2c142a7408fb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B745acb37-6a3b-4169-8ba9-2c142a7408fb%7D"}, "html": {"href": "https://bitbucket.org/%7B745acb37-6a3b-4169-8ba9-2c142a7408fb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2279399d-3c75-4e1e-b818-4fb8339b2939/26f5815d-5477-4106-ba9b-ac56ee23e175/128"}}, "nickname": "Javier Choclin", "type": "user", "account_id": "557058:2279399d-3c75-4e1e-b818-4fb8339b2939"}, "updated_on": "2018-05-11T14:57:28.764453+00:00", "type": "pullrequest_comment", "id": 64018314}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/64029095.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-64029095"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2955, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955"}}, "title": "Fix GpuRaySensor vertical rays"}, "content": {"raw": "I suggest we make a multiplier that ensures that the first pass has a minimum resolution of x pixels per degree of the respective field of view angle. x being a hardcoded constant. Then we can see if that is satisfying.\n\nBTW: I also did some profiling today and observed that the GpuRaySensor spent a big amount of time getting parameters out of the SDF inside of loops. I modified the code to improve this and I can push it when I tested it.", "markup": "markdown", "html": "<p>I suggest we make a multiplier that ensures that the first pass has a minimum resolution of x pixels per degree of the respective field of view angle. x being a hardcoded constant. Then we can see if that is satisfying.</p>\n<p>BTW: I also did some profiling today and observed that the GpuRaySensor spent a big amount of time getting parameters out of the SDF inside of loops. I modified the code to improve this and I can push it when I tested it.</p>", "type": "rendered"}, "created_on": "2018-05-11T16:37:18.084080+00:00", "user": {"display_name": "Jacob Seibert", "uuid": "{1b2f445c-78b0-4f05-a62c-681c2ccf481c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B1b2f445c-78b0-4f05-a62c-681c2ccf481c%7D"}, "html": {"href": "https://bitbucket.org/%7B1b2f445c-78b0-4f05-a62c-681c2ccf481c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/initials/JS-5.png"}}, "nickname": "jacob", "type": "user", "account_id": "5acdbbdcb783d22b5dadd70b"}, "updated_on": "2018-05-11T16:42:31.573565+00:00", "type": "pullrequest_comment", "id": 64029095}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/64029363.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-64029363"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2955, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955"}}, "title": "Fix GpuRaySensor vertical rays"}, "content": {"raw": "Yes, I think that can be a valid approach. Have you tested it?", "markup": "markdown", "html": "<p>Yes, I think that can be a valid approach. Have you tested it?</p>", "type": "rendered"}, "created_on": "2018-05-11T16:40:53.186570+00:00", "user": {"display_name": "Javier Iv\u00e1n Choclin", "uuid": "{745acb37-6a3b-4169-8ba9-2c142a7408fb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B745acb37-6a3b-4169-8ba9-2c142a7408fb%7D"}, "html": {"href": "https://bitbucket.org/%7B745acb37-6a3b-4169-8ba9-2c142a7408fb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2279399d-3c75-4e1e-b818-4fb8339b2939/26f5815d-5477-4106-ba9b-ac56ee23e175/128"}}, "nickname": "Javier Choclin", "type": "user", "account_id": "557058:2279399d-3c75-4e1e-b818-4fb8339b2939"}, "updated_on": "2018-05-11T16:40:53.197571+00:00", "type": "pullrequest_comment", "id": 64029363}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/64032241.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-64032241"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2955, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955"}}, "title": "Fix GpuRaySensor vertical rays"}, "content": {"raw": "![Screenshot from 2018-05-11 14-10-30.png](https://bitbucket.org/repo/jgXqbo/images/2991618337-Screenshot%20from%202018-05-11%2014-10-30.png 'Screenshot from 2018-05-11 14-10-30.png')\n\n\u200c\n\nOk, I tested it myself.  It looks much better, you can see the result above. I just multiplied by 10 the resolution for the first image [here](#!/osrf/gazebo/pull-requests/2955/fix-gpuraysensor-vertical-rays/diff#Lgazebo/rendering/GpuLaser.ccF163T161). We can add a parameter and have it harcoded. I haven\u2019t tested how this impact in the performance, but I can see that the FPS drop to 50, and I am using a desktop GTX 1070.\n\n\u200c\n\n\u200c\n\n\u200c", "markup": "markdown", "html": "<p><img alt=\"Screenshot from 2018-05-11 14-10-30.png\" src=\"data/bitbucket.org/repo/jgXqbo/images/2991618337-Screenshot_from_2018-05-11_14-10-30.png\" title=\"Screenshot from 2018-05-11 14-10-30.png\" /></p>\n<p>\u200c</p>\n<p>Ok, I tested it myself.  It looks much better, you can see the result above. I just multiplied by 10 the resolution for the first image <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/pull-requests/2955/fix-gpuraysensor-vertical-rays/diff#Lgazebo/rendering/GpuLaser.ccF163T161\" rel=\"nofollow\">here</a>. We can add a parameter and have it harcoded. I haven\u2019t tested how this impact in the performance, but I can see that the FPS drop to 50, and I am using a desktop GTX 1070.</p>\n<p>\u200c</p>\n<p>\u200c</p>\n<p>\u200c</p>", "type": "rendered"}, "created_on": "2018-05-11T17:16:40.729630+00:00", "user": {"display_name": "Javier Iv\u00e1n Choclin", "uuid": "{745acb37-6a3b-4169-8ba9-2c142a7408fb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B745acb37-6a3b-4169-8ba9-2c142a7408fb%7D"}, "html": {"href": "https://bitbucket.org/%7B745acb37-6a3b-4169-8ba9-2c142a7408fb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2279399d-3c75-4e1e-b818-4fb8339b2939/26f5815d-5477-4106-ba9b-ac56ee23e175/128"}}, "nickname": "Javier Choclin", "type": "user", "account_id": "557058:2279399d-3c75-4e1e-b818-4fb8339b2939"}, "updated_on": "2018-05-11T17:16:40.737691+00:00", "type": "pullrequest_comment", "id": 64032241}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/64034510.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-64034510"}}, "parent": {"id": 64032241, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/64032241.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-64032241"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2955, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955"}}, "title": "Fix GpuRaySensor vertical rays"}, "content": {"raw": "just need to be careful about the multiplier. We should set an upper limit since different graphics cards have different max texture size support, used to be 2048 or 4096. High-end cards these days have large max size", "markup": "markdown", "html": "<p>just need to be careful about the multiplier. We should set an upper limit since different graphics cards have different max texture size support, used to be 2048 or 4096. High-end cards these days have large max size</p>", "type": "rendered"}, "created_on": "2018-05-11T17:43:21.240061+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2018-05-11T17:43:49.103216+00:00", "type": "pullrequest_comment", "id": 64034510}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/64037016.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-64037016"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2955, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955"}}, "title": "Fix GpuRaySensor vertical rays"}, "content": {"raw": "Well, another option is to use a fixed resolution value on one axis and change the other to keep the aspect ratio. This way we can guarantee compatibility. Or we can set this max resolution and that way guarantee that the result from the multiplier is safe.", "markup": "markdown", "html": "<p>Well, another option is to use a fixed resolution value on one axis and change the other to keep the aspect ratio. This way we can guarantee compatibility. Or we can set this max resolution and that way guarantee that the result from the multiplier is safe.</p>", "type": "rendered"}, "created_on": "2018-05-11T18:14:53.358647+00:00", "user": {"display_name": "Javier Iv\u00e1n Choclin", "uuid": "{745acb37-6a3b-4169-8ba9-2c142a7408fb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B745acb37-6a3b-4169-8ba9-2c142a7408fb%7D"}, "html": {"href": "https://bitbucket.org/%7B745acb37-6a3b-4169-8ba9-2c142a7408fb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2279399d-3c75-4e1e-b818-4fb8339b2939/26f5815d-5477-4106-ba9b-ac56ee23e175/128"}}, "nickname": "Javier Choclin", "type": "user", "account_id": "557058:2279399d-3c75-4e1e-b818-4fb8339b2939"}, "updated_on": "2018-05-11T19:36:52.694132+00:00", "type": "pullrequest_comment", "id": 64037016}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/64042468.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-64042468"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2955, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955"}}, "title": "Fix GpuRaySensor vertical rays"}, "content": {"raw": "Is it possible to merge with the latest `gazebo7` branch? There are some fixes for our homebrew build there that aren't yet in your branch:\n\n* [![Build Status](https://build.osrfoundation.org/buildStatus/icon?job=gazebo-ci-pr_any-homebrew-amd64&build=1503)](https://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/1503/) https://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/1503/\n\nthanks", "markup": "markdown", "html": "<p>Is it possible to merge with the latest <code>gazebo7</code> branch? There are some fixes for our homebrew build there that aren't yet in your branch:</p>\n<ul>\n<li><a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/1503/\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://build.osrfoundation.org/buildStatus/icon?job=gazebo-ci-pr_any-homebrew-amd64&amp;build=1503\" /></a> <a href=\"https://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/1503/\" rel=\"nofollow\" class=\"ap-connect-link\">https://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/1503/</a></li>\n</ul>\n<p>thanks</p>", "type": "rendered"}, "created_on": "2018-05-11T19:30:32.249365+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2018-05-11T19:30:32.258345+00:00", "type": "pullrequest_comment", "id": 64042468}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/64118142.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-64118142"}}, "parent": {"id": 64042468, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/64042468.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-64042468"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2955, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955"}}, "title": "Fix GpuRaySensor vertical rays"}, "content": {"raw": "I merged from gazebo7 branch. I hope that fixes it?", "markup": "markdown", "html": "<p>I merged from gazebo7 branch. I hope that fixes it?</p>", "type": "rendered"}, "created_on": "2018-05-14T09:53:53.454313+00:00", "user": {"display_name": "Jacob Seibert", "uuid": "{1b2f445c-78b0-4f05-a62c-681c2ccf481c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B1b2f445c-78b0-4f05-a62c-681c2ccf481c%7D"}, "html": {"href": "https://bitbucket.org/%7B1b2f445c-78b0-4f05-a62c-681c2ccf481c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/initials/JS-5.png"}}, "nickname": "jacob", "type": "user", "account_id": "5acdbbdcb783d22b5dadd70b"}, "updated_on": "2018-05-14T09:53:53.499630+00:00", "type": "pullrequest_comment", "id": 64118142}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/64119164.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-64119164"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2955, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955"}}, "title": "Fix GpuRaySensor vertical rays"}, "content": {"raw": "I'm not yet sure which solution for the resolution I'd prefer. I mean, at least for me the motivation of switching to GPU laser is to have better performance when simulating robots with not only one but multiple LIDARs on board. So I think the resolution should be as high as needed but not higher. ", "markup": "markdown", "html": "<p>I'm not yet sure which solution for the resolution I'd prefer. I mean, at least for me the motivation of switching to GPU laser is to have better performance when simulating robots with not only one but multiple LIDARs on board. So I think the resolution should be as high as needed but not higher. </p>", "type": "rendered"}, "created_on": "2018-05-14T10:01:21.651204+00:00", "user": {"display_name": "Jacob Seibert", "uuid": "{1b2f445c-78b0-4f05-a62c-681c2ccf481c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B1b2f445c-78b0-4f05-a62c-681c2ccf481c%7D"}, "html": {"href": "https://bitbucket.org/%7B1b2f445c-78b0-4f05-a62c-681c2ccf481c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/initials/JS-5.png"}}, "nickname": "jacob", "type": "user", "account_id": "5acdbbdcb783d22b5dadd70b"}, "updated_on": "2018-05-14T10:01:21.706597+00:00", "type": "pullrequest_comment", "id": 64119164}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/64395848.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-64395848"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2955, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955"}}, "title": "Fix GpuRaySensor vertical rays"}, "content": {"raw": "I now implemented a simple solution that ensures a minimum horizontal resolution of 2048 pixels per camera/texture (vertical resolution is set accordingly). I think that should be safe regarding the GPU's max. texture size. Of course one could exceed this 2048 by setting a higher sample count, but I think that\u2019s unlikely for now. And I think the results are \"good enough\" or do you think it's a too low resolution?", "markup": "markdown", "html": "<p>I now implemented a simple solution that ensures a minimum horizontal resolution of 2048 pixels per camera/texture (vertical resolution is set accordingly). I think that should be safe regarding the GPU's max. texture size. Of course one could exceed this 2048 by setting a higher sample count, but I think that\u2019s unlikely for now. And I think the results are \"good enough\" or do you think it's a too low resolution?</p>", "type": "rendered"}, "created_on": "2018-05-16T10:31:28.588989+00:00", "user": {"display_name": "Jacob Seibert", "uuid": "{1b2f445c-78b0-4f05-a62c-681c2ccf481c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B1b2f445c-78b0-4f05-a62c-681c2ccf481c%7D"}, "html": {"href": "https://bitbucket.org/%7B1b2f445c-78b0-4f05-a62c-681c2ccf481c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/initials/JS-5.png"}}, "nickname": "jacob", "type": "user", "account_id": "5acdbbdcb783d22b5dadd70b"}, "updated_on": "2018-05-16T11:41:06.704252+00:00", "type": "pullrequest_comment", "id": 64395848}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/64449248.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-64449248"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2955, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955"}}, "title": "Fix GpuRaySensor vertical rays"}, "content": {"raw": "Today I discovered a bug: The plugin only worked correctly when vertical min and max angles where symmetrical (i.e. vertical half angle = 0). But I was able to fix it so that now it should also be possible to create sensors with asymmetric angles like this:\n\n![Unsymmetrix_angles_fix_small.png](data/bitbucket.org/repo/jgXqbo/images/269611420-Unsymmetrix_angles_fix_small.png)\n\nThis matters for example when simulating Velodyne HDL-32E which has +10\u00b0 to -30\u00b0 FOV.\n\nPlease feel free to also test this behaviour, mistakes are always possible...", "markup": "markdown", "html": "<p>Today I discovered a bug: The plugin only worked correctly when vertical min and max angles where symmetrical (i.e. vertical half angle = 0). But I was able to fix it so that now it should also be possible to create sensors with asymmetric angles like this:</p>\n<p><img alt=\"Unsymmetrix_angles_fix_small.png\" src=\"data/bitbucket.org/repo/jgXqbo/images/269611420-Unsymmetrix_angles_fix_small.png\" /></p>\n<p>This matters for example when simulating Velodyne HDL-32E which has +10\u00b0 to -30\u00b0 FOV.</p>\n<p>Please feel free to also test this behaviour, mistakes are always possible...</p>", "type": "rendered"}, "created_on": "2018-05-16T16:34:30.416667+00:00", "user": {"display_name": "Jacob Seibert", "uuid": "{1b2f445c-78b0-4f05-a62c-681c2ccf481c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B1b2f445c-78b0-4f05-a62c-681c2ccf481c%7D"}, "html": {"href": "https://bitbucket.org/%7B1b2f445c-78b0-4f05-a62c-681c2ccf481c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/initials/JS-5.png"}}, "nickname": "jacob", "type": "user", "account_id": "5acdbbdcb783d22b5dadd70b"}, "updated_on": "2018-05-16T16:34:30.493346+00:00", "type": "pullrequest_comment", "id": 64449248}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/64449712.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-64449712"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2955, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955"}}, "title": "Fix GpuRaySensor vertical rays"}, "content": {"raw": "Thanks Jacob, it is looking good! I will test it and also review the PR.", "markup": "markdown", "html": "<p>Thanks Jacob, it is looking good! I will test it and also review the PR.</p>", "type": "rendered"}, "created_on": "2018-05-16T16:39:13.687323+00:00", "user": {"display_name": "Javier Iv\u00e1n Choclin", "uuid": "{745acb37-6a3b-4169-8ba9-2c142a7408fb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B745acb37-6a3b-4169-8ba9-2c142a7408fb%7D"}, "html": {"href": "https://bitbucket.org/%7B745acb37-6a3b-4169-8ba9-2c142a7408fb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2279399d-3c75-4e1e-b818-4fb8339b2939/26f5815d-5477-4106-ba9b-ac56ee23e175/128"}}, "nickname": "Javier Choclin", "type": "user", "account_id": "557058:2279399d-3c75-4e1e-b818-4fb8339b2939"}, "updated_on": "2018-05-16T16:39:13.694737+00:00", "type": "pullrequest_comment", "id": 64449712}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/64589248.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/enwaytech/gazebo:5732d544df15..b859fe2ecd54?path=gazebo%2Frendering%2FGpuLaser.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-64589248"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2955, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955"}}, "title": "Fix GpuRaySensor vertical rays"}, "content": {"raw": "Why you are not using  ``this->CosHorzFOV()` `` instead of ``this->chfov`?``", "markup": "markdown", "html": "<p>Why you are not using  <code>this-&gt;CosHorzFOV()`</code> instead of <code>this-&gt;chfov`?</code></p>", "type": "rendered"}, "created_on": "2018-05-17T17:19:17.096293+00:00", "user": {"display_name": "Javier Iv\u00e1n Choclin", "uuid": "{745acb37-6a3b-4169-8ba9-2c142a7408fb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B745acb37-6a3b-4169-8ba9-2c142a7408fb%7D"}, "html": {"href": "https://bitbucket.org/%7B745acb37-6a3b-4169-8ba9-2c142a7408fb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2279399d-3c75-4e1e-b818-4fb8339b2939/26f5815d-5477-4106-ba9b-ac56ee23e175/128"}}, "nickname": "Javier Choclin", "type": "user", "account_id": "557058:2279399d-3c75-4e1e-b818-4fb8339b2939"}, "inline": {"to": 626, "from": null, "path": "gazebo/rendering/GpuLaser.cc"}, "updated_on": "2018-05-17T17:19:17.106014+00:00", "type": "pullrequest_comment", "id": 64589248}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/64589283.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/enwaytech/gazebo:5732d544df15..b859fe2ecd54?path=gazebo%2Frendering%2FGpuLaser.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-64589283"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2955, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955"}}, "title": "Fix GpuRaySensor vertical rays"}, "content": {"raw": "Use  this->CosHorzFOV\\(\\)\\` instead of this->chfov\\`.", "markup": "markdown", "html": "<p>Use  this-&gt;CosHorzFOV()` instead of this-&gt;chfov`.</p>", "type": "rendered"}, "created_on": "2018-05-17T17:19:39.164653+00:00", "user": {"display_name": "Javier Iv\u00e1n Choclin", "uuid": "{745acb37-6a3b-4169-8ba9-2c142a7408fb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B745acb37-6a3b-4169-8ba9-2c142a7408fb%7D"}, "html": {"href": "https://bitbucket.org/%7B745acb37-6a3b-4169-8ba9-2c142a7408fb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2279399d-3c75-4e1e-b818-4fb8339b2939/26f5815d-5477-4106-ba9b-ac56ee23e175/128"}}, "nickname": "Javier Choclin", "type": "user", "account_id": "557058:2279399d-3c75-4e1e-b818-4fb8339b2939"}, "inline": {"to": 650, "from": null, "path": "gazebo/rendering/GpuLaser.cc"}, "updated_on": "2018-05-17T17:19:39.176087+00:00", "type": "pullrequest_comment", "id": 64589283}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/64592351.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-64592351"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2955, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955"}}, "title": "Fix GpuRaySensor vertical rays"}, "content": {"raw": "It is looking good. Just in case, can you share the SDF for the Velodyne sensor that you are using? I do feel that yours is from -10\u00b0 to -30\u00b0, is that possible? Besides that I made two very small comments and I think we can approve this PR. 2048 for minimal value seems a little big, but 1048 didn\u2019t look very good, so I understand your decision and I think it is ok, from my side.  \n  \nI feel that we should add more tests to cover more cases as the one you pointed out and fixed, with different values of VFOV. If you want to do it that is great, I offer myself to add them in a separated PR later if not. What is your opinion @iche033?", "markup": "markdown", "html": "<p>It is looking good. Just in case, can you share the SDF for the Velodyne sensor that you are using? I do feel that yours is from -10\u00b0 to -30\u00b0, is that possible? Besides that I made two very small comments and I think we can approve this PR. 2048 for minimal value seems a little big, but 1048 didn\u2019t look very good, so I understand your decision and I think it is ok, from my side.  </p>\n<p>I feel that we should add more tests to cover more cases as the one you pointed out and fixed, with different values of VFOV. If you want to do it that is great, I offer myself to add them in a separated PR later if not. What is your opinion @iche033?</p>", "type": "rendered"}, "created_on": "2018-05-17T17:50:34.714316+00:00", "user": {"display_name": "Javier Iv\u00e1n Choclin", "uuid": "{745acb37-6a3b-4169-8ba9-2c142a7408fb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B745acb37-6a3b-4169-8ba9-2c142a7408fb%7D"}, "html": {"href": "https://bitbucket.org/%7B745acb37-6a3b-4169-8ba9-2c142a7408fb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2279399d-3c75-4e1e-b818-4fb8339b2939/26f5815d-5477-4106-ba9b-ac56ee23e175/128"}}, "nickname": "Javier Choclin", "type": "user", "account_id": "557058:2279399d-3c75-4e1e-b818-4fb8339b2939"}, "updated_on": "2018-05-17T17:50:34.730527+00:00", "type": "pullrequest_comment", "id": 64592351}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/64649576.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-64649576"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2955, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955"}}, "title": "Fix GpuRaySensor vertical rays"}, "content": {"raw": "I can't share the actual SDF but when taking the screen shot above I was just using two arbitrary angles for testing, that was not related to any real existing sensor. In fact, I only found that bug now because most of the time I tested with settings for the Velodyne VLP-16, i.e. symmetrical -15\u00b0 to +15\u00b0. It's very similar to https://bitbucket.org/DataspeedInc/velodyne_simulator/src/master/velodyne_description/urdf/VLP-16.urdf.xacro\n\nI'm on vacation for the next week, so I won't be able to work on this now. I would also vote for more tests but personally I would prefer them to be added in a seperate PR. \nI think the most common sensor types should be working now and even if we may find more bugs it's probably already much more usable than the current GpuRaySensor.", "markup": "markdown", "html": "<p>I can't share the actual SDF but when taking the screen shot above I was just using two arbitrary angles for testing, that was not related to any real existing sensor. In fact, I only found that bug now because most of the time I tested with settings for the Velodyne VLP-16, i.e. symmetrical -15\u00b0 to +15\u00b0. It's very similar to <a href=\"https://bitbucket.org/DataspeedInc/velodyne_simulator/src/master/velodyne_description/urdf/VLP-16.urdf.xacro\" rel=\"nofollow\" class=\"ap-connect-link\">https://bitbucket.org/DataspeedInc/velodyne_simulator/src/master/velodyne_description/urdf/VLP-16.urdf.xacro</a></p>\n<p>I'm on vacation for the next week, so I won't be able to work on this now. I would also vote for more tests but personally I would prefer them to be added in a seperate PR. \nI think the most common sensor types should be working now and even if we may find more bugs it's probably already much more usable than the current GpuRaySensor.</p>", "type": "rendered"}, "created_on": "2018-05-18T08:50:04.173092+00:00", "user": {"display_name": "Jacob Seibert", "uuid": "{1b2f445c-78b0-4f05-a62c-681c2ccf481c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B1b2f445c-78b0-4f05-a62c-681c2ccf481c%7D"}, "html": {"href": "https://bitbucket.org/%7B1b2f445c-78b0-4f05-a62c-681c2ccf481c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/initials/JS-5.png"}}, "nickname": "jacob", "type": "user", "account_id": "5acdbbdcb783d22b5dadd70b"}, "updated_on": "2018-05-18T08:50:04.260529+00:00", "type": "pullrequest_comment", "id": 64649576}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/64991756.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-64991756"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2955, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955"}}, "title": "Fix GpuRaySensor vertical rays"}, "content": {"raw": "started a couple jenkins builds:\n\n* [xenial-nvidia](https://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-xenial-amd64-gpu-nvidia/610/)\n* [homebrew](https://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-homebrew-amd64/1513/)\n\nI\u2019ll wait for the results of the new builds. If everything looks good, we can get these changes in first, and tackle tests in a separate PR.", "markup": "markdown", "html": "<p>started a couple jenkins builds:</p>\n<ul>\n<li><a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-xenial-amd64-gpu-nvidia/610/\" rel=\"nofollow\">xenial-nvidia</a></li>\n<li><a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-homebrew-amd64/1513/\" rel=\"nofollow\">homebrew</a></li>\n</ul>\n<p>I\u2019ll wait for the results of the new builds. If everything looks good, we can get these changes in first, and tackle tests in a separate PR.</p>", "type": "rendered"}, "created_on": "2018-05-22T21:58:09.898025+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2018-05-22T21:58:09.905069+00:00", "type": "pullrequest_comment", "id": 64991756}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/65000427.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-65000427"}}, "parent": {"id": 64991756, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/64991756.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-64991756"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2955, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955"}}, "title": "Fix GpuRaySensor vertical rays"}, "content": {"raw": "xenial-nvidia\u2019s `Unit_Visual` test failed - I can not reproduce it locally so could be red herring\n\nhomebrew\u2019s `gpu_laser` integration test failed - I\u2019ll look into it\n\n\u200c", "markup": "markdown", "html": "<p>xenial-nvidia\u2019s <code>Unit_Visual</code> test failed - I can not reproduce it locally so could be red herring</p>\n<p>homebrew\u2019s <code>gpu_laser</code> integration test failed - I\u2019ll look into it</p>\n<p>\u200c</p>", "type": "rendered"}, "created_on": "2018-05-23T01:11:33.181337+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2018-05-23T01:11:33.188296+00:00", "type": "pullrequest_comment", "id": 65000427}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/65138024.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-65138024"}}, "parent": {"id": 65000427, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/65000427.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-65000427"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2955, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955"}}, "title": "Fix GpuRaySensor vertical rays"}, "content": {"raw": "I tested on OS X and get `gpu_laser` integration test failure there. This is the result I\u2019m getting:\n\n![gpulaser\\_osx.jpg](https://bitbucket.org/repo/jgXqbo/images/4101969781-gpulaser_osx.jpg 'gpulaser\\_osx.jpg')\n\nThe laser penetrates the ground plane and the ray intersections near the bottom of the box are also a little off. \n\nGoing forward, I think we should still try to get this PR merged as it works well on xenial, and we\u2019ll leave the issue open to capture these OSX issues.", "markup": "markdown", "html": "<p>I tested on OS X and get <code>gpu_laser</code> integration test failure there. This is the result I\u2019m getting:</p>\n<p><img alt=\"gpulaser_osx.jpg\" src=\"data/bitbucket.org/repo/jgXqbo/images/4101969781-gpulaser_osx.jpg\" title=\"gpulaser_osx.jpg\" /></p>\n<p>The laser penetrates the ground plane and the ray intersections near the bottom of the box are also a little off. </p>\n<p>Going forward, I think we should still try to get this PR merged as it works well on xenial, and we\u2019ll leave the issue open to capture these OSX issues.</p>", "type": "rendered"}, "created_on": "2018-05-24T00:45:07.471157+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2018-05-24T00:45:07.478412+00:00", "type": "pullrequest_comment", "id": 65138024}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/65105362.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-65105362"}}, "parent": {"id": 64991756, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/64991756.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-64991756"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2955, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955"}}, "title": "Fix GpuRaySensor vertical rays"}, "content": {"raw": "It seems the test didn\u2019t run in xenial-nvidia. No idea why. As you said, it works locally for me too .\n\nAbout the integration gpu laser test I am back to inconsistent results. Sometimes I get segmentation fault, sometimes it passes. Let me know if you want me to look into it too.\n\n\u200c", "markup": "markdown", "html": "<p>It seems the test didn\u2019t run in xenial-nvidia. No idea why. As you said, it works locally for me too .</p>\n<p>About the integration gpu laser test I am back to inconsistent results. Sometimes I get segmentation fault, sometimes it passes. Let me know if you want me to look into it too.</p>\n<p>\u200c</p>", "type": "rendered"}, "created_on": "2018-05-23T17:28:59.510568+00:00", "user": {"display_name": "Javier Iv\u00e1n Choclin", "uuid": "{745acb37-6a3b-4169-8ba9-2c142a7408fb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B745acb37-6a3b-4169-8ba9-2c142a7408fb%7D"}, "html": {"href": "https://bitbucket.org/%7B745acb37-6a3b-4169-8ba9-2c142a7408fb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2279399d-3c75-4e1e-b818-4fb8339b2939/26f5815d-5477-4106-ba9b-ac56ee23e175/128"}}, "nickname": "Javier Choclin", "type": "user", "account_id": "557058:2279399d-3c75-4e1e-b818-4fb8339b2939"}, "updated_on": "2018-05-23T17:28:59.520973+00:00", "type": "pullrequest_comment", "id": 65105362}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/65123803.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-65123803"}}, "parent": {"id": 65105362, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/65105362.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-65105362"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2955, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955"}}, "title": "Fix GpuRaySensor vertical rays"}, "content": {"raw": "I don\u2019t get the `gpu_laser` integration test failure on xenial locally. So ya, please take a look at the issue on your end; it could be related to the homebrew test failure", "markup": "markdown", "html": "<p>I don\u2019t get the <code>gpu_laser</code> integration test failure on xenial locally. So ya, please take a look at the issue on your end; it could be related to the homebrew test failure</p>", "type": "rendered"}, "created_on": "2018-05-23T20:40:01.874892+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2018-05-23T20:40:01.886294+00:00", "type": "pullrequest_comment", "id": 65123803}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/65124338.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-65124338"}}, "parent": {"id": 65123803, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/65123803.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-65123803"}}, "depth": 3}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2955, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955"}}, "title": "Fix GpuRaySensor vertical rays"}, "content": {"raw": "Ok, I will look into it. ", "markup": "markdown", "html": "<p>Ok, I will look into it. </p>", "type": "rendered"}, "created_on": "2018-05-23T20:45:56.962807+00:00", "user": {"display_name": "Javier Iv\u00e1n Choclin", "uuid": "{745acb37-6a3b-4169-8ba9-2c142a7408fb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B745acb37-6a3b-4169-8ba9-2c142a7408fb%7D"}, "html": {"href": "https://bitbucket.org/%7B745acb37-6a3b-4169-8ba9-2c142a7408fb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2279399d-3c75-4e1e-b818-4fb8339b2939/26f5815d-5477-4106-ba9b-ac56ee23e175/128"}}, "nickname": "Javier Choclin", "type": "user", "account_id": "557058:2279399d-3c75-4e1e-b818-4fb8339b2939"}, "updated_on": "2018-05-23T20:45:56.973408+00:00", "type": "pullrequest_comment", "id": 65124338}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/65247469.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-65247469"}}, "parent": {"id": 65123803, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/65123803.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-65123803"}}, "depth": 3}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2955, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955"}}, "title": "Fix GpuRaySensor vertical rays"}, "content": {"raw": "This is the backtrace with gdb:\n\n```plaintext\n[       OK ] GPURaySensorTest.LaserUnitBox (2542 ms)\n[ RUN      ] GPURaySensorTest.NameCollision\n\nThread 1 \"INTEGRATION_gpu\" received signal SIGSEGV, Segmentation fault.\n0x00007ffff3dcd545 in _int_malloc (av=av@entry=0x7ffff410fb20 <main_arena>, bytes=bytes@entry=8192) at malloc.c:3727\n3727    malloc.c: No such file or directory.\n(gdb) backtrace\n#0  0x00007ffff3dcd545 in _int_malloc (av=av@entry=0x7ffff410fb20 <main_arena>, bytes=bytes@entry=8192) at malloc.c:3727\n#1  0x00007ffff3dcf184 in __GI___libc_malloc (bytes=8192) at malloc.c:2913\n#2  0x00007ffff46c1e78 in operator new(unsigned long) () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#3  0x00007ffff46c1f19 in operator new[](unsigned long) () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#4  0x00007ffff4720468 in std::basic_filebuf<char, std::char_traits<char> >::_M_allocate_internal_buffer() () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#5  0x00007ffff47246b2 in std::basic_filebuf<char, std::char_traits<char> >::open(char const*, std::_Ios_Openmode) () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#6  0x00007ffff47248c0 in std::basic_ofstream<char, std::char_traits<char> >::open(char const*, std::_Ios_Openmode) () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#7  0x00007ffff5babd25 in gazebo::common::FileLogger::Init (this=0x7ffff5ec6c60 <gazebo::common::Console::log>, _prefix=\"test-\", _filename=\"test.log\") at /home/docker/gazebo/gazebo/common/Console.cc:211\n#8  0x0000000000477961 in gazebo::ServerFixture::ServerFixture (this=0x7cb5b0) at /home/docker/gazebo/gazebo/test/ServerFixture.cc:91\n#9  0x000000000043faba in GPURaySensorTest::GPURaySensorTest (this=0x7cb5b0) at /home/docker/gazebo/test/integration/gpu_laser.cc:28\n#10 0x000000000043fc90 in GPURaySensorTest_NameCollision_Test::GPURaySensorTest_NameCollision_Test (this=0x7cb5b0) at /home/docker/gazebo/test/integration/gpu_laser.cc:216\n#11 0x000000000044606e in testing::internal::TestFactoryImpl<GPURaySensorTest_NameCollision_Test>::CreateTest (this=0x7b8dd0) at /home/docker/gazebo/test/gtest/include/gtest/internal/gtest-internal.h:454\n#12 0x000000000046bc3f in testing::internal::HandleSehExceptionsInMethodIfSupported<testing::internal::TestFactoryBase, testing::Test*> (object=0x7b8dd0, \n    method=&virtual testing::internal::TestFactoryBase::CreateTest(), location=0x4b4468 \"the test fixture's constructor\") at /home/docker/gazebo/test/gtest/src/gtest.cc:2079\n#13 0x0000000000466fa3 in testing::internal::HandleExceptionsInMethodIfSupported<testing::internal::TestFactoryBase, testing::Test*> (object=0x7b8dd0, \n    method=&virtual testing::internal::TestFactoryBase::CreateTest(), location=0x4b4468 \"the test fixture's constructor\") at /home/docker/gazebo/test/gtest/src/gtest.cc:2115\n#14 0x000000000044cc13 in testing::TestInfo::Run (this=0x7c9ee0) at /home/docker/gazebo/test/gtest/src/gtest.cc:2320\n#15 0x000000000044d2c6 in testing::TestCase::Run (this=0x7b8cb0) at /home/docker/gazebo/test/gtest/src/gtest.cc:2445\n#16 0x00000000004543a4 in testing::internal::UnitTestImpl::RunAllTests (this=0x7b9670) at /home/docker/gazebo/test/gtest/src/gtest.cc:4316\n#17 0x000000000046cad1 in testing::internal::HandleSehExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool> (object=0x7b9670, \n    method=(bool (testing::internal::UnitTestImpl::*)(testing::internal::UnitTestImpl * const)) 0x4540e4 <testing::internal::UnitTestImpl::RunAllTests()>, \n    location=0x4b4b08 \"auxiliary test code (environments or event listeners)\") at /home/docker/gazebo/test/gtest/src/gtest.cc:2079\n#18 0x0000000000467b5f in testing::internal::HandleExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool> (object=0x7b9670, \n    method=(bool (testing::internal::UnitTestImpl::*)(testing::internal::UnitTestImpl * const)) 0x4540e4 <testing::internal::UnitTestImpl::RunAllTests()>, \n    location=0x4b4b08 \"auxiliary test code (environments or event listeners)\") at /home/docker/gazebo/test/gtest/src/gtest.cc:2115\n#19 0x0000000000452f6f in testing::UnitTest::Run (this=0x6f5820 <testing::UnitTest::GetInstance()::instance>) at /home/docker/gazebo/test/gtest/src/gtest.cc:3927\n#20 0x000000000043eb00 in RUN_ALL_TESTS () at /home/docker/gazebo/test/gtest/include/gtest/gtest.h:2288\n#21 0x000000000043d056 in main (argc=1, argv=0x7fffffffea78) at /home/docker/gazebo/test/integration/gpu_laser.cc:602\n(gdb) \n```\n\nThe issue seems to be that it fails to open the test log from time to time. Because of this I have SIGSEGVS from time to time. EDIT: The malloc error seems to be from a heap corruption.", "markup": "markdown", "html": "<p>This is the backtrace with gdb:</p>\n<div class=\"codehilite language-plaintext\"><pre><span></span>[       OK ] GPURaySensorTest.LaserUnitBox (2542 ms)\n[ RUN      ] GPURaySensorTest.NameCollision\n\nThread 1 &quot;INTEGRATION_gpu&quot; received signal SIGSEGV, Segmentation fault.\n0x00007ffff3dcd545 in _int_malloc (av=av@entry=0x7ffff410fb20 &lt;main_arena&gt;, bytes=bytes@entry=8192) at malloc.c:3727\n3727    malloc.c: No such file or directory.\n(gdb) backtrace\n#0  0x00007ffff3dcd545 in _int_malloc (av=av@entry=0x7ffff410fb20 &lt;main_arena&gt;, bytes=bytes@entry=8192) at malloc.c:3727\n#1  0x00007ffff3dcf184 in __GI___libc_malloc (bytes=8192) at malloc.c:2913\n#2  0x00007ffff46c1e78 in operator new(unsigned long) () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#3  0x00007ffff46c1f19 in operator new[](unsigned long) () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#4  0x00007ffff4720468 in std::basic_filebuf&lt;char, std::char_traits&lt;char&gt; &gt;::_M_allocate_internal_buffer() () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#5  0x00007ffff47246b2 in std::basic_filebuf&lt;char, std::char_traits&lt;char&gt; &gt;::open(char const*, std::_Ios_Openmode) () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#6  0x00007ffff47248c0 in std::basic_ofstream&lt;char, std::char_traits&lt;char&gt; &gt;::open(char const*, std::_Ios_Openmode) () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#7  0x00007ffff5babd25 in gazebo::common::FileLogger::Init (this=0x7ffff5ec6c60 &lt;gazebo::common::Console::log&gt;, _prefix=&quot;test-&quot;, _filename=&quot;test.log&quot;) at /home/docker/gazebo/gazebo/common/Console.cc:211\n#8  0x0000000000477961 in gazebo::ServerFixture::ServerFixture (this=0x7cb5b0) at /home/docker/gazebo/gazebo/test/ServerFixture.cc:91\n#9  0x000000000043faba in GPURaySensorTest::GPURaySensorTest (this=0x7cb5b0) at /home/docker/gazebo/test/integration/gpu_laser.cc:28\n#10 0x000000000043fc90 in GPURaySensorTest_NameCollision_Test::GPURaySensorTest_NameCollision_Test (this=0x7cb5b0) at /home/docker/gazebo/test/integration/gpu_laser.cc:216\n#11 0x000000000044606e in testing::internal::TestFactoryImpl&lt;GPURaySensorTest_NameCollision_Test&gt;::CreateTest (this=0x7b8dd0) at /home/docker/gazebo/test/gtest/include/gtest/internal/gtest-internal.h:454\n#12 0x000000000046bc3f in testing::internal::HandleSehExceptionsInMethodIfSupported&lt;testing::internal::TestFactoryBase, testing::Test*&gt; (object=0x7b8dd0, \n    method=&amp;virtual testing::internal::TestFactoryBase::CreateTest(), location=0x4b4468 &quot;the test fixture&#39;s constructor&quot;) at /home/docker/gazebo/test/gtest/src/gtest.cc:2079\n#13 0x0000000000466fa3 in testing::internal::HandleExceptionsInMethodIfSupported&lt;testing::internal::TestFactoryBase, testing::Test*&gt; (object=0x7b8dd0, \n    method=&amp;virtual testing::internal::TestFactoryBase::CreateTest(), location=0x4b4468 &quot;the test fixture&#39;s constructor&quot;) at /home/docker/gazebo/test/gtest/src/gtest.cc:2115\n#14 0x000000000044cc13 in testing::TestInfo::Run (this=0x7c9ee0) at /home/docker/gazebo/test/gtest/src/gtest.cc:2320\n#15 0x000000000044d2c6 in testing::TestCase::Run (this=0x7b8cb0) at /home/docker/gazebo/test/gtest/src/gtest.cc:2445\n#16 0x00000000004543a4 in testing::internal::UnitTestImpl::RunAllTests (this=0x7b9670) at /home/docker/gazebo/test/gtest/src/gtest.cc:4316\n#17 0x000000000046cad1 in testing::internal::HandleSehExceptionsInMethodIfSupported&lt;testing::internal::UnitTestImpl, bool&gt; (object=0x7b9670, \n    method=(bool (testing::internal::UnitTestImpl::*)(testing::internal::UnitTestImpl * const)) 0x4540e4 &lt;testing::internal::UnitTestImpl::RunAllTests()&gt;, \n    location=0x4b4b08 &quot;auxiliary test code (environments or event listeners)&quot;) at /home/docker/gazebo/test/gtest/src/gtest.cc:2079\n#18 0x0000000000467b5f in testing::internal::HandleExceptionsInMethodIfSupported&lt;testing::internal::UnitTestImpl, bool&gt; (object=0x7b9670, \n    method=(bool (testing::internal::UnitTestImpl::*)(testing::internal::UnitTestImpl * const)) 0x4540e4 &lt;testing::internal::UnitTestImpl::RunAllTests()&gt;, \n    location=0x4b4b08 &quot;auxiliary test code (environments or event listeners)&quot;) at /home/docker/gazebo/test/gtest/src/gtest.cc:2115\n#19 0x0000000000452f6f in testing::UnitTest::Run (this=0x6f5820 &lt;testing::UnitTest::GetInstance()::instance&gt;) at /home/docker/gazebo/test/gtest/src/gtest.cc:3927\n#20 0x000000000043eb00 in RUN_ALL_TESTS () at /home/docker/gazebo/test/gtest/include/gtest/gtest.h:2288\n#21 0x000000000043d056 in main (argc=1, argv=0x7fffffffea78) at /home/docker/gazebo/test/integration/gpu_laser.cc:602\n(gdb) \n</pre></div>\n\n\n<p>The issue seems to be that it fails to open the test log from time to time. Because of this I have SIGSEGVS from time to time. EDIT: The malloc error seems to be from a heap corruption.</p>", "type": "rendered"}, "created_on": "2018-05-24T18:29:07.905656+00:00", "user": {"display_name": "Javier Iv\u00e1n Choclin", "uuid": "{745acb37-6a3b-4169-8ba9-2c142a7408fb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B745acb37-6a3b-4169-8ba9-2c142a7408fb%7D"}, "html": {"href": "https://bitbucket.org/%7B745acb37-6a3b-4169-8ba9-2c142a7408fb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2279399d-3c75-4e1e-b818-4fb8339b2939/26f5815d-5477-4106-ba9b-ac56ee23e175/128"}}, "nickname": "Javier Choclin", "type": "user", "account_id": "557058:2279399d-3c75-4e1e-b818-4fb8339b2939"}, "updated_on": "2018-05-24T18:37:19.479366+00:00", "type": "pullrequest_comment", "id": 65247469}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/65251808.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-65251808"}}, "parent": {"id": 65247469, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/65247469.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-65247469"}}, "depth": 4}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2955, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955"}}, "title": "Fix GpuRaySensor vertical rays"}, "content": {"raw": "do you get this problem when running other tests? ", "markup": "markdown", "html": "<p>do you get this problem when running other tests? </p>", "type": "rendered"}, "created_on": "2018-05-24T19:17:29.901767+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2018-05-24T19:17:29.909728+00:00", "type": "pullrequest_comment", "id": 65251808}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/65261832.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-65261832"}}, "parent": {"id": 65251808, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/65251808.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-65251808"}}, "depth": 5}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2955, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955"}}, "title": "Fix GpuRaySensor vertical rays"}, "content": {"raw": "97% tests passed, 19 tests failed out of 572\n\nTotal Test time \\(real\\) = 5809.00 sec\n\nThe following tests FAILED:  \n 309 - PERFORMANCE\\_transport\\_stress \\(Timeout\\)  \n 310 - check\\_PERFORMANCE\\_transport\\_stress \\(Failed\\)  \n 323 - INTEGRATION\\_contain\\_plugin \\(Failed\\)  \n 343 - INTEGRATION\\_harness \\(Failed\\)  \n 375 - INTEGRATION\\_model\\_database \\(Timeout\\)  \n 376 - check\\_INTEGRATION\\_model\\_database \\(Failed\\)  \n 417 - INTEGRATION\\_rest\\_web \\(Timeout\\)  \n 418 - check\\_INTEGRATION\\_rest\\_web \\(Failed\\)  \n 435 - INTEGRATION\\_static\\_map\\_plugin \\(OTHER\\_FAULT\\)  \n 436 - check\\_INTEGRATION\\_static\\_map\\_plugin \\(Failed\\)  \n 463 - INTEGRATION\\_worlds\\_installed \\(Timeout\\)  \n 464 - check\\_INTEGRATION\\_worlds\\_installed \\(Failed\\)  \n 475 - INTEGRATION\\_gpu\\_laser \\(SEGFAULT\\)  \n 476 - check\\_INTEGRATION\\_gpu\\_laser \\(Failed\\)  \n 483 - INTEGRATION\\_ogre\\_log \\(Failed\\)  \n 519 - EXAMPLE\\_examples\\_build \\(Failed\\)  \n 565 - REGRESSION\\_config-cmake \\(Failed\\)  \n 567 - REGRESSION\\_config-pkgconfig \\(Failed\\)  \n 571 - UNIT\\_gz\\_TEST \\(Failed\\)\n\n\u200c\n\nI would say that something corrupts the heap for this test. It is not an issue in `common/Console.cc` or `test/ServerFixture.cc`It could even be something from nvidia or a dependency\u2026", "markup": "markdown", "html": "<p>97% tests passed, 19 tests failed out of 572</p>\n<p>Total Test time (real) = 5809.00 sec</p>\n<p>The following tests FAILED:<br />\n 309 - PERFORMANCE_transport_stress (Timeout)<br />\n 310 - check_PERFORMANCE_transport_stress (Failed)<br />\n 323 - INTEGRATION_contain_plugin (Failed)<br />\n 343 - INTEGRATION_harness (Failed)<br />\n 375 - INTEGRATION_model_database (Timeout)<br />\n 376 - check_INTEGRATION_model_database (Failed)<br />\n 417 - INTEGRATION_rest_web (Timeout)<br />\n 418 - check_INTEGRATION_rest_web (Failed)<br />\n 435 - INTEGRATION_static_map_plugin (OTHER_FAULT)<br />\n 436 - check_INTEGRATION_static_map_plugin (Failed)<br />\n 463 - INTEGRATION_worlds_installed (Timeout)<br />\n 464 - check_INTEGRATION_worlds_installed (Failed)<br />\n 475 - INTEGRATION_gpu_laser (SEGFAULT)<br />\n 476 - check_INTEGRATION_gpu_laser (Failed)<br />\n 483 - INTEGRATION_ogre_log (Failed)<br />\n 519 - EXAMPLE_examples_build (Failed)<br />\n 565 - REGRESSION_config-cmake (Failed)<br />\n 567 - REGRESSION_config-pkgconfig (Failed)<br />\n 571 - UNIT_gz_TEST (Failed)</p>\n<p>\u200c</p>\n<p>I would say that something corrupts the heap for this test. It is not an issue in <code>common/Console.cc</code> or <code>test/ServerFixture.cc</code>It could even be something from nvidia or a dependency\u2026</p>", "type": "rendered"}, "created_on": "2018-05-24T21:21:06.653646+00:00", "user": {"display_name": "Javier Iv\u00e1n Choclin", "uuid": "{745acb37-6a3b-4169-8ba9-2c142a7408fb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B745acb37-6a3b-4169-8ba9-2c142a7408fb%7D"}, "html": {"href": "https://bitbucket.org/%7B745acb37-6a3b-4169-8ba9-2c142a7408fb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2279399d-3c75-4e1e-b818-4fb8339b2939/26f5815d-5477-4106-ba9b-ac56ee23e175/128"}}, "nickname": "Javier Choclin", "type": "user", "account_id": "557058:2279399d-3c75-4e1e-b818-4fb8339b2939"}, "updated_on": "2018-05-24T21:25:24.981015+00:00", "type": "pullrequest_comment", "id": 65261832}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/65362538.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-65362538"}}, "parent": {"id": 65261832, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/65261832.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-65261832"}}, "depth": 6}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2955, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955"}}, "title": "Fix GpuRaySensor vertical rays"}, "content": {"raw": "Could you look into this problem? I\u2019m not able to reproduce it. We can leave it for a separate PR if it\u2019s not trivial to fix.", "markup": "markdown", "html": "<p>Could you look into this problem? I\u2019m not able to reproduce it. We can leave it for a separate PR if it\u2019s not trivial to fix.</p>", "type": "rendered"}, "created_on": "2018-05-25T17:54:18.047652+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2018-05-25T17:54:18.056055+00:00", "type": "pullrequest_comment", "id": 65362538}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/65138273.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/enwaytech/gazebo:a3dd1179c504..b5a1ea31f988?path=test%2Fintegration%2Fgpu_laser.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-65138273"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2955, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955"}}, "title": "Fix GpuRaySensor vertical rays"}, "content": {"raw": "our code checker picked up a couple style errors here. Could you add a space after `//`?", "markup": "markdown", "html": "<p>our code checker picked up a couple style errors here. Could you add a space after <code>//</code>?</p>", "type": "rendered"}, "created_on": "2018-05-24T00:52:13.672930+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {"to": 470, "from": null, "path": "test/integration/gpu_laser.cc"}, "updated_on": "2018-05-24T00:52:13.679326+00:00", "type": "pullrequest_comment", "id": 65138273}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/65165374.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/enwaytech/gazebo:e35b5b48e2cd..b5a1ea31f988?path=test%2Fintegration%2Fgpu_laser.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-65165374"}}, "parent": {"id": 65138273, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/65138273.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-65138273"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2955, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955"}}, "title": "Fix GpuRaySensor vertical rays"}, "content": {"raw": "Done!", "markup": "markdown", "html": "<p>Done!</p>", "type": "rendered"}, "created_on": "2018-05-24T08:15:17.479782+00:00", "user": {"display_name": "Jacob Seibert", "uuid": "{1b2f445c-78b0-4f05-a62c-681c2ccf481c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B1b2f445c-78b0-4f05-a62c-681c2ccf481c%7D"}, "html": {"href": "https://bitbucket.org/%7B1b2f445c-78b0-4f05-a62c-681c2ccf481c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/initials/JS-5.png"}}, "nickname": "jacob", "type": "user", "account_id": "5acdbbdcb783d22b5dadd70b"}, "inline": {"to": null, "from": null, "path": "test/integration/gpu_laser.cc"}, "updated_on": "2018-05-24T08:15:17.514381+00:00", "type": "pullrequest_comment", "id": 65165374}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/65138299.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/enwaytech/gazebo:a3dd1179c504..b5a1ea31f988?path=gazebo%2Fsensors%2FGpuRaySensor.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-65138299"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2955, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955"}}, "title": "Fix GpuRaySensor vertical rays"}, "content": {"raw": "do you need to divide by 1 here?", "markup": "markdown", "html": "<p>do you need to divide by 1 here?</p>", "type": "rendered"}, "created_on": "2018-05-24T00:53:02.684637+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {"to": 282, "from": null, "path": "gazebo/sensors/GpuRaySensor.cc"}, "updated_on": "2018-05-24T00:53:02.692725+00:00", "type": "pullrequest_comment", "id": 65138299}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/65163056.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/enwaytech/gazebo:a3dd1179c504..b5a1ea31f988?path=gazebo%2Fsensors%2FGpuRaySensor.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-65163056"}}, "parent": {"id": 65138299, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/65138299.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-65138299"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2955, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955"}}, "title": "Fix GpuRaySensor vertical rays"}, "content": {"raw": "No, not necessarily. But I kept it in there to indicate that this is still a ratio of horiz and vert samples. Would you prefer to have it removed?", "markup": "markdown", "html": "<p>No, not necessarily. But I kept it in there to indicate that this is still a ratio of horiz and vert samples. Would you prefer to have it removed?</p>", "type": "rendered"}, "created_on": "2018-05-24T07:57:29.772030+00:00", "user": {"display_name": "Jacob Seibert", "uuid": "{1b2f445c-78b0-4f05-a62c-681c2ccf481c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B1b2f445c-78b0-4f05-a62c-681c2ccf481c%7D"}, "html": {"href": "https://bitbucket.org/%7B1b2f445c-78b0-4f05-a62c-681c2ccf481c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/initials/JS-5.png"}}, "nickname": "jacob", "type": "user", "account_id": "5acdbbdcb783d22b5dadd70b"}, "inline": {"to": null, "from": null, "path": "gazebo/sensors/GpuRaySensor.cc"}, "updated_on": "2018-05-24T07:57:29.828744+00:00", "type": "pullrequest_comment", "id": 65163056}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/65240172.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/enwaytech/gazebo:e35b5b48e2cd..b5a1ea31f988?path=gazebo%2Fsensors%2FGpuRaySensor.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-65240172"}}, "parent": {"id": 65163056, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/65163056.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-65163056"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2955, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955"}}, "title": "Fix GpuRaySensor vertical rays"}, "content": {"raw": "ya we can remove it. I think it\u2019s clear enough from the code and comment.", "markup": "markdown", "html": "<p>ya we can remove it. I think it\u2019s clear enough from the code and comment.</p>", "type": "rendered"}, "created_on": "2018-05-24T17:12:04.784785+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {"to": null, "from": null, "path": "gazebo/sensors/GpuRaySensor.cc"}, "updated_on": "2018-05-24T17:12:04.793157+00:00", "type": "pullrequest_comment", "id": 65240172}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/65139137.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/enwaytech/gazebo:a3dd1179c504..b5a1ea31f988?path=gazebo%2Fsensors%2FGpuRaySensor.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-65139137"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2955, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955"}}, "title": "Fix GpuRaySensor vertical rays"}, "content": {"raw": "for symmetric vertical angles, this will always evaluate to 0, is this intended? e.g. \\(0.3 \\+ -0.3\\) /2 = 0", "markup": "markdown", "html": "<p>for symmetric vertical angles, this will always evaluate to 0, is this intended? e.g. (0.3 + -0.3) /2 = 0</p>", "type": "rendered"}, "created_on": "2018-05-24T01:14:50.417817+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {"to": 235, "from": null, "path": "gazebo/sensors/GpuRaySensor.cc"}, "updated_on": "2018-05-24T01:14:50.425637+00:00", "type": "pullrequest_comment", "id": 65139137}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/65162571.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/enwaytech/gazebo:a3dd1179c504..b5a1ea31f988?path=gazebo%2Fsensors%2FGpuRaySensor.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-65162571"}}, "parent": {"id": 65139137, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/65139137.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-65139137"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2955, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955"}}, "title": "Fix GpuRaySensor vertical rays"}, "content": {"raw": "Yes, that's intended. The vertical half angle is the center of vfov, i.e. 0 when angles are symmetric.", "markup": "markdown", "html": "<p>Yes, that's intended. The vertical half angle is the center of vfov, i.e. 0 when angles are symmetric.</p>", "type": "rendered"}, "created_on": "2018-05-24T07:54:39.157206+00:00", "user": {"display_name": "Jacob Seibert", "uuid": "{1b2f445c-78b0-4f05-a62c-681c2ccf481c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B1b2f445c-78b0-4f05-a62c-681c2ccf481c%7D"}, "html": {"href": "https://bitbucket.org/%7B1b2f445c-78b0-4f05-a62c-681c2ccf481c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/initials/JS-5.png"}}, "nickname": "jacob", "type": "user", "account_id": "5acdbbdcb783d22b5dadd70b"}, "inline": {"to": null, "from": null, "path": "gazebo/sensors/GpuRaySensor.cc"}, "updated_on": "2018-05-24T07:54:39.211339+00:00", "type": "pullrequest_comment", "id": 65162571}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/65139298.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/enwaytech/gazebo:a3dd1179c504..b5a1ea31f988?path=gazebo%2Fsensors%2FGpuRaySensor.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-65139298"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2955, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955"}}, "title": "Fix GpuRaySensor vertical rays"}, "content": {"raw": "when is padding needed? only for asymmetric angles?", "markup": "markdown", "html": "<p>when is padding needed? only for asymmetric angles?</p>", "type": "rendered"}, "created_on": "2018-05-24T01:18:09.221870+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {"to": 245, "from": null, "path": "gazebo/sensors/GpuRaySensor.cc"}, "updated_on": "2018-05-24T01:18:09.228495+00:00", "type": "pullrequest_comment", "id": 65139298}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/65162331.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/enwaytech/gazebo:a3dd1179c504..b5a1ea31f988?path=gazebo%2Fsensors%2FGpuRaySensor.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-65162331"}}, "parent": {"id": 65139298, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/65139298.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-65139298"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2955, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955"}}, "title": "Fix GpuRaySensor vertical rays"}, "content": {"raw": "Yes, exactly. If the angles are asymmetric and the vertical half angle of the laser ray fov is not 0, then we need to make the camera vfov bigger in order to cover all laser ray fov but still be horizontally.", "markup": "markdown", "html": "<p>Yes, exactly. If the angles are asymmetric and the vertical half angle of the laser ray fov is not 0, then we need to make the camera vfov bigger in order to cover all laser ray fov but still be horizontally.</p>", "type": "rendered"}, "created_on": "2018-05-24T07:52:40.935729+00:00", "user": {"display_name": "Jacob Seibert", "uuid": "{1b2f445c-78b0-4f05-a62c-681c2ccf481c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B1b2f445c-78b0-4f05-a62c-681c2ccf481c%7D"}, "html": {"href": "https://bitbucket.org/%7B1b2f445c-78b0-4f05-a62c-681c2ccf481c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/initials/JS-5.png"}}, "nickname": "jacob", "type": "user", "account_id": "5acdbbdcb783d22b5dadd70b"}, "inline": {"to": null, "from": null, "path": "gazebo/sensors/GpuRaySensor.cc"}, "updated_on": "2018-05-24T07:52:40.996718+00:00", "type": "pullrequest_comment", "id": 65162331}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/65240525.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/enwaytech/gazebo:e35b5b48e2cd..b5a1ea31f988?path=test%2Fintegration%2Fgpu_laser.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-65240525"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2955, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955"}}, "title": "Fix GpuRaySensor vertical rays"}, "content": {"raw": "Can you add an `ifdef` here to return on OSX, something like:\n\n    // issue #946\n    #ifdef __APPLE__\n      return;\n    #endif\n\n\u200c", "markup": "markdown", "html": "<p>Can you add an <code>ifdef</code> here to return on OSX, something like:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"c1\">// issue #946</span>\n<span class=\"cp\">#ifdef __APPLE__</span>\n  <span class=\"k\">return</span><span class=\"p\">;</span>\n<span class=\"cp\">#endif</span>\n</pre></div>\n\n\n<p>\u200c</p>", "type": "rendered"}, "created_on": "2018-05-24T17:16:07.682834+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {"to": 379, "from": null, "path": "test/integration/gpu_laser.cc"}, "updated_on": "2018-05-24T17:16:07.693793+00:00", "type": "pullrequest_comment", "id": 65240525}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/65686532.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-65686532"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2955, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955"}}, "title": "Fix GpuRaySensor vertical rays"}, "content": {"raw": "Any updates on this?", "markup": "markdown", "html": "<p>Any updates on this?</p>", "type": "rendered"}, "created_on": "2018-05-30T12:00:09.915884+00:00", "user": {"display_name": "Jacob Seibert", "uuid": "{1b2f445c-78b0-4f05-a62c-681c2ccf481c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B1b2f445c-78b0-4f05-a62c-681c2ccf481c%7D"}, "html": {"href": "https://bitbucket.org/%7B1b2f445c-78b0-4f05-a62c-681c2ccf481c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/initials/JS-5.png"}}, "nickname": "jacob", "type": "user", "account_id": "5acdbbdcb783d22b5dadd70b"}, "updated_on": "2018-05-30T12:00:10.007214+00:00", "type": "pullrequest_comment", "id": 65686532}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/65694434.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-65694434"}}, "parent": {"id": 65686532, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/65686532.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-65686532"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2955, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955"}}, "title": "Fix GpuRaySensor vertical rays"}, "content": {"raw": "Hi Jacob, yes, I am looking into the random SIGSEGVS running the tests.", "markup": "markdown", "html": "<p>Hi Jacob, yes, I am looking into the random SIGSEGVS running the tests.</p>", "type": "rendered"}, "created_on": "2018-05-30T12:56:07.099588+00:00", "user": {"display_name": "Javier Iv\u00e1n Choclin", "uuid": "{745acb37-6a3b-4169-8ba9-2c142a7408fb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B745acb37-6a3b-4169-8ba9-2c142a7408fb%7D"}, "html": {"href": "https://bitbucket.org/%7B745acb37-6a3b-4169-8ba9-2c142a7408fb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2279399d-3c75-4e1e-b818-4fb8339b2939/26f5815d-5477-4106-ba9b-ac56ee23e175/128"}}, "nickname": "Javier Choclin", "type": "user", "account_id": "557058:2279399d-3c75-4e1e-b818-4fb8339b2939"}, "updated_on": "2018-05-30T12:56:07.112988+00:00", "type": "pullrequest_comment", "id": 65694434}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/66651209.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-66651209"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2955, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955"}}, "title": "Fix GpuRaySensor vertical rays"}, "content": {"raw": "After testing this PR through its commit history and even into Gazebo7, I think that the issue is not from this PR. I am having problem at least since the changeset 36226, I didn\u2019t tested it further, but that is the parent commit for the initial branch. I suspect this is a problem with the dependencies, not gazebo itself. I think we can go forward merging this PR at least you want to do further research @iche033 .", "markup": "markdown", "html": "<p>After testing this PR through its commit history and even into Gazebo7, I think that the issue is not from this PR. I am having problem at least since the changeset 36226, I didn\u2019t tested it further, but that is the parent commit for the initial branch. I suspect this is a problem with the dependencies, not gazebo itself. I think we can go forward merging this PR at least you want to do further research @iche033 .</p>", "type": "rendered"}, "created_on": "2018-06-08T20:51:15.058547+00:00", "user": {"display_name": "Javier Iv\u00e1n Choclin", "uuid": "{745acb37-6a3b-4169-8ba9-2c142a7408fb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B745acb37-6a3b-4169-8ba9-2c142a7408fb%7D"}, "html": {"href": "https://bitbucket.org/%7B745acb37-6a3b-4169-8ba9-2c142a7408fb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2279399d-3c75-4e1e-b818-4fb8339b2939/26f5815d-5477-4106-ba9b-ac56ee23e175/128"}}, "nickname": "Javier Choclin", "type": "user", "account_id": "557058:2279399d-3c75-4e1e-b818-4fb8339b2939"}, "updated_on": "2018-06-08T20:51:15.075614+00:00", "type": "pullrequest_comment", "id": 66651209}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/67369862.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-67369862"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2955, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955"}}, "title": "Fix GpuRaySensor vertical rays"}, "content": {"raw": "Okay, thanks for your investigations Javier!  \n  \nIs there anything I can still do?", "markup": "markdown", "html": "<p>Okay, thanks for your investigations Javier!  </p>\n<p>Is there anything I can still do?</p>", "type": "rendered"}, "created_on": "2018-06-18T08:39:01.039105+00:00", "user": {"display_name": "Jacob Seibert", "uuid": "{1b2f445c-78b0-4f05-a62c-681c2ccf481c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B1b2f445c-78b0-4f05-a62c-681c2ccf481c%7D"}, "html": {"href": "https://bitbucket.org/%7B1b2f445c-78b0-4f05-a62c-681c2ccf481c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/initials/JS-5.png"}}, "nickname": "jacob", "type": "user", "account_id": "5acdbbdcb783d22b5dadd70b"}, "updated_on": "2018-06-18T08:39:01.087147+00:00", "type": "pullrequest_comment", "id": 67369862}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/67443565.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-67443565"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2955, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955"}}, "title": "Fix GpuRaySensor vertical rays"}, "content": {"raw": "This PR looks good to me. Just one last [jenkins build](https://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-xenial-amd64-gpu-nvidia/629/).  Ready to approve if build looks good", "markup": "markdown", "html": "<p>This PR looks good to me. Just one last <a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-xenial-amd64-gpu-nvidia/629/\" rel=\"nofollow\">jenkins build</a>.  Ready to approve if build looks good</p>", "type": "rendered"}, "created_on": "2018-06-18T17:48:03.696481+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2018-06-18T17:48:03.704363+00:00", "type": "pullrequest_comment", "id": 67443565}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/67458240.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-67458240"}}, "parent": {"id": 67443565, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/67443565.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-67443565"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2955, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955"}}, "title": "Fix GpuRaySensor vertical rays"}, "content": {"raw": "build looks good, merging.", "markup": "markdown", "html": "<p>build looks good, merging.</p>", "type": "rendered"}, "created_on": "2018-06-18T20:29:40.171789+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2018-06-18T20:29:40.181651+00:00", "type": "pullrequest_comment", "id": 67458240}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/67444215.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-67444215"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2955, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955"}}, "title": "Fix GpuRaySensor vertical rays"}, "content": {"raw": "Yes, I agree. I also tested opening a SDF with a GPU lidar in gazebo many times and everything always worked ok. ", "markup": "markdown", "html": "<p>Yes, I agree. I also tested opening a SDF with a GPU lidar in gazebo many times and everything always worked ok. </p>", "type": "rendered"}, "created_on": "2018-06-18T17:54:31.360414+00:00", "user": {"display_name": "Javier Iv\u00e1n Choclin", "uuid": "{745acb37-6a3b-4169-8ba9-2c142a7408fb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B745acb37-6a3b-4169-8ba9-2c142a7408fb%7D"}, "html": {"href": "https://bitbucket.org/%7B745acb37-6a3b-4169-8ba9-2c142a7408fb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2279399d-3c75-4e1e-b818-4fb8339b2939/26f5815d-5477-4106-ba9b-ac56ee23e175/128"}}, "nickname": "Javier Choclin", "type": "user", "account_id": "557058:2279399d-3c75-4e1e-b818-4fb8339b2939"}, "updated_on": "2018-06-18T17:54:31.369377+00:00", "type": "pullrequest_comment", "id": 67444215}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/70266827.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-70266827"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2955, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955"}}, "title": "Fix GpuRaySensor vertical rays"}, "content": {"raw": "Any estimate when the next version containing this fix will be released?", "markup": "markdown", "html": "<p>Any estimate when the next version containing this fix will be released?</p>", "type": "rendered"}, "created_on": "2018-07-18T06:59:13.852627+00:00", "user": {"display_name": "Jacob Seibert", "uuid": "{1b2f445c-78b0-4f05-a62c-681c2ccf481c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B1b2f445c-78b0-4f05-a62c-681c2ccf481c%7D"}, "html": {"href": "https://bitbucket.org/%7B1b2f445c-78b0-4f05-a62c-681c2ccf481c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/initials/JS-5.png"}}, "nickname": "jacob", "type": "user", "account_id": "5acdbbdcb783d22b5dadd70b"}, "updated_on": "2018-07-18T06:59:14.071659+00:00", "type": "pullrequest_comment", "id": 70266827}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/70381491.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-70381491"}}, "parent": {"id": 70266827, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/70266827.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-70266827"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2955, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955"}}, "title": "Fix GpuRaySensor vertical rays"}, "content": {"raw": "we don\u2019t have an estimate yet but it would be nice to make a new gazebo7 minor release with these changes. We may wait for a few existing PRs targeting gazebo7 to be reviewed and merged first and then make a new release together.", "markup": "markdown", "html": "<p>we don\u2019t have an estimate yet but it would be nice to make a new gazebo7 minor release with these changes. We may wait for a few existing PRs targeting gazebo7 to be reviewed and merged first and then make a new release together.</p>", "type": "rendered"}, "created_on": "2018-07-18T22:55:07.395905+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2018-07-18T22:55:07.402388+00:00", "type": "pullrequest_comment", "id": 70381491}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/84254021.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-84254021"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2955, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955"}}, "title": "Fix GpuRaySensor vertical rays"}, "content": {"raw": "The Bug seems to be fixed and merged afew months ago. But it is still occurring Gazebo 7.14.0. Any solution for this?", "markup": "markdown", "html": "<p>The Bug seems to be fixed and merged afew months ago. But it is still occurring Gazebo 7.14.0. Any solution for this?</p>", "type": "rendered"}, "created_on": "2018-12-02T15:37:26.108257+00:00", "user": {"display_name": "Bjarne Johannsen", "uuid": "{f1122cd8-f384-4214-8feb-9347d5d0ecdf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bf1122cd8-f384-4214-8feb-9347d5d0ecdf%7D"}, "html": {"href": "https://bitbucket.org/%7Bf1122cd8-f384-4214-8feb-9347d5d0ecdf%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/500d295b5145f1aae033b374077a0270d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsBJ-5.png"}}, "nickname": "b_johannsen", "type": "user", "account_id": "5c02b3d10ecb4f1b2ffa8cfc"}, "updated_on": "2018-12-02T15:37:26.164389+00:00", "type": "pullrequest_comment", "id": 84254021}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/84383963.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-84383963"}}, "parent": {"id": 84254021, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955/comments/84254021.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955/_/diff#comment-84254021"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2955, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2955.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2955"}}, "title": "Fix GpuRaySensor vertical rays"}, "content": {"raw": "AFAIK It should be fixed in gazebo 7.14 on Ubuntu but not macOS. Could you post in issue #946 and describe what behavior you're seeing? Also include the SDF parameters you're using for `gpu_laser`, OS, and graphics card and driver version.", "markup": "markdown", "html": "<p>AFAIK It should be fixed in gazebo 7.14 on Ubuntu but not macOS. Could you post in issue <a href=\"#!/osrf/gazebo/issues/946/gpu-ray-sensor-vertical-ranges\" rel=\"nofollow\" title=\"gpu ray sensor vertical ranges\" class=\"ap-connect-link\">#946</a> and describe what behavior you're seeing? Also include the SDF parameters you're using for <code>gpu_laser</code>, OS, and graphics card and driver version.</p>", "type": "rendered"}, "created_on": "2018-12-03T19:52:53.317961+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2018-12-03T19:52:53.327886+00:00", "type": "pullrequest_comment", "id": 84383963}], "page": 1, "size": 51}