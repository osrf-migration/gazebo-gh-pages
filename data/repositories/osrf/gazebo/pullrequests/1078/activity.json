{"pagelen": 50, "values": [{"update": {"description": "This bug turns out to be a problem with the screw constraint row's erp term (c[i]) being improperly scaled down by thread_pitch in gazebo_3.0 branch.  The fix here checks |thread_pitch|, if it's larger than 1.0, the screw constraint row is length scaled, otherwise the screw constraint row is angular scaled.  This way we avoid instability when |thread_pitch| is very large, and the numerical values lead to instability (my guess for instability here is that we are reaching doubles precision limits in some parts of the system).\r\n\r\nAlso, I've cleanup cumulative angle calculation, including a bug fix that changes joint's `cumulative_angle` state when querying for joint angle.", "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting).", "destination": {"commit": {"hash": "6736f2fa109f", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/6736f2fa109f.json"}, "html": {"href": "#!/osrf/gazebo/commits/6736f2fa109f"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo_3.0"}}, "reason": "", "source": {"commit": {"hash": "a59d640dbf34", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/a59d640dbf34.json"}, "html": {"href": "#!/osrf/gazebo/commits/a59d640dbf34"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "issue_1167_gazebo_3.0_pr2_screw_joint"}}, "state": "MERGED", "author": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "date": "2014-05-02T23:13:05.025035+00:00"}, "pull_request": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}}, {"approval": {"date": "2014-05-02T23:09:55.466717+00:00", "pullrequest": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}, "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}}, "pull_request": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}}, {"update": {"description": "This bug turns out to be a problem with the screw constraint row's erp term (c[i]) being improperly scaled down by thread_pitch in gazebo_3.0 branch.  The fix here checks |thread_pitch|, if it's larger than 1.0, the screw constraint row is length scaled, otherwise the screw constraint row is angular scaled.  This way we avoid instability when |thread_pitch| is very large, and the numerical values lead to instability (my guess for instability here is that we are reaching doubles precision limits in some parts of the system).\r\n\r\nAlso, I've cleanup cumulative angle calculation, including a bug fix that changes joint's `cumulative_angle` state when querying for joint angle.", "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting).", "destination": {"commit": {"hash": "4ddb138a3222", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/4ddb138a3222.json"}, "html": {"href": "#!/osrf/gazebo/commits/4ddb138a3222"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo_3.0"}}, "reason": "", "source": {"commit": {"hash": "a59d640dbf34", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/a59d640dbf34.json"}, "html": {"href": "#!/osrf/gazebo/commits/a59d640dbf34"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "issue_1167_gazebo_3.0_pr2_screw_joint"}}, "state": "OPEN", "author": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "date": "2014-05-02T23:07:14.236656+00:00"}, "pull_request": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078/comments/1792287.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078/_/diff#comment-1792287"}}, "parent": {"id": 1784693, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078/comments/1784693.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078/_/diff#comment-1784693"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}, "content": {"raw": "looks good, merging", "markup": "markdown", "html": "<p>looks good, merging</p>", "type": "rendered"}, "created_on": "2014-05-02T22:55:05.335284+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": "2014-05-02T22:55:05.344258+00:00", "type": "pullrequest_comment", "id": 1792287}, "pull_request": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}}, {"approval": {"date": "2014-05-02T19:42:04.044186+00:00", "pullrequest": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}, "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}}, "pull_request": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078/comments/1791182.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078/_/diff#comment-1791182"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}, "content": {"raw": "A part from the Steve's final fixes, the pull request works fine for me. Thanks for fixing the failing tests.", "markup": "markdown", "html": "<p>A part from the Steve's final fixes, the pull request works fine for me. Thanks for fixing the failing tests.</p>", "type": "rendered"}, "created_on": "2014-05-02T19:26:11.074741+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2014-05-02T19:26:11.085277+00:00", "type": "pullrequest_comment", "id": 1791182}, "pull_request": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078/comments/1784693.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078/_/diff#comment-1784693"}}, "parent": {"id": 1776908, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078/comments/1776908.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078/_/diff#comment-1776908"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}, "content": {"raw": "I mentioned that I wanted more explanation about how to ensure that the test runs long enough for the joint to wrap and to document the analytical velocity calculation a bit better. I took a crack at this in branch issue_1167_scpeters (31cdeee). Please consider merging that in.\n\nEDIT: I added another commit to the branch (c5da50d)", "markup": "markdown", "html": "<p>I mentioned that I wanted more explanation about how to ensure that the test runs long enough for the joint to wrap and to document the analytical velocity calculation a bit better. I took a crack at this in branch issue_1167_scpeters (<a href=\"#!/osrf/gazebo/commits/31cdeee\" rel=\"nofollow\" class=\"ap-connect-link\">31cdeee</a>). Please consider merging that in.</p>\n<p>EDIT: I added another commit to the branch (<a href=\"#!/osrf/gazebo/commits/c5da50d\" rel=\"nofollow\" class=\"ap-connect-link\">c5da50d</a>)</p>", "type": "rendered"}, "created_on": "2014-05-02T01:04:48.054516+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2014-05-02T18:46:41.044822+00:00", "type": "pullrequest_comment", "id": 1784693}, "pull_request": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078/comments/1776908.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078/_/diff#comment-1776908"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}, "content": {"raw": "I was getting a screw joint test failure on simbody, due to an assertion when calling `GetAngle(1)`, so I fixed it in 80a6458. I also added some parameter checking for the new test, though I still think it needs a little more explanation.", "markup": "markdown", "html": "<p>I was getting a screw joint test failure on simbody, due to an assertion when calling <code>GetAngle(1)</code>, so I fixed it in <a href=\"#!/osrf/gazebo/commits/80a6458\" rel=\"nofollow\" class=\"ap-connect-link\">80a6458</a>. I also added some parameter checking for the new test, though I still think it needs a little more explanation.</p>", "type": "rendered"}, "created_on": "2014-05-01T01:08:48.233739+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2014-05-01T01:08:48.246796+00:00", "type": "pullrequest_comment", "id": 1776908}, "pull_request": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}}, {"update": {"description": "This bug turns out to be a problem with the screw constraint row's erp term (c[i]) being improperly scaled down by thread_pitch in gazebo_3.0 branch.  The fix here checks |thread_pitch|, if it's larger than 1.0, the screw constraint row is length scaled, otherwise the screw constraint row is angular scaled.  This way we avoid instability when |thread_pitch| is very large, and the numerical values lead to instability (my guess for instability here is that we are reaching doubles precision limits in some parts of the system).\r\n\r\nAlso, I've cleanup cumulative angle calculation, including a bug fix that changes joint's `cumulative_angle` state when querying for joint angle.", "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting).", "destination": {"commit": {"hash": "6fa1e9c5fc7e", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/6fa1e9c5fc7e.json"}, "html": {"href": "#!/osrf/gazebo/commits/6fa1e9c5fc7e"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo_3.0"}}, "reason": "", "source": {"commit": {"hash": "80a6458d5cac", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/80a6458d5cac.json"}, "html": {"href": "#!/osrf/gazebo/commits/80a6458d5cac"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "issue_1167_gazebo_3.0_pr2_screw_joint"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2014-05-01T01:07:04.174517+00:00"}, "pull_request": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078/comments/1775797.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078/_/diff#comment-1775797"}}, "parent": {"id": 1774062, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078/comments/1774062.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078/_/diff#comment-1774062"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}, "content": {"raw": "Let me elaborate: in the [revolute joint angle wrapping test](#!/osrf/gazebo/src/4065925f9/test/integration/joint_revolute.cc?at=default#cl-127), SetVelocity is used with a velocity value of 2 pi rad/s and allowed to run for 1.5 seconds, so that the joint should experience 1.5 rotations and have a wrapped angle.\n\nI would like a comment that describes how the choice of torque and duration of time steps will ensure that the joint makes more than one rotation.", "markup": "markdown", "html": "<p>Let me elaborate: in the <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/4065925f9/test/integration/joint_revolute.cc?at=default#cl-127\" rel=\"nofollow\">revolute joint angle wrapping test</a>, SetVelocity is used with a velocity value of 2 pi rad/s and allowed to run for 1.5 seconds, so that the joint should experience 1.5 rotations and have a wrapped angle.</p>\n<p>I would like a comment that describes how the choice of torque and duration of time steps will ensure that the joint makes more than one rotation.</p>", "type": "rendered"}, "created_on": "2014-04-30T21:16:57.128615+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2014-04-30T21:16:57.137318+00:00", "type": "pullrequest_comment", "id": 1775797}, "pull_request": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078/comments/1774063.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078/_/diff#comment-1774063"}}, "parent": {"id": 1756623, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078/comments/1756623.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078/_/diff#comment-1756623"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}, "content": {"raw": "35f4266", "markup": "markdown", "html": "<p><a href=\"#!/osrf/gazebo/commits/35f4266\" rel=\"nofollow\" class=\"ap-connect-link\">35f4266</a></p>", "type": "rendered"}, "created_on": "2014-04-30T18:02:39.296511+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "inline": {}, "updated_on": "2014-04-30T18:02:39.305801+00:00", "type": "pullrequest_comment", "id": 1774063}, "pull_request": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078/comments/1774062.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078/_/diff#comment-1774062"}}, "parent": {"id": 1756633, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078/comments/1756633.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078/_/diff#comment-1756633"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}, "content": {"raw": "35f4266", "markup": "markdown", "html": "<p><a href=\"#!/osrf/gazebo/commits/35f4266\" rel=\"nofollow\" class=\"ap-connect-link\">35f4266</a></p>", "type": "rendered"}, "created_on": "2014-04-30T18:02:35.327672+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "inline": {}, "updated_on": "2014-04-30T18:02:35.335497+00:00", "type": "pullrequest_comment", "id": 1774062}, "pull_request": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}}, {"update": {"description": "This bug turns out to be a problem with the screw constraint row's erp term (c[i]) being improperly scaled down by thread_pitch in gazebo_3.0 branch.  The fix here checks |thread_pitch|, if it's larger than 1.0, the screw constraint row is length scaled, otherwise the screw constraint row is angular scaled.  This way we avoid instability when |thread_pitch| is very large, and the numerical values lead to instability (my guess for instability here is that we are reaching doubles precision limits in some parts of the system).\r\n\r\nAlso, I've cleanup cumulative angle calculation, including a bug fix that changes joint's `cumulative_angle` state when querying for joint angle.", "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting).", "destination": {"commit": {"hash": "6fa1e9c5fc7e", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/6fa1e9c5fc7e.json"}, "html": {"href": "#!/osrf/gazebo/commits/6fa1e9c5fc7e"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo_3.0"}}, "reason": "", "source": {"commit": {"hash": "35f42669f792", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/35f42669f792.json"}, "html": {"href": "#!/osrf/gazebo/commits/35f42669f792"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "issue_1167_gazebo_3.0_pr2_screw_joint"}}, "state": "OPEN", "author": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "date": "2014-04-30T18:02:24.501944+00:00"}, "pull_request": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078/comments/1773617.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078/_/diff#comment-1773617"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}, "content": {"raw": "The tests are passing now; I just have a few comments on the test that you added @hsu ", "markup": "markdown", "html": "<p>The tests are passing now; I just have a few comments on the test that you added @hsu </p>", "type": "rendered"}, "created_on": "2014-04-30T17:11:56.603681+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2014-04-30T17:11:56.622248+00:00", "type": "pullrequest_comment", "id": 1773617}, "pull_request": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078/comments/1773614.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078/_/diff#comment-1773614"}}, "parent": {"id": 1763254, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078/comments/1763254.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078/_/diff#comment-1763254"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}, "content": {"raw": "workaround for #1172 added in e2c6fe0", "markup": "markdown", "html": "<p>workaround for <a href=\"#!/osrf/gazebo/issues/1172/race-condition-in-rendering-exposed-by\" rel=\"nofollow\" title=\"Race condition in rendering exposed by pull request #1078\" class=\"ap-connect-link\"><s>#1172</s></a> added in <a href=\"#!/osrf/gazebo/commits/e2c6fe0\" rel=\"nofollow\" class=\"ap-connect-link\">e2c6fe0</a></p>", "type": "rendered"}, "created_on": "2014-04-30T17:11:34.510516+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2014-04-30T17:11:34.528485+00:00", "type": "pullrequest_comment", "id": 1773614}, "pull_request": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078/comments/1773606.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078/_/diff#comment-1773606"}}, "parent": {"id": 1765912, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078/comments/1765912.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078/_/diff#comment-1765912"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}, "content": {"raw": "Ah, finally the tests are passing.", "markup": "markdown", "html": "<p>Ah, finally the tests are passing.</p>", "type": "rendered"}, "created_on": "2014-04-30T17:10:59.620226+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2014-04-30T17:10:59.631276+00:00", "type": "pullrequest_comment", "id": 1773606}, "pull_request": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078/comments/1765912.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078/_/diff#comment-1765912"}}, "parent": {"id": 1765135, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078/comments/1765135.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078/_/diff#comment-1765135"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}, "content": {"raw": "joint_screw test is fixed, but pr2 had a spurious error, [rebuilding one more time](http://build.osrfoundation.org/view/gazebo/job/gazebo-any-devel-precise-amd64-gpu-nvidia/17/).", "markup": "markdown", "html": "<p>joint_screw test is fixed, but pr2 had a spurious error, <a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/gazebo/job/gazebo-any-devel-precise-amd64-gpu-nvidia/17/\" rel=\"nofollow\">rebuilding one more time</a>.</p>", "type": "rendered"}, "created_on": "2014-04-29T22:50:01.484513+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2014-04-30T16:03:35.715443+00:00", "type": "pullrequest_comment", "id": 1765912}, "pull_request": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078/comments/1765135.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078/_/diff#comment-1765135"}}, "parent": {"id": 1734195, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078/comments/1734195.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078/_/diff#comment-1734195"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}, "content": {"raw": "[rebuilding](http://build.osrfoundation.org/view/gazebo/job/gazebo-any-devel-precise-amd64-gpu-nvidia/14/?) as of 1026a7b", "markup": "markdown", "html": "<p><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/gazebo/job/gazebo-any-devel-precise-amd64-gpu-nvidia/14/\" rel=\"nofollow\">rebuilding</a> as of <a href=\"#!/osrf/gazebo/commits/1026a7b\" rel=\"nofollow\" class=\"ap-connect-link\">1026a7b</a></p>", "type": "rendered"}, "created_on": "2014-04-29T20:46:08.273042+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2014-04-29T21:50:01.579444+00:00", "type": "pullrequest_comment", "id": 1765135}, "pull_request": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}}, {"update": {"description": "This bug turns out to be a problem with the screw constraint row's erp term (c[i]) being improperly scaled down by thread_pitch in gazebo_3.0 branch.  The fix here checks |thread_pitch|, if it's larger than 1.0, the screw constraint row is length scaled, otherwise the screw constraint row is angular scaled.  This way we avoid instability when |thread_pitch| is very large, and the numerical values lead to instability (my guess for instability here is that we are reaching doubles precision limits in some parts of the system).\r\n\r\nAlso, I've cleanup cumulative angle calculation, including a bug fix that changes joint's `cumulative_angle` state when querying for joint angle.", "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting).", "destination": {"commit": {"hash": "6fa1e9c5fc7e", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/6fa1e9c5fc7e.json"}, "html": {"href": "#!/osrf/gazebo/commits/6fa1e9c5fc7e"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo_3.0"}}, "reason": "", "source": {"commit": {"hash": "1026a7bef85e", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/1026a7bef85e.json"}, "html": {"href": "#!/osrf/gazebo/commits/1026a7bef85e"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "issue_1167_gazebo_3.0_pr2_screw_joint"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2014-04-29T20:45:25.166276+00:00"}, "pull_request": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078/comments/1763254.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078/_/diff#comment-1763254"}}, "parent": {"id": 1744233, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078/comments/1744233.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078/_/diff#comment-1744233"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}, "content": {"raw": "There's a weird race condition that causes the `ScrewJointLimitForce/0` (ode) to seg-fault (see [Jenkins test failure](http://build.osrfoundation.org/view/gazebo/job/gazebo-any-devel-precise-amd64-gpu-nvidia/8/testReport/junit/%28root%29/INTEGRATION_joint_screw/test_ran/)) when all tests are run sequentially, though it doesn't happen if they are run individually (ie. `test/integration/INTEGRATION_joint_screw --gtest_filter=\"*ScrewJointLimitForce/0\"` doesn't seg-fault).\n\nThe back trace is related to rendering. I will look at this briefly with @iche033 ; if it's not an easy fix, I would propose moving the new test to a separate pull request so we can merge the fix sooner.\n\nI know, @hsu, I'm the one who asked for the new test, but I wasn't anticipating a rendering race condition.\n\nUPDATE: filed as #1172", "markup": "markdown", "html": "<p>There's a weird race condition that causes the <code>ScrewJointLimitForce/0</code> (ode) to seg-fault (see <a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/gazebo/job/gazebo-any-devel-precise-amd64-gpu-nvidia/8/testReport/junit/%28root%29/INTEGRATION_joint_screw/test_ran/\" rel=\"nofollow\">Jenkins test failure</a>) when all tests are run sequentially, though it doesn't happen if they are run individually (ie. <code>test/integration/INTEGRATION_joint_screw --gtest_filter=\"*ScrewJointLimitForce/0\"</code> doesn't seg-fault).</p>\n<p>The back trace is related to rendering. I will look at this briefly with @iche033 ; if it's not an easy fix, I would propose moving the new test to a separate pull request so we can merge the fix sooner.</p>\n<p>I know, @hsu, I'm the one who asked for the new test, but I wasn't anticipating a rendering race condition.</p>\n<p>UPDATE: filed as <a href=\"#!/osrf/gazebo/issues/1172/race-condition-in-rendering-exposed-by\" rel=\"nofollow\" title=\"Race condition in rendering exposed by pull request #1078\" class=\"ap-connect-link\"><s>#1172</s></a></p>", "type": "rendered"}, "created_on": "2014-04-29T16:55:05.968613+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2014-04-29T18:05:10.243241+00:00", "type": "pullrequest_comment", "id": 1763254}, "pull_request": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078/comments/1756633.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078/_/diff#comment-1756633"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}, "content": {"raw": "This comment appears to be out of date; please update with a description of how you're ensuring that the joint spins more than  1 revolution.", "markup": "markdown", "html": "<p>This comment appears to be out of date; please update with a description of how you're ensuring that the joint spins more than  1 revolution.</p>", "type": "rendered"}, "created_on": "2014-04-29T00:26:18.018779+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2014-04-29T00:26:18.029829+00:00", "type": "pullrequest_comment", "id": 1756633}, "pull_request": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078/comments/1756623.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078/_/diff#comment-1756623"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}, "content": {"raw": "What is this math that you're doing here? Can you put some comments about what this equation is and where the magic numbers come from? I'm guessing they are inertias and thread pitch, but we should write it out.", "markup": "markdown", "html": "<p>What is this math that you're doing here? Can you put some comments about what this equation is and where the magic numbers come from? I'm guessing they are inertias and thread pitch, but we should write it out.</p>", "type": "rendered"}, "created_on": "2014-04-29T00:24:10.477752+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2014-04-29T00:24:10.485727+00:00", "type": "pullrequest_comment", "id": 1756623}, "pull_request": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078/comments/1744233.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078/_/diff#comment-1744233"}}, "parent": {"id": 1734195, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078/comments/1734195.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078/_/diff#comment-1734195"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}, "content": {"raw": "[rebuilding](http://build.osrfoundation.org/view/gazebo/job/gazebo-any-devel-precise-amd64-gpu-nvidia/8/?) as of  bd25a18", "markup": "markdown", "html": "<p><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/gazebo/job/gazebo-any-devel-precise-amd64-gpu-nvidia/8/\" rel=\"nofollow\">rebuilding</a> as of  <a href=\"#!/osrf/gazebo/commits/bd25a18\" rel=\"nofollow\" class=\"ap-connect-link\">bd25a18</a></p>", "type": "rendered"}, "created_on": "2014-04-26T00:38:46.136336+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2014-04-26T00:38:46.155076+00:00", "type": "pullrequest_comment", "id": 1744233}, "pull_request": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078/comments/1744172.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078/_/diff#comment-1744172"}}, "parent": {"id": 1734383, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078/comments/1734383.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078/_/diff#comment-1734383"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}, "content": {"raw": "fixed", "markup": "markdown", "html": "<p>fixed</p>", "type": "rendered"}, "created_on": "2014-04-26T00:08:45.623376+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": "2014-04-26T00:08:45.631631+00:00", "type": "pullrequest_comment", "id": 1744172}, "pull_request": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}}, {"update": {"description": "This bug turns out to be a problem with the screw constraint row's erp term (c[i]) being improperly scaled down by thread_pitch in gazebo_3.0 branch.  The fix here checks |thread_pitch|, if it's larger than 1.0, the screw constraint row is length scaled, otherwise the screw constraint row is angular scaled.  This way we avoid instability when |thread_pitch| is very large, and the numerical values lead to instability (my guess for instability here is that we are reaching doubles precision limits in some parts of the system).\r\n\r\nAlso, I've cleanup cumulative angle calculation, including a bug fix that changes joint's `cumulative_angle` state when querying for joint angle.", "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting).", "destination": {"commit": {"hash": "d500b1ddb5bd", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/d500b1ddb5bd.json"}, "html": {"href": "#!/osrf/gazebo/commits/d500b1ddb5bd"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo_3.0"}}, "reason": "", "source": {"commit": {"hash": "bd25a18c6cb0", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/bd25a18c6cb0.json"}, "html": {"href": "#!/osrf/gazebo/commits/bd25a18c6cb0"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "issue_1167_gazebo_3.0_pr2_screw_joint"}}, "state": "OPEN", "author": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "date": "2014-04-26T00:06:50.501898+00:00"}, "pull_request": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078/comments/1734383.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078/_/diff#comment-1734383"}}, "parent": {"id": 1734178, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078/comments/1734178.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078/_/diff#comment-1734178"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}, "content": {"raw": "copied test from `joint_revolute.cc` in 7cda7a5, but it fails right now due to improperly implemented `ODEScrweJoint::SetVelocity()`", "markup": "markdown", "html": "<p>copied test from <code>joint_revolute.cc</code> in <a href=\"#!/osrf/gazebo/commits/7cda7a5\" rel=\"nofollow\" class=\"ap-connect-link\">7cda7a5</a>, but it fails right now due to improperly implemented <code>ODEScrweJoint::SetVelocity()</code></p>", "type": "rendered"}, "created_on": "2014-04-24T22:02:36.505426+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": "2014-04-24T22:20:00.648855+00:00", "type": "pullrequest_comment", "id": 1734383}, "pull_request": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}}, {"update": {"description": "This bug turns out to be a problem with the screw constraint row's erp term (c[i]) being improperly scaled down by thread_pitch in gazebo_3.0 branch.  The fix here checks |thread_pitch|, if it's larger than 1.0, the screw constraint row is length scaled, otherwise the screw constraint row is angular scaled.  This way we avoid instability when |thread_pitch| is very large, and the numerical values lead to instability (my guess for instability here is that we are reaching doubles precision limits in some parts of the system).\r\n\r\nAlso, I've cleanup cumulative angle calculation, including a bug fix that changes joint's `cumulative_angle` state when querying for joint angle.", "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting).", "destination": {"commit": {"hash": "d500b1ddb5bd", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/d500b1ddb5bd.json"}, "html": {"href": "#!/osrf/gazebo/commits/d500b1ddb5bd"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo_3.0"}}, "reason": "", "source": {"commit": {"hash": "06334589a36b", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/06334589a36b.json"}, "html": {"href": "#!/osrf/gazebo/commits/06334589a36b"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "issue_1167_gazebo_3.0_pr2_screw_joint"}}, "state": "OPEN", "author": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "date": "2014-04-24T21:56:45.009432+00:00"}, "pull_request": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078/comments/1734235.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078/_/diff#comment-1734235"}}, "parent": {"id": 1734178, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078/comments/1734178.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078/_/diff#comment-1734178"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}, "content": {"raw": "no, [issue filed](#!/osrf/gazebo/issue/1168/resetting-gazebo-ode-cumulative-angle)", "markup": "markdown", "html": "<p>no, <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/issue/1168/resetting-gazebo-ode-cumulative-angle\" rel=\"nofollow\">issue filed</a></p>", "type": "rendered"}, "created_on": "2014-04-24T21:39:44.819063+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": "2014-04-24T21:39:44.827632+00:00", "type": "pullrequest_comment", "id": 1734235}, "pull_request": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078/comments/1734195.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078/_/diff#comment-1734195"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}, "content": {"raw": "[building...](http://build.osrfoundation.org/view/gazebo/job/gazebo-any-devel-precise-amd64-gpu-nvidia/4/)", "markup": "markdown", "html": "<p><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/gazebo/job/gazebo-any-devel-precise-amd64-gpu-nvidia/4/\" rel=\"nofollow\">building...</a></p>", "type": "rendered"}, "created_on": "2014-04-24T21:34:25.210799+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": "2014-04-24T21:34:25.220010+00:00", "type": "pullrequest_comment", "id": 1734195}, "pull_request": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078/comments/1734186.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078/_/diff#comment-1734186"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}, "content": {"raw": "[jenkins auto build](http://build.osrfoundation.org/job/gazebo-any-devel-precise-amd64-gpu-nvidia/4/) is in the queue", "markup": "markdown", "html": "<p><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/job/gazebo-any-devel-precise-amd64-gpu-nvidia/4/\" rel=\"nofollow\">jenkins auto build</a> is in the queue</p>", "type": "rendered"}, "created_on": "2014-04-24T21:33:00.053683+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2014-04-24T21:33:00.060757+00:00", "type": "pullrequest_comment", "id": 1734186}, "pull_request": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078/comments/1734178.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078/_/diff#comment-1734178"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}, "content": {"raw": "Is there a test for the cumulative angle calculation?", "markup": "markdown", "html": "<p>Is there a test for the cumulative angle calculation?</p>", "type": "rendered"}, "created_on": "2014-04-24T21:32:08.803926+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2014-04-24T21:32:08.813123+00:00", "type": "pullrequest_comment", "id": 1734178}, "pull_request": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}}, {"update": {"description": "This bug turns out to be a problem with the screw constraint row's erp term (c[i]) being improperly scaled down by thread_pitch in gazebo_3.0 branch.  The fix here checks |thread_pitch|, if it's larger than 1.0, the screw constraint row is length scaled, otherwise the screw constraint row is angular scaled.  This way we avoid instability when |thread_pitch| is very large, and the numerical values lead to instability (my guess for instability here is that we are reaching doubles precision limits in some parts of the system).\r\n\r\nAlso, I've cleanup cumulative angle calculation, including a bug fix that changes joint's `cumulative_angle` state when querying for joint angle.", "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting).", "destination": {"commit": {"hash": "d500b1ddb5bd", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/d500b1ddb5bd.json"}, "html": {"href": "#!/osrf/gazebo/commits/d500b1ddb5bd"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo_3.0"}}, "reason": "", "source": {"commit": {"hash": "20a5fb7a46f8", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/20a5fb7a46f8.json"}, "html": {"href": "#!/osrf/gazebo/commits/20a5fb7a46f8"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "issue_1167_gazebo_3.0_pr2_screw_joint"}}, "state": "OPEN", "author": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "date": "2014-04-24T21:27:33.297869+00:00"}, "pull_request": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}}, {"update": {"description": "This bug turns out to be a problem with the screw constraint row's erp term (c[i]) being improperly scaled down by thread_pitch in gazebo_3.0 branch.  The fix here checks |thread_pitch|, if it's larger than 1.0, the screw constraint row is length scaled, otherwise the screw constraint row is angular scaled.  This way we avoid instability when |thread_pitch| is very large, and the numerical values lead to instability (my guess for instability here is that we are reaching doubles precision limits in some parts of the system).\r\n\r\nAlso, I've cleanup cumulative angle calculation, including a bug fix that changes joint's `cumulative_angle` state when querying for joint angle.", "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting).", "destination": {"commit": {"hash": "d500b1ddb5bd", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/d500b1ddb5bd.json"}, "html": {"href": "#!/osrf/gazebo/commits/d500b1ddb5bd"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo_3.0"}}, "reason": "", "source": {"commit": {"hash": "4b0293c5c236", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/4b0293c5c236.json"}, "html": {"href": "#!/osrf/gazebo/commits/4b0293c5c236"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "issue_1167_gazebo_3.0_pr2_screw_joint"}}, "state": "OPEN", "author": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "date": "2014-04-24T21:24:13.541219+00:00"}, "pull_request": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}}, {"update": {"description": "This bug turns out to be a problem with the screw constraint row's erp term (c[i]) being improperly scaled down by thread_pitch in gazebo_3.0 branch.  The fix here checks |thread_pitch|, if it's larger than 1.0, the screw constraint row is length scaled, otherwise the screw constraint row is angular scaled.  This way we avoid instability when |thread_pitch| is very large, and the numerical values lead to instability (my guess for instability here is that we are reaching doubles precision limits in some parts of the system).", "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting).", "destination": {"commit": {"hash": "d500b1ddb5bd", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/d500b1ddb5bd.json"}, "html": {"href": "#!/osrf/gazebo/commits/d500b1ddb5bd"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo_3.0"}}, "reason": "", "source": {"commit": {"hash": "4b0293c5c236", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/4b0293c5c236.json"}, "html": {"href": "#!/osrf/gazebo/commits/4b0293c5c236"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "issue_1167_gazebo_3.0_pr2_screw_joint"}}, "state": "OPEN", "author": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "date": "2014-04-24T21:23:15.678748+00:00"}, "pull_request": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}}, {"update": {"description": "This bug turns out to be a problem with the screw constraint row's erp term (c[i]) being improperly scaled down by thread_pitch in gazebo_3.0 branch.  The fix here checks |thread_pitch|, if it's larger than 1.0, the screw constraint row is length scaled, otherwise the screw constraint row is angular scaled.  This way we avoid instability when |thread_pitch| is very large, and the numerical values lead to instability (my guess for instability here is that we are reaching doubles precision limits in some parts of the system).", "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting).", "destination": {"commit": {"hash": "d500b1ddb5bd", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/d500b1ddb5bd.json"}, "html": {"href": "#!/osrf/gazebo/commits/d500b1ddb5bd"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo_3.0"}}, "reason": "", "source": {"commit": {"hash": "4b0293c5c236", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/4b0293c5c236.json"}, "html": {"href": "#!/osrf/gazebo/commits/4b0293c5c236"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "issue_1167_gazebo_3.0_pr2_screw_joint"}}, "state": "OPEN", "author": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "date": "2014-04-24T21:23:15.655672+00:00"}, "pull_request": {"type": "pullrequest", "id": 1078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting)."}}]}