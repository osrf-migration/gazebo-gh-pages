{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584/comments/293481.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584/_/diff#comment-293481"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 584, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584"}}, "title": "Limit the size of the transport buffers"}, "content": {"raw": "Started a few Jenkins jobs:\n\nhttp://build.osrfoundation.org/job/gazebo-any-devel-precise-amd64/88/\n\nhttp://build.osrfoundation.org/job/gazebo-any-devel-quantal-amd64-gpu-nvidia/24/\n\nhttp://build.osrfoundation.org/job/drcsim-drcsim_2.6-gazebo-any-devel-precise-amd64-gpu-sl-tesla/22/", "markup": "markdown", "html": "<p>Started a few Jenkins jobs:</p>\n<p><a href=\"http://build.osrfoundation.org/job/gazebo-any-devel-precise-amd64/88/\" rel=\"nofollow\" class=\"ap-connect-link\">http://build.osrfoundation.org/job/gazebo-any-devel-precise-amd64/88/</a></p>\n<p><a href=\"http://build.osrfoundation.org/job/gazebo-any-devel-quantal-amd64-gpu-nvidia/24/\" rel=\"nofollow\" class=\"ap-connect-link\">http://build.osrfoundation.org/job/gazebo-any-devel-quantal-amd64-gpu-nvidia/24/</a></p>\n<p><a href=\"http://build.osrfoundation.org/job/drcsim-drcsim_2.6-gazebo-any-devel-precise-amd64-gpu-sl-tesla/22/\" rel=\"nofollow\" class=\"ap-connect-link\">http://build.osrfoundation.org/job/drcsim-drcsim_2.6-gazebo-any-devel-precise-amd64-gpu-sl-tesla/22/</a></p>", "type": "rendered"}, "created_on": "2013-06-06T00:41:06.940112+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2013-06-06T00:41:06.950413+00:00", "type": "pullrequest_comment", "id": 293481}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584/comments/293889.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584/_/diff#comment-293889"}}, "parent": {"id": 293481, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584/comments/293481.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584/_/diff#comment-293481"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 584, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584"}}, "title": "Limit the size of the transport buffers"}, "content": {"raw": "Nothing out of the ordinary with those Jenkins jobs, though I just kicked off a few more to catch the most recent updates to the branch:\n\nhttp://build.osrfoundation.org/job/gazebo-any-devel-precise-amd64/89/\n\nhttp://build.osrfoundation.org/job/gazebo-any-devel-quantal-amd64-gpu-nvidia/25/\n\nhttp://build.osrfoundation.org/job/drcsim-drcsim_2.6-gazebo-any-devel-precise-amd64-gpu-sl-tesla/23/", "markup": "markdown", "html": "<p>Nothing out of the ordinary with those Jenkins jobs, though I just kicked off a few more to catch the most recent updates to the branch:</p>\n<p><a href=\"http://build.osrfoundation.org/job/gazebo-any-devel-precise-amd64/89/\" rel=\"nofollow\" class=\"ap-connect-link\">http://build.osrfoundation.org/job/gazebo-any-devel-precise-amd64/89/</a></p>\n<p><a href=\"http://build.osrfoundation.org/job/gazebo-any-devel-quantal-amd64-gpu-nvidia/25/\" rel=\"nofollow\" class=\"ap-connect-link\">http://build.osrfoundation.org/job/gazebo-any-devel-quantal-amd64-gpu-nvidia/25/</a></p>\n<p><a href=\"http://build.osrfoundation.org/job/drcsim-drcsim_2.6-gazebo-any-devel-precise-amd64-gpu-sl-tesla/23/\" rel=\"nofollow\" class=\"ap-connect-link\">http://build.osrfoundation.org/job/drcsim-drcsim_2.6-gazebo-any-devel-precise-amd64-gpu-sl-tesla/23/</a></p>", "type": "rendered"}, "created_on": "2013-06-06T06:38:32.899499+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2013-06-06T06:38:32.912556+00:00", "type": "pullrequest_comment", "id": 293889}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584/comments/293512.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584/_/diff#comment-293512"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 584, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584"}}, "title": "Limit the size of the transport buffers"}, "content": {"raw": "As of d29cb84, gazebo's `make test` has passed once for me (haven't stress-tested it yet).", "markup": "markdown", "html": "<p>As of <a href=\"#!/osrf/gazebo/commits/d29cb84\" rel=\"nofollow\" class=\"ap-connect-link\">d29cb84</a>, gazebo's <code>make test</code> has passed once for me (haven't stress-tested it yet).</p>", "type": "rendered"}, "created_on": "2013-06-06T01:03:05.675435+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2013-06-06T01:03:05.687188+00:00", "type": "pullrequest_comment", "id": 293512}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584/comments/293573.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584/_/diff#comment-293573"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 584, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584"}}, "title": "Limit the size of the transport buffers"}, "content": {"raw": "Doing stress test on sl machine by running ros_subscribers.launch and pub_atlas_command on fc1, will let it run for an hour", "markup": "markdown", "html": "<p>Doing stress test on sl machine by running ros_subscribers.launch and pub_atlas_command on fc1, will let it run for an hour</p>", "type": "rendered"}, "created_on": "2013-06-06T01:58:21.714428+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2013-06-06T04:15:00.509328+00:00", "type": "pullrequest_comment", "id": 293573}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584/comments/293714.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584/_/diff#comment-293714"}}, "parent": {"id": 293573, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584/comments/293573.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584/_/diff#comment-293573"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 584, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584"}}, "title": "Limit the size of the transport buffers"}, "content": {"raw": "I got another segfault after running it for 2383.186 sim time seconds on SL, here is the backtrace which we've seen a few times before\n\n```\n#!c++\n\n[Thread debugging using libthread_db enabled]\nUsing host libthread_db library \"/lib/x86_64-linux-gnu/libthread_db.so.1\".\nbtCore was generated by `gzserver -s libgazebo_ros_api_plugin.so vrc_task_1.world -q -r --record_encodin'.\nProgram terminated with signal 6, Aborted.\n#0  0x00007faf2aa31425 in raise () from /lib/x86_64-linux-gnu/libc.so.6\n(gdb) bt\n#0  0x00007faf2aa31425 in raise () from /lib/x86_64-linux-gnu/libc.so.6\n#1  0x00007faf2aa34b8b in abort () from /lib/x86_64-linux-gnu/libc.so.6\n#2  0x00007faf2b08769d in __gnu_cxx::__verbose_terminate_handler() ()\n   from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#3  0x00007faf2b085846 in ?? ()\n   from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#4  0x00007faf2b085873 in std::terminate() ()\n   from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#5  0x00007faf2b08596e in __cxa_throw ()\n   from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#6  0x00007faf2b085e4d in operator new(unsigned long) ()\n   from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#7  0x00007faf2b06ea89 in std::string::_Rep::_S_create(unsigned long, unsigned long, std::allocator<char> const&) ()\n   from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#8  0x00007faf2c00de40 in std::basic_string<char, std::char_traits<char>, std::allocator<char> >::basic_string<char*>(char*, char*, std::allocator<char> const&) () from /usr/lib/libprotobuf.so.7\n#9  0x00007faf2b0686b8 in std::basic_stringbuf<char, std::char_traits<char>, std::allocator<char> >::str() const ()\n   from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#10 0x00007faf2d351899 in gazebo::util::LogRecord::Log::Update() ()\n   from /usr/lib/libgazebo_util.so.1\n#11 0x00007faf2d352311 in gazebo::util::LogRecord::Update() ()\n   from /usr/lib/libgazebo_util.so.1\n#12 0x00007faf2d352888 in gazebo::util::LogRecord::RunUpdate() ()\n   from /usr/lib/libgazebo_util.so.1\n#13 0x00007faf2b745ce9 in thread_proxy ()\n   from /usr/lib/libboost_thread.so.1.46.1\n#14 0x00007faf2c2ade9a in start_thread ()\n   from /lib/x86_64-linux-gnu/libpthread.so.0\n#15 0x00007faf2aaeeccd in clone () from /lib/x86_64-linux-gnu/libc.so.6\n#16 0x0000000000000000 in ?? ()\n(gdb) \n\n```\nrelevant msgs from /var/log/kern.log\n\n```\n#!c++\ngzserver[6674]: segfault at 18 ip 00007f3b2a9ea90a sp 00007f3b14b8ecf0 error 4 in libgazebo_transport.so.1.8.5[7f3b2a9af000+85000]`\n\ngzserver[12657]: segfault at 0 ip 00007fb8c89fbdb0 sp 00007fff5c2ab528 error 4 in libOgreMain.so.1.7.4[7fb8c8812000+57c000]\n```", "markup": "markdown", "html": "<p>I got another segfault after running it for 2383.186 sim time seconds on SL, here is the backtrace which we've seen a few times before</p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"p\">[</span><span class=\"n\">Thread</span> <span class=\"n\">debugging</span> <span class=\"k\">using</span> <span class=\"n\">libthread_db</span> <span class=\"n\">enabled</span><span class=\"p\">]</span>\n<span class=\"n\">Using</span> <span class=\"n\">host</span> <span class=\"n\">libthread_db</span> <span class=\"n\">library</span> <span class=\"s\">&quot;/lib/x86_64-linux-gnu/libthread_db.so.1&quot;</span><span class=\"p\">.</span>\n<span class=\"n\">btCore</span> <span class=\"n\">was</span> <span class=\"n\">generated</span> <span class=\"n\">by</span> <span class=\"err\">`</span><span class=\"n\">gzserver</span> <span class=\"o\">-</span><span class=\"n\">s</span> <span class=\"n\">libgazebo_ros_api_plugin</span><span class=\"p\">.</span><span class=\"n\">so</span> <span class=\"n\">vrc_task_1</span><span class=\"p\">.</span><span class=\"n\">world</span> <span class=\"o\">-</span><span class=\"n\">q</span> <span class=\"o\">-</span><span class=\"n\">r</span> <span class=\"o\">--</span><span class=\"n\">record_encodin</span><span class=\"err\">&#39;</span><span class=\"p\">.</span>\n<span class=\"n\">Program</span> <span class=\"n\">terminated</span> <span class=\"n\">with</span> <span class=\"n\">signal</span> <span class=\"mi\">6</span><span class=\"p\">,</span> <span class=\"n\">Aborted</span><span class=\"p\">.</span>\n<span class=\"cp\">#0  0x00007faf2aa31425 in raise () from /lib/x86_64-linux-gnu/libc.so.6</span>\n<span class=\"p\">(</span><span class=\"n\">gdb</span><span class=\"p\">)</span> <span class=\"n\">bt</span>\n<span class=\"cp\">#0  0x00007faf2aa31425 in raise () from /lib/x86_64-linux-gnu/libc.so.6</span>\n<span class=\"cp\">#1  0x00007faf2aa34b8b in abort () from /lib/x86_64-linux-gnu/libc.so.6</span>\n<span class=\"cp\">#2  0x00007faf2b08769d in __gnu_cxx::__verbose_terminate_handler() ()</span>\n   <span class=\"n\">from</span> <span class=\"o\">/</span><span class=\"n\">usr</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"o\">/</span><span class=\"n\">x86_64</span><span class=\"o\">-</span><span class=\"n\">linux</span><span class=\"o\">-</span><span class=\"n\">gnu</span><span class=\"o\">/</span><span class=\"n\">libstdc</span><span class=\"o\">++</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"mf\">.6</span>\n<span class=\"cp\">#3  0x00007faf2b085846 in ?? ()</span>\n   <span class=\"n\">from</span> <span class=\"o\">/</span><span class=\"n\">usr</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"o\">/</span><span class=\"n\">x86_64</span><span class=\"o\">-</span><span class=\"n\">linux</span><span class=\"o\">-</span><span class=\"n\">gnu</span><span class=\"o\">/</span><span class=\"n\">libstdc</span><span class=\"o\">++</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"mf\">.6</span>\n<span class=\"cp\">#4  0x00007faf2b085873 in std::terminate() ()</span>\n   <span class=\"n\">from</span> <span class=\"o\">/</span><span class=\"n\">usr</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"o\">/</span><span class=\"n\">x86_64</span><span class=\"o\">-</span><span class=\"n\">linux</span><span class=\"o\">-</span><span class=\"n\">gnu</span><span class=\"o\">/</span><span class=\"n\">libstdc</span><span class=\"o\">++</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"mf\">.6</span>\n<span class=\"cp\">#5  0x00007faf2b08596e in __cxa_throw ()</span>\n   <span class=\"n\">from</span> <span class=\"o\">/</span><span class=\"n\">usr</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"o\">/</span><span class=\"n\">x86_64</span><span class=\"o\">-</span><span class=\"n\">linux</span><span class=\"o\">-</span><span class=\"n\">gnu</span><span class=\"o\">/</span><span class=\"n\">libstdc</span><span class=\"o\">++</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"mf\">.6</span>\n<span class=\"cp\">#6  0x00007faf2b085e4d in operator new(unsigned long) ()</span>\n   <span class=\"n\">from</span> <span class=\"o\">/</span><span class=\"n\">usr</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"o\">/</span><span class=\"n\">x86_64</span><span class=\"o\">-</span><span class=\"n\">linux</span><span class=\"o\">-</span><span class=\"n\">gnu</span><span class=\"o\">/</span><span class=\"n\">libstdc</span><span class=\"o\">++</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"mf\">.6</span>\n<span class=\"cp\">#7  0x00007faf2b06ea89 in std::string::_Rep::_S_create(unsigned long, unsigned long, std::allocator&lt;char&gt; const&amp;) ()</span>\n   <span class=\"n\">from</span> <span class=\"o\">/</span><span class=\"n\">usr</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"o\">/</span><span class=\"n\">x86_64</span><span class=\"o\">-</span><span class=\"n\">linux</span><span class=\"o\">-</span><span class=\"n\">gnu</span><span class=\"o\">/</span><span class=\"n\">libstdc</span><span class=\"o\">++</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"mf\">.6</span>\n<span class=\"cp\">#8  0x00007faf2c00de40 in std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::basic_string&lt;char*&gt;(char*, char*, std::allocator&lt;char&gt; const&amp;) () from /usr/lib/libprotobuf.so.7</span>\n<span class=\"cp\">#9  0x00007faf2b0686b8 in std::basic_stringbuf&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::str() const ()</span>\n   <span class=\"n\">from</span> <span class=\"o\">/</span><span class=\"n\">usr</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"o\">/</span><span class=\"n\">x86_64</span><span class=\"o\">-</span><span class=\"n\">linux</span><span class=\"o\">-</span><span class=\"n\">gnu</span><span class=\"o\">/</span><span class=\"n\">libstdc</span><span class=\"o\">++</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"mf\">.6</span>\n<span class=\"cp\">#10 0x00007faf2d351899 in gazebo::util::LogRecord::Log::Update() ()</span>\n   <span class=\"n\">from</span> <span class=\"o\">/</span><span class=\"n\">usr</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"o\">/</span><span class=\"n\">libgazebo_util</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"mf\">.1</span>\n<span class=\"cp\">#11 0x00007faf2d352311 in gazebo::util::LogRecord::Update() ()</span>\n   <span class=\"n\">from</span> <span class=\"o\">/</span><span class=\"n\">usr</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"o\">/</span><span class=\"n\">libgazebo_util</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"mf\">.1</span>\n<span class=\"cp\">#12 0x00007faf2d352888 in gazebo::util::LogRecord::RunUpdate() ()</span>\n   <span class=\"n\">from</span> <span class=\"o\">/</span><span class=\"n\">usr</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"o\">/</span><span class=\"n\">libgazebo_util</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"mf\">.1</span>\n<span class=\"cp\">#13 0x00007faf2b745ce9 in thread_proxy ()</span>\n   <span class=\"n\">from</span> <span class=\"o\">/</span><span class=\"n\">usr</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"o\">/</span><span class=\"n\">libboost_thread</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"mf\">.1.46.1</span>\n<span class=\"cp\">#14 0x00007faf2c2ade9a in start_thread ()</span>\n   <span class=\"n\">from</span> <span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"o\">/</span><span class=\"n\">x86_64</span><span class=\"o\">-</span><span class=\"n\">linux</span><span class=\"o\">-</span><span class=\"n\">gnu</span><span class=\"o\">/</span><span class=\"n\">libpthread</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"mf\">.0</span>\n<span class=\"cp\">#15 0x00007faf2aaeeccd in clone () from /lib/x86_64-linux-gnu/libc.so.6</span>\n<span class=\"cp\">#16 0x0000000000000000 in ?? ()</span>\n<span class=\"p\">(</span><span class=\"n\">gdb</span><span class=\"p\">)</span> \n</pre></div>\n\n\n<p>relevant msgs from /var/log/kern.log</p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"n\">gzserver</span><span class=\"p\">[</span><span class=\"mi\">6674</span><span class=\"p\">]</span><span class=\"o\">:</span> <span class=\"n\">segfault</span> <span class=\"n\">at</span> <span class=\"mi\">18</span> <span class=\"n\">ip</span> <span class=\"mf\">00007f</span><span class=\"mi\">3</span><span class=\"n\">b2a9ea90a</span> <span class=\"n\">sp</span> <span class=\"mf\">00007f</span><span class=\"mi\">3</span><span class=\"n\">b14b8ecf0</span> <span class=\"n\">error</span> <span class=\"mi\">4</span> <span class=\"n\">in</span> <span class=\"n\">libgazebo_transport</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"mf\">.1.8.5</span><span class=\"p\">[</span><span class=\"mf\">7f</span><span class=\"mi\">3</span><span class=\"n\">b2a9af000</span><span class=\"o\">+</span><span class=\"mi\">85000</span><span class=\"p\">]</span><span class=\"err\">`</span>\n\n<span class=\"n\">gzserver</span><span class=\"p\">[</span><span class=\"mi\">12657</span><span class=\"p\">]</span><span class=\"o\">:</span> <span class=\"n\">segfault</span> <span class=\"n\">at</span> <span class=\"mi\">0</span> <span class=\"n\">ip</span> <span class=\"mf\">00007f</span><span class=\"n\">b8c89fbdb0</span> <span class=\"n\">sp</span> <span class=\"mf\">00007ff</span><span class=\"n\">f5c2ab528</span> <span class=\"n\">error</span> <span class=\"mi\">4</span> <span class=\"n\">in</span> <span class=\"n\">libOgreMain</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"mf\">.1.7.4</span><span class=\"p\">[</span><span class=\"mf\">7f</span><span class=\"n\">b8c8812000</span><span class=\"o\">+</span><span class=\"mi\">57</span><span class=\"n\">c000</span><span class=\"p\">]</span>\n</pre></div>", "type": "rendered"}, "created_on": "2013-06-06T04:12:47.215013+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2013-06-06T04:12:47.229720+00:00", "type": "pullrequest_comment", "id": 293714}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584/comments/294894.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584/_/diff#comment-294894"}}, "parent": {"id": 293573, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584/comments/293573.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584/_/diff#comment-293573"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 584, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584"}}, "title": "Limit the size of the transport buffers"}, "content": {"raw": "I made some changes to the code. I'm current at 1000sec sim time, with a memory footprint of 765m. I'm running:\n\n`roslaunch atlas_utils vrc_task2.launch` (with atlas in the rubble pile)\n\n`pub_atlas_command_fast`\n\n`gzstats`\n\n`gzclient` (total of two gzclient, displaying laser and stereo cameras and contacts)\n\n`rosrun rviz rviz` (display point clouds and laser)\n\n`roslaunch laser_assembler test_laser_assembler.launch`\n\n`rostopic hz /multisense_sl/laser/scan`\n\n`rostopic hz /multisense_sl/camera/points2`\n\nThe real-time factor is 0.4", "markup": "markdown", "html": "<p>I made some changes to the code. I'm current at 1000sec sim time, with a memory footprint of 765m. I'm running:</p>\n<p><code>roslaunch atlas_utils vrc_task2.launch</code> (with atlas in the rubble pile)</p>\n<p><code>pub_atlas_command_fast</code></p>\n<p><code>gzstats</code></p>\n<p><code>gzclient</code> (total of two gzclient, displaying laser and stereo cameras and contacts)</p>\n<p><code>rosrun rviz rviz</code> (display point clouds and laser)</p>\n<p><code>roslaunch laser_assembler test_laser_assembler.launch</code></p>\n<p><code>rostopic hz /multisense_sl/laser/scan</code></p>\n<p><code>rostopic hz /multisense_sl/camera/points2</code></p>\n<p>The real-time factor is 0.4</p>", "type": "rendered"}, "created_on": "2013-06-06T15:33:04.970908+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2013-06-06T15:35:17.871922+00:00", "type": "pullrequest_comment", "id": 294894}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584/comments/293883.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584/_/diff#comment-293883"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 584, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584"}}, "title": "Limit the size of the transport buffers"}, "content": {"raw": "On my desktop, I ran pub_atlas_command with vrc_task_2 and rostopic hz the laser scan and one of the multisense camera images and it ran for 1492 seconds sim-time (almost 25 minutes) before out-of-memory.", "markup": "markdown", "html": "<p>On my desktop, I ran pub_atlas_command with vrc_task_2 and rostopic hz the laser scan and one of the multisense camera images and it ran for 1492 seconds sim-time (almost 25 minutes) before out-of-memory.</p>", "type": "rendered"}, "created_on": "2013-06-06T06:34:09.602547+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2013-06-06T06:35:00.220666+00:00", "type": "pullrequest_comment", "id": 293883}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584/comments/293935.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584/_/diff#comment-293935"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 584, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584"}}, "title": "Limit the size of the transport buffers"}, "content": {"raw": "ran `vrc_task_2.launch` with `laser_assembler.launch` and `pub_atlas_command_fast`.  Memory footprint snapshots with `top`:\n\n~~~\n18814 ubuntu    20   0 9372m 1.8g  76m R  320  5.6   6:54.56 gzserver -s libgazebo_ros_api_plugin.so vrc_task_2.world -q -r --record_encoding=zlib --record_path=/tmp/vrc_task_2 __name:=gazebo __log:=/home/ubuntu/.ros/log/2b21d0c6-ce78-11e\n18814 ubuntu    20   0 10.4g 2.9g  76m S  319  9.3   8:15.79 gzserver -s libgazebo_ros_api_plugin.so vrc_task_2.world -q -r --record_encoding=zlib --record_path=/tmp/vrc_task_2 __name:=gazebo __log:=/home/ubuntu/.ros/log/2b21d0c6-ce78-11e\n~~~\n\nwill try `valgrind` next.", "markup": "markdown", "html": "<p>ran <code>vrc_task_2.launch</code> with <code>laser_assembler.launch</code> and <code>pub_atlas_command_fast</code>.  Memory footprint snapshots with <code>top</code>:</p>\n<div class=\"codehilite\"><pre><span></span>18814 ubuntu    20   0 9372m 1.8g  76m R  320  5.6   6:54.56 gzserver -s libgazebo_ros_api_plugin.so vrc_task_2.world -q -r --record_encoding=zlib --record_path=/tmp/vrc_task_2 __name:=gazebo __log:=/home/ubuntu/.ros/log/2b21d0c6-ce78-11e\n18814 ubuntu    20   0 10.4g 2.9g  76m S  319  9.3   8:15.79 gzserver -s libgazebo_ros_api_plugin.so vrc_task_2.world -q -r --record_encoding=zlib --record_path=/tmp/vrc_task_2 __name:=gazebo __log:=/home/ubuntu/.ros/log/2b21d0c6-ce78-11e\n</pre></div>\n\n\n<p>will try <code>valgrind</code> next.</p>", "type": "rendered"}, "created_on": "2013-06-06T07:15:33.321452+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": "2013-06-06T07:19:38.177015+00:00", "type": "pullrequest_comment", "id": 293935}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584/comments/295040.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584/_/diff#comment-295040"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 584, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584"}}, "title": "Limit the size of the transport buffers"}, "content": {"raw": "Running the gz_build_test script overnight, I found several test failures that spit out Backtraces to the console. ODEPhysics_TEST failed most frequently (9 times out of about 70). Also, these tests were run without rendering, so that may have changed the timing. All the backtraces pointed to Connection::OnWrite. I'm currently working on getting a backtrace with debug info.", "markup": "markdown", "html": "<p>Running the gz_build_test script overnight, I found several test failures that spit out Backtraces to the console. ODEPhysics_TEST failed most frequently (9 times out of about 70). Also, these tests were run without rendering, so that may have changed the timing. All the backtraces pointed to Connection::OnWrite. I'm currently working on getting a backtrace with debug info.</p>", "type": "rendered"}, "created_on": "2013-06-06T16:26:55.712383+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2013-06-06T16:27:12.962502+00:00", "type": "pullrequest_comment", "id": 295040}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584/comments/295078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584/_/diff#comment-295078"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 584, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584"}}, "title": "Limit the size of the transport buffers"}, "content": {"raw": "Tried the same test again just now:\n\nran `vrc_task_2.launch` with `laser_assembler.launch` and `pub_atlas_command_fast`.  Memory footprint snapshots with `top`:\n\nStill got about 6.5GB after a while:\n\n~~~\n22025 ubuntu    20   0 14.4g 6.5g  76m R  330 20.6 144:27.06 gzserver -s libgazebo_ros_api_plugin.so vrc_task_2.world -q -r --record_encoding=zlib --record_path=/tmp/vrc_task_2 __name:=gazeb\n~~~", "markup": "markdown", "html": "<p>Tried the same test again just now:</p>\n<p>ran <code>vrc_task_2.launch</code> with <code>laser_assembler.launch</code> and <code>pub_atlas_command_fast</code>.  Memory footprint snapshots with <code>top</code>:</p>\n<p>Still got about 6.5GB after a while:</p>\n<div class=\"codehilite\"><pre><span></span>22025 ubuntu    20   0 14.4g 6.5g  76m R  330 20.6 144:27.06 gzserver -s libgazebo_ros_api_plugin.so vrc_task_2.world -q -r --record_encoding=zlib --record_path=/tmp/vrc_task_2 __name:=gazeb\n</pre></div>", "type": "rendered"}, "created_on": "2013-06-06T16:43:43.788544+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": "2013-06-06T16:43:43.795429+00:00", "type": "pullrequest_comment", "id": 295078}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584/comments/295371.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584/_/diff#comment-295371"}}, "parent": {"id": 295078, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584/comments/295078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584/_/diff#comment-295078"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 584, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584"}}, "title": "Limit the size of the transport buffers"}, "content": {"raw": "by the way, I am seeing growing memory with this revision of gazebo:\n\n~~~\nparent: 8403:78c2ae45d5e3 tip\n Fix core dump\nbranch: out_of_memory\ncommit: 9 unknown (clean)\nupdate: (current)\n~~~\n\n~~~\n 1132 ubuntu    20   0 21.4g  13g  76m R  318 43.2  59:59.91 gzserver -s libgazebo_ros_api_plugin.so vrc_task_2.world -q -r --record_encoding=zlib --record_path=/tmp/vrc_task_2 __name:=g\n~~~", "markup": "markdown", "html": "<p>by the way, I am seeing growing memory with this revision of gazebo:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">parent</span><span class=\"o\">:</span> <span class=\"mi\">8403</span><span class=\"o\">:</span><span class=\"mi\">78</span><span class=\"n\">c2ae45d5e3</span> <span class=\"n\">tip</span>\n <span class=\"n\">Fix</span> <span class=\"n\">core</span> <span class=\"n\">dump</span>\n<span class=\"n\">branch</span><span class=\"o\">:</span> <span class=\"n\">out_of_memory</span>\n<span class=\"n\">commit</span><span class=\"o\">:</span> <span class=\"mi\">9</span> <span class=\"n\">unknown</span> <span class=\"o\">(</span><span class=\"n\">clean</span><span class=\"o\">)</span>\n<span class=\"n\">update</span><span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"n\">current</span><span class=\"o\">)</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span> 1132 ubuntu    20   0 21.4g  13g  76m R  318 43.2  59:59.91 gzserver -s libgazebo_ros_api_plugin.so vrc_task_2.world -q -r --record_encoding=zlib --record_path=/tmp/vrc_task_2 __name:=g\n</pre></div>", "type": "rendered"}, "created_on": "2013-06-06T18:50:06.876824+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": "2013-06-06T18:51:03.611245+00:00", "type": "pullrequest_comment", "id": 295371}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584/comments/295097.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584/_/diff#comment-295097"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 584, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584"}}, "title": "Limit the size of the transport buffers"}, "content": {"raw": "Ran ODEPhysics_TEST 100 times, no core dumps (after a change to check queue size before popping). Running for 1000 iterations now.", "markup": "markdown", "html": "<p>Ran ODEPhysics_TEST 100 times, no core dumps (after a change to check queue size before popping). Running for 1000 iterations now.</p>", "type": "rendered"}, "created_on": "2013-06-06T16:56:15.119991+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2013-06-06T16:56:15.130922+00:00", "type": "pullrequest_comment", "id": 295097}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584/comments/295135.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584/_/diff#comment-295135"}}, "parent": {"id": 295097, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584/comments/295097.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584/_/diff#comment-295097"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 584, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584"}}, "title": "Limit the size of the transport buffers"}, "content": {"raw": "I just got a seg-fault during teardown:\n~~~\nCore was generated by `gazebo/physics/ode/ODEPhysics_TEST'.\nProgram terminated with signal 11, Segmentation fault.\n#0  0x0000000002345160 in ?? ()\n(gdb) bt\n#0  0x0000000002345160 in ?? ()\n#1  0x00007f5927234948 in clear (functor=..., this=<optimized out>)\n    at /usr/include/boost/function/function_template.hpp:504\n#2  clear (this=0x2348178)\n    at /usr/include/boost/function/function_template.hpp:856\n#3  ~function1 (this=0x2348178, __in_chrg=<optimized out>)\n    at /usr/include/boost/function/function_template.hpp:752\n#4  ~function (this=0x2348178, __in_chrg=<optimized out>)\n    at /usr/include/boost/function/function_template.hpp:1043\n#5  ~pair (this=0x2348178, __in_chrg=<optimized out>)\n    at /usr/include/c++/4.6/bits/stl_pair.h:87\n#6  _Destroy<std::pair<boost::function<void(unsigned int)>, unsigned int> > (\n    __pointer=0x2348178) at /usr/include/c++/4.6/bits/stl_construct.h:94\n#7  __destroy<std::pair<boost::function<void(unsigned int)>, unsigned int>*> (\n    __last=<optimized out>, __first=0x2348178)\n    at /usr/include/c++/4.6/bits/stl_construct.h:104\n#8  _Destroy<std::pair<boost::function<void(unsigned int)>, unsigned int>*> (\n    __last=<optimized out>, __first=<optimized out>)\n    at /usr/include/c++/4.6/bits/stl_construct.h:127\n#9  _Destroy<std::pair<boost::function<void(unsigned int)>, unsigned int>*, std::pair<boost::function<void(unsigned int)>, unsigned int> > (\n    __last=<optimized out>, __first=0x2348178)\n    at /usr/include/c++/4.6/bits/stl_construct.h:153\n#10 _M_destroy_data_aux (__last=..., __first=..., this=<optimized out>)\n    at /usr/include/c++/4.6/bits/deque.tcc:797\n#11 std::deque<std::pair<boost::function<void (unsigned int)>, unsigned int>, std::allocator<std::pair<boost::function<void (unsigned int)>, unsigned int> > >::_M_destroy_data(std::_Deque_iterator<std::pair<boost::function<void (unsigned int)>, unsigned int>, std::pair<boost::function<void (unsigned int)>, unsigned int>&, std::pair<boost::function<void (unsigned int)>, unsigned int>*>, std::_Deque_iterator<std::pair<boost::function<void (unsigned int)>, unsigned int>, std::pair<boost::function<void (unsigned int)>, unsigned int>&, std::pair<boost::function<void (unsigned int)>, unsigned int>*>, std::allocator<std::pair<boost::function<void (unsigned int)>, unsigned int> > const&) (__first=..., __last=..., \n    this=<optimized out>) at /usr/include/c++/4.6/bits/stl_deque.h:1816\n#12 0x00007f5927244ed3 in _M_erase_at_end (__pos=..., this=0x7f5906a5ddc8)\n    at /usr/include/c++/4.6/bits/stl_deque.h:1833\n#13 std::deque<std::pair<boost::function<void (unsigned int)>, unsigned int>, std::allocator<std::pair<boost::function<void (unsigned int)>, unsigned int> > >::clear() (this=<optimized out>) at /usr/include/c++/4.6/bits/stl_deque.h:1580\n#14 0x00007f59272371c2 in gazebo::transport::Connection::ProcessWriteQueue (\n    this=0x7f5906a5dd50, _blocking=false)\n    at /home/scpeters/osrf/gazebo3/gazebo/transport/Connection.cc:322\n#15 0x00007f592724c8c8 in gazebo::transport::ConnectionManager::Fini (\n    this=0x672ea0)\n    at /home/scpeters/osrf/gazebo3/gazebo/transport/ConnectionManager.cc:217\n#16 0x00007f5926fe47a0 in gazebo::fini ()\n    at /home/scpeters/osrf/gazebo3/gazebo/gazebo.cc:108\n#17 0x00007f5926fcb1e3 in gazebo::Server::Fini (this=0x7f59043b7540)\n    at /home/scpeters/osrf/gazebo3/gazebo/Server.cc:418\n#18 0x0000000000431649 in ServerFixture::RunServer (this=0x23486c0, \n    _worldFilename=..., _paused=false, _physics=...)\n    at /home/scpeters/osrf/gazebo3/test/ServerFixture.hh:226\n#19 0x00007f5926889ce9 in thread_proxy ()\n   from /usr/lib/libboost_thread.so.1.46.1\n#20 0x00007f5926d8ce9a in start_thread (arg=0x7f5912456700)\n    at pthread_create.c:308\n#21 0x00007f5925e97cbd in clone ()\n    at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\n#22 0x0000000000000000 in ?? ()\n(gdb) \n~~~\n", "markup": "markdown", "html": "<p>I just got a seg-fault during teardown:</p>\n<div class=\"codehilite\"><pre><span></span>Core was generated by `gazebo/physics/ode/ODEPhysics_TEST&#39;.\nProgram terminated with signal 11, Segmentation fault.\n#0  0x0000000002345160 in ?? ()\n(gdb) bt\n#0  0x0000000002345160 in ?? ()\n#1  0x00007f5927234948 in clear (functor=..., this=&lt;optimized out&gt;)\n    at /usr/include/boost/function/function_template.hpp:504\n#2  clear (this=0x2348178)\n    at /usr/include/boost/function/function_template.hpp:856\n#3  ~function1 (this=0x2348178, __in_chrg=&lt;optimized out&gt;)\n    at /usr/include/boost/function/function_template.hpp:752\n#4  ~function (this=0x2348178, __in_chrg=&lt;optimized out&gt;)\n    at /usr/include/boost/function/function_template.hpp:1043\n#5  ~pair (this=0x2348178, __in_chrg=&lt;optimized out&gt;)\n    at /usr/include/c++/4.6/bits/stl_pair.h:87\n#6  _Destroy&lt;std::pair&lt;boost::function&lt;void(unsigned int)&gt;, unsigned int&gt; &gt; (\n    __pointer=0x2348178) at /usr/include/c++/4.6/bits/stl_construct.h:94\n#7  __destroy&lt;std::pair&lt;boost::function&lt;void(unsigned int)&gt;, unsigned int&gt;*&gt; (\n    __last=&lt;optimized out&gt;, __first=0x2348178)\n    at /usr/include/c++/4.6/bits/stl_construct.h:104\n#8  _Destroy&lt;std::pair&lt;boost::function&lt;void(unsigned int)&gt;, unsigned int&gt;*&gt; (\n    __last=&lt;optimized out&gt;, __first=&lt;optimized out&gt;)\n    at /usr/include/c++/4.6/bits/stl_construct.h:127\n#9  _Destroy&lt;std::pair&lt;boost::function&lt;void(unsigned int)&gt;, unsigned int&gt;*, std::pair&lt;boost::function&lt;void(unsigned int)&gt;, unsigned int&gt; &gt; (\n    __last=&lt;optimized out&gt;, __first=0x2348178)\n    at /usr/include/c++/4.6/bits/stl_construct.h:153\n#10 _M_destroy_data_aux (__last=..., __first=..., this=&lt;optimized out&gt;)\n    at /usr/include/c++/4.6/bits/deque.tcc:797\n#11 std::deque&lt;std::pair&lt;boost::function&lt;void (unsigned int)&gt;, unsigned int&gt;, std::allocator&lt;std::pair&lt;boost::function&lt;void (unsigned int)&gt;, unsigned int&gt; &gt; &gt;::_M_destroy_data(std::_Deque_iterator&lt;std::pair&lt;boost::function&lt;void (unsigned int)&gt;, unsigned int&gt;, std::pair&lt;boost::function&lt;void (unsigned int)&gt;, unsigned int&gt;&amp;, std::pair&lt;boost::function&lt;void (unsigned int)&gt;, unsigned int&gt;*&gt;, std::_Deque_iterator&lt;std::pair&lt;boost::function&lt;void (unsigned int)&gt;, unsigned int&gt;, std::pair&lt;boost::function&lt;void (unsigned int)&gt;, unsigned int&gt;&amp;, std::pair&lt;boost::function&lt;void (unsigned int)&gt;, unsigned int&gt;*&gt;, std::allocator&lt;std::pair&lt;boost::function&lt;void (unsigned int)&gt;, unsigned int&gt; &gt; const&amp;) (__first=..., __last=..., \n    this=&lt;optimized out&gt;) at /usr/include/c++/4.6/bits/stl_deque.h:1816\n#12 0x00007f5927244ed3 in _M_erase_at_end (__pos=..., this=0x7f5906a5ddc8)\n    at /usr/include/c++/4.6/bits/stl_deque.h:1833\n#13 std::deque&lt;std::pair&lt;boost::function&lt;void (unsigned int)&gt;, unsigned int&gt;, std::allocator&lt;std::pair&lt;boost::function&lt;void (unsigned int)&gt;, unsigned int&gt; &gt; &gt;::clear() (this=&lt;optimized out&gt;) at /usr/include/c++/4.6/bits/stl_deque.h:1580\n#14 0x00007f59272371c2 in gazebo::transport::Connection::ProcessWriteQueue (\n    this=0x7f5906a5dd50, _blocking=false)\n    at /home/scpeters/osrf/gazebo3/gazebo/transport/Connection.cc:322\n#15 0x00007f592724c8c8 in gazebo::transport::ConnectionManager::Fini (\n    this=0x672ea0)\n    at /home/scpeters/osrf/gazebo3/gazebo/transport/ConnectionManager.cc:217\n#16 0x00007f5926fe47a0 in gazebo::fini ()\n    at /home/scpeters/osrf/gazebo3/gazebo/gazebo.cc:108\n#17 0x00007f5926fcb1e3 in gazebo::Server::Fini (this=0x7f59043b7540)\n    at /home/scpeters/osrf/gazebo3/gazebo/Server.cc:418\n#18 0x0000000000431649 in ServerFixture::RunServer (this=0x23486c0, \n    _worldFilename=..., _paused=false, _physics=...)\n    at /home/scpeters/osrf/gazebo3/test/ServerFixture.hh:226\n#19 0x00007f5926889ce9 in thread_proxy ()\n   from /usr/lib/libboost_thread.so.1.46.1\n#20 0x00007f5926d8ce9a in start_thread (arg=0x7f5912456700)\n    at pthread_create.c:308\n#21 0x00007f5925e97cbd in clone ()\n    at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\n#22 0x0000000000000000 in ?? ()\n(gdb) \n</pre></div>", "type": "rendered"}, "created_on": "2013-06-06T17:23:54.713591+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2013-06-06T17:23:54.725290+00:00", "type": "pullrequest_comment", "id": 295135}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584/comments/295155.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584/_/diff#comment-295155"}}, "parent": {"id": 295135, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584/comments/295135.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584/_/diff#comment-295135"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 584, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584"}}, "title": "Limit the size of the transport buffers"}, "content": {"raw": "I pushed in a change that should fix this.", "markup": "markdown", "html": "<p>I pushed in a change that should fix this.</p>", "type": "rendered"}, "created_on": "2013-06-06T17:33:23.247667+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2013-06-06T17:33:23.255683+00:00", "type": "pullrequest_comment", "id": 295155}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584/comments/295220.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584/_/diff#comment-295220"}}, "parent": {"id": 295155, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584/comments/295155.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584/_/diff#comment-295155"}}, "depth": 3}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 584, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584"}}, "title": "Limit the size of the transport buffers"}, "content": {"raw": "Ok, I'm up to 1600 consecutive times passing the test. I'm going to switch back to running the whole test suite.", "markup": "markdown", "html": "<p>Ok, I'm up to 1600 consecutive times passing the test. I'm going to switch back to running the whole test suite.</p>", "type": "rendered"}, "created_on": "2013-06-06T17:57:58.943074+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2013-06-06T17:57:58.951257+00:00", "type": "pullrequest_comment", "id": 295220}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584/comments/295641.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584/_/diff#comment-295641"}}, "parent": {"id": 295220, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584/comments/295220.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584/_/diff#comment-295220"}}, "depth": 4}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 584, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584"}}, "title": "Limit the size of the transport buffers"}, "content": {"raw": "Sorry for not speaking before, maybe open a new terminal and running stress (apt-get install stress) for stressing cpu (stress --cpu N, N random number of stressing threads) could help with this race conditioning testing.\n\nstressing I/O or memory is also an option with the same tool.", "markup": "markdown", "html": "<p>Sorry for not speaking before, maybe open a new terminal and running stress (apt-get install stress) for stressing cpu (stress --cpu N, N random number of stressing threads) could help with this race conditioning testing.</p>\n<p>stressing I/O or memory is also an option with the same tool.</p>", "type": "rendered"}, "created_on": "2013-06-06T20:37:43.799175+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2013-06-06T20:38:09.625593+00:00", "type": "pullrequest_comment", "id": 295641}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584/comments/295324.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584/_/diff#comment-295324"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 584, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584"}}, "title": "Limit the size of the transport buffers"}, "content": {"raw": "I was able to reproduce the transport_stress seg-fault documented in #722 after 213 tests. I've added the backtraces from this branch to that issue.", "markup": "markdown", "html": "<p>I was able to reproduce the transport_stress seg-fault documented in <a href=\"#!/osrf/gazebo/issues/722/infrequent-transport_stress-test-seg-fault\" rel=\"nofollow\" title=\"Infrequent transport_stress test seg-fault\" class=\"ap-connect-link\"><s>#722</s></a> after 213 tests. I've added the backtraces from this branch to that issue.</p>", "type": "rendered"}, "created_on": "2013-06-06T18:33:31.432725+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2013-06-06T18:33:31.440077+00:00", "type": "pullrequest_comment", "id": 295324}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584/comments/295666.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584/_/diff#comment-295666"}}, "parent": {"id": 295324, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584/comments/295324.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584/_/diff#comment-295324"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 584, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584"}}, "title": "Limit the size of the transport buffers"}, "content": {"raw": "This seems to happen on shutdown. We may not have the time to deal with this issue.", "markup": "markdown", "html": "<p>This seems to happen on shutdown. We may not have the time to deal with this issue.</p>", "type": "rendered"}, "created_on": "2013-06-06T20:53:46.066732+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2013-06-06T20:53:46.074696+00:00", "type": "pullrequest_comment", "id": 295666}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584/comments/295671.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584/_/diff#comment-295671"}}, "parent": {"id": 295666, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584/comments/295666.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584/_/diff#comment-295666"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 584, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584"}}, "title": "Limit the size of the transport buffers"}, "content": {"raw": "It's pretty rare, but I figured transport might be fresh in your memory so I thought I'd mention it. You fixed everything else instantaneously.", "markup": "markdown", "html": "<p>It's pretty rare, but I figured transport might be fresh in your memory so I thought I'd mention it. You fixed everything else instantaneously.</p>", "type": "rendered"}, "created_on": "2013-06-06T20:59:25.257547+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2013-06-06T20:59:25.265761+00:00", "type": "pullrequest_comment", "id": 295671}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584/comments/295674.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584/_/diff#comment-295674"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 584, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584"}}, "title": "Limit the size of the transport buffers"}, "content": {"raw": "I think it's good in terms of gazebo and drcsim regression tests.", "markup": "markdown", "html": "<p>I think it's good in terms of gazebo and drcsim regression tests.</p>", "type": "rendered"}, "created_on": "2013-06-06T21:01:42.477391+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2013-06-06T21:01:42.489166+00:00", "type": "pullrequest_comment", "id": 295674}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584/comments/295702.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:78c2ae45d5e3..a9a8744de287?path=gazebo%2Ftransport%2FConnection.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584/_/diff#comment-295702"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 584, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584"}}, "title": "Limit the size of the transport buffers"}, "content": {"raw": "style complaint from Jenkins: Missing space before ( in if( ", "markup": "markdown", "html": "<p>style complaint from Jenkins: Missing space before ( in if( </p>", "type": "rendered"}, "created_on": "2013-06-06T21:16:41.796248+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {"to": 372, "from": null, "path": "gazebo/transport/Connection.cc"}, "updated_on": "2013-06-06T21:16:41.807670+00:00", "type": "pullrequest_comment", "id": 295702}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584/comments/295758.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584/_/diff#comment-295758"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 584, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584"}}, "title": "Limit the size of the transport buffers"}, "content": {"raw": "The memory growth I am seeing are not leaks, if I disables the ROS topic subscriptions, the memory usage appears to return to normal.  There might be another similar accumulation of buffer in drcsim's [PubQueue::queue_](https://bitbucket.org/osrf/drcsim/src/b36170c2460b645c420a8e65c0f92139bf845990/ros/atlas_msgs/PubQueue.h?at=default#cl-77) or [PubQueue::PubMessagePair](https://bitbucket.org/osrf/drcsim/src/b36170c2460b645c420a8e65c0f92139bf845990/ros/atlas_msgs/PubQueue.h?at=default#cl-88).  Printing vector sizes in any `push_back(...)` calls in `PubQueue` shows no sign of vector length growth, but gzserver memory footprint still grew.\n\n\n***Turning off logging stops memory growth.***", "markup": "markdown", "html": "<p>The memory growth I am seeing are not leaks, if I disables the ROS topic subscriptions, the memory usage appears to return to normal.  There might be another similar accumulation of buffer in drcsim's <a data-is-external-link=\"true\" href=\"https://bitbucket.org/osrf/drcsim/src/b36170c2460b645c420a8e65c0f92139bf845990/ros/atlas_msgs/PubQueue.h?at=default#cl-77\" rel=\"nofollow\">PubQueue::queue_</a> or <a data-is-external-link=\"true\" href=\"https://bitbucket.org/osrf/drcsim/src/b36170c2460b645c420a8e65c0f92139bf845990/ros/atlas_msgs/PubQueue.h?at=default#cl-88\" rel=\"nofollow\">PubQueue::PubMessagePair</a>.  Printing vector sizes in any <code>push_back(...)</code> calls in <code>PubQueue</code> shows no sign of vector length growth, but gzserver memory footprint still grew.</p>\n<p><strong><em>Turning off logging stops memory growth.</em></strong></p>", "type": "rendered"}, "created_on": "2013-06-06T21:38:51.497361+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": "2013-06-07T01:01:37.889234+00:00", "type": "pullrequest_comment", "id": 295758}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584/comments/296014.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584/_/diff#comment-296014"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 584, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584"}}, "title": "Limit the size of the transport buffers"}, "content": {"raw": "So far running `pub_atlas_command_fast` or `laser_assembler` consistently grows the memory, on my machine and also on SL machine. It's likely that they are two separate issues where `pub_atlas_command` is related to logging, and `laser_assembler` is a mystery and not reproduceable in valgrind massif tool.", "markup": "markdown", "html": "<p>So far running <code>pub_atlas_command_fast</code> or <code>laser_assembler</code> consistently grows the memory, on my machine and also on SL machine. It's likely that they are two separate issues where <code>pub_atlas_command</code> is related to logging, and <code>laser_assembler</code> is a mystery and not reproduceable in valgrind massif tool.</p>", "type": "rendered"}, "created_on": "2013-06-07T00:14:53.858497+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2013-06-07T00:14:53.868158+00:00", "type": "pullrequest_comment", "id": 296014}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584/comments/296054.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584/_/diff#comment-296054"}}, "parent": {"id": 296014, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584/comments/296014.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584/_/diff#comment-296014"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 584, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584"}}, "title": "Limit the size of the transport buffers"}, "content": {"raw": "turns out `set_spindle_speed` published by `laser_assembler` triggers logging, leading to memory growth.", "markup": "markdown", "html": "<p>turns out <code>set_spindle_speed</code> published by <code>laser_assembler</code> triggers logging, leading to memory growth.</p>", "type": "rendered"}, "created_on": "2013-06-07T01:11:55.671230+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": "2013-06-07T01:11:55.680437+00:00", "type": "pullrequest_comment", "id": 296054}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584/comments/296021.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584/_/diff#comment-296021"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 584, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/584.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/584"}}, "title": "Limit the size of the transport buffers"}, "content": {"raw": "Even if the problems aren't 100% fixed, I think this is still an improvement.", "markup": "markdown", "html": "<p>Even if the problems aren't 100% fixed, I think this is still an improvement.</p>", "type": "rendered"}, "created_on": "2013-06-07T00:22:04.862906+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2013-06-07T00:22:04.870555+00:00", "type": "pullrequest_comment", "id": 296021}], "page": 1, "size": 25}