{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1181/comments/2927821.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1181/_/diff#comment-2927821"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1181, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1181.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1181"}}, "title": "Add ability to specify GUI plugins that appear over render window"}, "content": {"raw": "The [report on Mac](http://build.osrfoundation.org/job/gazebo-any-devel-homebrew_bcn-amd64/143/consoleFull) displays some errors in linking:\n\n```\n219: Linking CXX shared library libgui_example_time_widget.dylib\n219: Undefined symbols for architecture x86_64:\n219:   \"google::protobuf::MessageLite::ParseFromString(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&)\", referenced from:\n219:       gazebo::transport::CallbackHelperT<gazebo::msgs::WorldStatistics>::HandleData(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, boost::function<void (unsigned int)>, unsigned int) in GUIExampleTimeWidget.cc.o\n219:   \"typeinfo for google::protobuf::Message\", referenced from:\n219:       boost::shared_ptr<gazebo::msgs::WorldStatistics> boost::dynamic_pointer_cast<gazebo::msgs::WorldStatistics, google::protobuf::Message>(boost::shared_ptr<google::protobuf::Message> const&) in GUIExampleTimeWidget.cc.o\n219: ld: symbol(s) not found for architecture x86_64\n219: clang: error: linker command failed with exit code 1 (use -v to see invocation)\n```\n\n```\n19: Linking CXX shared library libgui_example_spawn_widget.dylib\n219: Undefined symbols for architecture x86_64:\n219:   \"google::protobuf::internal::kEmptyString\", referenced from:\n219:       gazebo::msgs::Factory::set_sdf(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&) in GUIExampleSpawnWidget.cc.o\n219: ld: symbol(s) not found for architecture x86_64\n219: clang: error: linker command failed with exit code 1 (use -v to see invocation)\n```\n\nMaybe we need to include protobuf in linking?", "markup": "markdown", "html": "<p>The <a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/job/gazebo-any-devel-homebrew_bcn-amd64/143/consoleFull\" rel=\"nofollow\">report on Mac</a> displays some errors in linking:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"mi\">219</span><span class=\"o\">:</span> <span class=\"n\">Linking</span> <span class=\"n\">CXX</span> <span class=\"n\">shared</span> <span class=\"n\">library</span> <span class=\"n\">libgui_example_time_widget</span><span class=\"o\">.</span><span class=\"na\">dylib</span>\n<span class=\"mi\">219</span><span class=\"o\">:</span> <span class=\"n\">Undefined</span> <span class=\"n\">symbols</span> <span class=\"k\">for</span> <span class=\"n\">architecture</span> <span class=\"n\">x86_64</span><span class=\"o\">:</span>\n<span class=\"mi\">219</span><span class=\"o\">:</span>   <span class=\"s2\">&quot;google::protobuf::MessageLite::ParseFromString(std::__1::basic_string&lt;char, std::__1::char_traits&lt;char&gt;, std::__1::allocator&lt;char&gt; &gt; const&amp;)&quot;</span><span class=\"o\">,</span> <span class=\"n\">referenced</span> <span class=\"n\">from</span><span class=\"o\">:</span>\n<span class=\"mi\">219</span><span class=\"o\">:</span>       <span class=\"n\">gazebo</span><span class=\"o\">::</span><span class=\"n\">transport</span><span class=\"o\">::</span><span class=\"n\">CallbackHelperT</span><span class=\"o\">&lt;</span><span class=\"n\">gazebo</span><span class=\"o\">::</span><span class=\"n\">msgs</span><span class=\"o\">::</span><span class=\"n\">WorldStatistics</span><span class=\"o\">&gt;::</span><span class=\"n\">HandleData</span><span class=\"o\">(</span><span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">__1</span><span class=\"o\">::</span><span class=\"n\">basic_string</span><span class=\"o\">&lt;</span><span class=\"n\">char</span><span class=\"o\">,</span> <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">__1</span><span class=\"o\">::</span><span class=\"n\">char_traits</span><span class=\"o\">&lt;</span><span class=\"n\">char</span><span class=\"o\">&gt;,</span> <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">__1</span><span class=\"o\">::</span><span class=\"n\">allocator</span><span class=\"o\">&lt;</span><span class=\"n\">char</span><span class=\"o\">&gt;</span> <span class=\"o\">&gt;</span> <span class=\"kd\">const</span><span class=\"o\">&amp;,</span> <span class=\"n\">boost</span><span class=\"o\">::</span><span class=\"kd\">function</span><span class=\"o\">&lt;</span><span class=\"kc\">void</span> <span class=\"o\">(</span><span class=\"n\">unsigned</span> <span class=\"n\">int</span><span class=\"o\">)&gt;,</span> <span class=\"n\">unsigned</span> <span class=\"n\">int</span><span class=\"o\">)</span> <span class=\"k\">in</span> <span class=\"n\">GUIExampleTimeWidget</span><span class=\"o\">.</span><span class=\"na\">cc</span><span class=\"o\">.</span><span class=\"na\">o</span>\n<span class=\"mi\">219</span><span class=\"o\">:</span>   <span class=\"s2\">&quot;typeinfo for google::protobuf::Message&quot;</span><span class=\"o\">,</span> <span class=\"n\">referenced</span> <span class=\"n\">from</span><span class=\"o\">:</span>\n<span class=\"mi\">219</span><span class=\"o\">:</span>       <span class=\"n\">boost</span><span class=\"o\">::</span><span class=\"n\">shared_ptr</span><span class=\"o\">&lt;</span><span class=\"n\">gazebo</span><span class=\"o\">::</span><span class=\"n\">msgs</span><span class=\"o\">::</span><span class=\"n\">WorldStatistics</span><span class=\"o\">&gt;</span> <span class=\"n\">boost</span><span class=\"o\">::</span><span class=\"n\">dynamic_pointer_cast</span><span class=\"o\">&lt;</span><span class=\"n\">gazebo</span><span class=\"o\">::</span><span class=\"n\">msgs</span><span class=\"o\">::</span><span class=\"n\">WorldStatistics</span><span class=\"o\">,</span> <span class=\"n\">google</span><span class=\"o\">::</span><span class=\"n\">protobuf</span><span class=\"o\">::</span><span class=\"n\">Message</span><span class=\"o\">&gt;(</span><span class=\"n\">boost</span><span class=\"o\">::</span><span class=\"n\">shared_ptr</span><span class=\"o\">&lt;</span><span class=\"n\">google</span><span class=\"o\">::</span><span class=\"n\">protobuf</span><span class=\"o\">::</span><span class=\"n\">Message</span><span class=\"o\">&gt;</span> <span class=\"kd\">const</span><span class=\"o\">&amp;)</span> <span class=\"k\">in</span> <span class=\"n\">GUIExampleTimeWidget</span><span class=\"o\">.</span><span class=\"na\">cc</span><span class=\"o\">.</span><span class=\"na\">o</span>\n<span class=\"mi\">219</span><span class=\"o\">:</span> <span class=\"n\">ld</span><span class=\"o\">:</span> <span class=\"n\">symbol</span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"o\">)</span> <span class=\"n\">not</span> <span class=\"n\">found</span> <span class=\"k\">for</span> <span class=\"n\">architecture</span> <span class=\"n\">x86_64</span>\n<span class=\"mi\">219</span><span class=\"o\">:</span> <span class=\"n\">clang</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">linker</span> <span class=\"n\">command</span> <span class=\"n\">failed</span> <span class=\"k\">with</span> <span class=\"n\">exit</span> <span class=\"n\">code</span> <span class=\"mi\">1</span> <span class=\"o\">(</span><span class=\"n\">use</span> <span class=\"o\">-</span><span class=\"n\">v</span> <span class=\"n\">to</span> <span class=\"n\">see</span> <span class=\"n\">invocation</span><span class=\"o\">)</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"mi\">19</span><span class=\"o\">:</span> <span class=\"n\">Linking</span> <span class=\"n\">CXX</span> <span class=\"n\">shared</span> <span class=\"n\">library</span> <span class=\"n\">libgui_example_spawn_widget</span><span class=\"o\">.</span><span class=\"na\">dylib</span>\n<span class=\"mi\">219</span><span class=\"o\">:</span> <span class=\"n\">Undefined</span> <span class=\"n\">symbols</span> <span class=\"k\">for</span> <span class=\"n\">architecture</span> <span class=\"n\">x86_64</span><span class=\"o\">:</span>\n<span class=\"mi\">219</span><span class=\"o\">:</span>   <span class=\"s2\">&quot;google::protobuf::internal::kEmptyString&quot;</span><span class=\"o\">,</span> <span class=\"n\">referenced</span> <span class=\"n\">from</span><span class=\"o\">:</span>\n<span class=\"mi\">219</span><span class=\"o\">:</span>       <span class=\"n\">gazebo</span><span class=\"o\">::</span><span class=\"n\">msgs</span><span class=\"o\">::</span><span class=\"n\">Factory</span><span class=\"o\">::</span><span class=\"n\">set_sdf</span><span class=\"o\">(</span><span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">__1</span><span class=\"o\">::</span><span class=\"n\">basic_string</span><span class=\"o\">&lt;</span><span class=\"n\">char</span><span class=\"o\">,</span> <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">__1</span><span class=\"o\">::</span><span class=\"n\">char_traits</span><span class=\"o\">&lt;</span><span class=\"n\">char</span><span class=\"o\">&gt;,</span> <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">__1</span><span class=\"o\">::</span><span class=\"n\">allocator</span><span class=\"o\">&lt;</span><span class=\"n\">char</span><span class=\"o\">&gt;</span> <span class=\"o\">&gt;</span> <span class=\"kd\">const</span><span class=\"o\">&amp;)</span> <span class=\"k\">in</span> <span class=\"n\">GUIExampleSpawnWidget</span><span class=\"o\">.</span><span class=\"na\">cc</span><span class=\"o\">.</span><span class=\"na\">o</span>\n<span class=\"mi\">219</span><span class=\"o\">:</span> <span class=\"n\">ld</span><span class=\"o\">:</span> <span class=\"n\">symbol</span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"o\">)</span> <span class=\"n\">not</span> <span class=\"n\">found</span> <span class=\"k\">for</span> <span class=\"n\">architecture</span> <span class=\"n\">x86_64</span>\n<span class=\"mi\">219</span><span class=\"o\">:</span> <span class=\"n\">clang</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">linker</span> <span class=\"n\">command</span> <span class=\"n\">failed</span> <span class=\"k\">with</span> <span class=\"n\">exit</span> <span class=\"n\">code</span> <span class=\"mi\">1</span> <span class=\"o\">(</span><span class=\"n\">use</span> <span class=\"o\">-</span><span class=\"n\">v</span> <span class=\"n\">to</span> <span class=\"n\">see</span> <span class=\"n\">invocation</span><span class=\"o\">)</span>\n</pre></div>\n\n\n<p>Maybe we need to include protobuf in linking?</p>", "type": "rendered"}, "created_on": "2014-09-02T15:35:46.920223+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2014-09-02T15:35:46.928775+00:00", "type": "pullrequest_comment", "id": 2927821}