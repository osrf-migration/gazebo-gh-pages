{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3097/comments/131670184.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3097/_/diff#comment-131670184"}}, "parent": {"id": 131487377, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3097/comments/131487377.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3097/_/diff#comment-131487377"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 3097, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3097.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3097"}}, "title": "Workaround for road segments in world file not being visible in camera sensor output"}, "content": {"raw": "I took a slightly different approach in [road\\_sensor\\_9](#!/osrf/gazebo/commits/f4229b7519c3526c7be271c0b0c6a55dac3d6b64).  The road msgs are re-published when a scene info request is received \\(this happens when the scene on the sensor side created\\). This ensures that the road msgs are sent only when needed. I also updated the rendering side to make sure duplicate road visuals are not created. \n\nTo verify the fix, I added a camera sensor in `road.world`. To test, launch gazebo with `road.world`, go to topic viewer \\(ctrl\\+t\\) and select `/gazebo/default/camera/link/camera/image` topic. Verify that the roads now appear in the camera images.\n\n@{557058:619abb83-31a0-42fe-a248-af179f545e4d} if you have time, it would be great if you can give it a try and see if it works for your setup, thanks.", "markup": "markdown", "html": "<p>I took a slightly different approach in <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/commits/f4229b7519c3526c7be271c0b0c6a55dac3d6b64\" rel=\"nofollow\">road_sensor_9</a>.  The road msgs are re-published when a scene info request is received (this happens when the scene on the sensor side created). This ensures that the road msgs are sent only when needed. I also updated the rendering side to make sure duplicate road visuals are not created. </p>\n<p>To verify the fix, I added a camera sensor in <code>road.world</code>. To test, launch gazebo with <code>road.world</code>, go to topic viewer (ctrl+t) and select <code>/gazebo/default/camera/link/camera/image</code> topic. Verify that the roads now appear in the camera images.</p>\n<p><span class=\"ap-mention\" data-atlassian-id=\"557058:619abb83-31a0-42fe-a248-af179f545e4d\">@Micho Radovnikovich</span> if you have time, it would be great if you can give it a try and see if it works for your setup, thanks.</p>", "type": "rendered"}, "created_on": "2020-01-15T02:40:18.699034+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2020-01-15T02:40:18.760218+00:00", "type": "pullrequest_comment", "id": 131670184}