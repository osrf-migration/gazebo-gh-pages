{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1839/comments/8673728.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:None..None?path=plugins%2FRandomVelocityPlugin.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1839/_/diff#comment-8673728"}}, "parent": {"id": 8673437, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1839/comments/8673437.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1839/_/diff#comment-8673437"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1839, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1839.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1839"}}, "title": "Random velocity plugin"}, "content": {"raw": "Right, I think I remember. If we normalize and scale after the clamp, then it's possible for the new values to fall outside the clamp boundaries.\n\nHere is an example:\n\n* scale = 1\n* x-min = 0\n* x-max = 0.1\n* no other clamp values\n\n`\nrand_velocity_before_clamp = [0.3, 0.7, 0]\nrand_velocity_after_clamp = [0.1, 0.7, 0]\n\nrand_velocity_normalized = [0.141421, 0.989949, 0]\n`\n\nThe result would be a velocity that violates the clamp.", "markup": "markdown", "html": "<p>Right, I think I remember. If we normalize and scale after the clamp, then it's possible for the new values to fall outside the clamp boundaries.</p>\n<p>Here is an example:</p>\n<ul>\n<li>scale = 1</li>\n<li>x-min = 0</li>\n<li>x-max = 0.1</li>\n<li>no other clamp values</li>\n</ul>\n<p>`\nrand_velocity_before_clamp = [0.3, 0.7, 0]\nrand_velocity_after_clamp = [0.1, 0.7, 0]</p>\n<p>rand_velocity_normalized = [0.141421, 0.989949, 0]\n`</p>\n<p>The result would be a velocity that violates the clamp.</p>", "type": "rendered"}, "created_on": "2015-07-30T17:40:39.878196+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "inline": {"to": null, "from": null, "outdated": false, "path": "plugins/RandomVelocityPlugin.cc"}, "updated_on": "2015-07-30T17:40:39.884406+00:00", "type": "pullrequest_comment", "id": 8673728}