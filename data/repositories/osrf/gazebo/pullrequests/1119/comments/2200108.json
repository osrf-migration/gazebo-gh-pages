{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1119/comments/2200108.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1119/_/diff#comment-2200108"}}, "parent": {"id": 2200080, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1119/comments/2200080.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1119/_/diff#comment-2200080"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1119, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1119.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1119"}}, "title": "add code to set SimbodyCollision::collisionShape and SimbodyCollision::GetBoundingBox()"}, "content": {"raw": "using bounding sphere of a cylinder to calculate radius of a cylinder might be slightly complicated if the cylinder has finite height.  For this case, we get\n~~~\n$ ../build_release/test/integration/INTEGRATION_pioneer2dx --gtest_filter=\"*/2\"\nNote: Google Test filter = */2\n[==========] Running 1 test from 1 test case.\n[----------] Global test environment set-up.\n[----------] 1 test from PhysicsEngines/Pioneer2dx\n[ RUN      ] PhysicsEngines/Pioneer2dx.StraightLine/2\n[Msg] Waiting for master.\n[Msg] Connected to gazebo master @ http://127.0.0.1:11345\n[Msg] Publicized address: 192.168.1.162\n[Err] [SimbodyJoint.cc:386] SimbodyJoint::SetAnchor:  Not implement in Simbody. Anchor is set during joint construction in SimbodyPhysics.cc\n[Dbg] [SimbodyHingeJoint.cc:55] SetAxis: setting axis is not yet implemented.  The axis are set  during joint construction in SimbodyPhysics.cc for now.\n[Err] [SimbodyJoint.cc:386] SimbodyJoint::SetAnchor:  Not implement in Simbody. Anchor is set during joint construction in SimbodyPhysics.cc\n[Dbg] [SimbodyHingeJoint.cc:55] SetAxis: setting axis is not yet implemented.  The axis are set  during joint construction in SimbodyPhysics.cc for now.\n[Dbg] [ServerFixture.cc:144] ServerFixture load in 1.2 seconds, timeout after 600 seconds\n[Err] [pioneer2dx.cc:66] Min[-0.112805 -0.112805 -0.112805] Max[0.112805 0.112805 0.112805]\n/home/hsu/projects/gazebo_3.1_issue_866_pioneer_2dx/test/integration/pioneer2dx.cc:69: Failure\nThe difference between 0.11 and wheelRadius is 0.0028051417268048773, which exceeds 1e-3, where\n0.11 evaluates to 0.11,\nwheelRadius evaluates to 0.11280514172680488, and\n1e-3 evaluates to 0.001.\nDist[4.0202]\nEndPose.x[3.58825]\n/home/hsu/projects/gazebo_3.1_issue_866_pioneer_2dx/test/integration/pioneer2dx.cc:102: Failure\nExpected: (fabs(endPose.pos.x - dist)) < (0.1), actual: 0.431949 vs 0.1\n[Dbg] [ServerFixture.cc:95] ServerFixture::Unload\n*** glibc detected *** ../build_release/test/integration/INTEGRATION_pioneer2dx: free(): invalid pointer: 0x00007f0d4d315238 ***\n======= Backtrace: =========\n/lib/x86_64-linux-gnu/libc.so.6(+0x7eb96)[0x7f0d74c52b96]\n/home/hsu/projects/gazebo_3.1_issue_866_pioneer_2dx/build_release/gazebo/physics/simbody/libgazebo_physics_simbody.so.3(_ZN6gazebo7physics16SimbodyCollisionD1Ev+0x3b)[0x7f0d719a361b]\n/home/hsu/projects/gazebo_3.1_issue_866_pioneer_2dx/build_release/gazebo/physics/simbody/libgazebo_physics_simbody.so.3(_ZN6gazebo7physics16SimbodyCollisionD0Ev+0x9)[0x7f0d719a3659]\n...\n~~~", "markup": "markdown", "html": "<p>using bounding sphere of a cylinder to calculate radius of a cylinder might be slightly complicated if the cylinder has finite height.  For this case, we get</p>\n<div class=\"codehilite\"><pre><span></span>$ ../build_release/test/integration/INTEGRATION_pioneer2dx --gtest_filter<span class=\"o\">=</span><span class=\"s2\">&quot;*/2&quot;</span>\nNote: Google Test <span class=\"nv\">filter</span> <span class=\"o\">=</span> */2\n<span class=\"o\">[==========]</span> Running <span class=\"m\">1</span> <span class=\"nb\">test</span> from <span class=\"m\">1</span> <span class=\"nb\">test</span> <span class=\"k\">case</span>.\n<span class=\"o\">[</span>----------<span class=\"o\">]</span> Global <span class=\"nb\">test</span> environment set-up.\n<span class=\"o\">[</span>----------<span class=\"o\">]</span> <span class=\"m\">1</span> <span class=\"nb\">test</span> from PhysicsEngines/Pioneer2dx\n<span class=\"o\">[</span> RUN      <span class=\"o\">]</span> PhysicsEngines/Pioneer2dx.StraightLine/2\n<span class=\"o\">[</span>Msg<span class=\"o\">]</span> Waiting <span class=\"k\">for</span> master.\n<span class=\"o\">[</span>Msg<span class=\"o\">]</span> Connected to gazebo master @ http://127.0.0.1:11345\n<span class=\"o\">[</span>Msg<span class=\"o\">]</span> Publicized address: <span class=\"m\">192</span>.168.1.162\n<span class=\"o\">[</span>Err<span class=\"o\">]</span> <span class=\"o\">[</span>SimbodyJoint.cc:386<span class=\"o\">]</span> SimbodyJoint::SetAnchor:  Not implement in Simbody. Anchor is <span class=\"nb\">set</span> during joint construction in SimbodyPhysics.cc\n<span class=\"o\">[</span>Dbg<span class=\"o\">]</span> <span class=\"o\">[</span>SimbodyHingeJoint.cc:55<span class=\"o\">]</span> SetAxis: setting axis is not yet implemented.  The axis are <span class=\"nb\">set</span>  during joint construction in SimbodyPhysics.cc <span class=\"k\">for</span> now.\n<span class=\"o\">[</span>Err<span class=\"o\">]</span> <span class=\"o\">[</span>SimbodyJoint.cc:386<span class=\"o\">]</span> SimbodyJoint::SetAnchor:  Not implement in Simbody. Anchor is <span class=\"nb\">set</span> during joint construction in SimbodyPhysics.cc\n<span class=\"o\">[</span>Dbg<span class=\"o\">]</span> <span class=\"o\">[</span>SimbodyHingeJoint.cc:55<span class=\"o\">]</span> SetAxis: setting axis is not yet implemented.  The axis are <span class=\"nb\">set</span>  during joint construction in SimbodyPhysics.cc <span class=\"k\">for</span> now.\n<span class=\"o\">[</span>Dbg<span class=\"o\">]</span> <span class=\"o\">[</span>ServerFixture.cc:144<span class=\"o\">]</span> ServerFixture load in <span class=\"m\">1</span>.2 seconds, timeout after <span class=\"m\">600</span> seconds\n<span class=\"o\">[</span>Err<span class=\"o\">]</span> <span class=\"o\">[</span>pioneer2dx.cc:66<span class=\"o\">]</span> Min<span class=\"o\">[</span>-0.112805 -0.112805 -0.112805<span class=\"o\">]</span> Max<span class=\"o\">[</span><span class=\"m\">0</span>.112805 <span class=\"m\">0</span>.112805 <span class=\"m\">0</span>.112805<span class=\"o\">]</span>\n/home/hsu/projects/gazebo_3.1_issue_866_pioneer_2dx/test/integration/pioneer2dx.cc:69: Failure\nThe difference between <span class=\"m\">0</span>.11 and wheelRadius is <span class=\"m\">0</span>.0028051417268048773, which exceeds 1e-3, where\n<span class=\"m\">0</span>.11 evaluates to <span class=\"m\">0</span>.11,\nwheelRadius evaluates to <span class=\"m\">0</span>.11280514172680488, and\n1e-3 evaluates to <span class=\"m\">0</span>.001.\nDist<span class=\"o\">[</span><span class=\"m\">4</span>.0202<span class=\"o\">]</span>\nEndPose.x<span class=\"o\">[</span><span class=\"m\">3</span>.58825<span class=\"o\">]</span>\n/home/hsu/projects/gazebo_3.1_issue_866_pioneer_2dx/test/integration/pioneer2dx.cc:102: Failure\nExpected: <span class=\"o\">(</span>fabs<span class=\"o\">(</span>endPose.pos.x - dist<span class=\"o\">))</span> &lt; <span class=\"o\">(</span><span class=\"m\">0</span>.1<span class=\"o\">)</span>, actual: <span class=\"m\">0</span>.431949 vs <span class=\"m\">0</span>.1\n<span class=\"o\">[</span>Dbg<span class=\"o\">]</span> <span class=\"o\">[</span>ServerFixture.cc:95<span class=\"o\">]</span> ServerFixture::Unload\n*** glibc detected *** ../build_release/test/integration/INTEGRATION_pioneer2dx: free<span class=\"o\">()</span>: invalid pointer: 0x00007f0d4d315238 ***\n<span class=\"o\">=======</span> Backtrace: <span class=\"o\">=========</span>\n/lib/x86_64-linux-gnu/libc.so.6<span class=\"o\">(</span>+0x7eb96<span class=\"o\">)[</span>0x7f0d74c52b96<span class=\"o\">]</span>\n/home/hsu/projects/gazebo_3.1_issue_866_pioneer_2dx/build_release/gazebo/physics/simbody/libgazebo_physics_simbody.so.3<span class=\"o\">(</span>_ZN6gazebo7physics16SimbodyCollisionD1Ev+0x3b<span class=\"o\">)[</span>0x7f0d719a361b<span class=\"o\">]</span>\n/home/hsu/projects/gazebo_3.1_issue_866_pioneer_2dx/build_release/gazebo/physics/simbody/libgazebo_physics_simbody.so.3<span class=\"o\">(</span>_ZN6gazebo7physics16SimbodyCollisionD0Ev+0x9<span class=\"o\">)[</span>0x7f0d719a3659<span class=\"o\">]</span>\n...\n</pre></div>", "type": "rendered"}, "created_on": "2014-06-21T01:15:01.135561+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": "2014-06-21T01:16:32.591632+00:00", "type": "pullrequest_comment", "id": 2200108}