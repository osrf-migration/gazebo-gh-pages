{"rendered": {"description": {"raw": "This bug turns out to be a problem with the screw constraint row's erp term (c[i]) being improperly scaled down by thread_pitch in gazebo_3.0 branch.  The fix here checks |thread_pitch|, if it's larger than 1.0, the screw constraint row is length scaled, otherwise the screw constraint row is angular scaled.  This way we avoid instability when |thread_pitch| is very large, and the numerical values lead to instability (my guess for instability here is that we are reaching doubles precision limits in some parts of the system).\r\n\r\nAlso, I've cleanup cumulative angle calculation, including a bug fix that changes joint's `cumulative_angle` state when querying for joint angle.", "markup": "markdown", "html": "<p>This bug turns out to be a problem with the screw constraint row's erp term (c[i]) being improperly scaled down by thread_pitch in gazebo_3.0 branch.  The fix here checks |thread_pitch|, if it's larger than 1.0, the screw constraint row is length scaled, otherwise the screw constraint row is angular scaled.  This way we avoid instability when |thread_pitch| is very large, and the numerical values lead to instability (my guess for instability here is that we are reaching doubles precision limits in some parts of the system).</p>\n<p>Also, I've cleanup cumulative angle calculation, including a bug fix that changes joint's <code>cumulative_angle</code> state when querying for joint angle.</p>", "type": "rendered"}, "title": {"raw": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting).", "markup": "markdown", "html": "<p>patch for issue <a href=\"#!/osrf/gazebo/issues/1167/pr2-screw-joint-test-failure-in-ode\" rel=\"nofollow\" title=\"pr2 screw joint test failure in ode\" class=\"ap-connect-link\"><s>#1167</s></a>, where pr2 screw joint is misbehaving (it's simply drifting).</p>", "type": "rendered"}}, "type": "pullrequest", "description": "This bug turns out to be a problem with the screw constraint row's erp term (c[i]) being improperly scaled down by thread_pitch in gazebo_3.0 branch.  The fix here checks |thread_pitch|, if it's larger than 1.0, the screw constraint row is length scaled, otherwise the screw constraint row is angular scaled.  This way we avoid instability when |thread_pitch| is very large, and the numerical values lead to instability (my guess for instability here is that we are reaching doubles precision limits in some parts of the system).\r\n\r\nAlso, I've cleanup cumulative angle calculation, including a bug fix that changes joint's `cumulative_angle` state when querying for joint angle.", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/pullrequests/1078/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diffstat/osrf/gazebo:114b0cf8fb7b%0D6736f2fa109f?from_pullrequest_id=1078"}, "commits": {"href": "data/repositories/osrf/gazebo/pullrequests/1078/commits.json"}, "self": {"href": "data/repositories/osrf/gazebo/pullrequests/1078.json"}, "comments": {"href": "data/repositories/osrf/gazebo/pullrequests/1078/comments_page=1.json"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/pullrequests/1078/merge"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1078"}, "activity": {"href": "data/repositories/osrf/gazebo/pullrequests/1078/activity.json"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:114b0cf8fb7b%0D6736f2fa109f?from_pullrequest_id=1078"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/pullrequests/1078/approve"}, "statuses": {"href": "data/repositories/osrf/gazebo/pullrequests/1078/statuses_page=1.json"}}, "title": "patch for issue #1167, where pr2 screw joint is misbehaving (it's simply drifting).", "close_source_branch": true, "reviewers": [], "id": 1078, "destination": {"commit": {"hash": "6736f2fa109f", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/6736f2fa109f.json"}, "html": {"href": "#!/osrf/gazebo/commits/6736f2fa109f"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo_3.0"}}, "created_on": "2014-04-24T21:23:15.649331+00:00", "summary": {"raw": "This bug turns out to be a problem with the screw constraint row's erp term (c[i]) being improperly scaled down by thread_pitch in gazebo_3.0 branch.  The fix here checks |thread_pitch|, if it's larger than 1.0, the screw constraint row is length scaled, otherwise the screw constraint row is angular scaled.  This way we avoid instability when |thread_pitch| is very large, and the numerical values lead to instability (my guess for instability here is that we are reaching doubles precision limits in some parts of the system).\r\n\r\nAlso, I've cleanup cumulative angle calculation, including a bug fix that changes joint's `cumulative_angle` state when querying for joint angle.", "markup": "markdown", "html": "<p>This bug turns out to be a problem with the screw constraint row's erp term (c[i]) being improperly scaled down by thread_pitch in gazebo_3.0 branch.  The fix here checks |thread_pitch|, if it's larger than 1.0, the screw constraint row is length scaled, otherwise the screw constraint row is angular scaled.  This way we avoid instability when |thread_pitch| is very large, and the numerical values lead to instability (my guess for instability here is that we are reaching doubles precision limits in some parts of the system).</p>\n<p>Also, I've cleanup cumulative angle calculation, including a bug fix that changes joint's <code>cumulative_angle</code> state when querying for joint angle.</p>", "type": "rendered"}, "source": {"commit": {"hash": "a59d640dbf34", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/a59d640dbf34.json"}, "html": {"href": "#!/osrf/gazebo/commits/a59d640dbf34"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "issue_1167_gazebo_3.0_pr2_screw_joint"}}, "comment_count": 22, "state": "MERGED", "task_count": 0, "participants": [{"role": "PARTICIPANT", "participated_on": "2014-05-02T19:42:04.044186+00:00", "type": "participant", "approved": true, "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}}, {"role": "PARTICIPANT", "participated_on": "2014-05-02T23:09:55.466717+00:00", "type": "participant", "approved": true, "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}}, {"role": "PARTICIPANT", "participated_on": "2014-05-02T22:55:05.344258+00:00", "type": "participant", "approved": false, "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}}], "reason": "", "updated_on": "2014-05-02T23:13:05.011514+00:00", "author": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "merge_commit": {"hash": "114b0cf8fb7b", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/114b0cf8fb7b.json"}, "html": {"href": "#!/osrf/gazebo/commits/114b0cf8fb7b"}}}, "closed_by": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}}