{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1770/comments/8051626.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/jlee02/gazebo_dart:None..None?path=gazebo%2Fphysics%2Fdart%2FDARTJoint.hh"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1770/_/diff#comment-8051626"}}, "parent": {"id": 8050996, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1770/comments/8050996.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1770/_/diff#comment-8050996"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1770, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1770.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1770"}}, "title": "PIMPL-ize DART classes"}, "content": {"raw": "I found two ways in Gazebo: (1) [making friends](#!/osrf/gazebo/src/82b3f2539fe8027b36dc6b32b12ed586da2dd8c1/gazebo/physics/World.hh?at=default#cl-481) and (2) using protected data pointer. \n\nAs a node: `Visual` has pointer to `VisualPrivate`, and `[~]Visual` classes use `[~]VisualPrivate` that inherit `VisualPrivate`. For example, `InertiaVisualPrivate` inherits `VisualPrivate`, and `VisualPrivate`. `[~]Visual` classes always cast the data pointer to corresponding type before it's used. But `DART[~]Joint` classes just use `DARTJointPrivate`, which contains `dart::dynamics::Joint` pointer, and cast `dart::dynamics::Joint` pointer to corresponding pointer type.\n\nPlease let me know which way is preferred. I'll follow it.", "markup": "markdown", "html": "<p>I found two ways in Gazebo: (1) <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/82b3f2539fe8027b36dc6b32b12ed586da2dd8c1/gazebo/physics/World.hh?at=default#cl-481\" rel=\"nofollow\">making friends</a> and (2) using protected data pointer. </p>\n<p>As a node: <code>Visual</code> has pointer to <code>VisualPrivate</code>, and <code>[~]Visual</code> classes use <code>[~]VisualPrivate</code> that inherit <code>VisualPrivate</code>. For example, <code>InertiaVisualPrivate</code> inherits <code>VisualPrivate</code>, and <code>VisualPrivate</code>. <code>[~]Visual</code> classes always cast the data pointer to corresponding type before it's used. But <code>DART[~]Joint</code> classes just use <code>DARTJointPrivate</code>, which contains <code>dart::dynamics::Joint</code> pointer, and cast <code>dart::dynamics::Joint</code> pointer to corresponding pointer type.</p>\n<p>Please let me know which way is preferred. I'll follow it.</p>", "type": "rendered"}, "created_on": "2015-07-07T00:35:22.847967+00:00", "user": {"display_name": "Jeongseok Lee", "uuid": "{3907b560-aed7-43bd-bfa9-fd9873322291}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3907b560-aed7-43bd-bfa9-fd9873322291%7D"}, "html": {"href": "https://bitbucket.org/%7B3907b560-aed7-43bd-bfa9-fd9873322291%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/242819b368397b2b4cddf273b2ba9bf8d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJL-0.png"}}, "nickname": "jlee02", "type": "user", "account_id": "557058:e3fbdece-a1d8-4fb6-a9f1-236ecb09bd9d"}, "inline": {"to": null, "from": null, "outdated": false, "path": "gazebo/physics/dart/DARTJoint.hh"}, "updated_on": "2015-07-07T00:35:22.853342+00:00", "type": "pullrequest_comment", "id": 8051626}