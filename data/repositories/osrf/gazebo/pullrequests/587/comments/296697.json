{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/587/comments/296697.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/587/_/diff#comment-296697"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 587, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/587.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/587"}}, "title": "Reduce the amount of data sent to LogRecord"}, "content": {"raw": "for reference:\nrunning `vrc_task_2.launch` without compression (`txt` option) with `pub_atlas_command_fast` for 30 minutes sim time produces a 29GB `state.log`.\n\n~~~\n-rw-rw-r--  1 ubuntu ubuntu       74007 Jun  7 03:12 score.log\n-rw-rw-r--  1 ubuntu ubuntu 30876491147 Jun  7 03:12 state.log\n~~~\n\ncompressing on SL sim machine takes about 3 minutes:\n~~~\nubuntu@sim-48:/tmp/vrc_task_2$ time pigz state.log\n\nreal    3m10.070s\nuser    18m45.490s\nsys     0m36.226s\n~~~\n\nResulting file is about 4GB:\n\n~~~\n-rw-rw-r--  1 ubuntu ubuntu  73K Jun  7 03:12 score.log\n-rw-rw-r--  1 ubuntu ubuntu 4.1G Jun  7 03:12 state.log.gz\n~~~\n\nDecompression takes about 5 minutes:\n\n~~~\nubuntu@sim-48:/tmp/vrc_task_2$ time pigz -d state.log.gz \n\nreal    5m41.189s\nuser    1m44.515s\nsys     0m30.278s\n~~~\n", "markup": "markdown", "html": "<p>for reference:\nrunning <code>vrc_task_2.launch</code> without compression (<code>txt</code> option) with <code>pub_atlas_command_fast</code> for 30 minutes sim time produces a 29GB <code>state.log</code>.</p>\n<div class=\"codehilite\"><pre><span></span>-rw-rw-r--  1 ubuntu ubuntu       74007 Jun  7 03:12 score.log\n-rw-rw-r--  1 ubuntu ubuntu 30876491147 Jun  7 03:12 state.log\n</pre></div>\n\n\n<p>compressing on SL sim machine takes about 3 minutes:</p>\n<div class=\"codehilite\"><pre><span></span>ubuntu@sim-48:/tmp/vrc_task_2$ time pigz state.log\n\nreal    3m10.070s\nuser    18m45.490s\nsys     0m36.226s\n</pre></div>\n\n\n<p>Resulting file is about 4GB:</p>\n<div class=\"codehilite\"><pre><span></span>-rw-rw-r--  1 ubuntu ubuntu  73K Jun  7 03:12 score.log\n-rw-rw-r--  1 ubuntu ubuntu 4.1G Jun  7 03:12 state.log.gz\n</pre></div>\n\n\n<p>Decompression takes about 5 minutes:</p>\n<div class=\"codehilite\"><pre><span></span>ubuntu@sim-48:/tmp/vrc_task_2$ time pigz -d state.log.gz \n\nreal    5m41.189s\nuser    1m44.515s\nsys     0m30.278s\n</pre></div>", "type": "rendered"}, "created_on": "2013-06-07T08:36:56.063037+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": "2013-06-07T08:36:56.075332+00:00", "type": "pullrequest_comment", "id": 296697}