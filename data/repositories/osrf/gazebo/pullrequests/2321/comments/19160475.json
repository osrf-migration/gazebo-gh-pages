{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2321/comments/19160475.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/ocrave/gazebo:32e6a33dfe60..d34567662a97?path=gazebo%2Fgazebo_main.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2321/_/diff#comment-19160475"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2321, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2321.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2321"}}, "title": "Make sure gzclient is stopped first, before killing gzserver"}, "content": {"raw": "As a minor note (no action required), I noticed that this `if` condition is equivalent to an `else` on the previous block.\n\nAn alternate form could be:\n\n~~~\nfor (...)\n{\n  if (_killed)\n  {\n    break;\n  }\n  else\n  {\n    int p = waitpid(...);\n    ...\n  }\n  // Sleep briefly\n  gazebo::common::Time::Sleep(...);\n}\n~~~\n\nI'll leave it up to you if you think one form is more readable or preferable.", "markup": "markdown", "html": "<p>As a minor note (no action required), I noticed that this <code>if</code> condition is equivalent to an <code>else</code> on the previous block.</p>\n<p>An alternate form could be:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">for</span> <span class=\"o\">(...)</span>\n<span class=\"p\">{</span>\n  <span class=\"err\">if</span> <span class=\"err\">(_killed)</span>\n  <span class=\"err\">{</span>\n    <span class=\"err\">break</span><span class=\"p\">;</span>\n  <span class=\"p\">}</span>\n  <span class=\"nt\">else</span>\n  <span class=\"p\">{</span>\n    <span class=\"err\">int</span> <span class=\"err\">p</span> <span class=\"err\">=</span> <span class=\"err\">waitpid(...)</span><span class=\"p\">;</span>\n    <span class=\"err\">...</span>\n  <span class=\"p\">}</span>\n  <span class=\"o\">//</span> <span class=\"nt\">Sleep</span> <span class=\"nt\">briefly</span>\n  <span class=\"nt\">gazebo</span><span class=\"p\">::</span><span class=\"nd\">common</span><span class=\"p\">::</span><span class=\"nd\">Time</span><span class=\"p\">::</span><span class=\"nd\">Sleep</span><span class=\"o\">(...);</span>\n<span class=\"err\">}</span>\n</pre></div>\n\n\n<p>I'll leave it up to you if you think one form is more readable or preferable.</p>", "type": "rendered"}, "created_on": "2016-05-31T23:41:19.049495+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {"to": 96, "from": null, "outdated": true, "path": "gazebo/gazebo_main.cc"}, "updated_on": "2016-05-31T23:41:19.055016+00:00", "type": "pullrequest_comment", "id": 19160475}