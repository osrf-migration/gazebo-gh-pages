{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1949/comments/10949118.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/michael_deleo/gazebo:None..None?path=gazebo%2Fgui%2FConfigWidget.hh"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1949/_/diff#comment-10949118"}}, "parent": {"id": 10948821, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1949/comments/10948821.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1949/_/diff#comment-10948821"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1949, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1949.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1949"}}, "title": "Density property in link inspector"}, "content": {"raw": "Maybe we can handle the coordination between the different config widgets from the link inspector? The link inspector can listen to density changes in its `LinkConfig` and update mass and inertia based on its  `CollisionConfig`. \n\nSomething like this:\n\n~~~\nLinkInspector::LinkInspector(QWidget *_parent) : QDialog(_parent)\n{\n  ...\n  connect(this->dataPtr->linkConfig,\n        SIGNAL(DensityValueChanged(const QString &, const double &)), this,\n        SLOT(OnDensityChanged(const QString &, const double &)));\n}\n\nLinkInspector::OnDensityChanged(const QString &/*_name*/, const double &_value)\n{\n  // Get geometry from collision configs\n  this->dataPtr->collisionConfig->GetConfigData()\n  ...\n  // Update mass and inertia\n  this->dataPtr->linkConfig->SetDoubleWidgetValue(\"inertial::mass\", mass);\n  ...\n}\n~~~\n\n", "markup": "markdown", "html": "<p>Maybe we can handle the coordination between the different config widgets from the link inspector? The link inspector can listen to density changes in its <code>LinkConfig</code> and update mass and inertia based on its  <code>CollisionConfig</code>. </p>\n<p>Something like this:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">LinkInspector</span><span class=\"p\">::</span><span class=\"nd\">LinkInspector</span><span class=\"o\">(</span><span class=\"nt\">QWidget</span> <span class=\"o\">*</span><span class=\"nt\">_parent</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"nt\">QDialog</span><span class=\"o\">(</span><span class=\"nt\">_parent</span><span class=\"o\">)</span>\n<span class=\"p\">{</span>\n  <span class=\"err\">...</span>\n  <span class=\"err\">connect(this-&gt;dataPtr-&gt;linkConfig,</span>\n        <span class=\"err\">SIGNAL(DensityValueChanged(const</span> <span class=\"err\">QString</span> <span class=\"err\">&amp;,</span> <span class=\"err\">const</span> <span class=\"err\">double</span> <span class=\"err\">&amp;)),</span> <span class=\"err\">this,</span>\n        <span class=\"err\">SLOT(OnDensityChanged(const</span> <span class=\"err\">QString</span> <span class=\"err\">&amp;,</span> <span class=\"err\">const</span> <span class=\"err\">double</span> <span class=\"err\">&amp;)))</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"nt\">LinkInspector</span><span class=\"p\">::</span><span class=\"nd\">OnDensityChanged</span><span class=\"o\">(</span><span class=\"nt\">const</span> <span class=\"nt\">QString</span> <span class=\"o\">&amp;</span><span class=\"c\">/*_name*/</span><span class=\"o\">,</span> <span class=\"nt\">const</span> <span class=\"nt\">double</span> <span class=\"o\">&amp;</span><span class=\"nt\">_value</span><span class=\"o\">)</span>\n<span class=\"p\">{</span>\n  <span class=\"err\">//</span> <span class=\"err\">Get</span> <span class=\"err\">geometry</span> <span class=\"err\">from</span> <span class=\"err\">collision</span> <span class=\"err\">configs</span>\n  <span class=\"err\">this-&gt;dataPtr-&gt;collisionConfig-&gt;GetConfigData()</span>\n  <span class=\"err\">...</span>\n  <span class=\"err\">//</span> <span class=\"err\">Update</span> <span class=\"err\">mass</span> <span class=\"err\">and</span> <span class=\"err\">inertia</span>\n  <span class=\"err\">this-&gt;dataPtr-&gt;linkConfig-&gt;SetDoubleWidgetValue(&quot;</span><span class=\"n\">inertial</span><span class=\"p\">:</span><span class=\"o\">:</span><span class=\"n\">mass</span><span class=\"err\">&quot;</span><span class=\"p\">,</span> <span class=\"n\">mass</span><span class=\"p\">);</span>\n  <span class=\"err\">...</span>\n<span class=\"p\">}</span>\n</pre></div>", "type": "rendered"}, "created_on": "2015-10-20T00:38:29.636521+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {"to": null, "from": null, "outdated": false, "path": "gazebo/gui/ConfigWidget.hh"}, "updated_on": "2015-10-20T00:38:29.638831+00:00", "type": "pullrequest_comment", "id": 10949118}