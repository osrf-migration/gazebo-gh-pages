{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/544/comments/269395.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/544/_/diff#comment-269395"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 544, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/544.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/544"}}, "title": "Lots of performance improvements"}, "content": {"raw": "I get an exception in gzclient when deleting a model via gui\n\n\n```\n#!c++\nQt has caught an exception thrown from an event handler. Throwing\nexceptions from an event handler is not supported in Qt. You must\nreimplement QApplication::notify() and catch all exceptions there.\n\nterminate called after throwing an instance of 'boost::exception_detail::clone_impl<boost::exception_detail::error_info_injector<boost::bad_lexical_cast> >'\n  what():  bad lexical cast: source type value could not be interpreted as target\n\nProgram received signal SIGABRT, Aborted.\n0x00007ffff3904425 in raise () from /lib/x86_64-linux-gnu/libc.so.6\n(gdb) bt\n#0  0x00007ffff3904425 in raise () from /lib/x86_64-linux-gnu/libc.so.6\n#1  0x00007ffff3907b8b in abort () from /lib/x86_64-linux-gnu/libc.so.6\n#2  0x00007ffff425669d in __gnu_cxx::__verbose_terminate_handler() ()\n   from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#3  0x00007ffff4254846 in ?? () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#4  0x00007ffff4254873 in std::terminate() ()\n   from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#5  0x00007ffff42549b6 in __cxa_rethrow ()\n   from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#6  0x00007ffff55f716c in QEventLoop::exec(QFlags<QEventLoop::ProcessEventsFlag>) ()\n   from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#7  0x00007ffff55fbf67 in QCoreApplication::exec() ()\n   from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#8  0x00000000004abc6c in gazebo::gui::run (_argc=1, _argv=0x7fffffffce68)\n    at /home/ian/depot/clones/gazebo5/gazebo/gui/Gui.cc:200\n#9  0x000000000048ae59 in main (_argc=<optimized out>, _argv=<optimized out>)\n    at /home/ian/depot/clones/gazebo5/gazebo/gui/main.cc:23\n(gdb)\n```", "markup": "markdown", "html": "<p>I get an exception in gzclient when deleting a model via gui</p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"n\">Qt</span> <span class=\"n\">has</span> <span class=\"n\">caught</span> <span class=\"n\">an</span> <span class=\"n\">exception</span> <span class=\"n\">thrown</span> <span class=\"n\">from</span> <span class=\"n\">an</span> <span class=\"n\">event</span> <span class=\"n\">handler</span><span class=\"p\">.</span> <span class=\"n\">Throwing</span>\n<span class=\"n\">exceptions</span> <span class=\"n\">from</span> <span class=\"n\">an</span> <span class=\"n\">event</span> <span class=\"n\">handler</span> <span class=\"n\">is</span> <span class=\"n\">not</span> <span class=\"n\">supported</span> <span class=\"n\">in</span> <span class=\"n\">Qt</span><span class=\"p\">.</span> <span class=\"n\">You</span> <span class=\"n\">must</span>\n<span class=\"n\">reimplement</span> <span class=\"n\">QApplication</span><span class=\"o\">::</span><span class=\"n\">notify</span><span class=\"p\">()</span> <span class=\"n\">and</span> <span class=\"k\">catch</span> <span class=\"n\">all</span> <span class=\"n\">exceptions</span> <span class=\"n\">there</span><span class=\"p\">.</span>\n\n<span class=\"n\">terminate</span> <span class=\"n\">called</span> <span class=\"n\">after</span> <span class=\"n\">throwing</span> <span class=\"n\">an</span> <span class=\"n\">instance</span> <span class=\"n\">of</span> <span class=\"err\">&#39;</span><span class=\"n\">boost</span><span class=\"o\">::</span><span class=\"n\">exception_detail</span><span class=\"o\">::</span><span class=\"n\">clone_impl</span><span class=\"o\">&lt;</span><span class=\"n\">boost</span><span class=\"o\">::</span><span class=\"n\">exception_detail</span><span class=\"o\">::</span><span class=\"n\">error_info_injector</span><span class=\"o\">&lt;</span><span class=\"n\">boost</span><span class=\"o\">::</span><span class=\"n\">bad_lexical_cast</span><span class=\"o\">&gt;</span> <span class=\"o\">&gt;</span><span class=\"err\">&#39;</span>\n  <span class=\"n\">what</span><span class=\"p\">()</span><span class=\"o\">:</span>  <span class=\"n\">bad</span> <span class=\"n\">lexical</span> <span class=\"nl\">cast</span><span class=\"p\">:</span> <span class=\"n\">source</span> <span class=\"n\">type</span> <span class=\"n\">value</span> <span class=\"n\">could</span> <span class=\"n\">not</span> <span class=\"n\">be</span> <span class=\"n\">interpreted</span> <span class=\"n\">as</span> <span class=\"n\">target</span>\n\n<span class=\"n\">Program</span> <span class=\"n\">received</span> <span class=\"n\">signal</span> <span class=\"n\">SIGABRT</span><span class=\"p\">,</span> <span class=\"n\">Aborted</span><span class=\"p\">.</span>\n<span class=\"mh\">0x00007ffff3904425</span> <span class=\"n\">in</span> <span class=\"n\">raise</span> <span class=\"p\">()</span> <span class=\"n\">from</span> <span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"o\">/</span><span class=\"n\">x86_64</span><span class=\"o\">-</span><span class=\"n\">linux</span><span class=\"o\">-</span><span class=\"n\">gnu</span><span class=\"o\">/</span><span class=\"n\">libc</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"mf\">.6</span>\n<span class=\"p\">(</span><span class=\"n\">gdb</span><span class=\"p\">)</span> <span class=\"n\">bt</span>\n<span class=\"cp\">#0  0x00007ffff3904425 in raise () from /lib/x86_64-linux-gnu/libc.so.6</span>\n<span class=\"cp\">#1  0x00007ffff3907b8b in abort () from /lib/x86_64-linux-gnu/libc.so.6</span>\n<span class=\"cp\">#2  0x00007ffff425669d in __gnu_cxx::__verbose_terminate_handler() ()</span>\n   <span class=\"n\">from</span> <span class=\"o\">/</span><span class=\"n\">usr</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"o\">/</span><span class=\"n\">x86_64</span><span class=\"o\">-</span><span class=\"n\">linux</span><span class=\"o\">-</span><span class=\"n\">gnu</span><span class=\"o\">/</span><span class=\"n\">libstdc</span><span class=\"o\">++</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"mf\">.6</span>\n<span class=\"cp\">#3  0x00007ffff4254846 in ?? () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6</span>\n<span class=\"cp\">#4  0x00007ffff4254873 in std::terminate() ()</span>\n   <span class=\"n\">from</span> <span class=\"o\">/</span><span class=\"n\">usr</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"o\">/</span><span class=\"n\">x86_64</span><span class=\"o\">-</span><span class=\"n\">linux</span><span class=\"o\">-</span><span class=\"n\">gnu</span><span class=\"o\">/</span><span class=\"n\">libstdc</span><span class=\"o\">++</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"mf\">.6</span>\n<span class=\"cp\">#5  0x00007ffff42549b6 in __cxa_rethrow ()</span>\n   <span class=\"n\">from</span> <span class=\"o\">/</span><span class=\"n\">usr</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"o\">/</span><span class=\"n\">x86_64</span><span class=\"o\">-</span><span class=\"n\">linux</span><span class=\"o\">-</span><span class=\"n\">gnu</span><span class=\"o\">/</span><span class=\"n\">libstdc</span><span class=\"o\">++</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"mf\">.6</span>\n<span class=\"cp\">#6  0x00007ffff55f716c in QEventLoop::exec(QFlags&lt;QEventLoop::ProcessEventsFlag&gt;) ()</span>\n   <span class=\"n\">from</span> <span class=\"o\">/</span><span class=\"n\">usr</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"o\">/</span><span class=\"n\">x86_64</span><span class=\"o\">-</span><span class=\"n\">linux</span><span class=\"o\">-</span><span class=\"n\">gnu</span><span class=\"o\">/</span><span class=\"n\">libQtCore</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"mf\">.4</span>\n<span class=\"cp\">#7  0x00007ffff55fbf67 in QCoreApplication::exec() ()</span>\n   <span class=\"n\">from</span> <span class=\"o\">/</span><span class=\"n\">usr</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"o\">/</span><span class=\"n\">x86_64</span><span class=\"o\">-</span><span class=\"n\">linux</span><span class=\"o\">-</span><span class=\"n\">gnu</span><span class=\"o\">/</span><span class=\"n\">libQtCore</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"mf\">.4</span>\n<span class=\"cp\">#8  0x00000000004abc6c in gazebo::gui::run (_argc=1, _argv=0x7fffffffce68)</span>\n    <span class=\"n\">at</span> <span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">ian</span><span class=\"o\">/</span><span class=\"n\">depot</span><span class=\"o\">/</span><span class=\"n\">clones</span><span class=\"o\">/</span><span class=\"n\">gazebo5</span><span class=\"o\">/</span><span class=\"n\">gazebo</span><span class=\"o\">/</span><span class=\"n\">gui</span><span class=\"o\">/</span><span class=\"n\">Gui</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">200</span>\n<span class=\"cp\">#9  0x000000000048ae59 in main (_argc=&lt;optimized out&gt;, _argv=&lt;optimized out&gt;)</span>\n    <span class=\"n\">at</span> <span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">ian</span><span class=\"o\">/</span><span class=\"n\">depot</span><span class=\"o\">/</span><span class=\"n\">clones</span><span class=\"o\">/</span><span class=\"n\">gazebo5</span><span class=\"o\">/</span><span class=\"n\">gazebo</span><span class=\"o\">/</span><span class=\"n\">gui</span><span class=\"o\">/</span><span class=\"n\">main</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">23</span>\n<span class=\"p\">(</span><span class=\"n\">gdb</span><span class=\"p\">)</span>\n</pre></div>", "type": "rendered"}, "created_on": "2013-05-23T23:38:27.891449+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2013-05-23T23:38:27.901832+00:00", "type": "pullrequest_comment", "id": 269395}