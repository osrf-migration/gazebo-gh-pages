{"pagelen": 50, "values": [{"update": {"description": "This pull request fixes issue #1011 and cleans up large parts of the physics/dart implementation. I apologize for the large size of the diff, but most of it is just wiping away redundant function implementations and centralizing them into DARTJoint.\r\n\r\nThe actual problem that caused issue #1011 was only tangentially related to the Universal Joint. The ``UniversalJointForce`` test runs through a set of loops where each loop aims to test the internal consistency of the Universal Joint behavior with a model that contains two universal joints in sequence. The very last test was failing because the loop before it assumed that the joint positions of the two universal joints were being driven to all zero position and velocity, because it clamped the lower and upper position limits to zero. However, DART does not behave like this (by design). In DART, when a position limit is violated, it simply prevents the joint from moving any further in that direction (and computes the joint forces necessary to ensure this); it does not drive the joint position back to the limit value. Therefore, since the initial joint position was outside of the limits, DART did not drive it down to zero as the test was expecting.\r\n\r\nOn another note, the final test loop was a little bit ill-conceived. It assumed that the sum of the universal joint angles for each component could be summed to get the Euler angles of the final link's world-frame rotation. This would only be true if each joint has only one non-zero position component and the axes of those non-zero position components are parallel to each other. I tweaked the test to reflect these conditions.", "title": "Fix Issue 1011 -- DARTUniversalJoint", "destination": {"commit": {"hash": "6dd3ea7938b7", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/6dd3ea7938b7.json"}, "html": {"href": "#!/osrf/gazebo/commits/6dd3ea7938b7"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "c46b196e84ba", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/mxgrey/gazebo/commit/c46b196e84ba"}, "html": {"href": "https://bitbucket.org/mxgrey/gazebo/commits/c46b196e84ba"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/mxgrey/gazebo"}, "html": {"href": "https://bitbucket.org/mxgrey/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{db441b9a-5483-4728-b3af-1135ccc99e42}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "mxgrey/gazebo", "uuid": "{db441b9a-5483-4728-b3af-1135ccc99e42}"}, "branch": {"name": "Issue_1011_DARTUniversalJoint"}}, "state": "MERGED", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2017-08-18T00:54:37.755551+00:00"}, "pull_request": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}}, {"approval": {"date": "2017-08-18T00:49:31.793336+00:00", "pullrequest": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}, "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}}, "pull_request": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/43063112.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-43063112"}}, "parent": {"id": 43056944, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/43056944.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-43056944"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}, "content": {"raw": "I noticed that the factory test failed to complete, but I don't think it's related to this pull request. I filed an issue for it: #2334", "markup": "markdown", "html": "<p>I noticed that the factory test failed to complete, but I don't think it's related to this pull request. I filed an issue for it: <a href=\"#!/osrf/gazebo/issues/2334/physicsengines-factorytestcylinder-3-dart\" rel=\"nofollow\" title=\"PhysicsEngines/FactoryTest.Cylinder/3 (dart) test time can vary widely\" class=\"ap-connect-link\">#2334</a></p>", "type": "rendered"}, "created_on": "2017-08-18T00:49:27.120882+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-08-18T00:49:27.124018+00:00", "type": "pullrequest_comment", "id": 43063112}, "pull_request": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}}, {"approval": {"date": "2017-08-18T00:43:28.640483+00:00", "pullrequest": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}, "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}}, "pull_request": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/43062469.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-43062469"}}, "parent": {"id": 43056944, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/43056944.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-43056944"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}, "content": {"raw": "there's a compiler warning, but I think it's fixed in pull request #2756", "markup": "markdown", "html": "<p>there's a compiler warning, but I think it's fixed in <a href=\"#!/osrf/gazebo/pull-requests/2756/dart-kinematic-loops\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #2756</a></p>", "type": "rendered"}, "created_on": "2017-08-18T00:27:08.345511+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-08-18T00:27:08.347600+00:00", "type": "pullrequest_comment", "id": 43062469}, "pull_request": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/43056944.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-43056944"}}, "parent": {"id": 43054237, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/43054237.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-43054237"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}, "content": {"raw": "started a new build\n\n* https://build.osrfoundation.org/view/upstream-dart/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/39/", "markup": "markdown", "html": "<p>started a new build</p>\n<ul>\n<li><a href=\"https://build.osrfoundation.org/view/upstream-dart/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/39/\" rel=\"nofollow\" class=\"ap-connect-link\">https://build.osrfoundation.org/view/upstream-dart/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/39/</a></li>\n</ul>", "type": "rendered"}, "created_on": "2017-08-17T21:46:21.973684+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "updated_on": "2017-08-17T21:46:21.976501+00:00", "type": "pullrequest_comment", "id": 43056944}, "pull_request": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/43056864.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-43056864"}}, "parent": {"id": 42054727, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/42054727.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-42054727"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}, "content": {"raw": "+1 for getNumDofs() for making the ball joint limits work now", "markup": "markdown", "html": "<p>+1 for getNumDofs() for making the ball joint limits work now</p>", "type": "rendered"}, "created_on": "2017-08-17T21:44:40.313896+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "updated_on": "2017-08-17T21:44:40.316599+00:00", "type": "pullrequest_comment", "id": 43056864}, "pull_request": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/43056557.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-43056557"}}, "parent": {"id": 43054232, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/43054232.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-43054232"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}, "content": {"raw": "Done in c46b196", "markup": "markdown", "html": "<p>Done in <a href=\"#!/osrf/gazebo/commits/c46b196\" rel=\"nofollow\" class=\"ap-connect-link\">c46b196</a></p>", "type": "rendered"}, "created_on": "2017-08-17T21:37:05.983209+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {}, "updated_on": "2017-08-17T21:37:05.985699+00:00", "type": "pullrequest_comment", "id": 43056557}, "pull_request": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}}, {"update": {"description": "This pull request fixes issue #1011 and cleans up large parts of the physics/dart implementation. I apologize for the large size of the diff, but most of it is just wiping away redundant function implementations and centralizing them into DARTJoint.\r\n\r\nThe actual problem that caused issue #1011 was only tangentially related to the Universal Joint. The ``UniversalJointForce`` test runs through a set of loops where each loop aims to test the internal consistency of the Universal Joint behavior with a model that contains two universal joints in sequence. The very last test was failing because the loop before it assumed that the joint positions of the two universal joints were being driven to all zero position and velocity, because it clamped the lower and upper position limits to zero. However, DART does not behave like this (by design). In DART, when a position limit is violated, it simply prevents the joint from moving any further in that direction (and computes the joint forces necessary to ensure this); it does not drive the joint position back to the limit value. Therefore, since the initial joint position was outside of the limits, DART did not drive it down to zero as the test was expecting.\r\n\r\nOn another note, the final test loop was a little bit ill-conceived. It assumed that the sum of the universal joint angles for each component could be summed to get the Euler angles of the final link's world-frame rotation. This would only be true if each joint has only one non-zero position component and the axes of those non-zero position components are parallel to each other. I tweaked the test to reflect these conditions.", "title": "Fix Issue 1011 -- DARTUniversalJoint", "destination": {"commit": {"hash": "2c58f1f33766", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/2c58f1f33766.json"}, "html": {"href": "#!/osrf/gazebo/commits/2c58f1f33766"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "c46b196e84ba", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/mxgrey/gazebo/commit/c46b196e84ba"}, "html": {"href": "https://bitbucket.org/mxgrey/gazebo/commits/c46b196e84ba"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/mxgrey/gazebo"}, "html": {"href": "https://bitbucket.org/mxgrey/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{db441b9a-5483-4728-b3af-1135ccc99e42}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "mxgrey/gazebo", "uuid": "{db441b9a-5483-4728-b3af-1135ccc99e42}"}, "branch": {"name": "Issue_1011_DARTUniversalJoint"}}, "state": "OPEN", "author": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "date": "2017-08-17T21:36:46.479760+00:00"}, "pull_request": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/43055337.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-43055337"}}, "parent": {"id": 43054833, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/43054833.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-43054833"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}, "content": {"raw": "I see. Matching `Joint.hh` makes sense.", "markup": "markdown", "html": "<p>I see. Matching <code>Joint.hh</code> makes sense.</p>", "type": "rendered"}, "created_on": "2017-08-17T21:14:38.224574+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "inline": {}, "updated_on": "2017-08-17T21:14:38.227544+00:00", "type": "pullrequest_comment", "id": 43055337}, "pull_request": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/43054833.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-43054833"}}, "parent": {"id": 43054085, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/43054085.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-43054085"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}, "content": {"raw": "I changed them to match `gazebo/physics/Joint.hh` because I was trying to understand what `DARTJoint` was and was not implementing from `Joint`, which was really difficult to parse when the functions were randomly scattered throughout the definition.\n\nI considered changing `gazebo/physics/Joint.cc` to match, but I was worried that would make the PR much much bigger and more difficult to review.", "markup": "markdown", "html": "<p>I changed them to match <code>gazebo/physics/Joint.hh</code> because I was trying to understand what <code>DARTJoint</code> was and was not implementing from <code>Joint</code>, which was really difficult to parse when the functions were randomly scattered throughout the definition.</p>\n<p>I considered changing <code>gazebo/physics/Joint.cc</code> to match, but I was worried that would make the PR much much bigger and more difficult to review.</p>", "type": "rendered"}, "created_on": "2017-08-17T21:05:10.898282+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {}, "updated_on": "2017-08-17T21:05:10.900377+00:00", "type": "pullrequest_comment", "id": 43054833}, "pull_request": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/43054237.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-43054237"}}, "parent": {"id": 42166983, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/42166983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-42166983"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}, "content": {"raw": "I unapproved until we can reconfirm jenkins results with the latest changes.", "markup": "markdown", "html": "<p>I unapproved until we can reconfirm jenkins results with the latest changes.</p>", "type": "rendered"}, "created_on": "2017-08-17T20:54:47.058696+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-08-17T20:54:47.061682+00:00", "type": "pullrequest_comment", "id": 43054237}, "pull_request": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/43054232.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-43054232"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}, "content": {"raw": "Could `G/SetVelocity` use the same approach as `PositionImpl`?", "markup": "markdown", "html": "<p>Could <code>G/SetVelocity</code> use the same approach as <code>PositionImpl</code>?</p>", "type": "rendered"}, "created_on": "2017-08-17T20:54:42.233253+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "inline": {}, "updated_on": "2017-08-17T20:54:42.236044+00:00", "type": "pullrequest_comment", "id": 43054232}, "pull_request": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/43054085.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-43054085"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}, "content": {"raw": "Is there a reason you change the order of a bunch of the function declarations? It looks like they don't end up in the same order as the .cc file.", "markup": "markdown", "html": "<p>Is there a reason you change the order of a bunch of the function declarations? It looks like they don't end up in the same order as the .cc file.</p>", "type": "rendered"}, "created_on": "2017-08-17T20:52:28.847877+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "inline": {}, "updated_on": "2017-08-17T20:52:28.850428+00:00", "type": "pullrequest_comment", "id": 43054085}, "pull_request": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/43053964.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-43053964"}}, "parent": {"id": 43053410, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/43053410.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-43053410"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}, "content": {"raw": "I only meant to lock one axis of the second joint, but I see your point", "markup": "markdown", "html": "<p>I only meant to lock one axis of the second joint, but I see your point</p>", "type": "rendered"}, "created_on": "2017-08-17T20:50:44.666730+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "inline": {}, "updated_on": "2017-08-17T20:50:44.668949+00:00", "type": "pullrequest_comment", "id": 43053964}, "pull_request": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/43053613.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-43053613"}}, "parent": {"id": 43040760, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/43040760.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-43040760"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}, "content": {"raw": "Tweaked in 1a49f1d", "markup": "markdown", "html": "<p>Tweaked in <a href=\"#!/osrf/gazebo/commits/1a49f1d\" rel=\"nofollow\" class=\"ap-connect-link\">1a49f1d</a></p>", "type": "rendered"}, "created_on": "2017-08-17T20:44:32.155045+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {}, "updated_on": "2017-08-17T20:44:32.157422+00:00", "type": "pullrequest_comment", "id": 43053613}, "pull_request": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/43053599.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-43053599"}}, "parent": {"id": 43040812, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/43040812.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-43040812"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}, "content": {"raw": "Tweaked in 1a49f1d", "markup": "markdown", "html": "<p>Tweaked in <a href=\"#!/osrf/gazebo/commits/1a49f1d\" rel=\"nofollow\" class=\"ap-connect-link\">1a49f1d</a></p>", "type": "rendered"}, "created_on": "2017-08-17T20:44:21.658559+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {}, "updated_on": "2017-08-17T20:44:21.661658+00:00", "type": "pullrequest_comment", "id": 43053599}, "pull_request": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/43053584.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-43053584"}}, "parent": {"id": 43045359, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/43045359.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-43045359"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}, "content": {"raw": "Removed in 1a49f1d", "markup": "markdown", "html": "<p>Removed in <a href=\"#!/osrf/gazebo/commits/1a49f1d\" rel=\"nofollow\" class=\"ap-connect-link\">1a49f1d</a></p>", "type": "rendered"}, "created_on": "2017-08-17T20:44:00.975749+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {}, "updated_on": "2017-08-17T20:44:00.979315+00:00", "type": "pullrequest_comment", "id": 43053584}, "pull_request": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/43053576.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-43053576"}}, "parent": {"id": 43045380, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/43045380.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-43045380"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}, "content": {"raw": "Removed in 1a49f1d", "markup": "markdown", "html": "<p>Removed in <a href=\"#!/osrf/gazebo/commits/1a49f1d\" rel=\"nofollow\" class=\"ap-connect-link\">1a49f1d</a></p>", "type": "rendered"}, "created_on": "2017-08-17T20:43:55.190614+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {}, "updated_on": "2017-08-17T20:43:55.193677+00:00", "type": "pullrequest_comment", "id": 43053576}, "pull_request": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/43053568.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-43053568"}}, "parent": {"id": 43045397, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/43045397.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-43045397"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}, "content": {"raw": "Removed in 1a49f1d", "markup": "markdown", "html": "<p>Removed in <a href=\"#!/osrf/gazebo/commits/1a49f1d\" rel=\"nofollow\" class=\"ap-connect-link\">1a49f1d</a></p>", "type": "rendered"}, "created_on": "2017-08-17T20:43:49.201516+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {}, "updated_on": "2017-08-17T20:43:49.203895+00:00", "type": "pullrequest_comment", "id": 43053568}, "pull_request": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/43053565.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-43053565"}}, "parent": {"id": 43045442, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/43045442.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-43045442"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}, "content": {"raw": "Removed in 1a49f1d", "markup": "markdown", "html": "<p>Removed in <a href=\"#!/osrf/gazebo/commits/1a49f1d\" rel=\"nofollow\" class=\"ap-connect-link\">1a49f1d</a></p>", "type": "rendered"}, "created_on": "2017-08-17T20:43:44.129852+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {}, "updated_on": "2017-08-17T20:43:44.132464+00:00", "type": "pullrequest_comment", "id": 43053565}, "pull_request": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/43053559.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-43053559"}}, "parent": {"id": 43045461, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/43045461.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-43045461"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}, "content": {"raw": "Removed in 1a49f1d", "markup": "markdown", "html": "<p>Removed in <a href=\"#!/osrf/gazebo/commits/1a49f1d\" rel=\"nofollow\" class=\"ap-connect-link\">1a49f1d</a></p>", "type": "rendered"}, "created_on": "2017-08-17T20:43:39.535466+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {}, "updated_on": "2017-08-17T20:43:39.538589+00:00", "type": "pullrequest_comment", "id": 43053559}, "pull_request": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/43053549.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-43053549"}}, "parent": {"id": 43045487, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/43045487.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-43045487"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}, "content": {"raw": "Fixed in 1a49f1d", "markup": "markdown", "html": "<p>Fixed in <a href=\"#!/osrf/gazebo/commits/1a49f1d\" rel=\"nofollow\" class=\"ap-connect-link\">1a49f1d</a></p>", "type": "rendered"}, "created_on": "2017-08-17T20:43:23.504820+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {}, "updated_on": "2017-08-17T20:43:23.508614+00:00", "type": "pullrequest_comment", "id": 43053549}, "pull_request": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}}, {"update": {"description": "This pull request fixes issue #1011 and cleans up large parts of the physics/dart implementation. I apologize for the large size of the diff, but most of it is just wiping away redundant function implementations and centralizing them into DARTJoint.\r\n\r\nThe actual problem that caused issue #1011 was only tangentially related to the Universal Joint. The ``UniversalJointForce`` test runs through a set of loops where each loop aims to test the internal consistency of the Universal Joint behavior with a model that contains two universal joints in sequence. The very last test was failing because the loop before it assumed that the joint positions of the two universal joints were being driven to all zero position and velocity, because it clamped the lower and upper position limits to zero. However, DART does not behave like this (by design). In DART, when a position limit is violated, it simply prevents the joint from moving any further in that direction (and computes the joint forces necessary to ensure this); it does not drive the joint position back to the limit value. Therefore, since the initial joint position was outside of the limits, DART did not drive it down to zero as the test was expecting.\r\n\r\nOn another note, the final test loop was a little bit ill-conceived. It assumed that the sum of the universal joint angles for each component could be summed to get the Euler angles of the final link's world-frame rotation. This would only be true if each joint has only one non-zero position component and the axes of those non-zero position components are parallel to each other. I tweaked the test to reflect these conditions.", "title": "Fix Issue 1011 -- DARTUniversalJoint", "destination": {"commit": {"hash": "2c58f1f33766", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/2c58f1f33766.json"}, "html": {"href": "#!/osrf/gazebo/commits/2c58f1f33766"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "1a49f1dd832e", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/mxgrey/gazebo/commit/1a49f1dd832e"}, "html": {"href": "https://bitbucket.org/mxgrey/gazebo/commits/1a49f1dd832e"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/mxgrey/gazebo"}, "html": {"href": "https://bitbucket.org/mxgrey/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{db441b9a-5483-4728-b3af-1135ccc99e42}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "mxgrey/gazebo", "uuid": "{db441b9a-5483-4728-b3af-1135ccc99e42}"}, "branch": {"name": "Issue_1011_DARTUniversalJoint"}}, "state": "OPEN", "author": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "date": "2017-08-17T20:42:46.788558+00:00"}, "pull_request": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/43053410.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-43053410"}}, "parent": {"id": 43042156, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/43042156.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-43042156"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}, "content": {"raw": "If I'm interpreting your comment correctly it sounds like you're suggesting having the joint in an essentially locked state throughout the test? I think there's value in running the simulation while changing the limits at various intervals to see that it's behaving sanely and matching our expectations. Granted, some of the expected behavior differs between physics engines, so testing that might be a bit frivolous, but I still think there's value in checking that the results are at least sane and self-consistent.", "markup": "markdown", "html": "<p>If I'm interpreting your comment correctly it sounds like you're suggesting having the joint in an essentially locked state throughout the test? I think there's value in running the simulation while changing the limits at various intervals to see that it's behaving sanely and matching our expectations. Granted, some of the expected behavior differs between physics engines, so testing that might be a bit frivolous, but I still think there's value in checking that the results are at least sane and self-consistent.</p>", "type": "rendered"}, "created_on": "2017-08-17T20:41:10.092348+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {}, "updated_on": "2017-08-17T20:41:10.094966+00:00", "type": "pullrequest_comment", "id": 43053410}, "pull_request": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/43048350.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-43048350"}}, "parent": {"id": 43047655, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/43047655.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-43047655"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}, "content": {"raw": "Left over from earlier gazebo versions. Issue #1108", "markup": "markdown", "html": "<p>Left over from earlier gazebo versions. Issue <a href=\"#!/osrf/gazebo/issues/1108/deprecate-get-set-high-low-stop-functions\" rel=\"nofollow\" title=\"Deprecate Get/Set High/Low Stop functions in Joint.\" class=\"ap-connect-link\"><s>#1108</s></a></p>", "type": "rendered"}, "created_on": "2017-08-17T19:16:23.821750+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "inline": {}, "updated_on": "2017-08-17T19:16:23.825217+00:00", "type": "pullrequest_comment", "id": 43048350}, "pull_request": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/43047655.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-43047655"}}, "parent": {"id": 43045487, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/43045487.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-43045487"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}, "content": {"raw": "This block sets `HighStop`, whereas the other sets `UpperLimit`\n\nI agree that this code path wouldn't be reached, but I wonder why the name has changed", "markup": "markdown", "html": "<p>This block sets <code>HighStop</code>, whereas the other sets <code>UpperLimit</code></p>\n<p>I agree that this code path wouldn't be reached, but I wonder why the name has changed</p>", "type": "rendered"}, "created_on": "2017-08-17T19:07:43.447730+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2017-08-17T19:07:43.451366+00:00", "type": "pullrequest_comment", "id": 43047655}, "pull_request": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/43045487.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-43045487"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}, "content": {"raw": "Repeated above ... we can remove even more code!", "markup": "markdown", "html": "<p>Repeated above ... we can remove even more code!</p>", "type": "rendered"}, "created_on": "2017-08-17T18:37:56.002124+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "inline": {}, "updated_on": "2017-08-17T18:37:56.005527+00:00", "type": "pullrequest_comment", "id": 43045487}, "pull_request": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/43045461.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-43045461"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}, "content": {"raw": "Repeated above", "markup": "markdown", "html": "<p>Repeated above</p>", "type": "rendered"}, "created_on": "2017-08-17T18:37:34.441623+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "inline": {}, "updated_on": "2017-08-17T18:37:34.444701+00:00", "type": "pullrequest_comment", "id": 43045461}, "pull_request": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/43045442.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-43045442"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}, "content": {"raw": "Repeated above", "markup": "markdown", "html": "<p>Repeated above</p>", "type": "rendered"}, "created_on": "2017-08-17T18:37:15.838167+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "inline": {}, "updated_on": "2017-08-17T18:37:15.840602+00:00", "type": "pullrequest_comment", "id": 43045442}, "pull_request": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/43045397.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-43045397"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}, "content": {"raw": "Repeated above", "markup": "markdown", "html": "<p>Repeated above</p>", "type": "rendered"}, "created_on": "2017-08-17T18:36:29.247578+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "inline": {}, "updated_on": "2017-08-17T18:36:29.256955+00:00", "type": "pullrequest_comment", "id": 43045397}, "pull_request": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/43045380.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-43045380"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}, "content": {"raw": "Repeated above", "markup": "markdown", "html": "<p>Repeated above</p>", "type": "rendered"}, "created_on": "2017-08-17T18:36:16.906152+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "inline": {}, "updated_on": "2017-08-17T18:36:16.909360+00:00", "type": "pullrequest_comment", "id": 43045380}, "pull_request": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/43045359.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-43045359"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}, "content": {"raw": "Repeated above", "markup": "markdown", "html": "<p>Repeated above</p>", "type": "rendered"}, "created_on": "2017-08-17T18:36:01.064993+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "inline": {}, "updated_on": "2017-08-17T18:36:01.067788+00:00", "type": "pullrequest_comment", "id": 43045359}, "pull_request": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/43042156.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-43042156"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}, "content": {"raw": "It also works to move these lines up to the start (lock joint_01 axis 0) with g_tolerance though not 1e-6. Even though the test/loop right below here works with an arbitrary angle for joint_01 axis 0, it may be more intuitive to keep it locked throughout the tests.", "markup": "markdown", "html": "<p>It also works to move these lines up to the start (lock joint_01 axis 0) with g_tolerance though not 1e-6. Even though the test/loop right below here works with an arbitrary angle for joint_01 axis 0, it may be more intuitive to keep it locked throughout the tests.</p>", "type": "rendered"}, "created_on": "2017-08-17T17:50:56.773420+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "inline": {}, "updated_on": "2017-08-17T17:50:56.775531+00:00", "type": "pullrequest_comment", "id": 43042156}, "pull_request": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/43040812.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-43040812"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}, "content": {"raw": "2.0", "markup": "markdown", "html": "<p>2.0</p>", "type": "rendered"}, "created_on": "2017-08-17T17:31:29.539324+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "inline": {}, "updated_on": "2017-08-17T17:31:29.542206+00:00", "type": "pullrequest_comment", "id": 43040812}, "pull_request": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/43040760.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-43040760"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}, "content": {"raw": "upper limit", "markup": "markdown", "html": "<p>upper limit</p>", "type": "rendered"}, "created_on": "2017-08-17T17:30:49.799274+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "inline": {}, "updated_on": "2017-08-17T17:30:49.801438+00:00", "type": "pullrequest_comment", "id": 43040760}, "pull_request": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/42413856.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-42413856"}}, "parent": {"id": 42154189, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/42154189.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-42154189"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}, "content": {"raw": "Fixed in 9a6f5af", "markup": "markdown", "html": "<p>Fixed in <a href=\"#!/osrf/gazebo/commits/9a6f5af\" rel=\"nofollow\" class=\"ap-connect-link\">9a6f5af</a></p>", "type": "rendered"}, "created_on": "2017-08-08T18:21:58.151964+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": "2017-08-08T18:21:58.198118+00:00", "type": "pullrequest_comment", "id": 42413856}, "pull_request": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/42166983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-42166983"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}, "content": {"raw": "Nice work; it's always very impressive when you can fix bugs while removing code", "markup": "markdown", "html": "<p>Nice work; it's always very impressive when you can fix bugs while removing code</p>", "type": "rendered"}, "created_on": "2017-08-04T06:20:06.151484+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-08-04T06:20:06.155206+00:00", "type": "pullrequest_comment", "id": 42166983}, "pull_request": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}}, {"update": {"description": "This pull request fixes issue #1011 and cleans up large parts of the physics/dart implementation. I apologize for the large size of the diff, but most of it is just wiping away redundant function implementations and centralizing them into DARTJoint.\r\n\r\nThe actual problem that caused issue #1011 was only tangentially related to the Universal Joint. The ``UniversalJointForce`` test runs through a set of loops where each loop aims to test the internal consistency of the Universal Joint behavior with a model that contains two universal joints in sequence. The very last test was failing because the loop before it assumed that the joint positions of the two universal joints were being driven to all zero position and velocity, because it clamped the lower and upper position limits to zero. However, DART does not behave like this (by design). In DART, when a position limit is violated, it simply prevents the joint from moving any further in that direction (and computes the joint forces necessary to ensure this); it does not drive the joint position back to the limit value. Therefore, since the initial joint position was outside of the limits, DART did not drive it down to zero as the test was expecting.\r\n\r\nOn another note, the final test loop was a little bit ill-conceived. It assumed that the sum of the universal joint angles for each component could be summed to get the Euler angles of the final link's world-frame rotation. This would only be true if each joint has only one non-zero position component and the axes of those non-zero position components are parallel to each other. I tweaked the test to reflect these conditions.", "title": "Fix Issue 1011 -- DARTUniversalJoint", "destination": {"commit": {"hash": "c1c50dc2390e", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/c1c50dc2390e.json"}, "html": {"href": "#!/osrf/gazebo/commits/c1c50dc2390e"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "9a6f5af0f38a", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/mxgrey/gazebo/commit/9a6f5af0f38a"}, "html": {"href": "https://bitbucket.org/mxgrey/gazebo/commits/9a6f5af0f38a"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/mxgrey/gazebo"}, "html": {"href": "https://bitbucket.org/mxgrey/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{db441b9a-5483-4728-b3af-1135ccc99e42}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "mxgrey/gazebo", "uuid": "{db441b9a-5483-4728-b3af-1135ccc99e42}"}, "branch": {"name": "Issue_1011_DARTUniversalJoint"}}, "state": "OPEN", "author": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "date": "2017-08-04T00:57:52.469564+00:00"}, "pull_request": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/42154189.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-42154189"}}, "parent": {"id": 42132499, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/42132499.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-42132499"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}, "content": {"raw": "looks like there's still a screw joint test failure and linter complaints in DARTJoint.cc\n\n* https://build.osrfoundation.org/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/31/cppcheckResult\n* https://build.osrfoundation.org/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/31/testReport/junit/(root)/PhysicsEngines_JointTestScrew/ScrewJointForce_3/\n", "markup": "markdown", "html": "<p>looks like there's still a screw joint test failure and linter complaints in DARTJoint.cc</p>\n<ul>\n<li><a href=\"https://build.osrfoundation.org/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/31/cppcheckResult\" rel=\"nofollow\" class=\"ap-connect-link\">https://build.osrfoundation.org/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/31/cppcheckResult</a></li>\n<li><a href=\"https://build.osrfoundation.org/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/31/testReport/junit/(root)/PhysicsEngines_JointTestScrew/ScrewJointForce_3/\" rel=\"nofollow\" class=\"ap-connect-link\">https://build.osrfoundation.org/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/31/testReport/junit/(root)/PhysicsEngines_JointTestScrew/ScrewJointForce_3/</a></li>\n</ul>", "type": "rendered"}, "created_on": "2017-08-04T00:19:20.839139+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-08-04T00:19:20.841661+00:00", "type": "pullrequest_comment", "id": 42154189}, "pull_request": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/42133461.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-42133461"}}, "parent": {"id": 42132499, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/42132499.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-42132499"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}, "content": {"raw": "i see it in the queue", "markup": "markdown", "html": "<p>i see it in the queue</p>", "type": "rendered"}, "created_on": "2017-08-03T18:21:46.516317+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-08-03T18:21:46.518498+00:00", "type": "pullrequest_comment", "id": 42133461}, "pull_request": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/42132627.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-42132627"}}, "parent": {"id": 41569061, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/41569061.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-41569061"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}, "content": {"raw": "I've updated the test to check this.", "markup": "markdown", "html": "<p>I've updated the test to check this.</p>", "type": "rendered"}, "created_on": "2017-08-03T18:09:44.334931+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {}, "updated_on": "2017-08-03T18:09:44.372092+00:00", "type": "pullrequest_comment", "id": 42132627}, "pull_request": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/42132499.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-42132499"}}, "parent": {"id": 42055779, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/42055779.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-42055779"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}, "content": {"raw": "Functions that would call `getNumDofs()` are being cached if the joint is uninitialized as of 3c826bc. This has resolved the segfaults on my machine.\n\nI believe I've queued a rebuild, but I don't see it in the build history yet. I'll link to it once a link is available.", "markup": "markdown", "html": "<p>Functions that would call <code>getNumDofs()</code> are being cached if the joint is uninitialized as of <a href=\"#!/osrf/gazebo/commits/3c826bc\" rel=\"nofollow\" class=\"ap-connect-link\">3c826bc</a>. This has resolved the segfaults on my machine.</p>\n<p>I believe I've queued a rebuild, but I don't see it in the build history yet. I'll link to it once a link is available.</p>", "type": "rendered"}, "created_on": "2017-08-03T18:08:09.812342+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": "2017-08-03T18:08:29.735534+00:00", "type": "pullrequest_comment", "id": 42132499}, "pull_request": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}}, {"update": {"description": "This pull request fixes issue #1011 and cleans up large parts of the physics/dart implementation. I apologize for the large size of the diff, but most of it is just wiping away redundant function implementations and centralizing them into DARTJoint.\r\n\r\nThe actual problem that caused issue #1011 was only tangentially related to the Universal Joint. The ``UniversalJointForce`` test runs through a set of loops where each loop aims to test the internal consistency of the Universal Joint behavior with a model that contains two universal joints in sequence. The very last test was failing because the loop before it assumed that the joint positions of the two universal joints were being driven to all zero position and velocity, because it clamped the lower and upper position limits to zero. However, DART does not behave like this (by design). In DART, when a position limit is violated, it simply prevents the joint from moving any further in that direction (and computes the joint forces necessary to ensure this); it does not drive the joint position back to the limit value. Therefore, since the initial joint position was outside of the limits, DART did not drive it down to zero as the test was expecting.\r\n\r\nOn another note, the final test loop was a little bit ill-conceived. It assumed that the sum of the universal joint angles for each component could be summed to get the Euler angles of the final link's world-frame rotation. This would only be true if each joint has only one non-zero position component and the axes of those non-zero position components are parallel to each other. I tweaked the test to reflect these conditions.", "title": "Fix Issue 1011 -- DARTUniversalJoint", "destination": {"commit": {"hash": "7343f9d4ec32", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/7343f9d4ec32.json"}, "html": {"href": "#!/osrf/gazebo/commits/7343f9d4ec32"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "3c826bc15a33", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/mxgrey/gazebo/commit/3c826bc15a33"}, "html": {"href": "https://bitbucket.org/mxgrey/gazebo/commits/3c826bc15a33"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/mxgrey/gazebo"}, "html": {"href": "https://bitbucket.org/mxgrey/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{db441b9a-5483-4728-b3af-1135ccc99e42}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "mxgrey/gazebo", "uuid": "{db441b9a-5483-4728-b3af-1135ccc99e42}"}, "branch": {"name": "Issue_1011_DARTUniversalJoint"}}, "state": "OPEN", "author": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "date": "2017-08-03T17:49:35.818855+00:00"}, "pull_request": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/42055779.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-42055779"}}, "parent": {"id": 42054727, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/42054727.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-42054727"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}, "content": {"raw": "thanks, that sounds good", "markup": "markdown", "html": "<p>thanks, that sounds good</p>", "type": "rendered"}, "created_on": "2017-08-03T00:32:11.866391+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-08-03T00:32:11.868930+00:00", "type": "pullrequest_comment", "id": 42055779}, "pull_request": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/42054727.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-42054727"}}, "parent": {"id": 42054062, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/42054062.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-42054062"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}, "content": {"raw": "It seems that in most (if not all) of the places where `getNumDofs()` is being used, we should be using the cache if the DART joint isn't initialized yet. I'll take another look at each case, and safeguard the functions with the cache where appropriate. If there's a case where the cache would be inappropriate, I'll revert back to `Joint::DOF()`. I wanted to move away from `Joint::DOF()` because it seems that Gazebo caps it at 2 (and in the case of `BallJoint` considers it 0) which is inconsistent with DART's usage, and may result in unexpected behavior.", "markup": "markdown", "html": "<p>It seems that in most (if not all) of the places where <code>getNumDofs()</code> is being used, we should be using the cache if the DART joint isn't initialized yet. I'll take another look at each case, and safeguard the functions with the cache where appropriate. If there's a case where the cache would be inappropriate, I'll revert back to <code>Joint::DOF()</code>. I wanted to move away from <code>Joint::DOF()</code> because it seems that Gazebo caps it at 2 (and in the case of <code>BallJoint</code> considers it 0) which is inconsistent with DART's usage, and may result in unexpected behavior.</p>", "type": "rendered"}, "created_on": "2017-08-02T23:57:56.879648+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": "2017-08-02T23:57:56.938988+00:00", "type": "pullrequest_comment", "id": 42054727}, "pull_request": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/42054062.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-42054062"}}, "parent": {"id": 41584784, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/41584784.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-41584784"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}, "content": {"raw": "I just got a backtrace from `INTEGRATION_joint_spawn` subtest 24, with a dart revolute joint. It appears to fail during `World::LoadModel` when trying to call `dtJoint->getNumDofs()`. I believe the dtJoint data is allocated during `Model::Init`, which comes after `Model::Load`. Before this PR, I believe `Joint::DOF()` was called instead, which seems safer. There are some functions that get called before `Init`, so we have to be careful in these functions not to access data structures that haven't yet been allocated.\n\n~~~\nThread 32 \"INTEGRATION_joi\" received signal SIGSEGV, Segmentation fault.\n[Switching to Thread 0x7fff693f5700 (LWP 14661)]\n0x00007ffff71ef26d in gazebo::physics::DARTJoint::LowerLimit (this=0x7fff3c1bee00, _index=0) at /data_fast/scpeters/ws/gazebo9/src/gazebo/gazebo/physics/dart/DARTJoint.cc:421\n421\t        this->dataPtr->dtJoint->getNumDofs());\n(gdb) bt\n#0  0x00007ffff71ef26d in gazebo::physics::DARTJoint::LowerLimit (this=0x7fff3c1bee00, _index=0) at /data_fast/scpeters/ws/gazebo9/src/gazebo/gazebo/physics/dart/DARTJoint.cc:421\n#1  0x00007ffff72949fb in gazebo::physics::Joint::FillMsg (this=0x7fff3c1bee00, _msg=...) at /data_fast/scpeters/ws/gazebo9/src/gazebo/gazebo/physics/Joint.cc:635\n#2  0x00007ffff72db9ad in gazebo::physics::Model::FillMsg (this=0x7fff3c003ee0, _msg=...) at /data_fast/scpeters/ws/gazebo9/src/gazebo/gazebo/physics/Model.cc:1225\n#3  0x00007ffff7326e0e in gazebo::physics::World::LoadModel (this=this@entry=0x7fffbc674900, _sdf=std::shared_ptr (count 4, weak 5) 0x7fff3c5ca310, _parent=...) at /data_fast/scpeters/ws/gazebo9/src/gazebo/gazebo/physics/World.cc:1068\n#4  0x00007ffff732b8c5 in gazebo::physics::World::ProcessFactoryMsgs (this=this@entry=0x7fffbc674900) at /data_fast/scpeters/ws/gazebo9/src/gazebo/gazebo/physics/World.cc:2075\n#5  0x00007ffff73309bc in gazebo::physics::World::ProcessMessages (this=this@entry=0x7fffbc674900) at /data_fast/scpeters/ws/gazebo9/src/gazebo/gazebo/physics/World.cc:2488\n#6  0x00007ffff7332bc8 in gazebo::physics::World::Step (this=this@entry=0x7fffbc674900) at /data_fast/scpeters/ws/gazebo9/src/gazebo/gazebo/physics/World.cc:705\n#7  0x00007ffff73330cd in gazebo::physics::World::RunLoop (this=0x7fffbc674900) at /data_fast/scpeters/ws/gazebo9/src/gazebo/gazebo/physics/World.cc:496\n#8  0x00007ffff52f3c80 in ?? () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#9  0x00007ffff7bc16ba in start_thread (arg=0x7fff693f5700) at pthread_create.c:333\n#10 0x00007ffff4a593dd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:109\n~~~", "markup": "markdown", "html": "<p>I just got a backtrace from <code>INTEGRATION_joint_spawn</code> subtest 24, with a dart revolute joint. It appears to fail during <code>World::LoadModel</code> when trying to call <code>dtJoint-&gt;getNumDofs()</code>. I believe the dtJoint data is allocated during <code>Model::Init</code>, which comes after <code>Model::Load</code>. Before this PR, I believe <code>Joint::DOF()</code> was called instead, which seems safer. There are some functions that get called before <code>Init</code>, so we have to be careful in these functions not to access data structures that haven't yet been allocated.</p>\n<div class=\"codehilite\"><pre><span></span>Thread 32 &quot;INTEGRATION_joi&quot; received signal SIGSEGV, Segmentation fault.\n[Switching to Thread 0x7fff693f5700 (LWP 14661)]\n0x00007ffff71ef26d in gazebo::physics::DARTJoint::LowerLimit (this=0x7fff3c1bee00, _index=0) at /data_fast/scpeters/ws/gazebo9/src/gazebo/gazebo/physics/dart/DARTJoint.cc:421\n421         this-&gt;dataPtr-&gt;dtJoint-&gt;getNumDofs());\n(gdb) bt\n#0  0x00007ffff71ef26d in gazebo::physics::DARTJoint::LowerLimit (this=0x7fff3c1bee00, _index=0) at /data_fast/scpeters/ws/gazebo9/src/gazebo/gazebo/physics/dart/DARTJoint.cc:421\n#1  0x00007ffff72949fb in gazebo::physics::Joint::FillMsg (this=0x7fff3c1bee00, _msg=...) at /data_fast/scpeters/ws/gazebo9/src/gazebo/gazebo/physics/Joint.cc:635\n#2  0x00007ffff72db9ad in gazebo::physics::Model::FillMsg (this=0x7fff3c003ee0, _msg=...) at /data_fast/scpeters/ws/gazebo9/src/gazebo/gazebo/physics/Model.cc:1225\n#3  0x00007ffff7326e0e in gazebo::physics::World::LoadModel (this=this@entry=0x7fffbc674900, _sdf=std::shared_ptr (count 4, weak 5) 0x7fff3c5ca310, _parent=...) at /data_fast/scpeters/ws/gazebo9/src/gazebo/gazebo/physics/World.cc:1068\n#4  0x00007ffff732b8c5 in gazebo::physics::World::ProcessFactoryMsgs (this=this@entry=0x7fffbc674900) at /data_fast/scpeters/ws/gazebo9/src/gazebo/gazebo/physics/World.cc:2075\n#5  0x00007ffff73309bc in gazebo::physics::World::ProcessMessages (this=this@entry=0x7fffbc674900) at /data_fast/scpeters/ws/gazebo9/src/gazebo/gazebo/physics/World.cc:2488\n#6  0x00007ffff7332bc8 in gazebo::physics::World::Step (this=this@entry=0x7fffbc674900) at /data_fast/scpeters/ws/gazebo9/src/gazebo/gazebo/physics/World.cc:705\n#7  0x00007ffff73330cd in gazebo::physics::World::RunLoop (this=0x7fffbc674900) at /data_fast/scpeters/ws/gazebo9/src/gazebo/gazebo/physics/World.cc:496\n#8  0x00007ffff52f3c80 in ?? () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#9  0x00007ffff7bc16ba in start_thread (arg=0x7fff693f5700) at pthread_create.c:333\n#10 0x00007ffff4a593dd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:109\n</pre></div>", "type": "rendered"}, "created_on": "2017-08-02T23:37:44.178150+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-08-02T23:37:44.180386+00:00", "type": "pullrequest_comment", "id": 42054062}, "pull_request": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}}, {"update": {"description": "This pull request fixes issue #1011 and cleans up large parts of the physics/dart implementation. I apologize for the large size of the diff, but most of it is just wiping away redundant function implementations and centralizing them into DARTJoint.\r\n\r\nThe actual problem that caused issue #1011 was only tangentially related to the Universal Joint. The ``UniversalJointForce`` test runs through a set of loops where each loop aims to test the internal consistency of the Universal Joint behavior with a model that contains two universal joints in sequence. The very last test was failing because the loop before it assumed that the joint positions of the two universal joints were being driven to all zero position and velocity, because it clamped the lower and upper position limits to zero. However, DART does not behave like this (by design). In DART, when a position limit is violated, it simply prevents the joint from moving any further in that direction (and computes the joint forces necessary to ensure this); it does not drive the joint position back to the limit value. Therefore, since the initial joint position was outside of the limits, DART did not drive it down to zero as the test was expecting.\r\n\r\nOn another note, the final test loop was a little bit ill-conceived. It assumed that the sum of the universal joint angles for each component could be summed to get the Euler angles of the final link's world-frame rotation. This would only be true if each joint has only one non-zero position component and the axes of those non-zero position components are parallel to each other. I tweaked the test to reflect these conditions.", "title": "Fix Issue 1011 -- DARTUniversalJoint", "destination": {"commit": {"hash": "a2e24ead6b45", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/a2e24ead6b45.json"}, "html": {"href": "#!/osrf/gazebo/commits/a2e24ead6b45"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "932410fff3cf", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/mxgrey/gazebo/commit/932410fff3cf"}, "html": {"href": "https://bitbucket.org/mxgrey/gazebo/commits/932410fff3cf"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/mxgrey/gazebo"}, "html": {"href": "https://bitbucket.org/mxgrey/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{db441b9a-5483-4728-b3af-1135ccc99e42}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "mxgrey/gazebo", "uuid": "{db441b9a-5483-4728-b3af-1135ccc99e42}"}, "branch": {"name": "Issue_1011_DARTUniversalJoint"}}, "state": "OPEN", "author": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "date": "2017-07-28T20:09:19.899746+00:00"}, "pull_request": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/41584784.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-41584784"}}, "parent": {"id": 41569469, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/41569469.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-41569469"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}, "content": {"raw": "there's a bunch of tests that are seg-faulting during the dart portion:\n\n* https://build.osrfoundation.org/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/22/testReport/", "markup": "markdown", "html": "<p>there's a bunch of tests that are seg-faulting during the dart portion:</p>\n<ul>\n<li><a href=\"https://build.osrfoundation.org/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/22/testReport/\" rel=\"nofollow\" class=\"ap-connect-link\">https://build.osrfoundation.org/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/22/testReport/</a></li>\n</ul>", "type": "rendered"}, "created_on": "2017-07-26T22:17:21.942054+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-07-26T22:17:21.944389+00:00", "type": "pullrequest_comment", "id": 41584784}, "pull_request": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/41569469.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-41569469"}}, "parent": {"id": 41243083, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/41243083.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-41243083"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}, "content": {"raw": "triggered a new build since the last one didn't actually build dart (forgot to check \"compile from source\"):\n\n* https://build.osrfoundation.org/view/upstream-dart/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/22/", "markup": "markdown", "html": "<p>triggered a new build since the last one didn't actually build dart (forgot to check \"compile from source\"):</p>\n<ul>\n<li><a href=\"https://build.osrfoundation.org/view/upstream-dart/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/22/\" rel=\"nofollow\" class=\"ap-connect-link\">https://build.osrfoundation.org/view/upstream-dart/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/22/</a></li>\n</ul>", "type": "rendered"}, "created_on": "2017-07-26T18:12:20.656050+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-07-26T18:12:20.658426+00:00", "type": "pullrequest_comment", "id": 41569469}, "pull_request": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}}], "next": "data/repositories/osrf/gazebo/pullrequests/2753/activity_ctx=xkFgpsBI7.json"}