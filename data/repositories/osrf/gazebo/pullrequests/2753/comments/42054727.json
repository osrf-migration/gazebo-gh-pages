{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/42054727.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-42054727"}}, "parent": {"id": 42054062, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753/comments/42054062.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753/_/diff#comment-42054062"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2753, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2753.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2753"}}, "title": "Fix Issue 1011 -- DARTUniversalJoint"}, "content": {"raw": "It seems that in most (if not all) of the places where `getNumDofs()` is being used, we should be using the cache if the DART joint isn't initialized yet. I'll take another look at each case, and safeguard the functions with the cache where appropriate. If there's a case where the cache would be inappropriate, I'll revert back to `Joint::DOF()`. I wanted to move away from `Joint::DOF()` because it seems that Gazebo caps it at 2 (and in the case of `BallJoint` considers it 0) which is inconsistent with DART's usage, and may result in unexpected behavior.", "markup": "markdown", "html": "<p>It seems that in most (if not all) of the places where <code>getNumDofs()</code> is being used, we should be using the cache if the DART joint isn't initialized yet. I'll take another look at each case, and safeguard the functions with the cache where appropriate. If there's a case where the cache would be inappropriate, I'll revert back to <code>Joint::DOF()</code>. I wanted to move away from <code>Joint::DOF()</code> because it seems that Gazebo caps it at 2 (and in the case of <code>BallJoint</code> considers it 0) which is inconsistent with DART's usage, and may result in unexpected behavior.</p>", "type": "rendered"}, "created_on": "2017-08-02T23:57:56.879648+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": "2017-08-02T23:57:56.938988+00:00", "type": "pullrequest_comment", "id": 42054727}