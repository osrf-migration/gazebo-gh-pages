{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2598/comments/43342827.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2598/_/diff#comment-43342827"}}, "parent": {"id": 30562460, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2598/comments/30562460.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2598/_/diff#comment-30562460"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2598, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2598.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2598"}}, "title": "Fix2111"}, "content": {"raw": "@sloretz, @chapulina, What do you think of maintaining the joint velocities rather than the velocities in either the source or world frame? This is what DART appears to do. Or alternatively, what about zeroing the velocities but relative to the parent link instead of the world?\n\n`SetPosition` produces different behaviors for DART and ODE. I created tests on [this branch](https://bitbucket.org/pchorak/gazebo/branch/joint_set_position_moving) to demonstrate. They expect the joint velocity to be unaffected by `SetPosition`, so they fail for ODE and pass for DART. I also made the change proposed in this PR but by modifying `SetPositionMaximal` so the behavior of `MoveFrame` is unaffected. The tests pass for ODE with the change.", "markup": "markdown", "html": "<p>@sloretz, @chapulina, What do you think of maintaining the joint velocities rather than the velocities in either the source or world frame? This is what DART appears to do. Or alternatively, what about zeroing the velocities but relative to the parent link instead of the world?</p>\n<p><code>SetPosition</code> produces different behaviors for DART and ODE. I created tests on <a data-is-external-link=\"true\" href=\"https://bitbucket.org/pchorak/gazebo/branch/joint_set_position_moving\" rel=\"nofollow\">this branch</a> to demonstrate. They expect the joint velocity to be unaffected by <code>SetPosition</code>, so they fail for ODE and pass for DART. I also made the change proposed in this PR but by modifying <code>SetPositionMaximal</code> so the behavior of <code>MoveFrame</code> is unaffected. The tests pass for ODE with the change.</p>", "type": "rendered"}, "created_on": "2017-08-22T21:36:22.198807+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "updated_on": "2017-08-22T21:36:22.229656+00:00", "type": "pullrequest_comment", "id": 43342827}