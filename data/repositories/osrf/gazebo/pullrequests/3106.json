{"rendered": {"description": {"raw": "Dartsim 6.9.0 was recently released and merged into homebrew-core, which broke our bottles for gazebo9 and gazebo10.\r\n\r\n* [![Build Status](https://build.osrfoundation.org/buildStatus/icon?job=gazebo-install-one_liner-homebrew-amd64&build=1311)](https://build.osrfoundation.org/job/gazebo-install-one_liner-homebrew-amd64/1311/) https://build.osrfoundation.org/job/gazebo-install-one_liner-homebrew-amd64/1311/\r\n\r\nWhile rebuilding the bottles, I noticed a build failure for gazebo10:\r\n\r\n* [![Build Status](https://build.osrfoundation.org/buildStatus/icon?job=generic-release-homebrew_bottle_builder/label=osx_highsierra&build=369)](https://build.osrfoundation.org/job/generic-release-homebrew_bottle_builder/label=osx_highsierra/369/) https://build.osrfoundation.org/job/generic-release-homebrew_bottle_builder/label=osx_highsierra/369/\r\n\r\n~~~\r\nIn file included from /tmp/gazebo10-20190528-97377-khdxwp/gazebo-10.1.0/gazebo/physics/dart/DARTHeightmapShape.cc:20:\r\nIn file included from /tmp/gazebo10-20190528-97377-khdxwp/gazebo-10.1.0/gazebo/physics/dart/DARTCollision.hh:23:\r\nIn file included from /tmp/gazebo10-20190528-97377-khdxwp/gazebo-10.1.0/gazebo/physics/dart/dart_inc.h:24:\r\nIn file included from /usr/local/include/dart/dart.hpp:33:\r\nIn file included from /usr/local/include/dart/config.hpp:5:\r\nIn file included from /usr/local/include/eigen3/Eigen/Core:441:\r\n/usr/local/include/eigen3/Eigen/src/Core/AssignEvaluator.h:834:3: error: static_assert failed due to requirement 'Eigen::internal::has_ReturnType<ScalarBinaryOpTraits<typename ActualDstTypeCleaned::Scalar, typename Matrix<double, 3, 1, 0, 3, 1>::Scalar, assign_op<float, double> > >::value' \"YOU_MIXED_DIFFERENT_NUMERIC_TYPES__YOU_NEED_TO_USE_THE_CAST_METHOD_OF_MATRIXBASE_TO_CAST_NUMERIC_TYPES_EXPLICITLY\"\r\n  EIGEN_CHECK_BINARY_COMPATIBILIY(Func,typename ActualDstTypeCleaned::Scalar,typename Src::Scalar);\r\n  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n/usr/local/include/eigen3/Eigen/src/Core/util/XprHelper.h:816:3: note: expanded from macro 'EIGEN_CHECK_BINARY_COMPATIBILIY'\r\n  EIGEN_STATIC_ASSERT((Eigen::internal::has_ReturnType<ScalarBinaryOpTraits<LHS, RHS,BINOP> >::value), \\\r\n  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n/usr/local/include/eigen3/Eigen/src/Core/util/StaticAssert.h:33:40: note: expanded from macro 'EIGEN_STATIC_ASSERT'\r\n    #define EIGEN_STATIC_ASSERT(X,MSG) static_assert(X,#MSG);\r\n                                       ^             ~\r\n/usr/local/include/eigen3/Eigen/src/Core/PlainObjectBase.h:732:17: note: in instantiation of function template specialization 'Eigen::internal::call_assignment_no_alias<Eigen::Matrix<float, 3, 1, 0, 3, 1>, Eigen::Matrix<double, 3, 1, 0, 3, 1>, Eigen::internal::assign_op<float, double> >' requested here\r\n      internal::call_assignment_no_alias(this->derived(), other.derived(), internal::assign_op<Scalar,typename OtherDerived::Scalar>());\r\n                ^\r\n/usr/local/include/eigen3/Eigen/src/Core/PlainObjectBase.h:537:7: note: in instantiation of function template specialization 'Eigen::PlainObjectBase<Eigen::Matrix<float, 3, 1, 0, 3, 1> >::_set_noalias<Eigen::Matrix<double, 3, 1, 0, 3, 1> >' requested here\r\n      _set_noalias(other);\r\n      ^\r\n/usr/local/include/eigen3/Eigen/src/Core/Matrix.h:377:9: note: in instantiation of function template specialization 'Eigen::PlainObjectBase<Eigen::Matrix<float, 3, 1, 0, 3, 1> >::PlainObjectBase<Eigen::Matrix<double, 3, 1, 0, 3, 1> >' requested here\r\n      : Base(other.derived())\r\n        ^\r\n/tmp/gazebo10-20190528-97377-khdxwp/gazebo-10.1.0/gazebo/physics/dart/DARTHeightmapShape.cc:67:36: note: in instantiation of function template specialization 'Eigen::Matrix<float, 3, 1, 0, 3, 1>::Matrix<Eigen::Matrix<double, 3, 1, 0, 3, 1> >' requested here\r\n  this->dataPtr->Shape()->setScale(Eigen::Vector3d(this->scale.X(),\r\n                                   ^\r\n1 error generated.\r\n~~~\r\n\r\nSomething in dart 6.9 (the switch to c++14?) has triggered this Eigen compilation error, based on the use of 32-bit `float` as the type for Heightmap heights:\r\n\r\n* #!/osrf/gazebo/src/7c2936c66a23e6c6707fe4c7790458e75824407e/gazebo/physics/HeightmapShape.hh#lines-48\r\n\r\nThis should be enough to fix it.", "markup": "markdown", "html": "<p>Dartsim 6.9.0 was recently released and merged into homebrew-core, which broke our bottles for gazebo9 and gazebo10.</p>\n<ul>\n<li><a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/job/gazebo-install-one_liner-homebrew-amd64/1311/\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://build.osrfoundation.org/buildStatus/icon?job=gazebo-install-one_liner-homebrew-amd64&amp;build=1311\" /></a> <a href=\"https://build.osrfoundation.org/job/gazebo-install-one_liner-homebrew-amd64/1311/\" rel=\"nofollow\" class=\"ap-connect-link\">https://build.osrfoundation.org/job/gazebo-install-one_liner-homebrew-amd64/1311/</a></li>\n</ul>\n<p>While rebuilding the bottles, I noticed a build failure for gazebo10:</p>\n<ul>\n<li><a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/job/generic-release-homebrew_bottle_builder/label=osx_highsierra/369/\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://build.osrfoundation.org/buildStatus/icon?job=generic-release-homebrew_bottle_builder/label=osx_highsierra&amp;build=369\" /></a> <a href=\"https://build.osrfoundation.org/job/generic-release-homebrew_bottle_builder/label=osx_highsierra/369/\" rel=\"nofollow\" class=\"ap-connect-link\">https://build.osrfoundation.org/job/generic-release-homebrew_bottle_builder/label=osx_highsierra/369/</a></li>\n</ul>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">In</span> <span class=\"nt\">file</span> <span class=\"nt\">included</span> <span class=\"nt\">from</span> <span class=\"o\">/</span><span class=\"nt\">tmp</span><span class=\"o\">/</span><span class=\"nt\">gazebo10-20190528-97377-khdxwp</span><span class=\"o\">/</span><span class=\"nt\">gazebo-10</span><span class=\"p\">.</span><span class=\"nc\">1</span><span class=\"p\">.</span><span class=\"nc\">0</span><span class=\"o\">/</span><span class=\"nt\">gazebo</span><span class=\"o\">/</span><span class=\"nt\">physics</span><span class=\"o\">/</span><span class=\"nt\">dart</span><span class=\"o\">/</span><span class=\"nt\">DARTHeightmapShape</span><span class=\"p\">.</span><span class=\"nc\">cc</span><span class=\"p\">:</span><span class=\"nd\">20</span><span class=\"o\">:</span>\n<span class=\"nt\">In</span> <span class=\"nt\">file</span> <span class=\"nt\">included</span> <span class=\"nt\">from</span> <span class=\"o\">/</span><span class=\"nt\">tmp</span><span class=\"o\">/</span><span class=\"nt\">gazebo10-20190528-97377-khdxwp</span><span class=\"o\">/</span><span class=\"nt\">gazebo-10</span><span class=\"p\">.</span><span class=\"nc\">1</span><span class=\"p\">.</span><span class=\"nc\">0</span><span class=\"o\">/</span><span class=\"nt\">gazebo</span><span class=\"o\">/</span><span class=\"nt\">physics</span><span class=\"o\">/</span><span class=\"nt\">dart</span><span class=\"o\">/</span><span class=\"nt\">DARTCollision</span><span class=\"p\">.</span><span class=\"nc\">hh</span><span class=\"p\">:</span><span class=\"nd\">23</span><span class=\"o\">:</span>\n<span class=\"nt\">In</span> <span class=\"nt\">file</span> <span class=\"nt\">included</span> <span class=\"nt\">from</span> <span class=\"o\">/</span><span class=\"nt\">tmp</span><span class=\"o\">/</span><span class=\"nt\">gazebo10-20190528-97377-khdxwp</span><span class=\"o\">/</span><span class=\"nt\">gazebo-10</span><span class=\"p\">.</span><span class=\"nc\">1</span><span class=\"p\">.</span><span class=\"nc\">0</span><span class=\"o\">/</span><span class=\"nt\">gazebo</span><span class=\"o\">/</span><span class=\"nt\">physics</span><span class=\"o\">/</span><span class=\"nt\">dart</span><span class=\"o\">/</span><span class=\"nt\">dart_inc</span><span class=\"p\">.</span><span class=\"nc\">h</span><span class=\"p\">:</span><span class=\"nd\">24</span><span class=\"o\">:</span>\n<span class=\"nt\">In</span> <span class=\"nt\">file</span> <span class=\"nt\">included</span> <span class=\"nt\">from</span> <span class=\"o\">/</span><span class=\"nt\">usr</span><span class=\"o\">/</span><span class=\"nt\">local</span><span class=\"o\">/</span><span class=\"nt\">include</span><span class=\"o\">/</span><span class=\"nt\">dart</span><span class=\"o\">/</span><span class=\"nt\">dart</span><span class=\"p\">.</span><span class=\"nc\">hpp</span><span class=\"p\">:</span><span class=\"nd\">33</span><span class=\"o\">:</span>\n<span class=\"nt\">In</span> <span class=\"nt\">file</span> <span class=\"nt\">included</span> <span class=\"nt\">from</span> <span class=\"o\">/</span><span class=\"nt\">usr</span><span class=\"o\">/</span><span class=\"nt\">local</span><span class=\"o\">/</span><span class=\"nt\">include</span><span class=\"o\">/</span><span class=\"nt\">dart</span><span class=\"o\">/</span><span class=\"nt\">config</span><span class=\"p\">.</span><span class=\"nc\">hpp</span><span class=\"p\">:</span><span class=\"nd\">5</span><span class=\"o\">:</span>\n<span class=\"nt\">In</span> <span class=\"nt\">file</span> <span class=\"nt\">included</span> <span class=\"nt\">from</span> <span class=\"o\">/</span><span class=\"nt\">usr</span><span class=\"o\">/</span><span class=\"nt\">local</span><span class=\"o\">/</span><span class=\"nt\">include</span><span class=\"o\">/</span><span class=\"nt\">eigen3</span><span class=\"o\">/</span><span class=\"nt\">Eigen</span><span class=\"o\">/</span><span class=\"nt\">Core</span><span class=\"p\">:</span><span class=\"nd\">441</span><span class=\"o\">:</span>\n<span class=\"o\">/</span><span class=\"nt\">usr</span><span class=\"o\">/</span><span class=\"nt\">local</span><span class=\"o\">/</span><span class=\"nt\">include</span><span class=\"o\">/</span><span class=\"nt\">eigen3</span><span class=\"o\">/</span><span class=\"nt\">Eigen</span><span class=\"o\">/</span><span class=\"nt\">src</span><span class=\"o\">/</span><span class=\"nt\">Core</span><span class=\"o\">/</span><span class=\"nt\">AssignEvaluator</span><span class=\"p\">.</span><span class=\"nc\">h</span><span class=\"p\">:</span><span class=\"nd\">834</span><span class=\"p\">:</span><span class=\"nd\">3</span><span class=\"o\">:</span> <span class=\"nt\">error</span><span class=\"o\">:</span> <span class=\"nt\">static_assert</span> <span class=\"nt\">failed</span> <span class=\"nt\">due</span> <span class=\"nt\">to</span> <span class=\"nt\">requirement</span> <span class=\"s1\">&#39;Eigen::internal::has_ReturnType&lt;ScalarBinaryOpTraits&lt;typename ActualDstTypeCleaned::Scalar, typename Matrix&lt;double, 3, 1, 0, 3, 1&gt;::Scalar, assign_op&lt;float, double&gt; &gt; &gt;::value&#39;</span> <span class=\"s2\">&quot;YOU_MIXED_DIFFERENT_NUMERIC_TYPES__YOU_NEED_TO_USE_THE_CAST_METHOD_OF_MATRIXBASE_TO_CAST_NUMERIC_TYPES_EXPLICITLY&quot;</span>\n  <span class=\"nt\">EIGEN_CHECK_BINARY_COMPATIBILIY</span><span class=\"o\">(</span><span class=\"nt\">Func</span><span class=\"o\">,</span><span class=\"nt\">typename</span> <span class=\"nt\">ActualDstTypeCleaned</span><span class=\"p\">::</span><span class=\"nd\">Scalar</span><span class=\"o\">,</span><span class=\"nt\">typename</span> <span class=\"nt\">Src</span><span class=\"p\">::</span><span class=\"nd\">Scalar</span><span class=\"o\">);</span>\n  <span class=\"o\">^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>\n<span class=\"o\">/</span><span class=\"nt\">usr</span><span class=\"o\">/</span><span class=\"nt\">local</span><span class=\"o\">/</span><span class=\"nt\">include</span><span class=\"o\">/</span><span class=\"nt\">eigen3</span><span class=\"o\">/</span><span class=\"nt\">Eigen</span><span class=\"o\">/</span><span class=\"nt\">src</span><span class=\"o\">/</span><span class=\"nt\">Core</span><span class=\"o\">/</span><span class=\"nt\">util</span><span class=\"o\">/</span><span class=\"nt\">XprHelper</span><span class=\"p\">.</span><span class=\"nc\">h</span><span class=\"p\">:</span><span class=\"nd\">816</span><span class=\"p\">:</span><span class=\"nd\">3</span><span class=\"o\">:</span> <span class=\"nt\">note</span><span class=\"o\">:</span> <span class=\"nt\">expanded</span> <span class=\"nt\">from</span> <span class=\"nt\">macro</span> <span class=\"s1\">&#39;EIGEN_CHECK_BINARY_COMPATIBILIY&#39;</span>\n  <span class=\"nt\">EIGEN_STATIC_ASSERT</span><span class=\"o\">((</span><span class=\"nt\">Eigen</span><span class=\"p\">::</span><span class=\"nd\">internal</span><span class=\"p\">::</span><span class=\"nd\">has_ReturnType</span><span class=\"o\">&lt;</span><span class=\"nt\">ScalarBinaryOpTraits</span><span class=\"o\">&lt;</span><span class=\"nt\">LHS</span><span class=\"o\">,</span> <span class=\"nt\">RHS</span><span class=\"o\">,</span><span class=\"nt\">BINOP</span><span class=\"o\">&gt;</span> <span class=\"o\">&gt;</span><span class=\"p\">::</span><span class=\"nd\">value</span><span class=\"o\">),</span> <span class=\"err\">\\</span>\n  <span class=\"o\">^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>\n<span class=\"o\">/</span><span class=\"nt\">usr</span><span class=\"o\">/</span><span class=\"nt\">local</span><span class=\"o\">/</span><span class=\"nt\">include</span><span class=\"o\">/</span><span class=\"nt\">eigen3</span><span class=\"o\">/</span><span class=\"nt\">Eigen</span><span class=\"o\">/</span><span class=\"nt\">src</span><span class=\"o\">/</span><span class=\"nt\">Core</span><span class=\"o\">/</span><span class=\"nt\">util</span><span class=\"o\">/</span><span class=\"nt\">StaticAssert</span><span class=\"p\">.</span><span class=\"nc\">h</span><span class=\"p\">:</span><span class=\"nd\">33</span><span class=\"p\">:</span><span class=\"nd\">40</span><span class=\"o\">:</span> <span class=\"nt\">note</span><span class=\"o\">:</span> <span class=\"nt\">expanded</span> <span class=\"nt\">from</span> <span class=\"nt\">macro</span> <span class=\"s1\">&#39;EIGEN_STATIC_ASSERT&#39;</span>\n    <span class=\"p\">#</span><span class=\"nn\">define</span> <span class=\"nt\">EIGEN_STATIC_ASSERT</span><span class=\"o\">(</span><span class=\"nt\">X</span><span class=\"o\">,</span><span class=\"nt\">MSG</span><span class=\"o\">)</span> <span class=\"nt\">static_assert</span><span class=\"o\">(</span><span class=\"nt\">X</span><span class=\"o\">,</span><span class=\"p\">#</span><span class=\"nn\">MSG</span><span class=\"o\">);</span>\n                                       <span class=\"o\">^</span>             <span class=\"o\">~</span>\n<span class=\"o\">/</span><span class=\"nt\">usr</span><span class=\"o\">/</span><span class=\"nt\">local</span><span class=\"o\">/</span><span class=\"nt\">include</span><span class=\"o\">/</span><span class=\"nt\">eigen3</span><span class=\"o\">/</span><span class=\"nt\">Eigen</span><span class=\"o\">/</span><span class=\"nt\">src</span><span class=\"o\">/</span><span class=\"nt\">Core</span><span class=\"o\">/</span><span class=\"nt\">PlainObjectBase</span><span class=\"p\">.</span><span class=\"nc\">h</span><span class=\"p\">:</span><span class=\"nd\">732</span><span class=\"p\">:</span><span class=\"nd\">17</span><span class=\"o\">:</span> <span class=\"nt\">note</span><span class=\"o\">:</span> <span class=\"nt\">in</span> <span class=\"nt\">instantiation</span> <span class=\"nt\">of</span> <span class=\"nt\">function</span> <span class=\"nt\">template</span> <span class=\"nt\">specialization</span> <span class=\"s1\">&#39;Eigen::internal::call_assignment_no_alias&lt;Eigen::Matrix&lt;float, 3, 1, 0, 3, 1&gt;, Eigen::Matrix&lt;double, 3, 1, 0, 3, 1&gt;, Eigen::internal::assign_op&lt;float, double&gt; &gt;&#39;</span> <span class=\"nt\">requested</span> <span class=\"nt\">here</span>\n      <span class=\"nt\">internal</span><span class=\"p\">::</span><span class=\"nd\">call_assignment_no_alias</span><span class=\"o\">(</span><span class=\"nt\">this-</span><span class=\"o\">&gt;</span><span class=\"nt\">derived</span><span class=\"o\">(),</span> <span class=\"nt\">other</span><span class=\"p\">.</span><span class=\"nc\">derived</span><span class=\"o\">(),</span> <span class=\"nt\">internal</span><span class=\"p\">::</span><span class=\"nd\">assign_op</span><span class=\"o\">&lt;</span><span class=\"nt\">Scalar</span><span class=\"o\">,</span><span class=\"nt\">typename</span> <span class=\"nt\">OtherDerived</span><span class=\"p\">::</span><span class=\"nd\">Scalar</span><span class=\"o\">&gt;());</span>\n                <span class=\"o\">^</span>\n<span class=\"o\">/</span><span class=\"nt\">usr</span><span class=\"o\">/</span><span class=\"nt\">local</span><span class=\"o\">/</span><span class=\"nt\">include</span><span class=\"o\">/</span><span class=\"nt\">eigen3</span><span class=\"o\">/</span><span class=\"nt\">Eigen</span><span class=\"o\">/</span><span class=\"nt\">src</span><span class=\"o\">/</span><span class=\"nt\">Core</span><span class=\"o\">/</span><span class=\"nt\">PlainObjectBase</span><span class=\"p\">.</span><span class=\"nc\">h</span><span class=\"p\">:</span><span class=\"nd\">537</span><span class=\"p\">:</span><span class=\"nd\">7</span><span class=\"o\">:</span> <span class=\"nt\">note</span><span class=\"o\">:</span> <span class=\"nt\">in</span> <span class=\"nt\">instantiation</span> <span class=\"nt\">of</span> <span class=\"nt\">function</span> <span class=\"nt\">template</span> <span class=\"nt\">specialization</span> <span class=\"s1\">&#39;Eigen::PlainObjectBase&lt;Eigen::Matrix&lt;float, 3, 1, 0, 3, 1&gt; &gt;::_set_noalias&lt;Eigen::Matrix&lt;double, 3, 1, 0, 3, 1&gt; &gt;&#39;</span> <span class=\"nt\">requested</span> <span class=\"nt\">here</span>\n      <span class=\"nt\">_set_noalias</span><span class=\"o\">(</span><span class=\"nt\">other</span><span class=\"o\">);</span>\n      <span class=\"o\">^</span>\n<span class=\"o\">/</span><span class=\"nt\">usr</span><span class=\"o\">/</span><span class=\"nt\">local</span><span class=\"o\">/</span><span class=\"nt\">include</span><span class=\"o\">/</span><span class=\"nt\">eigen3</span><span class=\"o\">/</span><span class=\"nt\">Eigen</span><span class=\"o\">/</span><span class=\"nt\">src</span><span class=\"o\">/</span><span class=\"nt\">Core</span><span class=\"o\">/</span><span class=\"nt\">Matrix</span><span class=\"p\">.</span><span class=\"nc\">h</span><span class=\"p\">:</span><span class=\"nd\">377</span><span class=\"p\">:</span><span class=\"nd\">9</span><span class=\"o\">:</span> <span class=\"nt\">note</span><span class=\"o\">:</span> <span class=\"nt\">in</span> <span class=\"nt\">instantiation</span> <span class=\"nt\">of</span> <span class=\"nt\">function</span> <span class=\"nt\">template</span> <span class=\"nt\">specialization</span> <span class=\"s1\">&#39;Eigen::PlainObjectBase&lt;Eigen::Matrix&lt;float, 3, 1, 0, 3, 1&gt; &gt;::PlainObjectBase&lt;Eigen::Matrix&lt;double, 3, 1, 0, 3, 1&gt; &gt;&#39;</span> <span class=\"nt\">requested</span> <span class=\"nt\">here</span>\n      <span class=\"o\">:</span> <span class=\"nt\">Base</span><span class=\"o\">(</span><span class=\"nt\">other</span><span class=\"p\">.</span><span class=\"nc\">derived</span><span class=\"o\">())</span>\n        <span class=\"o\">^</span>\n<span class=\"o\">/</span><span class=\"nt\">tmp</span><span class=\"o\">/</span><span class=\"nt\">gazebo10-20190528-97377-khdxwp</span><span class=\"o\">/</span><span class=\"nt\">gazebo-10</span><span class=\"p\">.</span><span class=\"nc\">1</span><span class=\"p\">.</span><span class=\"nc\">0</span><span class=\"o\">/</span><span class=\"nt\">gazebo</span><span class=\"o\">/</span><span class=\"nt\">physics</span><span class=\"o\">/</span><span class=\"nt\">dart</span><span class=\"o\">/</span><span class=\"nt\">DARTHeightmapShape</span><span class=\"p\">.</span><span class=\"nc\">cc</span><span class=\"p\">:</span><span class=\"nd\">67</span><span class=\"p\">:</span><span class=\"nd\">36</span><span class=\"o\">:</span> <span class=\"nt\">note</span><span class=\"o\">:</span> <span class=\"nt\">in</span> <span class=\"nt\">instantiation</span> <span class=\"nt\">of</span> <span class=\"nt\">function</span> <span class=\"nt\">template</span> <span class=\"nt\">specialization</span> <span class=\"s1\">&#39;Eigen::Matrix&lt;float, 3, 1, 0, 3, 1&gt;::Matrix&lt;Eigen::Matrix&lt;double, 3, 1, 0, 3, 1&gt; &gt;&#39;</span> <span class=\"nt\">requested</span> <span class=\"nt\">here</span>\n  <span class=\"nt\">this-</span><span class=\"o\">&gt;</span><span class=\"nt\">dataPtr-</span><span class=\"o\">&gt;</span><span class=\"nt\">Shape</span><span class=\"o\">()</span><span class=\"nt\">-</span><span class=\"o\">&gt;</span><span class=\"nt\">setScale</span><span class=\"o\">(</span><span class=\"nt\">Eigen</span><span class=\"p\">::</span><span class=\"nd\">Vector3d</span><span class=\"o\">(</span><span class=\"nt\">this-</span><span class=\"o\">&gt;</span><span class=\"nt\">scale</span><span class=\"p\">.</span><span class=\"nc\">X</span><span class=\"o\">(),</span>\n                                   <span class=\"o\">^</span>\n<span class=\"nt\">1</span> <span class=\"nt\">error</span> <span class=\"nt\">generated</span><span class=\"o\">.</span>\n</pre></div>\n\n\n<p>Something in dart 6.9 (the switch to c++14?) has triggered this Eigen compilation error, based on the use of 32-bit <code>float</code> as the type for Heightmap heights:</p>\n<ul>\n<li><a href=\"#!/osrf/gazebo/src/7c2936c66a23e6c6707fe4c7790458e75824407e/gazebo/physics/HeightmapShape.hh#lines-48\" rel=\"nofollow\" class=\"ap-connect-link\">#!/osrf/gazebo/src/7c2936c66a23e6c6707fe4c7790458e75824407e/gazebo/physics/HeightmapShape.hh#lines-48</a></li>\n</ul>\n<p>This should be enough to fix it.</p>", "type": "rendered"}, "title": {"raw": "Fix gazebo10 build with dart 6.9", "markup": "markdown", "html": "<p>Fix gazebo10 build with dart 6.9</p>", "type": "rendered"}}, "type": "pullrequest", "description": "Dartsim 6.9.0 was recently released and merged into homebrew-core, which broke our bottles for gazebo9 and gazebo10.\r\n\r\n* [![Build Status](https://build.osrfoundation.org/buildStatus/icon?job=gazebo-install-one_liner-homebrew-amd64&build=1311)](https://build.osrfoundation.org/job/gazebo-install-one_liner-homebrew-amd64/1311/) https://build.osrfoundation.org/job/gazebo-install-one_liner-homebrew-amd64/1311/\r\n\r\nWhile rebuilding the bottles, I noticed a build failure for gazebo10:\r\n\r\n* [![Build Status](https://build.osrfoundation.org/buildStatus/icon?job=generic-release-homebrew_bottle_builder/label=osx_highsierra&build=369)](https://build.osrfoundation.org/job/generic-release-homebrew_bottle_builder/label=osx_highsierra/369/) https://build.osrfoundation.org/job/generic-release-homebrew_bottle_builder/label=osx_highsierra/369/\r\n\r\n~~~\r\nIn file included from /tmp/gazebo10-20190528-97377-khdxwp/gazebo-10.1.0/gazebo/physics/dart/DARTHeightmapShape.cc:20:\r\nIn file included from /tmp/gazebo10-20190528-97377-khdxwp/gazebo-10.1.0/gazebo/physics/dart/DARTCollision.hh:23:\r\nIn file included from /tmp/gazebo10-20190528-97377-khdxwp/gazebo-10.1.0/gazebo/physics/dart/dart_inc.h:24:\r\nIn file included from /usr/local/include/dart/dart.hpp:33:\r\nIn file included from /usr/local/include/dart/config.hpp:5:\r\nIn file included from /usr/local/include/eigen3/Eigen/Core:441:\r\n/usr/local/include/eigen3/Eigen/src/Core/AssignEvaluator.h:834:3: error: static_assert failed due to requirement 'Eigen::internal::has_ReturnType<ScalarBinaryOpTraits<typename ActualDstTypeCleaned::Scalar, typename Matrix<double, 3, 1, 0, 3, 1>::Scalar, assign_op<float, double> > >::value' \"YOU_MIXED_DIFFERENT_NUMERIC_TYPES__YOU_NEED_TO_USE_THE_CAST_METHOD_OF_MATRIXBASE_TO_CAST_NUMERIC_TYPES_EXPLICITLY\"\r\n  EIGEN_CHECK_BINARY_COMPATIBILIY(Func,typename ActualDstTypeCleaned::Scalar,typename Src::Scalar);\r\n  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n/usr/local/include/eigen3/Eigen/src/Core/util/XprHelper.h:816:3: note: expanded from macro 'EIGEN_CHECK_BINARY_COMPATIBILIY'\r\n  EIGEN_STATIC_ASSERT((Eigen::internal::has_ReturnType<ScalarBinaryOpTraits<LHS, RHS,BINOP> >::value), \\\r\n  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n/usr/local/include/eigen3/Eigen/src/Core/util/StaticAssert.h:33:40: note: expanded from macro 'EIGEN_STATIC_ASSERT'\r\n    #define EIGEN_STATIC_ASSERT(X,MSG) static_assert(X,#MSG);\r\n                                       ^             ~\r\n/usr/local/include/eigen3/Eigen/src/Core/PlainObjectBase.h:732:17: note: in instantiation of function template specialization 'Eigen::internal::call_assignment_no_alias<Eigen::Matrix<float, 3, 1, 0, 3, 1>, Eigen::Matrix<double, 3, 1, 0, 3, 1>, Eigen::internal::assign_op<float, double> >' requested here\r\n      internal::call_assignment_no_alias(this->derived(), other.derived(), internal::assign_op<Scalar,typename OtherDerived::Scalar>());\r\n                ^\r\n/usr/local/include/eigen3/Eigen/src/Core/PlainObjectBase.h:537:7: note: in instantiation of function template specialization 'Eigen::PlainObjectBase<Eigen::Matrix<float, 3, 1, 0, 3, 1> >::_set_noalias<Eigen::Matrix<double, 3, 1, 0, 3, 1> >' requested here\r\n      _set_noalias(other);\r\n      ^\r\n/usr/local/include/eigen3/Eigen/src/Core/Matrix.h:377:9: note: in instantiation of function template specialization 'Eigen::PlainObjectBase<Eigen::Matrix<float, 3, 1, 0, 3, 1> >::PlainObjectBase<Eigen::Matrix<double, 3, 1, 0, 3, 1> >' requested here\r\n      : Base(other.derived())\r\n        ^\r\n/tmp/gazebo10-20190528-97377-khdxwp/gazebo-10.1.0/gazebo/physics/dart/DARTHeightmapShape.cc:67:36: note: in instantiation of function template specialization 'Eigen::Matrix<float, 3, 1, 0, 3, 1>::Matrix<Eigen::Matrix<double, 3, 1, 0, 3, 1> >' requested here\r\n  this->dataPtr->Shape()->setScale(Eigen::Vector3d(this->scale.X(),\r\n                                   ^\r\n1 error generated.\r\n~~~\r\n\r\nSomething in dart 6.9 (the switch to c++14?) has triggered this Eigen compilation error, based on the use of 32-bit `float` as the type for Heightmap heights:\r\n\r\n* #!/osrf/gazebo/src/7c2936c66a23e6c6707fe4c7790458e75824407e/gazebo/physics/HeightmapShape.hh#lines-48\r\n\r\nThis should be enough to fix it.", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/pullrequests/3106/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diffstat/osrf/gazebo:399bcfb880f5%0D8524ca8f5ade?from_pullrequest_id=3106"}, "commits": {"href": "data/repositories/osrf/gazebo/pullrequests/3106/commits.json"}, "self": {"href": "data/repositories/osrf/gazebo/pullrequests/3106.json"}, "comments": {"href": "data/repositories/osrf/gazebo/pullrequests/3106/comments_page=1.json"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/pullrequests/3106/merge"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3106"}, "activity": {"href": "data/repositories/osrf/gazebo/pullrequests/3106/activity.json"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:399bcfb880f5%0D8524ca8f5ade?from_pullrequest_id=3106"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/pullrequests/3106/approve"}, "statuses": {"href": "data/repositories/osrf/gazebo/pullrequests/3106/statuses_page=1.json"}}, "title": "Fix gazebo10 build with dart 6.9", "close_source_branch": true, "reviewers": [{"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}], "id": 3106, "destination": {"commit": {"hash": "8524ca8f5ade", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/8524ca8f5ade.json"}, "html": {"href": "#!/osrf/gazebo/commits/8524ca8f5ade"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo10"}}, "created_on": "2019-05-29T13:57:30.152362+00:00", "summary": {"raw": "Dartsim 6.9.0 was recently released and merged into homebrew-core, which broke our bottles for gazebo9 and gazebo10.\r\n\r\n* [![Build Status](https://build.osrfoundation.org/buildStatus/icon?job=gazebo-install-one_liner-homebrew-amd64&build=1311)](https://build.osrfoundation.org/job/gazebo-install-one_liner-homebrew-amd64/1311/) https://build.osrfoundation.org/job/gazebo-install-one_liner-homebrew-amd64/1311/\r\n\r\nWhile rebuilding the bottles, I noticed a build failure for gazebo10:\r\n\r\n* [![Build Status](https://build.osrfoundation.org/buildStatus/icon?job=generic-release-homebrew_bottle_builder/label=osx_highsierra&build=369)](https://build.osrfoundation.org/job/generic-release-homebrew_bottle_builder/label=osx_highsierra/369/) https://build.osrfoundation.org/job/generic-release-homebrew_bottle_builder/label=osx_highsierra/369/\r\n\r\n~~~\r\nIn file included from /tmp/gazebo10-20190528-97377-khdxwp/gazebo-10.1.0/gazebo/physics/dart/DARTHeightmapShape.cc:20:\r\nIn file included from /tmp/gazebo10-20190528-97377-khdxwp/gazebo-10.1.0/gazebo/physics/dart/DARTCollision.hh:23:\r\nIn file included from /tmp/gazebo10-20190528-97377-khdxwp/gazebo-10.1.0/gazebo/physics/dart/dart_inc.h:24:\r\nIn file included from /usr/local/include/dart/dart.hpp:33:\r\nIn file included from /usr/local/include/dart/config.hpp:5:\r\nIn file included from /usr/local/include/eigen3/Eigen/Core:441:\r\n/usr/local/include/eigen3/Eigen/src/Core/AssignEvaluator.h:834:3: error: static_assert failed due to requirement 'Eigen::internal::has_ReturnType<ScalarBinaryOpTraits<typename ActualDstTypeCleaned::Scalar, typename Matrix<double, 3, 1, 0, 3, 1>::Scalar, assign_op<float, double> > >::value' \"YOU_MIXED_DIFFERENT_NUMERIC_TYPES__YOU_NEED_TO_USE_THE_CAST_METHOD_OF_MATRIXBASE_TO_CAST_NUMERIC_TYPES_EXPLICITLY\"\r\n  EIGEN_CHECK_BINARY_COMPATIBILIY(Func,typename ActualDstTypeCleaned::Scalar,typename Src::Scalar);\r\n  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n/usr/local/include/eigen3/Eigen/src/Core/util/XprHelper.h:816:3: note: expanded from macro 'EIGEN_CHECK_BINARY_COMPATIBILIY'\r\n  EIGEN_STATIC_ASSERT((Eigen::internal::has_ReturnType<ScalarBinaryOpTraits<LHS, RHS,BINOP> >::value), \\\r\n  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n/usr/local/include/eigen3/Eigen/src/Core/util/StaticAssert.h:33:40: note: expanded from macro 'EIGEN_STATIC_ASSERT'\r\n    #define EIGEN_STATIC_ASSERT(X,MSG) static_assert(X,#MSG);\r\n                                       ^             ~\r\n/usr/local/include/eigen3/Eigen/src/Core/PlainObjectBase.h:732:17: note: in instantiation of function template specialization 'Eigen::internal::call_assignment_no_alias<Eigen::Matrix<float, 3, 1, 0, 3, 1>, Eigen::Matrix<double, 3, 1, 0, 3, 1>, Eigen::internal::assign_op<float, double> >' requested here\r\n      internal::call_assignment_no_alias(this->derived(), other.derived(), internal::assign_op<Scalar,typename OtherDerived::Scalar>());\r\n                ^\r\n/usr/local/include/eigen3/Eigen/src/Core/PlainObjectBase.h:537:7: note: in instantiation of function template specialization 'Eigen::PlainObjectBase<Eigen::Matrix<float, 3, 1, 0, 3, 1> >::_set_noalias<Eigen::Matrix<double, 3, 1, 0, 3, 1> >' requested here\r\n      _set_noalias(other);\r\n      ^\r\n/usr/local/include/eigen3/Eigen/src/Core/Matrix.h:377:9: note: in instantiation of function template specialization 'Eigen::PlainObjectBase<Eigen::Matrix<float, 3, 1, 0, 3, 1> >::PlainObjectBase<Eigen::Matrix<double, 3, 1, 0, 3, 1> >' requested here\r\n      : Base(other.derived())\r\n        ^\r\n/tmp/gazebo10-20190528-97377-khdxwp/gazebo-10.1.0/gazebo/physics/dart/DARTHeightmapShape.cc:67:36: note: in instantiation of function template specialization 'Eigen::Matrix<float, 3, 1, 0, 3, 1>::Matrix<Eigen::Matrix<double, 3, 1, 0, 3, 1> >' requested here\r\n  this->dataPtr->Shape()->setScale(Eigen::Vector3d(this->scale.X(),\r\n                                   ^\r\n1 error generated.\r\n~~~\r\n\r\nSomething in dart 6.9 (the switch to c++14?) has triggered this Eigen compilation error, based on the use of 32-bit `float` as the type for Heightmap heights:\r\n\r\n* #!/osrf/gazebo/src/7c2936c66a23e6c6707fe4c7790458e75824407e/gazebo/physics/HeightmapShape.hh#lines-48\r\n\r\nThis should be enough to fix it.", "markup": "markdown", "html": "<p>Dartsim 6.9.0 was recently released and merged into homebrew-core, which broke our bottles for gazebo9 and gazebo10.</p>\n<ul>\n<li><a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/job/gazebo-install-one_liner-homebrew-amd64/1311/\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://build.osrfoundation.org/buildStatus/icon?job=gazebo-install-one_liner-homebrew-amd64&amp;build=1311\" /></a> <a href=\"https://build.osrfoundation.org/job/gazebo-install-one_liner-homebrew-amd64/1311/\" rel=\"nofollow\" class=\"ap-connect-link\">https://build.osrfoundation.org/job/gazebo-install-one_liner-homebrew-amd64/1311/</a></li>\n</ul>\n<p>While rebuilding the bottles, I noticed a build failure for gazebo10:</p>\n<ul>\n<li><a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/job/generic-release-homebrew_bottle_builder/label=osx_highsierra/369/\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://build.osrfoundation.org/buildStatus/icon?job=generic-release-homebrew_bottle_builder/label=osx_highsierra&amp;build=369\" /></a> <a href=\"https://build.osrfoundation.org/job/generic-release-homebrew_bottle_builder/label=osx_highsierra/369/\" rel=\"nofollow\" class=\"ap-connect-link\">https://build.osrfoundation.org/job/generic-release-homebrew_bottle_builder/label=osx_highsierra/369/</a></li>\n</ul>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">In</span> <span class=\"nt\">file</span> <span class=\"nt\">included</span> <span class=\"nt\">from</span> <span class=\"o\">/</span><span class=\"nt\">tmp</span><span class=\"o\">/</span><span class=\"nt\">gazebo10-20190528-97377-khdxwp</span><span class=\"o\">/</span><span class=\"nt\">gazebo-10</span><span class=\"p\">.</span><span class=\"nc\">1</span><span class=\"p\">.</span><span class=\"nc\">0</span><span class=\"o\">/</span><span class=\"nt\">gazebo</span><span class=\"o\">/</span><span class=\"nt\">physics</span><span class=\"o\">/</span><span class=\"nt\">dart</span><span class=\"o\">/</span><span class=\"nt\">DARTHeightmapShape</span><span class=\"p\">.</span><span class=\"nc\">cc</span><span class=\"p\">:</span><span class=\"nd\">20</span><span class=\"o\">:</span>\n<span class=\"nt\">In</span> <span class=\"nt\">file</span> <span class=\"nt\">included</span> <span class=\"nt\">from</span> <span class=\"o\">/</span><span class=\"nt\">tmp</span><span class=\"o\">/</span><span class=\"nt\">gazebo10-20190528-97377-khdxwp</span><span class=\"o\">/</span><span class=\"nt\">gazebo-10</span><span class=\"p\">.</span><span class=\"nc\">1</span><span class=\"p\">.</span><span class=\"nc\">0</span><span class=\"o\">/</span><span class=\"nt\">gazebo</span><span class=\"o\">/</span><span class=\"nt\">physics</span><span class=\"o\">/</span><span class=\"nt\">dart</span><span class=\"o\">/</span><span class=\"nt\">DARTCollision</span><span class=\"p\">.</span><span class=\"nc\">hh</span><span class=\"p\">:</span><span class=\"nd\">23</span><span class=\"o\">:</span>\n<span class=\"nt\">In</span> <span class=\"nt\">file</span> <span class=\"nt\">included</span> <span class=\"nt\">from</span> <span class=\"o\">/</span><span class=\"nt\">tmp</span><span class=\"o\">/</span><span class=\"nt\">gazebo10-20190528-97377-khdxwp</span><span class=\"o\">/</span><span class=\"nt\">gazebo-10</span><span class=\"p\">.</span><span class=\"nc\">1</span><span class=\"p\">.</span><span class=\"nc\">0</span><span class=\"o\">/</span><span class=\"nt\">gazebo</span><span class=\"o\">/</span><span class=\"nt\">physics</span><span class=\"o\">/</span><span class=\"nt\">dart</span><span class=\"o\">/</span><span class=\"nt\">dart_inc</span><span class=\"p\">.</span><span class=\"nc\">h</span><span class=\"p\">:</span><span class=\"nd\">24</span><span class=\"o\">:</span>\n<span class=\"nt\">In</span> <span class=\"nt\">file</span> <span class=\"nt\">included</span> <span class=\"nt\">from</span> <span class=\"o\">/</span><span class=\"nt\">usr</span><span class=\"o\">/</span><span class=\"nt\">local</span><span class=\"o\">/</span><span class=\"nt\">include</span><span class=\"o\">/</span><span class=\"nt\">dart</span><span class=\"o\">/</span><span class=\"nt\">dart</span><span class=\"p\">.</span><span class=\"nc\">hpp</span><span class=\"p\">:</span><span class=\"nd\">33</span><span class=\"o\">:</span>\n<span class=\"nt\">In</span> <span class=\"nt\">file</span> <span class=\"nt\">included</span> <span class=\"nt\">from</span> <span class=\"o\">/</span><span class=\"nt\">usr</span><span class=\"o\">/</span><span class=\"nt\">local</span><span class=\"o\">/</span><span class=\"nt\">include</span><span class=\"o\">/</span><span class=\"nt\">dart</span><span class=\"o\">/</span><span class=\"nt\">config</span><span class=\"p\">.</span><span class=\"nc\">hpp</span><span class=\"p\">:</span><span class=\"nd\">5</span><span class=\"o\">:</span>\n<span class=\"nt\">In</span> <span class=\"nt\">file</span> <span class=\"nt\">included</span> <span class=\"nt\">from</span> <span class=\"o\">/</span><span class=\"nt\">usr</span><span class=\"o\">/</span><span class=\"nt\">local</span><span class=\"o\">/</span><span class=\"nt\">include</span><span class=\"o\">/</span><span class=\"nt\">eigen3</span><span class=\"o\">/</span><span class=\"nt\">Eigen</span><span class=\"o\">/</span><span class=\"nt\">Core</span><span class=\"p\">:</span><span class=\"nd\">441</span><span class=\"o\">:</span>\n<span class=\"o\">/</span><span class=\"nt\">usr</span><span class=\"o\">/</span><span class=\"nt\">local</span><span class=\"o\">/</span><span class=\"nt\">include</span><span class=\"o\">/</span><span class=\"nt\">eigen3</span><span class=\"o\">/</span><span class=\"nt\">Eigen</span><span class=\"o\">/</span><span class=\"nt\">src</span><span class=\"o\">/</span><span class=\"nt\">Core</span><span class=\"o\">/</span><span class=\"nt\">AssignEvaluator</span><span class=\"p\">.</span><span class=\"nc\">h</span><span class=\"p\">:</span><span class=\"nd\">834</span><span class=\"p\">:</span><span class=\"nd\">3</span><span class=\"o\">:</span> <span class=\"nt\">error</span><span class=\"o\">:</span> <span class=\"nt\">static_assert</span> <span class=\"nt\">failed</span> <span class=\"nt\">due</span> <span class=\"nt\">to</span> <span class=\"nt\">requirement</span> <span class=\"s1\">&#39;Eigen::internal::has_ReturnType&lt;ScalarBinaryOpTraits&lt;typename ActualDstTypeCleaned::Scalar, typename Matrix&lt;double, 3, 1, 0, 3, 1&gt;::Scalar, assign_op&lt;float, double&gt; &gt; &gt;::value&#39;</span> <span class=\"s2\">&quot;YOU_MIXED_DIFFERENT_NUMERIC_TYPES__YOU_NEED_TO_USE_THE_CAST_METHOD_OF_MATRIXBASE_TO_CAST_NUMERIC_TYPES_EXPLICITLY&quot;</span>\n  <span class=\"nt\">EIGEN_CHECK_BINARY_COMPATIBILIY</span><span class=\"o\">(</span><span class=\"nt\">Func</span><span class=\"o\">,</span><span class=\"nt\">typename</span> <span class=\"nt\">ActualDstTypeCleaned</span><span class=\"p\">::</span><span class=\"nd\">Scalar</span><span class=\"o\">,</span><span class=\"nt\">typename</span> <span class=\"nt\">Src</span><span class=\"p\">::</span><span class=\"nd\">Scalar</span><span class=\"o\">);</span>\n  <span class=\"o\">^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>\n<span class=\"o\">/</span><span class=\"nt\">usr</span><span class=\"o\">/</span><span class=\"nt\">local</span><span class=\"o\">/</span><span class=\"nt\">include</span><span class=\"o\">/</span><span class=\"nt\">eigen3</span><span class=\"o\">/</span><span class=\"nt\">Eigen</span><span class=\"o\">/</span><span class=\"nt\">src</span><span class=\"o\">/</span><span class=\"nt\">Core</span><span class=\"o\">/</span><span class=\"nt\">util</span><span class=\"o\">/</span><span class=\"nt\">XprHelper</span><span class=\"p\">.</span><span class=\"nc\">h</span><span class=\"p\">:</span><span class=\"nd\">816</span><span class=\"p\">:</span><span class=\"nd\">3</span><span class=\"o\">:</span> <span class=\"nt\">note</span><span class=\"o\">:</span> <span class=\"nt\">expanded</span> <span class=\"nt\">from</span> <span class=\"nt\">macro</span> <span class=\"s1\">&#39;EIGEN_CHECK_BINARY_COMPATIBILIY&#39;</span>\n  <span class=\"nt\">EIGEN_STATIC_ASSERT</span><span class=\"o\">((</span><span class=\"nt\">Eigen</span><span class=\"p\">::</span><span class=\"nd\">internal</span><span class=\"p\">::</span><span class=\"nd\">has_ReturnType</span><span class=\"o\">&lt;</span><span class=\"nt\">ScalarBinaryOpTraits</span><span class=\"o\">&lt;</span><span class=\"nt\">LHS</span><span class=\"o\">,</span> <span class=\"nt\">RHS</span><span class=\"o\">,</span><span class=\"nt\">BINOP</span><span class=\"o\">&gt;</span> <span class=\"o\">&gt;</span><span class=\"p\">::</span><span class=\"nd\">value</span><span class=\"o\">),</span> <span class=\"err\">\\</span>\n  <span class=\"o\">^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>\n<span class=\"o\">/</span><span class=\"nt\">usr</span><span class=\"o\">/</span><span class=\"nt\">local</span><span class=\"o\">/</span><span class=\"nt\">include</span><span class=\"o\">/</span><span class=\"nt\">eigen3</span><span class=\"o\">/</span><span class=\"nt\">Eigen</span><span class=\"o\">/</span><span class=\"nt\">src</span><span class=\"o\">/</span><span class=\"nt\">Core</span><span class=\"o\">/</span><span class=\"nt\">util</span><span class=\"o\">/</span><span class=\"nt\">StaticAssert</span><span class=\"p\">.</span><span class=\"nc\">h</span><span class=\"p\">:</span><span class=\"nd\">33</span><span class=\"p\">:</span><span class=\"nd\">40</span><span class=\"o\">:</span> <span class=\"nt\">note</span><span class=\"o\">:</span> <span class=\"nt\">expanded</span> <span class=\"nt\">from</span> <span class=\"nt\">macro</span> <span class=\"s1\">&#39;EIGEN_STATIC_ASSERT&#39;</span>\n    <span class=\"p\">#</span><span class=\"nn\">define</span> <span class=\"nt\">EIGEN_STATIC_ASSERT</span><span class=\"o\">(</span><span class=\"nt\">X</span><span class=\"o\">,</span><span class=\"nt\">MSG</span><span class=\"o\">)</span> <span class=\"nt\">static_assert</span><span class=\"o\">(</span><span class=\"nt\">X</span><span class=\"o\">,</span><span class=\"p\">#</span><span class=\"nn\">MSG</span><span class=\"o\">);</span>\n                                       <span class=\"o\">^</span>             <span class=\"o\">~</span>\n<span class=\"o\">/</span><span class=\"nt\">usr</span><span class=\"o\">/</span><span class=\"nt\">local</span><span class=\"o\">/</span><span class=\"nt\">include</span><span class=\"o\">/</span><span class=\"nt\">eigen3</span><span class=\"o\">/</span><span class=\"nt\">Eigen</span><span class=\"o\">/</span><span class=\"nt\">src</span><span class=\"o\">/</span><span class=\"nt\">Core</span><span class=\"o\">/</span><span class=\"nt\">PlainObjectBase</span><span class=\"p\">.</span><span class=\"nc\">h</span><span class=\"p\">:</span><span class=\"nd\">732</span><span class=\"p\">:</span><span class=\"nd\">17</span><span class=\"o\">:</span> <span class=\"nt\">note</span><span class=\"o\">:</span> <span class=\"nt\">in</span> <span class=\"nt\">instantiation</span> <span class=\"nt\">of</span> <span class=\"nt\">function</span> <span class=\"nt\">template</span> <span class=\"nt\">specialization</span> <span class=\"s1\">&#39;Eigen::internal::call_assignment_no_alias&lt;Eigen::Matrix&lt;float, 3, 1, 0, 3, 1&gt;, Eigen::Matrix&lt;double, 3, 1, 0, 3, 1&gt;, Eigen::internal::assign_op&lt;float, double&gt; &gt;&#39;</span> <span class=\"nt\">requested</span> <span class=\"nt\">here</span>\n      <span class=\"nt\">internal</span><span class=\"p\">::</span><span class=\"nd\">call_assignment_no_alias</span><span class=\"o\">(</span><span class=\"nt\">this-</span><span class=\"o\">&gt;</span><span class=\"nt\">derived</span><span class=\"o\">(),</span> <span class=\"nt\">other</span><span class=\"p\">.</span><span class=\"nc\">derived</span><span class=\"o\">(),</span> <span class=\"nt\">internal</span><span class=\"p\">::</span><span class=\"nd\">assign_op</span><span class=\"o\">&lt;</span><span class=\"nt\">Scalar</span><span class=\"o\">,</span><span class=\"nt\">typename</span> <span class=\"nt\">OtherDerived</span><span class=\"p\">::</span><span class=\"nd\">Scalar</span><span class=\"o\">&gt;());</span>\n                <span class=\"o\">^</span>\n<span class=\"o\">/</span><span class=\"nt\">usr</span><span class=\"o\">/</span><span class=\"nt\">local</span><span class=\"o\">/</span><span class=\"nt\">include</span><span class=\"o\">/</span><span class=\"nt\">eigen3</span><span class=\"o\">/</span><span class=\"nt\">Eigen</span><span class=\"o\">/</span><span class=\"nt\">src</span><span class=\"o\">/</span><span class=\"nt\">Core</span><span class=\"o\">/</span><span class=\"nt\">PlainObjectBase</span><span class=\"p\">.</span><span class=\"nc\">h</span><span class=\"p\">:</span><span class=\"nd\">537</span><span class=\"p\">:</span><span class=\"nd\">7</span><span class=\"o\">:</span> <span class=\"nt\">note</span><span class=\"o\">:</span> <span class=\"nt\">in</span> <span class=\"nt\">instantiation</span> <span class=\"nt\">of</span> <span class=\"nt\">function</span> <span class=\"nt\">template</span> <span class=\"nt\">specialization</span> <span class=\"s1\">&#39;Eigen::PlainObjectBase&lt;Eigen::Matrix&lt;float, 3, 1, 0, 3, 1&gt; &gt;::_set_noalias&lt;Eigen::Matrix&lt;double, 3, 1, 0, 3, 1&gt; &gt;&#39;</span> <span class=\"nt\">requested</span> <span class=\"nt\">here</span>\n      <span class=\"nt\">_set_noalias</span><span class=\"o\">(</span><span class=\"nt\">other</span><span class=\"o\">);</span>\n      <span class=\"o\">^</span>\n<span class=\"o\">/</span><span class=\"nt\">usr</span><span class=\"o\">/</span><span class=\"nt\">local</span><span class=\"o\">/</span><span class=\"nt\">include</span><span class=\"o\">/</span><span class=\"nt\">eigen3</span><span class=\"o\">/</span><span class=\"nt\">Eigen</span><span class=\"o\">/</span><span class=\"nt\">src</span><span class=\"o\">/</span><span class=\"nt\">Core</span><span class=\"o\">/</span><span class=\"nt\">Matrix</span><span class=\"p\">.</span><span class=\"nc\">h</span><span class=\"p\">:</span><span class=\"nd\">377</span><span class=\"p\">:</span><span class=\"nd\">9</span><span class=\"o\">:</span> <span class=\"nt\">note</span><span class=\"o\">:</span> <span class=\"nt\">in</span> <span class=\"nt\">instantiation</span> <span class=\"nt\">of</span> <span class=\"nt\">function</span> <span class=\"nt\">template</span> <span class=\"nt\">specialization</span> <span class=\"s1\">&#39;Eigen::PlainObjectBase&lt;Eigen::Matrix&lt;float, 3, 1, 0, 3, 1&gt; &gt;::PlainObjectBase&lt;Eigen::Matrix&lt;double, 3, 1, 0, 3, 1&gt; &gt;&#39;</span> <span class=\"nt\">requested</span> <span class=\"nt\">here</span>\n      <span class=\"o\">:</span> <span class=\"nt\">Base</span><span class=\"o\">(</span><span class=\"nt\">other</span><span class=\"p\">.</span><span class=\"nc\">derived</span><span class=\"o\">())</span>\n        <span class=\"o\">^</span>\n<span class=\"o\">/</span><span class=\"nt\">tmp</span><span class=\"o\">/</span><span class=\"nt\">gazebo10-20190528-97377-khdxwp</span><span class=\"o\">/</span><span class=\"nt\">gazebo-10</span><span class=\"p\">.</span><span class=\"nc\">1</span><span class=\"p\">.</span><span class=\"nc\">0</span><span class=\"o\">/</span><span class=\"nt\">gazebo</span><span class=\"o\">/</span><span class=\"nt\">physics</span><span class=\"o\">/</span><span class=\"nt\">dart</span><span class=\"o\">/</span><span class=\"nt\">DARTHeightmapShape</span><span class=\"p\">.</span><span class=\"nc\">cc</span><span class=\"p\">:</span><span class=\"nd\">67</span><span class=\"p\">:</span><span class=\"nd\">36</span><span class=\"o\">:</span> <span class=\"nt\">note</span><span class=\"o\">:</span> <span class=\"nt\">in</span> <span class=\"nt\">instantiation</span> <span class=\"nt\">of</span> <span class=\"nt\">function</span> <span class=\"nt\">template</span> <span class=\"nt\">specialization</span> <span class=\"s1\">&#39;Eigen::Matrix&lt;float, 3, 1, 0, 3, 1&gt;::Matrix&lt;Eigen::Matrix&lt;double, 3, 1, 0, 3, 1&gt; &gt;&#39;</span> <span class=\"nt\">requested</span> <span class=\"nt\">here</span>\n  <span class=\"nt\">this-</span><span class=\"o\">&gt;</span><span class=\"nt\">dataPtr-</span><span class=\"o\">&gt;</span><span class=\"nt\">Shape</span><span class=\"o\">()</span><span class=\"nt\">-</span><span class=\"o\">&gt;</span><span class=\"nt\">setScale</span><span class=\"o\">(</span><span class=\"nt\">Eigen</span><span class=\"p\">::</span><span class=\"nd\">Vector3d</span><span class=\"o\">(</span><span class=\"nt\">this-</span><span class=\"o\">&gt;</span><span class=\"nt\">scale</span><span class=\"p\">.</span><span class=\"nc\">X</span><span class=\"o\">(),</span>\n                                   <span class=\"o\">^</span>\n<span class=\"nt\">1</span> <span class=\"nt\">error</span> <span class=\"nt\">generated</span><span class=\"o\">.</span>\n</pre></div>\n\n\n<p>Something in dart 6.9 (the switch to c++14?) has triggered this Eigen compilation error, based on the use of 32-bit <code>float</code> as the type for Heightmap heights:</p>\n<ul>\n<li><a href=\"#!/osrf/gazebo/src/7c2936c66a23e6c6707fe4c7790458e75824407e/gazebo/physics/HeightmapShape.hh#lines-48\" rel=\"nofollow\" class=\"ap-connect-link\">#!/osrf/gazebo/src/7c2936c66a23e6c6707fe4c7790458e75824407e/gazebo/physics/HeightmapShape.hh#lines-48</a></li>\n</ul>\n<p>This should be enough to fix it.</p>", "type": "rendered"}, "source": {"commit": {"hash": "75d723f41221", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/75d723f41221.json"}, "html": {"href": "#!/osrf/gazebo/commits/75d723f41221"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "dart69_10"}}, "comment_count": 7, "state": "MERGED", "task_count": 0, "participants": [{"role": "PARTICIPANT", "participated_on": "2019-05-29T18:14:23.535827+00:00", "type": "participant", "approved": false, "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}}, {"role": "PARTICIPANT", "participated_on": "2019-05-29T17:58:40.228298+00:00", "type": "participant", "approved": true, "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}}, {"role": "REVIEWER", "participated_on": "2019-05-29T18:15:59.159032+00:00", "type": "participant", "approved": false, "user": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}}, {"role": "PARTICIPANT", "participated_on": "2019-05-29T17:57:33.863366+00:00", "type": "participant", "approved": true, "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}}], "reason": "", "updated_on": "2019-05-29T18:15:59.175493+00:00", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "merge_commit": {"hash": "399bcfb880f5", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/399bcfb880f5.json"}, "html": {"href": "#!/osrf/gazebo/commits/399bcfb880f5"}}}, "closed_by": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}}