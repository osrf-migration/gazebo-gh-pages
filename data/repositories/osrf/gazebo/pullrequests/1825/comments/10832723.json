{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1825/comments/10832723.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1825/_/diff#comment-10832723"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1825, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1825.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1825"}}, "title": "DART interface update for DART 5.0"}, "content": {"raw": "It looks like dart 5.1.0 has fixed #1487. You can enable the test now if you like:\n\n~~~\ndiff -r 461196102417 cmake/SearchForStuff.cmake\n--- a/cmake/SearchForStuff.cmake\tWed Sep 30 10:28:25 2015 -0400\n+++ b/cmake/SearchForStuff.cmake\tThu Oct 15 03:04:17 2015 -0700\n@@ -142,7 +142,7 @@\n \n   #################################################\n   # Find DART\n-  find_package(DARTCore 5.0.1 QUIET)\n+  find_package(DARTCore 5.1.0 QUIET)\n   if (DARTCore_FOUND)\n     message (STATUS \"Looking for DARTCore - ${DARTCore_VERSION} found\")\n     set (HAVE_DART TRUE)\ndiff -r 461196102417 test/integration/physics_link.cc\n--- a/test/integration/physics_link.cc\tWed Sep 30 10:28:25 2015 -0400\n+++ b/test/integration/physics_link.cc\tThu Oct 15 03:04:17 2015 -0700\n@@ -307,14 +307,7 @@\n     math::Vector3 H = link->GetWorldAngularMomentum();\n     angularMomentumError.InsertData((H - H0) / H0mag);\n   }\n-  if (_physicsEngine == \"dart\")\n-  {\n-    gzdbg << \"dart has higher error for this test (see #1487), \"\n-          << \"so a larger tolerance is used.\"\n-          << std::endl;\n-    EXPECT_LT(angularMomentumError.Mag().Map()[stat], g_tolerance * 1e5);\n-  }\n-  else\n+\n   {\n     EXPECT_LT(angularMomentumError.Mag().Map()[stat], g_tolerance * 10);\n   }\n~~~", "markup": "markdown", "html": "<p>It looks like dart 5.1.0 has fixed <a href=\"#!/osrf/gazebo/issues/1487/dart-has-lower-accuracy-on-angular\" rel=\"nofollow\" title=\"DART has lower accuracy on angular momentum test\" class=\"ap-connect-link\">#1487</a>. You can enable the test now if you like:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gh\">diff -r 461196102417 cmake/SearchForStuff.cmake</span>\n<span class=\"gd\">--- a/cmake/SearchForStuff.cmake    Wed Sep 30 10:28:25 2015 -0400</span>\n<span class=\"gi\">+++ b/cmake/SearchForStuff.cmake    Thu Oct 15 03:04:17 2015 -0700</span>\n<span class=\"gu\">@@ -142,7 +142,7 @@</span>\n\n   #################################################\n   # Find DART\n<span class=\"gd\">-  find_package(DARTCore 5.0.1 QUIET)</span>\n<span class=\"gi\">+  find_package(DARTCore 5.1.0 QUIET)</span>\n   if (DARTCore_FOUND)\n     message (STATUS &quot;Looking for DARTCore - ${DARTCore_VERSION} found&quot;)\n     set (HAVE_DART TRUE)\n<span class=\"gh\">diff -r 461196102417 test/integration/physics_link.cc</span>\n<span class=\"gd\">--- a/test/integration/physics_link.cc  Wed Sep 30 10:28:25 2015 -0400</span>\n<span class=\"gi\">+++ b/test/integration/physics_link.cc  Thu Oct 15 03:04:17 2015 -0700</span>\n<span class=\"gu\">@@ -307,14 +307,7 @@</span>\n     math::Vector3 H = link-&gt;GetWorldAngularMomentum();\n     angularMomentumError.InsertData((H - H0) / H0mag);\n   }\n<span class=\"gd\">-  if (_physicsEngine == &quot;dart&quot;)</span>\n<span class=\"gd\">-  {</span>\n<span class=\"gd\">-    gzdbg &lt;&lt; &quot;dart has higher error for this test (see #1487), &quot;</span>\n<span class=\"gd\">-          &lt;&lt; &quot;so a larger tolerance is used.&quot;</span>\n<span class=\"gd\">-          &lt;&lt; std::endl;</span>\n<span class=\"gd\">-    EXPECT_LT(angularMomentumError.Mag().Map()[stat], g_tolerance * 1e5);</span>\n<span class=\"gd\">-  }</span>\n<span class=\"gd\">-  else</span>\n<span class=\"gi\">+</span>\n   {\n     EXPECT_LT(angularMomentumError.Mag().Map()[stat], g_tolerance * 10);\n   }\n</pre></div>", "type": "rendered"}, "created_on": "2015-10-15T10:07:17.267331+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2015-10-15T10:07:17.271027+00:00", "type": "pullrequest_comment", "id": 10832723}