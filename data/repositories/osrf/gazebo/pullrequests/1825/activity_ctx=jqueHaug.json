{"pagelen": 50, "values": [{"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1825/comments/8517767.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1825/_/diff#comment-8517767"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1825, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1825.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1825"}}, "title": "DART interface update for DART 5.0"}, "content": {"raw": "This will break ABI/API compatibility with Gazebo6. Any place that deprecates an existing function must go into gazebo7.", "markup": "markdown", "html": "<p>This will break ABI/API compatibility with Gazebo6. Any place that deprecates an existing function must go into gazebo7.</p>", "type": "rendered"}, "created_on": "2015-07-24T14:51:03.065987+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2015-07-24T14:51:03.081866+00:00", "type": "pullrequest_comment", "id": 8517767}, "pull_request": {"type": "pullrequest", "id": 1825, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1825.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1825"}}, "title": "DART interface update for DART 5.0"}}, {"update": {"description": "This pull request updates the DART interface for DART 5.0. Major code changes were made in the part of Model assembling.\r\n\r\nIn DART 5.0, links (dart::BodyNode) and joints cannot be created individually. [It should be created through its Model (dart::Skeleton) in the order of tree spanning like BFS or DFS](https://github.com/dartsim/dart/pull/369). Gazebo however allows to create links and joints individually by parsing a SDF file in serial order using Model::Load(), and it doesn't guarantee that links and joints are parsed in the tree spanning order. That being said, the complete list of links and joints are required to build a dart::Skeleton. \r\n\r\n[It seems Model::Load() doesn't parse the joints under some condition](#!/osrf/gazebo/src/04c8460a5b855f9719c0cc306adf43f79064ed6a/gazebo/physics/Model.cc?at=default#Model.cc-92) so I put the model assembling code in DARTModel::Init(). After that, I found an issue that some code attempts to access member functions of Link and Joint in Model::Load() when DART objects are not created because Model::Init() is not called yet. I think they shouldn't be called before Joint and Link are initialized but I leave it since it looks out of scope of this PR.\r\n\r\nI used caching method to resolve this issue. If a setter function is called before it's ready to be called then it caches the value or the function call itself (to avoid copy-and-paste the logic that used in the setter function), and returns when the corresponding getter function is called. This caching method doesn't work well for all the kind of setter/getter functions because many of them doesn't have one-to-one relationship (e.g., Joint::setAxis() and Joint::setGlobalAxis()), but this is the best solution I can think as of now. Please let me know if there is better idea.\r\n\r\nAlso, this PR partially fixes [DARTScrewJoint issue](#!/osrf/gazebo/issues/1096/dartscrewjoint-has-some-test-failures) by converting different definitions of thread pitch between Gazebo and DART.\r\n\r\nI'm targeting this PR to gazebo6 since I believe this doesn't break API/ABI compatibility, but please let me know this should target to default.", "title": "DART interface update for DART 5.0", "destination": {"commit": {"hash": "256c1d2f8099", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/256c1d2f8099.json"}, "html": {"href": "#!/osrf/gazebo/commits/256c1d2f8099"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "5410634cb0fa", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jlee02/gazebo_dart/commit/5410634cb0fa"}, "html": {"href": "https://bitbucket.org/jlee02/gazebo_dart/commits/5410634cb0fa"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jlee02/gazebo_dart"}, "html": {"href": "https://bitbucket.org/jlee02/gazebo_dart"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3c031c73-40f7-4d2a-aecf-c6876e22ed39}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo_dart", "full_name": "jlee02/gazebo_dart", "uuid": "{3c031c73-40f7-4d2a-aecf-c6876e22ed39}"}, "branch": {"name": "dart5"}}, "state": "OPEN", "author": {"display_name": "Jeongseok Lee", "uuid": "{3907b560-aed7-43bd-bfa9-fd9873322291}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3907b560-aed7-43bd-bfa9-fd9873322291%7D"}, "html": {"href": "https://bitbucket.org/%7B3907b560-aed7-43bd-bfa9-fd9873322291%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/242819b368397b2b4cddf273b2ba9bf8d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJL-0.png"}}, "nickname": "jlee02", "type": "user", "account_id": "557058:e3fbdece-a1d8-4fb6-a9f1-236ecb09bd9d"}, "date": "2015-07-24T14:47:47.621298+00:00"}, "pull_request": {"type": "pullrequest", "id": 1825, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1825.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1825"}}, "title": "DART interface update for DART 5.0"}}, {"update": {"description": "This pull request updates the DART interface for DART 5.0. Major code changes were made in the part of Model assembling.\r\n\r\nIn DART 5.0, links (dart::BodyNode) and joints cannot be created individually. [It should be created through its Model (dart::Skeleton) in the order of tree spanning like BFS or DFS](https://github.com/dartsim/dart/pull/369). Gazebo however allows to create links and joints individually by parsing a SDF file in serial order using Model::Load(), and it doesn't guarantee that links and joints are parsed in the tree spanning order. That being said, the complete list of links and joints are required to build a dart::Skeleton. \r\n\r\n[It seems Model::Load() doesn't parse the joints under some condition](#!/osrf/gazebo/src/04c8460a5b855f9719c0cc306adf43f79064ed6a/gazebo/physics/Model.cc?at=default#Model.cc-92) so I put the model assembling code in DARTModel::Init(). After that, I found an issue that some code attempts to access member functions of Link and Joint in Model::Load() when DART objects are not created because Model::Init() is not called yet. I think they shouldn't be called before Joint and Link are initialized but I leave it since it looks out of scope of this PR.\r\n\r\nI used caching method to resolve this issue. If a setter function is called before it's ready to called then it caches the value or the function call itself (to avoid copy-and-paste the logic that used in the setter function), and returns when the corresponding getter function is called. This caching method doesn't work well for all the kind of setter/getter functions because many of them doesn't have one-to-one relationship (e.g., Joint::setAxis() and Joint::setGlobalAxis()), but this is the best solution I can think as of now. Please let me know if there is better idea.\r\n\r\nAlso, this PR partially fixes [DARTScrewJoint issue](#!/osrf/gazebo/issues/1096/dartscrewjoint-has-some-test-failures) by converting different definitions of thread pitch between Gazebo and DART.\r\n\r\nI'm targeting this PR to gazebo6 since I believe this doesn't break API/ABI compatibility, but please let me know this should target to default.", "title": "DART interface update for DART 5.0", "destination": {"commit": {"hash": "256c1d2f8099", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/256c1d2f8099.json"}, "html": {"href": "#!/osrf/gazebo/commits/256c1d2f8099"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "5410634cb0fa", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jlee02/gazebo_dart/commit/5410634cb0fa"}, "html": {"href": "https://bitbucket.org/jlee02/gazebo_dart/commits/5410634cb0fa"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jlee02/gazebo_dart"}, "html": {"href": "https://bitbucket.org/jlee02/gazebo_dart"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3c031c73-40f7-4d2a-aecf-c6876e22ed39}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo_dart", "full_name": "jlee02/gazebo_dart", "uuid": "{3c031c73-40f7-4d2a-aecf-c6876e22ed39}"}, "branch": {"name": "dart5"}}, "state": "OPEN", "author": {"display_name": "Jeongseok Lee", "uuid": "{3907b560-aed7-43bd-bfa9-fd9873322291}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3907b560-aed7-43bd-bfa9-fd9873322291%7D"}, "html": {"href": "https://bitbucket.org/%7B3907b560-aed7-43bd-bfa9-fd9873322291%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/242819b368397b2b4cddf273b2ba9bf8d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJL-0.png"}}, "nickname": "jlee02", "type": "user", "account_id": "557058:e3fbdece-a1d8-4fb6-a9f1-236ecb09bd9d"}, "date": "2015-07-24T14:47:05.855415+00:00"}, "pull_request": {"type": "pullrequest", "id": 1825, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1825.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1825"}}, "title": "DART interface update for DART 5.0"}}, {"update": {"description": "This pull request updates the DART interface for DART 5.0. Major code changes were made in the part of Model assembling.\r\n\r\nIn DART 5.0, links (dart::BodyNode) and joints cannot be created individually. [It should be created through its Model (dart::Skeleton) in the order of tree spanning like BFS or DFS](https://github.com/dartsim/dart/pull/369). Gazebo however allows to create links and joints individually by parsing a SDF file in serial order using Model::Load(), and it doesn't guarantee that links and joints are parsed in the tree spanning order. That being said, the complete list of links and joints are required to build a dart::Skeleton. \r\n\r\n[It seems Model::Load() doesn't parse the joints under some condition](#!/osrf/gazebo/src/04c8460a5b855f9719c0cc306adf43f79064ed6a/gazebo/physics/Model.cc?at=default#Model.cc-92) so I put the model assembling code in DARTModel::Init(). After that, I found an issue that some code attempts to access member functions of Link and Joint in Model::Load() when DART objects are not created because Model::Init() is not called yet. I think they shouldn't be called before Joint and Link are initialized but I leave it since it looks out of scope of this PR.\r\n\r\nI used caching method to resolve this issue. If a setter function is called before it's ready to called then it caches the value or the function call itself (to avoid copy-and-paste the logic that used in the setter function), and returns when the corresponding getter function is called. This caching method doesn't work well for all the kind of setter/getter functions because many of them doesn't have one-to-one relationship (e.g., Joint::setAxis() and Joint::setGlobalAxis()), but this is the best solution I can think as of now. Please let me know if there is better idea.\r\n\r\nAlso, this PR partially fixes [DARTScrewJoint issue](#!/osrf/gazebo/issues/1096/dartscrewjoint-has-some-test-failures) by converting different definitions of thread pitch between Gazebo and DART.\r\n\r\nI'm targeting this PR to gazebo6 since I believe this doesn't break API/ABI compatibility, but please let me know this should target to default.", "title": "DART interface update for DART 5.0", "destination": {"commit": {"hash": "256c1d2f8099", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/256c1d2f8099.json"}, "html": {"href": "#!/osrf/gazebo/commits/256c1d2f8099"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "5410634cb0fa", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jlee02/gazebo_dart/commit/5410634cb0fa"}, "html": {"href": "https://bitbucket.org/jlee02/gazebo_dart/commits/5410634cb0fa"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/jlee02/gazebo_dart"}, "html": {"href": "https://bitbucket.org/jlee02/gazebo_dart"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3c031c73-40f7-4d2a-aecf-c6876e22ed39}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo_dart", "full_name": "jlee02/gazebo_dart", "uuid": "{3c031c73-40f7-4d2a-aecf-c6876e22ed39}"}, "branch": {"name": "dart5"}}, "state": "OPEN", "author": {"display_name": "Jeongseok Lee", "uuid": "{3907b560-aed7-43bd-bfa9-fd9873322291}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3907b560-aed7-43bd-bfa9-fd9873322291%7D"}, "html": {"href": "https://bitbucket.org/%7B3907b560-aed7-43bd-bfa9-fd9873322291%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/242819b368397b2b4cddf273b2ba9bf8d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJL-0.png"}}, "nickname": "jlee02", "type": "user", "account_id": "557058:e3fbdece-a1d8-4fb6-a9f1-236ecb09bd9d"}, "date": "2015-07-24T14:47:05.798343+00:00"}, "pull_request": {"type": "pullrequest", "id": 1825, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1825.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1825"}}, "title": "DART interface update for DART 5.0"}}]}