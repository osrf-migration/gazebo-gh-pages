{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2346/comments/20296322.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2346/_/diff#comment-20296322"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2346, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2346.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2346"}}, "title": "Added a harness plugin"}, "content": {"raw": "One issue might be critical is the \"touch down\", current plugin calls `Joint::SetForce` during `HarnessPlugin::OnUpdate` at every simulation step to maintain position. This might not be ideal as the robot touches down on the ground, the winch might very likely actually impart force driving the robot downwards. In a real harness, only support forces are applied at the robot torso.\n\nTo simulate this, we might have to (sorry @nkoenig) create an intermediate link, so robot is attached to the harness_link and harness_link to the world. Where robot is attached to the harness_link is a prismatic joint with robot sitting at the lower joint limit, or a pseudo-contact joint, in either case the joint only applies support force in the upwards-z direction.\n\nAnd the harness_link to world joint is PID force controlled like the current implementation.", "markup": "markdown", "html": "<p>One issue might be critical is the \"touch down\", current plugin calls <code>Joint::SetForce</code> during <code>HarnessPlugin::OnUpdate</code> at every simulation step to maintain position. This might not be ideal as the robot touches down on the ground, the winch might very likely actually impart force driving the robot downwards. In a real harness, only support forces are applied at the robot torso.</p>\n<p>To simulate this, we might have to (sorry @nkoenig) create an intermediate link, so robot is attached to the harness_link and harness_link to the world. Where robot is attached to the harness_link is a prismatic joint with robot sitting at the lower joint limit, or a pseudo-contact joint, in either case the joint only applies support force in the upwards-z direction.</p>\n<p>And the harness_link to world joint is PID force controlled like the current implementation.</p>", "type": "rendered"}, "created_on": "2016-06-27T22:47:54.042094+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": "2016-06-27T22:48:57.364555+00:00", "type": "pullrequest_comment", "id": 20296322}