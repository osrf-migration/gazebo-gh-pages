{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/881/comments/1026846.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/881/_/diff#comment-1026846"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 881, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/881.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/881"}}, "title": "Part of #965 that I missed in pull request #857"}, "content": {"raw": "If the plan is to completely remove *childrenEnd*, there are still a few places where we are updating its value. We'll probably have to keep the member variable in Gazebo 1.x and 2.x for not breaking ABI.\n\n```\n#!c++\n\n$ rgrep -n childrenEnd * | grep -v Binary\nphysics/Base.hh:309:      protected: Base_V::iterator childrenEnd;\nphysics/Base.cc:70:  this->childrenEnd = this->children.end();\nphysics/Base.cc:115:  this->childrenEnd = this->children.end();\nphysics/Base.cc:199:  this->childrenEnd = this->children.end();\nphysics/Base.cc:215:  this->childrenEnd = this->children.end();\nphysics/Base.cc:263:  this->childrenEnd = this->children.end();\nphysics/Base.cc:270:  this->childrenEnd = this->children.end();\n```", "markup": "markdown", "html": "<p>If the plan is to completely remove <em>childrenEnd</em>, there are still a few places where we are updating its value. We'll probably have to keep the member variable in Gazebo 1.x and 2.x for not breaking ABI.</p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"err\">$</span> <span class=\"n\">rgrep</span> <span class=\"o\">-</span><span class=\"n\">n</span> <span class=\"n\">childrenEnd</span> <span class=\"o\">*</span> <span class=\"o\">|</span> <span class=\"n\">grep</span> <span class=\"o\">-</span><span class=\"n\">v</span> <span class=\"n\">Binary</span>\n<span class=\"n\">physics</span><span class=\"o\">/</span><span class=\"n\">Base</span><span class=\"p\">.</span><span class=\"nl\">hh</span><span class=\"p\">:</span><span class=\"mi\">309</span><span class=\"o\">:</span>      <span class=\"k\">protected</span><span class=\"o\">:</span> <span class=\"n\">Base_V</span><span class=\"o\">::</span><span class=\"n\">iterator</span> <span class=\"n\">childrenEnd</span><span class=\"p\">;</span>\n<span class=\"n\">physics</span><span class=\"o\">/</span><span class=\"n\">Base</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">70</span><span class=\"o\">:</span>  <span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">childrenEnd</span> <span class=\"o\">=</span> <span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">children</span><span class=\"p\">.</span><span class=\"n\">end</span><span class=\"p\">();</span>\n<span class=\"n\">physics</span><span class=\"o\">/</span><span class=\"n\">Base</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">115</span><span class=\"o\">:</span>  <span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">childrenEnd</span> <span class=\"o\">=</span> <span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">children</span><span class=\"p\">.</span><span class=\"n\">end</span><span class=\"p\">();</span>\n<span class=\"n\">physics</span><span class=\"o\">/</span><span class=\"n\">Base</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">199</span><span class=\"o\">:</span>  <span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">childrenEnd</span> <span class=\"o\">=</span> <span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">children</span><span class=\"p\">.</span><span class=\"n\">end</span><span class=\"p\">();</span>\n<span class=\"n\">physics</span><span class=\"o\">/</span><span class=\"n\">Base</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">215</span><span class=\"o\">:</span>  <span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">childrenEnd</span> <span class=\"o\">=</span> <span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">children</span><span class=\"p\">.</span><span class=\"n\">end</span><span class=\"p\">();</span>\n<span class=\"n\">physics</span><span class=\"o\">/</span><span class=\"n\">Base</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">263</span><span class=\"o\">:</span>  <span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">childrenEnd</span> <span class=\"o\">=</span> <span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">children</span><span class=\"p\">.</span><span class=\"n\">end</span><span class=\"p\">();</span>\n<span class=\"n\">physics</span><span class=\"o\">/</span><span class=\"n\">Base</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">270</span><span class=\"o\">:</span>  <span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">childrenEnd</span> <span class=\"o\">=</span> <span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">children</span><span class=\"p\">.</span><span class=\"n\">end</span><span class=\"p\">();</span>\n</pre></div>", "type": "rendered"}, "created_on": "2014-01-08T01:23:25.496986+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "updated_on": "2014-01-08T01:25:34.393979+00:00", "type": "pullrequest_comment", "id": 1026846}