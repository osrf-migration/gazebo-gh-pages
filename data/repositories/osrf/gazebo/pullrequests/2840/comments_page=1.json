{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2840/comments/52845828.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2840/_/diff#comment-52845828"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2840, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2840.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2840"}}, "title": "Move BUILD_TYPE_* macros to test_config.h (#2343)"}, "content": {"raw": "`test_config` feels a bit awkward to find build type configuration. Can we do the `GAZEBO_BUILD_TYPE_*` option instead?", "markup": "markdown", "html": "<p><code>test_config</code> feels a bit awkward to find build type configuration. Can we do the <code>GAZEBO_BUILD_TYPE_*</code> option instead?</p>", "type": "rendered"}, "created_on": "2018-01-02T21:22:50.528271+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2018-01-02T21:22:50.530883+00:00", "type": "pullrequest_comment", "id": 52845828}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2840/comments/52846084.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2840/_/diff#comment-52846084"}}, "parent": {"id": 52845828, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2840/comments/52845828.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2840/_/diff#comment-52845828"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2840, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2840.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2840"}}, "title": "Move BUILD_TYPE_* macros to test_config.h (#2343)"}, "content": {"raw": "I put it in test_config since the only things using these macros were our tests", "markup": "markdown", "html": "<p>I put it in test_config since the only things using these macros were our tests</p>", "type": "rendered"}, "created_on": "2018-01-02T21:27:16.491235+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2018-01-02T21:27:16.494755+00:00", "type": "pullrequest_comment", "id": 52846084}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2840/comments/52846430.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2840/_/diff#comment-52846430"}}, "parent": {"id": 52846084, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2840/comments/52846084.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2840/_/diff#comment-52846084"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2840, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2840.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2840"}}, "title": "Move BUILD_TYPE_* macros to test_config.h (#2343)"}, "content": {"raw": "Having them on an internal header makes the most sense. Installing a header that indicates a build type doesn't really make sense since we only install one copy of the headers for all build types.\n\nIf someone installed a debug version of Gazebo alongside a release version, their installed headers would just reflect the last build type that was installed, instead of reflecting the build type that the user's library is actually linking to.\n\nI think DART should also make these definitions internal (or better yet, add them as compile definitions from within cmake). I'll make a DART PR for that when I get a chance.", "markup": "markdown", "html": "<p>Having them on an internal header makes the most sense. Installing a header that indicates a build type doesn't really make sense since we only install one copy of the headers for all build types.</p>\n<p>If someone installed a debug version of Gazebo alongside a release version, their installed headers would just reflect the last build type that was installed, instead of reflecting the build type that the user's library is actually linking to.</p>\n<p>I think DART should also make these definitions internal (or better yet, add them as compile definitions from within cmake). I'll make a DART PR for that when I get a chance.</p>", "type": "rendered"}, "created_on": "2018-01-02T21:34:02.881669+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": "2018-01-02T21:44:52.149679+00:00", "type": "pullrequest_comment", "id": 52846430}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2840/comments/52846803.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2840/_/diff#comment-52846803"}}, "parent": {"id": 52846430, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2840/comments/52846430.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2840/_/diff#comment-52846430"}}, "depth": 3}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2840, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2840.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2840"}}, "title": "Move BUILD_TYPE_* macros to test_config.h (#2343)"}, "content": {"raw": "Although it might actually be a good idea to *also* call them `GAZEBO_BUILD_TYPE_*` just to make sure we don't get slapped by another project that may have decided to make some public build type macros with the same names.", "markup": "markdown", "html": "<p>Although it might actually be a good idea to <em>also</em> call them <code>GAZEBO_BUILD_TYPE_*</code> just to make sure we don't get slapped by another project that may have decided to make some public build type macros with the same names.</p>", "type": "rendered"}, "created_on": "2018-01-02T21:41:05.029602+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": "2018-01-02T21:41:05.032858+00:00", "type": "pullrequest_comment", "id": 52846803}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2840/comments/52846961.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2840/_/diff#comment-52846961"}}, "parent": {"id": 52846084, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2840/comments/52846084.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2840/_/diff#comment-52846084"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2840, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2840.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2840"}}, "title": "Move BUILD_TYPE_* macros to test_config.h (#2343)"}, "content": {"raw": "A downstream user could be using these, and there is not easy way to tick-tock this type of thing. If we leave them in the same file, then a downstream user is more likely to find the new names.", "markup": "markdown", "html": "<p>A downstream user could be using these, and there is not easy way to tick-tock this type of thing. If we leave them in the same file, then a downstream user is more likely to find the new names.</p>", "type": "rendered"}, "created_on": "2018-01-02T21:44:40.360186+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2018-01-02T21:44:40.362654+00:00", "type": "pullrequest_comment", "id": 52846961}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2840/comments/52847672.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2840/_/diff#comment-52847672"}}, "parent": {"id": 52846961, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2840/comments/52846961.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2840/_/diff#comment-52846961"}}, "depth": 3}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2840, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2840.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2840"}}, "title": "Move BUILD_TYPE_* macros to test_config.h (#2343)"}, "content": {"raw": "I don't see how a downstream user could be doing anything safely with these macros.\n\nEach time you install a different build type of Gazebo, these macros will get changed in your `include` directory. The user would have to ensure that they only have one build type installed at a time, or else these macros may be incorrect (e.g. they might link to a debug build of the library, but if the last build that they installed was a release version, then the headers will incorrectly indicate that they are linking to a release build).\n\nIf anything, the user should use their own build script to indicate to their project what build type they're using. Or, if we want to be really nice, we could use\n\n`target_compile_definitions(gazebo PUBLIC GAZEBO_BUILD_TYPE_$<CONFIG>=1)`\n\nIf we add that to our gazebo cmake script and export the gazebo targets, then as long as the user finds and links to gazebo using an imported target in cmake, their library or application will receive the compile definition, without needing to include any header.\n\nIt's also worth noting that our current scheme does not work for multi-configuration generators like Visual Studio. Users will be left with the macros for whatever build type was chosen at configuration time, and the macro will not be corrected if they ever switch build types from within Visual Studio. The `target_compile_definitions(~)` proposal would work for multi-configuration generators (as long as we use the `$<CONFIG>` generator expression).", "markup": "markdown", "html": "<p>I don't see how a downstream user could be doing anything safely with these macros.</p>\n<p>Each time you install a different build type of Gazebo, these macros will get changed in your <code>include</code> directory. The user would have to ensure that they only have one build type installed at a time, or else these macros may be incorrect (e.g. they might link to a debug build of the library, but if the last build that they installed was a release version, then the headers will incorrectly indicate that they are linking to a release build).</p>\n<p>If anything, the user should use their own build script to indicate to their project what build type they're using. Or, if we want to be really nice, we could use</p>\n<p><code>target_compile_definitions(gazebo PUBLIC GAZEBO_BUILD_TYPE_$&lt;CONFIG&gt;=1)</code></p>\n<p>If we add that to our gazebo cmake script and export the gazebo targets, then as long as the user finds and links to gazebo using an imported target in cmake, their library or application will receive the compile definition, without needing to include any header.</p>\n<p>It's also worth noting that our current scheme does not work for multi-configuration generators like Visual Studio. Users will be left with the macros for whatever build type was chosen at configuration time, and the macro will not be corrected if they ever switch build types from within Visual Studio. The <code>target_compile_definitions(~)</code> proposal would work for multi-configuration generators (as long as we use the <code>$&lt;CONFIG&gt;</code> generator expression).</p>", "type": "rendered"}, "created_on": "2018-01-02T21:58:50.050685+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": "2018-01-02T21:58:50.052811+00:00", "type": "pullrequest_comment", "id": 52847672}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2840/comments/52848243.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2840/_/diff#comment-52848243"}}, "parent": {"id": 52847672, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2840/comments/52847672.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2840/_/diff#comment-52847672"}}, "depth": 4}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2840, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2840.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2840"}}, "title": "Move BUILD_TYPE_* macros to test_config.h (#2343)"}, "content": {"raw": "Unless we can guarantee that no one is using these values, then we should play it safe. We can add a deprecation note, and inform users that these value will change to something else in gazebo10.", "markup": "markdown", "html": "<p>Unless we can guarantee that no one is using these values, then we should play it safe. We can add a deprecation note, and inform users that these value will change to something else in gazebo10.</p>", "type": "rendered"}, "created_on": "2018-01-02T22:10:41.648728+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2018-01-02T22:10:41.651770+00:00", "type": "pullrequest_comment", "id": 52848243}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2840/comments/52849973.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2840/_/diff#comment-52849973"}}, "parent": {"id": 52848243, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2840/comments/52848243.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2840/_/diff#comment-52848243"}}, "depth": 5}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2840, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2840.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2840"}}, "title": "Move BUILD_TYPE_* macros to test_config.h (#2343)"}, "content": {"raw": "Changing the name to `GAZEBO_BUILD_TYPE_*` won't tic-toc either. Users' code will just behave as if none of the build type macros have been specified. Unless their code is specifically designed to fail compilation in the absence of a build type macro (which is very unlikely), they won't realize that this change has occurred.\n\nIf we only deprecate the macros, the build issue with DART will still persist. I wouldn't be shocked if there are other libraries out there who are also defining a `BUILD_TYPE_*` macro, unaware of the conflicts that it may cause.\n\nIt seems to me that if we *really* want to tic-toc this, the best we can do would be something like\n\n```\n// In gazebo_config.h.in\n\n#define GZ_STRINGIFY(x) #x\n\n#if defined __GNUC__\n\n#define GZ_COMPILE_WARNING_HELPER(x) \\\n  GZ_STRINGIFY(GCC warning x)\n\n#define GZ_COMPILE_WARNING(x) \\\n  _Pragma(GZ_COMPILE_WARNING_HELPER(#x))\n\n#elif defined _MSC_VER\n\n#define GZ_COMPILE_WARNING(x) \\\n  __pragma(message(x))\n\n#endif\n\n\n#ifndef BUILD_TYPE_PROFILE\n#cmakedefine BUILD_TYPE_PROFILE 1 GZ_COMPILE_WARNING(BUILD_TYPE_PROFILE is deprecated)\n#endif\n\n#ifndef BUILD_TYPE_DEBUG\n#cmakedefine BUILD_TYPE_DEBUG 1 GZ_COMPILE_WARNING(BUILD_TYPE_DEBUG is deprecated)\n#endif\n\n#ifndef BUILD_TYPE_RELEASE\n#cmakedefine BUILD_TYPE_RELEASE 1 GZ_COMPILE_WARNING(BUILD_TYPE_RELEASE is deprecated)\n#endif\n\n#ifndef BUILD_TYPE_COVERAGE\n#cmakedefine BUILD_TYPE_COVERAGE 1 GZ_COMPILE_WARNING(BUILD_TYPE_COVERAGE is deprecated)\n#endif\n```\n\nThe first half of that is just boilerplate to get cross-platform macro deprecation (which it turns out is not a trivial thing). For Visual Studio users, these will only appear as compile-time messages, not as warnings, but as far as I can tell, that's the best that can be offered for deprecating a macro in Visual Studio.", "markup": "markdown", "html": "<p>Changing the name to <code>GAZEBO_BUILD_TYPE_*</code> won't tic-toc either. Users' code will just behave as if none of the build type macros have been specified. Unless their code is specifically designed to fail compilation in the absence of a build type macro (which is very unlikely), they won't realize that this change has occurred.</p>\n<p>If we only deprecate the macros, the build issue with DART will still persist. I wouldn't be shocked if there are other libraries out there who are also defining a <code>BUILD_TYPE_*</code> macro, unaware of the conflicts that it may cause.</p>\n<p>It seems to me that if we <em>really</em> want to tic-toc this, the best we can do would be something like</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"c1\">// In gazebo_config.h.in</span>\n\n<span class=\"cp\">#define GZ_STRINGIFY(x) #x</span>\n\n<span class=\"cp\">#if defined __GNUC__</span>\n\n<span class=\"cp\">#define GZ_COMPILE_WARNING_HELPER(x) \\</span>\n<span class=\"cp\">  GZ_STRINGIFY(GCC warning x)</span>\n\n<span class=\"cp\">#define GZ_COMPILE_WARNING(x) \\</span>\n<span class=\"cp\">  _Pragma(GZ_COMPILE_WARNING_HELPER(#x))</span>\n\n<span class=\"cp\">#elif defined _MSC_VER</span>\n\n<span class=\"cp\">#define GZ_COMPILE_WARNING(x) \\</span>\n<span class=\"cp\">  __pragma(message(x))</span>\n\n<span class=\"cp\">#endif</span>\n\n\n<span class=\"cp\">#ifndef BUILD_TYPE_PROFILE</span>\n<span class=\"cp\">#cmakedefine BUILD_TYPE_PROFILE 1 GZ_COMPILE_WARNING(BUILD_TYPE_PROFILE is deprecated)</span>\n<span class=\"cp\">#endif</span>\n\n<span class=\"cp\">#ifndef BUILD_TYPE_DEBUG</span>\n<span class=\"cp\">#cmakedefine BUILD_TYPE_DEBUG 1 GZ_COMPILE_WARNING(BUILD_TYPE_DEBUG is deprecated)</span>\n<span class=\"cp\">#endif</span>\n\n<span class=\"cp\">#ifndef BUILD_TYPE_RELEASE</span>\n<span class=\"cp\">#cmakedefine BUILD_TYPE_RELEASE 1 GZ_COMPILE_WARNING(BUILD_TYPE_RELEASE is deprecated)</span>\n<span class=\"cp\">#endif</span>\n\n<span class=\"cp\">#ifndef BUILD_TYPE_COVERAGE</span>\n<span class=\"cp\">#cmakedefine BUILD_TYPE_COVERAGE 1 GZ_COMPILE_WARNING(BUILD_TYPE_COVERAGE is deprecated)</span>\n<span class=\"cp\">#endif</span>\n</pre></div>\n\n\n<p>The first half of that is just boilerplate to get cross-platform macro deprecation (which it turns out is not a trivial thing). For Visual Studio users, these will only appear as compile-time messages, not as warnings, but as far as I can tell, that's the best that can be offered for deprecating a macro in Visual Studio.</p>", "type": "rendered"}, "created_on": "2018-01-02T22:44:17.712280+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": "2018-01-02T22:52:15.527099+00:00", "type": "pullrequest_comment", "id": 52849973}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2840/comments/52850804.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2840/_/diff#comment-52850804"}}, "parent": {"id": 52849973, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2840/comments/52849973.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2840/_/diff#comment-52849973"}}, "depth": 6}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2840, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2840.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2840"}}, "title": "Move BUILD_TYPE_* macros to test_config.h (#2343)"}, "content": {"raw": "Right, it won't tick-tock (see my comment above). There is no perfect solution here. I'm suggesting the path that limits potential fallout without going too far down a complicated road that will affect relatively few people.", "markup": "markdown", "html": "<p>Right, it won't tick-tock (see my comment above). There is no perfect solution here. I'm suggesting the path that limits potential fallout without going too far down a complicated road that will affect relatively few people.</p>", "type": "rendered"}, "created_on": "2018-01-02T23:02:35.941579+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2018-01-02T23:02:35.943869+00:00", "type": "pullrequest_comment", "id": 52850804}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2840/comments/52852610.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2840/_/diff#comment-52852610"}}, "parent": {"id": 52850804, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2840/comments/52850804.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2840/_/diff#comment-52850804"}}, "depth": 7}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2840, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2840.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2840"}}, "title": "Move BUILD_TYPE_* macros to test_config.h (#2343)"}, "content": {"raw": "I see what you mean.\n\nI suppose anyone who was relying on those macros in the first place was putting themselves in a very precarious position, so the effort of a proper tic-toc isn't really necessary.\n\nIf we at least put a note in the header near the new definitions explaining that they are unreliable and should not be used (and will be removed in the future), that's about as accommodating as anyone can reasonably expect us to be.", "markup": "markdown", "html": "<p>I see what you mean.</p>\n<p>I suppose anyone who was relying on those macros in the first place was putting themselves in a very precarious position, so the effort of a proper tic-toc isn't really necessary.</p>\n<p>If we at least put a note in the header near the new definitions explaining that they are unreliable and should not be used (and will be removed in the future), that's about as accommodating as anyone can reasonably expect us to be.</p>", "type": "rendered"}, "created_on": "2018-01-02T23:52:32.163395+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": "2018-01-02T23:52:32.165771+00:00", "type": "pullrequest_comment", "id": 52852610}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2840/comments/52918296.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2840/_/diff#comment-52918296"}}, "parent": {"id": 52852610, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2840/comments/52852610.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2840/_/diff#comment-52852610"}}, "depth": 8}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2840, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2840.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2840"}}, "title": "Move BUILD_TYPE_* macros to test_config.h (#2343)"}, "content": {"raw": "Sounds good. We could also say that you shouldn't use these as they will be deprecated in gazebo10. That will give people a timeframe.", "markup": "markdown", "html": "<p>Sounds good. We could also say that you shouldn't use these as they will be deprecated in gazebo10. That will give people a timeframe.</p>", "type": "rendered"}, "created_on": "2018-01-03T18:08:54.932487+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2018-01-03T18:08:54.936120+00:00", "type": "pullrequest_comment", "id": 52918296}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2840/comments/52941955.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2840/_/diff#comment-52941955"}}, "parent": {"id": 52850804, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2840/comments/52850804.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2840/_/diff#comment-52850804"}}, "depth": 7}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2840, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2840.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2840"}}, "title": "Move BUILD_TYPE_* macros to test_config.h (#2343)"}, "content": {"raw": "Since we don't have a good way to tick-tock these macro definitions, I would propose to just rename them now and put a note in the migration guide. I have a branch for this that I will submit as a replacement for this one if you agree:\n\n* #!/osrf/gazebo/branch/issue_2343_alt#diff", "markup": "markdown", "html": "<p>Since we don't have a good way to tick-tock these macro definitions, I would propose to just rename them now and put a note in the migration guide. I have a branch for this that I will submit as a replacement for this one if you agree:</p>\n<ul>\n<li><a href=\"#!/osrf/gazebo/branch/issue_2343_alt#diff\" rel=\"nofollow\" class=\"ap-connect-link\">#!/osrf/gazebo/branch/issue_2343_alt#diff</a></li>\n</ul>", "type": "rendered"}, "created_on": "2018-01-04T01:11:33.533219+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2018-01-04T01:11:33.535399+00:00", "type": "pullrequest_comment", "id": 52941955}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2840/comments/53036096.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2840/_/diff#comment-53036096"}}, "parent": {"id": 52849973, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2840/comments/52849973.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2840/_/diff#comment-52849973"}}, "depth": 6}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2840, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2840.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2840"}}, "title": "Move BUILD_TYPE_* macros to test_config.h (#2343)"}, "content": {"raw": "Many times these macros are only tested for existence, not their values:\n\n~~~\n#ifdef BUILD_TYPE_RELEASE\n// change timing\n#endif\n~~~\n\nI think adding pragmas to the content of the macro doesn't generate a warning when checking if they are defined, but not checking their value", "markup": "markdown", "html": "<p>Many times these macros are only tested for existence, not their values:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"cp\">#ifdef BUILD_TYPE_RELEASE</span>\n<span class=\"c1\">// change timing</span>\n<span class=\"cp\">#endif</span>\n</pre></div>\n\n\n<p>I think adding pragmas to the content of the macro doesn't generate a warning when checking if they are defined, but not checking their value</p>", "type": "rendered"}, "created_on": "2018-01-05T05:41:55.447538+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2018-01-05T05:41:55.450108+00:00", "type": "pullrequest_comment", "id": 53036096}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2840/comments/52847061.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2840/_/diff#comment-52847061"}}, "parent": {"id": 52845828, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2840/comments/52845828.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2840/_/diff#comment-52845828"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2840, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2840.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2840"}}, "title": "Move BUILD_TYPE_* macros to test_config.h (#2343)"}, "content": {"raw": "ok, I'll switch to using `GAZEBO_BUILD_TYPE_*` and leave it in the current headers", "markup": "markdown", "html": "<p>ok, I'll switch to using <code>GAZEBO_BUILD_TYPE_*</code> and leave it in the current headers</p>", "type": "rendered"}, "created_on": "2018-01-02T21:46:53.025914+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2018-01-02T21:46:53.028353+00:00", "type": "pullrequest_comment", "id": 52847061}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2840/comments/52846650.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:b9dbf7affa40..63bf55c32421?path=cmake%2Fgazebo_config.h.in"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2840/_/diff#comment-52846650"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2840, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2840.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2840"}}, "title": "Move BUILD_TYPE_* macros to test_config.h (#2343)"}, "content": {"raw": "actually, I think this PR breaks this check down here", "markup": "markdown", "html": "<p>actually, I think this PR breaks this check down here</p>", "type": "rendered"}, "created_on": "2018-01-02T21:37:47.217508+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {"to": null, "from": 40, "path": "cmake/gazebo_config.h.in"}, "updated_on": "2018-01-02T21:37:47.219549+00:00", "type": "pullrequest_comment", "id": 52846650}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2840/comments/52846920.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:b9dbf7affa40..63bf55c32421?path=cmake%2Fgazebo_config.h.in"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2840/_/diff#comment-52846920"}}, "parent": {"id": 52846650, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2840/comments/52846650.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2840/_/diff#comment-52846650"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2840, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2840.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2840"}}, "title": "Move BUILD_TYPE_* macros to test_config.h (#2343)"}, "content": {"raw": "We should probably move this include directive to the specific translation unit(s) where it gets used.\n\nI would presume (perhaps naively) that this is only getting used in test code, so maybe moving this to `test_config.h` as well would be enough.", "markup": "markdown", "html": "<p>We should probably move this include directive to the specific translation unit(s) where it gets used.</p>\n<p>I would presume (perhaps naively) that this is only getting used in test code, so maybe moving this to <code>test_config.h</code> as well would be enough.</p>", "type": "rendered"}, "created_on": "2018-01-02T21:43:40.290834+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {"to": null, "from": null, "path": "cmake/gazebo_config.h.in"}, "updated_on": "2018-01-02T21:43:40.294144+00:00", "type": "pullrequest_comment", "id": 52846920}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2840/comments/53031521.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2840/_/diff#comment-53031521"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2840, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2840.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2840"}}, "title": "Move BUILD_TYPE_* macros to test_config.h (#2343)"}, "content": {"raw": "I'm declining this in favor of pull request #2846", "markup": "markdown", "html": "<p>I'm declining this in favor of <a href=\"#!/osrf/gazebo/pull-requests/2846/rename-build_type_-macros-to\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #2846</a></p>", "type": "rendered"}, "created_on": "2018-01-05T02:21:37.715502+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2018-01-05T02:21:37.717733+00:00", "type": "pullrequest_comment", "id": 53031521}], "page": 1, "size": 17}