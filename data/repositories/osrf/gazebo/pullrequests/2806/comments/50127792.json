{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2806/comments/50127792.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2806/_/diff#comment-50127792"}}, "parent": {"id": 49476632, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2806/comments/49476632.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2806/_/diff#comment-49476632"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2806, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2806.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2806"}}, "title": "Add camera lens flare effect"}, "content": {"raw": "Thanks, I confirmed that the lens flare disappears when the light is deleted, and comes back when a new light is added.\n\nI also noticed that the flare's direction doesn't change when we change the camera pose. But I found a workaround in case someone wants to change the flare direction at runtime:\n\n1. Start from a world with a single directional light\n1. Insert another light\n1. Place the 2nd light as desired\n1. Delete the first light - the flare will be computed based on the current direction of the 2nd light\n\nIt's hacky, but it works. I'll leave it up to you whether you think it's worth responding to light pose changes. I can imagine a simulation where the position of the sun changes along the day, for example. We can always leave it as an open issue too.\n\nReady to approve once the CI results are back.", "markup": "markdown", "html": "<p>Thanks, I confirmed that the lens flare disappears when the light is deleted, and comes back when a new light is added.</p>\n<p>I also noticed that the flare's direction doesn't change when we change the camera pose. But I found a workaround in case someone wants to change the flare direction at runtime:</p>\n<ol>\n<li>Start from a world with a single directional light</li>\n<li>Insert another light</li>\n<li>Place the 2nd light as desired</li>\n<li>Delete the first light - the flare will be computed based on the current direction of the 2nd light</li>\n</ol>\n<p>It's hacky, but it works. I'll leave it up to you whether you think it's worth responding to light pose changes. I can imagine a simulation where the position of the sun changes along the day, for example. We can always leave it as an open issue too.</p>\n<p>Ready to approve once the CI results are back.</p>", "type": "rendered"}, "created_on": "2017-11-21T17:33:41.028190+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2017-11-21T17:33:41.030661+00:00", "type": "pullrequest_comment", "id": 50127792}