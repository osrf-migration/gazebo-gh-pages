{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2110/comments/14013386.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2110/_/diff#comment-14013386"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2110, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2110.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2110"}}, "title": "changed the calculation of force/torque on parent link for gazebo::physics::ODEJoint::GetForceTorque()"}, "content": {"raw": "Hi @vorndamme , given a test is necessary for the fix to be merged in Gazebo (see http://gazebosim.org/tutorials?tut=contrib_code&ver=1.9%2B&cat=development ) I would suggest a simple one: you can take a simple pendulum model, and control the joint of the pendulum in position such that the arm of the pendulum is horizontal (but make sure that in this condition the parent and child frames are different). Then you can check the value returned by `GetForceTorque` to one that you compute analytically, \\ they should match only when the fix is applied. \n\nThis test scales well, because then you can build a similar model but with a fixed joint that connects the pole and the arm of the pendulum, and compare the `GetForceTorque()` of the two models (in theory they should match). ", "markup": "markdown", "html": "<p>Hi @vorndamme , given a test is necessary for the fix to be merged in Gazebo (see <a href=\"http://gazebosim.org/tutorials?tut=contrib_code&amp;ver=1.9%2B&amp;cat=development\" rel=\"nofollow\" class=\"ap-connect-link\">http://gazebosim.org/tutorials?tut=contrib_code&amp;ver=1.9%2B&amp;cat=development</a> ) I would suggest a simple one: you can take a simple pendulum model, and control the joint of the pendulum in position such that the arm of the pendulum is horizontal (but make sure that in this condition the parent and child frames are different). Then you can check the value returned by <code>GetForceTorque</code> to one that you compute analytically, \\ they should match only when the fix is applied. </p>\n<p>This test scales well, because then you can build a similar model but with a fixed joint that connects the pole and the arm of the pendulum, and compare the <code>GetForceTorque()</code> of the two models (in theory they should match). </p>", "type": "rendered"}, "created_on": "2016-01-29T18:23:04.722056+00:00", "user": {"display_name": "Silvio Traversaro", "uuid": "{34f404cb-5642-4f27-a032-e04c7143d776}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D"}, "html": {"href": "https://bitbucket.org/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6/578caaa1-056c-45a2-8bf9-bee94c3bebef/128"}}, "nickname": "traversaro", "type": "user", "account_id": "557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6"}, "updated_on": "2016-01-29T18:25:07.716495+00:00", "type": "pullrequest_comment", "id": 14013386}