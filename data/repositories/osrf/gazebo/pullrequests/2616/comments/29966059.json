{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2616/comments/29966059.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2616/_/diff#comment-29966059"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2616, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2616.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2616"}}, "title": "Fix more collada loader transparency calculation"}, "content": {"raw": "The PR2 shows up well, but when I choose view transparent, Gazebo crashes with this backtrace:\n\n~~~\n#0  0x00007ffff55fa428 in __GI_raise (sig=sig@entry=6) at ../sysdeps/unix/sysv/linux/raise.c:54\n#1  0x00007ffff55fc02a in __GI_abort () at abort.c:89\n#2  0x00007ffff55f2bd7 in __assert_fail_base (fmt=<optimized out>, \n    assertion=assertion@entry=0x7ffff65bf200 \"index < mPasses.size() && \\\"Index out of bounds\\\"\", \n    file=file@entry=0x7ffff65bf1b0 \"/build/ogre-1.9-mqY1wq/ogre-1.9-1.9.0+dfsg1/OgreMain/src/OgreTechnique.cpp\", line=line@entry=416, \n    function=function@entry=0x7ffff65bf540 \"Ogre::Pass* Ogre::Technique::getPass(short unsigned int)\") at assert.c:92\n#3  0x00007ffff55f2c82 in __GI___assert_fail (assertion=0x7ffff65bf200 \"index < mPasses.size() && \\\"Index out of bounds\\\"\", \n    file=0x7ffff65bf1b0 \"/build/ogre-1.9-mqY1wq/ogre-1.9-1.9.0+dfsg1/OgreMain/src/OgreTechnique.cpp\", line=416, \n    function=0x7ffff65bf540 \"Ogre::Pass* Ogre::Technique::getPass(short unsigned int)\") at assert.c:101\n#4  0x00007ffff646df3c in Ogre::Technique::getPass(unsigned short) () from /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.9.0\n#5  0x00007ffff501ddf0 in gazebo::rendering::Visual::SetTransparencyInnerLoop (this=this@entry=0xbbf6520, _sceneNode=0x7fff641d0658)\n    at /home/louise/code/gazeboB/gazebo/rendering/Visual.cc:1535\n#6  0x00007ffff501e16c in gazebo::rendering::Visual::UpdateTransparency (this=0xbbf6520, _cascade=_cascade@entry=true)\n    at /home/louise/code/gazeboB/gazebo/rendering/Visual.cc:1600\n#7  0x00007ffff501e272 in gazebo::rendering::Visual::UpdateTransparency (this=0xaa82db0, _cascade=_cascade@entry=true)\n    at /home/louise/code/gazeboB/gazebo/rendering/Visual.cc:1612\n#8  0x00007ffff501e272 in gazebo::rendering::Visual::UpdateTransparency (this=0x15335a0, _cascade=_cascade@entry=true)\n    at /home/louise/code/gazeboB/gazebo/rendering/Visual.cc:1612\n#9  0x00007ffff501e92f in gazebo::rendering::Visual::SetTransparency (this=this@entry=0x15335a0, _trans=_trans@entry=0.5)\n    at /home/louise/code/gazeboB/gazebo/rendering/Visual.cc:1633\n#10 0x00007ffff4fcc7ae in gazebo::rendering::Scene::SetTransparent (this=this@entry=0x19a86c0, _show=_show@entry=true)\n    at /home/louise/code/gazeboB/gazebo/rendering/Scene.cc:3292\n#11 0x00007ffff4fd7310 in gazebo::rendering::Scene::ProcessRequestMsg (this=this@entry=0x19a86c0, _msg=...)\n    at /home/louise/code/gazeboB/gazebo/rendering/Scene.cc:2519\n~~~", "markup": "markdown", "html": "<p>The PR2 shows up well, but when I choose view transparent, Gazebo crashes with this backtrace:</p>\n<div class=\"codehilite\"><pre><span></span>#0  0x00007ffff55fa428 in __GI_raise (sig=sig@entry=6) at ../sysdeps/unix/sysv/linux/raise.c:54\n#1  0x00007ffff55fc02a in __GI_abort () at abort.c:89\n#2  0x00007ffff55f2bd7 in __assert_fail_base (fmt=&lt;optimized out&gt;, \n    assertion=assertion@entry=0x7ffff65bf200 &quot;index &lt; mPasses.size() &amp;&amp; \\&quot;Index out of bounds\\&quot;&quot;, \n    file=file@entry=0x7ffff65bf1b0 &quot;/build/ogre-1.9-mqY1wq/ogre-1.9-1.9.0+dfsg1/OgreMain/src/OgreTechnique.cpp&quot;, line=line@entry=416, \n    function=function@entry=0x7ffff65bf540 &quot;Ogre::Pass* Ogre::Technique::getPass(short unsigned int)&quot;) at assert.c:92\n#3  0x00007ffff55f2c82 in __GI___assert_fail (assertion=0x7ffff65bf200 &quot;index &lt; mPasses.size() &amp;&amp; \\&quot;Index out of bounds\\&quot;&quot;, \n    file=0x7ffff65bf1b0 &quot;/build/ogre-1.9-mqY1wq/ogre-1.9-1.9.0+dfsg1/OgreMain/src/OgreTechnique.cpp&quot;, line=416, \n    function=0x7ffff65bf540 &quot;Ogre::Pass* Ogre::Technique::getPass(short unsigned int)&quot;) at assert.c:101\n#4  0x00007ffff646df3c in Ogre::Technique::getPass(unsigned short) () from /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.9.0\n#5  0x00007ffff501ddf0 in gazebo::rendering::Visual::SetTransparencyInnerLoop (this=this@entry=0xbbf6520, _sceneNode=0x7fff641d0658)\n    at /home/louise/code/gazeboB/gazebo/rendering/Visual.cc:1535\n#6  0x00007ffff501e16c in gazebo::rendering::Visual::UpdateTransparency (this=0xbbf6520, _cascade=_cascade@entry=true)\n    at /home/louise/code/gazeboB/gazebo/rendering/Visual.cc:1600\n#7  0x00007ffff501e272 in gazebo::rendering::Visual::UpdateTransparency (this=0xaa82db0, _cascade=_cascade@entry=true)\n    at /home/louise/code/gazeboB/gazebo/rendering/Visual.cc:1612\n#8  0x00007ffff501e272 in gazebo::rendering::Visual::UpdateTransparency (this=0x15335a0, _cascade=_cascade@entry=true)\n    at /home/louise/code/gazeboB/gazebo/rendering/Visual.cc:1612\n#9  0x00007ffff501e92f in gazebo::rendering::Visual::SetTransparency (this=this@entry=0x15335a0, _trans=_trans@entry=0.5)\n    at /home/louise/code/gazeboB/gazebo/rendering/Visual.cc:1633\n#10 0x00007ffff4fcc7ae in gazebo::rendering::Scene::SetTransparent (this=this@entry=0x19a86c0, _show=_show@entry=true)\n    at /home/louise/code/gazeboB/gazebo/rendering/Scene.cc:3292\n#11 0x00007ffff4fd7310 in gazebo::rendering::Scene::ProcessRequestMsg (this=this@entry=0x19a86c0, _msg=...)\n    at /home/louise/code/gazeboB/gazebo/rendering/Scene.cc:2519\n</pre></div>", "type": "rendered"}, "created_on": "2017-01-18T23:21:16.852778+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2017-01-18T23:21:16.855627+00:00", "type": "pullrequest_comment", "id": 29966059}