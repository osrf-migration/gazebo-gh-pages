{"pagelen": 50, "values": [{"update": {"description": "This includes minor changes to get BULLET to display the same behaviour as ODE when disabling the physics engine.\r\n\r\nWhen running with ODE and disabling the physics, the contact points still get updated when [PhysicsEngine::UpdateCollision()](#!/osrf/gazebo/src/cd526975bc8bdf3813e0600e3ece180870602471/gazebo/physics/PhysicsEngine.hh?at=default&fileviewer=file-view-default#PhysicsEngine.hh-67) is called. [World::UpdatePhysics()](#!/osrf/gazebo/src/cd526975bc8bdf3813e0600e3ece180870602471/gazebo/physics/PhysicsEngine.hh?at=default&fileviewer=file-view-default#PhysicsEngine.hh-106) gets [skipped when physics engine is disabled](#!/osrf/gazebo/src/cd526975bc8bdf3813e0600e3ece180870602471/gazebo/physics/World.cc?at=default&fileviewer=file-view-default#World.cc-798), but for the ODE contact computation this doesn't matter.\r\n\r\nAssuming this is the expected behaviour, BULLET doesn't do the same: it only clears the contact points in [BulletPhysics::UpdateCollision()](#!/osrf/gazebo/src/cd526975bc8bdf3813e0600e3ece180870602471/gazebo/physics/bullet/BulletPhysics.cc?at=default&fileviewer=file-view-default#BulletPhysics.cc-459) and doesn't compute the updated contact points (*Note:* DART actually doesn't update the collisions either, but that will be treated in a different PR).\r\n\r\nLuckily this can be fixed quite easily to mirror the behaviour of ODE (see suggested changes).\r\n\r\nIt would be extremely useful to have the same behaviour as ODE in the other physics engines. Sometimes one might want to disable physics, move around the bodies (e.g. via gzclient) and see how the contact points change.\r\n\r\nThe suggested change of this PR will only take effect when the physics are disabled. Nothing changes in the default case.\r\n\r\nI suggest to update the documentation of PhysicsEngine as well, to make it more clear how UpdateCollision() and UpdatePhysics() are expected to behave. I have added a rather lengthy comment in PhysicsEngine.hh which could probably be shortened.", "title": "Bullet should update contact information if the physics engine is disabled", "destination": {"commit": {"hash": "cd526975bc8b", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/cd526975bc8b.json"}, "html": {"href": "#!/osrf/gazebo/commits/cd526975bc8b"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "b515f2765c28", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo/commit/b515f2765c28"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo/commits/b515f2765c28"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{11522dd5-648b-4e9e-b908-d3e1170ba728}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "JenniferBuehler/gazebo", "uuid": "{11522dd5-648b-4e9e-b908-d3e1170ba728}"}, "branch": {"name": "bullet_update_collisions_when_disabled"}}, "state": "MERGED", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2017-03-20T21:07:30.917236+00:00"}, "pull_request": {"type": "pullrequest", "id": 2654, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654"}}, "title": "Bullet should update contact information if the physics engine is disabled"}}, {"approval": {"date": "2017-03-17T00:04:34.830999+00:00", "pullrequest": {"type": "pullrequest", "id": 2654, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654"}}, "title": "Bullet should update contact information if the physics engine is disabled"}, "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}}, "pull_request": {"type": "pullrequest", "id": 2654, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654"}}, "title": "Bullet should update contact information if the physics engine is disabled"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654/comments/33252000.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654/_/diff#comment-33252000"}}, "parent": {"id": 33230021, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654/comments/33230021.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654/_/diff#comment-33230021"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2654, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654"}}, "title": "Bullet should update contact information if the physics engine is disabled"}, "content": {"raw": "Thanks for spotting the coding style mistakes. Just did the update accordingly.", "markup": "markdown", "html": "<p>Thanks for spotting the coding style mistakes. Just did the update accordingly.</p>", "type": "rendered"}, "created_on": "2017-03-16T00:00:52.254681+00:00", "user": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "updated_on": "2017-03-16T00:00:52.308217+00:00", "type": "pullrequest_comment", "id": 33252000}, "pull_request": {"type": "pullrequest", "id": 2654, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654"}}, "title": "Bullet should update contact information if the physics engine is disabled"}}, {"update": {"description": "This includes minor changes to get BULLET to display the same behaviour as ODE when disabling the physics engine.\r\n\r\nWhen running with ODE and disabling the physics, the contact points still get updated when [PhysicsEngine::UpdateCollision()](#!/osrf/gazebo/src/cd526975bc8bdf3813e0600e3ece180870602471/gazebo/physics/PhysicsEngine.hh?at=default&fileviewer=file-view-default#PhysicsEngine.hh-67) is called. [World::UpdatePhysics()](#!/osrf/gazebo/src/cd526975bc8bdf3813e0600e3ece180870602471/gazebo/physics/PhysicsEngine.hh?at=default&fileviewer=file-view-default#PhysicsEngine.hh-106) gets [skipped when physics engine is disabled](#!/osrf/gazebo/src/cd526975bc8bdf3813e0600e3ece180870602471/gazebo/physics/World.cc?at=default&fileviewer=file-view-default#World.cc-798), but for the ODE contact computation this doesn't matter.\r\n\r\nAssuming this is the expected behaviour, BULLET doesn't do the same: it only clears the contact points in [BulletPhysics::UpdateCollision()](#!/osrf/gazebo/src/cd526975bc8bdf3813e0600e3ece180870602471/gazebo/physics/bullet/BulletPhysics.cc?at=default&fileviewer=file-view-default#BulletPhysics.cc-459) and doesn't compute the updated contact points (*Note:* DART actually doesn't update the collisions either, but that will be treated in a different PR).\r\n\r\nLuckily this can be fixed quite easily to mirror the behaviour of ODE (see suggested changes).\r\n\r\nIt would be extremely useful to have the same behaviour as ODE in the other physics engines. Sometimes one might want to disable physics, move around the bodies (e.g. via gzclient) and see how the contact points change.\r\n\r\nThe suggested change of this PR will only take effect when the physics are disabled. Nothing changes in the default case.\r\n\r\nI suggest to update the documentation of PhysicsEngine as well, to make it more clear how UpdateCollision() and UpdatePhysics() are expected to behave. I have added a rather lengthy comment in PhysicsEngine.hh which could probably be shortened.", "title": "Bullet should update contact information if the physics engine is disabled", "destination": {"commit": {"hash": "cd526975bc8b", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/cd526975bc8b.json"}, "html": {"href": "#!/osrf/gazebo/commits/cd526975bc8b"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "b515f2765c28", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo/commit/b515f2765c28"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo/commits/b515f2765c28"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{11522dd5-648b-4e9e-b908-d3e1170ba728}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "JenniferBuehler/gazebo", "uuid": "{11522dd5-648b-4e9e-b908-d3e1170ba728}"}, "branch": {"name": "bullet_update_collisions_when_disabled"}}, "state": "OPEN", "author": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "date": "2017-03-16T00:00:23.386820+00:00"}, "pull_request": {"type": "pullrequest", "id": 2654, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654"}}, "title": "Bullet should update contact information if the physics engine is disabled"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654/comments/33232000.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654/_/diff#comment-33232000"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2654, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654"}}, "title": "Bullet should update contact information if the physics engine is disabled"}, "content": {"raw": "a couple of style errors in this class:\n\n~~~\n./test/integration/contacts_update.cc:29:  Blank line at the end of a code block.  Is this needed?  [whitespace/blank_line] [3]\n./test/integration/contacts_update.cc:82:  Missing spaces around <<  [whitespace/operators] [3]\n~~~", "markup": "markdown", "html": "<p>a couple of style errors in this class:</p>\n<div class=\"codehilite\"><pre><span></span>./test/integration/contacts_update.cc:29:  Blank line at the end of a code block.  Is this needed?  [whitespace/blank_line] [3]\n./test/integration/contacts_update.cc:82:  Missing spaces around &lt;&lt;  [whitespace/operators] [3]\n</pre></div>", "type": "rendered"}, "created_on": "2017-03-15T17:48:12.548035+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {}, "updated_on": "2017-03-15T17:48:52.259701+00:00", "type": "pullrequest_comment", "id": 33232000}, "pull_request": {"type": "pullrequest", "id": 2654, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654"}}, "title": "Bullet should update contact information if the physics engine is disabled"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654/comments/33230021.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654/_/diff#comment-33230021"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2654, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654"}}, "title": "Bullet should update contact information if the physics engine is disabled"}, "content": {"raw": "looks good to me, just some minor coding style suggestions", "markup": "markdown", "html": "<p>looks good to me, just some minor coding style suggestions</p>", "type": "rendered"}, "created_on": "2017-03-15T17:24:56.955674+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2017-03-15T17:24:56.962727+00:00", "type": "pullrequest_comment", "id": 33230021}, "pull_request": {"type": "pullrequest", "id": 2654, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654"}}, "title": "Bullet should update contact information if the physics engine is disabled"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654/comments/33229949.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654/_/diff#comment-33229949"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2654, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654"}}, "title": "Bullet should update contact information if the physics engine is disabled"}, "content": {"raw": "`EXPECT_FALSE(world->PhysicsEnabled());`", "markup": "markdown", "html": "<p><code>EXPECT_FALSE(world-&gt;PhysicsEnabled());</code></p>", "type": "rendered"}, "created_on": "2017-03-15T17:23:48.698973+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {}, "updated_on": "2017-03-15T17:23:48.703053+00:00", "type": "pullrequest_comment", "id": 33229949}, "pull_request": {"type": "pullrequest", "id": 2654, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654"}}, "title": "Bullet should update contact information if the physics engine is disabled"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654/comments/33229430.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654/_/diff#comment-33229430"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2654, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654"}}, "title": "Bullet should update contact information if the physics engine is disabled"}, "content": {"raw": "alphabetical order?", "markup": "markdown", "html": "<p>alphabetical order?</p>", "type": "rendered"}, "created_on": "2017-03-15T17:18:03.748969+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {}, "updated_on": "2017-03-15T17:18:03.753539+00:00", "type": "pullrequest_comment", "id": 33229430}, "pull_request": {"type": "pullrequest", "id": 2654, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654"}}, "title": "Bullet should update contact information if the physics engine is disabled"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654/comments/33229409.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654/_/diff#comment-33229409"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2654, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654"}}, "title": "Bullet should update contact information if the physics engine is disabled"}, "content": {"raw": "I think having just `#!/osrf/gazebo/pull-requests/2629` should do, otherwise the line goes over 80 characters", "markup": "markdown", "html": "<p>I think having just <code>#!/osrf/gazebo/pull-requests/2629</code> should do, otherwise the line goes over 80 characters</p>", "type": "rendered"}, "created_on": "2017-03-15T17:17:41.561259+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {}, "updated_on": "2017-03-15T17:17:41.564787+00:00", "type": "pullrequest_comment", "id": 33229409}, "pull_request": {"type": "pullrequest", "id": 2654, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654"}}, "title": "Bullet should update contact information if the physics engine is disabled"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654/comments/33229339.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654/_/diff#comment-33229339"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2654, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654"}}, "title": "Bullet should update contact information if the physics engine is disabled"}, "content": {"raw": "`NULL` -> `nullptr`\n\nthere are also a couple cases below", "markup": "markdown", "html": "<p><code>NULL</code> -&gt; <code>nullptr</code></p>\n<p>there are also a couple cases below</p>", "type": "rendered"}, "created_on": "2017-03-15T17:16:50.835001+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {}, "updated_on": "2017-03-15T17:16:50.841468+00:00", "type": "pullrequest_comment", "id": 33229339}, "pull_request": {"type": "pullrequest", "id": 2654, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654"}}, "title": "Bullet should update contact information if the physics engine is disabled"}}, {"approval": {"date": "2017-03-14T17:31:44.122139+00:00", "pullrequest": {"type": "pullrequest", "id": 2654, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654"}}, "title": "Bullet should update contact information if the physics engine is disabled"}, "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}}, "pull_request": {"type": "pullrequest", "id": 2654, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654"}}, "title": "Bullet should update contact information if the physics engine is disabled"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654/comments/33143339.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654/_/diff#comment-33143339"}}, "parent": {"id": 33067997, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654/comments/33067997.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654/_/diff#comment-33067997"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2654, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654"}}, "title": "Bullet should update contact information if the physics engine is disabled"}, "content": {"raw": "Let's leave it as it is then, thanks.", "markup": "markdown", "html": "<p>Let's leave it as it is then, thanks.</p>", "type": "rendered"}, "created_on": "2017-03-14T17:30:19.590175+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "inline": {}, "updated_on": "2017-03-14T17:30:25.006238+00:00", "type": "pullrequest_comment", "id": 33143339}, "pull_request": {"type": "pullrequest", "id": 2654, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654"}}, "title": "Bullet should update contact information if the physics engine is disabled"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654/comments/33068219.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654/_/diff#comment-33068219"}}, "parent": {"id": 32994264, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654/comments/32994264.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654/_/diff#comment-32994264"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2654, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654"}}, "title": "Bullet should update contact information if the physics engine is disabled"}, "content": {"raw": "Thanks for the comments, I made the changes accordingly. Let me know if it's better to move the fake subscriber to the constructor, I'm not sure when/if pull request #2629 will be merged and if it makes sense to move the fake subscriber in any case. I'm happy either way.", "markup": "markdown", "html": "<p>Thanks for the comments, I made the changes accordingly. Let me know if it's better to move the fake subscriber to the constructor, I'm not sure when/if <a href=\"#!/osrf/gazebo/pull-requests/2629/possibility-to-enforce-contact-addition-in\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #2629</a> will be merged and if it makes sense to move the fake subscriber in any case. I'm happy either way.</p>", "type": "rendered"}, "created_on": "2017-03-13T21:11:05.700191+00:00", "user": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "updated_on": "2017-03-13T21:11:05.738723+00:00", "type": "pullrequest_comment", "id": 33068219}, "pull_request": {"type": "pullrequest", "id": 2654, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654"}}, "title": "Bullet should update contact information if the physics engine is disabled"}}, {"update": {"description": "This includes minor changes to get BULLET to display the same behaviour as ODE when disabling the physics engine.\r\n\r\nWhen running with ODE and disabling the physics, the contact points still get updated when [PhysicsEngine::UpdateCollision()](#!/osrf/gazebo/src/cd526975bc8bdf3813e0600e3ece180870602471/gazebo/physics/PhysicsEngine.hh?at=default&fileviewer=file-view-default#PhysicsEngine.hh-67) is called. [World::UpdatePhysics()](#!/osrf/gazebo/src/cd526975bc8bdf3813e0600e3ece180870602471/gazebo/physics/PhysicsEngine.hh?at=default&fileviewer=file-view-default#PhysicsEngine.hh-106) gets [skipped when physics engine is disabled](#!/osrf/gazebo/src/cd526975bc8bdf3813e0600e3ece180870602471/gazebo/physics/World.cc?at=default&fileviewer=file-view-default#World.cc-798), but for the ODE contact computation this doesn't matter.\r\n\r\nAssuming this is the expected behaviour, BULLET doesn't do the same: it only clears the contact points in [BulletPhysics::UpdateCollision()](#!/osrf/gazebo/src/cd526975bc8bdf3813e0600e3ece180870602471/gazebo/physics/bullet/BulletPhysics.cc?at=default&fileviewer=file-view-default#BulletPhysics.cc-459) and doesn't compute the updated contact points (*Note:* DART actually doesn't update the collisions either, but that will be treated in a different PR).\r\n\r\nLuckily this can be fixed quite easily to mirror the behaviour of ODE (see suggested changes).\r\n\r\nIt would be extremely useful to have the same behaviour as ODE in the other physics engines. Sometimes one might want to disable physics, move around the bodies (e.g. via gzclient) and see how the contact points change.\r\n\r\nThe suggested change of this PR will only take effect when the physics are disabled. Nothing changes in the default case.\r\n\r\nI suggest to update the documentation of PhysicsEngine as well, to make it more clear how UpdateCollision() and UpdatePhysics() are expected to behave. I have added a rather lengthy comment in PhysicsEngine.hh which could probably be shortened.", "title": "Bullet should update contact information if the physics engine is disabled", "destination": {"commit": {"hash": "cd526975bc8b", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/cd526975bc8b.json"}, "html": {"href": "#!/osrf/gazebo/commits/cd526975bc8b"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "82ce84555a4d", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo/commit/82ce84555a4d"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo/commits/82ce84555a4d"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{11522dd5-648b-4e9e-b908-d3e1170ba728}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "JenniferBuehler/gazebo", "uuid": "{11522dd5-648b-4e9e-b908-d3e1170ba728}"}, "branch": {"name": "bullet_update_collisions_when_disabled"}}, "state": "OPEN", "author": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "date": "2017-03-13T21:07:41.863189+00:00"}, "pull_request": {"type": "pullrequest", "id": 2654, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654"}}, "title": "Bullet should update contact information if the physics engine is disabled"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654/comments/33068040.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654/_/diff#comment-33068040"}}, "parent": {"id": 33051460, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654/comments/33051460.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654/_/diff#comment-33051460"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2654, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654"}}, "title": "Bullet should update contact information if the physics engine is disabled"}, "content": {"raw": "Ahheemm\u2026 yes, thanks for double checking. I didn't notice because my DART version is fixed up already. Oupsis.", "markup": "markdown", "html": "<p>Ahheemm\u2026 yes, thanks for double checking. I didn't notice because my DART version is fixed up already. Oupsis.</p>", "type": "rendered"}, "created_on": "2017-03-13T21:07:05.590864+00:00", "user": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "inline": {}, "updated_on": "2017-03-13T21:07:05.632283+00:00", "type": "pullrequest_comment", "id": 33068040}, "pull_request": {"type": "pullrequest", "id": 2654, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654"}}, "title": "Bullet should update contact information if the physics engine is disabled"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654/comments/33067997.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654/_/diff#comment-33067997"}}, "parent": {"id": 33051560, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654/comments/33051560.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654/_/diff#comment-33051560"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2654, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654"}}, "title": "Bullet should update contact information if the physics engine is disabled"}, "content": {"raw": "Sure, could do that. The reason I left it here is that I was thinking about PR 2629: this block would then be replaced by a call to ContactManager::SetNeverDropContacts() here.\n\nShould I move it to the constructor anyway?", "markup": "markdown", "html": "<p>Sure, could do that. The reason I left it here is that I was thinking about PR 2629: this block would then be replaced by a call to ContactManager::SetNeverDropContacts() here.</p>\n<p>Should I move it to the constructor anyway?</p>", "type": "rendered"}, "created_on": "2017-03-13T21:06:01.615725+00:00", "user": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "inline": {}, "updated_on": "2017-03-13T21:06:01.652849+00:00", "type": "pullrequest_comment", "id": 33067997}, "pull_request": {"type": "pullrequest", "id": 2654, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654"}}, "title": "Bullet should update contact information if the physics engine is disabled"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654/comments/33051624.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654/_/diff#comment-33051624"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2654, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654"}}, "title": "Bullet should update contact information if the physics engine is disabled"}, "content": {"raw": "**it** doesn't?", "markup": "markdown", "html": "<p><strong>it</strong> doesn't?</p>", "type": "rendered"}, "created_on": "2017-03-13T16:58:10.520399+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "inline": {}, "updated_on": "2017-03-13T16:58:10.523259+00:00", "type": "pullrequest_comment", "id": 33051624}, "pull_request": {"type": "pullrequest", "id": 2654, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654"}}, "title": "Bullet should update contact information if the physics engine is disabled"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654/comments/33051560.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654/_/diff#comment-33051560"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2654, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654"}}, "title": "Bullet should update contact information if the physics engine is disabled"}, "content": {"raw": "Does it make sense to move this block to a `ContactsUpdate` class constructor?", "markup": "markdown", "html": "<p>Does it make sense to move this block to a <code>ContactsUpdate</code> class constructor?</p>", "type": "rendered"}, "created_on": "2017-03-13T16:57:27.280189+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "inline": {}, "updated_on": "2017-03-13T16:57:27.284133+00:00", "type": "pullrequest_comment", "id": 33051560}, "pull_request": {"type": "pullrequest", "id": 2654, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654"}}, "title": "Bullet should update contact information if the physics engine is disabled"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654/comments/33051460.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654/_/diff#comment-33051460"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2654, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654"}}, "title": "Bullet should update contact information if the physics engine is disabled"}, "content": {"raw": "Just double checking. Should we `return` if we're using `dart`?", "markup": "markdown", "html": "<p>Just double checking. Should we <code>return</code> if we're using <code>dart</code>?</p>", "type": "rendered"}, "created_on": "2017-03-13T16:56:39.568348+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "inline": {}, "updated_on": "2017-03-13T16:56:39.571239+00:00", "type": "pullrequest_comment", "id": 33051460}, "pull_request": {"type": "pullrequest", "id": 2654, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654"}}, "title": "Bullet should update contact information if the physics engine is disabled"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654/comments/33051404.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654/_/diff#comment-33051404"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2654, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654"}}, "title": "Bullet should update contact information if the physics engine is disabled"}, "content": {"raw": "You can replace `(unsigned int) 0` with `0u`.", "markup": "markdown", "html": "<p>You can replace <code>(unsigned int) 0</code> with <code>0u</code>.</p>", "type": "rendered"}, "created_on": "2017-03-13T16:56:04.464811+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "inline": {}, "updated_on": "2017-03-13T16:56:04.468264+00:00", "type": "pullrequest_comment", "id": 33051404}, "pull_request": {"type": "pullrequest", "id": 2654, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654"}}, "title": "Bullet should update contact information if the physics engine is disabled"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654/comments/33051302.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654/_/diff#comment-33051302"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2654, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654"}}, "title": "Bullet should update contact information if the physics engine is disabled"}, "content": {"raw": "engine", "markup": "markdown", "html": "<p>engine</p>", "type": "rendered"}, "created_on": "2017-03-13T16:54:56.762754+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "inline": {}, "updated_on": "2017-03-13T16:54:56.765940+00:00", "type": "pullrequest_comment", "id": 33051302}, "pull_request": {"type": "pullrequest", "id": 2654, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654"}}, "title": "Bullet should update contact information if the physics engine is disabled"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654/comments/33050911.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654/_/diff#comment-33050911"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2654, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654"}}, "title": "Bullet should update contact information if the physics engine is disabled"}, "content": {"raw": "2017", "markup": "markdown", "html": "<p>2017</p>", "type": "rendered"}, "created_on": "2017-03-13T16:51:10.934426+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "inline": {}, "updated_on": "2017-03-13T16:51:10.937669+00:00", "type": "pullrequest_comment", "id": 33050911}, "pull_request": {"type": "pullrequest", "id": 2654, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654"}}, "title": "Bullet should update contact information if the physics engine is disabled"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654/comments/32994264.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654/_/diff#comment-32994264"}}, "parent": {"id": 32963779, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654/comments/32963779.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654/_/diff#comment-32963779"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2654, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654"}}, "title": "Bullet should update contact information if the physics engine is disabled"}, "content": {"raw": "Sure, just added one. This test fails if you comment the conditional part in BulletPhysics::UpdatePhysics().\n\nIt's just two spheres which collide and must have at least one contact point.\n\nThe test is disabled for DART until the same fixes for DART are added later on (after dart-6 is merged)", "markup": "markdown", "html": "<p>Sure, just added one. This test fails if you comment the conditional part in BulletPhysics::UpdatePhysics().</p>\n<p>It's just two spheres which collide and must have at least one contact point.</p>\n<p>The test is disabled for DART until the same fixes for DART are added later on (after dart-6 is merged)</p>", "type": "rendered"}, "created_on": "2017-03-12T23:56:35.118540+00:00", "user": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "updated_on": "2017-03-12T23:56:35.162264+00:00", "type": "pullrequest_comment", "id": 32994264}, "pull_request": {"type": "pullrequest", "id": 2654, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654"}}, "title": "Bullet should update contact information if the physics engine is disabled"}}, {"update": {"description": "This includes minor changes to get BULLET to display the same behaviour as ODE when disabling the physics engine.\r\n\r\nWhen running with ODE and disabling the physics, the contact points still get updated when [PhysicsEngine::UpdateCollision()](#!/osrf/gazebo/src/cd526975bc8bdf3813e0600e3ece180870602471/gazebo/physics/PhysicsEngine.hh?at=default&fileviewer=file-view-default#PhysicsEngine.hh-67) is called. [World::UpdatePhysics()](#!/osrf/gazebo/src/cd526975bc8bdf3813e0600e3ece180870602471/gazebo/physics/PhysicsEngine.hh?at=default&fileviewer=file-view-default#PhysicsEngine.hh-106) gets [skipped when physics engine is disabled](#!/osrf/gazebo/src/cd526975bc8bdf3813e0600e3ece180870602471/gazebo/physics/World.cc?at=default&fileviewer=file-view-default#World.cc-798), but for the ODE contact computation this doesn't matter.\r\n\r\nAssuming this is the expected behaviour, BULLET doesn't do the same: it only clears the contact points in [BulletPhysics::UpdateCollision()](#!/osrf/gazebo/src/cd526975bc8bdf3813e0600e3ece180870602471/gazebo/physics/bullet/BulletPhysics.cc?at=default&fileviewer=file-view-default#BulletPhysics.cc-459) and doesn't compute the updated contact points (*Note:* DART actually doesn't update the collisions either, but that will be treated in a different PR).\r\n\r\nLuckily this can be fixed quite easily to mirror the behaviour of ODE (see suggested changes).\r\n\r\nIt would be extremely useful to have the same behaviour as ODE in the other physics engines. Sometimes one might want to disable physics, move around the bodies (e.g. via gzclient) and see how the contact points change.\r\n\r\nThe suggested change of this PR will only take effect when the physics are disabled. Nothing changes in the default case.\r\n\r\nI suggest to update the documentation of PhysicsEngine as well, to make it more clear how UpdateCollision() and UpdatePhysics() are expected to behave. I have added a rather lengthy comment in PhysicsEngine.hh which could probably be shortened.", "title": "Bullet should update contact information if the physics engine is disabled", "destination": {"commit": {"hash": "cd526975bc8b", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/cd526975bc8b.json"}, "html": {"href": "#!/osrf/gazebo/commits/cd526975bc8b"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "07105b12925a", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo/commit/07105b12925a"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo/commits/07105b12925a"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{11522dd5-648b-4e9e-b908-d3e1170ba728}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "JenniferBuehler/gazebo", "uuid": "{11522dd5-648b-4e9e-b908-d3e1170ba728}"}, "branch": {"name": "bullet_update_collisions_when_disabled"}}, "state": "OPEN", "author": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "date": "2017-03-12T23:55:14.893179+00:00"}, "pull_request": {"type": "pullrequest", "id": 2654, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654"}}, "title": "Bullet should update contact information if the physics engine is disabled"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654/comments/32963779.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654/_/diff#comment-32963779"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2654, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654"}}, "title": "Bullet should update contact information if the physics engine is disabled"}, "content": {"raw": "Do you think you could create a test case to validate these changes?", "markup": "markdown", "html": "<p>Do you think you could create a test case to validate these changes?</p>", "type": "rendered"}, "created_on": "2017-03-10T18:12:20.106843+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "updated_on": "2017-03-10T18:12:20.109678+00:00", "type": "pullrequest_comment", "id": 32963779}, "pull_request": {"type": "pullrequest", "id": 2654, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654"}}, "title": "Bullet should update contact information if the physics engine is disabled"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654/comments/32822229.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654/_/diff#comment-32822229"}}, "parent": {"id": 32817010, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654/comments/32817010.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654/_/diff#comment-32817010"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2654, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654"}}, "title": "Bullet should update contact information if the physics engine is disabled"}, "content": {"raw": "And another note: No fix is required for Simbody as it already updates the contacts in UpdateCollision().\n\nSo it would only be Bullet and DART which need this fix, and it's possible to do so. Then all engines behave the same.", "markup": "markdown", "html": "<p>And another note: No fix is required for Simbody as it already updates the contacts in UpdateCollision().</p>\n<p>So it would only be Bullet and DART which need this fix, and it's possible to do so. Then all engines behave the same.</p>", "type": "rendered"}, "created_on": "2017-03-09T01:51:25.769037+00:00", "user": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "updated_on": "2017-03-09T01:51:25.819163+00:00", "type": "pullrequest_comment", "id": 32822229}, "pull_request": {"type": "pullrequest", "id": 2654, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654"}}, "title": "Bullet should update contact information if the physics engine is disabled"}}, {"update": {"description": "This includes minor changes to get BULLET to display the same behaviour as ODE when disabling the physics engine.\r\n\r\nWhen running with ODE and disabling the physics, the contact points still get updated when [PhysicsEngine::UpdateCollision()](#!/osrf/gazebo/src/cd526975bc8bdf3813e0600e3ece180870602471/gazebo/physics/PhysicsEngine.hh?at=default&fileviewer=file-view-default#PhysicsEngine.hh-67) is called. [World::UpdatePhysics()](#!/osrf/gazebo/src/cd526975bc8bdf3813e0600e3ece180870602471/gazebo/physics/PhysicsEngine.hh?at=default&fileviewer=file-view-default#PhysicsEngine.hh-106) gets [skipped when physics engine is disabled](#!/osrf/gazebo/src/cd526975bc8bdf3813e0600e3ece180870602471/gazebo/physics/World.cc?at=default&fileviewer=file-view-default#World.cc-798), but for the ODE contact computation this doesn't matter.\r\n\r\nAssuming this is the expected behaviour, BULLET doesn't do the same: it only clears the contact points in [BulletPhysics::UpdateCollision()](#!/osrf/gazebo/src/cd526975bc8bdf3813e0600e3ece180870602471/gazebo/physics/bullet/BulletPhysics.cc?at=default&fileviewer=file-view-default#BulletPhysics.cc-459) and doesn't compute the updated contact points (*Note:* DART actually doesn't update the collisions either, but that will be treated in a different PR).\r\n\r\nLuckily this can be fixed quite easily to mirror the behaviour of ODE (see suggested changes).\r\n\r\nIt would be extremely useful to have the same behaviour as ODE in the other physics engines. Sometimes one might want to disable physics, move around the bodies (e.g. via gzclient) and see how the contact points change.\r\n\r\nThe suggested change of this PR will only take effect when the physics are disabled. Nothing changes in the default case.\r\n\r\nI suggest to update the documentation of PhysicsEngine as well, to make it more clear how UpdateCollision() and UpdatePhysics() are expected to behave. I have added a rather lengthy comment in PhysicsEngine.hh which could probably be shortened.", "title": "Bullet should update contact information if the physics engine is disabled", "destination": {"commit": {"hash": "cd526975bc8b", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/cd526975bc8b.json"}, "html": {"href": "#!/osrf/gazebo/commits/cd526975bc8b"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "1cc4be5258a4", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo/commit/1cc4be5258a4"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo/commits/1cc4be5258a4"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{11522dd5-648b-4e9e-b908-d3e1170ba728}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "JenniferBuehler/gazebo", "uuid": "{11522dd5-648b-4e9e-b908-d3e1170ba728}"}, "branch": {"name": "bullet_update_collisions_when_disabled"}}, "state": "OPEN", "author": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "date": "2017-03-08T21:53:54.503925+00:00"}, "pull_request": {"type": "pullrequest", "id": 2654, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654"}}, "title": "Bullet should update contact information if the physics engine is disabled"}}, {"update": {"description": "This includes minor changes to get BULLET to display the same behaviour as ODE when disabling the physics engine.\r\n\r\nWhen running with ODE and disabling the physics, the contact points still get updated when [PhysicsEngine::UpdateCollision()](#!/osrf/gazebo/src/cd526975bc8bdf3813e0600e3ece180870602471/gazebo/physics/PhysicsEngine.hh?at=default&fileviewer=file-view-default#PhysicsEngine.hh-67) is called. [World::UpdatePhysics()](#!/osrf/gazebo/src/cd526975bc8bdf3813e0600e3ece180870602471/gazebo/physics/PhysicsEngine.hh?at=default&fileviewer=file-view-default#PhysicsEngine.hh-106) gets [skipped when physics engine is disabled](#!/osrf/gazebo/src/cd526975bc8bdf3813e0600e3ece180870602471/gazebo/physics/World.cc?at=default&fileviewer=file-view-default#World.cc-798), but for the ODE contact computation this doesn't matter.\r\n\r\nAssuming this is the expected behaviour, BULLET doesn't do the same: it only clears the contact points in [BulletPhysics::UpdateCollision()](#!/osrf/gazebo/src/cd526975bc8bdf3813e0600e3ece180870602471/gazebo/physics/bullet/BulletPhysics.cc?at=default&fileviewer=file-view-default#BulletPhysics.cc-459) and doesn't compute the updated contact points (*Note:* DART actually doesn't update the collisions either, but that will be treated in a different PR).\r\n\r\nLuckily this can be fixed quite easily to mirror the behaviour of ODE (see suggested changes).\r\n\r\nIt would be extremely useful to have the same behaviour as ODE in the other physics engines. Sometimes one might want to disable physics, move around the bodies (e.g. via gzclient) and see how the contact points change.\r\n\r\nThe suggested change of this PR will only take effect when the physics are disabled. Nothing changes in the default case.\r\n\r\nI suggest to update the documentation of PhysicsEngine as well, to make it more clear how UpdateCollision() and UpdatePhysics() are expected to behave. I have added a rather lengthy comment in PhysicsEngine.hh which could probably be shortened.", "title": "Bullet should update contact information if the physics engine is disabled", "destination": {"commit": {"hash": "cd526975bc8b", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/cd526975bc8b.json"}, "html": {"href": "#!/osrf/gazebo/commits/cd526975bc8b"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "acc334fc2bff", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo/commit/acc334fc2bff"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo/commits/acc334fc2bff"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{11522dd5-648b-4e9e-b908-d3e1170ba728}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "JenniferBuehler/gazebo", "uuid": "{11522dd5-648b-4e9e-b908-d3e1170ba728}"}, "branch": {"name": "bullet_update_collisions_when_disabled"}}, "state": "OPEN", "author": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "date": "2017-03-08T10:05:38.437012+00:00"}, "pull_request": {"type": "pullrequest", "id": 2654, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654"}}, "title": "Bullet should update contact information if the physics engine is disabled"}}, {"update": {"description": "This includes minor changes to get BULLET to display the same behaviour as ODE when disabling the physics engine.\r\n\r\nWhen running with ODE and disabling the physics, the contact points still get updated when [PhysicsEngine::UpdateCollision()](#!/osrf/gazebo/src/cd526975bc8bdf3813e0600e3ece180870602471/gazebo/physics/PhysicsEngine.hh?at=default&fileviewer=file-view-default#PhysicsEngine.hh-67) is called. [World::UpdatePhysics()](#!/osrf/gazebo/src/cd526975bc8bdf3813e0600e3ece180870602471/gazebo/physics/PhysicsEngine.hh?at=default&fileviewer=file-view-default#PhysicsEngine.hh-106) gets [skipped when physics engine is disabled](#!/osrf/gazebo/src/cd526975bc8bdf3813e0600e3ece180870602471/gazebo/physics/World.cc?at=default&fileviewer=file-view-default#World.cc-798), but for the ODE contact computation this doesn't matter.\r\n\r\nAssuming this is the expected behaviour, BULLET doesn't do the same: it only clears the contact points in [BulletPhysics::UpdateCollision()](#!/osrf/gazebo/src/cd526975bc8bdf3813e0600e3ece180870602471/gazebo/physics/bullet/BulletPhysics.cc?at=default&fileviewer=file-view-default#BulletPhysics.cc-459) and doesn't compute the updated contact points (*Note:* DART actually doesn't update the collisions either, but that will be treated in a different PR).\r\n\r\nLuckily this can be fixed quite easily to mirror the behaviour of ODE (see suggested changes).\r\n\r\nIt would be extremely useful to have the same behaviour as ODE in the other physics engines. Sometimes one might want to disable physics, move around the bodies (e.g. via gzclient) and see how the contact points change.\r\n\r\nThe suggested change of this PR will only take effect when the physics are disabled. Nothing changes in the default case.\r\n\r\nI suggest to update the documentation of PhysicsEngine as well, to make it more clear how UpdateCollision() and UpdatePhysics() are expected to behave. I have added a rather lengthy comment in PhysicsEngine.hh which could probably be shortened.", "title": "Bullet should update contact information if the physics engine is disabled", "destination": {"commit": {"hash": "cd526975bc8b", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/cd526975bc8b.json"}, "html": {"href": "#!/osrf/gazebo/commits/cd526975bc8b"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "acc334fc2bff", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo/commit/acc334fc2bff"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo/commits/acc334fc2bff"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{11522dd5-648b-4e9e-b908-d3e1170ba728}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "JenniferBuehler/gazebo", "uuid": "{11522dd5-648b-4e9e-b908-d3e1170ba728}"}, "branch": {"name": "bullet_update_collisions_when_disabled"}}, "state": "OPEN", "author": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "date": "2017-03-08T10:05:38.395284+00:00"}, "pull_request": {"type": "pullrequest", "id": 2654, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2654.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2654"}}, "title": "Bullet should update contact information if the physics engine is disabled"}}]}