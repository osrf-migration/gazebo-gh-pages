{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2792/comments/49892512.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2792/_/diff#comment-49892512"}}, "parent": {"id": 49880737, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2792/comments/49880737.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2792/_/diff#comment-49880737"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2792, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2792.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2792"}}, "title": "Mark many physics constructors as explicit, suppress one cppcheck warning"}, "content": {"raw": "somehow the small change in 82f1573 causes seg-faults during teardown. from `UNIT_PresetManager_TEST`:\n\n~~~\n[ RUN      ] PresetManagerTest.GetSetPresetParam\n[Wrn] [PresetManager.cc:149] Parameter [] is not a member of profile [preset1]\n[Wrn] [PresetManager.cc:149] Parameter [key_does_not_exist] is not a member of profile [preset1]\n[Dbg] [ServerFixture.cc:135] ServerFixture::Unload\n[       OK ] PresetManagerTest.GetSetPresetParam (1 ms)\n[ RUN      ] PresetManagerTest.GetSetProfileParam\n[Err] [PresetManager.cc:207] Required arguments NULL for PresetManager\n[Msg] Waiting for master.\n[Msg] Connected to gazebo master @ http://127.0.0.1:11345\n[Msg] Publicized address: 172.23.2.90\n[Dbg] [ServerFixture.cc:209] ServerFixture load in 1.2 seconds, timeout after 600 seconds\n[Wrn] [PresetManager.cc:267] Profile [preset_does_not_exist] not found.\n/data_fast/scpeters/ws/tmp/gazebo_build/src/gazebo/gazebo/physics/PresetManager_TEST.cc:78: Failure\nValue of: presetManager->SetCurrentProfileParam(\"max_step_size\", 0.8)\n  Actual: false\nExpected: true\n/data_fast/scpeters/ws/tmp/gazebo_build/src/gazebo/gazebo/physics/PresetManager_TEST.cc:80: Failure\nValue of: presetManager->SetProfileParam(\"preset_1\", \"max_step_size\", max_step_size)\n  Actual: false\nExpected: true\nunknown file: Failure\nC++ exception with description \"basic_string::_M_construct null not valid\" thrown in the test body.\n[Dbg] [ServerFixture.cc:135] ServerFixture::Unload\nAL lib: (WW) alcCloseDevice: Releasing context 0x7f4d854cca20\nSegmentation fault (core dumped)\n~~~\n\n~~~\nThread 3 \"UNIT_PresetMana\" received signal SIGSEGV, Segmentation fault.\n[Switching to Thread 0x7fffc3a2c700 (LWP 2584)]\nstd::_Sp_counted_base<(__gnu_cxx::_Lock_policy)2>::_M_release (this=0x1000) at /usr/include/c++/5/bits/shared_ptr_base.h:147\n147\t\tif (__gnu_cxx::__exchange_and_add_dispatch(&_M_use_count, -1) == 1)\n(gdb) bt\n#0  std::_Sp_counted_base<(__gnu_cxx::_Lock_policy)2>::_M_release (this=0x1000) at /usr/include/c++/5/bits/shared_ptr_base.h:147\n#1  std::__shared_count<(__gnu_cxx::_Lock_policy)2>::~__shared_count (this=<optimized out>, __in_chrg=<optimized out>) at /usr/include/c++/5/bits/shared_ptr_base.h:659\n#2  std::__shared_ptr<sdf::Element, (__gnu_cxx::_Lock_policy)2>::~__shared_ptr (this=<optimized out>, __in_chrg=<optimized out>) at /usr/include/c++/5/bits/shared_ptr_base.h:925\n#3  std::__shared_ptr<sdf::Element, (__gnu_cxx::_Lock_policy)2>::reset (this=0x7fffbd200cf0) at /usr/include/c++/5/bits/shared_ptr_base.h:1022\n#4  gazebo::physics::Preset::~Preset (this=0x7fffbd4895a0, __in_chrg=<optimized out>) at /data_fast/scpeters/ws/tmp/gazebo_build/src/gazebo/gazebo/physics/PresetManager.cc:57\n#5  0x00007ffff7337469 in std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, gazebo::physics::Preset>::~pair (this=0x7fffbd489580, __in_chrg=<optimized out>) at /usr/include/c++/5/bits/stl_pair.h:96\n#6  __gnu_cxx::new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, gazebo::physics::Preset> > >::destroy<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, gazebo::physics::Preset> > (this=<optimized out>, __p=<optimized out>) at /usr/include/c++/5/ext/new_allocator.h:124\n#7  std::allocator_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, gazebo::physics::Preset> > > >::destroy<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, gazebo::physics::Preset> > (__a=..., __p=<optimized out>) at /usr/include/c++/5/bits/alloc_traits.h:542\n#8  std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, gazebo::physics::Preset>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, gazebo::physics::Preset> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, gazebo::physics::Preset> > >::_M_destroy_node (this=0x7fffbd2014c0, __p=0x7fffbd489560) at /usr/include/c++/5/bits/stl_tree.h:553\n#9  std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, gazebo::physics::Preset>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, gazebo::physics::Preset> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, gazebo::physics::Preset> > >::_M_drop_node (__p=0x7fffbd489560, this=0x7fffbd2014c0) at /usr/include/c++/5/bits/stl_tree.h:561\n#10 std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, gazebo::physics::Preset>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, gazebo::physics::Preset> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, gazebo::physics::Preset> > >::_M_erase (this=this@entry=0x7fffbd2014c0, __x=0x7fffbd489560) at /usr/include/c++/5/bits/stl_tree.h:1614\n#11 0x00007ffff733745c in std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, gazebo::physics::Preset>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, gazebo::physics::Preset> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, gazebo::physics::Preset> > >::_M_erase (this=this@entry=0x7fffbd2014c0, __x=0x7fffbd480c30) at /usr/include/c++/5/bits/stl_tree.h:1612\n#12 0x00007ffff7332a69 in std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, gazebo::physics::Preset>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, gazebo::physics::Preset> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, gazebo::physics::Preset> > >::clear (this=0x7fffbd2014c0) at /usr/include/c++/5/bits/stl_tree.h:1075\n#13 std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, gazebo::physics::Preset, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, gazebo::physics::Preset> > >::clear (this=0x7fffbd2014c0) at /usr/include/c++/5/bits/stl_map.h:810\n#14 gazebo::physics::PresetManager::~PresetManager (this=0x7fffbd201480, __in_chrg=<optimized out>) at /data_fast/scpeters/ws/tmp/gazebo_build/src/gazebo/gazebo/physics/PresetManager.cc:251\n#15 0x00007ffff7365202 in boost::checked_delete<gazebo::physics::PresetManager> (x=0x7fffbd201480) at /usr/include/boost/core/checked_delete.hpp:34\n#16 boost::detail::sp_counted_impl_p<gazebo::physics::PresetManager>::dispose (this=<optimized out>) at /usr/include/boost/smart_ptr/detail/sp_counted_impl.hpp:78\n#17 0x00007ffff7348bfa in boost::detail::sp_counted_base::release (this=0x7fffbd201530) at /usr/include/boost/smart_ptr/detail/sp_counted_base_gcc_x86.hpp:146\n#18 0x00007ffff73588ab in boost::detail::sp_counted_base::release (this=<optimized out>) at /data_fast/scpeters/ws/tmp/gazebo_build/src/gazebo/gazebo/common/SingletonT.hh:50\n#19 boost::detail::shared_count::~shared_count (this=<optimized out>, __in_chrg=<optimized out>) at /usr/include/boost/smart_ptr/detail/shared_count.hpp:443\n#20 boost::shared_ptr<gazebo::physics::PhysicsEngine>::~shared_ptr (this=<optimized out>, __in_chrg=<optimized out>) at /usr/include/boost/smart_ptr/shared_ptr.hpp:323\n#21 boost::shared_ptr<gazebo::physics::PhysicsEngine>::reset (this=<optimized out>) at /usr/include/boost/smart_ptr/shared_ptr.hpp:614\n#22 gazebo::physics::World::Fini (this=0x7fffbc7381d0) at /data_fast/scpeters/ws/tmp/gazebo_build/src/gazebo/gazebo/physics/World.cc:921\n#23 0x00007ffff731f35a in gazebo::physics::remove_worlds () at /data_fast/scpeters/ws/tmp/gazebo_build/src/gazebo/gazebo/physics/PhysicsIface.cc:157\n#24 0x00007ffff731f499 in gazebo::physics::fini () at /data_fast/scpeters/ws/tmp/gazebo_build/src/gazebo/gazebo/physics/PhysicsIface.cc:51\n#25 0x00007ffff79a2439 in gazebo::shutdown () at /data_fast/scpeters/ws/tmp/gazebo_build/src/gazebo/gazebo/gazebo.cc:140\n#26 0x00007ffff7986d5d in gazebo::Server::Run (this=0x7fffbc000950) at /data_fast/scpeters/ws/tmp/gazebo_build/src/gazebo/gazebo/Server.cc:591\n#27 0x00000000004435ed in gazebo::ServerFixture::RunServer (this=0x75e4d0, _args=...) at /data_fast/scpeters/ws/tmp/gazebo_build/src/gazebo/gazebo/test/ServerFixture.cc:276\n#28 0x00007ffff5dff5d5 in ?? () from /usr/lib/x86_64-linux-gnu/libboost_thread.so.1.58.0\n#29 0x00007ffff7bc16ba in start_thread (arg=0x7fffc3a2c700) at pthread_create.c:333\n#30 0x00007ffff488f3dd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:109\n(gdb) \n~~~", "markup": "markdown", "html": "<p>somehow the small change in <a href=\"#!/osrf/gazebo/commits/82f1573\" rel=\"nofollow\" class=\"ap-connect-link\">82f1573</a> causes seg-faults during teardown. from <code>UNIT_PresetManager_TEST</code>:</p>\n<div class=\"codehilite\"><pre><span></span>[ RUN      ] PresetManagerTest.GetSetPresetParam\n[Wrn] [PresetManager.cc:149] Parameter [] is not a member of profile [preset1]\n[Wrn] [PresetManager.cc:149] Parameter [key_does_not_exist] is not a member of profile [preset1]\n[Dbg] [ServerFixture.cc:135] ServerFixture::Unload\n[       OK ] PresetManagerTest.GetSetPresetParam (1 ms)\n[ RUN      ] PresetManagerTest.GetSetProfileParam\n[Err] [PresetManager.cc:207] Required arguments NULL for PresetManager\n[Msg] Waiting for master.\n[Msg] Connected to gazebo master @ http://127.0.0.1:11345\n[Msg] Publicized address: 172.23.2.90\n[Dbg] [ServerFixture.cc:209] ServerFixture load in 1.2 seconds, timeout after 600 seconds\n[Wrn] [PresetManager.cc:267] Profile [preset_does_not_exist] not found.\n/data_fast/scpeters/ws/tmp/gazebo_build/src/gazebo/gazebo/physics/PresetManager_TEST.cc:78: Failure\nValue of: presetManager-&gt;SetCurrentProfileParam(&quot;max_step_size&quot;, 0.8)\n  Actual: false\nExpected: true\n/data_fast/scpeters/ws/tmp/gazebo_build/src/gazebo/gazebo/physics/PresetManager_TEST.cc:80: Failure\nValue of: presetManager-&gt;SetProfileParam(&quot;preset_1&quot;, &quot;max_step_size&quot;, max_step_size)\n  Actual: false\nExpected: true\nunknown file: Failure\nC++ exception with description &quot;basic_string::_M_construct null not valid&quot; thrown in the test body.\n[Dbg] [ServerFixture.cc:135] ServerFixture::Unload\nAL lib: (WW) alcCloseDevice: Releasing context 0x7f4d854cca20\nSegmentation fault (core dumped)\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span>Thread 3 &quot;UNIT_PresetMana&quot; received signal SIGSEGV, Segmentation fault.\n[Switching to Thread 0x7fffc3a2c700 (LWP 2584)]\nstd::_Sp_counted_base&lt;(__gnu_cxx::_Lock_policy)2&gt;::_M_release (this=0x1000) at /usr/include/c++/5/bits/shared_ptr_base.h:147\n147     if (__gnu_cxx::__exchange_and_add_dispatch(&amp;_M_use_count, -1) == 1)\n(gdb) bt\n#0  std::_Sp_counted_base&lt;(__gnu_cxx::_Lock_policy)2&gt;::_M_release (this=0x1000) at /usr/include/c++/5/bits/shared_ptr_base.h:147\n#1  std::__shared_count&lt;(__gnu_cxx::_Lock_policy)2&gt;::~__shared_count (this=&lt;optimized out&gt;, __in_chrg=&lt;optimized out&gt;) at /usr/include/c++/5/bits/shared_ptr_base.h:659\n#2  std::__shared_ptr&lt;sdf::Element, (__gnu_cxx::_Lock_policy)2&gt;::~__shared_ptr (this=&lt;optimized out&gt;, __in_chrg=&lt;optimized out&gt;) at /usr/include/c++/5/bits/shared_ptr_base.h:925\n#3  std::__shared_ptr&lt;sdf::Element, (__gnu_cxx::_Lock_policy)2&gt;::reset (this=0x7fffbd200cf0) at /usr/include/c++/5/bits/shared_ptr_base.h:1022\n#4  gazebo::physics::Preset::~Preset (this=0x7fffbd4895a0, __in_chrg=&lt;optimized out&gt;) at /data_fast/scpeters/ws/tmp/gazebo_build/src/gazebo/gazebo/physics/PresetManager.cc:57\n#5  0x00007ffff7337469 in std::pair&lt;std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const, gazebo::physics::Preset&gt;::~pair (this=0x7fffbd489580, __in_chrg=&lt;optimized out&gt;) at /usr/include/c++/5/bits/stl_pair.h:96\n#6  __gnu_cxx::new_allocator&lt;std::_Rb_tree_node&lt;std::pair&lt;std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const, gazebo::physics::Preset&gt; &gt; &gt;::destroy&lt;std::pair&lt;std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const, gazebo::physics::Preset&gt; &gt; (this=&lt;optimized out&gt;, __p=&lt;optimized out&gt;) at /usr/include/c++/5/ext/new_allocator.h:124\n#7  std::allocator_traits&lt;std::allocator&lt;std::_Rb_tree_node&lt;std::pair&lt;std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const, gazebo::physics::Preset&gt; &gt; &gt; &gt;::destroy&lt;std::pair&lt;std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const, gazebo::physics::Preset&gt; &gt; (__a=..., __p=&lt;optimized out&gt;) at /usr/include/c++/5/bits/alloc_traits.h:542\n#8  std::_Rb_tree&lt;std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;, std::pair&lt;std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const, gazebo::physics::Preset&gt;, std::_Select1st&lt;std::pair&lt;std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const, gazebo::physics::Preset&gt; &gt;, std::less&lt;std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; &gt;, std::allocator&lt;std::pair&lt;std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const, gazebo::physics::Preset&gt; &gt; &gt;::_M_destroy_node (this=0x7fffbd2014c0, __p=0x7fffbd489560) at /usr/include/c++/5/bits/stl_tree.h:553\n#9  std::_Rb_tree&lt;std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;, std::pair&lt;std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const, gazebo::physics::Preset&gt;, std::_Select1st&lt;std::pair&lt;std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const, gazebo::physics::Preset&gt; &gt;, std::less&lt;std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; &gt;, std::allocator&lt;std::pair&lt;std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const, gazebo::physics::Preset&gt; &gt; &gt;::_M_drop_node (__p=0x7fffbd489560, this=0x7fffbd2014c0) at /usr/include/c++/5/bits/stl_tree.h:561\n#10 std::_Rb_tree&lt;std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;, std::pair&lt;std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const, gazebo::physics::Preset&gt;, std::_Select1st&lt;std::pair&lt;std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const, gazebo::physics::Preset&gt; &gt;, std::less&lt;std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; &gt;, std::allocator&lt;std::pair&lt;std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const, gazebo::physics::Preset&gt; &gt; &gt;::_M_erase (this=this@entry=0x7fffbd2014c0, __x=0x7fffbd489560) at /usr/include/c++/5/bits/stl_tree.h:1614\n#11 0x00007ffff733745c in std::_Rb_tree&lt;std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;, std::pair&lt;std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const, gazebo::physics::Preset&gt;, std::_Select1st&lt;std::pair&lt;std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const, gazebo::physics::Preset&gt; &gt;, std::less&lt;std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; &gt;, std::allocator&lt;std::pair&lt;std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const, gazebo::physics::Preset&gt; &gt; &gt;::_M_erase (this=this@entry=0x7fffbd2014c0, __x=0x7fffbd480c30) at /usr/include/c++/5/bits/stl_tree.h:1612\n#12 0x00007ffff7332a69 in std::_Rb_tree&lt;std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;, std::pair&lt;std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const, gazebo::physics::Preset&gt;, std::_Select1st&lt;std::pair&lt;std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const, gazebo::physics::Preset&gt; &gt;, std::less&lt;std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; &gt;, std::allocator&lt;std::pair&lt;std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const, gazebo::physics::Preset&gt; &gt; &gt;::clear (this=0x7fffbd2014c0) at /usr/include/c++/5/bits/stl_tree.h:1075\n#13 std::map&lt;std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;, gazebo::physics::Preset, std::less&lt;std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; &gt;, std::allocator&lt;std::pair&lt;std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const, gazebo::physics::Preset&gt; &gt; &gt;::clear (this=0x7fffbd2014c0) at /usr/include/c++/5/bits/stl_map.h:810\n#14 gazebo::physics::PresetManager::~PresetManager (this=0x7fffbd201480, __in_chrg=&lt;optimized out&gt;) at /data_fast/scpeters/ws/tmp/gazebo_build/src/gazebo/gazebo/physics/PresetManager.cc:251\n#15 0x00007ffff7365202 in boost::checked_delete&lt;gazebo::physics::PresetManager&gt; (x=0x7fffbd201480) at /usr/include/boost/core/checked_delete.hpp:34\n#16 boost::detail::sp_counted_impl_p&lt;gazebo::physics::PresetManager&gt;::dispose (this=&lt;optimized out&gt;) at /usr/include/boost/smart_ptr/detail/sp_counted_impl.hpp:78\n#17 0x00007ffff7348bfa in boost::detail::sp_counted_base::release (this=0x7fffbd201530) at /usr/include/boost/smart_ptr/detail/sp_counted_base_gcc_x86.hpp:146\n#18 0x00007ffff73588ab in boost::detail::sp_counted_base::release (this=&lt;optimized out&gt;) at /data_fast/scpeters/ws/tmp/gazebo_build/src/gazebo/gazebo/common/SingletonT.hh:50\n#19 boost::detail::shared_count::~shared_count (this=&lt;optimized out&gt;, __in_chrg=&lt;optimized out&gt;) at /usr/include/boost/smart_ptr/detail/shared_count.hpp:443\n#20 boost::shared_ptr&lt;gazebo::physics::PhysicsEngine&gt;::~shared_ptr (this=&lt;optimized out&gt;, __in_chrg=&lt;optimized out&gt;) at /usr/include/boost/smart_ptr/shared_ptr.hpp:323\n#21 boost::shared_ptr&lt;gazebo::physics::PhysicsEngine&gt;::reset (this=&lt;optimized out&gt;) at /usr/include/boost/smart_ptr/shared_ptr.hpp:614\n#22 gazebo::physics::World::Fini (this=0x7fffbc7381d0) at /data_fast/scpeters/ws/tmp/gazebo_build/src/gazebo/gazebo/physics/World.cc:921\n#23 0x00007ffff731f35a in gazebo::physics::remove_worlds () at /data_fast/scpeters/ws/tmp/gazebo_build/src/gazebo/gazebo/physics/PhysicsIface.cc:157\n#24 0x00007ffff731f499 in gazebo::physics::fini () at /data_fast/scpeters/ws/tmp/gazebo_build/src/gazebo/gazebo/physics/PhysicsIface.cc:51\n#25 0x00007ffff79a2439 in gazebo::shutdown () at /data_fast/scpeters/ws/tmp/gazebo_build/src/gazebo/gazebo/gazebo.cc:140\n#26 0x00007ffff7986d5d in gazebo::Server::Run (this=0x7fffbc000950) at /data_fast/scpeters/ws/tmp/gazebo_build/src/gazebo/gazebo/Server.cc:591\n#27 0x00000000004435ed in gazebo::ServerFixture::RunServer (this=0x75e4d0, _args=...) at /data_fast/scpeters/ws/tmp/gazebo_build/src/gazebo/gazebo/test/ServerFixture.cc:276\n#28 0x00007ffff5dff5d5 in ?? () from /usr/lib/x86_64-linux-gnu/libboost_thread.so.1.58.0\n#29 0x00007ffff7bc16ba in start_thread (arg=0x7fffc3a2c700) at pthread_create.c:333\n#30 0x00007ffff488f3dd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:109\n(gdb) \n</pre></div>", "type": "rendered"}, "created_on": "2017-11-17T18:03:55.437226+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-11-17T18:03:55.439785+00:00", "type": "pullrequest_comment", "id": 49892512}