{"rendered": {"description": {"raw": "Because of some differences in workflow between ODE and DART, the collision reporting that was being done for DART was a little bit nonsensical. It would report the collisions encountered on the simulation step *before* the last one, producing out-of-date information.\r\n\r\nBut even more of a problem was that this opened us up to segfaulting if an object was removed between the last time step and the current one. The solution that was put into place to resolve this was to perform a simulation step each time an object is removed from the DART world. This is also problematic since it means the whole world will be taking a forward time step each time a single object is removed, with no way for the user to control it.\r\n\r\nThis pull request shuffles some of the workflow around for DART so that collision reporting occurs immediately after the collision detection is performed. We also no longer perform forward time steps when removing objects from the simulation, so the forward simulation is entirely under the control of the user once again.", "markup": "markdown", "html": "<p>Because of some differences in workflow between ODE and DART, the collision reporting that was being done for DART was a little bit nonsensical. It would report the collisions encountered on the simulation step <em>before</em> the last one, producing out-of-date information.</p>\n<p>But even more of a problem was that this opened us up to segfaulting if an object was removed between the last time step and the current one. The solution that was put into place to resolve this was to perform a simulation step each time an object is removed from the DART world. This is also problematic since it means the whole world will be taking a forward time step each time a single object is removed, with no way for the user to control it.</p>\n<p>This pull request shuffles some of the workflow around for DART so that collision reporting occurs immediately after the collision detection is performed. We also no longer perform forward time steps when removing objects from the simulation, so the forward simulation is entirely under the control of the user once again.</p>", "type": "rendered"}, "title": {"raw": "Fixing the collision reporting for DART", "markup": "markdown", "html": "<p>Fixing the collision reporting for DART</p>", "type": "rendered"}}, "type": "pullrequest", "description": "Because of some differences in workflow between ODE and DART, the collision reporting that was being done for DART was a little bit nonsensical. It would report the collisions encountered on the simulation step *before* the last one, producing out-of-date information.\r\n\r\nBut even more of a problem was that this opened us up to segfaulting if an object was removed between the last time step and the current one. The solution that was put into place to resolve this was to perform a simulation step each time an object is removed from the DART world. This is also problematic since it means the whole world will be taking a forward time step each time a single object is removed, with no way for the user to control it.\r\n\r\nThis pull request shuffles some of the workflow around for DART so that collision reporting occurs immediately after the collision detection is performed. We also no longer perform forward time steps when removing objects from the simulation, so the forward simulation is entirely under the control of the user once again.", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/pullrequests/2758/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diffstat/osrf/gazebo:5e024b2ac9c0%0Da2e24ead6b45?from_pullrequest_id=2758"}, "commits": {"href": "data/repositories/osrf/gazebo/pullrequests/2758/commits.json"}, "self": {"href": "data/repositories/osrf/gazebo/pullrequests/2758.json"}, "comments": {"href": "data/repositories/osrf/gazebo/pullrequests/2758/comments_page=1.json"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/pullrequests/2758/merge"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2758"}, "activity": {"href": "data/repositories/osrf/gazebo/pullrequests/2758/activity.json"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:5e024b2ac9c0%0Da2e24ead6b45?from_pullrequest_id=2758"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/pullrequests/2758/approve"}, "statuses": {"href": "data/repositories/osrf/gazebo/pullrequests/2758/statuses_page=1.json"}}, "title": "Fixing the collision reporting for DART", "close_source_branch": false, "reviewers": [{"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}], "id": 2758, "destination": {"commit": {"hash": "a2e24ead6b45", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/a2e24ead6b45.json"}, "html": {"href": "#!/osrf/gazebo/commits/a2e24ead6b45"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "created_on": "2017-07-31T17:39:41.958527+00:00", "summary": {"raw": "Because of some differences in workflow between ODE and DART, the collision reporting that was being done for DART was a little bit nonsensical. It would report the collisions encountered on the simulation step *before* the last one, producing out-of-date information.\r\n\r\nBut even more of a problem was that this opened us up to segfaulting if an object was removed between the last time step and the current one. The solution that was put into place to resolve this was to perform a simulation step each time an object is removed from the DART world. This is also problematic since it means the whole world will be taking a forward time step each time a single object is removed, with no way for the user to control it.\r\n\r\nThis pull request shuffles some of the workflow around for DART so that collision reporting occurs immediately after the collision detection is performed. We also no longer perform forward time steps when removing objects from the simulation, so the forward simulation is entirely under the control of the user once again.", "markup": "markdown", "html": "<p>Because of some differences in workflow between ODE and DART, the collision reporting that was being done for DART was a little bit nonsensical. It would report the collisions encountered on the simulation step <em>before</em> the last one, producing out-of-date information.</p>\n<p>But even more of a problem was that this opened us up to segfaulting if an object was removed between the last time step and the current one. The solution that was put into place to resolve this was to perform a simulation step each time an object is removed from the DART world. This is also problematic since it means the whole world will be taking a forward time step each time a single object is removed, with no way for the user to control it.</p>\n<p>This pull request shuffles some of the workflow around for DART so that collision reporting occurs immediately after the collision detection is performed. We also no longer perform forward time steps when removing objects from the simulation, so the forward simulation is entirely under the control of the user once again.</p>", "type": "rendered"}, "source": {"commit": {"hash": "14429deb5733", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/mxgrey/gazebo/commit/14429deb5733"}, "html": {"href": "https://bitbucket.org/mxgrey/gazebo/commits/14429deb5733"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/mxgrey/gazebo"}, "html": {"href": "https://bitbucket.org/mxgrey/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{db441b9a-5483-4728-b3af-1135ccc99e42}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "mxgrey/gazebo", "uuid": "{db441b9a-5483-4728-b3af-1135ccc99e42}"}, "branch": {"name": "FixCollisionReportingForDart"}}, "comment_count": 18, "state": "MERGED", "task_count": 0, "participants": [{"role": "PARTICIPANT", "participated_on": "2017-08-02T18:44:50.363458+00:00", "type": "participant", "approved": true, "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}}, {"role": "REVIEWER", "participated_on": "2017-08-02T00:27:55.366632+00:00", "type": "participant", "approved": true, "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}}, {"role": "PARTICIPANT", "participated_on": "2017-08-02T16:59:39.712788+00:00", "type": "participant", "approved": false, "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}}], "reason": "", "updated_on": "2017-08-02T18:51:01.396758+00:00", "author": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "merge_commit": {"hash": "5e024b2ac9c0", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/5e024b2ac9c0.json"}, "html": {"href": "#!/osrf/gazebo/commits/5e024b2ac9c0"}}}, "closed_by": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}}