{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2359/comments/20230060.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2359/_/diff#comment-20230060"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2359, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2359.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2359"}}, "title": "Treat L_INT16/32 as grayscale on ImgTopic viewer"}, "content": {"raw": "Our code_check script (`sh tools/code_check.sh`) has a few complaints (full list [here](http://build.osrfoundation.org/job/gazebo-ci-pr_any-xenial-amd64-gpu-none/61/cppcheckResult/), but many are unrelated)\n\n~~~\ngazebo/gui/viewers/ImageFrame.cc:91\t\t\twarning casting\t\t\tUsing C-style cast. Use reinterpret_cast<uint16_t *>(...) instead\ngazebo/gui/viewers/ImageFrame.cc:141\t\tstyle line_length\t\tLines should be <= 80 characters long\ngazebo/gui/viewers/ImageFrame.cc:164\t\tstyle line_length\t\tLines should be <= 80 characters long\ngazebo/gui/viewers/ImageFramePrivate.hh:39\tinclude_what_you_use\tAdd #include <vector> for vector<>\n~~~", "markup": "markdown", "html": "<p>Our code_check script (<code>sh tools/code_check.sh</code>) has a few complaints (full list <a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/job/gazebo-ci-pr_any-xenial-amd64-gpu-none/61/cppcheckResult/\" rel=\"nofollow\">here</a>, but many are unrelated)</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">gazebo</span><span class=\"o\">/</span><span class=\"n\">gui</span><span class=\"o\">/</span><span class=\"n\">viewers</span><span class=\"o\">/</span><span class=\"n\">ImageFrame</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">91</span>         <span class=\"n\">warning</span> <span class=\"n\">casting</span>         <span class=\"n\">Using</span> <span class=\"n\">C</span><span class=\"o\">-</span><span class=\"n\">style</span> <span class=\"n\">cast</span><span class=\"p\">.</span> <span class=\"n\">Use</span> <span class=\"kr\">reinterpret_cast</span><span class=\"o\">&lt;</span><span class=\"kr\">uint16_t</span> <span class=\"o\">*&gt;</span><span class=\"p\">(...)</span> <span class=\"n\">instead</span>\n<span class=\"n\">gazebo</span><span class=\"o\">/</span><span class=\"n\">gui</span><span class=\"o\">/</span><span class=\"n\">viewers</span><span class=\"o\">/</span><span class=\"n\">ImageFrame</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">141</span>        <span class=\"n\">style</span> <span class=\"n\">line_length</span>       <span class=\"n\">Lines</span> <span class=\"n\">should</span> <span class=\"n\">be</span> <span class=\"o\">&lt;=</span> <span class=\"mi\">80</span> <span class=\"n\">characters</span> <span class=\"kr\">long</span>\n<span class=\"n\">gazebo</span><span class=\"o\">/</span><span class=\"n\">gui</span><span class=\"o\">/</span><span class=\"n\">viewers</span><span class=\"o\">/</span><span class=\"n\">ImageFrame</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">164</span>        <span class=\"n\">style</span> <span class=\"n\">line_length</span>       <span class=\"n\">Lines</span> <span class=\"n\">should</span> <span class=\"n\">be</span> <span class=\"o\">&lt;=</span> <span class=\"mi\">80</span> <span class=\"n\">characters</span> <span class=\"kr\">long</span>\n<span class=\"n\">gazebo</span><span class=\"o\">/</span><span class=\"n\">gui</span><span class=\"o\">/</span><span class=\"n\">viewers</span><span class=\"o\">/</span><span class=\"n\">ImageFramePrivate</span><span class=\"p\">.</span><span class=\"nl\">hh</span><span class=\"p\">:</span><span class=\"mi\">39</span>  <span class=\"n\">include_what_you_use</span>    <span class=\"n\">Add</span> <span class=\"err\">#</span><span class=\"n\">include</span> <span class=\"o\">&lt;</span><span class=\"n\">vector</span><span class=\"o\">&gt;</span> <span class=\"k\">for</span> <span class=\"n\">vector</span><span class=\"o\">&lt;&gt;</span>\n</pre></div>", "type": "rendered"}, "created_on": "2016-06-24T22:50:44.895561+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2016-06-24T22:50:44.898055+00:00", "type": "pullrequest_comment", "id": 20230060}