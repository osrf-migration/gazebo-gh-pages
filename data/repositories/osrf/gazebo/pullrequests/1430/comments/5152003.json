{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1430/comments/5152003.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1430/_/diff#comment-5152003"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1430, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1430.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1430"}}, "title": "Preserve previous GAZEBO_MODEL_PATH values when sourcing setup.sh"}, "content": {"raw": "Thanks Steve. Since in my test I did not source the setup.sh I was looking for ghosts in parsing the variable inside `common/SystemPaths.cc`.\n\nA quick check at `gazebo_ros_pkgs` provided the answer to me:\n\n```\n#!sh\njrivero@nium gazebo_ros_pkgs $  grep -R setup.sh *\ngazebo_ros/scripts/debug:. $setup_path/setup.sh && rosrun gazebo_ros gdbrun gzserver $final\ngazebo_ros/scripts/perf:. $setup_path/setup.sh && /usr/bin/valgrind --tool=callgrind gzserver $final\ngazebo_ros/scripts/gzserver:. $setup_path/setup.sh && gzserver $final\ngazebo_ros/scripts/gzclient:. $setup_path/setup.sh && gzclient $final\ngazebo_ros/scripts/gazebo:. $setup_path/setup.sh \n```", "markup": "markdown", "html": "<p>Thanks Steve. Since in my test I did not source the setup.sh I was looking for ghosts in parsing the variable inside <code>common/SystemPaths.cc</code>.</p>\n<p>A quick check at <code>gazebo_ros_pkgs</code> provided the answer to me:</p>\n<div class=\"codehilite language-sh\"><pre><span></span>jrivero@nium gazebo_ros_pkgs $  grep -R setup.sh *\ngazebo_ros/scripts/debug:. <span class=\"nv\">$setup_path</span>/setup.sh <span class=\"o\">&amp;&amp;</span> rosrun gazebo_ros gdbrun gzserver <span class=\"nv\">$final</span>\ngazebo_ros/scripts/perf:. <span class=\"nv\">$setup_path</span>/setup.sh <span class=\"o\">&amp;&amp;</span> /usr/bin/valgrind --tool<span class=\"o\">=</span>callgrind gzserver <span class=\"nv\">$final</span>\ngazebo_ros/scripts/gzserver:. <span class=\"nv\">$setup_path</span>/setup.sh <span class=\"o\">&amp;&amp;</span> gzserver <span class=\"nv\">$final</span>\ngazebo_ros/scripts/gzclient:. <span class=\"nv\">$setup_path</span>/setup.sh <span class=\"o\">&amp;&amp;</span> gzclient <span class=\"nv\">$final</span>\ngazebo_ros/scripts/gazebo:. <span class=\"nv\">$setup_path</span>/setup.sh \n</pre></div>", "type": "rendered"}, "created_on": "2015-02-16T00:58:27.204388+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2015-02-16T00:58:27.214814+00:00", "type": "pullrequest_comment", "id": 5152003}