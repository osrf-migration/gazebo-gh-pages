{"pagelen": 50, "values": [{"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/47816881.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-47816881"}}, "parent": {"id": 47812489, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/47812489.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-47812489"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}, "content": {"raw": "Thanks! ", "markup": "markdown", "html": "<p>Thanks! </p>", "type": "rendered"}, "created_on": "2017-10-23T23:14:48.300671+00:00", "user": {"display_name": "Ying Lu", "uuid": "{11ec131e-4af6-4228-beaf-167b1c8d1c2c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D"}, "html": {"href": "https://bitbucket.org/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:659bfe31-d941-44f5-aa6d-00058b070ea8/c88d5925-8a09-40c7-8684-c02aeafe0f59/128"}}, "nickname": "rosebudflyaway", "type": "user", "account_id": "557058:659bfe31-d941-44f5-aa6d-00058b070ea8"}, "updated_on": "2017-10-23T23:14:48.303651+00:00", "type": "pullrequest_comment", "id": 47816881}, "pull_request": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}}, {"update": {"description": "ODE uses the term \"island\" to refer to a group of interacting bodies, such that there is no interaction between bodies on different islands (ie. no joints between islands). This offers an opportunity for parallelization, but simulating each island in its own thread. This was implemented in our fork of ODE quite a while ago (though upstream now has a [different implementation](https://bitbucket.org/odedevs/ode/commits/740a0ab9eda20059eeacc89f870132e47dab1882)); this PR just exposes the functionality via `ODEPhysics::SetParam`. It can speed up simulation, but it can also slow things down, so it is off by default. There is a test that uses the circle of 8 double pendulums with island sizes of 0 and 2, and expects it to run faster with 2 islands.", "title": "Parallelize ODE physics with threaded islands parameter", "destination": {"commit": {"hash": "1dabe7812b09", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/1dabe7812b09.json"}, "html": {"href": "#!/osrf/gazebo/commits/1dabe7812b09"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "822d1cfc141e", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/822d1cfc141e.json"}, "html": {"href": "#!/osrf/gazebo/commits/822d1cfc141e"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "thread_islands_ode"}}, "state": "MERGED", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2017-10-23T21:50:09.175498+00:00"}, "pull_request": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}}, {"approval": {"date": "2017-10-23T21:45:51.024379+00:00", "pullrequest": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}, "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}}, "pull_request": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/47812489.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-47812489"}}, "parent": {"id": 47577660, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/47577660.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-47577660"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}, "content": {"raw": "I've filed #2364 and disabled the test for homebrew in 822d1cfc141e", "markup": "markdown", "html": "<p>I've filed <a href=\"#!/osrf/gazebo/issues/2364/multiplependulumworldstep-test-fails\" rel=\"nofollow\" title=\"MultiplePendulumWorldStep test fails consistently on homebrew\" class=\"ap-connect-link\">#2364</a> and disabled the test for homebrew in <a href=\"#!/osrf/gazebo/commits/822d1cfc141e\" rel=\"nofollow\" class=\"ap-connect-link\">822d1cfc141e</a></p>", "type": "rendered"}, "created_on": "2017-10-23T21:44:11.873017+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-10-23T21:44:11.876552+00:00", "type": "pullrequest_comment", "id": 47812489}, "pull_request": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}}, {"update": {"description": "ODE uses the term \"island\" to refer to a group of interacting bodies, such that there is no interaction between bodies on different islands (ie. no joints between islands). This offers an opportunity for parallelization, but simulating each island in its own thread. This was implemented in our fork of ODE quite a while ago (though upstream now has a [different implementation](https://bitbucket.org/odedevs/ode/commits/740a0ab9eda20059eeacc89f870132e47dab1882)); this PR just exposes the functionality via `ODEPhysics::SetParam`. It can speed up simulation, but it can also slow things down, so it is off by default. There is a test that uses the circle of 8 double pendulums with island sizes of 0 and 2, and expects it to run faster with 2 islands.", "title": "Parallelize ODE physics with threaded islands parameter", "destination": {"commit": {"hash": "1dabe7812b09", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/1dabe7812b09.json"}, "html": {"href": "#!/osrf/gazebo/commits/1dabe7812b09"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "822d1cfc141e", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/822d1cfc141e.json"}, "html": {"href": "#!/osrf/gazebo/commits/822d1cfc141e"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "thread_islands_ode"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2017-10-23T21:39:51.671417+00:00"}, "pull_request": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/47577660.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-47577660"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}, "content": {"raw": "The [MultiplePendulumWorldStep test](https://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/1209/testReport/junit/(root)/SpeedThreadIslandsTest/MultiplePendulumWorldStep/history/) is failing consistently on homebrew. I have reproduced it on a second build machine, so it is not a fluke.", "markup": "markdown", "html": "<p>The <a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/1209/testReport/junit/(root)/SpeedThreadIslandsTest/MultiplePendulumWorldStep/history/\" rel=\"nofollow\">MultiplePendulumWorldStep test</a> is failing consistently on homebrew. I have reproduced it on a second build machine, so it is not a fluke.</p>", "type": "rendered"}, "created_on": "2017-10-19T16:57:21.877785+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-10-19T16:57:21.881398+00:00", "type": "pullrequest_comment", "id": 47577660}, "pull_request": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}}, {"update": {"description": "ODE uses the term \"island\" to refer to a group of interacting bodies, such that there is no interaction between bodies on different islands (ie. no joints between islands). This offers an opportunity for parallelization, but simulating each island in its own thread. This was implemented in our fork of ODE quite a while ago (though upstream now has a [different implementation](https://bitbucket.org/odedevs/ode/commits/740a0ab9eda20059eeacc89f870132e47dab1882)); this PR just exposes the functionality via `ODEPhysics::SetParam`. It can speed up simulation, but it can also slow things down, so it is off by default. There is a test that uses the circle of 8 double pendulums with island sizes of 0 and 2, and expects it to run faster with 2 islands.", "title": "Parallelize ODE physics with threaded islands parameter", "destination": {"commit": {"hash": "1dabe7812b09", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/1dabe7812b09.json"}, "html": {"href": "#!/osrf/gazebo/commits/1dabe7812b09"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "ce7712eb9f38", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/ce7712eb9f38.json"}, "html": {"href": "#!/osrf/gazebo/commits/ce7712eb9f38"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "thread_islands_ode"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2017-10-19T16:55:24.769426+00:00"}, "pull_request": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}}, {"update": {"description": "ODE uses the term \"island\" to refer to a group of interacting bodies, such that there is no interaction between bodies on different islands (ie. no joints between islands). This offers an opportunity for parallelization, but simulating each island in its own thread. This was implemented in our fork of ODE quite a while ago (though upstream now has a [different implementation](https://bitbucket.org/odedevs/ode/commits/740a0ab9eda20059eeacc89f870132e47dab1882)); this PR just exposes the functionality via `ODEPhysics::SetParam`. It can speed up simulation, but it can also slow things down, so it is off by default. There is a test that uses the circle of 8 double pendulums with island sizes of 0 and 2, and expects it to run faster with 2 islands.", "title": "Parallelize ODE physics with threaded islands parameter", "destination": {"commit": {"hash": "1dabe7812b09", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/1dabe7812b09.json"}, "html": {"href": "#!/osrf/gazebo/commits/1dabe7812b09"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "0ed18cf4e1b6", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/0ed18cf4e1b6.json"}, "html": {"href": "#!/osrf/gazebo/commits/0ed18cf4e1b6"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "thread_islands_ode"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2017-10-19T07:08:18.641305+00:00"}, "pull_request": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/47501065.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-47501065"}}, "parent": {"id": 47168600, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/47168600.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-47168600"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}, "content": {"raw": "It looked mostly good, but the integer arguments to `ThreadSpeedup` were reversed. I fixed this in a317fc1bdea1 and tested it 150 times successfully on my desktop. I'm going to run another round of jenkins tests and then call it good if it's clean", "markup": "markdown", "html": "<p>It looked mostly good, but the integer arguments to <code>ThreadSpeedup</code> were reversed. I fixed this in <a href=\"#!/osrf/gazebo/commits/a317fc1bdea1\" rel=\"nofollow\" class=\"ap-connect-link\">a317fc1bdea1</a> and tested it 150 times successfully on my desktop. I'm going to run another round of jenkins tests and then call it good if it's clean</p>", "type": "rendered"}, "created_on": "2017-10-19T01:25:50.491297+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-10-19T01:25:50.493674+00:00", "type": "pullrequest_comment", "id": 47501065}, "pull_request": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}}, {"update": {"description": "ODE uses the term \"island\" to refer to a group of interacting bodies, such that there is no interaction between bodies on different islands (ie. no joints between islands). This offers an opportunity for parallelization, but simulating each island in its own thread. This was implemented in our fork of ODE quite a while ago (though upstream now has a [different implementation](https://bitbucket.org/odedevs/ode/commits/740a0ab9eda20059eeacc89f870132e47dab1882)); this PR just exposes the functionality via `ODEPhysics::SetParam`. It can speed up simulation, but it can also slow things down, so it is off by default. There is a test that uses the circle of 8 double pendulums with island sizes of 0 and 2, and expects it to run faster with 2 islands.", "title": "Parallelize ODE physics with threaded islands parameter", "destination": {"commit": {"hash": "1dabe7812b09", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/1dabe7812b09.json"}, "html": {"href": "#!/osrf/gazebo/commits/1dabe7812b09"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "a317fc1bdea1", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/a317fc1bdea1.json"}, "html": {"href": "#!/osrf/gazebo/commits/a317fc1bdea1"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "thread_islands_ode"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2017-10-19T01:24:21.045467+00:00"}, "pull_request": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}}, {"update": {"description": "ODE uses the term \"island\" to refer to a group of interacting bodies, such that there is no interaction between bodies on different islands (ie. no joints between islands). This offers an opportunity for parallelization, but simulating each island in its own thread. This was implemented in our fork of ODE quite a while ago (though upstream now has a [different implementation](https://bitbucket.org/odedevs/ode/commits/740a0ab9eda20059eeacc89f870132e47dab1882)); this PR just exposes the functionality via `ODEPhysics::SetParam`. It can speed up simulation, but it can also slow things down, so it is off by default. There is a test that uses the circle of 8 double pendulums with island sizes of 0 and 2, and expects it to run faster with 2 islands.", "title": "Parallelize ODE physics with threaded islands parameter", "destination": {"commit": {"hash": "1dabe7812b09", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/1dabe7812b09.json"}, "html": {"href": "#!/osrf/gazebo/commits/1dabe7812b09"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "a317fc1bdea1", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/a317fc1bdea1.json"}, "html": {"href": "#!/osrf/gazebo/commits/a317fc1bdea1"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "thread_islands_ode"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2017-10-19T01:24:18.202535+00:00"}, "pull_request": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/47370417.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-47370417"}}, "parent": {"id": 47168600, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/47168600.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-47168600"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}, "content": {"raw": "Yeah, these changes look good and I'm testing them now", "markup": "markdown", "html": "<p>Yeah, these changes look good and I'm testing them now</p>", "type": "rendered"}, "created_on": "2017-10-17T17:58:55.477303+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-10-17T17:58:55.480558+00:00", "type": "pullrequest_comment", "id": 47370417}, "pull_request": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/47280304.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-47280304"}}, "parent": {"id": 47168595, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/47168595.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-47168595"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}, "content": {"raw": "If @scpeters is okay with these changes and we merge them in, I'll be happy to approve the PR.", "markup": "markdown", "html": "<p>If @scpeters is okay with these changes and we merge them in, I'll be happy to approve the PR.</p>", "type": "rendered"}, "created_on": "2017-10-16T23:20:28.076601+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {}, "updated_on": "2017-10-16T23:20:28.084637+00:00", "type": "pullrequest_comment", "id": 47280304}, "pull_request": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/47168600.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-47168600"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}, "content": {"raw": "@scpeters  There are a few commits here https://bitbucket.org/rosebudflyaway/gazebo/commits/all in reply to Grey's review comments.   \nPlease feel free to pull and update if you agree. \n\nThanks! ", "markup": "markdown", "html": "<p>@scpeters  There are a few commits here <a href=\"https://bitbucket.org/rosebudflyaway/gazebo/commits/all\" rel=\"nofollow\" class=\"ap-connect-link\">https://bitbucket.org/rosebudflyaway/gazebo/commits/all</a> in reply to Grey's review comments. <br />\nPlease feel free to pull and update if you agree. </p>\n<p>Thanks! </p>", "type": "rendered"}, "created_on": "2017-10-14T00:56:50.913964+00:00", "user": {"display_name": "Ying Lu", "uuid": "{11ec131e-4af6-4228-beaf-167b1c8d1c2c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D"}, "html": {"href": "https://bitbucket.org/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:659bfe31-d941-44f5-aa6d-00058b070ea8/c88d5925-8a09-40c7-8684-c02aeafe0f59/128"}}, "nickname": "rosebudflyaway", "type": "user", "account_id": "557058:659bfe31-d941-44f5-aa6d-00058b070ea8"}, "updated_on": "2017-10-14T00:56:50.922945+00:00", "type": "pullrequest_comment", "id": 47168600}, "pull_request": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/47168595.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-47168595"}}, "parent": {"id": 47166826, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/47166826.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-47166826"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}, "content": {"raw": "I think I might have remembered wrong , but I made changes to the dual pr2 `.world` file [e718fc8](https://bitbucket.org/rosebudflyaway/gazebo/commits/e718fc852fd8ddcee4b7cf0956cf21c3351d878e)  ", "markup": "markdown", "html": "<p>I think I might have remembered wrong , but I made changes to the dual pr2 <code>.world</code> file <a data-is-external-link=\"true\" href=\"https://bitbucket.org/rosebudflyaway/gazebo/commits/e718fc852fd8ddcee4b7cf0956cf21c3351d878e\" rel=\"nofollow\">e718fc8</a>  </p>", "type": "rendered"}, "created_on": "2017-10-14T00:55:32.573154+00:00", "user": {"display_name": "Ying Lu", "uuid": "{11ec131e-4af6-4228-beaf-167b1c8d1c2c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D"}, "html": {"href": "https://bitbucket.org/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:659bfe31-d941-44f5-aa6d-00058b070ea8/c88d5925-8a09-40c7-8684-c02aeafe0f59/128"}}, "nickname": "rosebudflyaway", "type": "user", "account_id": "557058:659bfe31-d941-44f5-aa6d-00058b070ea8"}, "inline": {}, "updated_on": "2017-10-14T00:55:32.575694+00:00", "type": "pullrequest_comment", "id": 47168595}, "pull_request": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/47168285.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-47168285"}}, "parent": {"id": 47166119, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/47166119.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-47166119"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}, "content": {"raw": "Great point! Fixed [c712837](https://bitbucket.org/rosebudflyaway/gazebo/commits/c71283720f69f5ff5898a0760de0c74a6acd968f)   \nI left the 4 tests as they were since they have a intuitive tag to figure out what they are testing ", "markup": "markdown", "html": "<p>Great point! Fixed <a data-is-external-link=\"true\" href=\"https://bitbucket.org/rosebudflyaway/gazebo/commits/c71283720f69f5ff5898a0760de0c74a6acd968f\" rel=\"nofollow\">c712837</a> <br />\nI left the 4 tests as they were since they have a intuitive tag to figure out what they are testing </p>", "type": "rendered"}, "created_on": "2017-10-14T00:22:18.535450+00:00", "user": {"display_name": "Ying Lu", "uuid": "{11ec131e-4af6-4228-beaf-167b1c8d1c2c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D"}, "html": {"href": "https://bitbucket.org/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:659bfe31-d941-44f5-aa6d-00058b070ea8/c88d5925-8a09-40c7-8684-c02aeafe0f59/128"}}, "nickname": "rosebudflyaway", "type": "user", "account_id": "557058:659bfe31-d941-44f5-aa6d-00058b070ea8"}, "inline": {}, "updated_on": "2017-10-14T00:22:18.537935+00:00", "type": "pullrequest_comment", "id": 47168285}, "pull_request": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/47167747.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-47167747"}}, "parent": {"id": 47167428, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/47167428.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-47167428"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}, "content": {"raw": "Yes, that's correct", "markup": "markdown", "html": "<p>Yes, that's correct</p>", "type": "rendered"}, "created_on": "2017-10-13T23:47:01.632572+00:00", "user": {"display_name": "Ying Lu", "uuid": "{11ec131e-4af6-4228-beaf-167b1c8d1c2c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D"}, "html": {"href": "https://bitbucket.org/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:659bfe31-d941-44f5-aa6d-00058b070ea8/c88d5925-8a09-40c7-8684-c02aeafe0f59/128"}}, "nickname": "rosebudflyaway", "type": "user", "account_id": "557058:659bfe31-d941-44f5-aa6d-00058b070ea8"}, "inline": {}, "updated_on": "2017-10-13T23:47:01.635429+00:00", "type": "pullrequest_comment", "id": 47167747}, "pull_request": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/47167428.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-47167428"}}, "parent": {"id": 47167369, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/47167369.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-47167369"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}, "content": {"raw": "So does `1` imply that there will actually be two threads running: One main thread and one island thread? That's the question that I meant to ask.", "markup": "markdown", "html": "<p>So does <code>1</code> imply that there will actually be two threads running: One main thread and one island thread? That's the question that I meant to ask.</p>", "type": "rendered"}, "created_on": "2017-10-13T23:31:54.362849+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {}, "updated_on": "2017-10-13T23:31:54.365041+00:00", "type": "pullrequest_comment", "id": 47167428}, "pull_request": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/47167387.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-47167387"}}, "parent": {"id": 47158298, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/47158298.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-47158298"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}, "content": {"raw": "Fixed [507ce42](https://bitbucket.org/rosebudflyaway/gazebo/commits/507ce42316d262e47660b82a5eeebaefd712b292)", "markup": "markdown", "html": "<p>Fixed <a data-is-external-link=\"true\" href=\"https://bitbucket.org/rosebudflyaway/gazebo/commits/507ce42316d262e47660b82a5eeebaefd712b292\" rel=\"nofollow\">507ce42</a></p>", "type": "rendered"}, "created_on": "2017-10-13T23:29:58.100210+00:00", "user": {"display_name": "Ying Lu", "uuid": "{11ec131e-4af6-4228-beaf-167b1c8d1c2c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D"}, "html": {"href": "https://bitbucket.org/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:659bfe31-d941-44f5-aa6d-00058b070ea8/c88d5925-8a09-40c7-8684-c02aeafe0f59/128"}}, "nickname": "rosebudflyaway", "type": "user", "account_id": "557058:659bfe31-d941-44f5-aa6d-00058b070ea8"}, "inline": {}, "updated_on": "2017-10-13T23:29:58.103598+00:00", "type": "pullrequest_comment", "id": 47167387}, "pull_request": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/47167369.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-47167369"}}, "parent": {"id": 47165834, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/47165834.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-47165834"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}, "content": {"raw": "There are some benchmarking plots in [this report](http://gazebosim.org/assets/parallel_physics-4763135bf4d0deda22fbbe27c9cd4cc1.pdf)    \n`1` almost always has worse performance than `0` since we have to create the threadpool and destruct the pool for size of `1`", "markup": "markdown", "html": "<p>There are some benchmarking plots in <a data-is-external-link=\"true\" href=\"http://gazebosim.org/assets/parallel_physics-4763135bf4d0deda22fbbe27c9cd4cc1.pdf\" rel=\"nofollow\">this report</a>  <br />\n<code>1</code> almost always has worse performance than <code>0</code> since we have to create the threadpool and destruct the pool for size of <code>1</code></p>", "type": "rendered"}, "created_on": "2017-10-13T23:29:00.328986+00:00", "user": {"display_name": "Ying Lu", "uuid": "{11ec131e-4af6-4228-beaf-167b1c8d1c2c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D"}, "html": {"href": "https://bitbucket.org/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:659bfe31-d941-44f5-aa6d-00058b070ea8/c88d5925-8a09-40c7-8684-c02aeafe0f59/128"}}, "nickname": "rosebudflyaway", "type": "user", "account_id": "557058:659bfe31-d941-44f5-aa6d-00058b070ea8"}, "inline": {}, "updated_on": "2017-10-13T23:29:00.331276+00:00", "type": "pullrequest_comment", "id": 47167369}, "pull_request": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/47167204.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-47167204"}}, "parent": {"id": 47165700, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/47165700.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-47165700"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}, "content": {"raw": "Fixed [507ce42](https://bitbucket.org/rosebudflyaway/gazebo/commits/507ce42316d262e47660b82a5eeebaefd712b292)", "markup": "markdown", "html": "<p>Fixed <a data-is-external-link=\"true\" href=\"https://bitbucket.org/rosebudflyaway/gazebo/commits/507ce42316d262e47660b82a5eeebaefd712b292\" rel=\"nofollow\">507ce42</a></p>", "type": "rendered"}, "created_on": "2017-10-13T23:23:36.450989+00:00", "user": {"display_name": "Ying Lu", "uuid": "{11ec131e-4af6-4228-beaf-167b1c8d1c2c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D"}, "html": {"href": "https://bitbucket.org/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:659bfe31-d941-44f5-aa6d-00058b070ea8/c88d5925-8a09-40c7-8684-c02aeafe0f59/128"}}, "nickname": "rosebudflyaway", "type": "user", "account_id": "557058:659bfe31-d941-44f5-aa6d-00058b070ea8"}, "inline": {}, "updated_on": "2017-10-13T23:23:36.453473+00:00", "type": "pullrequest_comment", "id": 47167204}, "pull_request": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/47167202.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-47167202"}}, "parent": {"id": 47165691, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/47165691.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-47165691"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}, "content": {"raw": "Fixed [507ce42](https://bitbucket.org/rosebudflyaway/gazebo/commits/507ce42316d262e47660b82a5eeebaefd712b292)", "markup": "markdown", "html": "<p>Fixed <a data-is-external-link=\"true\" href=\"https://bitbucket.org/rosebudflyaway/gazebo/commits/507ce42316d262e47660b82a5eeebaefd712b292\" rel=\"nofollow\">507ce42</a></p>", "type": "rendered"}, "created_on": "2017-10-13T23:23:32.286377+00:00", "user": {"display_name": "Ying Lu", "uuid": "{11ec131e-4af6-4228-beaf-167b1c8d1c2c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D"}, "html": {"href": "https://bitbucket.org/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:659bfe31-d941-44f5-aa6d-00058b070ea8/c88d5925-8a09-40c7-8684-c02aeafe0f59/128"}}, "nickname": "rosebudflyaway", "type": "user", "account_id": "557058:659bfe31-d941-44f5-aa6d-00058b070ea8"}, "inline": {}, "updated_on": "2017-10-13T23:23:32.289137+00:00", "type": "pullrequest_comment", "id": 47167202}, "pull_request": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/47167200.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-47167200"}}, "parent": {"id": 47165536, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/47165536.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-47165536"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}, "content": {"raw": "Fixed [507ce42](https://bitbucket.org/rosebudflyaway/gazebo/commits/507ce42316d262e47660b82a5eeebaefd712b292)", "markup": "markdown", "html": "<p>Fixed <a data-is-external-link=\"true\" href=\"https://bitbucket.org/rosebudflyaway/gazebo/commits/507ce42316d262e47660b82a5eeebaefd712b292\" rel=\"nofollow\">507ce42</a></p>", "type": "rendered"}, "created_on": "2017-10-13T23:23:25.309850+00:00", "user": {"display_name": "Ying Lu", "uuid": "{11ec131e-4af6-4228-beaf-167b1c8d1c2c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D"}, "html": {"href": "https://bitbucket.org/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:659bfe31-d941-44f5-aa6d-00058b070ea8/c88d5925-8a09-40c7-8684-c02aeafe0f59/128"}}, "nickname": "rosebudflyaway", "type": "user", "account_id": "557058:659bfe31-d941-44f5-aa6d-00058b070ea8"}, "inline": {}, "updated_on": "2017-10-13T23:23:25.312397+00:00", "type": "pullrequest_comment", "id": 47167200}, "pull_request": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/47167198.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-47167198"}}, "parent": {"id": 47158509, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/47158509.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-47158509"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}, "content": {"raw": "Fixed [507ce42](https://bitbucket.org/rosebudflyaway/gazebo/commits/507ce42316d262e47660b82a5eeebaefd712b292)", "markup": "markdown", "html": "<p>Fixed <a data-is-external-link=\"true\" href=\"https://bitbucket.org/rosebudflyaway/gazebo/commits/507ce42316d262e47660b82a5eeebaefd712b292\" rel=\"nofollow\">507ce42</a></p>", "type": "rendered"}, "created_on": "2017-10-13T23:23:19.287189+00:00", "user": {"display_name": "Ying Lu", "uuid": "{11ec131e-4af6-4228-beaf-167b1c8d1c2c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D"}, "html": {"href": "https://bitbucket.org/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:659bfe31-d941-44f5-aa6d-00058b070ea8/c88d5925-8a09-40c7-8684-c02aeafe0f59/128"}}, "nickname": "rosebudflyaway", "type": "user", "account_id": "557058:659bfe31-d941-44f5-aa6d-00058b070ea8"}, "inline": {}, "updated_on": "2017-10-13T23:23:19.290642+00:00", "type": "pullrequest_comment", "id": 47167198}, "pull_request": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/47167044.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-47167044"}}, "parent": {"id": 47166826, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/47166826.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-47166826"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}, "content": {"raw": "To use the models in the way of  `model://`, it has to be downloaded and put inside the `.gazebo` folder under home , this is a one-time thing   \nThere is an inconsistency here,  we did use `include` for the double pendulum model.     \nLet's see whether @nkoenig and @scpeters have any strong preference on whether to `include` a model with all the sdformat details or reuse with `model://`, and I will make it consistent. \n", "markup": "markdown", "html": "<p>To use the models in the way of  <code>model://</code>, it has to be downloaded and put inside the <code>.gazebo</code> folder under home , this is a one-time thing <br />\nThere is an inconsistency here,  we did use <code>include</code> for the double pendulum model.   <br />\nLet's see whether @nkoenig and @scpeters have any strong preference on whether to <code>include</code> a model with all the sdformat details or reuse with <code>model://</code>, and I will make it consistent. </p>", "type": "rendered"}, "created_on": "2017-10-13T23:16:00.275433+00:00", "user": {"display_name": "Ying Lu", "uuid": "{11ec131e-4af6-4228-beaf-167b1c8d1c2c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D"}, "html": {"href": "https://bitbucket.org/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:659bfe31-d941-44f5-aa6d-00058b070ea8/c88d5925-8a09-40c7-8684-c02aeafe0f59/128"}}, "nickname": "rosebudflyaway", "type": "user", "account_id": "557058:659bfe31-d941-44f5-aa6d-00058b070ea8"}, "inline": {}, "updated_on": "2017-10-13T23:16:00.307437+00:00", "type": "pullrequest_comment", "id": 47167044}, "pull_request": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/47166826.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-47166826"}}, "parent": {"id": 47166694, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/47166694.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-47166694"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}, "content": {"raw": "I have to admit, I don't know much about the details of how Gazebo utilizes the `model` URI scheme (does it download the model from a server upon first use and then keep a cache of it?), but we seem to be using it for the `double_pendulum_with_base` in this same test. If it works for the double pendulum model, is there something stopping us from using it on the PR2 model in particular?\n\nEdit: Maybe the mesh files complicate things?", "markup": "markdown", "html": "<p>I have to admit, I don't know much about the details of how Gazebo utilizes the <code>model</code> URI scheme (does it download the model from a server upon first use and then keep a cache of it?), but we seem to be using it for the <code>double_pendulum_with_base</code> in this same test. If it works for the double pendulum model, is there something stopping us from using it on the PR2 model in particular?</p>\n<p>Edit: Maybe the mesh files complicate things?</p>", "type": "rendered"}, "created_on": "2017-10-13T23:07:40.764153+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {}, "updated_on": "2017-10-13T23:08:50.417113+00:00", "type": "pullrequest_comment", "id": 47166826}, "pull_request": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/47166694.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-47166694"}}, "parent": {"id": 47166442, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/47166442.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-47166442"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}, "content": {"raw": "I remember we had similar conversation on this, we could include the pr2 model, but if the users who would like to run the test doesn't have the model in their workspace, then it would fail.    \nThat's probably why in the current .world file under `world` and `test/world` directory try to copy the same model across files instead of using `<include>` except for the `ground_plane` and `sun` model", "markup": "markdown", "html": "<p>I remember we had similar conversation on this, we could include the pr2 model, but if the users who would like to run the test doesn't have the model in their workspace, then it would fail.  <br />\nThat's probably why in the current .world file under <code>world</code> and <code>test/world</code> directory try to copy the same model across files instead of using <code>&lt;include&gt;</code> except for the <code>ground_plane</code> and <code>sun</code> model</p>", "type": "rendered"}, "created_on": "2017-10-13T23:02:31.915256+00:00", "user": {"display_name": "Ying Lu", "uuid": "{11ec131e-4af6-4228-beaf-167b1c8d1c2c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D"}, "html": {"href": "https://bitbucket.org/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:659bfe31-d941-44f5-aa6d-00058b070ea8/c88d5925-8a09-40c7-8684-c02aeafe0f59/128"}}, "nickname": "rosebudflyaway", "type": "user", "account_id": "557058:659bfe31-d941-44f5-aa6d-00058b070ea8"}, "inline": {}, "updated_on": "2017-10-13T23:02:31.917431+00:00", "type": "pullrequest_comment", "id": 47166694}, "pull_request": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/47166119.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-47166119"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}, "content": {"raw": "Nitpick: It seems like the two tests are very similar except for a handful of parameters which differ between them. We could consider refactoring their implementation into one function to improve maintainability.\n\nI suppose the catch is that `gtest` assertions report the line of code where the failure occurs, and coupling the test implementation too much can make it more difficult to identify which test failure is occurring and how.", "markup": "markdown", "html": "<p>Nitpick: It seems like the two tests are very similar except for a handful of parameters which differ between them. We could consider refactoring their implementation into one function to improve maintainability.</p>\n<p>I suppose the catch is that <code>gtest</code> assertions report the line of code where the failure occurs, and coupling the test implementation too much can make it more difficult to identify which test failure is occurring and how.</p>", "type": "rendered"}, "created_on": "2017-10-13T22:38:34.475020+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {}, "updated_on": "2017-10-13T22:54:39.459581+00:00", "type": "pullrequest_comment", "id": 47166119}, "pull_request": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/47166442.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-47166442"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}, "content": {"raw": "Does Gazebo have any canonical sdf file of PR2? If so, we could probably save a ton of file space by `<include>`ing it twice instead of copying it twice. If we don't have a model file for it already, it would probably be very beneficial for ourselves and users to split this off into its own model file (like the pendulum in the other example) and then `<include>` it twice.", "markup": "markdown", "html": "<p>Does Gazebo have any canonical sdf file of PR2? If so, we could probably save a ton of file space by <code>&lt;include&gt;</code>ing it twice instead of copying it twice. If we don't have a model file for it already, it would probably be very beneficial for ourselves and users to split this off into its own model file (like the pendulum in the other example) and then <code>&lt;include&gt;</code> it twice.</p>", "type": "rendered"}, "created_on": "2017-10-13T22:50:54.790706+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {}, "updated_on": "2017-10-13T22:50:54.793053+00:00", "type": "pullrequest_comment", "id": 47166442}, "pull_request": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/47165834.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-47165834"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}, "content": {"raw": "Just curious, does a setting of `0` island threads behave the same as `1` island thread?", "markup": "markdown", "html": "<p>Just curious, does a setting of <code>0</code> island threads behave the same as <code>1</code> island thread?</p>", "type": "rendered"}, "created_on": "2017-10-13T22:27:06.299387+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {}, "updated_on": "2017-10-13T22:27:06.302830+00:00", "type": "pullrequest_comment", "id": 47165834}, "pull_request": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/47165700.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-47165700"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}, "content": {"raw": "Same as above: `nullptr` instead of `NULL`.", "markup": "markdown", "html": "<p>Same as above: <code>nullptr</code> instead of <code>NULL</code>.</p>", "type": "rendered"}, "created_on": "2017-10-13T22:21:46.918205+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {}, "updated_on": "2017-10-13T22:21:46.921397+00:00", "type": "pullrequest_comment", "id": 47165700}, "pull_request": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/47165691.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-47165691"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}, "content": {"raw": "Nitpick: We should probably prefer comparing to `nullptr` rather than `NULL` for better type safety.", "markup": "markdown", "html": "<p>Nitpick: We should probably prefer comparing to <code>nullptr</code> rather than <code>NULL</code> for better type safety.</p>", "type": "rendered"}, "created_on": "2017-10-13T22:21:24.959354+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {}, "updated_on": "2017-10-13T22:21:24.962262+00:00", "type": "pullrequest_comment", "id": 47165691}, "pull_request": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/47165536.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-47165536"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}, "content": {"raw": "Nitpick: Capitalize the function name?", "markup": "markdown", "html": "<p>Nitpick: Capitalize the function name?</p>", "type": "rendered"}, "created_on": "2017-10-13T22:15:45.621264+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {}, "updated_on": "2017-10-13T22:15:45.625028+00:00", "type": "pullrequest_comment", "id": 47165536}, "pull_request": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/47158509.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-47158509"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}, "content": {"raw": "If this is producing and testing a multi-pendulum, should we call it `MultiPendulum` instead of `RevoluteJoint`?", "markup": "markdown", "html": "<p>If this is producing and testing a multi-pendulum, should we call it <code>MultiPendulum</code> instead of <code>RevoluteJoint</code>?</p>", "type": "rendered"}, "created_on": "2017-10-13T19:47:29.475098+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {}, "updated_on": "2017-10-13T19:47:29.477342+00:00", "type": "pullrequest_comment", "id": 47158509}, "pull_request": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/47158298.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-47158298"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}, "content": {"raw": "If this is a new file, should this maybe be 2017?", "markup": "markdown", "html": "<p>If this is a new file, should this maybe be 2017?</p>", "type": "rendered"}, "created_on": "2017-10-13T19:44:19.141841+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {}, "updated_on": "2017-10-13T19:44:19.144464+00:00", "type": "pullrequest_comment", "id": 47158298}, "pull_request": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/46978407.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-46978407"}}, "parent": {"id": 46977746, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/46977746.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-46977746"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}, "content": {"raw": "Sounds good! ", "markup": "markdown", "html": "<p>Sounds good! </p>", "type": "rendered"}, "created_on": "2017-10-12T01:22:51.967782+00:00", "user": {"display_name": "Ying Lu", "uuid": "{11ec131e-4af6-4228-beaf-167b1c8d1c2c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D"}, "html": {"href": "https://bitbucket.org/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:659bfe31-d941-44f5-aa6d-00058b070ea8/c88d5925-8a09-40c7-8684-c02aeafe0f59/128"}}, "nickname": "rosebudflyaway", "type": "user", "account_id": "557058:659bfe31-d941-44f5-aa6d-00058b070ea8"}, "updated_on": "2017-10-12T01:22:51.971492+00:00", "type": "pullrequest_comment", "id": 46978407}, "pull_request": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/46977746.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-46977746"}}, "parent": {"id": 46166698, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/46166698.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-46166698"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}, "content": {"raw": "Thanks @rosebudflyaway ! I've pulled in the changes, tested them locally, and haven't observed any failures. I just started a new round of jenkins jobs to confirm.", "markup": "markdown", "html": "<p>Thanks @rosebudflyaway ! I've pulled in the changes, tested them locally, and haven't observed any failures. I just started a new round of jenkins jobs to confirm.</p>", "type": "rendered"}, "created_on": "2017-10-12T00:59:12.715190+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-10-12T00:59:12.724129+00:00", "type": "pullrequest_comment", "id": 46977746}, "pull_request": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}}, {"update": {"description": "ODE uses the term \"island\" to refer to a group of interacting bodies, such that there is no interaction between bodies on different islands (ie. no joints between islands). This offers an opportunity for parallelization, but simulating each island in its own thread. This was implemented in our fork of ODE quite a while ago (though upstream now has a [different implementation](https://bitbucket.org/odedevs/ode/commits/740a0ab9eda20059eeacc89f870132e47dab1882)); this PR just exposes the functionality via `ODEPhysics::SetParam`. It can speed up simulation, but it can also slow things down, so it is off by default. There is a test that uses the circle of 8 double pendulums with island sizes of 0 and 2, and expects it to run faster with 2 islands.", "title": "Parallelize ODE physics with threaded islands parameter", "destination": {"commit": {"hash": "68d94d3cce38", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/68d94d3cce38.json"}, "html": {"href": "#!/osrf/gazebo/commits/68d94d3cce38"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "bb6aad574323", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/bb6aad574323.json"}, "html": {"href": "#!/osrf/gazebo/commits/bb6aad574323"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "thread_islands_ode"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2017-10-12T00:57:54.141122+00:00"}, "pull_request": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}}, {"update": {"description": "ODE uses the term \"island\" to refer to a group of interacting bodies, such that there is no interaction between bodies on different islands (ie. no joints between islands). This offers an opportunity for parallelization, but simulating each island in its own thread. This was implemented in our fork of ODE quite a while ago (though upstream now has a [different implementation](https://bitbucket.org/odedevs/ode/commits/740a0ab9eda20059eeacc89f870132e47dab1882)); this PR just exposes the functionality via `ODEPhysics::SetParam`. It can speed up simulation, but it can also slow things down, so it is off by default. There is a test that uses the circle of 8 double pendulums with island sizes of 0 and 2, and expects it to run faster with 2 islands.", "title": "Parallelize ODE physics with threaded islands parameter", "destination": {"commit": {"hash": "68d94d3cce38", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/68d94d3cce38.json"}, "html": {"href": "#!/osrf/gazebo/commits/68d94d3cce38"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "bb6aad574323", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/bb6aad574323.json"}, "html": {"href": "#!/osrf/gazebo/commits/bb6aad574323"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "thread_islands_ode"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2017-10-12T00:57:51.820930+00:00"}, "pull_request": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}}, {"update": {"description": "ODE uses the term \"island\" to refer to a group of interacting bodies, such that there is no interaction between bodies on different islands (ie. no joints between islands). This offers an opportunity for parallelization, but simulating each island in its own thread. This was implemented in our fork of ODE quite a while ago (though upstream now has a [different implementation](https://bitbucket.org/odedevs/ode/commits/740a0ab9eda20059eeacc89f870132e47dab1882)); this PR just exposes the functionality via `ODEPhysics::SetParam`. It can speed up simulation, but it can also slow things down, so it is off by default. There is a test that uses the circle of 8 double pendulums with island sizes of 0 and 2, and expects it to run faster with 2 islands.", "title": "Parallelize ODE physics with threaded islands parameter", "destination": {"commit": {"hash": "68d94d3cce38", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/68d94d3cce38.json"}, "html": {"href": "#!/osrf/gazebo/commits/68d94d3cce38"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "8269b46c0691", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/8269b46c0691.json"}, "html": {"href": "#!/osrf/gazebo/commits/8269b46c0691"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "thread_islands_ode"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2017-10-11T00:46:07.155483+00:00"}, "pull_request": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}}, {"update": {"description": "ODE uses the term \"island\" to refer to a group of interacting bodies, such that there is no interaction between bodies on different islands (ie. no joints between islands). This offers an opportunity for parallelization, but simulating each island in its own thread. This was implemented in our fork of ODE quite a while ago (though upstream now has a [different implementation](https://bitbucket.org/odedevs/ode/commits/740a0ab9eda20059eeacc89f870132e47dab1882)); this PR just exposes the functionality via `ODEPhysics::SetParam`. It can speed up simulation, but it can also slow things down, so it is off by default. There is a test that uses the circle of 8 double pendulums with island sizes of 0 and 2, and expects it to run faster with 2 islands.", "title": "Parallelize ODE physics with threaded islands parameter", "destination": {"commit": {"hash": "68d94d3cce38", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/68d94d3cce38.json"}, "html": {"href": "#!/osrf/gazebo/commits/68d94d3cce38"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "f7b6c483695d", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/f7b6c483695d.json"}, "html": {"href": "#!/osrf/gazebo/commits/f7b6c483695d"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "thread_islands_ode"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2017-10-11T00:43:45.739532+00:00"}, "pull_request": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/46166698.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-46166698"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}, "content": {"raw": "Added dual PR2 test here [4215f2b](https://bitbucket.org/rosebudflyaway/gazebo/commits/4215f2b8562a6844256efd16da58770303730a4c)   \nDid  200 repetitive run of the test  and all the tests passed ", "markup": "markdown", "html": "<p>Added dual PR2 test here <a data-is-external-link=\"true\" href=\"https://bitbucket.org/rosebudflyaway/gazebo/commits/4215f2b8562a6844256efd16da58770303730a4c\" rel=\"nofollow\">4215f2b</a> <br />\nDid  200 repetitive run of the test  and all the tests passed </p>", "type": "rendered"}, "created_on": "2017-09-30T01:04:34.625176+00:00", "user": {"display_name": "Ying Lu", "uuid": "{11ec131e-4af6-4228-beaf-167b1c8d1c2c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D"}, "html": {"href": "https://bitbucket.org/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:659bfe31-d941-44f5-aa6d-00058b070ea8/c88d5925-8a09-40c7-8684-c02aeafe0f59/128"}}, "nickname": "rosebudflyaway", "type": "user", "account_id": "557058:659bfe31-d941-44f5-aa6d-00058b070ea8"}, "updated_on": "2017-09-30T01:04:34.628119+00:00", "type": "pullrequest_comment", "id": 46166698}, "pull_request": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}}, {"approval": {"date": "2017-09-29T22:06:39.471887+00:00", "pullrequest": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}, "user": {"display_name": "Ying Lu", "uuid": "{11ec131e-4af6-4228-beaf-167b1c8d1c2c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D"}, "html": {"href": "https://bitbucket.org/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:659bfe31-d941-44f5-aa6d-00058b070ea8/c88d5925-8a09-40c7-8684-c02aeafe0f59/128"}}, "nickname": "rosebudflyaway", "type": "user", "account_id": "557058:659bfe31-d941-44f5-aa6d-00058b070ea8"}}, "pull_request": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/46082300.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-46082300"}}, "parent": {"id": 46081767, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/46081767.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-46081767"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}, "content": {"raw": "[Jenkins build rerun](https://build.osrfoundation.org/job/gazebo-ci-pr_any-xenial-amd64-gpu-nvidia/288/)    \nThere is a test failure, but not related to parallel physics   \n```\nError Message\n\n/var/lib/jenkins/workspace/gazebo-ci-pr_any-xenial-amd64-gpu-nvidia/gazebo/test/integration/harness.cc:99\nValue of: nullptr\n  Actual: 8-byte object <00-00 00-00 00-00 00-00>\nExpected: model->GetJoint(\"joint1\")\nWhich is: 0x7fac98002780\nStacktrace\n\n/var/lib/jenkins/workspace/gazebo-ci-pr_any-xenial-amd64-gpu-nvidia/gazebo/test/integration/harness.cc:99\nValue of: nullptr\n  Actual: 8-byte object <00-00 00-00 00-00 00-00>\nExpected: model->GetJoint(\"joint1\")\nWhich is: 0x7fac98002780\n```", "markup": "markdown", "html": "<p><a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/job/gazebo-ci-pr_any-xenial-amd64-gpu-nvidia/288/\" rel=\"nofollow\">Jenkins build rerun</a>  <br />\nThere is a test failure, but not related to parallel physics   </p>\n<div class=\"codehilite\"><pre><span></span>Error Message\n\n/var/lib/jenkins/workspace/gazebo-ci-pr_any-xenial-amd64-gpu-nvidia/gazebo/test/integration/harness.cc:99\nValue of: nullptr\n  Actual: 8-byte object &lt;00-00 00-00 00-00 00-00&gt;\nExpected: model-&gt;GetJoint(&quot;joint1&quot;)\nWhich is: 0x7fac98002780\nStacktrace\n\n/var/lib/jenkins/workspace/gazebo-ci-pr_any-xenial-amd64-gpu-nvidia/gazebo/test/integration/harness.cc:99\nValue of: nullptr\n  Actual: 8-byte object &lt;00-00 00-00 00-00 00-00&gt;\nExpected: model-&gt;GetJoint(&quot;joint1&quot;)\nWhich is: 0x7fac98002780\n</pre></div>", "type": "rendered"}, "created_on": "2017-09-28T23:12:07.275849+00:00", "user": {"display_name": "Ying Lu", "uuid": "{11ec131e-4af6-4228-beaf-167b1c8d1c2c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D"}, "html": {"href": "https://bitbucket.org/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:659bfe31-d941-44f5-aa6d-00058b070ea8/c88d5925-8a09-40c7-8684-c02aeafe0f59/128"}}, "nickname": "rosebudflyaway", "type": "user", "account_id": "557058:659bfe31-d941-44f5-aa6d-00058b070ea8"}, "updated_on": "2017-09-29T18:59:44.833622+00:00", "type": "pullrequest_comment", "id": 46082300}, "pull_request": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/46081767.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-46081767"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}, "content": {"raw": "I added a commit [0b430bd](https://bitbucket.org/rosebudflyaway/gazebo/commits/0b430bd0cc98f6af3849f15156c050912e9920e9) with a new world file with large gap to pass the test (200 repetitive run of the `speed_thread_islands` pass on my Desktop running Ubuntu).  \nSince the number of revolute joint is 8, therefore, I have increased the thread island to 4   \nFor a fair value between avg, max and min, I have fixed avg to be the avg among each repetitive run, instead of each single step, since the max / min is evaluated by each run    \nI found QT4 is missing and the build with branch `thread_island_ode` on top of `gazebo7` didn't succeed on my desktop, but the performance is tested with the same patch on gazebo8 ", "markup": "markdown", "html": "<p>I added a commit <a data-is-external-link=\"true\" href=\"https://bitbucket.org/rosebudflyaway/gazebo/commits/0b430bd0cc98f6af3849f15156c050912e9920e9\" rel=\"nofollow\">0b430bd</a> with a new world file with large gap to pass the test (200 repetitive run of the <code>speed_thread_islands</code> pass on my Desktop running Ubuntu).<br />\nSince the number of revolute joint is 8, therefore, I have increased the thread island to 4 <br />\nFor a fair value between avg, max and min, I have fixed avg to be the avg among each repetitive run, instead of each single step, since the max / min is evaluated by each run  <br />\nI found QT4 is missing and the build with branch <code>thread_island_ode</code> on top of <code>gazebo7</code> didn't succeed on my desktop, but the performance is tested with the same patch on gazebo8 </p>", "type": "rendered"}, "created_on": "2017-09-28T22:57:56.442870+00:00", "user": {"display_name": "Ying Lu", "uuid": "{11ec131e-4af6-4228-beaf-167b1c8d1c2c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D"}, "html": {"href": "https://bitbucket.org/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:659bfe31-d941-44f5-aa6d-00058b070ea8/c88d5925-8a09-40c7-8684-c02aeafe0f59/128"}}, "nickname": "rosebudflyaway", "type": "user", "account_id": "557058:659bfe31-d941-44f5-aa6d-00058b070ea8"}, "updated_on": "2017-09-28T22:57:56.445881+00:00", "type": "pullrequest_comment", "id": 46081767}, "pull_request": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/45644034.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-45644034"}}, "parent": {"id": 45444157, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/45444157.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-45444157"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}, "content": {"raw": "I briefly looked at this commit and seems they don't have tests similar as us to show the improvement, I can try applying this patch to see whether it could improve the stability ", "markup": "markdown", "html": "<p>I briefly looked at this commit and seems they don't have tests similar as us to show the improvement, I can try applying this patch to see whether it could improve the stability </p>", "type": "rendered"}, "created_on": "2017-09-22T21:30:39.407366+00:00", "user": {"display_name": "Ying Lu", "uuid": "{11ec131e-4af6-4228-beaf-167b1c8d1c2c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D"}, "html": {"href": "https://bitbucket.org/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:659bfe31-d941-44f5-aa6d-00058b070ea8/c88d5925-8a09-40c7-8684-c02aeafe0f59/128"}}, "nickname": "rosebudflyaway", "type": "user", "account_id": "557058:659bfe31-d941-44f5-aa6d-00058b070ea8"}, "updated_on": "2017-09-22T21:30:39.409541+00:00", "type": "pullrequest_comment", "id": 45644034}, "pull_request": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/45444157.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-45444157"}}, "parent": {"id": 45425781, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/45425781.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-45425781"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}, "content": {"raw": "we could also look at the [upstream code](https://bitbucket.org/odedevs/ode/commits/740a0ab9eda20059eeacc89f870132e47dab1882) to see if it has a better implementation", "markup": "markdown", "html": "<p>we could also look at the <a data-is-external-link=\"true\" href=\"https://bitbucket.org/odedevs/ode/commits/740a0ab9eda20059eeacc89f870132e47dab1882\" rel=\"nofollow\">upstream code</a> to see if it has a better implementation</p>", "type": "rendered"}, "created_on": "2017-09-20T20:20:29.492930+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-09-20T20:20:29.495284+00:00", "type": "pullrequest_comment", "id": 45444157}, "pull_request": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/45425781.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-45425781"}}, "parent": {"id": 45339866, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/45339866.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-45339866"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}, "content": {"raw": "I did an overnight run for 200 times, and each has 2 test for world step and quickstep respectively. There are 13 failures, I saw these happen to thread island = 4 as well. We might need to debug more and figure out a stable pass ", "markup": "markdown", "html": "<p>I did an overnight run for 200 times, and each has 2 test for world step and quickstep respectively. There are 13 failures, I saw these happen to thread island = 4 as well. We might need to debug more and figure out a stable pass </p>", "type": "rendered"}, "created_on": "2017-09-20T16:27:58.042854+00:00", "user": {"display_name": "Ying Lu", "uuid": "{11ec131e-4af6-4228-beaf-167b1c8d1c2c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D"}, "html": {"href": "https://bitbucket.org/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:659bfe31-d941-44f5-aa6d-00058b070ea8/c88d5925-8a09-40c7-8684-c02aeafe0f59/128"}}, "nickname": "rosebudflyaway", "type": "user", "account_id": "557058:659bfe31-d941-44f5-aa6d-00058b070ea8"}, "updated_on": "2017-09-20T16:27:58.046116+00:00", "type": "pullrequest_comment", "id": 45425781}, "pull_request": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/45341250.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-45341250"}}, "parent": {"id": 45339866, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/45339866.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-45339866"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}, "content": {"raw": "I ran the tests for 10 consecutive times in a row and did that for 3 times, which are 30 consecutive times and I didn't catch a failure. I am currently running it for 100 times and I will see how it works out. \nBtw, would you mind adding this following changes to the tests by adding one more case for thread island = 4, at least from the printed out information, this definitely won't hurt.  \n\n```\n#!c++\n  // Turn on island threads (4)\n  {\n    int threads;\n    physics->SetParam(\"island_threads\", 4);\n    EXPECT_NO_THROW(\n      threads = boost::any_cast<int>(physics->GetParam(\"island_threads\")));\n    EXPECT_EQ(4, threads);\n  }\n\n  // Take 500 steps to warm up.\n  world->Step(500);\n\n  // Collect threaded statistics\n  common::Time thread4AvgTime, thread4MaxTime, thread4MinTime;\n  stats(world, thread4AvgTime, thread4MaxTime, thread4MinTime);\n\n  std::cout << \"Thread Time (4)\\n\";\n  std::cout << \"\\t Avg[\" << thread4AvgTime << \"]\\n\"\n            << \"\\t Max[\" << thread4MaxTime << \"]\\n\"\n            << \"\\t Min[\" << thread4MinTime << \"]\\n\";\n\n  // Expect computational time to decrease\n  EXPECT_LT(thread4MinTime, baseMinTime);\n    \n```\n", "markup": "markdown", "html": "<p>I ran the tests for 10 consecutive times in a row and did that for 3 times, which are 30 consecutive times and I didn't catch a failure. I am currently running it for 100 times and I will see how it works out. \nBtw, would you mind adding this following changes to the tests by adding one more case for thread island = 4, at least from the printed out information, this definitely won't hurt.  </p>\n<div class=\"codehilite language-c++\"><pre><span></span>  <span class=\"c1\">// Turn on island threads (4)</span>\n  <span class=\"p\">{</span>\n    <span class=\"kt\">int</span> <span class=\"n\">threads</span><span class=\"p\">;</span>\n    <span class=\"n\">physics</span><span class=\"o\">-&gt;</span><span class=\"n\">SetParam</span><span class=\"p\">(</span><span class=\"s\">&quot;island_threads&quot;</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">);</span>\n    <span class=\"n\">EXPECT_NO_THROW</span><span class=\"p\">(</span>\n      <span class=\"n\">threads</span> <span class=\"o\">=</span> <span class=\"n\">boost</span><span class=\"o\">::</span><span class=\"n\">any_cast</span><span class=\"o\">&lt;</span><span class=\"kt\">int</span><span class=\"o\">&gt;</span><span class=\"p\">(</span><span class=\"n\">physics</span><span class=\"o\">-&gt;</span><span class=\"n\">GetParam</span><span class=\"p\">(</span><span class=\"s\">&quot;island_threads&quot;</span><span class=\"p\">)));</span>\n    <span class=\"n\">EXPECT_EQ</span><span class=\"p\">(</span><span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"n\">threads</span><span class=\"p\">);</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"c1\">// Take 500 steps to warm up.</span>\n  <span class=\"n\">world</span><span class=\"o\">-&gt;</span><span class=\"n\">Step</span><span class=\"p\">(</span><span class=\"mi\">500</span><span class=\"p\">);</span>\n\n  <span class=\"c1\">// Collect threaded statistics</span>\n  <span class=\"n\">common</span><span class=\"o\">::</span><span class=\"n\">Time</span> <span class=\"n\">thread4AvgTime</span><span class=\"p\">,</span> <span class=\"n\">thread4MaxTime</span><span class=\"p\">,</span> <span class=\"n\">thread4MinTime</span><span class=\"p\">;</span>\n  <span class=\"n\">stats</span><span class=\"p\">(</span><span class=\"n\">world</span><span class=\"p\">,</span> <span class=\"n\">thread4AvgTime</span><span class=\"p\">,</span> <span class=\"n\">thread4MaxTime</span><span class=\"p\">,</span> <span class=\"n\">thread4MinTime</span><span class=\"p\">);</span>\n\n  <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">cout</span> <span class=\"o\">&lt;&lt;</span> <span class=\"s\">&quot;Thread Time (4)</span><span class=\"se\">\\n</span><span class=\"s\">&quot;</span><span class=\"p\">;</span>\n  <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">cout</span> <span class=\"o\">&lt;&lt;</span> <span class=\"s\">&quot;</span><span class=\"se\">\\t</span><span class=\"s\"> Avg[&quot;</span> <span class=\"o\">&lt;&lt;</span> <span class=\"n\">thread4AvgTime</span> <span class=\"o\">&lt;&lt;</span> <span class=\"s\">&quot;]</span><span class=\"se\">\\n</span><span class=\"s\">&quot;</span>\n            <span class=\"o\">&lt;&lt;</span> <span class=\"s\">&quot;</span><span class=\"se\">\\t</span><span class=\"s\"> Max[&quot;</span> <span class=\"o\">&lt;&lt;</span> <span class=\"n\">thread4MaxTime</span> <span class=\"o\">&lt;&lt;</span> <span class=\"s\">&quot;]</span><span class=\"se\">\\n</span><span class=\"s\">&quot;</span>\n            <span class=\"o\">&lt;&lt;</span> <span class=\"s\">&quot;</span><span class=\"se\">\\t</span><span class=\"s\"> Min[&quot;</span> <span class=\"o\">&lt;&lt;</span> <span class=\"n\">thread4MinTime</span> <span class=\"o\">&lt;&lt;</span> <span class=\"s\">&quot;]</span><span class=\"se\">\\n</span><span class=\"s\">&quot;</span><span class=\"p\">;</span>\n\n  <span class=\"c1\">// Expect computational time to decrease</span>\n  <span class=\"n\">EXPECT_LT</span><span class=\"p\">(</span><span class=\"n\">thread4MinTime</span><span class=\"p\">,</span> <span class=\"n\">baseMinTime</span><span class=\"p\">);</span>\n</pre></div>", "type": "rendered"}, "created_on": "2017-09-19T21:28:11.135880+00:00", "user": {"display_name": "Ying Lu", "uuid": "{11ec131e-4af6-4228-beaf-167b1c8d1c2c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D"}, "html": {"href": "https://bitbucket.org/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:659bfe31-d941-44f5-aa6d-00058b070ea8/c88d5925-8a09-40c7-8684-c02aeafe0f59/128"}}, "nickname": "rosebudflyaway", "type": "user", "account_id": "557058:659bfe31-d941-44f5-aa6d-00058b070ea8"}, "updated_on": "2017-09-19T23:02:12.527495+00:00", "type": "pullrequest_comment", "id": 45341250}, "pull_request": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/45339866.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-45339866"}}, "parent": {"id": 45247035, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775/comments/45247035.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775/_/diff#comment-45247035"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}, "content": {"raw": "I removed the expectation that average computational time improves, so it only requires that the best case (minimum) computational time is better with threading. This passed 125 consecutive times on my machine before I stopped the loop.", "markup": "markdown", "html": "<p>I removed the expectation that average computational time improves, so it only requires that the best case (minimum) computational time is better with threading. This passed 125 consecutive times on my machine before I stopped the loop.</p>", "type": "rendered"}, "created_on": "2017-09-19T21:03:13.773045+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-09-19T21:03:13.777362+00:00", "type": "pullrequest_comment", "id": 45339866}, "pull_request": {"type": "pullrequest", "id": 2775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2775"}}, "title": "Parallelize ODE physics with threaded islands parameter"}}], "next": "data/repositories/osrf/gazebo/pullrequests/2775/activity_ctx=xqfgGUBh7.json"}