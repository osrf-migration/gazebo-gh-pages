{"pagelen": 50, "values": [{"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653/comments/93874673.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653/_/diff#comment-93874673"}}, "parent": {"id": 93661606, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653/comments/93661606.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653/_/diff#comment-93661606"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2653, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653"}}, "title": "Force / torque sensor visualization using WrenchVisual"}, "content": {"raw": "I think you should be able to see it by setting the `<visualize>` tag to true like in [force_torque_demo.world](#!/osrf/gazebo/src/42d7d20db/worlds/force_torque_demo.world#force_torque_demo.world-99)", "markup": "markdown", "html": "<p>I think you should be able to see it by setting the <code>&lt;visualize&gt;</code> tag to true like in <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/42d7d20db/worlds/force_torque_demo.world#force_torque_demo.world-99\" rel=\"nofollow\">force_torque_demo.world</a></p>", "type": "rendered"}, "created_on": "2019-03-05T18:13:25.020658+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2019-03-05T18:13:25.034515+00:00", "type": "pullrequest_comment", "id": 93874673}, "pull_request": {"type": "pullrequest", "id": 2653, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653"}}, "title": "Force / torque sensor visualization using WrenchVisual"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653/comments/93661606.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653/_/diff#comment-93661606"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2653, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653"}}, "title": "Force / torque sensor visualization using WrenchVisual"}, "content": {"raw": "Hi,  @chapulina \n\nI wonder if this PR can post a tutorial of how to use this WrenchVisual in normal development. Should I use it in a custom plugin? or just write it under gazebo.xacro file?\n\nI\u2019m a beginner, forgive my foolish.", "markup": "markdown", "html": "<p>Hi,  @chapulina </p>\n<p>I wonder if this PR can post a tutorial of how to use this WrenchVisual in normal development. Should I use it in a custom plugin? or just write it under gazebo.xacro file?</p>\n<p>I\u2019m a beginner, forgive my foolish.</p>", "type": "rendered"}, "created_on": "2019-03-04T13:41:05.189745+00:00", "user": {"display_name": "littleggghost Zhang", "uuid": "{ae08f002-c92e-4cdb-8982-88f0d8dd6e53}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bae08f002-c92e-4cdb-8982-88f0d8dd6e53%7D"}, "html": {"href": "https://bitbucket.org/%7Bae08f002-c92e-4cdb-8982-88f0d8dd6e53%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/c890a6e08900dc119dad3626fc1fe2cdd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsLZ-0.png"}}, "nickname": "littleggghost", "type": "user", "account_id": "5c406d52dae8a34f82094ef9"}, "updated_on": "2019-03-04T13:43:37.331407+00:00", "type": "pullrequest_comment", "id": 93661606}, "pull_request": {"type": "pullrequest", "id": 2653, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653"}}, "title": "Force / torque sensor visualization using WrenchVisual"}}, {"update": {"description": "While reviewing the pull request for a [force / torque sensor tutorial](#!/osrf/gazebo_tutorials/pull-requests/421/force-torque-sensor-tutorial/diff), it called my attention that that sensor's visualization wasn't working.\r\n\r\nSo I dug a little bit and realized the visualization could work again with just a couple of small changes to `rendering::Scene` (on lines 2254 and 2444).\r\n\r\nThen I started writing a test to make sure we don't break it again and that resulted on all the other changes:\r\n\r\n* Added `Scene::EnableVisualizations` functions to be able to enable sensor visualizations from the test\r\n\r\n* There was a crash on the `WrenchVisual` destructor when trying to delete a dynamic line. I changed the `forceNode` to a `forceVisual` so the visual would be responsible for cleaning up the dynamic line.\r\n\r\n* Using a visual meant it had to be created on `Load` rather than on the constructor (see comment about `shared_from_this`.\r\n\r\n* Also added a `Fini` function to improve the destruction process.\r\n\r\nDemo:\r\n\r\nhttps://github.com/chapulina/gzgif/blob/master/force_torque_sensor.gif", "title": "Force / torque sensor visualization using WrenchVisual", "destination": {"commit": {"hash": "f7e57d13da38", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/f7e57d13da38.json"}, "html": {"href": "#!/osrf/gazebo/commits/f7e57d13da38"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "8a7fe55524e9", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/8a7fe55524e9.json"}, "html": {"href": "#!/osrf/gazebo/commits/8a7fe55524e9"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "force_torque_vis"}}, "state": "MERGED", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2017-03-15T21:48:20.512010+00:00"}, "pull_request": {"type": "pullrequest", "id": 2653, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653"}}, "title": "Force / torque sensor visualization using WrenchVisual"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653/comments/33246666.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653/_/diff#comment-33246666"}}, "parent": {"id": 33210005, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653/comments/33210005.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653/_/diff#comment-33210005"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2653, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653"}}, "title": "Force / torque sensor visualization using WrenchVisual"}, "content": {"raw": "Sounds good to me, ticketed issue #2230", "markup": "markdown", "html": "<p>Sounds good to me, ticketed issue <a href=\"#!/osrf/gazebo/issues/2230/possible-problems-with-wrench-visual\" rel=\"nofollow\" title=\"Possible problems with wrench visual scaling\" class=\"ap-connect-link\">#2230</a></p>", "type": "rendered"}, "created_on": "2017-03-15T21:46:52.625221+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2017-03-15T21:46:52.628648+00:00", "type": "pullrequest_comment", "id": 33246666}, "pull_request": {"type": "pullrequest", "id": 2653, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653"}}, "title": "Force / torque sensor visualization using WrenchVisual"}}, {"approval": {"date": "2017-03-15T14:14:29.606500+00:00", "pullrequest": {"type": "pullrequest", "id": 2653, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653"}}, "title": "Force / torque sensor visualization using WrenchVisual"}, "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}}, "pull_request": {"type": "pullrequest", "id": 2653, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653"}}, "title": "Force / torque sensor visualization using WrenchVisual"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653/comments/33210005.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653/_/diff#comment-33210005"}}, "parent": {"id": 32892802, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653/comments/32892802.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653/_/diff#comment-32892802"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2653, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653"}}, "title": "Force / torque sensor visualization using WrenchVisual"}, "content": {"raw": "You could create a separate issue, but the visualization might be correct. The cones are scaled based on the wrench data produced by the sensor.", "markup": "markdown", "html": "<p>You could create a separate issue, but the visualization might be correct. The cones are scaled based on the wrench data produced by the sensor.</p>", "type": "rendered"}, "created_on": "2017-03-15T14:14:25.869405+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2017-03-15T14:14:25.873478+00:00", "type": "pullrequest_comment", "id": 33210005}, "pull_request": {"type": "pullrequest", "id": 2653, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653"}}, "title": "Force / torque sensor visualization using WrenchVisual"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653/comments/32893776.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653/_/diff#comment-32893776"}}, "parent": {"id": 32890205, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653/comments/32890205.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653/_/diff#comment-32890205"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2653, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653"}}, "title": "Force / torque sensor visualization using WrenchVisual"}, "content": {"raw": "Good idea, done [8a7fe55](#!/osrf/gazebo/commits/8a7fe55524e9b1f92e233850662bb005a875d3f1)", "markup": "markdown", "html": "<p>Good idea, done <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/commits/8a7fe55524e9b1f92e233850662bb005a875d3f1\" rel=\"nofollow\">8a7fe55</a></p>", "type": "rendered"}, "created_on": "2017-03-09T20:10:37.108242+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2017-03-09T20:10:37.111429+00:00", "type": "pullrequest_comment", "id": 32893776}, "pull_request": {"type": "pullrequest", "id": 2653, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653"}}, "title": "Force / torque sensor visualization using WrenchVisual"}}, {"update": {"description": "While reviewing the pull request for a [force / torque sensor tutorial](#!/osrf/gazebo_tutorials/pull-requests/421/force-torque-sensor-tutorial/diff), it called my attention that that sensor's visualization wasn't working.\r\n\r\nSo I dug a little bit and realized the visualization could work again with just a couple of small changes to `rendering::Scene` (on lines 2254 and 2444).\r\n\r\nThen I started writing a test to make sure we don't break it again and that resulted on all the other changes:\r\n\r\n* Added `Scene::EnableVisualizations` functions to be able to enable sensor visualizations from the test\r\n\r\n* There was a crash on the `WrenchVisual` destructor when trying to delete a dynamic line. I changed the `forceNode` to a `forceVisual` so the visual would be responsible for cleaning up the dynamic line.\r\n\r\n* Using a visual meant it had to be created on `Load` rather than on the constructor (see comment about `shared_from_this`.\r\n\r\n* Also added a `Fini` function to improve the destruction process.\r\n\r\nDemo:\r\n\r\nhttps://github.com/chapulina/gzgif/blob/master/force_torque_sensor.gif", "title": "Force / torque sensor visualization using WrenchVisual", "destination": {"commit": {"hash": "4643c1f696a8", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/4643c1f696a8.json"}, "html": {"href": "#!/osrf/gazebo/commits/4643c1f696a8"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "8a7fe55524e9", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/8a7fe55524e9.json"}, "html": {"href": "#!/osrf/gazebo/commits/8a7fe55524e9"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "force_torque_vis"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2017-03-09T20:10:17.515300+00:00"}, "pull_request": {"type": "pullrequest", "id": 2653, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653"}}, "title": "Force / torque sensor visualization using WrenchVisual"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653/comments/32893343.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653/_/diff#comment-32893343"}}, "parent": {"id": 32892802, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653/comments/32892802.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653/_/diff#comment-32892802"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2653, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653"}}, "title": "Force / torque sensor visualization using WrenchVisual"}, "content": {"raw": "Yeah it's not very clear to me what is the intention behind the calculations to scale the torque visual. I was looking for some indication on pull request #557, where it was added, but didn't find any explanation. Maybe the people who were around then remember what the visual was meant to look like? @scpeters , @iche033 , @nkoenig ", "markup": "markdown", "html": "<p>Yeah it's not very clear to me what is the intention behind the calculations to scale the torque visual. I was looking for some indication on <a href=\"#!/osrf/gazebo/pull-requests/557/sonar-and-force-torque-sensors\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #557</a>, where it was added, but didn't find any explanation. Maybe the people who were around then remember what the visual was meant to look like? @scpeters , @iche033 , @nkoenig </p>", "type": "rendered"}, "created_on": "2017-03-09T20:03:24.417250+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2017-03-09T20:03:24.433971+00:00", "type": "pullrequest_comment", "id": 32893343}, "pull_request": {"type": "pullrequest", "id": 2653, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653"}}, "title": "Force / torque sensor visualization using WrenchVisual"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653/comments/32892802.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653/_/diff#comment-32892802"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2653, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653"}}, "title": "Force / torque sensor visualization using WrenchVisual"}, "content": {"raw": "@chapulina and I have been looking at the visualization when loading `test/worlds/force_torque_test.world` and the visualization looks odd sometimes (see picture). The `x` torque looks more like a dot than a cone.\n\n![force_visual.jpg](data/bitbucket.org/repo/jgXqbo/images/1557207592-force_visual.jpg)\n\nLoad `test/worlds/force_torque_test.world` and apply -10 N of force in the `Y` direction to reproduce the problem.\n\nI can create a separate issue too.", "markup": "markdown", "html": "<p>@chapulina and I have been looking at the visualization when loading <code>test/worlds/force_torque_test.world</code> and the visualization looks odd sometimes (see picture). The <code>x</code> torque looks more like a dot than a cone.</p>\n<p><img alt=\"force_visual.jpg\" src=\"data/bitbucket.org/repo/jgXqbo/images/1557207592-force_visual.jpg\" /></p>\n<p>Load <code>test/worlds/force_torque_test.world</code> and apply -10 N of force in the <code>Y</code> direction to reproduce the problem.</p>\n<p>I can create a separate issue too.</p>", "type": "rendered"}, "created_on": "2017-03-09T19:55:40.434233+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "updated_on": "2017-03-09T19:55:57.440942+00:00", "type": "pullrequest_comment", "id": 32892802}, "pull_request": {"type": "pullrequest", "id": 2653, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653"}}, "title": "Force / torque sensor visualization using WrenchVisual"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653/comments/32890205.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653/_/diff#comment-32890205"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2653, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653"}}, "title": "Force / torque sensor visualization using WrenchVisual"}, "content": {"raw": "`QVERIFY(scene->EnableVisualizations());`?", "markup": "markdown", "html": "<p><code>QVERIFY(scene-&gt;EnableVisualizations());</code>?</p>", "type": "rendered"}, "created_on": "2017-03-09T19:13:25.572984+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "inline": {}, "updated_on": "2017-03-09T19:13:25.575979+00:00", "type": "pullrequest_comment", "id": 32890205}, "pull_request": {"type": "pullrequest", "id": 2653, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653"}}, "title": "Force / torque sensor visualization using WrenchVisual"}}, {"update": {"description": "While reviewing the pull request for a [force / torque sensor tutorial](#!/osrf/gazebo_tutorials/pull-requests/421/force-torque-sensor-tutorial/diff), it called my attention that that sensor's visualization wasn't working.\r\n\r\nSo I dug a little bit and realized the visualization could work again with just a couple of small changes to `rendering::Scene` (on lines 2254 and 2444).\r\n\r\nThen I started writing a test to make sure we don't break it again and that resulted on all the other changes:\r\n\r\n* Added `Scene::EnableVisualizations` functions to be able to enable sensor visualizations from the test\r\n\r\n* There was a crash on the `WrenchVisual` destructor when trying to delete a dynamic line. I changed the `forceNode` to a `forceVisual` so the visual would be responsible for cleaning up the dynamic line.\r\n\r\n* Using a visual meant it had to be created on `Load` rather than on the constructor (see comment about `shared_from_this`.\r\n\r\n* Also added a `Fini` function to improve the destruction process.\r\n\r\nDemo:\r\n\r\nhttps://github.com/chapulina/gzgif/blob/master/force_torque_sensor.gif", "title": "Force / torque sensor visualization using WrenchVisual", "destination": {"commit": {"hash": "4643c1f696a8", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/4643c1f696a8.json"}, "html": {"href": "#!/osrf/gazebo/commits/4643c1f696a8"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "0903fe5c3013", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/0903fe5c3013.json"}, "html": {"href": "#!/osrf/gazebo/commits/0903fe5c3013"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "force_torque_vis"}}, "state": "OPEN", "author": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "date": "2017-03-09T19:02:55.917208+00:00"}, "pull_request": {"type": "pullrequest", "id": 2653, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653"}}, "title": "Force / torque sensor visualization using WrenchVisual"}}, {"update": {"description": "While reviewing the pull request for a [force / torque sensor tutorial](#!/osrf/gazebo_tutorials/pull-requests/421/force-torque-sensor-tutorial/diff), it called my attention that that sensor's visualization wasn't working.\r\n\r\nSo I dug a little bit and realized the visualization could work again with just a couple of small changes to `rendering::Scene` (on lines 2254 and 2444).\r\n\r\nThen I started writing a test to make sure we don't break it again and that resulted on all the other changes:\r\n\r\n* Added `Scene::EnableVisualizations` functions to be able to enable sensor visualizations from the test\r\n\r\n* There was a crash on the `WrenchVisual` destructor when trying to delete a dynamic line. I changed the `forceNode` to a `forceVisual` so the visual would be responsible for cleaning up the dynamic line.\r\n\r\n* Using a visual meant it had to be created on `Load` rather than on the constructor (see comment about `shared_from_this`.\r\n\r\n* Also added a `Fini` function to improve the destruction process.\r\n\r\nDemo:\r\n\r\nhttps://github.com/chapulina/gzgif/blob/master/force_torque_sensor.gif", "title": "Force / torque sensor visualization using WrenchVisual", "destination": {"commit": {"hash": "4643c1f696a8", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/4643c1f696a8.json"}, "html": {"href": "#!/osrf/gazebo/commits/4643c1f696a8"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "0903fe5c3013", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/0903fe5c3013.json"}, "html": {"href": "#!/osrf/gazebo/commits/0903fe5c3013"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "force_torque_vis"}}, "state": "OPEN", "author": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "date": "2017-03-09T19:02:53.221361+00:00"}, "pull_request": {"type": "pullrequest", "id": 2653, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653"}}, "title": "Force / torque sensor visualization using WrenchVisual"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653/comments/32879411.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653/_/diff#comment-32879411"}}, "parent": {"id": 32830267, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653/comments/32830267.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653/_/diff#comment-32830267"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2653, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653"}}, "title": "Force / torque sensor visualization using WrenchVisual"}, "content": {"raw": "checking  0fabac8  \n   \n   \n", "markup": "markdown", "html": "<p>checking  <a href=\"#!/osrf/gazebo/commits/0fabac8\" rel=\"nofollow\" class=\"ap-connect-link\">0fabac8</a>  </p>", "type": "rendered"}, "created_on": "2017-03-09T16:41:21.740658+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2017-03-09T16:41:21.744128+00:00", "type": "pullrequest_comment", "id": 32879411}, "pull_request": {"type": "pullrequest", "id": 2653, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653"}}, "title": "Force / torque sensor visualization using WrenchVisual"}}, {"update": {"description": "While reviewing the pull request for a [force / torque sensor tutorial](#!/osrf/gazebo_tutorials/pull-requests/421/force-torque-sensor-tutorial/diff), it called my attention that that sensor's visualization wasn't working.\r\n\r\nSo I dug a little bit and realized the visualization could work again with just a couple of small changes to `rendering::Scene` (on lines 2254 and 2444).\r\n\r\nThen I started writing a test to make sure we don't break it again and that resulted on all the other changes:\r\n\r\n* Added `Scene::EnableVisualizations` functions to be able to enable sensor visualizations from the test\r\n\r\n* There was a crash on the `WrenchVisual` destructor when trying to delete a dynamic line. I changed the `forceNode` to a `forceVisual` so the visual would be responsible for cleaning up the dynamic line.\r\n\r\n* Using a visual meant it had to be created on `Load` rather than on the constructor (see comment about `shared_from_this`.\r\n\r\n* Also added a `Fini` function to improve the destruction process.\r\n\r\nDemo:\r\n\r\nhttps://github.com/chapulina/gzgif/blob/master/force_torque_sensor.gif", "title": "Force / torque sensor visualization using WrenchVisual", "destination": {"commit": {"hash": "4643c1f696a8", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/4643c1f696a8.json"}, "html": {"href": "#!/osrf/gazebo/commits/4643c1f696a8"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "0fabac8072a5", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/0fabac8072a5.json"}, "html": {"href": "#!/osrf/gazebo/commits/0fabac8072a5"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "force_torque_vis"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2017-03-09T16:41:02.542984+00:00"}, "pull_request": {"type": "pullrequest", "id": 2653, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653"}}, "title": "Force / torque sensor visualization using WrenchVisual"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653/comments/32830267.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653/_/diff#comment-32830267"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2653, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653"}}, "title": "Force / torque sensor visualization using WrenchVisual"}, "content": {"raw": "`if (dPtr->node)`?", "markup": "markdown", "html": "<p><code>if (dPtr-&gt;node)</code>?</p>", "type": "rendered"}, "created_on": "2017-03-09T06:56:13.411438+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2017-03-09T06:56:13.415059+00:00", "type": "pullrequest_comment", "id": 32830267}, "pull_request": {"type": "pullrequest", "id": 2653, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653"}}, "title": "Force / torque sensor visualization using WrenchVisual"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653/comments/32829951.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653/_/diff#comment-32829951"}}, "parent": {"id": 32808349, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653/comments/32808349.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653/_/diff#comment-32808349"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2653, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653"}}, "title": "Force / torque sensor visualization using WrenchVisual"}, "content": {"raw": "the `gazebo-ci-pr_any` build had failed due to an unapproved jenkins script", "markup": "markdown", "html": "<p>the <code>gazebo-ci-pr_any</code> build had failed due to an unapproved jenkins script</p>", "type": "rendered"}, "created_on": "2017-03-09T06:45:47.606693+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-03-09T06:45:47.609013+00:00", "type": "pullrequest_comment", "id": 32829951}, "pull_request": {"type": "pullrequest", "id": 2653, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653"}}, "title": "Force / torque sensor visualization using WrenchVisual"}}, {"approval": {"date": "2017-03-09T01:55:13.648494+00:00", "pullrequest": {"type": "pullrequest", "id": 2653, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653"}}, "title": "Force / torque sensor visualization using WrenchVisual"}, "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}}, "pull_request": {"type": "pullrequest", "id": 2653, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653"}}, "title": "Force / torque sensor visualization using WrenchVisual"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653/comments/32822317.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653/_/diff#comment-32822317"}}, "parent": {"id": 32808349, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653/comments/32808349.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653/_/diff#comment-32808349"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2653, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653"}}, "title": "Force / torque sensor visualization using WrenchVisual"}, "content": {"raw": "looks good", "markup": "markdown", "html": "<p>looks good</p>", "type": "rendered"}, "created_on": "2017-03-09T01:55:10.437829+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2017-03-09T01:55:10.441614+00:00", "type": "pullrequest_comment", "id": 32822317}, "pull_request": {"type": "pullrequest", "id": 2653, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653"}}, "title": "Force / torque sensor visualization using WrenchVisual"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653/comments/32812963.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653/_/diff#comment-32812963"}}, "parent": {"id": 32808387, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653/comments/32808387.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653/_/diff#comment-32808387"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2653, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653"}}, "title": "Force / torque sensor visualization using WrenchVisual"}, "content": {"raw": "removed 9ee2f08", "markup": "markdown", "html": "<p>removed <a href=\"#!/osrf/gazebo/commits/9ee2f08\" rel=\"nofollow\" class=\"ap-connect-link\">9ee2f08</a></p>", "type": "rendered"}, "created_on": "2017-03-08T21:45:18.435272+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2017-03-08T21:45:18.438713+00:00", "type": "pullrequest_comment", "id": 32812963}, "pull_request": {"type": "pullrequest", "id": 2653, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653"}}, "title": "Force / torque sensor visualization using WrenchVisual"}}, {"update": {"description": "While reviewing the pull request for a [force / torque sensor tutorial](#!/osrf/gazebo_tutorials/pull-requests/421/force-torque-sensor-tutorial/diff), it called my attention that that sensor's visualization wasn't working.\r\n\r\nSo I dug a little bit and realized the visualization could work again with just a couple of small changes to `rendering::Scene` (on lines 2254 and 2444).\r\n\r\nThen I started writing a test to make sure we don't break it again and that resulted on all the other changes:\r\n\r\n* Added `Scene::EnableVisualizations` functions to be able to enable sensor visualizations from the test\r\n\r\n* There was a crash on the `WrenchVisual` destructor when trying to delete a dynamic line. I changed the `forceNode` to a `forceVisual` so the visual would be responsible for cleaning up the dynamic line.\r\n\r\n* Using a visual meant it had to be created on `Load` rather than on the constructor (see comment about `shared_from_this`.\r\n\r\n* Also added a `Fini` function to improve the destruction process.\r\n\r\nDemo:\r\n\r\nhttps://github.com/chapulina/gzgif/blob/master/force_torque_sensor.gif", "title": "Force / torque sensor visualization using WrenchVisual", "destination": {"commit": {"hash": "4643c1f696a8", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/4643c1f696a8.json"}, "html": {"href": "#!/osrf/gazebo/commits/4643c1f696a8"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "9ee2f0805083", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/9ee2f0805083.json"}, "html": {"href": "#!/osrf/gazebo/commits/9ee2f0805083"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "force_torque_vis"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2017-03-08T21:45:02.830717+00:00"}, "pull_request": {"type": "pullrequest", "id": 2653, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653"}}, "title": "Force / torque sensor visualization using WrenchVisual"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653/comments/32810869.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653/_/diff#comment-32810869"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2653, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653"}}, "title": "Force / torque sensor visualization using WrenchVisual"}, "content": {"raw": "[abi-checker](http://build.osrfoundation.org/job/gazebo-abichecker-any_to_any-xenial-amd64/265/API_ABI_report/) - ok. Note: there is one low severity warning about `WrenchVisual::Fini` overriding the virtual `Visual::Fini` function but I think it should be ok", "markup": "markdown", "html": "<p><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/job/gazebo-abichecker-any_to_any-xenial-amd64/265/API_ABI_report/\" rel=\"nofollow\">abi-checker</a> - ok. Note: there is one low severity warning about <code>WrenchVisual::Fini</code> overriding the virtual <code>Visual::Fini</code> function but I think it should be ok</p>", "type": "rendered"}, "created_on": "2017-03-08T21:07:08.002353+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2017-03-08T21:07:08.004746+00:00", "type": "pullrequest_comment", "id": 32810869}, "pull_request": {"type": "pullrequest", "id": 2653, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653"}}, "title": "Force / torque sensor visualization using WrenchVisual"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653/comments/32808387.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653/_/diff#comment-32808387"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2653, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653"}}, "title": "Force / torque sensor visualization using WrenchVisual"}, "content": {"raw": "string is probably not needed", "markup": "markdown", "html": "<p>string is probably not needed</p>", "type": "rendered"}, "created_on": "2017-03-08T20:22:02.641611+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {}, "updated_on": "2017-03-08T20:22:02.645468+00:00", "type": "pullrequest_comment", "id": 32808387}, "pull_request": {"type": "pullrequest", "id": 2653, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653"}}, "title": "Force / torque sensor visualization using WrenchVisual"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653/comments/32808349.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653/_/diff#comment-32808349"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2653, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653"}}, "title": "Force / torque sensor visualization using WrenchVisual"}, "content": {"raw": "I couldn't find any jenkins jobs that were triggered so I manually started two builds:\n\n[xenial-nvidia](http://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-xenial-amd64-gpu-nvidia/86/)\n\n[homebrew](http://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-homebrew-amd64/987/)\n", "markup": "markdown", "html": "<p>I couldn't find any jenkins jobs that were triggered so I manually started two builds:</p>\n<p><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-xenial-amd64-gpu-nvidia/86/\" rel=\"nofollow\">xenial-nvidia</a></p>\n<p><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-homebrew-amd64/987/\" rel=\"nofollow\">homebrew</a></p>", "type": "rendered"}, "created_on": "2017-03-08T20:21:22.360178+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2017-03-08T20:21:30.080862+00:00", "type": "pullrequest_comment", "id": 32808349}, "pull_request": {"type": "pullrequest", "id": 2653, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653"}}, "title": "Force / torque sensor visualization using WrenchVisual"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653/comments/32802340.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653/_/diff#comment-32802340"}}, "parent": {"id": 32801959, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653/comments/32801959.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653/_/diff#comment-32801959"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2653, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653"}}, "title": "Force / torque sensor visualization using WrenchVisual"}, "content": {"raw": "Ah that's a good point, added a note in 61d6363 ", "markup": "markdown", "html": "<p>Ah that's a good point, added a note in <a href=\"#!/osrf/gazebo/commits/61d6363\" rel=\"nofollow\" class=\"ap-connect-link\">61d6363</a> </p>", "type": "rendered"}, "created_on": "2017-03-08T18:48:24.519852+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2017-03-08T18:48:24.523786+00:00", "type": "pullrequest_comment", "id": 32802340}, "pull_request": {"type": "pullrequest", "id": 2653, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653"}}, "title": "Force / torque sensor visualization using WrenchVisual"}}, {"update": {"description": "While reviewing the pull request for a [force / torque sensor tutorial](#!/osrf/gazebo_tutorials/pull-requests/421/force-torque-sensor-tutorial/diff), it called my attention that that sensor's visualization wasn't working.\r\n\r\nSo I dug a little bit and realized the visualization could work again with just a couple of small changes to `rendering::Scene` (on lines 2254 and 2444).\r\n\r\nThen I started writing a test to make sure we don't break it again and that resulted on all the other changes:\r\n\r\n* Added `Scene::EnableVisualizations` functions to be able to enable sensor visualizations from the test\r\n\r\n* There was a crash on the `WrenchVisual` destructor when trying to delete a dynamic line. I changed the `forceNode` to a `forceVisual` so the visual would be responsible for cleaning up the dynamic line.\r\n\r\n* Using a visual meant it had to be created on `Load` rather than on the constructor (see comment about `shared_from_this`.\r\n\r\n* Also added a `Fini` function to improve the destruction process.\r\n\r\nDemo:\r\n\r\nhttps://github.com/chapulina/gzgif/blob/master/force_torque_sensor.gif", "title": "Force / torque sensor visualization using WrenchVisual", "destination": {"commit": {"hash": "4643c1f696a8", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/4643c1f696a8.json"}, "html": {"href": "#!/osrf/gazebo/commits/4643c1f696a8"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "61d63632ab5e", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/61d63632ab5e.json"}, "html": {"href": "#!/osrf/gazebo/commits/61d63632ab5e"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "force_torque_vis"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2017-03-08T18:47:22.522427+00:00"}, "pull_request": {"type": "pullrequest", "id": 2653, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653"}}, "title": "Force / torque sensor visualization using WrenchVisual"}}, {"update": {"description": "While reviewing the pull request for a [force / torque sensor tutorial](#!/osrf/gazebo_tutorials/pull-requests/421/force-torque-sensor-tutorial/diff), it called my attention that that sensor's visualization wasn't working.\r\n\r\nSo I dug a little bit and realized the visualization could work again with just a couple of small changes to `rendering::Scene` (on lines 2254 and 2444).\r\n\r\nThen I started writing a test to make sure we don't break it again and that resulted on all the other changes:\r\n\r\n* Added `Scene::EnableVisualizations` functions to be able to enable sensor visualizations from the test\r\n\r\n* There was a crash on the `WrenchVisual` destructor when trying to delete a dynamic line. I changed the `forceNode` to a `forceVisual` so the visual would be responsible for cleaning up the dynamic line.\r\n\r\n* Using a visual meant it had to be created on `Load` rather than on the constructor (see comment about `shared_from_this`.\r\n\r\n* Also added a `Fini` function to improve the destruction process.\r\n\r\nDemo:\r\n\r\nhttps://github.com/chapulina/gzgif/blob/master/force_torque_sensor.gif", "title": "Force / torque sensor visualization using WrenchVisual", "destination": {"commit": {"hash": "4643c1f696a8", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/4643c1f696a8.json"}, "html": {"href": "#!/osrf/gazebo/commits/4643c1f696a8"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "61d63632ab5e", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/61d63632ab5e.json"}, "html": {"href": "#!/osrf/gazebo/commits/61d63632ab5e"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "force_torque_vis"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2017-03-08T18:47:20.218727+00:00"}, "pull_request": {"type": "pullrequest", "id": 2653, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653"}}, "title": "Force / torque sensor visualization using WrenchVisual"}}, {"update": {"description": "While reviewing the pull request for a [force / torque sensor tutorial](#!/osrf/gazebo_tutorials/pull-requests/421/force-torque-sensor-tutorial/diff), it called my attention that that sensor's visualization wasn't working.\r\n\r\nSo I dug a little bit and realized the visualization could work again with just a couple of small changes to `rendering::Scene` (on lines 2254 and 2444).\r\n\r\nThen I started writing a test to make sure we don't break it again and that resulted on all the other changes:\r\n\r\n* Added `Scene::EnableVisualizations` functions to be able to enable sensor visualizations from the test\r\n\r\n* There was a crash on the `WrenchVisual` destructor when trying to delete a dynamic line. I changed the `forceNode` to a `forceVisual` so the visual would be responsible for cleaning up the dynamic line.\r\n\r\n* Using a visual meant it had to be created on `Load` rather than on the constructor (see comment about `shared_from_this`.\r\n\r\n* Also added a `Fini` function to improve the destruction process.\r\n\r\nDemo:\r\n\r\nhttps://github.com/chapulina/gzgif/blob/master/force_torque_sensor.gif", "title": "Force / torque sensor visualization using WrenchVisual", "destination": {"commit": {"hash": "4643c1f696a8", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/4643c1f696a8.json"}, "html": {"href": "#!/osrf/gazebo/commits/4643c1f696a8"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "bdf0d999ef9f", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/bdf0d999ef9f.json"}, "html": {"href": "#!/osrf/gazebo/commits/bdf0d999ef9f"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "force_torque_vis"}}, "state": "OPEN", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2017-03-08T18:43:48.820678+00:00"}, "pull_request": {"type": "pullrequest", "id": 2653, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653"}}, "title": "Force / torque sensor visualization using WrenchVisual"}}, {"update": {"description": "While reviewing the pull request for a [force / torque sensor tutorial](#!/osrf/gazebo_tutorials/pull-requests/421/force-torque-sensor-tutorial/diff), it called my attention that that sensor's visualization wasn't working.\r\n\r\nSo I dug a little bit and realized the visualization could work again with just a couple of small changes to `rendering::Scene` (on lines 2254 and 2444).\r\n\r\nThen I started writing a test to make sure we don't break it again and that resulted on all the other changes:\r\n\r\n* Added `Scene::EnableVisualizations` functions to be able to enable sensor visualizations from the test\r\n\r\n* There was a crash on the `WrenchVisual` destructor when trying to delete a dynamic line. I changed the `forceNode` to a `forceVisual` so the visual would be responsible for cleaning up the dynamic line.\r\n\r\n* Using a visual meant it had to be created on `Load` rather than on the constructor (see comment about `shared_from_this`.\r\n\r\n* Also added a `Fini` function to improve the destruction process.\r\n\r\nDemo:\r\n\r\nhttps://github.com/chapulina/gzgif/blob/master/force_torque_sensor.gif", "title": "Force / torque sensor visualization using WrenchVisual", "destination": {"commit": {"hash": "4643c1f696a8", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/4643c1f696a8.json"}, "html": {"href": "#!/osrf/gazebo/commits/4643c1f696a8"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "bdf0d999ef9f", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/bdf0d999ef9f.json"}, "html": {"href": "#!/osrf/gazebo/commits/bdf0d999ef9f"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "force_torque_vis"}}, "state": "OPEN", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2017-03-08T18:43:46.763755+00:00"}, "pull_request": {"type": "pullrequest", "id": 2653, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653"}}, "title": "Force / torque sensor visualization using WrenchVisual"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653/comments/32801959.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653/_/diff#comment-32801959"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2653, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653"}}, "title": "Force / torque sensor visualization using WrenchVisual"}, "content": {"raw": "The way visuals are cleaned up has changed in gazebo8 so I think we need to be careful when merging forward. I believe the [WrenchVisual destructor](#!/osrf/gazebo/src/cd526975bc8bdf3813e0600e3ece180870602471/gazebo/rendering/WrenchVisual.cc?at=default&fileviewer=file-view-default#WrenchVisual.cc-58) should work be able to delete the dynamic lines there.\n\nCan you add a comment here that `Fini` here is needed for gazebo7 but needs more testing when merging forward?", "markup": "markdown", "html": "<p>The way visuals are cleaned up has changed in gazebo8 so I think we need to be careful when merging forward. I believe the <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/cd526975bc8bdf3813e0600e3ece180870602471/gazebo/rendering/WrenchVisual.cc?at=default&amp;fileviewer=file-view-default#WrenchVisual.cc-58\" rel=\"nofollow\">WrenchVisual destructor</a> should work be able to delete the dynamic lines there.</p>\n<p>Can you add a comment here that <code>Fini</code> here is needed for gazebo7 but needs more testing when merging forward?</p>", "type": "rendered"}, "created_on": "2017-03-08T18:42:49.903562+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {}, "updated_on": "2017-03-08T18:42:49.906487+00:00", "type": "pullrequest_comment", "id": 32801959}, "pull_request": {"type": "pullrequest", "id": 2653, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653"}}, "title": "Force / torque sensor visualization using WrenchVisual"}}, {"update": {"description": "While reviewing the pull request for a [force / torque sensor tutorial](#!/osrf/gazebo_tutorials/pull-requests/421/force-torque-sensor-tutorial/diff), it called my attention that that sensor's visualization wasn't working.\r\n\r\nSo I dug a little bit and realized the visualization could work again with just a couple of small changes to `rendering::Scene` (on lines 2254 and 2444).\r\n\r\nThen I started writing a test to make sure we don't break it again and that resulted on all the other changes:\r\n\r\n* Added `Scene::EnableVisualizations` functions to be able to enable sensor visualizations from the test\r\n\r\n* There was a crash on the `WrenchVisual` destructor when trying to delete a dynamic line. I changed the `forceNode` to a `forceVisual` so the visual would be responsible for cleaning up the dynamic line.\r\n\r\n* Using a visual meant it had to be created on `Load` rather than on the constructor (see comment about `shared_from_this`.\r\n\r\n* Also added a `Fini` function to improve the destruction process.\r\n\r\nDemo:\r\n\r\nhttps://github.com/chapulina/gzgif/blob/master/force_torque_sensor.gif", "title": "Force / torque sensor visualization using WrenchVisual", "destination": {"commit": {"hash": "4643c1f696a8", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/4643c1f696a8.json"}, "html": {"href": "#!/osrf/gazebo/commits/4643c1f696a8"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "dca12f6cafda", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/dca12f6cafda.json"}, "html": {"href": "#!/osrf/gazebo/commits/dca12f6cafda"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "force_torque_vis"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2017-03-08T01:51:30.781116+00:00"}, "pull_request": {"type": "pullrequest", "id": 2653, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653"}}, "title": "Force / torque sensor visualization using WrenchVisual"}}, {"update": {"description": "While reviewing the pull request for a [force / torque sensor tutorial](#!/osrf/gazebo_tutorials/pull-requests/421/force-torque-sensor-tutorial/diff), it called my attention that that sensor's visualization wasn't working.\r\n\r\nSo I dug a little bit and realized the visualization could work again with just a couple of small changes to `rendering::Scene` (on lines 2254 and 2444).\r\n\r\nThen I started writing a test to make sure we don't break it again and that resulted on all the other changes:\r\n\r\n* Added `Scene::EnableVisualizations` functions to be able to enable sensor visualizations from the test\r\n\r\n* There was a crash on the `WrenchVisual` destructor when trying to delete a dynamic line. I changed the `forceNode` to a `forceVisual` so the visual would be responsible for cleaning up the dynamic line.\r\n\r\n* Using a visual meant it had to be created on `Load` rather than on the constructor (see comment about `shared_from_this`.\r\n\r\n* Also added a `Fini` function to improve the destruction process.\r\n\r\nDemo:\r\n\r\nhttps://github.com/chapulina/gzgif/blob/master/force_torque_sensor.gif", "title": "Force / torque sensor visualization using WrenchVisual", "destination": {"commit": {"hash": "4643c1f696a8", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/4643c1f696a8.json"}, "html": {"href": "#!/osrf/gazebo/commits/4643c1f696a8"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "dca12f6cafda", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/dca12f6cafda.json"}, "html": {"href": "#!/osrf/gazebo/commits/dca12f6cafda"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "force_torque_vis"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2017-03-08T01:51:30.759930+00:00"}, "pull_request": {"type": "pullrequest", "id": 2653, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2653"}}, "title": "Force / torque sensor visualization using WrenchVisual"}}]}