{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/780/comments/904712.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/780/_/diff#comment-904712"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 780, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/780.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/780"}}, "title": "Update console output"}, "content": {"raw": "Aside from my proposed changes in branch console_improvements_scpeters (50a00ae, f227724), this code is looking good, though it will cause regressions in two areas:\n\n1. No console messages for unit tests that don't use ServerFixture. Currently tests involving ServerFixture have been set to verbose, but other unit tests are quieted, unless we add code to every single unit test file. We can still get some of the diagnostic messages in Jenkins if we access these test log files (though they will have to be accessed between tests because they overwrite each other).\n\n2. We have been using `'\\n'` instead of `std::endl` in a lot of console messages, which was probably incorrect, but this pull request causes many of our messages that use `'\\n'` to come out of order. We can solve this with a huge pull request, but it feels like a regression to me. The following `grep` shows over 1500 instances of `'\\n'`.\n\n~~~\n$ grep -rnI '<<.*\\\\n.;' . | wc -l\n1549\n~~~", "markup": "markdown", "html": "<p>Aside from my proposed changes in branch console_improvements_scpeters (<a href=\"#!/osrf/gazebo/commits/50a00ae\" rel=\"nofollow\" class=\"ap-connect-link\">50a00ae</a>, <a href=\"#!/osrf/gazebo/commits/f227724\" rel=\"nofollow\" class=\"ap-connect-link\">f227724</a>), this code is looking good, though it will cause regressions in two areas:</p>\n<ol>\n<li>\n<p>No console messages for unit tests that don't use ServerFixture. Currently tests involving ServerFixture have been set to verbose, but other unit tests are quieted, unless we add code to every single unit test file. We can still get some of the diagnostic messages in Jenkins if we access these test log files (though they will have to be accessed between tests because they overwrite each other).</p>\n</li>\n<li>\n<p>We have been using <code>'\\n'</code> instead of <code>std::endl</code> in a lot of console messages, which was probably incorrect, but this pull request causes many of our messages that use <code>'\\n'</code> to come out of order. We can solve this with a huge pull request, but it feels like a regression to me. The following <code>grep</code> shows over 1500 instances of <code>'\\n'</code>.</p>\n</li>\n</ol>\n<div class=\"codehilite\"><pre><span></span>$ grep -rnI <span class=\"s1\">&#39;&lt;&lt;.*\\\\n.;&#39;</span> . <span class=\"p\">|</span> wc -l\n<span class=\"m\">1549</span>\n</pre></div>", "type": "rendered"}, "created_on": "2013-12-04T18:58:58.407427+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2013-12-04T19:02:33.639631+00:00", "type": "pullrequest_comment", "id": 904712}