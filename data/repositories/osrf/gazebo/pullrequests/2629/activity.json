{"pagelen": 50, "values": [{"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/36528428.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-36528428"}}, "parent": {"id": 36528004, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/36528004.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-36528004"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}, "content": {"raw": "Oh, yes... that looks like it could use the enforcing of contacts, it's essentially the same situation which brought me to do this PR.", "markup": "markdown", "html": "<p>Oh, yes... that looks like it could use the enforcing of contacts, it's essentially the same situation which brought me to do this PR.</p>", "type": "rendered"}, "created_on": "2017-05-10T01:04:15.267837+00:00", "user": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "updated_on": "2017-05-10T01:04:15.323376+00:00", "type": "pullrequest_comment", "id": 36528428}, "pull_request": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/36528004.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-36528004"}}, "parent": {"id": 36527907, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/36527907.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-36527907"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}, "content": {"raw": "There's a possible use of this feature in my PR against Gazebo 8: #!/osrf/gazebo/pull-requests/2652/added-support-for-tracked-vehicles/diff#comment-34785750 ", "markup": "markdown", "html": "<p>There's a possible use of this feature in my PR against Gazebo 8: <a href=\"#!/osrf/gazebo/pull-requests/2652/added-support-for-tracked-vehicles/diff#comment-34785750\" rel=\"nofollow\" class=\"ap-connect-link\">#!/osrf/gazebo/pull-requests/2652/added-support-for-tracked-vehicles/diff#comment-34785750</a> </p>", "type": "rendered"}, "created_on": "2017-05-10T00:46:50.690810+00:00", "user": {"display_name": "Martin Pecka", "uuid": "{41691c43-4ae0-49ba-ba45-3c36439f5af2}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B41691c43-4ae0-49ba-ba45-3c36439f5af2%7D"}, "html": {"href": "https://bitbucket.org/%7B41691c43-4ae0-49ba-ba45-3c36439f5af2%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/d1ad32a09564f856909994613fdbc37cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMP-1.png"}}, "nickname": "peci1", "type": "user", "account_id": "557058:434ecab2-e510-4ede-8f9a-1c2a5a4032e1"}, "updated_on": "2017-05-10T00:46:50.753033+00:00", "type": "pullrequest_comment", "id": 36528004}, "pull_request": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/36527907.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-36527907"}}, "parent": {"id": 36521303, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/36521303.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-36521303"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}, "content": {"raw": "Sure... though I think the feature is mainly needed for future releases, unless you can think of a case where we could want to enforce contacts in Gazebo8 already?\n@scpeters what do you think?", "markup": "markdown", "html": "<p>Sure... though I think the feature is mainly needed for future releases, unless you can think of a case where we could want to enforce contacts in Gazebo8 already?\n@scpeters what do you think?</p>", "type": "rendered"}, "created_on": "2017-05-10T00:42:50.389989+00:00", "user": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "updated_on": "2017-05-10T00:42:50.456398+00:00", "type": "pullrequest_comment", "id": 36527907}, "pull_request": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/36521303.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-36521303"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}, "content": {"raw": "Great, thanks! Is there a chance for a backport to Gazebo 8? I think the addition of the `private: bool neverDropContacts` member breaks ABI, but I'm not 100% sure.", "markup": "markdown", "html": "<p>Great, thanks! Is there a chance for a backport to Gazebo 8? I think the addition of the <code>private: bool neverDropContacts</code> member breaks ABI, but I'm not 100% sure.</p>", "type": "rendered"}, "created_on": "2017-05-09T21:21:56.851430+00:00", "user": {"display_name": "Martin Pecka", "uuid": "{41691c43-4ae0-49ba-ba45-3c36439f5af2}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B41691c43-4ae0-49ba-ba45-3c36439f5af2%7D"}, "html": {"href": "https://bitbucket.org/%7B41691c43-4ae0-49ba-ba45-3c36439f5af2%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/d1ad32a09564f856909994613fdbc37cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMP-1.png"}}, "nickname": "peci1", "type": "user", "account_id": "557058:434ecab2-e510-4ede-8f9a-1c2a5a4032e1"}, "updated_on": "2017-05-09T21:21:56.900808+00:00", "type": "pullrequest_comment", "id": 36521303}, "pull_request": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}}, {"update": {"description": "This is only a small change which allows more flexibility in the use of ``PhysicsEngine`` (more specifically the ``ContactManager`` which it provides).\r\n\r\nCurrently the policy is that contacts are only processed further if there are subscribers to the contacts topic. Method [ContactMangaer::NewContact()](https://bitbucket.org/JenniferBuehler/gazebo/commits/2251e3885184c88099722869a34d552198e5c728#Lgazebo/physics/ContactManager.hhF99T102) is used by all the ``PhysicsEngine`` implementations to notify about new found contacts. If an object (not NULL) is returned, the contacts processing continues in the ``PhysicsEngine`` implementations, and ``ContactManager`` will have the full information available. However if there are no subscribers, NewContact() returns NULL, effectively skipping to keep the contact point information.\r\n\r\nIt is important (for performance reasons) to have a means to skip further processing, and having the subscriber criterion is one way to proclaim interest in more information about the contacts. However it would be great to have another option to proclaim this interest and allow contacts processing, without the need to create a subscriber to the topic.\r\nThis PR addresses this by adding a method [ContactManager::SetEnforceContacts(true)](https://bitbucket.org/JenniferBuehler/gazebo/commits/2251e3885184c88099722869a34d552198e5c728#Lgazebo/physics/ContactManager.hhT108)  which allows to enforce the contact point handling even if there are no subscribers. By default this behaviour is disabled, so the changes will not have any effects on previous applications which do not explicitly call this function with true.\r\n\r\nExample use case: In the physics engine test framework I'm working on at the moment, I use PhysicsEngine directly and have no subscribers or publishers to communicate with the core Gazebo code. In the tests I need to get the contact points information. I would prefer not having to create a fake subscriber just to be able to get this information out of ContactManager interface. Other users may need the same feature.", "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers", "destination": {"commit": {"hash": "7d7c37d66d00", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/7d7c37d66d00.json"}, "html": {"href": "#!/osrf/gazebo/commits/7d7c37d66d00"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "bcb190a58c3c", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo/commit/bcb190a58c3c"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo/commits/bcb190a58c3c"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{11522dd5-648b-4e9e-b908-d3e1170ba728}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "JenniferBuehler/gazebo", "uuid": "{11522dd5-648b-4e9e-b908-d3e1170ba728}"}, "branch": {"name": "contact_manager_enforcable"}}, "state": "MERGED", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2017-05-09T21:10:30.616751+00:00"}, "pull_request": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}}, {"approval": {"date": "2017-05-09T00:03:06.088299+00:00", "pullrequest": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}, "user": {"display_name": "Adam Allevato", "uuid": "{7a39698c-2ebf-4713-b553-7a299c02fbae}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B7a39698c-2ebf-4713-b553-7a299c02fbae%7D"}, "html": {"href": "https://bitbucket.org/%7B7a39698c-2ebf-4713-b553-7a299c02fbae%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:9cc2f72a-500b-4533-b881-68a2a8d47847/54e9a6bd-b12a-4280-a72a-5d6b984b7e3c/128"}}, "nickname": "adam_allevato", "type": "user", "account_id": "557058:9cc2f72a-500b-4533-b881-68a2a8d47847"}}, "pull_request": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/36441958.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-36441958"}}, "parent": {"id": 36441440, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/36441440.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-36441440"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}, "content": {"raw": "Yes that's because I started the build on ``pr_any`` and this still has problems with the status update. Steve just explained that to me. You have to go to console output and click on the links. The builds aren't really failing. Here's for example the build for Xenial:\n\n[https://build.osrfoundation.org/job/gazebo-ci-pr_any-xenial-amd64-gpu-nvidia/164/](https://build.osrfoundation.org/job/gazebo-ci-pr_any-xenial-amd64-gpu-nvidia/164/)", "markup": "markdown", "html": "<p>Yes that's because I started the build on <code>pr_any</code> and this still has problems with the status update. Steve just explained that to me. You have to go to console output and click on the links. The builds aren't really failing. Here's for example the build for Xenial:</p>\n<p><a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/job/gazebo-ci-pr_any-xenial-amd64-gpu-nvidia/164/\" rel=\"nofollow\">https://build.osrfoundation.org/job/gazebo-ci-pr_any-xenial-amd64-gpu-nvidia/164/</a></p>", "type": "rendered"}, "created_on": "2017-05-08T23:59:24.750731+00:00", "user": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "inline": {}, "updated_on": "2017-05-08T23:59:24.809994+00:00", "type": "pullrequest_comment", "id": 36441958}, "pull_request": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/36441440.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-36441440"}}, "parent": {"id": 36441261, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/36441261.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-36441261"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}, "content": {"raw": "Thanks! Concerns addressed, however, the build seems to be failing (maybe for configuration reasons?)", "markup": "markdown", "html": "<p>Thanks! Concerns addressed, however, the build seems to be failing (maybe for configuration reasons?)</p>", "type": "rendered"}, "created_on": "2017-05-08T23:39:32.953673+00:00", "user": {"display_name": "Adam Allevato", "uuid": "{7a39698c-2ebf-4713-b553-7a299c02fbae}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B7a39698c-2ebf-4713-b553-7a299c02fbae%7D"}, "html": {"href": "https://bitbucket.org/%7B7a39698c-2ebf-4713-b553-7a299c02fbae%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:9cc2f72a-500b-4533-b881-68a2a8d47847/54e9a6bd-b12a-4280-a72a-5d6b984b7e3c/128"}}, "nickname": "adam_allevato", "type": "user", "account_id": "557058:9cc2f72a-500b-4533-b881-68a2a8d47847"}, "inline": {}, "updated_on": "2017-05-08T23:39:33.000710+00:00", "type": "pullrequest_comment", "id": 36441440}, "pull_request": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/36441261.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-36441261"}}, "parent": {"id": 36364268, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/36364268.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-36364268"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}, "content": {"raw": "@Kukanani if you have another chance to take a look, I think your concerns have been addressed", "markup": "markdown", "html": "<p>@Kukanani if you have another chance to take a look, I think your concerns have been addressed</p>", "type": "rendered"}, "created_on": "2017-05-08T23:33:04.730337+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2017-05-08T23:33:04.790285+00:00", "type": "pullrequest_comment", "id": 36441261}, "pull_request": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/36364268.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-36364268"}}, "parent": {"id": 36095475, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/36095475.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-36095475"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}, "content": {"raw": "Done that, and [queued new build](https://build.osrfoundation.org/job/gazebo-ci-pr_any/544/) (hope I did everything correctly with build parameters)", "markup": "markdown", "html": "<p>Done that, and <a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/job/gazebo-ci-pr_any/544/\" rel=\"nofollow\">queued new build</a> (hope I did everything correctly with build parameters)</p>", "type": "rendered"}, "created_on": "2017-05-07T22:11:04.594595+00:00", "user": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "inline": {}, "updated_on": "2017-05-07T22:11:04.659302+00:00", "type": "pullrequest_comment", "id": 36364268}, "pull_request": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}}, {"update": {"description": "This is only a small change which allows more flexibility in the use of ``PhysicsEngine`` (more specifically the ``ContactManager`` which it provides).\r\n\r\nCurrently the policy is that contacts are only processed further if there are subscribers to the contacts topic. Method [ContactMangaer::NewContact()](https://bitbucket.org/JenniferBuehler/gazebo/commits/2251e3885184c88099722869a34d552198e5c728#Lgazebo/physics/ContactManager.hhF99T102) is used by all the ``PhysicsEngine`` implementations to notify about new found contacts. If an object (not NULL) is returned, the contacts processing continues in the ``PhysicsEngine`` implementations, and ``ContactManager`` will have the full information available. However if there are no subscribers, NewContact() returns NULL, effectively skipping to keep the contact point information.\r\n\r\nIt is important (for performance reasons) to have a means to skip further processing, and having the subscriber criterion is one way to proclaim interest in more information about the contacts. However it would be great to have another option to proclaim this interest and allow contacts processing, without the need to create a subscriber to the topic.\r\nThis PR addresses this by adding a method [ContactManager::SetEnforceContacts(true)](https://bitbucket.org/JenniferBuehler/gazebo/commits/2251e3885184c88099722869a34d552198e5c728#Lgazebo/physics/ContactManager.hhT108)  which allows to enforce the contact point handling even if there are no subscribers. By default this behaviour is disabled, so the changes will not have any effects on previous applications which do not explicitly call this function with true.\r\n\r\nExample use case: In the physics engine test framework I'm working on at the moment, I use PhysicsEngine directly and have no subscribers or publishers to communicate with the core Gazebo code. In the tests I need to get the contact points information. I would prefer not having to create a fake subscriber just to be able to get this information out of ContactManager interface. Other users may need the same feature.", "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers", "destination": {"commit": {"hash": "7d7c37d66d00", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/7d7c37d66d00.json"}, "html": {"href": "#!/osrf/gazebo/commits/7d7c37d66d00"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "bcb190a58c3c", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo/commit/bcb190a58c3c"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo/commits/bcb190a58c3c"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{11522dd5-648b-4e9e-b908-d3e1170ba728}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "JenniferBuehler/gazebo", "uuid": "{11522dd5-648b-4e9e-b908-d3e1170ba728}"}, "branch": {"name": "contact_manager_enforcable"}}, "state": "OPEN", "author": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "date": "2017-05-07T22:04:49.228214+00:00"}, "pull_request": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/36095475.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-36095475"}}, "parent": {"id": 35810795, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/35810795.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-35810795"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}, "content": {"raw": "I would just remove the `else`", "markup": "markdown", "html": "<p>I would just remove the <code>else</code></p>", "type": "rendered"}, "created_on": "2017-05-02T18:50:12.460916+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2017-05-02T18:50:12.463862+00:00", "type": "pullrequest_comment", "id": 36095475}, "pull_request": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/35810795.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-35810795"}}, "parent": {"id": 35592992, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/35592992.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-35592992"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}, "content": {"raw": "This is how it was done in [NewContact() l. 122](#!/osrf/gazebo/src/02c86f6d70d7fd8207043cb97d17c4917b77db20/gazebo/physics/ContactManager.cc?at=default&fileviewer=file-view-default#ContactManager.cc-122) before, I agree that it would be nicer without the else. Some prefer to still have else's after ``break`` or ``continue`` for clarity, I personally also think it's better without it. Matter of taste I guess.\n\nAnyone else thoughts on this, should we change it and remove the ``else``?", "markup": "markdown", "html": "<p>This is how it was done in <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/02c86f6d70d7fd8207043cb97d17c4917b77db20/gazebo/physics/ContactManager.cc?at=default&amp;fileviewer=file-view-default#ContactManager.cc-122\" rel=\"nofollow\">NewContact() l. 122</a> before, I agree that it would be nicer without the else. Some prefer to still have else's after <code>break</code> or <code>continue</code> for clarity, I personally also think it's better without it. Matter of taste I guess.</p>\n<p>Anyone else thoughts on this, should we change it and remove the <code>else</code>?</p>", "type": "rendered"}, "created_on": "2017-04-27T10:24:00.705288+00:00", "user": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "inline": {}, "updated_on": "2017-04-27T10:24:00.766160+00:00", "type": "pullrequest_comment", "id": 35810795}, "pull_request": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}}, {"update": {"description": "This is only a small change which allows more flexibility in the use of ``PhysicsEngine`` (more specifically the ``ContactManager`` which it provides).\r\n\r\nCurrently the policy is that contacts are only processed further if there are subscribers to the contacts topic. Method [ContactMangaer::NewContact()](https://bitbucket.org/JenniferBuehler/gazebo/commits/2251e3885184c88099722869a34d552198e5c728#Lgazebo/physics/ContactManager.hhF99T102) is used by all the ``PhysicsEngine`` implementations to notify about new found contacts. If an object (not NULL) is returned, the contacts processing continues in the ``PhysicsEngine`` implementations, and ``ContactManager`` will have the full information available. However if there are no subscribers, NewContact() returns NULL, effectively skipping to keep the contact point information.\r\n\r\nIt is important (for performance reasons) to have a means to skip further processing, and having the subscriber criterion is one way to proclaim interest in more information about the contacts. However it would be great to have another option to proclaim this interest and allow contacts processing, without the need to create a subscriber to the topic.\r\nThis PR addresses this by adding a method [ContactManager::SetEnforceContacts(true)](https://bitbucket.org/JenniferBuehler/gazebo/commits/2251e3885184c88099722869a34d552198e5c728#Lgazebo/physics/ContactManager.hhT108)  which allows to enforce the contact point handling even if there are no subscribers. By default this behaviour is disabled, so the changes will not have any effects on previous applications which do not explicitly call this function with true.\r\n\r\nExample use case: In the physics engine test framework I'm working on at the moment, I use PhysicsEngine directly and have no subscribers or publishers to communicate with the core Gazebo code. In the tests I need to get the contact points information. I would prefer not having to create a fake subscriber just to be able to get this information out of ContactManager interface. Other users may need the same feature.", "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers", "destination": {"commit": {"hash": "02c86f6d70d7", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/02c86f6d70d7.json"}, "html": {"href": "#!/osrf/gazebo/commits/02c86f6d70d7"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "e3ea03bba864", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo/commit/e3ea03bba864"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo/commits/e3ea03bba864"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{11522dd5-648b-4e9e-b908-d3e1170ba728}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "JenniferBuehler/gazebo", "uuid": "{11522dd5-648b-4e9e-b908-d3e1170ba728}"}, "branch": {"name": "contact_manager_enforcable"}}, "state": "OPEN", "author": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "date": "2017-04-27T10:20:21.642084+00:00"}, "pull_request": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/35810516.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-35810516"}}, "parent": {"id": 35593061, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/35593061.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-35593061"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}, "content": {"raw": "Indeed, good catch. Horrible copy & paste error from [NewContact()](#!/osrf/gazebo/src/02c86f6d70d7fd8207043cb97d17c4917b77db20/gazebo/physics/ContactManager.cc?at=default&fileviewer=file-view-default#ContactManager.cc-112)... the function isn't really used so it has not become apparent. The only place this function is used is in ([ContactManager_TEST.cc](https://bitbucket.org/JenniferBuehler/gazebo/branch/contact_manager_enforcable#Lgazebo/physics/ContactManager_TEST.ccT192)), but there weren't any subscribers so it worked. I added the ``++it``.", "markup": "markdown", "html": "<p>Indeed, good catch. Horrible copy &amp; paste error from <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/02c86f6d70d7fd8207043cb97d17c4917b77db20/gazebo/physics/ContactManager.cc?at=default&amp;fileviewer=file-view-default#ContactManager.cc-112\" rel=\"nofollow\">NewContact()</a>... the function isn't really used so it has not become apparent. The only place this function is used is in (<a data-is-external-link=\"true\" href=\"https://bitbucket.org/JenniferBuehler/gazebo/branch/contact_manager_enforcable#Lgazebo/physics/ContactManager_TEST.ccT192\" rel=\"nofollow\">ContactManager_TEST.cc</a>), but there weren't any subscribers so it worked. I added the <code>++it</code>.</p>", "type": "rendered"}, "created_on": "2017-04-27T10:20:12.522279+00:00", "user": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "inline": {}, "updated_on": "2017-04-27T10:20:12.582216+00:00", "type": "pullrequest_comment", "id": 35810516}, "pull_request": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/35593061.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-35593061"}}, "parent": {"id": 35592669, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/35592669.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-35592669"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}, "content": {"raw": "it doesn't look like it, good catch", "markup": "markdown", "html": "<p>it doesn't look like it, good catch</p>", "type": "rendered"}, "created_on": "2017-04-24T23:44:11.370209+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2017-04-24T23:44:11.372680+00:00", "type": "pullrequest_comment", "id": 35593061}, "pull_request": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/35592992.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-35592992"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}, "content": {"raw": "Nitpick: since the `if` block has `continue`, is the `else` necessary? Maybe remove the `else`, or add the following line (169) to the `else` block for clarity?", "markup": "markdown", "html": "<p>Nitpick: since the <code>if</code> block has <code>continue</code>, is the <code>else</code> necessary? Maybe remove the <code>else</code>, or add the following line (169) to the <code>else</code> block for clarity?</p>", "type": "rendered"}, "created_on": "2017-04-24T23:41:42.868927+00:00", "user": {"display_name": "Adam Allevato", "uuid": "{c965e728-d481-47a0-9606-7b6a37c81756}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc965e728-d481-47a0-9606-7b6a37c81756%7D"}, "html": {"href": "https://bitbucket.org/%7Bc965e728-d481-47a0-9606-7b6a37c81756%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:9a693453-196b-4239-a73f-1c1196479e6f/df6990f4-3430-4676-bc69-cbe57fc2faf6/128"}}, "nickname": "Kukanani", "type": "user", "account_id": "557058:9a693453-196b-4239-a73f-1c1196479e6f"}, "inline": {}, "updated_on": "2017-04-24T23:41:42.923003+00:00", "type": "pullrequest_comment", "id": 35592992}, "pull_request": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/35592669.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-35592669"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}, "content": {"raw": "Is `it` ever incremented?", "markup": "markdown", "html": "<p>Is <code>it</code> ever incremented?</p>", "type": "rendered"}, "created_on": "2017-04-24T23:31:16.587125+00:00", "user": {"display_name": "Adam Allevato", "uuid": "{c965e728-d481-47a0-9606-7b6a37c81756}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc965e728-d481-47a0-9606-7b6a37c81756%7D"}, "html": {"href": "https://bitbucket.org/%7Bc965e728-d481-47a0-9606-7b6a37c81756%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:9a693453-196b-4239-a73f-1c1196479e6f/df6990f4-3430-4676-bc69-cbe57fc2faf6/128"}}, "nickname": "Kukanani", "type": "user", "account_id": "557058:9a693453-196b-4239-a73f-1c1196479e6f"}, "inline": {}, "updated_on": "2017-04-24T23:31:16.626608+00:00", "type": "pullrequest_comment", "id": 35592669}, "pull_request": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}}, {"approval": {"date": "2017-04-13T23:21:17.631374+00:00", "pullrequest": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}, "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}}, "pull_request": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/35055292.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-35055292"}}, "parent": {"id": 34134390, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/34134390.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-34134390"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}, "content": {"raw": "homebrew build looks good\n\n* http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/1031/", "markup": "markdown", "html": "<p>homebrew build looks good</p>\n<ul>\n<li><a href=\"http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/1031/\" rel=\"nofollow\" class=\"ap-connect-link\">http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/1031/</a></li>\n</ul>", "type": "rendered"}, "created_on": "2017-04-13T23:21:13.023720+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2017-04-13T23:21:13.026348+00:00", "type": "pullrequest_comment", "id": 35055292}, "pull_request": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/35049196.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-35049196"}}, "parent": {"id": 34134390, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/34134390.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-34134390"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}, "content": {"raw": "sorry that build got cancelled; I just queued another one", "markup": "markdown", "html": "<p>sorry that build got cancelled; I just queued another one</p>", "type": "rendered"}, "created_on": "2017-04-13T20:30:28.852636+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2017-04-13T20:30:28.856298+00:00", "type": "pullrequest_comment", "id": 35049196}, "pull_request": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}}, {"update": {"description": "This is only a small change which allows more flexibility in the use of ``PhysicsEngine`` (more specifically the ``ContactManager`` which it provides).\r\n\r\nCurrently the policy is that contacts are only processed further if there are subscribers to the contacts topic. Method [ContactMangaer::NewContact()](https://bitbucket.org/JenniferBuehler/gazebo/commits/2251e3885184c88099722869a34d552198e5c728#Lgazebo/physics/ContactManager.hhF99T102) is used by all the ``PhysicsEngine`` implementations to notify about new found contacts. If an object (not NULL) is returned, the contacts processing continues in the ``PhysicsEngine`` implementations, and ``ContactManager`` will have the full information available. However if there are no subscribers, NewContact() returns NULL, effectively skipping to keep the contact point information.\r\n\r\nIt is important (for performance reasons) to have a means to skip further processing, and having the subscriber criterion is one way to proclaim interest in more information about the contacts. However it would be great to have another option to proclaim this interest and allow contacts processing, without the need to create a subscriber to the topic.\r\nThis PR addresses this by adding a method [ContactManager::SetEnforceContacts(true)](https://bitbucket.org/JenniferBuehler/gazebo/commits/2251e3885184c88099722869a34d552198e5c728#Lgazebo/physics/ContactManager.hhT108)  which allows to enforce the contact point handling even if there are no subscribers. By default this behaviour is disabled, so the changes will not have any effects on previous applications which do not explicitly call this function with true.\r\n\r\nExample use case: In the physics engine test framework I'm working on at the moment, I use PhysicsEngine directly and have no subscribers or publishers to communicate with the core Gazebo code. In the tests I need to get the contact points information. I would prefer not having to create a fake subscriber just to be able to get this information out of ContactManager interface. Other users may need the same feature.", "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers", "destination": {"commit": {"hash": "01bfc1f85995", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/01bfc1f85995.json"}, "html": {"href": "#!/osrf/gazebo/commits/01bfc1f85995"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "b552d28786ba", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo/commit/b552d28786ba"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo/commits/b552d28786ba"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{11522dd5-648b-4e9e-b908-d3e1170ba728}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "JenniferBuehler/gazebo", "uuid": "{11522dd5-648b-4e9e-b908-d3e1170ba728}"}, "branch": {"name": "contact_manager_enforcable"}}, "state": "OPEN", "author": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "date": "2017-03-30T06:02:25.807514+00:00"}, "pull_request": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/34134390.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-34134390"}}, "parent": {"id": 34125857, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/34125857.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-34125857"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}, "content": {"raw": "Oh, yeah now that you say it, I remember something about this issue. Fixed it again and this time I tried ``make tests`` locally too.\n\nStarted another build\n\n[http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/1020/](http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/1020/)", "markup": "markdown", "html": "<p>Oh, yeah now that you say it, I remember something about this issue. Fixed it again and this time I tried <code>make tests</code> locally too.</p>\n<p>Started another build</p>\n<p><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/1020/\" rel=\"nofollow\">http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/1020/</a></p>", "type": "rendered"}, "created_on": "2017-03-30T06:00:22.371485+00:00", "user": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "inline": {}, "updated_on": "2017-03-30T06:00:22.449684+00:00", "type": "pullrequest_comment", "id": 34134390}, "pull_request": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}}, {"update": {"description": "This is only a small change which allows more flexibility in the use of ``PhysicsEngine`` (more specifically the ``ContactManager`` which it provides).\r\n\r\nCurrently the policy is that contacts are only processed further if there are subscribers to the contacts topic. Method [ContactMangaer::NewContact()](https://bitbucket.org/JenniferBuehler/gazebo/commits/2251e3885184c88099722869a34d552198e5c728#Lgazebo/physics/ContactManager.hhF99T102) is used by all the ``PhysicsEngine`` implementations to notify about new found contacts. If an object (not NULL) is returned, the contacts processing continues in the ``PhysicsEngine`` implementations, and ``ContactManager`` will have the full information available. However if there are no subscribers, NewContact() returns NULL, effectively skipping to keep the contact point information.\r\n\r\nIt is important (for performance reasons) to have a means to skip further processing, and having the subscriber criterion is one way to proclaim interest in more information about the contacts. However it would be great to have another option to proclaim this interest and allow contacts processing, without the need to create a subscriber to the topic.\r\nThis PR addresses this by adding a method [ContactManager::SetEnforceContacts(true)](https://bitbucket.org/JenniferBuehler/gazebo/commits/2251e3885184c88099722869a34d552198e5c728#Lgazebo/physics/ContactManager.hhT108)  which allows to enforce the contact point handling even if there are no subscribers. By default this behaviour is disabled, so the changes will not have any effects on previous applications which do not explicitly call this function with true.\r\n\r\nExample use case: In the physics engine test framework I'm working on at the moment, I use PhysicsEngine directly and have no subscribers or publishers to communicate with the core Gazebo code. In the tests I need to get the contact points information. I would prefer not having to create a fake subscriber just to be able to get this information out of ContactManager interface. Other users may need the same feature.", "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers", "destination": {"commit": {"hash": "01bfc1f85995", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/01bfc1f85995.json"}, "html": {"href": "#!/osrf/gazebo/commits/01bfc1f85995"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "8e51de744814", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo/commit/8e51de744814"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo/commits/8e51de744814"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{11522dd5-648b-4e9e-b908-d3e1170ba728}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "JenniferBuehler/gazebo", "uuid": "{11522dd5-648b-4e9e-b908-d3e1170ba728}"}, "branch": {"name": "contact_manager_enforcable"}}, "state": "OPEN", "author": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "date": "2017-03-30T05:57:50.897612+00:00"}, "pull_request": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/34125857.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-34125857"}}, "parent": {"id": 34123272, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/34123272.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-34123272"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}, "content": {"raw": "compilation failure confirmed:\n\n* http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/1018/", "markup": "markdown", "html": "<p>compilation failure confirmed:</p>\n<ul>\n<li><a href=\"http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/1018/\" rel=\"nofollow\" class=\"ap-connect-link\">http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/1018/</a></li>\n</ul>", "type": "rendered"}, "created_on": "2017-03-30T00:00:16.561362+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2017-03-30T00:00:16.563671+00:00", "type": "pullrequest_comment", "id": 34125857}, "pull_request": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/34123272.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-34123272"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}, "content": {"raw": "these asserts might fail  without `!= nullptr` as explained in the description of pull request #1340", "markup": "markdown", "html": "<p>these asserts might fail  without <code>!= nullptr</code> as explained in the description of <a href=\"#!/osrf/gazebo/pull-requests/1340/c-11-support-take-2\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #1340</a></p>", "type": "rendered"}, "created_on": "2017-03-29T22:40:24.320908+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2017-03-29T22:40:24.323322+00:00", "type": "pullrequest_comment", "id": 34123272}, "pull_request": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/34123197.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-34123197"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}, "content": {"raw": "we have been switching from `NULL` to `nullptr` recently", "markup": "markdown", "html": "<p>we have been switching from <code>NULL</code> to <code>nullptr</code> recently</p>", "type": "rendered"}, "created_on": "2017-03-29T22:38:36.031077+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2017-03-29T22:38:36.033479+00:00", "type": "pullrequest_comment", "id": 34123197}, "pull_request": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/34123085.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-34123085"}}, "parent": {"id": 33873557, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/33873557.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-33873557"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}, "content": {"raw": "[new build queued](http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/1018)", "markup": "markdown", "html": "<p><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/1018\" rel=\"nofollow\">new build queued</a></p>", "type": "rendered"}, "created_on": "2017-03-29T22:35:16.420195+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-03-29T22:35:16.422630+00:00", "type": "pullrequest_comment", "id": 34123085}, "pull_request": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/33873557.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-33873557"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}, "content": {"raw": "Corrected typos as pointed out by Ian and pushed again.", "markup": "markdown", "html": "<p>Corrected typos as pointed out by Ian and pushed again.</p>", "type": "rendered"}, "created_on": "2017-03-27T06:36:36.650476+00:00", "user": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "updated_on": "2017-03-27T06:36:36.698934+00:00", "type": "pullrequest_comment", "id": 33873557}, "pull_request": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}}, {"update": {"description": "This is only a small change which allows more flexibility in the use of ``PhysicsEngine`` (more specifically the ``ContactManager`` which it provides).\r\n\r\nCurrently the policy is that contacts are only processed further if there are subscribers to the contacts topic. Method [ContactMangaer::NewContact()](https://bitbucket.org/JenniferBuehler/gazebo/commits/2251e3885184c88099722869a34d552198e5c728#Lgazebo/physics/ContactManager.hhF99T102) is used by all the ``PhysicsEngine`` implementations to notify about new found contacts. If an object (not NULL) is returned, the contacts processing continues in the ``PhysicsEngine`` implementations, and ``ContactManager`` will have the full information available. However if there are no subscribers, NewContact() returns NULL, effectively skipping to keep the contact point information.\r\n\r\nIt is important (for performance reasons) to have a means to skip further processing, and having the subscriber criterion is one way to proclaim interest in more information about the contacts. However it would be great to have another option to proclaim this interest and allow contacts processing, without the need to create a subscriber to the topic.\r\nThis PR addresses this by adding a method [ContactManager::SetEnforceContacts(true)](https://bitbucket.org/JenniferBuehler/gazebo/commits/2251e3885184c88099722869a34d552198e5c728#Lgazebo/physics/ContactManager.hhT108)  which allows to enforce the contact point handling even if there are no subscribers. By default this behaviour is disabled, so the changes will not have any effects on previous applications which do not explicitly call this function with true.\r\n\r\nExample use case: In the physics engine test framework I'm working on at the moment, I use PhysicsEngine directly and have no subscribers or publishers to communicate with the core Gazebo code. In the tests I need to get the contact points information. I would prefer not having to create a fake subscriber just to be able to get this information out of ContactManager interface. Other users may need the same feature.", "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers", "destination": {"commit": {"hash": "0d39ebf2b92b", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/0d39ebf2b92b.json"}, "html": {"href": "#!/osrf/gazebo/commits/0d39ebf2b92b"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "6e4a9296b75e", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo/commit/6e4a9296b75e"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo/commits/6e4a9296b75e"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{11522dd5-648b-4e9e-b908-d3e1170ba728}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "JenniferBuehler/gazebo", "uuid": "{11522dd5-648b-4e9e-b908-d3e1170ba728}"}, "branch": {"name": "contact_manager_enforcable"}}, "state": "OPEN", "author": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "date": "2017-03-27T06:35:49.052143+00:00"}, "pull_request": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/33778820.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-33778820"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}, "content": {"raw": "NeverDrop**d**Contacts", "markup": "markdown", "html": "<p>NeverDrop<strong>d</strong>Contacts</p>", "type": "rendered"}, "created_on": "2017-03-24T02:40:11.834199+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {}, "updated_on": "2017-03-24T02:40:11.837214+00:00", "type": "pullrequest_comment", "id": 33778820}, "pull_request": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/33778815.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-33778815"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}, "content": {"raw": " `manager`", "markup": "markdown", "html": "<p><code>manager</code></p>", "type": "rendered"}, "created_on": "2017-03-24T02:39:56.148656+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {}, "updated_on": "2017-03-24T02:39:56.150946+00:00", "type": "pullrequest_comment", "id": 33778815}, "pull_request": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/33689628.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-33689628"}}, "parent": {"id": 33689361, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/33689361.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-33689361"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}, "content": {"raw": "[new build](http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/1009/)", "markup": "markdown", "html": "<p><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/1009/\" rel=\"nofollow\">new build</a></p>", "type": "rendered"}, "created_on": "2017-03-23T00:17:39.890786+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-03-23T00:17:39.893217+00:00", "type": "pullrequest_comment", "id": 33689628}, "pull_request": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}}, {"update": {"description": "This is only a small change which allows more flexibility in the use of ``PhysicsEngine`` (more specifically the ``ContactManager`` which it provides).\r\n\r\nCurrently the policy is that contacts are only processed further if there are subscribers to the contacts topic. Method [ContactMangaer::NewContact()](https://bitbucket.org/JenniferBuehler/gazebo/commits/2251e3885184c88099722869a34d552198e5c728#Lgazebo/physics/ContactManager.hhF99T102) is used by all the ``PhysicsEngine`` implementations to notify about new found contacts. If an object (not NULL) is returned, the contacts processing continues in the ``PhysicsEngine`` implementations, and ``ContactManager`` will have the full information available. However if there are no subscribers, NewContact() returns NULL, effectively skipping to keep the contact point information.\r\n\r\nIt is important (for performance reasons) to have a means to skip further processing, and having the subscriber criterion is one way to proclaim interest in more information about the contacts. However it would be great to have another option to proclaim this interest and allow contacts processing, without the need to create a subscriber to the topic.\r\nThis PR addresses this by adding a method [ContactManager::SetEnforceContacts(true)](https://bitbucket.org/JenniferBuehler/gazebo/commits/2251e3885184c88099722869a34d552198e5c728#Lgazebo/physics/ContactManager.hhT108)  which allows to enforce the contact point handling even if there are no subscribers. By default this behaviour is disabled, so the changes will not have any effects on previous applications which do not explicitly call this function with true.\r\n\r\nExample use case: In the physics engine test framework I'm working on at the moment, I use PhysicsEngine directly and have no subscribers or publishers to communicate with the core Gazebo code. In the tests I need to get the contact points information. I would prefer not having to create a fake subscriber just to be able to get this information out of ContactManager interface. Other users may need the same feature.", "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers", "destination": {"commit": {"hash": "0d39ebf2b92b", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/0d39ebf2b92b.json"}, "html": {"href": "#!/osrf/gazebo/commits/0d39ebf2b92b"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "eb332db02d36", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo/commit/eb332db02d36"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo/commits/eb332db02d36"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{11522dd5-648b-4e9e-b908-d3e1170ba728}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "JenniferBuehler/gazebo", "uuid": "{11522dd5-648b-4e9e-b908-d3e1170ba728}"}, "branch": {"name": "contact_manager_enforcable"}}, "state": "OPEN", "author": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "date": "2017-03-23T00:09:18.242794+00:00"}, "pull_request": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/33689361.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-33689361"}}, "parent": {"id": 33688304, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/33688304.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-33688304"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}, "content": {"raw": "Fixed, thanks.", "markup": "markdown", "html": "<p>Fixed, thanks.</p>", "type": "rendered"}, "created_on": "2017-03-23T00:09:16.182583+00:00", "user": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "updated_on": "2017-03-23T00:09:16.213067+00:00", "type": "pullrequest_comment", "id": 33689361}, "pull_request": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/33688331.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-33688331"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}, "content": {"raw": "repeated comment:\n\nI think this line is giving a compiler warning due to mismatched comparison of signed and unsigned integers. I think changing the `0` to `0u` will fix it", "markup": "markdown", "html": "<p>repeated comment:</p>\n<p>I think this line is giving a compiler warning due to mismatched comparison of signed and unsigned integers. I think changing the <code>0</code> to <code>0u</code> will fix it</p>", "type": "rendered"}, "created_on": "2017-03-22T23:33:04.498847+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2017-03-22T23:33:04.502267+00:00", "type": "pullrequest_comment", "id": 33688331}, "pull_request": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/33688327.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-33688327"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}, "content": {"raw": "I think this line is giving a compiler warning due to mismatched comparison of signed and unsigned integers. I think changing the `0` to `0u` will fix it", "markup": "markdown", "html": "<p>I think this line is giving a compiler warning due to mismatched comparison of signed and unsigned integers. I think changing the <code>0</code> to <code>0u</code> will fix it</p>", "type": "rendered"}, "created_on": "2017-03-22T23:32:55.464249+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2017-03-22T23:32:55.466599+00:00", "type": "pullrequest_comment", "id": 33688327}, "pull_request": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/33688304.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-33688304"}}, "parent": {"id": 33683576, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/33683576.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-33683576"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}, "content": {"raw": "a pair of homebrew compiler warnings:\n\n* http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/1007/warnings9Result/\n\nI'll give inline comments below for where I think they are coming from", "markup": "markdown", "html": "<p>a pair of homebrew compiler warnings:</p>\n<ul>\n<li><a href=\"http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/1007/warnings9Result/\" rel=\"nofollow\" class=\"ap-connect-link\">http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/1007/warnings9Result/</a></li>\n</ul>\n<p>I'll give inline comments below for where I think they are coming from</p>", "type": "rendered"}, "created_on": "2017-03-22T23:32:10.082519+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-03-22T23:32:10.084821+00:00", "type": "pullrequest_comment", "id": 33688304}, "pull_request": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/33683576.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-33683576"}}, "parent": {"id": 33601103, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/33601103.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-33601103"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}, "content": {"raw": "New jenkins builds queued:\n\n* http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/1007/\n* http://build.osrfoundation.org/job/gazebo-ci-pr_any-xenial-amd64-gpu-nvidia/104/", "markup": "markdown", "html": "<p>New jenkins builds queued:</p>\n<ul>\n<li><a href=\"http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/1007/\" rel=\"nofollow\" class=\"ap-connect-link\">http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/1007/</a></li>\n<li><a href=\"http://build.osrfoundation.org/job/gazebo-ci-pr_any-xenial-amd64-gpu-nvidia/104/\" rel=\"nofollow\" class=\"ap-connect-link\">http://build.osrfoundation.org/job/gazebo-ci-pr_any-xenial-amd64-gpu-nvidia/104/</a></li>\n</ul>", "type": "rendered"}, "created_on": "2017-03-22T21:39:50.959571+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-03-22T21:39:50.961746+00:00", "type": "pullrequest_comment", "id": 33683576}, "pull_request": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/33683224.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-33683224"}}, "parent": {"id": 33600698, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/33600698.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-33600698"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}, "content": {"raw": "Well thought of :) Done!", "markup": "markdown", "html": "<p>Well thought of :) Done!</p>", "type": "rendered"}, "created_on": "2017-03-22T21:33:37.018308+00:00", "user": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "updated_on": "2017-03-22T21:33:37.056038+00:00", "type": "pullrequest_comment", "id": 33683224}, "pull_request": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}}, {"update": {"description": "This is only a small change which allows more flexibility in the use of ``PhysicsEngine`` (more specifically the ``ContactManager`` which it provides).\r\n\r\nCurrently the policy is that contacts are only processed further if there are subscribers to the contacts topic. Method [ContactMangaer::NewContact()](https://bitbucket.org/JenniferBuehler/gazebo/commits/2251e3885184c88099722869a34d552198e5c728#Lgazebo/physics/ContactManager.hhF99T102) is used by all the ``PhysicsEngine`` implementations to notify about new found contacts. If an object (not NULL) is returned, the contacts processing continues in the ``PhysicsEngine`` implementations, and ``ContactManager`` will have the full information available. However if there are no subscribers, NewContact() returns NULL, effectively skipping to keep the contact point information.\r\n\r\nIt is important (for performance reasons) to have a means to skip further processing, and having the subscriber criterion is one way to proclaim interest in more information about the contacts. However it would be great to have another option to proclaim this interest and allow contacts processing, without the need to create a subscriber to the topic.\r\nThis PR addresses this by adding a method [ContactManager::SetEnforceContacts(true)](https://bitbucket.org/JenniferBuehler/gazebo/commits/2251e3885184c88099722869a34d552198e5c728#Lgazebo/physics/ContactManager.hhT108)  which allows to enforce the contact point handling even if there are no subscribers. By default this behaviour is disabled, so the changes will not have any effects on previous applications which do not explicitly call this function with true.\r\n\r\nExample use case: In the physics engine test framework I'm working on at the moment, I use PhysicsEngine directly and have no subscribers or publishers to communicate with the core Gazebo code. In the tests I need to get the contact points information. I would prefer not having to create a fake subscriber just to be able to get this information out of ContactManager interface. Other users may need the same feature.", "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers", "destination": {"commit": {"hash": "0d39ebf2b92b", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/0d39ebf2b92b.json"}, "html": {"href": "#!/osrf/gazebo/commits/0d39ebf2b92b"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "a98009f8c6d8", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo/commit/a98009f8c6d8"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo/commits/a98009f8c6d8"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{11522dd5-648b-4e9e-b908-d3e1170ba728}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "JenniferBuehler/gazebo", "uuid": "{11522dd5-648b-4e9e-b908-d3e1170ba728}"}, "branch": {"name": "contact_manager_enforcable"}}, "state": "OPEN", "author": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "date": "2017-03-22T21:31:51.291504+00:00"}, "pull_request": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/33613799.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-33613799"}}, "parent": {"id": 33612686, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/33612686.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-33612686"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}, "content": {"raw": "Ahoooups I should have tried `make tests`\u2026 sorry. Fixing it now.", "markup": "markdown", "html": "<p>Ahoooups I should have tried <code>make tests</code>\u2026 sorry. Fixing it now.</p>", "type": "rendered"}, "created_on": "2017-03-22T07:59:43.003773+00:00", "user": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "inline": {}, "updated_on": "2017-03-22T07:59:43.056550+00:00", "type": "pullrequest_comment", "id": 33613799}, "pull_request": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/33612686.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-33612686"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}, "content": {"raw": "compilation errors from these two lines in this test (maybe more?)", "markup": "markdown", "html": "<p>compilation errors from these two lines in this test (maybe more?)</p>", "type": "rendered"}, "created_on": "2017-03-22T07:37:15.225332+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2017-03-22T07:37:15.228684+00:00", "type": "pullrequest_comment", "id": 33612686}, "pull_request": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/33612589.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-33612589"}}, "parent": {"id": 33601103, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/33601103.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-33601103"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}, "content": {"raw": "compilation errors", "markup": "markdown", "html": "<p>compilation errors</p>", "type": "rendered"}, "created_on": "2017-03-22T07:34:55.743744+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-03-22T07:34:55.746494+00:00", "type": "pullrequest_comment", "id": 33612589}, "pull_request": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/33601103.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-33601103"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}, "content": {"raw": "New jenkins builds queued:\n\n* http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/1002/\n* http://build.osrfoundation.org/job/gazebo-ci-pr_any-xenial-amd64-gpu-nvidia/99/", "markup": "markdown", "html": "<p>New jenkins builds queued:</p>\n<ul>\n<li><a href=\"http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/1002/\" rel=\"nofollow\" class=\"ap-connect-link\">http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/1002/</a></li>\n<li><a href=\"http://build.osrfoundation.org/job/gazebo-ci-pr_any-xenial-amd64-gpu-nvidia/99/\" rel=\"nofollow\" class=\"ap-connect-link\">http://build.osrfoundation.org/job/gazebo-ci-pr_any-xenial-amd64-gpu-nvidia/99/</a></li>\n</ul>", "type": "rendered"}, "created_on": "2017-03-22T00:33:27.343344+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-03-22T00:33:27.347296+00:00", "type": "pullrequest_comment", "id": 33601103}, "pull_request": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/33600698.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-33600698"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}, "content": {"raw": "Since pull request #2654 has been merged, can you remove the subscriber in the test added in that PR that was a workaround for this ConcactManager issue?", "markup": "markdown", "html": "<p>Since <a href=\"#!/osrf/gazebo/pull-requests/2654/bullet-should-update-contact-information\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #2654</a> has been merged, can you remove the subscriber in the test added in that PR that was a workaround for this ConcactManager issue?</p>", "type": "rendered"}, "created_on": "2017-03-22T00:21:25.679025+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-03-22T00:21:25.681509+00:00", "type": "pullrequest_comment", "id": 33600698}, "pull_request": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}}, {"update": {"description": "This is only a small change which allows more flexibility in the use of ``PhysicsEngine`` (more specifically the ``ContactManager`` which it provides).\r\n\r\nCurrently the policy is that contacts are only processed further if there are subscribers to the contacts topic. Method [ContactMangaer::NewContact()](https://bitbucket.org/JenniferBuehler/gazebo/commits/2251e3885184c88099722869a34d552198e5c728#Lgazebo/physics/ContactManager.hhF99T102) is used by all the ``PhysicsEngine`` implementations to notify about new found contacts. If an object (not NULL) is returned, the contacts processing continues in the ``PhysicsEngine`` implementations, and ``ContactManager`` will have the full information available. However if there are no subscribers, NewContact() returns NULL, effectively skipping to keep the contact point information.\r\n\r\nIt is important (for performance reasons) to have a means to skip further processing, and having the subscriber criterion is one way to proclaim interest in more information about the contacts. However it would be great to have another option to proclaim this interest and allow contacts processing, without the need to create a subscriber to the topic.\r\nThis PR addresses this by adding a method [ContactManager::SetEnforceContacts(true)](https://bitbucket.org/JenniferBuehler/gazebo/commits/2251e3885184c88099722869a34d552198e5c728#Lgazebo/physics/ContactManager.hhT108)  which allows to enforce the contact point handling even if there are no subscribers. By default this behaviour is disabled, so the changes will not have any effects on previous applications which do not explicitly call this function with true.\r\n\r\nExample use case: In the physics engine test framework I'm working on at the moment, I use PhysicsEngine directly and have no subscribers or publishers to communicate with the core Gazebo code. In the tests I need to get the contact points information. I would prefer not having to create a fake subscriber just to be able to get this information out of ContactManager interface. Other users may need the same feature.", "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers", "destination": {"commit": {"hash": "cd526975bc8b", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/cd526975bc8b.json"}, "html": {"href": "#!/osrf/gazebo/commits/cd526975bc8b"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "6adf1b241c64", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo/commit/6adf1b241c64"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo/commits/6adf1b241c64"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{11522dd5-648b-4e9e-b908-d3e1170ba728}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "JenniferBuehler/gazebo", "uuid": "{11522dd5-648b-4e9e-b908-d3e1170ba728}"}, "branch": {"name": "contact_manager_enforcable"}}, "state": "OPEN", "author": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "date": "2017-03-16T00:09:17.157893+00:00"}, "pull_request": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/33252246.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-33252246"}}, "parent": {"id": 33233272, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/33233272.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-33233272"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}, "content": {"raw": "Thanks!", "markup": "markdown", "html": "<p>Thanks!</p>", "type": "rendered"}, "created_on": "2017-03-16T00:08:54.357562+00:00", "user": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "updated_on": "2017-03-16T00:08:54.388603+00:00", "type": "pullrequest_comment", "id": 33252246}, "pull_request": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/33252152.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-33252152"}}, "parent": {"id": 33232692, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/33232692.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-33232692"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}, "content": {"raw": "Haha, must come from search and replace, oups.", "markup": "markdown", "html": "<p>Haha, must come from search and replace, oups.</p>", "type": "rendered"}, "created_on": "2017-03-16T00:05:59.360426+00:00", "user": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "inline": {}, "updated_on": "2017-03-16T00:05:59.411792+00:00", "type": "pullrequest_comment", "id": 33252152}, "pull_request": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629/comments/33233272.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629/_/diff#comment-33233272"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}, "content": {"raw": "here're a few related style check errors:\n\n~~~\n./gazebo/physics/ContactManager_TEST.cc:166:  Consider using ASSERT_EQ instead of ASSERT_TRUE(a == b)  [readability/check] [2]\n./gazebo/physics/ContactManager_TEST.cc:183:  Missing spaces around !=  [whitespace/operators] [3]\n./gazebo/physics/ContactManager_TEST.cc:186:  Missing spaces around =  [whitespace/operators] [4]\n./gazebo/physics/ContactManager_TEST.cc:187:  Missing spaces around =  [whitespace/operators] [4]\n./gazebo/physics/ContactManager.hh:211:  Lines should be <= 80 characters long  [whitespace/line_length] [2]\n./gazebo/physics/ContactManager.hh:217:  Lines should be <= 80 characters long  [whitespace/line_length] [2]\n./gazebo/physics/ContactManager.cc:146:  Lines should be <= 80 characters long  [whitespace/line_length] [2]\n./gazebo/physics/ContactManager.cc:181:  Missing spaces around !=  [whitespace/operators] [3]\n~~~", "markup": "markdown", "html": "<p>here're a few related style check errors:</p>\n<div class=\"codehilite\"><pre><span></span>./gazebo/physics/ContactManager_TEST.cc:166:  Consider using ASSERT_EQ instead of ASSERT_TRUE(a == b)  [readability/check] [2]\n./gazebo/physics/ContactManager_TEST.cc:183:  Missing spaces around !=  [whitespace/operators] [3]\n./gazebo/physics/ContactManager_TEST.cc:186:  Missing spaces around =  [whitespace/operators] [4]\n./gazebo/physics/ContactManager_TEST.cc:187:  Missing spaces around =  [whitespace/operators] [4]\n./gazebo/physics/ContactManager.hh:211:  Lines should be &lt;= 80 characters long  [whitespace/line_length] [2]\n./gazebo/physics/ContactManager.hh:217:  Lines should be &lt;= 80 characters long  [whitespace/line_length] [2]\n./gazebo/physics/ContactManager.cc:146:  Lines should be &lt;= 80 characters long  [whitespace/line_length] [2]\n./gazebo/physics/ContactManager.cc:181:  Missing spaces around !=  [whitespace/operators] [3]\n</pre></div>", "type": "rendered"}, "created_on": "2017-03-15T18:03:54.877209+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2017-03-15T18:03:54.879611+00:00", "type": "pullrequest_comment", "id": 33233272}, "pull_request": {"type": "pullrequest", "id": 2629, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2629"}}, "title": "Possibility to enforce contact addition in ContactManager even if there are no subscribers"}}], "next": "data/repositories/osrf/gazebo/pullrequests/2629/activity_ctx=nLSXkHGFg.json"}