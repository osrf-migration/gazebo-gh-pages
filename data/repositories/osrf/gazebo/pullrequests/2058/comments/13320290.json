{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2058/comments/13320290.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/carlosmccosta/gazebo:None..None?path=gazebo%2Frendering%2FCamera.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2058/_/diff#comment-13320290"}}, "parent": {"id": 13309917, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2058/comments/13309917.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2058/_/diff#comment-13309917"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2058, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2058.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2058"}}, "title": "Added camera intrinsics (fx, fy, cx, cy, s)."}, "content": {"raw": "Initially i implemented [BuildNormalizedDeviceCoordinatesMatrix and BuildPerspectiveMatrix](https://en.wikibooks.org/wiki/GLSL_Programming/Vertex_Transformations) in order to compute the [opengl projective matrix](http://ksimek.github.io/2013/06/03/calibrated_cameras_in_opengl/).\nLater on i optimized the matrix multiplication projectiveMatrix = NDCMatrix*PerspectiveMatrix in order to reduce the computation cost and also to use doubles instead of floats ([Ogre::Matrix4](http://www.ogre3d.org/docs/api/1.9/_ogre_matrix4_8h_source.html) uses floats).\n\nI kept both mainly for documentation (because the initial implementation is easier to understand) and also because they might be useful in other gazebo code (but in that case they probably should go into a math or utils class / namespace).\n\nBut if you think they should be removed i will delete them (keeping only the BuildProjectiveMatrix).", "markup": "markdown", "html": "<p>Initially i implemented <a data-is-external-link=\"true\" href=\"https://en.wikibooks.org/wiki/GLSL_Programming/Vertex_Transformations\" rel=\"nofollow\">BuildNormalizedDeviceCoordinatesMatrix and BuildPerspectiveMatrix</a> in order to compute the <a data-is-external-link=\"true\" href=\"http://ksimek.github.io/2013/06/03/calibrated_cameras_in_opengl/\" rel=\"nofollow\">opengl projective matrix</a>.\nLater on i optimized the matrix multiplication projectiveMatrix = NDCMatrix*PerspectiveMatrix in order to reduce the computation cost and also to use doubles instead of floats (<a data-is-external-link=\"true\" href=\"http://www.ogre3d.org/docs/api/1.9/_ogre_matrix4_8h_source.html\" rel=\"nofollow\">Ogre::Matrix4</a> uses floats).</p>\n<p>I kept both mainly for documentation (because the initial implementation is easier to understand) and also because they might be useful in other gazebo code (but in that case they probably should go into a math or utils class / namespace).</p>\n<p>But if you think they should be removed i will delete them (keeping only the BuildProjectiveMatrix).</p>", "type": "rendered"}, "created_on": "2016-01-09T14:57:24.218192+00:00", "user": {"display_name": "Carlos Miguel Correia da Costa", "uuid": "{8f4eaa49-0391-4770-bde5-edb5358b51a8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B8f4eaa49-0391-4770-bde5-edb5358b51a8%7D"}, "html": {"href": "https://bitbucket.org/%7B8f4eaa49-0391-4770-bde5-edb5358b51a8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/323d40c3bb4988fad287b6879453b67dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCC-6.png"}}, "nickname": "carlosmccosta", "type": "user", "account_id": "557058:1675d077-a0e4-4cbc-bcf3-3dcc212ee41c"}, "inline": {"to": null, "from": null, "outdated": false, "path": "gazebo/rendering/Camera.cc"}, "updated_on": "2016-01-09T14:57:24.296471+00:00", "type": "pullrequest_comment", "id": 13320290}