{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2439/comments/23749682.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2439/_/diff#comment-23749682"}}, "parent": {"id": 23749633, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2439/comments/23749633.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2439/_/diff#comment-23749633"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2439, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2439.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2439"}}, "title": "Fix cleanup of visual with plugins that have callbacks"}, "content": {"raw": "I got this backtrace:\n\n~~~\nProgram received signal SIGSEGV, Segmentation fault.\ngazebo::rendering::Visual::DetachVisual (this=0x0, \n    _name=\"ModelPreview_0_0::_JOINT_VISUAL_\")\n    at /home/ian/depot/clones/gazebo13/gazebo/rendering/Visual.cc:594\n594\t  for (auto iter = this->dataPtr->children.begin();\n(gdb) bt\n#0  gazebo::rendering::Visual::DetachVisual (this=0x0, \n    _name=\"ModelPreview_0_0::_JOINT_VISUAL_\")\n    at /home/ian/depot/clones/gazebo13/gazebo/rendering/Visual.cc:594\n#1  0x00007ffff70ae6c6 in gazebo::gui::JointMaker::RemoveJoint (this=this@entry=\n    0x54e71b0, _jointId=\"ModelPreview_0_0::link_0_JOINT_0_UNIQUE_ID_\")\n    at /home/ian/depot/clones/gazebo13/gazebo/gui/model/JointMaker.cc:283\n#2  0x00007ffff70aec3b in gazebo::gui::JointMaker::~JointMaker (this=0x54e71b0, \n    __in_chrg=<optimized out>)\n    at /home/ian/depot/clones/gazebo13/gazebo/gui/model/JointMaker.cc:145\n#3  0x00007ffff70aee29 in gazebo::gui::JointMaker::~JointMaker (this=0x54e71b0, \n    __in_chrg=<optimized out>)\n    at /home/ian/depot/clones/gazebo13/gazebo/gui/model/JointMaker.cc:152\n#4  0x00007ffff70cc640 in gazebo::gui::ModelCreator::~ModelCreator (this=\n    0x569ebe0, __in_chrg=<optimized out>)\n    at /home/ian/depot/clones/gazebo13/gazebo/gui/model/ModelCreator.cc:434\n#5  0x00007ffff70cc689 in gazebo::gui::ModelCreator::~ModelCreator (\n    this=0x569ebe0, __in_chrg=<optimized out>)\n    at /home/ian/depot/clones/gazebo13/gazebo/gui/model/ModelCreator.cc:435\n#6  0x000000000040c255 in ModelEditorTest::SaveModelPose (this=<optimized out>)\n    at /home/ian/depot/clones/gazebo13/test/integration/model_editor.cc:192\n#7  0x00007ffff5c20908 in QMetaMethod::invoke(QObject*, Qt::ConnectionType, QGenericReturnArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument) const ()\n   from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#8  0x00007ffff5c22dc2 in QMetaObject::invokeMethod(QObject*, char const*, Qt::ConnectionType, QGenericReturnArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument) ()\n   from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#9  0x00007ffff6c3efbf in ?? () from /usr/lib/x86_64-linux-gnu/libQtTest.so.4\n#10 0x00007ffff6c3fddf in QTest::qExec(QObject*, int, char**) ()\n   from /usr/lib/x86_64-linux-gnu/libQtTest.so.4\n~~~", "markup": "markdown", "html": "<p>I got this backtrace:</p>\n<div class=\"codehilite\"><pre><span></span>Program received signal SIGSEGV, Segmentation fault.\ngazebo::rendering::Visual::DetachVisual (this=0x0, \n    _name=&quot;ModelPreview_0_0::_JOINT_VISUAL_&quot;)\n    at /home/ian/depot/clones/gazebo13/gazebo/rendering/Visual.cc:594\n594   for (auto iter = this-&gt;dataPtr-&gt;children.begin();\n(gdb) bt\n#0  gazebo::rendering::Visual::DetachVisual (this=0x0, \n    _name=&quot;ModelPreview_0_0::_JOINT_VISUAL_&quot;)\n    at /home/ian/depot/clones/gazebo13/gazebo/rendering/Visual.cc:594\n#1  0x00007ffff70ae6c6 in gazebo::gui::JointMaker::RemoveJoint (this=this@entry=\n    0x54e71b0, _jointId=&quot;ModelPreview_0_0::link_0_JOINT_0_UNIQUE_ID_&quot;)\n    at /home/ian/depot/clones/gazebo13/gazebo/gui/model/JointMaker.cc:283\n#2  0x00007ffff70aec3b in gazebo::gui::JointMaker::~JointMaker (this=0x54e71b0, \n    __in_chrg=&lt;optimized out&gt;)\n    at /home/ian/depot/clones/gazebo13/gazebo/gui/model/JointMaker.cc:145\n#3  0x00007ffff70aee29 in gazebo::gui::JointMaker::~JointMaker (this=0x54e71b0, \n    __in_chrg=&lt;optimized out&gt;)\n    at /home/ian/depot/clones/gazebo13/gazebo/gui/model/JointMaker.cc:152\n#4  0x00007ffff70cc640 in gazebo::gui::ModelCreator::~ModelCreator (this=\n    0x569ebe0, __in_chrg=&lt;optimized out&gt;)\n    at /home/ian/depot/clones/gazebo13/gazebo/gui/model/ModelCreator.cc:434\n#5  0x00007ffff70cc689 in gazebo::gui::ModelCreator::~ModelCreator (\n    this=0x569ebe0, __in_chrg=&lt;optimized out&gt;)\n    at /home/ian/depot/clones/gazebo13/gazebo/gui/model/ModelCreator.cc:435\n#6  0x000000000040c255 in ModelEditorTest::SaveModelPose (this=&lt;optimized out&gt;)\n    at /home/ian/depot/clones/gazebo13/test/integration/model_editor.cc:192\n#7  0x00007ffff5c20908 in QMetaMethod::invoke(QObject*, Qt::ConnectionType, QGenericReturnArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument) const ()\n   from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#8  0x00007ffff5c22dc2 in QMetaObject::invokeMethod(QObject*, char const*, Qt::ConnectionType, QGenericReturnArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument) ()\n   from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#9  0x00007ffff6c3efbf in ?? () from /usr/lib/x86_64-linux-gnu/libQtTest.so.4\n#10 0x00007ffff6c3fddf in QTest::qExec(QObject*, int, char**) ()\n   from /usr/lib/x86_64-linux-gnu/libQtTest.so.4\n</pre></div>", "type": "rendered"}, "created_on": "2016-09-14T20:37:51.788266+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2016-09-14T20:37:51.793607+00:00", "type": "pullrequest_comment", "id": 23749682}