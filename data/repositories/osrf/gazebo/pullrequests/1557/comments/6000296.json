{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1557/comments/6000296.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1557/_/diff#comment-6000296"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1557, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1557.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1557"}}, "title": "PresetManager Part 2: command line, SDF generation, unit test"}, "content": {"raw": "I wanted to check if sending a physics message with both a profile name and another physics parameter set would cause the message parameter to override the profile parameter, which I think it should. For example, `preset_1` in [test/worlds/presets.world](#!/osrf/gazebo/src/default/test/worlds/presets.world) has a max time step of `0.01`.\n~~~\n$ gz physics -s 0.001\n# should set the time step to 0.001\n$ gz physics -p preset_1\n# should set the time step to 0.01\n# but calling both:\n$ gz physics -p preset_1 -s 0.001\n# should defer to the parameter set explicitly by the user\n# and set the time step to 0.001\n~~~\nI added a test for this in 4d43d3c (branch `physics_presets_cli_scpeters`) and fixed the test in a47edc1. It's a pretty small change, so please consider merging it in.", "markup": "markdown", "html": "<p>I wanted to check if sending a physics message with both a profile name and another physics parameter set would cause the message parameter to override the profile parameter, which I think it should. For example, <code>preset_1</code> in <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/default/test/worlds/presets.world\" rel=\"nofollow\">test/worlds/presets.world</a> has a max time step of <code>0.01</code>.</p>\n<div class=\"codehilite\"><pre><span></span>$ gz physics -s <span class=\"m\">0</span>.001\n<span class=\"c1\"># should set the time step to 0.001</span>\n$ gz physics -p preset_1\n<span class=\"c1\"># should set the time step to 0.01</span>\n<span class=\"c1\"># but calling both:</span>\n$ gz physics -p preset_1 -s <span class=\"m\">0</span>.001\n<span class=\"c1\"># should defer to the parameter set explicitly by the user</span>\n<span class=\"c1\"># and set the time step to 0.001</span>\n</pre></div>\n\n\n<p>I added a test for this in <a href=\"#!/osrf/gazebo/commits/4d43d3c\" rel=\"nofollow\" class=\"ap-connect-link\">4d43d3c</a> (branch <code>physics_presets_cli_scpeters</code>) and fixed the test in <a href=\"#!/osrf/gazebo/commits/a47edc1\" rel=\"nofollow\" class=\"ap-connect-link\">a47edc1</a>. It's a pretty small change, so please consider merging it in.</p>", "type": "rendered"}, "created_on": "2015-04-01T00:04:28.209061+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2015-04-01T00:04:28.215744+00:00", "type": "pullrequest_comment", "id": 6000296}