{"pagelen": 50, "values": [{"update": {"description": "The `InertiaVisual` class currently doesn't account for off-axis terms in inertia matrices. To demonstrate this, I've created `inertia_rotations.world`, which has 7 boxes of equivalent mass and world-frame moment of inertia matrix, though with different inertial frame rotations. Some of the inertial frame rotations are 90 degrees, so inertia values are swapped (for example `ixx` <=> `iyy`), while others have 45 degree rotations, so that there are non-zero off-diagonal terms. Here is a screenshot of the inertia visualization with gazebo 7.2.0. The 90-degree rotations are displayed properly, but the models with off-diagonal inertia values are shown incorrectly.\r\n\r\n![Screen Shot 2016-06-21 at 10.17.51 AM.png](https://bitbucket.org/repo/jgXqbo/images/629613221-Screen%20Shot%202016-06-21%20at%2010.17.51%20AM.png)\r\n\r\nThe recent addition of the `MassMatrix3` class to `ignition-math2` make it straight-forward to account for the off-diagonal terms. This PR does the following:\r\n\r\n* adds test world\r\n* Require ignition-math2 2.4.0\r\n* add helper functions for converting between `msgs::Inertial` and ignition math objects\r\n* fixes `InertiaVisual` to account for off-diagonal inertia terms (see screenshot below)\r\n\r\n![Screen Shot 2016-06-21 at 10.30.57 AM.png](https://bitbucket.org/repo/jgXqbo/images/3233525410-Screen%20Shot%202016-06-21%20at%2010.30.57%20AM.png)\r\n\r\n`InertiaVisual` doesn't have a test, but I will need some guidance on how to write this. Perhaps the test could use this example world?", "title": "Fix InertiaVisual for non-diagonal inertia matrices", "destination": {"commit": {"hash": "b02acd0882fc", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/b02acd0882fc.json"}, "html": {"href": "#!/osrf/gazebo/commits/b02acd0882fc"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "399b4bf90d5c", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/399b4bf90d5c.json"}, "html": {"href": "#!/osrf/gazebo/commits/399b4bf90d5c"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "inertia_vis_part1"}}, "state": "MERGED", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2016-07-14T04:49:28.214264+00:00"}, "pull_request": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}}, {"approval": {"date": "2016-07-14T01:51:47.028029+00:00", "pullrequest": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}, "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}}, "pull_request": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354/comments/20989441.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354/_/diff#comment-20989441"}}, "parent": {"id": 20988671, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354/comments/20988671.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354/_/diff#comment-20988671"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}, "content": {"raw": "ticketed issue #2009", "markup": "markdown", "html": "<p>ticketed issue <a href=\"#!/osrf/gazebo/issues/2009/visual-bounding-box-calculation-ignore-gui\" rel=\"nofollow\" title=\"Visual bounding box calculation ignore gui visuals\" class=\"ap-connect-link\">#2009</a></p>", "type": "rendered"}, "created_on": "2016-07-14T01:14:42.872816+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {}, "updated_on": "2016-07-14T01:14:42.877802+00:00", "type": "pullrequest_comment", "id": 20989441}, "pull_request": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354/comments/20989338.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354/_/diff#comment-20989338"}}, "parent": {"id": 20988702, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354/comments/20988702.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354/_/diff#comment-20988702"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}, "content": {"raw": "sounds awesome: 399b4bf90d5c", "markup": "markdown", "html": "<p>sounds awesome: <a href=\"#!/osrf/gazebo/commits/399b4bf90d5c\" rel=\"nofollow\" class=\"ap-connect-link\">399b4bf90d5c</a></p>", "type": "rendered"}, "created_on": "2016-07-14T01:10:02.882839+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2016-07-14T01:10:02.884859+00:00", "type": "pullrequest_comment", "id": 20989338}, "pull_request": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}}, {"update": {"description": "The `InertiaVisual` class currently doesn't account for off-axis terms in inertia matrices. To demonstrate this, I've created `inertia_rotations.world`, which has 7 boxes of equivalent mass and world-frame moment of inertia matrix, though with different inertial frame rotations. Some of the inertial frame rotations are 90 degrees, so inertia values are swapped (for example `ixx` <=> `iyy`), while others have 45 degree rotations, so that there are non-zero off-diagonal terms. Here is a screenshot of the inertia visualization with gazebo 7.2.0. The 90-degree rotations are displayed properly, but the models with off-diagonal inertia values are shown incorrectly.\r\n\r\n![Screen Shot 2016-06-21 at 10.17.51 AM.png](https://bitbucket.org/repo/jgXqbo/images/629613221-Screen%20Shot%202016-06-21%20at%2010.17.51%20AM.png)\r\n\r\nThe recent addition of the `MassMatrix3` class to `ignition-math2` make it straight-forward to account for the off-diagonal terms. This PR does the following:\r\n\r\n* adds test world\r\n* Require ignition-math2 2.4.0\r\n* add helper functions for converting between `msgs::Inertial` and ignition math objects\r\n* fixes `InertiaVisual` to account for off-diagonal inertia terms (see screenshot below)\r\n\r\n![Screen Shot 2016-06-21 at 10.30.57 AM.png](https://bitbucket.org/repo/jgXqbo/images/3233525410-Screen%20Shot%202016-06-21%20at%2010.30.57%20AM.png)\r\n\r\n`InertiaVisual` doesn't have a test, but I will need some guidance on how to write this. Perhaps the test could use this example world?", "title": "Fix InertiaVisual for non-diagonal inertia matrices", "destination": {"commit": {"hash": "b02acd0882fc", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/b02acd0882fc.json"}, "html": {"href": "#!/osrf/gazebo/commits/b02acd0882fc"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "399b4bf90d5c", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/399b4bf90d5c.json"}, "html": {"href": "#!/osrf/gazebo/commits/399b4bf90d5c"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "inertia_vis_part1"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2016-07-14T01:10:01.915827+00:00"}, "pull_request": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354/comments/20988702.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354/_/diff#comment-20988702"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}, "content": {"raw": "Now that we have a `RenderingFixture` I think we don't need to spawn a camera sensor. Instead we can update the rendering thread in our test to process events / messages. So something like:\n\n~~~\ndiff -r 3c7d57604343 gazebo/rendering/InertiaVisual_TEST.cc\n--- a/gazebo/rendering/InertiaVisual_TEST.cc\tWed Jul 13 12:16:35 2016 -0700\n+++ b/gazebo/rendering/InertiaVisual_TEST.cc\tWed Jul 13 17:35:23 2016 -0700\n@@ -70,12 +70,6 @@\n {\n   Load(\"worlds/inertia_rotations.world\");\n \n-  // FIXME need a camera otherwise test produces a gl vertex buffer error\n-  ignition::math::Pose3d cameraStartPose(0, 0, 0, 0, 0, 0);\n-  std::string cameraName = \"test_camera\";\n-  SpawnCamera(\"test_camera_model\", cameraName,\n-      cameraStartPose.Pos(), cameraStartPose.Rot().Euler());\n-\n   gazebo::rendering::ScenePtr scene = gazebo::rendering::get_scene();\n   ASSERT_NE(scene, nullptr);\n \n@@ -95,6 +89,10 @@\n   const int maxSleep = 50;\n   while (sleep < maxSleep)\n   {\n+    event::Events::preRender();\n+    event::Events::render();\n+    event::Events::postRender();\n+\n     bool found = true;\n     for (const auto name : inertiaVisualNames)\n     {\n~~~", "markup": "markdown", "html": "<p>Now that we have a <code>RenderingFixture</code> I think we don't need to spawn a camera sensor. Instead we can update the rendering thread in our test to process events / messages. So something like:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gh\">diff -r 3c7d57604343 gazebo/rendering/InertiaVisual_TEST.cc</span>\n<span class=\"gd\">--- a/gazebo/rendering/InertiaVisual_TEST.cc    Wed Jul 13 12:16:35 2016 -0700</span>\n<span class=\"gi\">+++ b/gazebo/rendering/InertiaVisual_TEST.cc    Wed Jul 13 17:35:23 2016 -0700</span>\n<span class=\"gu\">@@ -70,12 +70,6 @@</span>\n {\n   Load(&quot;worlds/inertia_rotations.world&quot;);\n\n<span class=\"gd\">-  // FIXME need a camera otherwise test produces a gl vertex buffer error</span>\n<span class=\"gd\">-  ignition::math::Pose3d cameraStartPose(0, 0, 0, 0, 0, 0);</span>\n<span class=\"gd\">-  std::string cameraName = &quot;test_camera&quot;;</span>\n<span class=\"gd\">-  SpawnCamera(&quot;test_camera_model&quot;, cameraName,</span>\n<span class=\"gd\">-      cameraStartPose.Pos(), cameraStartPose.Rot().Euler());</span>\n<span class=\"gd\">-</span>\n   gazebo::rendering::ScenePtr scene = gazebo::rendering::get_scene();\n   ASSERT_NE(scene, nullptr);\n\n<span class=\"gu\">@@ -95,6 +89,10 @@</span>\n   const int maxSleep = 50;\n   while (sleep &lt; maxSleep)\n   {\n<span class=\"gi\">+    event::Events::preRender();</span>\n<span class=\"gi\">+    event::Events::render();</span>\n<span class=\"gi\">+    event::Events::postRender();</span>\n<span class=\"gi\">+</span>\n     bool found = true;\n     for (const auto name : inertiaVisualNames)\n     {\n</pre></div>", "type": "rendered"}, "created_on": "2016-07-14T00:40:26.224886+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {}, "updated_on": "2016-07-14T00:40:26.230387+00:00", "type": "pullrequest_comment", "id": 20988702}, "pull_request": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354/comments/20988671.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354/_/diff#comment-20988671"}}, "parent": {"id": 20988138, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354/comments/20988138.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354/_/diff#comment-20988138"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}, "content": {"raw": "ah yes that's right. I am probably the one who added that. Should think of a better way to ignore `SelectionObj`s later on.", "markup": "markdown", "html": "<p>ah yes that's right. I am probably the one who added that. Should think of a better way to ignore <code>SelectionObj</code>s later on.</p>", "type": "rendered"}, "created_on": "2016-07-14T00:38:28.929728+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {}, "updated_on": "2016-07-14T00:38:28.934749+00:00", "type": "pullrequest_comment", "id": 20988671}, "pull_request": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}}, {"update": {"description": "The `InertiaVisual` class currently doesn't account for off-axis terms in inertia matrices. To demonstrate this, I've created `inertia_rotations.world`, which has 7 boxes of equivalent mass and world-frame moment of inertia matrix, though with different inertial frame rotations. Some of the inertial frame rotations are 90 degrees, so inertia values are swapped (for example `ixx` <=> `iyy`), while others have 45 degree rotations, so that there are non-zero off-diagonal terms. Here is a screenshot of the inertia visualization with gazebo 7.2.0. The 90-degree rotations are displayed properly, but the models with off-diagonal inertia values are shown incorrectly.\r\n\r\n![Screen Shot 2016-06-21 at 10.17.51 AM.png](https://bitbucket.org/repo/jgXqbo/images/629613221-Screen%20Shot%202016-06-21%20at%2010.17.51%20AM.png)\r\n\r\nThe recent addition of the `MassMatrix3` class to `ignition-math2` make it straight-forward to account for the off-diagonal terms. This PR does the following:\r\n\r\n* adds test world\r\n* Require ignition-math2 2.4.0\r\n* add helper functions for converting between `msgs::Inertial` and ignition math objects\r\n* fixes `InertiaVisual` to account for off-diagonal inertia terms (see screenshot below)\r\n\r\n![Screen Shot 2016-06-21 at 10.30.57 AM.png](https://bitbucket.org/repo/jgXqbo/images/3233525410-Screen%20Shot%202016-06-21%20at%2010.30.57%20AM.png)\r\n\r\n`InertiaVisual` doesn't have a test, but I will need some guidance on how to write this. Perhaps the test could use this example world?", "title": "Fix InertiaVisual for non-diagonal inertia matrices", "destination": {"commit": {"hash": "9bc8cb494795", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/9bc8cb494795.json"}, "html": {"href": "#!/osrf/gazebo/commits/9bc8cb494795"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "a21a931cde9a", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/a21a931cde9a.json"}, "html": {"href": "#!/osrf/gazebo/commits/a21a931cde9a"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "inertia_vis_part1"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2016-07-14T00:25:19.239432+00:00"}, "pull_request": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354/comments/20988138.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354/_/diff#comment-20988138"}}, "parent": {"id": 20988035, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354/comments/20988035.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354/_/diff#comment-20988035"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}, "content": {"raw": "Maybe it's so they don't influence the size of a parent's bounding box? For example, the `SelectionObj` can be attached to a model.", "markup": "markdown", "html": "<p>Maybe it's so they don't influence the size of a parent's bounding box? For example, the <code>SelectionObj</code> can be attached to a model.</p>", "type": "rendered"}, "created_on": "2016-07-14T00:11:33.500012+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2016-07-14T00:11:33.503566+00:00", "type": "pullrequest_comment", "id": 20988138}, "pull_request": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354/comments/20988035.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354/_/diff#comment-20988035"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}, "content": {"raw": "oh interesting, don't remember why we don't calculate bounding box for [gui visuals](#!/osrf/gazebo/src/3c7d576043437685727f44c53377347b6232e74a/gazebo/rendering/Visual.cc?at=inertia_vis_part1&fileviewer=file-view-default#Visual.cc-1975)", "markup": "markdown", "html": "<p>oh interesting, don't remember why we don't calculate bounding box for <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/3c7d576043437685727f44c53377347b6232e74a/gazebo/rendering/Visual.cc?at=inertia_vis_part1&amp;fileviewer=file-view-default#Visual.cc-1975\" rel=\"nofollow\">gui visuals</a></p>", "type": "rendered"}, "created_on": "2016-07-14T00:06:27.067732+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {}, "updated_on": "2016-07-14T00:06:27.073858+00:00", "type": "pullrequest_comment", "id": 20988035}, "pull_request": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}}, {"update": {"description": "The `InertiaVisual` class currently doesn't account for off-axis terms in inertia matrices. To demonstrate this, I've created `inertia_rotations.world`, which has 7 boxes of equivalent mass and world-frame moment of inertia matrix, though with different inertial frame rotations. Some of the inertial frame rotations are 90 degrees, so inertia values are swapped (for example `ixx` <=> `iyy`), while others have 45 degree rotations, so that there are non-zero off-diagonal terms. Here is a screenshot of the inertia visualization with gazebo 7.2.0. The 90-degree rotations are displayed properly, but the models with off-diagonal inertia values are shown incorrectly.\r\n\r\n![Screen Shot 2016-06-21 at 10.17.51 AM.png](https://bitbucket.org/repo/jgXqbo/images/629613221-Screen%20Shot%202016-06-21%20at%2010.17.51%20AM.png)\r\n\r\nThe recent addition of the `MassMatrix3` class to `ignition-math2` make it straight-forward to account for the off-diagonal terms. This PR does the following:\r\n\r\n* adds test world\r\n* Require ignition-math2 2.4.0\r\n* add helper functions for converting between `msgs::Inertial` and ignition math objects\r\n* fixes `InertiaVisual` to account for off-diagonal inertia terms (see screenshot below)\r\n\r\n![Screen Shot 2016-06-21 at 10.30.57 AM.png](https://bitbucket.org/repo/jgXqbo/images/3233525410-Screen%20Shot%202016-06-21%20at%2010.30.57%20AM.png)\r\n\r\n`InertiaVisual` doesn't have a test, but I will need some guidance on how to write this. Perhaps the test could use this example world?", "title": "Fix InertiaVisual for non-diagonal inertia matrices", "destination": {"commit": {"hash": "6cddfa0ae9d1", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/6cddfa0ae9d1.json"}, "html": {"href": "#!/osrf/gazebo/commits/6cddfa0ae9d1"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "3c7d57604343", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/3c7d57604343.json"}, "html": {"href": "#!/osrf/gazebo/commits/3c7d57604343"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "inertia_vis_part1"}}, "state": "OPEN", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2016-07-13T19:16:54.524765+00:00"}, "pull_request": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}}, {"update": {"description": "The `InertiaVisual` class currently doesn't account for off-axis terms in inertia matrices. To demonstrate this, I've created `inertia_rotations.world`, which has 7 boxes of equivalent mass and world-frame moment of inertia matrix, though with different inertial frame rotations. Some of the inertial frame rotations are 90 degrees, so inertia values are swapped (for example `ixx` <=> `iyy`), while others have 45 degree rotations, so that there are non-zero off-diagonal terms. Here is a screenshot of the inertia visualization with gazebo 7.2.0. The 90-degree rotations are displayed properly, but the models with off-diagonal inertia values are shown incorrectly.\r\n\r\n![Screen Shot 2016-06-21 at 10.17.51 AM.png](https://bitbucket.org/repo/jgXqbo/images/629613221-Screen%20Shot%202016-06-21%20at%2010.17.51%20AM.png)\r\n\r\nThe recent addition of the `MassMatrix3` class to `ignition-math2` make it straight-forward to account for the off-diagonal terms. This PR does the following:\r\n\r\n* adds test world\r\n* Require ignition-math2 2.4.0\r\n* add helper functions for converting between `msgs::Inertial` and ignition math objects\r\n* fixes `InertiaVisual` to account for off-diagonal inertia terms (see screenshot below)\r\n\r\n![Screen Shot 2016-06-21 at 10.30.57 AM.png](https://bitbucket.org/repo/jgXqbo/images/3233525410-Screen%20Shot%202016-06-21%20at%2010.30.57%20AM.png)\r\n\r\n`InertiaVisual` doesn't have a test, but I will need some guidance on how to write this. Perhaps the test could use this example world?", "title": "Fix InertiaVisual for non-diagonal inertia matrices", "destination": {"commit": {"hash": "391037aa87d4", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/391037aa87d4.json"}, "html": {"href": "#!/osrf/gazebo/commits/391037aa87d4"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "381e4d57c3be", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/381e4d57c3be.json"}, "html": {"href": "#!/osrf/gazebo/commits/381e4d57c3be"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "inertia_vis_part1"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2016-07-13T17:33:02.313600+00:00"}, "pull_request": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}}, {"update": {"description": "The `InertiaVisual` class currently doesn't account for off-axis terms in inertia matrices. To demonstrate this, I've created `inertia_rotations.world`, which has 7 boxes of equivalent mass and world-frame moment of inertia matrix, though with different inertial frame rotations. Some of the inertial frame rotations are 90 degrees, so inertia values are swapped (for example `ixx` <=> `iyy`), while others have 45 degree rotations, so that there are non-zero off-diagonal terms. Here is a screenshot of the inertia visualization with gazebo 7.2.0. The 90-degree rotations are displayed properly, but the models with off-diagonal inertia values are shown incorrectly.\r\n\r\n![Screen Shot 2016-06-21 at 10.17.51 AM.png](https://bitbucket.org/repo/jgXqbo/images/629613221-Screen%20Shot%202016-06-21%20at%2010.17.51%20AM.png)\r\n\r\nThe recent addition of the `MassMatrix3` class to `ignition-math2` make it straight-forward to account for the off-diagonal terms. This PR does the following:\r\n\r\n* adds test world\r\n* Require ignition-math2 2.4.0\r\n* add helper functions for converting between `msgs::Inertial` and ignition math objects\r\n* fixes `InertiaVisual` to account for off-diagonal inertia terms (see screenshot below)\r\n\r\n![Screen Shot 2016-06-21 at 10.30.57 AM.png](https://bitbucket.org/repo/jgXqbo/images/3233525410-Screen%20Shot%202016-06-21%20at%2010.30.57%20AM.png)\r\n\r\n`InertiaVisual` doesn't have a test, but I will need some guidance on how to write this. Perhaps the test could use this example world?", "title": "Fix InertiaVisual for non-diagonal inertia matrices", "destination": {"commit": {"hash": "391037aa87d4", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/391037aa87d4.json"}, "html": {"href": "#!/osrf/gazebo/commits/391037aa87d4"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "381e4d57c3be", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/381e4d57c3be.json"}, "html": {"href": "#!/osrf/gazebo/commits/381e4d57c3be"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "inertia_vis_part1"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2016-07-13T17:32:54.020133+00:00"}, "pull_request": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}}, {"update": {"description": "The `InertiaVisual` class currently doesn't account for off-axis terms in inertia matrices. To demonstrate this, I've created `inertia_rotations.world`, which has 7 boxes of equivalent mass and world-frame moment of inertia matrix, though with different inertial frame rotations. Some of the inertial frame rotations are 90 degrees, so inertia values are swapped (for example `ixx` <=> `iyy`), while others have 45 degree rotations, so that there are non-zero off-diagonal terms. Here is a screenshot of the inertia visualization with gazebo 7.2.0. The 90-degree rotations are displayed properly, but the models with off-diagonal inertia values are shown incorrectly.\r\n\r\n![Screen Shot 2016-06-21 at 10.17.51 AM.png](https://bitbucket.org/repo/jgXqbo/images/629613221-Screen%20Shot%202016-06-21%20at%2010.17.51%20AM.png)\r\n\r\nThe recent addition of the `MassMatrix3` class to `ignition-math2` make it straight-forward to account for the off-diagonal terms. This PR does the following:\r\n\r\n* adds test world\r\n* Require ignition-math2 2.4.0\r\n* add helper functions for converting between `msgs::Inertial` and ignition math objects\r\n* fixes `InertiaVisual` to account for off-diagonal inertia terms (see screenshot below)\r\n\r\n![Screen Shot 2016-06-21 at 10.30.57 AM.png](https://bitbucket.org/repo/jgXqbo/images/3233525410-Screen%20Shot%202016-06-21%20at%2010.30.57%20AM.png)\r\n\r\n`InertiaVisual` doesn't have a test, but I will need some guidance on how to write this. Perhaps the test could use this example world?", "title": "Fix InertiaVisual for non-diagonal inertia matrices", "destination": {"commit": {"hash": "391037aa87d4", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/391037aa87d4.json"}, "html": {"href": "#!/osrf/gazebo/commits/391037aa87d4"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "33238ed0027a", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/33238ed0027a.json"}, "html": {"href": "#!/osrf/gazebo/commits/33238ed0027a"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "inertia_vis_part1"}}, "state": "OPEN", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2016-07-13T17:29:03.200860+00:00"}, "pull_request": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}}, {"update": {"description": "The `InertiaVisual` class currently doesn't account for off-axis terms in inertia matrices. To demonstrate this, I've created `inertia_rotations.world`, which has 7 boxes of equivalent mass and world-frame moment of inertia matrix, though with different inertial frame rotations. Some of the inertial frame rotations are 90 degrees, so inertia values are swapped (for example `ixx` <=> `iyy`), while others have 45 degree rotations, so that there are non-zero off-diagonal terms. Here is a screenshot of the inertia visualization with gazebo 7.2.0. The 90-degree rotations are displayed properly, but the models with off-diagonal inertia values are shown incorrectly.\r\n\r\n![Screen Shot 2016-06-21 at 10.17.51 AM.png](https://bitbucket.org/repo/jgXqbo/images/629613221-Screen%20Shot%202016-06-21%20at%2010.17.51%20AM.png)\r\n\r\nThe recent addition of the `MassMatrix3` class to `ignition-math2` make it straight-forward to account for the off-diagonal terms. This PR does the following:\r\n\r\n* adds test world\r\n* Require ignition-math2 2.4.0\r\n* add helper functions for converting between `msgs::Inertial` and ignition math objects\r\n* fixes `InertiaVisual` to account for off-diagonal inertia terms (see screenshot below)\r\n\r\n![Screen Shot 2016-06-21 at 10.30.57 AM.png](https://bitbucket.org/repo/jgXqbo/images/3233525410-Screen%20Shot%202016-06-21%20at%2010.30.57%20AM.png)\r\n\r\n`InertiaVisual` doesn't have a test, but I will need some guidance on how to write this. Perhaps the test could use this example world?", "title": "Fix InertiaVisual for non-diagonal inertia matrices", "destination": {"commit": {"hash": "391037aa87d4", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/391037aa87d4.json"}, "html": {"href": "#!/osrf/gazebo/commits/391037aa87d4"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "9786ba5ebfd3", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/9786ba5ebfd3.json"}, "html": {"href": "#!/osrf/gazebo/commits/9786ba5ebfd3"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "inertia_vis_part1"}}, "state": "OPEN", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2016-07-13T17:27:12.537233+00:00"}, "pull_request": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}}, {"update": {"description": "The `InertiaVisual` class currently doesn't account for off-axis terms in inertia matrices. To demonstrate this, I've created `inertia_rotations.world`, which has 7 boxes of equivalent mass and world-frame moment of inertia matrix, though with different inertial frame rotations. Some of the inertial frame rotations are 90 degrees, so inertia values are swapped (for example `ixx` <=> `iyy`), while others have 45 degree rotations, so that there are non-zero off-diagonal terms. Here is a screenshot of the inertia visualization with gazebo 7.2.0. The 90-degree rotations are displayed properly, but the models with off-diagonal inertia values are shown incorrectly.\r\n\r\n![Screen Shot 2016-06-21 at 10.17.51 AM.png](https://bitbucket.org/repo/jgXqbo/images/629613221-Screen%20Shot%202016-06-21%20at%2010.17.51%20AM.png)\r\n\r\nThe recent addition of the `MassMatrix3` class to `ignition-math2` make it straight-forward to account for the off-diagonal terms. This PR does the following:\r\n\r\n* adds test world\r\n* Require ignition-math2 2.4.0\r\n* add helper functions for converting between `msgs::Inertial` and ignition math objects\r\n* fixes `InertiaVisual` to account for off-diagonal inertia terms (see screenshot below)\r\n\r\n![Screen Shot 2016-06-21 at 10.30.57 AM.png](https://bitbucket.org/repo/jgXqbo/images/3233525410-Screen%20Shot%202016-06-21%20at%2010.30.57%20AM.png)\r\n\r\n`InertiaVisual` doesn't have a test, but I will need some guidance on how to write this. Perhaps the test could use this example world?", "title": "Fix InertiaVisual for non-diagonal inertia matrices", "destination": {"commit": {"hash": "5b8556c82a36", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/5b8556c82a36.json"}, "html": {"href": "#!/osrf/gazebo/commits/5b8556c82a36"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "d43798f7737f", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/d43798f7737f.json"}, "html": {"href": "#!/osrf/gazebo/commits/d43798f7737f"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "inertia_vis_part1"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2016-07-08T17:43:53.014256+00:00"}, "pull_request": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}}, {"approval": {"date": "2016-07-07T15:31:38.655397+00:00", "pullrequest": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}, "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}}, "pull_request": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354/comments/20534513.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354/_/diff#comment-20534513"}}, "parent": {"id": 20528140, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354/comments/20528140.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354/_/diff#comment-20528140"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}, "content": {"raw": "the tests passes in both\n\n* [homebrew](http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/549/testReport/(root)/InertiaVisual_TEST/)\n* [trusty nvidia](http://build.osrfoundation.org/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/513/testReport/(root)/InertiaVisual_TEST/)\n\nthere are no unusual test failures either in those builds", "markup": "markdown", "html": "<p>the tests passes in both</p>\n<ul>\n<li><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/549/testReport/(root)/InertiaVisual_TEST/\" rel=\"nofollow\">homebrew</a></li>\n<li><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/513/testReport/(root)/InertiaVisual_TEST/\" rel=\"nofollow\">trusty nvidia</a></li>\n</ul>\n<p>there are no unusual test failures either in those builds</p>", "type": "rendered"}, "created_on": "2016-07-03T07:47:08.062701+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2016-07-03T07:47:08.067500+00:00", "type": "pullrequest_comment", "id": 20534513}, "pull_request": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354/comments/20534500.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354/_/diff#comment-20534500"}}, "parent": {"id": 20528140, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354/comments/20528140.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354/_/diff#comment-20528140"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}, "content": {"raw": "[confirmed failing test](http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/548/testReport/junit/(root)/InertiaVisual_TEST/InertiaRotation/) in `inertia_vis_test` branch", "markup": "markdown", "html": "<p><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/548/testReport/junit/(root)/InertiaVisual_TEST/InertiaRotation/\" rel=\"nofollow\">confirmed failing test</a> in <code>inertia_vis_test</code> branch</p>", "type": "rendered"}, "created_on": "2016-07-03T07:45:32.629685+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2016-07-03T07:45:32.631536+00:00", "type": "pullrequest_comment", "id": 20534500}, "pull_request": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354/comments/20528140.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354/_/diff#comment-20528140"}}, "parent": {"id": 20418552, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354/comments/20418552.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354/_/diff#comment-20418552"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}, "content": {"raw": "ok, I back-ported @iche033 's test from pull request #2331 to branch `inertia_vis_test` and added a failing test to check the visual bounding box in d22fbce. I've queued a jenkins job for that branch to confirm the failing test.\n\nI'll follow up with jenkins jobs to confirm that the test passes on this branch.", "markup": "markdown", "html": "<p>ok, I back-ported @iche033 's test from <a href=\"#!/osrf/gazebo/pull-requests/2331/refactor-visual-classes\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #2331</a> to branch <code>inertia_vis_test</code> and added a failing test to check the visual bounding box in <a href=\"#!/osrf/gazebo/commits/d22fbce\" rel=\"nofollow\" class=\"ap-connect-link\">d22fbce</a>. I've queued a jenkins job for that branch to confirm the failing test.</p>\n<p>I'll follow up with jenkins jobs to confirm that the test passes on this branch.</p>", "type": "rendered"}, "created_on": "2016-07-01T23:55:43.242849+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2016-07-01T23:55:43.250352+00:00", "type": "pullrequest_comment", "id": 20528140}, "pull_request": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}}, {"update": {"description": "The `InertiaVisual` class currently doesn't account for off-axis terms in inertia matrices. To demonstrate this, I've created `inertia_rotations.world`, which has 7 boxes of equivalent mass and world-frame moment of inertia matrix, though with different inertial frame rotations. Some of the inertial frame rotations are 90 degrees, so inertia values are swapped (for example `ixx` <=> `iyy`), while others have 45 degree rotations, so that there are non-zero off-diagonal terms. Here is a screenshot of the inertia visualization with gazebo 7.2.0. The 90-degree rotations are displayed properly, but the models with off-diagonal inertia values are shown incorrectly.\r\n\r\n![Screen Shot 2016-06-21 at 10.17.51 AM.png](https://bitbucket.org/repo/jgXqbo/images/629613221-Screen%20Shot%202016-06-21%20at%2010.17.51%20AM.png)\r\n\r\nThe recent addition of the `MassMatrix3` class to `ignition-math2` make it straight-forward to account for the off-diagonal terms. This PR does the following:\r\n\r\n* adds test world\r\n* Require ignition-math2 2.4.0\r\n* add helper functions for converting between `msgs::Inertial` and ignition math objects\r\n* fixes `InertiaVisual` to account for off-diagonal inertia terms (see screenshot below)\r\n\r\n![Screen Shot 2016-06-21 at 10.30.57 AM.png](https://bitbucket.org/repo/jgXqbo/images/3233525410-Screen%20Shot%202016-06-21%20at%2010.30.57%20AM.png)\r\n\r\n`InertiaVisual` doesn't have a test, but I will need some guidance on how to write this. Perhaps the test could use this example world?", "title": "Fix InertiaVisual for non-diagonal inertia matrices", "destination": {"commit": {"hash": "c80e20f7ffd3", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/c80e20f7ffd3.json"}, "html": {"href": "#!/osrf/gazebo/commits/c80e20f7ffd3"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "fa134ff90f6b", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/fa134ff90f6b.json"}, "html": {"href": "#!/osrf/gazebo/commits/fa134ff90f6b"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "inertia_vis_part1"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2016-07-01T23:53:11.120561+00:00"}, "pull_request": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}}, {"update": {"description": "The `InertiaVisual` class currently doesn't account for off-axis terms in inertia matrices. To demonstrate this, I've created `inertia_rotations.world`, which has 7 boxes of equivalent mass and world-frame moment of inertia matrix, though with different inertial frame rotations. Some of the inertial frame rotations are 90 degrees, so inertia values are swapped (for example `ixx` <=> `iyy`), while others have 45 degree rotations, so that there are non-zero off-diagonal terms. Here is a screenshot of the inertia visualization with gazebo 7.2.0. The 90-degree rotations are displayed properly, but the models with off-diagonal inertia values are shown incorrectly.\r\n\r\n![Screen Shot 2016-06-21 at 10.17.51 AM.png](https://bitbucket.org/repo/jgXqbo/images/629613221-Screen%20Shot%202016-06-21%20at%2010.17.51%20AM.png)\r\n\r\nThe recent addition of the `MassMatrix3` class to `ignition-math2` make it straight-forward to account for the off-diagonal terms. This PR does the following:\r\n\r\n* adds test world\r\n* Require ignition-math2 2.4.0\r\n* add helper functions for converting between `msgs::Inertial` and ignition math objects\r\n* fixes `InertiaVisual` to account for off-diagonal inertia terms (see screenshot below)\r\n\r\n![Screen Shot 2016-06-21 at 10.30.57 AM.png](https://bitbucket.org/repo/jgXqbo/images/3233525410-Screen%20Shot%202016-06-21%20at%2010.30.57%20AM.png)\r\n\r\n`InertiaVisual` doesn't have a test, but I will need some guidance on how to write this. Perhaps the test could use this example world?", "title": "Fix InertiaVisual for non-diagonal inertia matrices", "destination": {"commit": {"hash": "c80e20f7ffd3", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/c80e20f7ffd3.json"}, "html": {"href": "#!/osrf/gazebo/commits/c80e20f7ffd3"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "a8ad553065db", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/a8ad553065db.json"}, "html": {"href": "#!/osrf/gazebo/commits/a8ad553065db"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "inertia_vis_part1"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2016-07-01T23:50:56.484514+00:00"}, "pull_request": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}}, {"update": {"description": "The `InertiaVisual` class currently doesn't account for off-axis terms in inertia matrices. To demonstrate this, I've created `inertia_rotations.world`, which has 7 boxes of equivalent mass and world-frame moment of inertia matrix, though with different inertial frame rotations. Some of the inertial frame rotations are 90 degrees, so inertia values are swapped (for example `ixx` <=> `iyy`), while others have 45 degree rotations, so that there are non-zero off-diagonal terms. Here is a screenshot of the inertia visualization with gazebo 7.2.0. The 90-degree rotations are displayed properly, but the models with off-diagonal inertia values are shown incorrectly.\r\n\r\n![Screen Shot 2016-06-21 at 10.17.51 AM.png](https://bitbucket.org/repo/jgXqbo/images/629613221-Screen%20Shot%202016-06-21%20at%2010.17.51%20AM.png)\r\n\r\nThe recent addition of the `MassMatrix3` class to `ignition-math2` make it straight-forward to account for the off-diagonal terms. This PR does the following:\r\n\r\n* adds test world\r\n* Require ignition-math2 2.4.0\r\n* add helper functions for converting between `msgs::Inertial` and ignition math objects\r\n* fixes `InertiaVisual` to account for off-diagonal inertia terms (see screenshot below)\r\n\r\n![Screen Shot 2016-06-21 at 10.30.57 AM.png](https://bitbucket.org/repo/jgXqbo/images/3233525410-Screen%20Shot%202016-06-21%20at%2010.30.57%20AM.png)\r\n\r\n`InertiaVisual` doesn't have a test, but I will need some guidance on how to write this. Perhaps the test could use this example world?", "title": "Fix InertiaVisual for non-diagonal inertia matrices", "destination": {"commit": {"hash": "c80e20f7ffd3", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/c80e20f7ffd3.json"}, "html": {"href": "#!/osrf/gazebo/commits/c80e20f7ffd3"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "9702cf3dda11", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/9702cf3dda11.json"}, "html": {"href": "#!/osrf/gazebo/commits/9702cf3dda11"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "inertia_vis_part1"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2016-07-01T22:21:22.913076+00:00"}, "pull_request": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354/comments/20422959.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354/_/diff#comment-20422959"}}, "parent": {"id": 20422546, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354/comments/20422546.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354/_/diff#comment-20422546"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}, "content": {"raw": "Let's leave it as `Convert`. Otherwise we would eventually go through a deprecation cycle.", "markup": "markdown", "html": "<p>Let's leave it as <code>Convert</code>. Otherwise we would eventually go through a deprecation cycle.</p>", "type": "rendered"}, "created_on": "2016-06-29T22:56:34.695837+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "inline": {}, "updated_on": "2016-06-29T22:56:34.697800+00:00", "type": "pullrequest_comment", "id": 20422959}, "pull_request": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354/comments/20422629.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354/_/diff#comment-20422629"}}, "parent": {"id": 20422503, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354/comments/20422503.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354/_/diff#comment-20422503"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}, "content": {"raw": "Yup yup, sounds good", "markup": "markdown", "html": "<p>Yup yup, sounds good</p>", "type": "rendered"}, "created_on": "2016-06-29T22:41:27.702509+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2016-06-29T22:41:27.705731+00:00", "type": "pullrequest_comment", "id": 20422629}, "pull_request": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354/comments/20422546.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354/_/diff#comment-20422546"}}, "parent": {"id": 20417708, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354/comments/20417708.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354/_/diff#comment-20417708"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}, "content": {"raw": "what do you think @nkoenig ?", "markup": "markdown", "html": "<p>what do you think @nkoenig ?</p>", "type": "rendered"}, "created_on": "2016-06-29T22:37:47.193357+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2016-06-29T22:37:47.199509+00:00", "type": "pullrequest_comment", "id": 20422546}, "pull_request": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354/comments/20422503.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354/_/diff#comment-20422503"}}, "parent": {"id": 20417976, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354/comments/20417976.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354/_/diff#comment-20417976"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}, "content": {"raw": "Do you mind if we save that for a different pull request? It will be a nice step into the future", "markup": "markdown", "html": "<p>Do you mind if we save that for a different pull request? It will be a nice step into the future</p>", "type": "rendered"}, "created_on": "2016-06-29T22:36:03.438874+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2016-06-29T22:36:03.445104+00:00", "type": "pullrequest_comment", "id": 20422503}, "pull_request": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354/comments/20418552.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354/_/diff#comment-20418552"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}, "content": {"raw": "Note that a unit test for `InertiaVisual` is being added in pull request #2331.\n\nAnother idea for a test would be to load the test world and check the InertiaVisual's bounding box (`Visual::GetBoundingBox`), and/or the geometry size (`Visual::GetGeometrySize`).", "markup": "markdown", "html": "<p>Note that a unit test for <code>InertiaVisual</code> is being added in <a href=\"#!/osrf/gazebo/pull-requests/2331/refactor-visual-classes\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #2331</a>.</p>\n<p>Another idea for a test would be to load the test world and check the InertiaVisual's bounding box (<code>Visual::GetBoundingBox</code>), and/or the geometry size (<code>Visual::GetGeometrySize</code>).</p>", "type": "rendered"}, "created_on": "2016-06-29T20:50:14.431006+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2016-06-29T20:50:14.433228+00:00", "type": "pullrequest_comment", "id": 20418552}, "pull_request": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354/comments/20417976.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354/_/diff#comment-20417976"}}, "parent": {"id": 20417766, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354/comments/20417766.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354/_/diff#comment-20417766"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}, "content": {"raw": "Actually, in the whole `msgs` directory, gazebo math only is used a couple times in `msgs.cc`:\n\n~~~\ngazebo/msgs/msgs.cc:1760:              distElem->Get<math::Vector2d>(\"center\").x);\ngazebo/msgs/msgs.cc:1762:              distElem->Get<math::Vector2d>(\"center\").y);\n~~~\n\nAnd extensively in `msgs_TEST.cc`. It looks like we're close to removing gazebo math from the linking list of gazebo msgs :)\n", "markup": "markdown", "html": "<p>Actually, in the whole <code>msgs</code> directory, gazebo math only is used a couple times in <code>msgs.cc</code>:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">gazebo</span><span class=\"o\">/</span><span class=\"nt\">msgs</span><span class=\"o\">/</span><span class=\"nt\">msgs</span><span class=\"p\">.</span><span class=\"nc\">cc</span><span class=\"p\">:</span><span class=\"nd\">1760</span><span class=\"o\">:</span>              <span class=\"nt\">distElem-</span><span class=\"o\">&gt;</span><span class=\"nt\">Get</span><span class=\"o\">&lt;</span><span class=\"nt\">math</span><span class=\"p\">::</span><span class=\"nd\">Vector2d</span><span class=\"o\">&gt;(</span><span class=\"s2\">&quot;center&quot;</span><span class=\"o\">)</span><span class=\"p\">.</span><span class=\"nc\">x</span><span class=\"o\">);</span>\n<span class=\"nt\">gazebo</span><span class=\"o\">/</span><span class=\"nt\">msgs</span><span class=\"o\">/</span><span class=\"nt\">msgs</span><span class=\"p\">.</span><span class=\"nc\">cc</span><span class=\"p\">:</span><span class=\"nd\">1762</span><span class=\"o\">:</span>              <span class=\"nt\">distElem-</span><span class=\"o\">&gt;</span><span class=\"nt\">Get</span><span class=\"o\">&lt;</span><span class=\"nt\">math</span><span class=\"p\">::</span><span class=\"nd\">Vector2d</span><span class=\"o\">&gt;(</span><span class=\"s2\">&quot;center&quot;</span><span class=\"o\">)</span><span class=\"p\">.</span><span class=\"nc\">y</span><span class=\"o\">);</span>\n</pre></div>\n\n\n<p>And extensively in <code>msgs_TEST.cc</code>. It looks like we're close to removing gazebo math from the linking list of gazebo msgs :)</p>", "type": "rendered"}, "created_on": "2016-06-29T20:38:23.944059+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2016-06-29T20:38:23.950575+00:00", "type": "pullrequest_comment", "id": 20417976}, "pull_request": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354/comments/20417766.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354/_/diff#comment-20417766"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}, "content": {"raw": "I think we can remove all the gazebo math includes.", "markup": "markdown", "html": "<p>I think we can remove all the gazebo math includes.</p>", "type": "rendered"}, "created_on": "2016-06-29T20:33:35.396898+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2016-06-29T20:33:35.402419+00:00", "type": "pullrequest_comment", "id": 20417766}, "pull_request": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354/comments/20417708.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354/_/diff#comment-20417708"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}, "content": {"raw": "Just a note that the other convert functions which return ign-math are called `ConvertIgn`. That was done not to conflict with the old gazebo math functions, which is not a problem here, but it might be good to be consistent.", "markup": "markdown", "html": "<p>Just a note that the other convert functions which return ign-math are called <code>ConvertIgn</code>. That was done not to conflict with the old gazebo math functions, which is not a problem here, but it might be good to be consistent.</p>", "type": "rendered"}, "created_on": "2016-06-29T20:32:02.377912+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2016-06-29T20:32:02.384140+00:00", "type": "pullrequest_comment", "id": 20417708}, "pull_request": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}}, {"update": {"description": "The `InertiaVisual` class currently doesn't account for off-axis terms in inertia matrices. To demonstrate this, I've created `inertia_rotations.world`, which has 7 boxes of equivalent mass and world-frame moment of inertia matrix, though with different inertial frame rotations. Some of the inertial frame rotations are 90 degrees, so inertia values are swapped (for example `ixx` <=> `iyy`), while others have 45 degree rotations, so that there are non-zero off-diagonal terms. Here is a screenshot of the inertia visualization with gazebo 7.2.0. The 90-degree rotations are displayed properly, but the models with off-diagonal inertia values are shown incorrectly.\r\n\r\n![Screen Shot 2016-06-21 at 10.17.51 AM.png](https://bitbucket.org/repo/jgXqbo/images/629613221-Screen%20Shot%202016-06-21%20at%2010.17.51%20AM.png)\r\n\r\nThe recent addition of the `MassMatrix3` class to `ignition-math2` make it straight-forward to account for the off-diagonal terms. This PR does the following:\r\n\r\n* adds test world\r\n* Require ignition-math2 2.4.0\r\n* add helper functions for converting between `msgs::Inertial` and ignition math objects\r\n* fixes `InertiaVisual` to account for off-diagonal inertia terms (see screenshot below)\r\n\r\n![Screen Shot 2016-06-21 at 10.30.57 AM.png](https://bitbucket.org/repo/jgXqbo/images/3233525410-Screen%20Shot%202016-06-21%20at%2010.30.57%20AM.png)\r\n\r\n`InertiaVisual` doesn't have a test, but I will need some guidance on how to write this. Perhaps the test could use this example world?", "title": "Fix InertiaVisual for non-diagonal inertia matrices", "destination": {"commit": {"hash": "6311515d15f6", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/6311515d15f6.json"}, "html": {"href": "#!/osrf/gazebo/commits/6311515d15f6"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "82ddcd6034ba", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/82ddcd6034ba.json"}, "html": {"href": "#!/osrf/gazebo/commits/82ddcd6034ba"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "inertia_vis_part1"}}, "state": "OPEN", "author": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "date": "2016-06-29T18:44:08.885684+00:00"}, "pull_request": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}}, {"update": {"description": "The `InertiaVisual` class currently doesn't account for off-axis terms in inertia matrices. To demonstrate this, I've created `inertia_rotations.world`, which has 7 boxes of equivalent mass and world-frame moment of inertia matrix, though with different inertial frame rotations. Some of the inertial frame rotations are 90 degrees, so inertia values are swapped (for example `ixx` <=> `iyy`), while others have 45 degree rotations, so that there are non-zero off-diagonal terms. Here is a screenshot of the inertia visualization with gazebo 7.2.0. The 90-degree rotations are displayed properly, but the models with off-diagonal inertia values are shown incorrectly.\r\n\r\n![Screen Shot 2016-06-21 at 10.17.51 AM.png](https://bitbucket.org/repo/jgXqbo/images/629613221-Screen%20Shot%202016-06-21%20at%2010.17.51%20AM.png)\r\n\r\nThe recent addition of the `MassMatrix3` class to `ignition-math2` make it straight-forward to account for the off-diagonal terms. This PR does the following:\r\n\r\n* adds test world\r\n* Require ignition-math2 2.4.0\r\n* add helper functions for converting between `msgs::Inertial` and ignition math objects\r\n* fixes `InertiaVisual` to account for off-diagonal inertia terms (see screenshot below)\r\n\r\n![Screen Shot 2016-06-21 at 10.30.57 AM.png](https://bitbucket.org/repo/jgXqbo/images/3233525410-Screen%20Shot%202016-06-21%20at%2010.30.57%20AM.png)\r\n\r\n`InertiaVisual` doesn't have a test, but I will need some guidance on how to write this. Perhaps the test could use this example world?", "title": "Fix InertiaVisual for non-diagonal inertia matrices", "destination": {"commit": {"hash": "6311515d15f6", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/6311515d15f6.json"}, "html": {"href": "#!/osrf/gazebo/commits/6311515d15f6"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "82ddcd6034ba", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/82ddcd6034ba.json"}, "html": {"href": "#!/osrf/gazebo/commits/82ddcd6034ba"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "inertia_vis_part1"}}, "state": "OPEN", "author": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "date": "2016-06-29T18:44:05.266343+00:00"}, "pull_request": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354/comments/20412738.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354/_/diff#comment-20412738"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}, "content": {"raw": "An `InertiaVisual` test option:\n\n1. Modify your example world to be all white.\n1. Render the scene with inertia visuals and capture the image from the user camera.\n1. Check columns of pixels that should be white, but would be purple without your change.", "markup": "markdown", "html": "<p>An <code>InertiaVisual</code> test option:</p>\n<ol>\n<li>Modify your example world to be all white.</li>\n<li>Render the scene with inertia visuals and capture the image from the user camera.</li>\n<li>Check columns of pixels that should be white, but would be purple without your change.</li>\n</ol>", "type": "rendered"}, "created_on": "2016-06-29T18:41:32.135913+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2016-06-29T18:41:32.142979+00:00", "type": "pullrequest_comment", "id": 20412738}, "pull_request": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354/comments/20050941.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354/_/diff#comment-20050941"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}, "content": {"raw": "* [homebrew build](http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/497/) has one unrelated test failure", "markup": "markdown", "html": "<ul>\n<li><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/497/\" rel=\"nofollow\">homebrew build</a> has one unrelated test failure</li>\n</ul>", "type": "rendered"}, "created_on": "2016-06-21T20:52:21.769980+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2016-06-21T20:52:21.776390+00:00", "type": "pullrequest_comment", "id": 20050941}, "pull_request": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}}, {"update": {"description": "The `InertiaVisual` class currently doesn't account for off-axis terms in inertia matrices. To demonstrate this, I've created `inertia_rotations.world`, which has 7 boxes of equivalent mass and world-frame moment of inertia matrix, though with different inertial frame rotations. Some of the inertial frame rotations are 90 degrees, so inertia values are swapped (for example `ixx` <=> `iyy`), while others have 45 degree rotations, so that there are non-zero off-diagonal terms. Here is a screenshot of the inertia visualization with gazebo 7.2.0. The 90-degree rotations are displayed properly, but the models with off-diagonal inertia values are shown incorrectly.\r\n\r\n![Screen Shot 2016-06-21 at 10.17.51 AM.png](https://bitbucket.org/repo/jgXqbo/images/629613221-Screen%20Shot%202016-06-21%20at%2010.17.51%20AM.png)\r\n\r\nThe recent addition of the `MassMatrix3` class to `ignition-math2` make it straight-forward to account for the off-diagonal terms. This PR does the following:\r\n\r\n* adds test world\r\n* Require ignition-math2 2.4.0\r\n* add helper functions for converting between `msgs::Inertial` and ignition math objects\r\n* fixes `InertiaVisual` to account for off-diagonal inertia terms (see screenshot below)\r\n\r\n![Screen Shot 2016-06-21 at 10.30.57 AM.png](https://bitbucket.org/repo/jgXqbo/images/3233525410-Screen%20Shot%202016-06-21%20at%2010.30.57%20AM.png)\r\n\r\n`InertiaVisual` doesn't have a test, but I will need some guidance on how to write this. Perhaps the test could use this example world?", "title": "Fix InertiaVisual for non-diagonal inertia matrices", "destination": {"commit": {"hash": "cb7ff9b80582", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/cb7ff9b80582.json"}, "html": {"href": "#!/osrf/gazebo/commits/cb7ff9b80582"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "fe67f7e6efff", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/fe67f7e6efff.json"}, "html": {"href": "#!/osrf/gazebo/commits/fe67f7e6efff"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "inertia_vis_part1"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2016-06-21T17:32:35.166955+00:00"}, "pull_request": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}}, {"update": {"description": "The `InertiaVisual` class currently doesn't account for off-axis terms in inertia matrices. To demonstrate this, I've created `inertia_rotations.world`, which has 7 boxes of equivalent mass and world-frame moment of inertia matrix, though with different inertial frame rotations. Some of the inertial frame rotations are 90 degrees, so inertia values are swapped (for example `ixx` <=> `iyy`), while others have 45 degree rotations, so that there are non-zero off-diagonal terms. Here is a screenshot of the inertia visualization with gazebo 7.2.0. The 90-degree rotations are displayed properly, but the models with off-diagonal inertia values are shown incorrectly.\r\n\r\n![Screen Shot 2016-06-21 at 10.17.51 AM.png](https://bitbucket.org/repo/jgXqbo/images/629613221-Screen%20Shot%202016-06-21%20at%2010.17.51%20AM.png)\r\n\r\nThe recent addition of the `MassMatrix3` class to `ignition-math2` make it straight-forward to account for the off-diagonal terms. This PR does the following:\r\n\r\n* adds test world\r\n* Require ignition-math2 2.4.0\r\n* add helper functions for converting between `msgs::Inertial` and ignition math objects\r\n* fixes `InertiaVisual` to account for off-diagonal inertia terms (see screenshot below)\r\n\r\n![Screen Shot 2016-06-21 at 10.30.57 AM.png](https://bitbucket.org/repo/jgXqbo/images/3233525410-Screen%20Shot%202016-06-21%20at%2010.30.57%20AM.png)\r\n\r\n`InertiaVisual` doesn't have a test, but I will need some guidance on how to write this. Perhaps the test could use this example world?", "title": "Fix InertiaVisual for non-diagonal inertia matrices", "destination": {"commit": {"hash": "cb7ff9b80582", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/cb7ff9b80582.json"}, "html": {"href": "#!/osrf/gazebo/commits/cb7ff9b80582"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "fe67f7e6efff", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/fe67f7e6efff.json"}, "html": {"href": "#!/osrf/gazebo/commits/fe67f7e6efff"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "inertia_vis_part1"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2016-06-21T17:32:35.115496+00:00"}, "pull_request": {"type": "pullrequest", "id": 2354, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2354.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2354"}}, "title": "Fix InertiaVisual for non-diagonal inertia matrices"}}]}