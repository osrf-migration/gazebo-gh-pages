{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/812/comments/774215.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/812/_/diff#comment-774215"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 812, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/812.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/812"}}, "title": "DEM support"}, "content": {"raw": "I tried to compile without GDAL installed, and `HeightmapShape` class complains that `dem` was not declared. I think the cpp file needs some `#ifdef HAVE_GDAL`.\n\n\n```\n#!c++\n\n/home/ian/depot/clones/gazebo3/gazebo/physics/HeightmapShape.cc: In member function \u2018void gazebo::physics::HeightmapShape::LoadDEMAsTerrain(const string&)\u2019:\n/home/ian/depot/clones/gazebo3/gazebo/physics/HeightmapShape.cc:86:13: error: \u2018class gazebo::physics::HeightmapShape\u2019 has no member named \u2018dem\u2019\n/home/ian/depot/clones/gazebo3/gazebo/physics/HeightmapShape.cc:91:29: error: \u2018dem\u2019 was not declared in this scope\n/home/ian/depot/clones/gazebo3/gazebo/physics/HeightmapShape.cc:101:68: error: \u2018class gazebo::physics::HeightmapShape\u2019 has no member named \u2018dem\u2019\n/home/ian/depot/clones/gazebo3/gazebo/physics/HeightmapShape.cc:113:5: error: \u2018dem\u2019 was not declared in this scope\nmake[2]: *** [gazebo/physics/CMakeFiles/gazebo_physics.dir/HeightmapShape.cc.o] Error 1\nmake[2]: *** Waiting for unfinished jobs....\n```\n", "markup": "markdown", "html": "<p>I tried to compile without GDAL installed, and <code>HeightmapShape</code> class complains that <code>dem</code> was not declared. I think the cpp file needs some <code>#ifdef HAVE_GDAL</code>.</p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">ian</span><span class=\"o\">/</span><span class=\"n\">depot</span><span class=\"o\">/</span><span class=\"n\">clones</span><span class=\"o\">/</span><span class=\"n\">gazebo3</span><span class=\"o\">/</span><span class=\"n\">gazebo</span><span class=\"o\">/</span><span class=\"n\">physics</span><span class=\"o\">/</span><span class=\"n\">HeightmapShape</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span> <span class=\"n\">In</span> <span class=\"n\">member</span> <span class=\"n\">function</span> <span class=\"err\">\u2018</span><span class=\"kt\">void</span> <span class=\"n\">gazebo</span><span class=\"o\">::</span><span class=\"n\">physics</span><span class=\"o\">::</span><span class=\"n\">HeightmapShape</span><span class=\"o\">::</span><span class=\"n\">LoadDEMAsTerrain</span><span class=\"p\">(</span><span class=\"k\">const</span> <span class=\"n\">string</span><span class=\"o\">&amp;</span><span class=\"p\">)</span><span class=\"err\">\u2019</span><span class=\"o\">:</span>\n<span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">ian</span><span class=\"o\">/</span><span class=\"n\">depot</span><span class=\"o\">/</span><span class=\"n\">clones</span><span class=\"o\">/</span><span class=\"n\">gazebo3</span><span class=\"o\">/</span><span class=\"n\">gazebo</span><span class=\"o\">/</span><span class=\"n\">physics</span><span class=\"o\">/</span><span class=\"n\">HeightmapShape</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">86</span><span class=\"o\">:</span><span class=\"mi\">13</span><span class=\"o\">:</span> <span class=\"nl\">error</span><span class=\"p\">:</span> <span class=\"err\">\u2018</span><span class=\"k\">class</span> <span class=\"nc\">gazebo</span><span class=\"o\">::</span><span class=\"n\">physics</span><span class=\"o\">::</span><span class=\"n\">HeightmapShape</span><span class=\"err\">\u2019</span> <span class=\"n\">has</span> <span class=\"n\">no</span> <span class=\"n\">member</span> <span class=\"n\">named</span> <span class=\"err\">\u2018</span><span class=\"n\">dem</span><span class=\"err\">\u2019</span>\n<span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">ian</span><span class=\"o\">/</span><span class=\"n\">depot</span><span class=\"o\">/</span><span class=\"n\">clones</span><span class=\"o\">/</span><span class=\"n\">gazebo3</span><span class=\"o\">/</span><span class=\"n\">gazebo</span><span class=\"o\">/</span><span class=\"n\">physics</span><span class=\"o\">/</span><span class=\"n\">HeightmapShape</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">91</span><span class=\"o\">:</span><span class=\"mi\">29</span><span class=\"o\">:</span> <span class=\"nl\">error</span><span class=\"p\">:</span> <span class=\"err\">\u2018</span><span class=\"n\">dem</span><span class=\"err\">\u2019</span> <span class=\"n\">was</span> <span class=\"n\">not</span> <span class=\"n\">declared</span> <span class=\"n\">in</span> <span class=\"k\">this</span> <span class=\"n\">scope</span>\n<span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">ian</span><span class=\"o\">/</span><span class=\"n\">depot</span><span class=\"o\">/</span><span class=\"n\">clones</span><span class=\"o\">/</span><span class=\"n\">gazebo3</span><span class=\"o\">/</span><span class=\"n\">gazebo</span><span class=\"o\">/</span><span class=\"n\">physics</span><span class=\"o\">/</span><span class=\"n\">HeightmapShape</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">101</span><span class=\"o\">:</span><span class=\"mi\">68</span><span class=\"o\">:</span> <span class=\"nl\">error</span><span class=\"p\">:</span> <span class=\"err\">\u2018</span><span class=\"k\">class</span> <span class=\"nc\">gazebo</span><span class=\"o\">::</span><span class=\"n\">physics</span><span class=\"o\">::</span><span class=\"n\">HeightmapShape</span><span class=\"err\">\u2019</span> <span class=\"n\">has</span> <span class=\"n\">no</span> <span class=\"n\">member</span> <span class=\"n\">named</span> <span class=\"err\">\u2018</span><span class=\"n\">dem</span><span class=\"err\">\u2019</span>\n<span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">ian</span><span class=\"o\">/</span><span class=\"n\">depot</span><span class=\"o\">/</span><span class=\"n\">clones</span><span class=\"o\">/</span><span class=\"n\">gazebo3</span><span class=\"o\">/</span><span class=\"n\">gazebo</span><span class=\"o\">/</span><span class=\"n\">physics</span><span class=\"o\">/</span><span class=\"n\">HeightmapShape</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">113</span><span class=\"o\">:</span><span class=\"mi\">5</span><span class=\"o\">:</span> <span class=\"nl\">error</span><span class=\"p\">:</span> <span class=\"err\">\u2018</span><span class=\"n\">dem</span><span class=\"err\">\u2019</span> <span class=\"n\">was</span> <span class=\"n\">not</span> <span class=\"n\">declared</span> <span class=\"n\">in</span> <span class=\"k\">this</span> <span class=\"n\">scope</span>\n<span class=\"n\">make</span><span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">]</span><span class=\"o\">:</span> <span class=\"o\">***</span> <span class=\"p\">[</span><span class=\"n\">gazebo</span><span class=\"o\">/</span><span class=\"n\">physics</span><span class=\"o\">/</span><span class=\"n\">CMakeFiles</span><span class=\"o\">/</span><span class=\"n\">gazebo_physics</span><span class=\"p\">.</span><span class=\"n\">dir</span><span class=\"o\">/</span><span class=\"n\">HeightmapShape</span><span class=\"p\">.</span><span class=\"n\">cc</span><span class=\"p\">.</span><span class=\"n\">o</span><span class=\"p\">]</span> <span class=\"n\">Error</span> <span class=\"mi\">1</span>\n<span class=\"n\">make</span><span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">]</span><span class=\"o\">:</span> <span class=\"o\">***</span> <span class=\"n\">Waiting</span> <span class=\"k\">for</span> <span class=\"n\">unfinished</span> <span class=\"n\">jobs</span><span class=\"p\">....</span>\n</pre></div>", "type": "rendered"}, "created_on": "2013-11-05T18:56:20.642628+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2013-11-05T18:56:20.650008+00:00", "type": "pullrequest_comment", "id": 774215}