{"rendered": {"description": {"raw": "Fixes issue #1920\r\n\r\nWe were using a mix of link origin and \"link centroid\" when extending lines and placing joint visuals. This pull request removes the centroid logic completely and always uses link origins for a few reasons:\r\n\r\n* The centroid was the average of all child visual origins, not something related to the bounding box.\r\n\r\n* Once the joint is connected, its pose will be expressed with respect to the link origin, not a centroid. So it makes sense to also expand the line like that.\r\n\r\n* The centroid logic was there to make things clearer in case there are many visuals in a link. But that's not clear for all cases (the centroid might end up far from all links) and we have the highlighting to indicate all the visuals in the hovered link.\r\n\r\nAlso note the use of root visual rather than parent visual, because now that we support nested models, the parent is not always the root anymore.", "markup": "markdown", "html": "<p>Fixes issue <a href=\"#!/osrf/gazebo/issues/1920/model-editor-joint-line-offset-from-mouse\" rel=\"nofollow\" title=\"Model Editor - joint line offset from mouse cursor\" class=\"ap-connect-link\"><s>#1920</s></a></p>\n<p>We were using a mix of link origin and \"link centroid\" when extending lines and placing joint visuals. This pull request removes the centroid logic completely and always uses link origins for a few reasons:</p>\n<ul>\n<li>\n<p>The centroid was the average of all child visual origins, not something related to the bounding box.</p>\n</li>\n<li>\n<p>Once the joint is connected, its pose will be expressed with respect to the link origin, not a centroid. So it makes sense to also expand the line like that.</p>\n</li>\n<li>\n<p>The centroid logic was there to make things clearer in case there are many visuals in a link. But that's not clear for all cases (the centroid might end up far from all links) and we have the highlighting to indicate all the visuals in the hovered link.</p>\n</li>\n</ul>\n<p>Also note the use of root visual rather than parent visual, because now that we support nested models, the parent is not always the root anymore.</p>", "type": "rendered"}, "title": {"raw": "Model Editor: Fix line during joint creation", "markup": "markdown", "html": "<p>Model Editor: Fix line during joint creation</p>", "type": "rendered"}}, "type": "pullrequest", "description": "Fixes issue #1920\r\n\r\nWe were using a mix of link origin and \"link centroid\" when extending lines and placing joint visuals. This pull request removes the centroid logic completely and always uses link origins for a few reasons:\r\n\r\n* The centroid was the average of all child visual origins, not something related to the bounding box.\r\n\r\n* Once the joint is connected, its pose will be expressed with respect to the link origin, not a centroid. So it makes sense to also expand the line like that.\r\n\r\n* The centroid logic was there to make things clearer in case there are many visuals in a link. But that's not clear for all cases (the centroid might end up far from all links) and we have the highlighting to indicate all the visuals in the hovered link.\r\n\r\nAlso note the use of root visual rather than parent visual, because now that we support nested models, the parent is not always the root anymore.", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/pullrequests/2249/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diffstat/osrf/gazebo:a1b49e117729%0Db8bb7dc53ddd?from_pullrequest_id=2249"}, "commits": {"href": "data/repositories/osrf/gazebo/pullrequests/2249/commits.json"}, "self": {"href": "data/repositories/osrf/gazebo/pullrequests/2249.json"}, "comments": {"href": "data/repositories/osrf/gazebo/pullrequests/2249/comments_page=1.json"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/pullrequests/2249/merge"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2249"}, "activity": {"href": "data/repositories/osrf/gazebo/pullrequests/2249/activity.json"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:a1b49e117729%0Db8bb7dc53ddd?from_pullrequest_id=2249"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/pullrequests/2249/approve"}, "statuses": {"href": "data/repositories/osrf/gazebo/pullrequests/2249/statuses_page=1.json"}}, "title": "Model Editor: Fix line during joint creation", "close_source_branch": true, "reviewers": [], "id": 2249, "destination": {"commit": {"hash": "b8bb7dc53ddd", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/b8bb7dc53ddd.json"}, "html": {"href": "#!/osrf/gazebo/commits/b8bb7dc53ddd"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "created_on": "2016-04-08T03:01:47.290959+00:00", "summary": {"raw": "Fixes issue #1920\r\n\r\nWe were using a mix of link origin and \"link centroid\" when extending lines and placing joint visuals. This pull request removes the centroid logic completely and always uses link origins for a few reasons:\r\n\r\n* The centroid was the average of all child visual origins, not something related to the bounding box.\r\n\r\n* Once the joint is connected, its pose will be expressed with respect to the link origin, not a centroid. So it makes sense to also expand the line like that.\r\n\r\n* The centroid logic was there to make things clearer in case there are many visuals in a link. But that's not clear for all cases (the centroid might end up far from all links) and we have the highlighting to indicate all the visuals in the hovered link.\r\n\r\nAlso note the use of root visual rather than parent visual, because now that we support nested models, the parent is not always the root anymore.", "markup": "markdown", "html": "<p>Fixes issue <a href=\"#!/osrf/gazebo/issues/1920/model-editor-joint-line-offset-from-mouse\" rel=\"nofollow\" title=\"Model Editor - joint line offset from mouse cursor\" class=\"ap-connect-link\"><s>#1920</s></a></p>\n<p>We were using a mix of link origin and \"link centroid\" when extending lines and placing joint visuals. This pull request removes the centroid logic completely and always uses link origins for a few reasons:</p>\n<ul>\n<li>\n<p>The centroid was the average of all child visual origins, not something related to the bounding box.</p>\n</li>\n<li>\n<p>Once the joint is connected, its pose will be expressed with respect to the link origin, not a centroid. So it makes sense to also expand the line like that.</p>\n</li>\n<li>\n<p>The centroid logic was there to make things clearer in case there are many visuals in a link. But that's not clear for all cases (the centroid might end up far from all links) and we have the highlighting to indicate all the visuals in the hovered link.</p>\n</li>\n</ul>\n<p>Also note the use of root visual rather than parent visual, because now that we support nested models, the parent is not always the root anymore.</p>", "type": "rendered"}, "source": {"commit": {"hash": "43304b6a8975", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/43304b6a8975.json"}, "html": {"href": "#!/osrf/gazebo/commits/43304b6a8975"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "issue_1920"}}, "comment_count": 4, "state": "MERGED", "task_count": 0, "participants": [{"role": "PARTICIPANT", "participated_on": "2016-04-13T01:05:17.495508+00:00", "type": "participant", "approved": true, "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}}, {"role": "PARTICIPANT", "participated_on": "2016-04-08T06:56:25.409118+00:00", "type": "participant", "approved": false, "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}}, {"role": "PARTICIPANT", "participated_on": "2016-04-08T17:50:31.556580+00:00", "type": "participant", "approved": true, "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}}], "reason": "", "updated_on": "2016-04-13T01:08:55.810607+00:00", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "merge_commit": {"hash": "a1b49e117729", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/a1b49e117729.json"}, "html": {"href": "#!/osrf/gazebo/commits/a1b49e117729"}}}, "closed_by": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}}