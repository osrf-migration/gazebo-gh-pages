{"rendered": {"description": {"raw": "# Implementation\r\nEach subfolder of gazebo get's it's own header. That header is then included at the top of every file using gcc's ```-include``` option.\r\n\r\nThe naming convention is ```$subfolder_pch.hh``` which is transformed to ```$subfolder_pch.hh.out.gch```, and ```$subfodler_pch.hh.out``` is used with ```-include``` on all the files. The reason for the .out is to prevent the source files from finding the original ```$subfolder_pch.hh``` in the same directory before it found the pch in the build directory.\r\n\r\n - Currently using cmake macro called use_pch, but it may need some work.\r\n - Included some headers to be precompiled, but they are not optimized. Many expensive things are missing like Qt, OGRE.\r\n - The macro doesn't extend well for things like Qt which need lots of extra flags\r\n - Not extended to all subfolders yet (sensors, util, msgs, ... )\r\n\r\n#Timing information\r\n - According to @_jrivero_,  \"we can demonstrate that this code change improves the compilation time in at least 125 seconds in speedy (probably SDD) machines. In not so fast I/O machines (like kitt) this improvement is even better (~250s), around the 7%.\"\r\n\r\n# How to test\r\n```cmake .. -DUSE_PCH=ON```\r\n\r\n\r\n\r\nAlso there's a bit of trailing whitespace removed because vim does that for me.", "markup": "markdown", "html": "<h1 id=\"markdown-header-implementation\">Implementation</h1>\n<p>Each subfolder of gazebo get's it's own header. That header is then included at the top of every file using gcc's <code>-include</code> option.</p>\n<p>The naming convention is <code>$subfolder_pch.hh</code> which is transformed to <code>$subfolder_pch.hh.out.gch</code>, and <code>$subfodler_pch.hh.out</code> is used with <code>-include</code> on all the files. The reason for the .out is to prevent the source files from finding the original <code>$subfolder_pch.hh</code> in the same directory before it found the pch in the build directory.</p>\n<ul>\n<li>Currently using cmake macro called use_pch, but it may need some work.</li>\n<li>Included some headers to be precompiled, but they are not optimized. Many expensive things are missing like Qt, OGRE.</li>\n<li>The macro doesn't extend well for things like Qt which need lots of extra flags</li>\n<li>Not extended to all subfolders yet (sensors, util, msgs, ... )</li>\n</ul>\n<p>#Timing information\n - According to @<em>jrivero</em>,  \"we can demonstrate that this code change improves the compilation time in at least 125 seconds in speedy (probably SDD) machines. In not so fast I/O machines (like kitt) this improvement is even better (~250s), around the 7%.\"</p>\n<h1 id=\"markdown-header-how-to-test\">How to test</h1>\n<p><code>cmake .. -DUSE_PCH=ON</code></p>\n<p>Also there's a bit of trailing whitespace removed because vim does that for me.</p>", "type": "rendered"}, "title": {"raw": "Add basic support for gnu precompiled headers", "markup": "markdown", "html": "<p>Add basic support for gnu precompiled headers</p>", "type": "rendered"}}, "type": "pullrequest", "description": "# Implementation\r\nEach subfolder of gazebo get's it's own header. That header is then included at the top of every file using gcc's ```-include``` option.\r\n\r\nThe naming convention is ```$subfolder_pch.hh``` which is transformed to ```$subfolder_pch.hh.out.gch```, and ```$subfodler_pch.hh.out``` is used with ```-include``` on all the files. The reason for the .out is to prevent the source files from finding the original ```$subfolder_pch.hh``` in the same directory before it found the pch in the build directory.\r\n\r\n - Currently using cmake macro called use_pch, but it may need some work.\r\n - Included some headers to be precompiled, but they are not optimized. Many expensive things are missing like Qt, OGRE.\r\n - The macro doesn't extend well for things like Qt which need lots of extra flags\r\n - Not extended to all subfolders yet (sensors, util, msgs, ... )\r\n\r\n#Timing information\r\n - According to @_jrivero_,  \"we can demonstrate that this code change improves the compilation time in at least 125 seconds in speedy (probably SDD) machines. In not so fast I/O machines (like kitt) this improvement is even better (~250s), around the 7%.\"\r\n\r\n# How to test\r\n```cmake .. -DUSE_PCH=ON```\r\n\r\n\r\n\r\nAlso there's a bit of trailing whitespace removed because vim does that for me.", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/pullrequests/2268/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diffstat/osrf/gazebo:dec3d9eb62d4%0D2e153b94b73a?from_pullrequest_id=2268"}, "commits": {"href": "data/repositories/osrf/gazebo/pullrequests/2268/commits.json"}, "self": {"href": "data/repositories/osrf/gazebo/pullrequests/2268.json"}, "comments": {"href": "data/repositories/osrf/gazebo/pullrequests/2268/comments_page=1.json"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/pullrequests/2268/merge"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2268"}, "activity": {"href": "data/repositories/osrf/gazebo/pullrequests/2268/activity.json"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:dec3d9eb62d4%0D2e153b94b73a?from_pullrequest_id=2268"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/pullrequests/2268/approve"}, "statuses": {"href": "data/repositories/osrf/gazebo/pullrequests/2268/statuses_page=1.json"}}, "title": "Add basic support for gnu precompiled headers", "close_source_branch": false, "reviewers": [{"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}], "id": 2268, "destination": {"commit": {"hash": "2e153b94b73a", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/2e153b94b73a.json"}, "html": {"href": "#!/osrf/gazebo/commits/2e153b94b73a"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "created_on": "2016-04-16T03:58:42.479479+00:00", "summary": {"raw": "# Implementation\r\nEach subfolder of gazebo get's it's own header. That header is then included at the top of every file using gcc's ```-include``` option.\r\n\r\nThe naming convention is ```$subfolder_pch.hh``` which is transformed to ```$subfolder_pch.hh.out.gch```, and ```$subfodler_pch.hh.out``` is used with ```-include``` on all the files. The reason for the .out is to prevent the source files from finding the original ```$subfolder_pch.hh``` in the same directory before it found the pch in the build directory.\r\n\r\n - Currently using cmake macro called use_pch, but it may need some work.\r\n - Included some headers to be precompiled, but they are not optimized. Many expensive things are missing like Qt, OGRE.\r\n - The macro doesn't extend well for things like Qt which need lots of extra flags\r\n - Not extended to all subfolders yet (sensors, util, msgs, ... )\r\n\r\n#Timing information\r\n - According to @_jrivero_,  \"we can demonstrate that this code change improves the compilation time in at least 125 seconds in speedy (probably SDD) machines. In not so fast I/O machines (like kitt) this improvement is even better (~250s), around the 7%.\"\r\n\r\n# How to test\r\n```cmake .. -DUSE_PCH=ON```\r\n\r\n\r\n\r\nAlso there's a bit of trailing whitespace removed because vim does that for me.", "markup": "markdown", "html": "<h1 id=\"markdown-header-implementation\">Implementation</h1>\n<p>Each subfolder of gazebo get's it's own header. That header is then included at the top of every file using gcc's <code>-include</code> option.</p>\n<p>The naming convention is <code>$subfolder_pch.hh</code> which is transformed to <code>$subfolder_pch.hh.out.gch</code>, and <code>$subfodler_pch.hh.out</code> is used with <code>-include</code> on all the files. The reason for the .out is to prevent the source files from finding the original <code>$subfolder_pch.hh</code> in the same directory before it found the pch in the build directory.</p>\n<ul>\n<li>Currently using cmake macro called use_pch, but it may need some work.</li>\n<li>Included some headers to be precompiled, but they are not optimized. Many expensive things are missing like Qt, OGRE.</li>\n<li>The macro doesn't extend well for things like Qt which need lots of extra flags</li>\n<li>Not extended to all subfolders yet (sensors, util, msgs, ... )</li>\n</ul>\n<p>#Timing information\n - According to @<em>jrivero</em>,  \"we can demonstrate that this code change improves the compilation time in at least 125 seconds in speedy (probably SDD) machines. In not so fast I/O machines (like kitt) this improvement is even better (~250s), around the 7%.\"</p>\n<h1 id=\"markdown-header-how-to-test\">How to test</h1>\n<p><code>cmake .. -DUSE_PCH=ON</code></p>\n<p>Also there's a bit of trailing whitespace removed because vim does that for me.</p>", "type": "rendered"}, "source": {"commit": {"hash": "9528d6c8bdf0", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/peter_mitrano/gazebo/commit/9528d6c8bdf0"}, "html": {"href": "https://bitbucket.org/peter_mitrano/gazebo/commits/9528d6c8bdf0"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/peter_mitrano/gazebo"}, "html": {"href": "https://bitbucket.org/peter_mitrano/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{cdecb6a0-d35a-4e7b-95fa-f086e345d708}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "peter_mitrano/gazebo", "uuid": "{cdecb6a0-d35a-4e7b-95fa-f086e345d708}"}, "branch": {"name": "pch"}}, "comment_count": 37, "state": "MERGED", "task_count": 0, "participants": [{"role": "REVIEWER", "participated_on": "2016-05-18T23:20:18.985816+00:00", "type": "participant", "approved": false, "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}}, {"role": "REVIEWER", "participated_on": "2016-07-01T18:01:18.336154+00:00", "type": "participant", "approved": true, "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}}, {"role": "PARTICIPANT", "participated_on": "2017-03-17T21:49:09.620727+00:00", "type": "participant", "approved": false, "user": {"display_name": "Peter Mitrano", "uuid": "{f79f793e-4f31-4c61-9df2-190b239e0bf2}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bf79f793e-4f31-4c61-9df2-190b239e0bf2%7D"}, "html": {"href": "https://bitbucket.org/%7Bf79f793e-4f31-4c61-9df2-190b239e0bf2%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:b5298278-299c-4d16-b5aa-449d6d2db98d/e384924a-68d0-4825-9af2-9892e5f3417c/128"}}, "nickname": "peter_mitrano", "type": "user", "account_id": "557058:b5298278-299c-4d16-b5aa-449d6d2db98d"}}, {"role": "PARTICIPANT", "participated_on": "2017-03-20T15:24:04.151847+00:00", "type": "participant", "approved": false, "user": {"display_name": "Martin Pecka", "uuid": "{41691c43-4ae0-49ba-ba45-3c36439f5af2}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B41691c43-4ae0-49ba-ba45-3c36439f5af2%7D"}, "html": {"href": "https://bitbucket.org/%7B41691c43-4ae0-49ba-ba45-3c36439f5af2%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/d1ad32a09564f856909994613fdbc37cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMP-1.png"}}, "nickname": "peci1", "type": "user", "account_id": "557058:434ecab2-e510-4ede-8f9a-1c2a5a4032e1"}}, {"role": "PARTICIPANT", "participated_on": "2017-03-17T23:17:59.643457+00:00", "type": "participant", "approved": false, "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}}], "reason": "", "updated_on": "2017-03-20T15:24:04.235212+00:00", "author": {"display_name": "Peter Mitrano", "uuid": "{f79f793e-4f31-4c61-9df2-190b239e0bf2}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bf79f793e-4f31-4c61-9df2-190b239e0bf2%7D"}, "html": {"href": "https://bitbucket.org/%7Bf79f793e-4f31-4c61-9df2-190b239e0bf2%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:b5298278-299c-4d16-b5aa-449d6d2db98d/e384924a-68d0-4825-9af2-9892e5f3417c/128"}}, "nickname": "peter_mitrano", "type": "user", "account_id": "557058:b5298278-299c-4d16-b5aa-449d6d2db98d"}, "merge_commit": {"hash": "dec3d9eb62d4", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/dec3d9eb62d4.json"}, "html": {"href": "#!/osrf/gazebo/commits/dec3d9eb62d4"}}}, "closed_by": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}}