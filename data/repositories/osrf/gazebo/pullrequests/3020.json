{"rendered": {"description": {"raw": "A couple of fixes in this PR:\r\n\r\nCurrently a visual plugin is loaded only when a visual is first created. However, sometimes a visual msg with an empty plugin field could be received on the `~/visual` topic before the full scene msg on gzclient startup. This would create a visual without a plugin even if a visual plugin is specified in the SDF. This PR makes sure that we always check the the visual msg\u2019s plugin field on update and load the plugins if not done so already.\r\n\r\n\u200c\r\n\r\nAnother fix included in this PR is the renaming of light visuals that we create internally for light visualization \\(changes in Light.cc\\). This is mainly to to avoid name conflicts with user specified visuals in the SDF, e.g. the FlashLight plugin expects users to create a <light> and <visual> with the same name. **Update**: reverted this change as it broke tests", "markup": "markdown", "html": "<p>A couple of fixes in this PR:</p>\n<p>Currently a visual plugin is loaded only when a visual is first created. However, sometimes a visual msg with an empty plugin field could be received on the <code>~/visual</code> topic before the full scene msg on gzclient startup. This would create a visual without a plugin even if a visual plugin is specified in the SDF. This PR makes sure that we always check the the visual msg\u2019s plugin field on update and load the plugins if not done so already.</p>\n<p>\u200c</p>\n<p>Another fix included in this PR is the renaming of light visuals that we create internally for light visualization (changes in Light.cc). This is mainly to to avoid name conflicts with user specified visuals in the SDF, e.g. the FlashLight plugin expects users to create a &lt;light&gt; and &lt;visual&gt; with the same name. <strong>Update</strong>: reverted this change as it broke tests</p>", "type": "rendered"}, "title": {"raw": "Check and load visual plugins on update", "markup": "markdown", "html": "<p>Check and load visual plugins on update</p>", "type": "rendered"}}, "type": "pullrequest", "description": "A couple of fixes in this PR:\r\n\r\nCurrently a visual plugin is loaded only when a visual is first created. However, sometimes a visual msg with an empty plugin field could be received on the `~/visual` topic before the full scene msg on gzclient startup. This would create a visual without a plugin even if a visual plugin is specified in the SDF. This PR makes sure that we always check the the visual msg\u2019s plugin field on update and load the plugins if not done so already.\r\n\r\n\u200c\r\n\r\nAnother fix included in this PR is the renaming of light visuals that we create internally for light visualization \\(changes in Light.cc\\). This is mainly to to avoid name conflicts with user specified visuals in the SDF, e.g. the FlashLight plugin expects users to create a <light> and <visual> with the same name. **Update**: reverted this change as it broke tests", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/pullrequests/3020/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diffstat/osrf/gazebo:f577638447fc%0Df0e9467ffe35?from_pullrequest_id=3020"}, "commits": {"href": "data/repositories/osrf/gazebo/pullrequests/3020/commits.json"}, "self": {"href": "data/repositories/osrf/gazebo/pullrequests/3020.json"}, "comments": {"href": "data/repositories/osrf/gazebo/pullrequests/3020/comments_page=1.json"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/pullrequests/3020/merge"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3020"}, "activity": {"href": "data/repositories/osrf/gazebo/pullrequests/3020/activity.json"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:f577638447fc%0Df0e9467ffe35?from_pullrequest_id=3020"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/pullrequests/3020/approve"}, "statuses": {"href": "data/repositories/osrf/gazebo/pullrequests/3020/statuses_page=1.json"}}, "title": "Check and load visual plugins on update", "close_source_branch": true, "reviewers": [{"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}], "id": 3020, "destination": {"commit": {"hash": "f0e9467ffe35", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/f0e9467ffe35.json"}, "html": {"href": "#!/osrf/gazebo/commits/f0e9467ffe35"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo9"}}, "created_on": "2018-09-24T17:56:46.650990+00:00", "summary": {"raw": "A couple of fixes in this PR:\r\n\r\nCurrently a visual plugin is loaded only when a visual is first created. However, sometimes a visual msg with an empty plugin field could be received on the `~/visual` topic before the full scene msg on gzclient startup. This would create a visual without a plugin even if a visual plugin is specified in the SDF. This PR makes sure that we always check the the visual msg\u2019s plugin field on update and load the plugins if not done so already.\r\n\r\n\u200c\r\n\r\nAnother fix included in this PR is the renaming of light visuals that we create internally for light visualization \\(changes in Light.cc\\). This is mainly to to avoid name conflicts with user specified visuals in the SDF, e.g. the FlashLight plugin expects users to create a <light> and <visual> with the same name. **Update**: reverted this change as it broke tests", "markup": "markdown", "html": "<p>A couple of fixes in this PR:</p>\n<p>Currently a visual plugin is loaded only when a visual is first created. However, sometimes a visual msg with an empty plugin field could be received on the <code>~/visual</code> topic before the full scene msg on gzclient startup. This would create a visual without a plugin even if a visual plugin is specified in the SDF. This PR makes sure that we always check the the visual msg\u2019s plugin field on update and load the plugins if not done so already.</p>\n<p>\u200c</p>\n<p>Another fix included in this PR is the renaming of light visuals that we create internally for light visualization (changes in Light.cc). This is mainly to to avoid name conflicts with user specified visuals in the SDF, e.g. the FlashLight plugin expects users to create a &lt;light&gt; and &lt;visual&gt; with the same name. <strong>Update</strong>: reverted this change as it broke tests</p>", "type": "rendered"}, "source": {"commit": {"hash": "0038883c20ea", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/0038883c20ea.json"}, "html": {"href": "#!/osrf/gazebo/commits/0038883c20ea"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "light_visual_name_9"}}, "comment_count": 10, "state": "MERGED", "task_count": 0, "participants": [{"role": "PARTICIPANT", "participated_on": "2018-10-26T04:05:13.969525+00:00", "type": "participant", "approved": true, "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}}, {"role": "REVIEWER", "participated_on": "2018-10-10T18:22:37.846278+00:00", "type": "participant", "approved": true, "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}}, {"role": "PARTICIPANT", "participated_on": "2018-10-26T00:11:55.275148+00:00", "type": "participant", "approved": false, "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}}], "reason": "", "updated_on": "2018-10-26T17:11:52.228111+00:00", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "merge_commit": {"hash": "f577638447fc", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/f577638447fc.json"}, "html": {"href": "#!/osrf/gazebo/commits/f577638447fc"}}}, "closed_by": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}}