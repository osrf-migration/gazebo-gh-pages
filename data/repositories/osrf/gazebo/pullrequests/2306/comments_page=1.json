{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2306/comments/18435730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2306/_/diff#comment-18435730"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2306, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2306.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2306"}}, "title": "Build plugin libraries as MODULE instead of SHARED"}, "content": {"raw": "@traversaro I think I've addressed the comments you made in #800.", "markup": "markdown", "html": "<p>@traversaro I think I've addressed the comments you made in <a href=\"#!/osrf/gazebo/issues/800/plugin-loading-on-os-x\" rel=\"nofollow\" title=\"Plugin loading on OS X\" class=\"ap-connect-link\">#800</a>.</p>", "type": "rendered"}, "created_on": "2016-05-12T20:32:26.688820+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2016-05-12T20:32:26.695930+00:00", "type": "pullrequest_comment", "id": 18435730}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2306/comments/18460794.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2306/_/diff#comment-18460794"}}, "parent": {"id": 18435730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2306/comments/18435730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2306/_/diff#comment-18435730"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2306, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2306.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2306"}}, "title": "Build plugin libraries as MODULE instead of SHARED"}, "content": {"raw": "Thanks, LGTM. ", "markup": "markdown", "html": "<p>Thanks, LGTM. </p>", "type": "rendered"}, "created_on": "2016-05-13T11:01:24.675673+00:00", "user": {"display_name": "Silvio Traversaro", "uuid": "{34f404cb-5642-4f27-a032-e04c7143d776}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D"}, "html": {"href": "https://bitbucket.org/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6/578caaa1-056c-45a2-8bf9-bee94c3bebef/128"}}, "nickname": "traversaro", "type": "user", "account_id": "557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6"}, "updated_on": "2016-05-13T11:01:24.891004+00:00", "type": "pullrequest_comment", "id": 18460794}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2306/comments/18477423.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2306/_/diff#comment-18477423"}}, "parent": {"id": 18460794, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2306/comments/18460794.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2306/_/diff#comment-18460794"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2306, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2306.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2306"}}, "title": "Build plugin libraries as MODULE instead of SHARED"}, "content": {"raw": "If it helps, I can also backport the search for `.so` extensions on OS X to gazebo7, without deprecating or changing how the plugins are compiled. This wouldn't make it into the official ubuntu releases, but it would be in the debs on packages.osrfoundation.org", "markup": "markdown", "html": "<p>If it helps, I can also backport the search for <code>.so</code> extensions on OS X to gazebo7, without deprecating or changing how the plugins are compiled. This wouldn't make it into the official ubuntu releases, but it would be in the debs on packages.osrfoundation.org</p>", "type": "rendered"}, "created_on": "2016-05-13T16:19:14.356428+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2016-05-13T16:19:14.361885+00:00", "type": "pullrequest_comment", "id": 18477423}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2306/comments/18493350.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2306/_/diff#comment-18493350"}}, "parent": {"id": 18477423, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2306/comments/18477423.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2306/_/diff#comment-18477423"}}, "depth": 3}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2306, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2306.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2306"}}, "title": "Build plugin libraries as MODULE instead of SHARED"}, "content": {"raw": "I think having this just only for Gazebo 8 is ok, as I never encountered a problem related to the plugins being compiled as `SHARED` rather then `MODULE`.\n\nPlugin developers could then add add a logic in the plugin compilation to compile them as `SHARED` for Gazebo <= 7 and as `MODULE` for Gazebo >= 8 . \n\n\n", "markup": "markdown", "html": "<p>I think having this just only for Gazebo 8 is ok, as I never encountered a problem related to the plugins being compiled as <code>SHARED</code> rather then <code>MODULE</code>.</p>\n<p>Plugin developers could then add add a logic in the plugin compilation to compile them as <code>SHARED</code> for Gazebo &lt;= 7 and as <code>MODULE</code> for Gazebo &gt;= 8 . </p>", "type": "rendered"}, "created_on": "2016-05-14T09:10:02.161496+00:00", "user": {"display_name": "Silvio Traversaro", "uuid": "{34f404cb-5642-4f27-a032-e04c7143d776}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D"}, "html": {"href": "https://bitbucket.org/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6/578caaa1-056c-45a2-8bf9-bee94c3bebef/128"}}, "nickname": "traversaro", "type": "user", "account_id": "557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6"}, "updated_on": "2016-05-14T09:11:07.766764+00:00", "type": "pullrequest_comment", "id": 18493350}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2306/comments/18437311.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2306/_/diff#comment-18437311"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2306, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2306.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2306"}}, "title": "Build plugin libraries as MODULE instead of SHARED"}, "content": {"raw": "LGTM, but I can't test cuz I don't have a mac so I'll let someone else Approve it.", "markup": "markdown", "html": "<p>LGTM, but I can't test cuz I don't have a mac so I'll let someone else Approve it.</p>", "type": "rendered"}, "created_on": "2016-05-12T21:09:05.029968+00:00", "user": {"display_name": "Peter Mitrano", "uuid": "{f79f793e-4f31-4c61-9df2-190b239e0bf2}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bf79f793e-4f31-4c61-9df2-190b239e0bf2%7D"}, "html": {"href": "https://bitbucket.org/%7Bf79f793e-4f31-4c61-9df2-190b239e0bf2%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:b5298278-299c-4d16-b5aa-449d6d2db98d/e384924a-68d0-4825-9af2-9892e5f3417c/128"}}, "nickname": "peter_mitrano", "type": "user", "account_id": "557058:b5298278-299c-4d16-b5aa-449d6d2db98d"}, "updated_on": "2016-05-12T21:09:05.219383+00:00", "type": "pullrequest_comment", "id": 18437311}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2306/comments/18442911.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2306/_/diff#comment-18442911"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2306, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2306.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2306"}}, "title": "Build plugin libraries as MODULE instead of SHARED"}, "content": {"raw": "[trusty nvidia](http://build.osrfoundation.org/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/387/) has no unexpected test failures", "markup": "markdown", "html": "<p><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/387/\" rel=\"nofollow\">trusty nvidia</a> has no unexpected test failures</p>", "type": "rendered"}, "created_on": "2016-05-13T00:40:49.154932+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2016-05-13T00:40:49.157849+00:00", "type": "pullrequest_comment", "id": 18442911}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2306/comments/18443257.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2306/_/diff#comment-18443257"}}, "parent": {"id": 18442911, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2306/comments/18442911.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2306/_/diff#comment-18442911"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2306, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2306.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2306"}}, "title": "Build plugin libraries as MODULE instead of SHARED"}, "content": {"raw": "no related test failures in [homebrew build](http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/410/)", "markup": "markdown", "html": "<p>no related test failures in <a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/410/\" rel=\"nofollow\">homebrew build</a></p>", "type": "rendered"}, "created_on": "2016-05-13T01:00:35.292477+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2016-05-13T01:00:35.294988+00:00", "type": "pullrequest_comment", "id": 18443257}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2306/comments/18531994.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:1b609500e753..76f21ee32c3d?path=gazebo%2Fcommon%2FPlugin.hh"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2306/_/diff#comment-18531994"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2306, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2306.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2306"}}, "title": "Build plugin libraries as MODULE instead of SHARED"}, "content": {"raw": "Is there a downside on keeping supporting `SHARED` besides `MODULE`? Would it be possible to keep supporting both, instead of deprecating `SHARED`?", "markup": "markdown", "html": "<p>Is there a downside on keeping supporting <code>SHARED</code> besides <code>MODULE</code>? Would it be possible to keep supporting both, instead of deprecating <code>SHARED</code>?</p>", "type": "rendered"}, "created_on": "2016-05-16T16:42:50.285869+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {"to": 173, "from": null, "path": "gazebo/common/Plugin.hh"}, "updated_on": "2016-05-16T16:43:16.063950+00:00", "type": "pullrequest_comment", "id": 18531994}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2306/comments/18532914.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:None..None?path=gazebo%2Fcommon%2FPlugin.hh"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2306/_/diff#comment-18532914"}}, "parent": {"id": 18531994, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2306/comments/18531994.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2306/_/diff#comment-18531994"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2306, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2306.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2306"}}, "title": "Build plugin libraries as MODULE instead of SHARED"}, "content": {"raw": "It should be possible. I'm going to implement something in SDF that lets\nyou specify basename instead of full filename. So that should make it work.\nI don't feel strongly for or against depreciation", "markup": "markdown", "html": "<p>It should be possible. I'm going to implement something in SDF that lets\nyou specify basename instead of full filename. So that should make it work.\nI don't feel strongly for or against depreciation</p>", "type": "rendered"}, "created_on": "2016-05-16T17:05:08.196522+00:00", "user": {"display_name": "Peter Mitrano", "uuid": "{f79f793e-4f31-4c61-9df2-190b239e0bf2}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bf79f793e-4f31-4c61-9df2-190b239e0bf2%7D"}, "html": {"href": "https://bitbucket.org/%7Bf79f793e-4f31-4c61-9df2-190b239e0bf2%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:b5298278-299c-4d16-b5aa-449d6d2db98d/e384924a-68d0-4825-9af2-9892e5f3417c/128"}}, "nickname": "peter_mitrano", "type": "user", "account_id": "557058:b5298278-299c-4d16-b5aa-449d6d2db98d"}, "inline": {"to": null, "from": null, "path": "gazebo/common/Plugin.hh"}, "updated_on": "2016-05-16T17:05:08.288802+00:00", "type": "pullrequest_comment", "id": 18532914}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2306/comments/18535321.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:None..None?path=gazebo%2Fcommon%2FPlugin.hh"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2306/_/diff#comment-18535321"}}, "parent": {"id": 18531994, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2306/comments/18531994.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2306/_/diff#comment-18531994"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2306, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2306.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2306"}}, "title": "Build plugin libraries as MODULE instead of SHARED"}, "content": {"raw": "There's discussion in #800 saying that `MODULE` is more correct for OS X than `SHARED`.", "markup": "markdown", "html": "<p>There's discussion in <a href=\"#!/osrf/gazebo/issues/800/plugin-loading-on-os-x\" rel=\"nofollow\" title=\"Plugin loading on OS X\" class=\"ap-connect-link\">#800</a> saying that <code>MODULE</code> is more correct for OS X than <code>SHARED</code>.</p>", "type": "rendered"}, "created_on": "2016-05-16T17:59:15.003605+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {"to": null, "from": null, "path": "gazebo/common/Plugin.hh"}, "updated_on": "2016-05-16T17:59:15.006206+00:00", "type": "pullrequest_comment", "id": 18535321}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2306/comments/18545792.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:None..None?path=gazebo%2Fcommon%2FPlugin.hh"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2306/_/diff#comment-18545792"}}, "parent": {"id": 18535321, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2306/comments/18535321.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2306/_/diff#comment-18535321"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2306, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2306.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2306"}}, "title": "Build plugin libraries as MODULE instead of SHARED"}, "content": {"raw": "I don't understand anything about this, but after reading the discussion I got the feeling that \"less correct\" didn't necessarily mean \"wrong\" (it has been working all this time, right?). So I was just curious as to whether there was an actual problem with loading dylib.\n\n", "markup": "markdown", "html": "<p>I don't understand anything about this, but after reading the discussion I got the feeling that \"less correct\" didn't necessarily mean \"wrong\" (it has been working all this time, right?). So I was just curious as to whether there was an actual problem with loading dylib.</p>", "type": "rendered"}, "created_on": "2016-05-16T21:46:39.384874+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {"to": null, "from": null, "path": "gazebo/common/Plugin.hh"}, "updated_on": "2016-05-16T21:46:39.388087+00:00", "type": "pullrequest_comment", "id": 18545792}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2306/comments/18547509.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:None..None?path=gazebo%2Fcommon%2FPlugin.hh"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2306/_/diff#comment-18547509"}}, "parent": {"id": 18545792, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2306/comments/18545792.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2306/_/diff#comment-18545792"}}, "depth": 3}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2306, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2306.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2306"}}, "title": "Build plugin libraries as MODULE instead of SHARED"}, "content": {"raw": "I was going to respond that dynamic libraries (`dylib`) cannot be unloaded as mentioned in the fink documentation linked in #!/osrf/gazebo/issues/800/plugin-loading-on-os-x , but I just noticed that that documentation is severely outdated and since OS X 10.5 dynamic libraries can be safely unloaded from memory. [1] [2]  \n\nSo probably you are right, I can't find any actual problem in using `dylib` for Gazebo plugins in OS X. \n\n[1]  https://books.google.it/books?id=S_OSYVXMAYUC&pg=PA223&lpg=PA223&dq=that+shared+libraries+cannot+be+unloaded&source=bl&ots=SuAj5Z4Ke0&sig=861isHMhPTzFnmSpo48GyX1M06s&hl=en&sa=X&ved=0ahUKEwiMg7zg1N_MAhUDPRoKHXxKAFsQ6AEIMTAD#v=onepage&q=that%20shared%20libraries%20cannot%20be%20unloaded&f=false\n\n[2] : https://developer.apple.com/library/ios/documentation/System/Conceptual/ManPages_iPhoneOS/man3/dlclose.3.html", "markup": "markdown", "html": "<p>I was going to respond that dynamic libraries (<code>dylib</code>) cannot be unloaded as mentioned in the fink documentation linked in <a href=\"#!/osrf/gazebo/issues/800/plugin-loading-on-os-x\" rel=\"nofollow\" class=\"ap-connect-link\">#!/osrf/gazebo/issues/800/plugin-loading-on-os-x</a> , but I just noticed that that documentation is severely outdated and since OS X 10.5 dynamic libraries can be safely unloaded from memory. [1] [2]  </p>\n<p>So probably you are right, I can't find any actual problem in using <code>dylib</code> for Gazebo plugins in OS X. </p>\n<p>[1]  <a href=\"https://books.google.it/books?id=S_OSYVXMAYUC&amp;pg=PA223&amp;lpg=PA223&amp;dq=that+shared+libraries+cannot+be+unloaded&amp;source=bl&amp;ots=SuAj5Z4Ke0&amp;sig=861isHMhPTzFnmSpo48GyX1M06s&amp;hl=en&amp;sa=X&amp;ved=0ahUKEwiMg7zg1N_MAhUDPRoKHXxKAFsQ6AEIMTAD#v=onepage&amp;q=that%20shared%20libraries%20cannot%20be%20unloaded&amp;f=false\" rel=\"nofollow\" class=\"ap-connect-link\">https://books.google.it/books?id=S_OSYVXMAYUC&amp;pg=PA223&amp;lpg=PA223&amp;dq=that+shared+libraries+cannot+be+unloaded&amp;source=bl&amp;ots=SuAj5Z4Ke0&amp;sig=861isHMhPTzFnmSpo48GyX1M06s&amp;hl=en&amp;sa=X&amp;ved=0ahUKEwiMg7zg1N_MAhUDPRoKHXxKAFsQ6AEIMTAD#v=onepage&amp;q=that%20shared%20libraries%20cannot%20be%20unloaded&amp;f=false</a></p>\n<p>[2] : <a href=\"https://developer.apple.com/library/ios/documentation/System/Conceptual/ManPages_iPhoneOS/man3/dlclose.3.html\" rel=\"nofollow\" class=\"ap-connect-link\">https://developer.apple.com/library/ios/documentation/System/Conceptual/ManPages_iPhoneOS/man3/dlclose.3.html</a></p>", "type": "rendered"}, "created_on": "2016-05-16T22:43:50.398961+00:00", "user": {"display_name": "Silvio Traversaro", "uuid": "{34f404cb-5642-4f27-a032-e04c7143d776}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D"}, "html": {"href": "https://bitbucket.org/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6/578caaa1-056c-45a2-8bf9-bee94c3bebef/128"}}, "nickname": "traversaro", "type": "user", "account_id": "557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6"}, "inline": {"to": null, "from": null, "path": "gazebo/common/Plugin.hh"}, "updated_on": "2016-05-16T22:44:00.703292+00:00", "type": "pullrequest_comment", "id": 18547509}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2306/comments/18547569.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:None..None?path=gazebo%2Fcommon%2FPlugin.hh"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2306/_/diff#comment-18547569"}}, "parent": {"id": 18547509, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2306/comments/18547509.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2306/_/diff#comment-18547509"}}, "depth": 4}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2306, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2306.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2306"}}, "title": "Build plugin libraries as MODULE instead of SHARED"}, "content": {"raw": "Anyhow, I wonder if for any strange reason the `dlclose` issue on OS X [1] is solved by using plugins compiled as `MODULE`s . \n\n[1] : #!/osrf/gazebo/issues/1026/tests-segfaults-when-calling-dlclose-on \n ", "markup": "markdown", "html": "<p>Anyhow, I wonder if for any strange reason the <code>dlclose</code> issue on OS X [1] is solved by using plugins compiled as <code>MODULE</code>s . </p>\n<p>[1] : <a href=\"#!/osrf/gazebo/issues/1026/tests-segfaults-when-calling-dlclose-on\" rel=\"nofollow\" class=\"ap-connect-link\">#!/osrf/gazebo/issues/1026/tests-segfaults-when-calling-dlclose-on</a> </p>", "type": "rendered"}, "created_on": "2016-05-16T22:46:54.876296+00:00", "user": {"display_name": "Silvio Traversaro", "uuid": "{34f404cb-5642-4f27-a032-e04c7143d776}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D"}, "html": {"href": "https://bitbucket.org/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6/578caaa1-056c-45a2-8bf9-bee94c3bebef/128"}}, "nickname": "traversaro", "type": "user", "account_id": "557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6"}, "inline": {"to": null, "from": null, "path": "gazebo/common/Plugin.hh"}, "updated_on": "2016-05-16T22:46:55.063335+00:00", "type": "pullrequest_comment", "id": 18547569}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2306/comments/18547973.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:None..None?path=gazebo%2Fcommon%2FPlugin.hh"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2306/_/diff#comment-18547973"}}, "parent": {"id": 18547569, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2306/comments/18547569.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2306/_/diff#comment-18547569"}}, "depth": 5}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2306, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2306.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2306"}}, "title": "Build plugin libraries as MODULE instead of SHARED"}, "content": {"raw": "While testing this pull request, I tried re-enabling `dlclose`, but it still caused seg-faults, so I just ignored it", "markup": "markdown", "html": "<p>While testing this pull request, I tried re-enabling <code>dlclose</code>, but it still caused seg-faults, so I just ignored it</p>", "type": "rendered"}, "created_on": "2016-05-16T23:05:25.779776+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {"to": null, "from": null, "path": "gazebo/common/Plugin.hh"}, "updated_on": "2016-05-16T23:05:25.783708+00:00", "type": "pullrequest_comment", "id": 18547973}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2306/comments/18548045.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:None..None?path=gazebo%2Fcommon%2FPlugin.hh"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2306/_/diff#comment-18548045"}}, "parent": {"id": 18545792, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2306/comments/18545792.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2306/_/diff#comment-18545792"}}, "depth": 3}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2306, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2306.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2306"}}, "title": "Build plugin libraries as MODULE instead of SHARED"}, "content": {"raw": "There's some additional discussion of this topic on a [stackoverflow post](http://stackoverflow.com/questions/4845984/difference-between-modules-and-shared-libraries). It doesn't sound like an urgent distinction. Who knows, maybe this isn't necessary.\n\nI'll cc @wjwwood to see if he has an opinion.", "markup": "markdown", "html": "<p>There's some additional discussion of this topic on a <a data-is-external-link=\"true\" href=\"http://stackoverflow.com/questions/4845984/difference-between-modules-and-shared-libraries\" rel=\"nofollow\">stackoverflow post</a>. It doesn't sound like an urgent distinction. Who knows, maybe this isn't necessary.</p>\n<p>I'll cc @wjwwood to see if he has an opinion.</p>", "type": "rendered"}, "created_on": "2016-05-16T23:09:06.975909+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {"to": null, "from": null, "path": "gazebo/common/Plugin.hh"}, "updated_on": "2016-05-16T23:09:06.982704+00:00", "type": "pullrequest_comment", "id": 18548045}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2306/comments/18549224.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2306/_/diff#comment-18549224"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2306, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2306.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2306"}}, "title": "Build plugin libraries as MODULE instead of SHARED"}, "content": {"raw": "Ok, there are questions about why this is necessary, and I'm not sure I have an answer.\n\nI've tested this on OS X and Ubuntu, and declaring plugins as `MODULE` libraries will cause a failure at configure time when trying to link other libraries against them. As an example from the past, the `BreakableJointPlugin` previously inherited from `ForceTorqueSensorPlugin`, which would not be possible if the libraries are declared as `MODULE`s. That design was changed in pull request #2202 to fix the windows build, so that `BreakableJointPlugin` is independent of `ForceTorquePlugin`.\n\nSo the main issue at play appears to be whether plugins should be shared libraries that can link against other plugins. This is currently done in gazebo_ros_pkgs ([gazebo_ros_camera](https://github.com/ros-simulation/gazebo_ros_pkgs/blob/jade-devel/gazebo_plugins/CMakeLists.txt#L178) and others) and possibly in rviz plugins. Requiring plugins to be `MODULE` libraries would break these existing plugins, which is a big reason not to merge this PR.\n\nThe open question is whether plugins could be declared as `SHARED` libraries and linked to each other on windows (since that seemed to be a problem fixed by pull request #2202). If windows truly can't handle that, then the `MODULE` keyword would be a restriction valid behavior in Ubuntu and OS X for the sake of portability with windows.", "markup": "markdown", "html": "<p>Ok, there are questions about why this is necessary, and I'm not sure I have an answer.</p>\n<p>I've tested this on OS X and Ubuntu, and declaring plugins as <code>MODULE</code> libraries will cause a failure at configure time when trying to link other libraries against them. As an example from the past, the <code>BreakableJointPlugin</code> previously inherited from <code>ForceTorqueSensorPlugin</code>, which would not be possible if the libraries are declared as <code>MODULE</code>s. That design was changed in <a href=\"#!/osrf/gazebo/pull-requests/2202/windows_build\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #2202</a> to fix the windows build, so that <code>BreakableJointPlugin</code> is independent of <code>ForceTorquePlugin</code>.</p>\n<p>So the main issue at play appears to be whether plugins should be shared libraries that can link against other plugins. This is currently done in gazebo_ros_pkgs (<a data-is-external-link=\"true\" href=\"https://github.com/ros-simulation/gazebo_ros_pkgs/blob/jade-devel/gazebo_plugins/CMakeLists.txt#L178\" rel=\"nofollow\">gazebo_ros_camera</a> and others) and possibly in rviz plugins. Requiring plugins to be <code>MODULE</code> libraries would break these existing plugins, which is a big reason not to merge this PR.</p>\n<p>The open question is whether plugins could be declared as <code>SHARED</code> libraries and linked to each other on windows (since that seemed to be a problem fixed by <a href=\"#!/osrf/gazebo/pull-requests/2202/windows_build\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #2202</a>). If windows truly can't handle that, then the <code>MODULE</code> keyword would be a restriction valid behavior in Ubuntu and OS X for the sake of portability with windows.</p>", "type": "rendered"}, "created_on": "2016-05-17T00:03:33.714855+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2016-05-17T00:03:33.718978+00:00", "type": "pullrequest_comment", "id": 18549224}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2306/comments/18551702.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2306/_/diff#comment-18551702"}}, "parent": {"id": 18549224, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2306/comments/18549224.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2306/_/diff#comment-18549224"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2306, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2306.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2306"}}, "title": "Build plugin libraries as MODULE instead of SHARED"}, "content": {"raw": "Plugins on windows use SHARED and can be linked to each other without any problems. I also don't see any point to this if it breaks some existing and useful functionality.\n\nWe can solve the prefix/suffix issue with a basename instead of filename like I plan on doing anyways. ", "markup": "markdown", "html": "<p>Plugins on windows use SHARED and can be linked to each other without any problems. I also don't see any point to this if it breaks some existing and useful functionality.</p>\n<p>We can solve the prefix/suffix issue with a basename instead of filename like I plan on doing anyways. </p>", "type": "rendered"}, "created_on": "2016-05-17T02:18:40.976755+00:00", "user": {"display_name": "Peter Mitrano", "uuid": "{f79f793e-4f31-4c61-9df2-190b239e0bf2}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bf79f793e-4f31-4c61-9df2-190b239e0bf2%7D"}, "html": {"href": "https://bitbucket.org/%7Bf79f793e-4f31-4c61-9df2-190b239e0bf2%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:b5298278-299c-4d16-b5aa-449d6d2db98d/e384924a-68d0-4825-9af2-9892e5f3417c/128"}}, "nickname": "peter_mitrano", "type": "user", "account_id": "557058:b5298278-299c-4d16-b5aa-449d6d2db98d"}, "updated_on": "2016-05-17T02:18:41.047000+00:00", "type": "pullrequest_comment", "id": 18551702}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2306/comments/18593218.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2306/_/diff#comment-18593218"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2306, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2306.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2306"}}, "title": "Build plugin libraries as MODULE instead of SHARED"}, "content": {"raw": "Ok, I'm going to decline this. We can continue discussion in #800 if there's a compelling reason to use `MODULE`", "markup": "markdown", "html": "<p>Ok, I'm going to decline this. We can continue discussion in <a href=\"#!/osrf/gazebo/issues/800/plugin-loading-on-os-x\" rel=\"nofollow\" title=\"Plugin loading on OS X\" class=\"ap-connect-link\">#800</a> if there's a compelling reason to use <code>MODULE</code></p>", "type": "rendered"}, "created_on": "2016-05-17T17:38:02.917554+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2016-05-17T17:38:02.920470+00:00", "type": "pullrequest_comment", "id": 18593218}], "page": 1, "size": 18}