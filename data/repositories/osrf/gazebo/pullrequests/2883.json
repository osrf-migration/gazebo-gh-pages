{"rendered": {"description": {"raw": "While investigating issue #2367, which involved a test failure when cloning a pr2 and expecting the cloned joint limits to match the original, I discovered an unrelated bug (the test failure was solved in pull request #2867). The `BulletHingeJoint` class uses `angleOffset` to ensure that the initial joint position has an angle of zero because sometimes that is not the case (see the added test case in  d847c57 for an example when the off-diagonal inertias are not zero). We had neglected to account for the `angleOffset` when reporting joint limits, however, so I've made that fix here. \r\n\r\nI also switched to using default values instead of an initializer list in the SpawnJointOptions class and `NULL` -> `nullptr`.", "markup": "markdown", "html": "<p>While investigating issue <a href=\"#!/osrf/gazebo/issues/2367/physicsengines-factorytestclone-1-failing\" rel=\"nofollow\" title=\"PhysicsEngines/FactoryTest.Clone/1 failing on gazebo8 and default\" class=\"ap-connect-link\"><s>#2367</s></a>, which involved a test failure when cloning a pr2 and expecting the cloned joint limits to match the original, I discovered an unrelated bug (the test failure was solved in <a href=\"#!/osrf/gazebo/pull-requests/2867/ensure-sdf-inertia-values-are-consistent\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #2867</a>). The <code>BulletHingeJoint</code> class uses <code>angleOffset</code> to ensure that the initial joint position has an angle of zero because sometimes that is not the case (see the added test case in  <a href=\"#!/osrf/gazebo/commits/d847c57\" rel=\"nofollow\" class=\"ap-connect-link\">d847c57</a> for an example when the off-diagonal inertias are not zero). We had neglected to account for the <code>angleOffset</code> when reporting joint limits, however, so I've made that fix here. </p>\n<p>I also switched to using default values instead of an initializer list in the SpawnJointOptions class and <code>NULL</code> -&gt; <code>nullptr</code>.</p>", "type": "rendered"}, "title": {"raw": "Fix BulletHingeJoint limits when child link has off-diagonal inertia", "markup": "markdown", "html": "<p>Fix BulletHingeJoint limits when child link has off-diagonal inertia</p>", "type": "rendered"}}, "type": "pullrequest", "description": "While investigating issue #2367, which involved a test failure when cloning a pr2 and expecting the cloned joint limits to match the original, I discovered an unrelated bug (the test failure was solved in pull request #2867). The `BulletHingeJoint` class uses `angleOffset` to ensure that the initial joint position has an angle of zero because sometimes that is not the case (see the added test case in  d847c57 for an example when the off-diagonal inertias are not zero). We had neglected to account for the `angleOffset` when reporting joint limits, however, so I've made that fix here. \r\n\r\nI also switched to using default values instead of an initializer list in the SpawnJointOptions class and `NULL` -> `nullptr`.", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/pullrequests/2883/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diffstat/osrf/gazebo:bd5c6390a7ad%0D93c9d04629a7?from_pullrequest_id=2883"}, "commits": {"href": "data/repositories/osrf/gazebo/pullrequests/2883/commits.json"}, "self": {"href": "data/repositories/osrf/gazebo/pullrequests/2883.json"}, "comments": {"href": "data/repositories/osrf/gazebo/pullrequests/2883/comments_page=1.json"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/pullrequests/2883/merge"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2883"}, "activity": {"href": "data/repositories/osrf/gazebo/pullrequests/2883/activity.json"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:bd5c6390a7ad%0D93c9d04629a7?from_pullrequest_id=2883"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/pullrequests/2883/approve"}, "statuses": {"href": "data/repositories/osrf/gazebo/pullrequests/2883/statuses_page=1.json"}}, "title": "Fix BulletHingeJoint limits when child link has off-diagonal inertia", "close_source_branch": true, "reviewers": [{"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, {"display_name": "Javier Iv\u00e1n Choclin", "uuid": "{745acb37-6a3b-4169-8ba9-2c142a7408fb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B745acb37-6a3b-4169-8ba9-2c142a7408fb%7D"}, "html": {"href": "https://bitbucket.org/%7B745acb37-6a3b-4169-8ba9-2c142a7408fb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2279399d-3c75-4e1e-b818-4fb8339b2939/26f5815d-5477-4106-ba9b-ac56ee23e175/128"}}, "nickname": "Javier Choclin", "type": "user", "account_id": "557058:2279399d-3c75-4e1e-b818-4fb8339b2939"}], "id": 2883, "destination": {"commit": {"hash": "93c9d04629a7", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/93c9d04629a7.json"}, "html": {"href": "#!/osrf/gazebo/commits/93c9d04629a7"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo8"}}, "created_on": "2018-02-13T18:52:37.315115+00:00", "summary": {"raw": "While investigating issue #2367, which involved a test failure when cloning a pr2 and expecting the cloned joint limits to match the original, I discovered an unrelated bug (the test failure was solved in pull request #2867). The `BulletHingeJoint` class uses `angleOffset` to ensure that the initial joint position has an angle of zero because sometimes that is not the case (see the added test case in  d847c57 for an example when the off-diagonal inertias are not zero). We had neglected to account for the `angleOffset` when reporting joint limits, however, so I've made that fix here. \r\n\r\nI also switched to using default values instead of an initializer list in the SpawnJointOptions class and `NULL` -> `nullptr`.", "markup": "markdown", "html": "<p>While investigating issue <a href=\"#!/osrf/gazebo/issues/2367/physicsengines-factorytestclone-1-failing\" rel=\"nofollow\" title=\"PhysicsEngines/FactoryTest.Clone/1 failing on gazebo8 and default\" class=\"ap-connect-link\"><s>#2367</s></a>, which involved a test failure when cloning a pr2 and expecting the cloned joint limits to match the original, I discovered an unrelated bug (the test failure was solved in <a href=\"#!/osrf/gazebo/pull-requests/2867/ensure-sdf-inertia-values-are-consistent\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #2867</a>). The <code>BulletHingeJoint</code> class uses <code>angleOffset</code> to ensure that the initial joint position has an angle of zero because sometimes that is not the case (see the added test case in  <a href=\"#!/osrf/gazebo/commits/d847c57\" rel=\"nofollow\" class=\"ap-connect-link\">d847c57</a> for an example when the off-diagonal inertias are not zero). We had neglected to account for the <code>angleOffset</code> when reporting joint limits, however, so I've made that fix here. </p>\n<p>I also switched to using default values instead of an initializer list in the SpawnJointOptions class and <code>NULL</code> -&gt; <code>nullptr</code>.</p>", "type": "rendered"}, "source": {"commit": {"hash": "39214b429a62", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/39214b429a62.json"}, "html": {"href": "#!/osrf/gazebo/commits/39214b429a62"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "issue_2367"}}, "comment_count": 8, "state": "MERGED", "task_count": 0, "participants": [{"role": "PARTICIPANT", "participated_on": "2018-05-04T22:58:55.181072+00:00", "type": "participant", "approved": false, "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}}, {"role": "REVIEWER", "participated_on": "2018-05-05T00:47:29.768549+00:00", "type": "participant", "approved": true, "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}}, {"role": "REVIEWER", "participated_on": "2018-03-02T13:03:34.900306+00:00", "type": "participant", "approved": true, "user": {"display_name": "Javier Iv\u00e1n Choclin", "uuid": "{745acb37-6a3b-4169-8ba9-2c142a7408fb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B745acb37-6a3b-4169-8ba9-2c142a7408fb%7D"}, "html": {"href": "https://bitbucket.org/%7B745acb37-6a3b-4169-8ba9-2c142a7408fb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2279399d-3c75-4e1e-b818-4fb8339b2939/26f5815d-5477-4106-ba9b-ac56ee23e175/128"}}, "nickname": "Javier Choclin", "type": "user", "account_id": "557058:2279399d-3c75-4e1e-b818-4fb8339b2939"}}], "reason": "", "updated_on": "2018-05-05T05:44:15.097835+00:00", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "merge_commit": {"hash": "bd5c6390a7ad", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/bd5c6390a7ad.json"}, "html": {"href": "#!/osrf/gazebo/commits/bd5c6390a7ad"}}}, "closed_by": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}}