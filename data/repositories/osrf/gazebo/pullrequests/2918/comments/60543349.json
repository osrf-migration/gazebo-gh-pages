{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2918/comments/60543349.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2918/_/diff#comment-60543349"}}, "parent": {"id": 60542932, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2918/comments/60542932.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2918/_/diff#comment-60542932"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2918, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2918.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2918"}}, "title": "Add trigger_light example for ContainPlugin tutorial"}, "content": {"raw": "This looks like an issue in `gazebo-config.cmake`.\n\n```cmake\nif (NOT MSVC)\n  list(APPEND GAZEBO_CXX_FLAGS -std=c++11)\nendif()\nif (\"${CMAKE_CXX_COMPILER_ID}\" MATCHES \"Clang\" AND\n    \"${CMAKE_SYSTEM_NAME}\" MATCHES \"Darwin\")\n  set(GAZEBO_CXX_FLAGS \"${GAZEBO_CXX_FLAGS} -stdlib=libc++\")\nendif ()\n```\nIt looks like the intent was to add `-stdlib=libc++` if using clang on OSX.  The way it was done turns what was a list of flags into a string. Changing to use `list(APPEND ...)` should allow downstream users to use `target_compile_options`.", "markup": "markdown", "html": "<p>This looks like an issue in <code>gazebo-config.cmake</code>.</p>\n<div class=\"codehilite language-cmake\"><pre><span></span><span class=\"nb\">if</span> <span class=\"p\">(</span><span class=\"s\">NOT</span> <span class=\"s\">MSVC</span><span class=\"p\">)</span>\n  <span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"s\">APPEND</span> <span class=\"s\">GAZEBO_CXX_FLAGS</span> <span class=\"s\">-std=c++11</span><span class=\"p\">)</span>\n<span class=\"nb\">endif</span><span class=\"p\">()</span>\n<span class=\"nb\">if</span> <span class=\"p\">(</span><span class=\"s2\">&quot;${CMAKE_CXX_COMPILER_ID}&quot;</span> <span class=\"s\">MATCHES</span> <span class=\"s2\">&quot;Clang&quot;</span> <span class=\"s\">AND</span>\n    <span class=\"s2\">&quot;${CMAKE_SYSTEM_NAME}&quot;</span> <span class=\"s\">MATCHES</span> <span class=\"s2\">&quot;Darwin&quot;</span><span class=\"p\">)</span>\n  <span class=\"nb\">set</span><span class=\"p\">(</span><span class=\"s\">GAZEBO_CXX_FLAGS</span> <span class=\"s2\">&quot;${GAZEBO_CXX_FLAGS} -stdlib=libc++&quot;</span><span class=\"p\">)</span>\n<span class=\"nb\">endif</span> <span class=\"p\">()</span>\n</pre></div>\n\n\n<p>It looks like the intent was to add <code>-stdlib=libc++</code> if using clang on OSX.  The way it was done turns what was a list of flags into a string. Changing to use <code>list(APPEND ...)</code> should allow downstream users to use <code>target_compile_options</code>.</p>", "type": "rendered"}, "created_on": "2018-04-03T16:32:06.926222+00:00", "user": {"display_name": "Shane Loretz", "uuid": "{656e3311-aad9-45a1-aaf7-b0ee0e84b287}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D"}, "html": {"href": "https://bitbucket.org/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:684383ab-ac95-4859-a350-4a6f41a94a22/c7a1ebf5-cade-4115-9f26-9d3facb776db/128"}}, "nickname": "Shane Loretz", "type": "user", "account_id": "557058:684383ab-ac95-4859-a350-4a6f41a94a22"}, "updated_on": "2018-04-03T16:32:06.929992+00:00", "type": "pullrequest_comment", "id": 60543349}