{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2757/comments/41760575.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/pchorak/gazebo:498cb3a99d79..0e536b1ea0b2?path=gazebo%2Fphysics%2Fbullet%2FBulletLink.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2757/_/diff#comment-41760575"}}, "parent": {"id": 41753715, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2757/comments/41753715.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2757/_/diff#comment-41753715"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2757, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2757.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2757"}}, "title": "Support off-diagonal inertia terms in bullet"}, "content": {"raw": "[4ff8ac1](https://bitbucket.org/pchorak/gazebo/commits/4ff8ac1) restores the deleted code. It also stores the initial inertial pose so it can determine whether the pose has changed. This also makes it possible to check whether diagonalizing the new inertia tensor would result in the correct pose (e.g. if the tensor has the same principal axes as the original).\n\nI considered using the sdf inertial element `this->sdf->GetElement(\"inertial\")` to obtain the initial pose but decided to add a new dedicated field in case the sdf element changed.", "markup": "markdown", "html": "<p><a data-is-external-link=\"true\" href=\"https://bitbucket.org/pchorak/gazebo/commits/4ff8ac1\" rel=\"nofollow\">4ff8ac1</a> restores the deleted code. It also stores the initial inertial pose so it can determine whether the pose has changed. This also makes it possible to check whether diagonalizing the new inertia tensor would result in the correct pose (e.g. if the tensor has the same principal axes as the original).</p>\n<p>I considered using the sdf inertial element <code>this-&gt;sdf-&gt;GetElement(\"inertial\")</code> to obtain the initial pose but decided to add a new dedicated field in case the sdf element changed.</p>", "type": "rendered"}, "created_on": "2017-07-28T22:50:39.387408+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "inline": {"to": null, "from": null, "outdated": true, "path": "gazebo/physics/bullet/BulletLink.cc"}, "updated_on": "2017-07-28T22:50:39.552234+00:00", "type": "pullrequest_comment", "id": 41760575}