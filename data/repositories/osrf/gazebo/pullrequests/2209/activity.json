{"pagelen": 50, "values": [{"update": {"description": "A couple of changes:\r\n\r\nthe way we're copying data to QImage isn't safe and this only became apparent when Qt tries to free the QImage which sometimes causes the double free or corruption crashes.\r\n\r\n~~I also noticed a potential problem when using of std::unique_ptr with Qt objects, mainly that it causes a crash in the object destructor when the object goes out of scope in a non-Qt thread. I reverted the std::unique_ptr changes and just let Qt handle memory management.~~\r\n\r\njenkins [gpu-nvidia](http://build.osrfoundation.org/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/233/) - ok", "title": "Fix ImagesView_TEST crashes", "destination": {"commit": {"hash": "44ce72fd16a7", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/44ce72fd16a7.json"}, "html": {"href": "#!/osrf/gazebo/commits/44ce72fd16a7"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "ba320862c931", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/ba320862c931.json"}, "html": {"href": "#!/osrf/gazebo/commits/ba320862c931"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "fix_delete_imageframe"}}, "state": "MERGED", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2016-03-28T20:28:06.321136+00:00"}, "pull_request": {"type": "pullrequest", "id": 2209, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2209.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2209"}}, "title": "Fix ImagesView_TEST crashes"}}, {"approval": {"date": "2016-03-28T14:54:27.978129+00:00", "pullrequest": {"type": "pullrequest", "id": 2209, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2209.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2209"}}, "title": "Fix ImagesView_TEST crashes"}, "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}}, "pull_request": {"type": "pullrequest", "id": 2209, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2209.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2209"}}, "title": "Fix ImagesView_TEST crashes"}}, {"approval": {"date": "2016-03-26T04:54:52.421681+00:00", "pullrequest": {"type": "pullrequest", "id": 2209, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2209.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2209"}}, "title": "Fix ImagesView_TEST crashes"}, "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}}, "pull_request": {"type": "pullrequest", "id": 2209, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2209.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2209"}}, "title": "Fix ImagesView_TEST crashes"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2209/comments/16278862.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2209/_/diff#comment-16278862"}}, "parent": {"id": 16278654, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2209/comments/16278654.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2209/_/diff#comment-16278654"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2209, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2209.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2209"}}, "title": "Fix ImagesView_TEST crashes"}, "content": {"raw": "Perfect, thanks.", "markup": "markdown", "html": "<p>Perfect, thanks.</p>", "type": "rendered"}, "created_on": "2016-03-25T17:00:31.275241+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2016-03-25T17:00:31.278178+00:00", "type": "pullrequest_comment", "id": 16278862}, "pull_request": {"type": "pullrequest", "id": 2209, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2209.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2209"}}, "title": "Fix ImagesView_TEST crashes"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2209/comments/16278654.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2209/_/diff#comment-16278654"}}, "parent": {"id": 16278450, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2209/comments/16278450.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2209/_/diff#comment-16278450"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2209, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2209.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2209"}}, "title": "Fix ImagesView_TEST crashes"}, "content": {"raw": "I think it's good to move the lock in the `OnImage` callback to protect `this->dataPtr->image` as we're accessing/modifying its data in two threads.  It hasn't really caused a crash so far though but I'll update it just to be safe.", "markup": "markdown", "html": "<p>I think it's good to move the lock in the <code>OnImage</code> callback to protect <code>this-&gt;dataPtr-&gt;image</code> as we're accessing/modifying its data in two threads.  It hasn't really caused a crash so far though but I'll update it just to be safe.</p>", "type": "rendered"}, "created_on": "2016-03-25T16:52:08.315693+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2016-03-25T16:52:08.318061+00:00", "type": "pullrequest_comment", "id": 16278654}, "pull_request": {"type": "pullrequest", "id": 2209, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2209.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2209"}}, "title": "Fix ImagesView_TEST crashes"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2209/comments/16278450.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2209/_/diff#comment-16278450"}}, "parent": {"id": 16278370, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2209/comments/16278370.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2209/_/diff#comment-16278370"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2209, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2209.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2209"}}, "title": "Fix ImagesView_TEST crashes"}, "content": {"raw": "Sounds good. You also moved two locks in `ImageFrame::paintEvent`. Are those changes relevant to gazebo7 as well?", "markup": "markdown", "html": "<p>Sounds good. You also moved two locks in <code>ImageFrame::paintEvent</code>. Are those changes relevant to gazebo7 as well?</p>", "type": "rendered"}, "created_on": "2016-03-25T16:44:12.445420+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2016-03-25T16:44:12.450380+00:00", "type": "pullrequest_comment", "id": 16278450}, "pull_request": {"type": "pullrequest", "id": 2209, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2209.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2209"}}, "title": "Fix ImagesView_TEST crashes"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2209/comments/16278370.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2209/_/diff#comment-16278370"}}, "parent": {"id": 16272898, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2209/comments/16272898.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2209/_/diff#comment-16272898"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2209, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2209.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2209"}}, "title": "Fix ImagesView_TEST crashes"}, "content": {"raw": "I can port the memcpy part to gazebo7. ", "markup": "markdown", "html": "<p>I can port the memcpy part to gazebo7. </p>", "type": "rendered"}, "created_on": "2016-03-25T16:41:28.621565+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2016-03-25T16:41:28.624441+00:00", "type": "pullrequest_comment", "id": 16278370}, "pull_request": {"type": "pullrequest", "id": 2209, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2209.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2209"}}, "title": "Fix ImagesView_TEST crashes"}}, {"update": {"description": "A couple of changes:\r\n\r\nthe way we're copying data to QImage isn't safe and this only became apparent when Qt tries to free the QImage which sometimes causes the double free or corruption crashes.\r\n\r\n~~I also noticed a potential problem when using of std::unique_ptr with Qt objects, mainly that it causes a crash in the object destructor when the object goes out of scope in a non-Qt thread. I reverted the std::unique_ptr changes and just let Qt handle memory management.~~\r\n\r\njenkins [gpu-nvidia](http://build.osrfoundation.org/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/233/) - ok", "title": "Fix ImagesView_TEST crashes", "destination": {"commit": {"hash": "0a567e928587", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/0a567e928587.json"}, "html": {"href": "#!/osrf/gazebo/commits/0a567e928587"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "ba320862c931", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/ba320862c931.json"}, "html": {"href": "#!/osrf/gazebo/commits/ba320862c931"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "fix_delete_imageframe"}}, "state": "OPEN", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2016-03-25T16:39:05.592959+00:00"}, "pull_request": {"type": "pullrequest", "id": 2209, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2209.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2209"}}, "title": "Fix ImagesView_TEST crashes"}}, {"update": {"description": "A couple of changes:\r\n\r\nthe way we're copying data to QImage isn't safe and this only became apparent when Qt tries to free the QImage which sometimes causes the double free or corruption crashes.\r\n\r\nI also noticed a potential problem when using of std::unique_ptr with Qt objects, mainly that it causes a crash in the object destructor when the object goes out of scope in a non-Qt thread. I reverted the std::unique_ptr changes and just let Qt handle memory management.\r\n\r\njenkins [gpu-nvidia](http://build.osrfoundation.org/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/233/) - ok", "title": "Fix ImagesView_TEST crashes", "destination": {"commit": {"hash": "0a567e928587", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/0a567e928587.json"}, "html": {"href": "#!/osrf/gazebo/commits/0a567e928587"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "ba320862c931", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/ba320862c931.json"}, "html": {"href": "#!/osrf/gazebo/commits/ba320862c931"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "fix_delete_imageframe"}}, "state": "OPEN", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2016-03-25T16:38:31.531431+00:00"}, "pull_request": {"type": "pullrequest", "id": 2209, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2209.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2209"}}, "title": "Fix ImagesView_TEST crashes"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2209/comments/16278260.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2209/_/diff#comment-16278260"}}, "parent": {"id": 16272818, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2209/comments/16272818.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2209/_/diff#comment-16272818"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2209, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2209.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2209"}}, "title": "Fix ImagesView_TEST crashes"}, "content": {"raw": "I reverted the changes and the test passes. It could be just a combination of things I was doing. \n\nI am still a little unsure about using unique ptrs and immediately releasing them. ", "markup": "markdown", "html": "<p>I reverted the changes and the test passes. It could be just a combination of things I was doing. </p>\n<p>I am still a little unsure about using unique ptrs and immediately releasing them. </p>", "type": "rendered"}, "created_on": "2016-03-25T16:38:28.091233+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2016-03-25T16:38:28.095232+00:00", "type": "pullrequest_comment", "id": 16278260}, "pull_request": {"type": "pullrequest", "id": 2209, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2209.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2209"}}, "title": "Fix ImagesView_TEST crashes"}}, {"update": {"description": "A couple of changes:\r\n\r\nthe way we're copying data to QImage isn't safe and this only became apparent when Qt tries to free the QImage which sometimes causes the double free or corruption crashes.\r\n\r\nI also noticed a potential problem when using of std::unique_ptr with Qt objects, mainly that it causes a crash in the object destructor when the object goes out of scope in a non-Qt thread. I reverted the std::unique_ptr changes and just let Qt handle memory management.\r\n\r\njenkins [gpu-nvidia](http://build.osrfoundation.org/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/233/) - ok", "title": "Fix ImagesView_TEST crashes", "destination": {"commit": {"hash": "0a567e928587", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/0a567e928587.json"}, "html": {"href": "#!/osrf/gazebo/commits/0a567e928587"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "ba320862c931", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/ba320862c931.json"}, "html": {"href": "#!/osrf/gazebo/commits/ba320862c931"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "fix_delete_imageframe"}}, "state": "OPEN", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2016-03-25T16:35:45.029579+00:00"}, "pull_request": {"type": "pullrequest", "id": 2209, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2209.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2209"}}, "title": "Fix ImagesView_TEST crashes"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2209/comments/16272898.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2209/_/diff#comment-16272898"}}, "parent": {"id": 16272675, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2209/comments/16272675.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2209/_/diff#comment-16272675"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2209, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2209.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2209"}}, "title": "Fix ImagesView_TEST crashes"}, "content": {"raw": "Gazebo7 looks almost identical to default, without this pull request. I would assume the additional mutex, memcpy change, and unique_ptr change should be applied to gazebo7.", "markup": "markdown", "html": "<p>Gazebo7 looks almost identical to default, without this pull request. I would assume the additional mutex, memcpy change, and unique_ptr change should be applied to gazebo7.</p>", "type": "rendered"}, "created_on": "2016-03-25T14:47:28.409681+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2016-03-25T14:47:28.416645+00:00", "type": "pullrequest_comment", "id": 16272898}, "pull_request": {"type": "pullrequest", "id": 2209, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2209.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2209"}}, "title": "Fix ImagesView_TEST crashes"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2209/comments/16272818.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2209/_/diff#comment-16272818"}}, "parent": {"id": 16272732, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2209/comments/16272732.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2209/_/diff#comment-16272732"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2209, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2209.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2209"}}, "title": "Fix ImagesView_TEST crashes"}, "content": {"raw": "If anything, I would have thought that storing a `QImage` in [ImageFramePrivate](#!/osrf/gazebo/src/d17d941637690ecf5586afd05ac581da7f515936/gazebo/gui/viewers/ImageFramePrivate.hh?fileviewer=file-view-default#ImageFramePrivate.hh-30) (which is stored by a `unique_ptr` in `ImageFrame`) would have been the problem, but I figured the other `unique_ptr`s would have been ok.", "markup": "markdown", "html": "<p>If anything, I would have thought that storing a <code>QImage</code> in <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/d17d941637690ecf5586afd05ac581da7f515936/gazebo/gui/viewers/ImageFramePrivate.hh?fileviewer=file-view-default#ImageFramePrivate.hh-30\" rel=\"nofollow\">ImageFramePrivate</a> (which is stored by a <code>unique_ptr</code> in <code>ImageFrame</code>) would have been the problem, but I figured the other <code>unique_ptr</code>s would have been ok.</p>", "type": "rendered"}, "created_on": "2016-03-25T14:45:55.535741+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2016-03-25T14:45:55.540959+00:00", "type": "pullrequest_comment", "id": 16272818}, "pull_request": {"type": "pullrequest", "id": 2209, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2209.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2209"}}, "title": "Fix ImagesView_TEST crashes"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2209/comments/16272732.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2209/_/diff#comment-16272732"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2209, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2209.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2209"}}, "title": "Fix ImagesView_TEST crashes"}, "content": {"raw": "I'm surprised that the `unique_ptr` is a problem, since we release it immediately.", "markup": "markdown", "html": "<p>I'm surprised that the <code>unique_ptr</code> is a problem, since we release it immediately.</p>", "type": "rendered"}, "created_on": "2016-03-25T14:42:45.764763+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2016-03-25T14:42:45.766925+00:00", "type": "pullrequest_comment", "id": 16272732}, "pull_request": {"type": "pullrequest", "id": 2209, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2209.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2209"}}, "title": "Fix ImagesView_TEST crashes"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2209/comments/16272675.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2209/_/diff#comment-16272675"}}, "parent": {"id": 16272265, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2209/comments/16272265.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2209/_/diff#comment-16272265"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2209, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2209.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2209"}}, "title": "Fix ImagesView_TEST crashes"}, "content": {"raw": "We tested gazebo7 thoroughly in pull request #2194 and the test is passing there, but changes had been made to `ImageFrame` on default in pull request #2112 which has been causing test failures. I'll defer to @iche033 but I'm guessing these changes are not appropriate for `gazebo7`.", "markup": "markdown", "html": "<p>We tested gazebo7 thoroughly in <a href=\"#!/osrf/gazebo/pull-requests/2194/fix-unit_imagesview_test\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #2194</a> and the test is passing there, but changes had been made to <code>ImageFrame</code> on default in <a href=\"#!/osrf/gazebo/pull-requests/2112/publish-depth-camera-data-to-a-topic\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #2112</a> which has been causing test failures. I'll defer to @iche033 but I'm guessing these changes are not appropriate for <code>gazebo7</code>.</p>", "type": "rendered"}, "created_on": "2016-03-25T14:41:07.597961+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2016-03-25T14:41:07.603335+00:00", "type": "pullrequest_comment", "id": 16272675}, "pull_request": {"type": "pullrequest", "id": 2209, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2209.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2209"}}, "title": "Fix ImagesView_TEST crashes"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2209/comments/16272265.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2209/_/diff#comment-16272265"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2209, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2209.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2209"}}, "title": "Fix ImagesView_TEST crashes"}, "content": {"raw": "This could go into gazebo7, right?", "markup": "markdown", "html": "<p>This could go into gazebo7, right?</p>", "type": "rendered"}, "created_on": "2016-03-25T14:28:57.927497+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2016-03-25T14:28:57.929765+00:00", "type": "pullrequest_comment", "id": 16272265}, "pull_request": {"type": "pullrequest", "id": 2209, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2209.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2209"}}, "title": "Fix ImagesView_TEST crashes"}}, {"update": {"description": "A couple of changes:\r\n\r\nthe way we're copying data to QImage isn't safe and this only became apparent when Qt tries to free the QImage which sometimes causes the double free or corruption crashes.\r\n\r\nI also noticed a potential problem when using of std::unique_ptr with Qt objects, mainly that it causes a crash in the object destructor when the object goes out of scope in a non-Qt thread. I reverted the std::unique_ptr changes and just let Qt handle memory management.\r\n\r\njenkins [gpu-nvidia](http://build.osrfoundation.org/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/233/) - ok", "title": "Fix ImagesView_TEST crashes", "destination": {"commit": {"hash": "d17d94163769", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/d17d94163769.json"}, "html": {"href": "#!/osrf/gazebo/commits/d17d94163769"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "a547fbeb77e8", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/a547fbeb77e8.json"}, "html": {"href": "#!/osrf/gazebo/commits/a547fbeb77e8"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "fix_delete_imageframe"}}, "state": "OPEN", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2016-03-25T02:17:17.760601+00:00"}, "pull_request": {"type": "pullrequest", "id": 2209, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2209.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2209"}}, "title": "Fix ImagesView_TEST crashes"}}, {"update": {"description": "A couple of changes:\r\n\r\nthe way we're copying data to QImage isn't safe and this only became apparent when Qt tries to free the QImage which sometimes causes the double free or corruption crashes.\r\n\r\nI also noticed a potential problem when using of std::unique_ptr with Qt objects, mainly that it causes a crash in the object destructor when the object goes out of scope in a non-Qt thread. I reverted the std::unique_ptr changes and just let Qt handle memory management.\r\n\r\njenkins [gpu-nvidia](http://build.osrfoundation.org/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/233/) - ok", "title": "Fix ImagesView_TEST crashes", "destination": {"commit": {"hash": "d17d94163769", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/d17d94163769.json"}, "html": {"href": "#!/osrf/gazebo/commits/d17d94163769"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "a547fbeb77e8", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/a547fbeb77e8.json"}, "html": {"href": "#!/osrf/gazebo/commits/a547fbeb77e8"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "fix_delete_imageframe"}}, "state": "OPEN", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2016-03-25T02:17:17.728141+00:00"}, "pull_request": {"type": "pullrequest", "id": 2209, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2209.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2209"}}, "title": "Fix ImagesView_TEST crashes"}}]}