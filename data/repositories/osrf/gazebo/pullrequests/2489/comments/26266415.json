{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2489/comments/26266415.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2489/_/diff#comment-26266415"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2489, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2489.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2489"}}, "title": "Disable tests compilation by default in cmake"}, "content": {"raw": "One alternative would be using CMake custom target for the tests. The advantage of using the custom target is that we don't need to rerun cmake for building gazebo with and without tests.\n\nHow to:\n\n* remove `ENABLE_TESTS_COMPILATION`\n* add the test directory with option `EXCLUDE_FROM_ALL` as `add_subdirectory(tests EXCLUDE_FROM_ALL)`\n* add custom target as `add_custom_target(tests DEPENDS ${LIST_OF_TESTS})`\n\nOnce you've done this you could build:\n\n* the default targets: `make` or `make all`\n* individual test target: `make test_name_001`\n* all the tests: `make tests`", "markup": "markdown", "html": "<p>One alternative would be using CMake custom target for the tests. The advantage of using the custom target is that we don't need to rerun cmake for building gazebo with and without tests.</p>\n<p>How to:</p>\n<ul>\n<li>remove <code>ENABLE_TESTS_COMPILATION</code></li>\n<li>add the test directory with option <code>EXCLUDE_FROM_ALL</code> as <code>add_subdirectory(tests EXCLUDE_FROM_ALL)</code></li>\n<li>add custom target as <code>add_custom_target(tests DEPENDS ${LIST_OF_TESTS})</code></li>\n</ul>\n<p>Once you've done this you could build:</p>\n<ul>\n<li>the default targets: <code>make</code> or <code>make all</code></li>\n<li>individual test target: <code>make test_name_001</code></li>\n<li>all the tests: <code>make tests</code></li>\n</ul>", "type": "rendered"}, "created_on": "2016-11-04T00:42:36.094850+00:00", "user": {"display_name": "Jeongseok Lee", "uuid": "{3907b560-aed7-43bd-bfa9-fd9873322291}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3907b560-aed7-43bd-bfa9-fd9873322291%7D"}, "html": {"href": "https://bitbucket.org/%7B3907b560-aed7-43bd-bfa9-fd9873322291%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/242819b368397b2b4cddf273b2ba9bf8d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJL-0.png"}}, "nickname": "jlee02", "type": "user", "account_id": "557058:e3fbdece-a1d8-4fb6-a9f1-236ecb09bd9d"}, "updated_on": "2016-11-04T00:42:36.096635+00:00", "type": "pullrequest_comment", "id": 26266415}