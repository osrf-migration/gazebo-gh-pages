{"rendered": {"description": {"raw": "Our version of ODE doesn't implement `dJointGetHinge2Angle2`. In the past, the function `ODEHinge2Joint::PositionImpl` returned 0 for the angle of the second axis. The regression occurred in 03b7ba1 because we started returning NAN instead.\r\n\r\nA regression test for issue #2239 is added in a5680ed. The test simply spawns a revolute2 joint and checks if the position of the link attached to the joint moves to the origin after one simulation step.\r\n\r\na5680ed fixes the issue.  This fix involves an update to ode from https://bitbucket.org/odedevs/ode/commits/b3ac898a53cf to get the `dJointGetHinge2Angle2` function and return that angle instead of NAN.\r\n\r\ncc: @sloretz", "markup": "markdown", "html": "<p>Our version of ODE doesn't implement <code>dJointGetHinge2Angle2</code>. In the past, the function <code>ODEHinge2Joint::PositionImpl</code> returned 0 for the angle of the second axis. The regression occurred in <a href=\"#!/osrf/gazebo/commits/03b7ba1\" rel=\"nofollow\" class=\"ap-connect-link\">03b7ba1</a> because we started returning NAN instead.</p>\n<p>A regression test for issue <a href=\"#!/osrf/gazebo/issues/2239/all-links-teleport-to-origin-if-model-has\" rel=\"nofollow\" title=\"All links teleport to origin if model has a revolute2 joint.\" class=\"ap-connect-link\"><s>#2239</s></a> is added in <a href=\"#!/osrf/gazebo/commits/a5680ed\" rel=\"nofollow\" class=\"ap-connect-link\">a5680ed</a>. The test simply spawns a revolute2 joint and checks if the position of the link attached to the joint moves to the origin after one simulation step.</p>\n<p><a href=\"#!/osrf/gazebo/commits/a5680ed\" rel=\"nofollow\" class=\"ap-connect-link\">a5680ed</a> fixes the issue.  This fix involves an update to ode from <a href=\"https://bitbucket.org/odedevs/ode/commits/b3ac898a53cf\" rel=\"nofollow\" class=\"ap-connect-link\">https://bitbucket.org/odedevs/ode/commits/b3ac898a53cf</a> to get the <code>dJointGetHinge2Angle2</code> function and return that angle instead of NAN.</p>\n<p>cc: @sloretz</p>", "type": "rendered"}, "title": {"raw": "Fix Issue 2239: All links teleport to origin if model has a revolute2 joint.", "markup": "markdown", "html": "<p>Fix Issue 2239: All links teleport to origin if model has a revolute2 joint.</p>", "type": "rendered"}}, "type": "pullrequest", "description": "Our version of ODE doesn't implement `dJointGetHinge2Angle2`. In the past, the function `ODEHinge2Joint::PositionImpl` returned 0 for the angle of the second axis. The regression occurred in 03b7ba1 because we started returning NAN instead.\r\n\r\nA regression test for issue #2239 is added in a5680ed. The test simply spawns a revolute2 joint and checks if the position of the link attached to the joint moves to the origin after one simulation step.\r\n\r\na5680ed fixes the issue.  This fix involves an update to ode from https://bitbucket.org/odedevs/ode/commits/b3ac898a53cf to get the `dJointGetHinge2Angle2` function and return that angle instead of NAN.\r\n\r\ncc: @sloretz", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/pullrequests/3024/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diffstat/osrf/gazebo:61e525869187%0D81180c74b9b4?from_pullrequest_id=3024"}, "commits": {"href": "data/repositories/osrf/gazebo/pullrequests/3024/commits.json"}, "self": {"href": "data/repositories/osrf/gazebo/pullrequests/3024.json"}, "comments": {"href": "data/repositories/osrf/gazebo/pullrequests/3024/comments_page=1.json"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/pullrequests/3024/merge"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3024"}, "activity": {"href": "data/repositories/osrf/gazebo/pullrequests/3024/activity.json"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:61e525869187%0D81180c74b9b4?from_pullrequest_id=3024"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/pullrequests/3024/approve"}, "statuses": {"href": "data/repositories/osrf/gazebo/pullrequests/3024/statuses_page=1.json"}}, "title": "Fix Issue 2239: All links teleport to origin if model has a revolute2 joint.", "close_source_branch": true, "reviewers": [], "id": 3024, "destination": {"commit": {"hash": "81180c74b9b4", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/81180c74b9b4.json"}, "html": {"href": "#!/osrf/gazebo/commits/81180c74b9b4"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo9"}}, "created_on": "2018-10-16T21:24:56.558303+00:00", "summary": {"raw": "Our version of ODE doesn't implement `dJointGetHinge2Angle2`. In the past, the function `ODEHinge2Joint::PositionImpl` returned 0 for the angle of the second axis. The regression occurred in 03b7ba1 because we started returning NAN instead.\r\n\r\nA regression test for issue #2239 is added in a5680ed. The test simply spawns a revolute2 joint and checks if the position of the link attached to the joint moves to the origin after one simulation step.\r\n\r\na5680ed fixes the issue.  This fix involves an update to ode from https://bitbucket.org/odedevs/ode/commits/b3ac898a53cf to get the `dJointGetHinge2Angle2` function and return that angle instead of NAN.\r\n\r\ncc: @sloretz", "markup": "markdown", "html": "<p>Our version of ODE doesn't implement <code>dJointGetHinge2Angle2</code>. In the past, the function <code>ODEHinge2Joint::PositionImpl</code> returned 0 for the angle of the second axis. The regression occurred in <a href=\"#!/osrf/gazebo/commits/03b7ba1\" rel=\"nofollow\" class=\"ap-connect-link\">03b7ba1</a> because we started returning NAN instead.</p>\n<p>A regression test for issue <a href=\"#!/osrf/gazebo/issues/2239/all-links-teleport-to-origin-if-model-has\" rel=\"nofollow\" title=\"All links teleport to origin if model has a revolute2 joint.\" class=\"ap-connect-link\"><s>#2239</s></a> is added in <a href=\"#!/osrf/gazebo/commits/a5680ed\" rel=\"nofollow\" class=\"ap-connect-link\">a5680ed</a>. The test simply spawns a revolute2 joint and checks if the position of the link attached to the joint moves to the origin after one simulation step.</p>\n<p><a href=\"#!/osrf/gazebo/commits/a5680ed\" rel=\"nofollow\" class=\"ap-connect-link\">a5680ed</a> fixes the issue.  This fix involves an update to ode from <a href=\"https://bitbucket.org/odedevs/ode/commits/b3ac898a53cf\" rel=\"nofollow\" class=\"ap-connect-link\">https://bitbucket.org/odedevs/ode/commits/b3ac898a53cf</a> to get the <code>dJointGetHinge2Angle2</code> function and return that angle instead of NAN.</p>\n<p>cc: @sloretz</p>", "type": "rendered"}, "source": {"commit": {"hash": "5cd6a44674b9", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/5cd6a44674b9.json"}, "html": {"href": "#!/osrf/gazebo/commits/5cd6a44674b9"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "issue_2239"}}, "comment_count": 11, "state": "MERGED", "task_count": 0, "participants": [{"role": "PARTICIPANT", "participated_on": "2018-10-18T14:38:07.230777+00:00", "type": "participant", "approved": true, "user": {"display_name": "Shane Loretz", "uuid": "{656e3311-aad9-45a1-aaf7-b0ee0e84b287}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D"}, "html": {"href": "https://bitbucket.org/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:684383ab-ac95-4859-a350-4a6f41a94a22/c7a1ebf5-cade-4115-9f26-9d3facb776db/128"}}, "nickname": "Shane Loretz", "type": "user", "account_id": "557058:684383ab-ac95-4859-a350-4a6f41a94a22"}}, {"role": "PARTICIPANT", "participated_on": "2018-10-18T04:25:19.238233+00:00", "type": "participant", "approved": true, "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}}, {"role": "PARTICIPANT", "participated_on": "2018-10-18T01:12:47.795472+00:00", "type": "participant", "approved": false, "user": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}}], "reason": "", "updated_on": "2018-10-18T16:01:32.172196+00:00", "author": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}, "merge_commit": {"hash": "61e525869187", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/61e525869187.json"}, "html": {"href": "#!/osrf/gazebo/commits/61e525869187"}}}, "closed_by": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}}