{"pagelen": 50, "values": [{"update": {"description": "The last of a long series of `msgs::*ToSDF` pull requests: this one adds `ModelToSDF`, along with several helper functions for adding simple shapes with geometrically consistent inertia values to a `Model` message:\r\n\r\n~~~\r\nmsgs::AddBoxLink(msgs::Model, double mass, math::Vector3 size)\r\nmsgs::AddCylinderLink(msgs::Model, double mass, double radius, double length)\r\nmsgs::AddSphereLink(msgs::Model, double mass, double radius)\r\n~~~\r\n\r\nI included these helper functions because it made it easier to write the test for ModelToSDF. Although to be honest, it just let me write a more complex test, which is building a \"bicycle\" model programmatically with a box for the frame, cylinder for rear wheel, and sphere for the front wheel. I'll make a tutorial based on that code.\r\n\r\nAlso, I created a private helper function `msgs::AddLinkGeom(msgs::Model, msgs::Geometry)` that is used by the simple shape helper function. It adds a link containing a collision and visual, then sets the attached geometry message to both the collision and visual. It also sets some default material properties on the visual. I made it private to encourage use of the other helper functions that provide correct inertia. @iche033 and @chapulina if that function would be more broadly useful, I can make it public.\r\n\r\nThen to demonstrate the utility of `ModelToSDF`, I updated the GUI tools for making simple shapes to use this function. It provides better inertia values in fewer lines of code. I also updated a few of the `ServerFixture::Spawn` functions, and the tests still pass.", "title": "Add msgs::ModelToSDF, and simple shape helper functions", "destination": {"commit": {"hash": "20a9803efc4e", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/20a9803efc4e.json"}, "html": {"href": "#!/osrf/gazebo/commits/20a9803efc4e"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo5"}}, "reason": "", "source": {"commit": {"hash": "7fd731be4bf3", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/7fd731be4bf3.json"}, "html": {"href": "#!/osrf/gazebo/commits/7fd731be4bf3"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "model_to_sdf"}}, "state": "MERGED", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2015-02-20T01:26:22.085656+00:00"}, "pull_request": {"type": "pullrequest", "id": 1429, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429"}}, "title": "Add msgs::ModelToSDF, and simple shape helper functions"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429/comments/5244493.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429/_/diff#comment-5244493"}}, "parent": {"id": 5243631, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429/comments/5243631.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429/_/diff#comment-5243631"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1429, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429"}}, "title": "Add msgs::ModelToSDF, and simple shape helper functions"}, "content": {"raw": "Cool, thanks!", "markup": "markdown", "html": "<p>Cool, thanks!</p>", "type": "rendered"}, "created_on": "2015-02-20T01:21:07.064240+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2015-02-20T01:21:07.071735+00:00", "type": "pullrequest_comment", "id": 5244493}, "pull_request": {"type": "pullrequest", "id": 1429, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429"}}, "title": "Add msgs::ModelToSDF, and simple shape helper functions"}}, {"approval": {"date": "2015-02-20T01:20:47.377348+00:00", "pullrequest": {"type": "pullrequest", "id": 1429, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429"}}, "title": "Add msgs::ModelToSDF, and simple shape helper functions"}, "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}}, "pull_request": {"type": "pullrequest", "id": 1429, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429"}}, "title": "Add msgs::ModelToSDF, and simple shape helper functions"}}, {"approval": {"date": "2015-02-20T01:15:47.196981+00:00", "pullrequest": {"type": "pullrequest", "id": 1429, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429"}}, "title": "Add msgs::ModelToSDF, and simple shape helper functions"}, "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}}, "pull_request": {"type": "pullrequest", "id": 1429, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429"}}, "title": "Add msgs::ModelToSDF, and simple shape helper functions"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429/comments/5243631.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429/_/diff#comment-5243631"}}, "parent": {"id": 5192997, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429/comments/5192997.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429/_/diff#comment-5192997"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1429, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429"}}, "title": "Add msgs::ModelToSDF, and simple shape helper functions"}, "content": {"raw": "Ok, I made this change and updated the documentation in 7fd731be4bf3.", "markup": "markdown", "html": "<p>Ok, I made this change and updated the documentation in <a href=\"#!/osrf/gazebo/commits/7fd731be4bf3\" rel=\"nofollow\" class=\"ap-connect-link\">7fd731be4bf3</a>.</p>", "type": "rendered"}, "created_on": "2015-02-19T23:43:48.326350+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2015-02-19T23:43:48.336113+00:00", "type": "pullrequest_comment", "id": 5243631}, "pull_request": {"type": "pullrequest", "id": 1429, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429"}}, "title": "Add msgs::ModelToSDF, and simple shape helper functions"}}, {"update": {"description": "The last of a long series of `msgs::*ToSDF` pull requests: this one adds `ModelToSDF`, along with several helper functions for adding simple shapes with geometrically consistent inertia values to a `Model` message:\r\n\r\n~~~\r\nmsgs::AddBoxLink(msgs::Model, double mass, math::Vector3 size)\r\nmsgs::AddCylinderLink(msgs::Model, double mass, double radius, double length)\r\nmsgs::AddSphereLink(msgs::Model, double mass, double radius)\r\n~~~\r\n\r\nI included these helper functions because it made it easier to write the test for ModelToSDF. Although to be honest, it just let me write a more complex test, which is building a \"bicycle\" model programmatically with a box for the frame, cylinder for rear wheel, and sphere for the front wheel. I'll make a tutorial based on that code.\r\n\r\nAlso, I created a private helper function `msgs::AddLinkGeom(msgs::Model, msgs::Geometry)` that is used by the simple shape helper function. It adds a link containing a collision and visual, then sets the attached geometry message to both the collision and visual. It also sets some default material properties on the visual. I made it private to encourage use of the other helper functions that provide correct inertia. @iche033 and @chapulina if that function would be more broadly useful, I can make it public.\r\n\r\nThen to demonstrate the utility of `ModelToSDF`, I updated the GUI tools for making simple shapes to use this function. It provides better inertia values in fewer lines of code. I also updated a few of the `ServerFixture::Spawn` functions, and the tests still pass.", "title": "Add msgs::ModelToSDF, and simple shape helper functions", "destination": {"commit": {"hash": "20a9803efc4e", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/20a9803efc4e.json"}, "html": {"href": "#!/osrf/gazebo/commits/20a9803efc4e"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo5"}}, "reason": "", "source": {"commit": {"hash": "7fd731be4bf3", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/7fd731be4bf3.json"}, "html": {"href": "#!/osrf/gazebo/commits/7fd731be4bf3"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "model_to_sdf"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2015-02-19T23:42:24.332674+00:00"}, "pull_request": {"type": "pullrequest", "id": 1429, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429"}}, "title": "Add msgs::ModelToSDF, and simple shape helper functions"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429/comments/5243441.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429/_/diff#comment-5243441"}}, "parent": {"id": 5242892, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429/comments/5242892.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429/_/diff#comment-5242892"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1429, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429"}}, "title": "Add msgs::ModelToSDF, and simple shape helper functions"}, "content": {"raw": "Working on it..", "markup": "markdown", "html": "<p>Working on it..</p>", "type": "rendered"}, "created_on": "2015-02-19T23:28:58.408992+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2015-02-19T23:28:58.416283+00:00", "type": "pullrequest_comment", "id": 5243441}, "pull_request": {"type": "pullrequest", "id": 1429, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429"}}, "title": "Add msgs::ModelToSDF, and simple shape helper functions"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429/comments/5242892.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429/_/diff#comment-5242892"}}, "parent": {"id": 5242556, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429/comments/5242556.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429/_/diff#comment-5242556"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1429, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429"}}, "title": "Add msgs::ModelToSDF, and simple shape helper functions"}, "content": {"raw": "the other use case is something like [this line](#!/osrf/gazebo/src/fc8b91812634331194e9ec9dad5d9221cfc72306/gazebo/physics/World.cc#cl-2111) that updates an existing light sdf element with fields from a message. It's more for convenience. \n\nI think the most simple approach now is to check `_msg.joint_size() != 0` as suggested by @chapulina. We then document the conversion function better to let users know the effect of converting a repeated field. How does that sound?", "markup": "markdown", "html": "<p>the other use case is something like <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/fc8b91812634331194e9ec9dad5d9221cfc72306/gazebo/physics/World.cc#cl-2111\" rel=\"nofollow\">this line</a> that updates an existing light sdf element with fields from a message. It's more for convenience. </p>\n<p>I think the most simple approach now is to check <code>_msg.joint_size() != 0</code> as suggested by @chapulina. We then document the conversion function better to let users know the effect of converting a repeated field. How does that sound?</p>", "type": "rendered"}, "created_on": "2015-02-19T22:56:20.149466+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {}, "updated_on": "2015-02-19T22:56:20.166598+00:00", "type": "pullrequest_comment", "id": 5242892}, "pull_request": {"type": "pullrequest", "id": 1429, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429"}}, "title": "Add msgs::ModelToSDF, and simple shape helper functions"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429/comments/5242556.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429/_/diff#comment-5242556"}}, "parent": {"id": 5242147, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429/comments/5242147.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429/_/diff#comment-5242147"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1429, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429"}}, "title": "Add msgs::ModelToSDF, and simple shape helper functions"}, "content": {"raw": "We should clarify what the use cases are. The most common use case for me is to call `ModelToSDF(msg)`, so that an empty `sdf::ElementPtr` is created and initialized instead of being passed in. `ModelToSDF` will then clear all links and joints before creating \"link\" and \"joint\" elements as children of modelSDF and pass them in to the `LinkToSDF` and `JointToSDF` functions. The link will then clear and create collisions and visuals and so on. In this case it doesn't matter if we delete child elements before adding because the modelSDF and subsequent links were created from scratch with no children.\n\nWhat is another use case for this function?", "markup": "markdown", "html": "<p>We should clarify what the use cases are. The most common use case for me is to call <code>ModelToSDF(msg)</code>, so that an empty <code>sdf::ElementPtr</code> is created and initialized instead of being passed in. <code>ModelToSDF</code> will then clear all links and joints before creating \"link\" and \"joint\" elements as children of modelSDF and pass them in to the <code>LinkToSDF</code> and <code>JointToSDF</code> functions. The link will then clear and create collisions and visuals and so on. In this case it doesn't matter if we delete child elements before adding because the modelSDF and subsequent links were created from scratch with no children.</p>\n<p>What is another use case for this function?</p>", "type": "rendered"}, "created_on": "2015-02-19T22:29:03.180937+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2015-02-19T22:29:35.588751+00:00", "type": "pullrequest_comment", "id": 5242556}, "pull_request": {"type": "pullrequest", "id": 1429, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429"}}, "title": "Add msgs::ModelToSDF, and simple shape helper functions"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429/comments/5242147.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429/_/diff#comment-5242147"}}, "parent": {"id": 5220561, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429/comments/5220561.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429/_/diff#comment-5220561"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1429, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429"}}, "title": "Add msgs::ModelToSDF, and simple shape helper functions"}, "content": {"raw": "merging sounds ok and doable. I just wonder how we should handle the case when the user's intention is to clear the repeated field?", "markup": "markdown", "html": "<p>merging sounds ok and doable. I just wonder how we should handle the case when the user's intention is to clear the repeated field?</p>", "type": "rendered"}, "created_on": "2015-02-19T22:01:14.231479+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {}, "updated_on": "2015-02-19T22:01:14.240513+00:00", "type": "pullrequest_comment", "id": 5242147}, "pull_request": {"type": "pullrequest", "id": 1429, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429"}}, "title": "Add msgs::ModelToSDF, and simple shape helper functions"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429/comments/5220561.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429/_/diff#comment-5220561"}}, "parent": {"id": 5192997, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429/comments/5192997.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429/_/diff#comment-5192997"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1429, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429"}}, "title": "Add msgs::ModelToSDF, and simple shape helper functions"}, "content": {"raw": "@iche033 wrote `LinkToSDF` and `GeometryToSDF` in pull request #1315, which delete repeated elements before loading new ones. I copied his approach in `MaterialToSDF` in pull request #1415 and `ModelToSDF` in this pull request.\n\nYour comment makes sense. @iche033 do you have any thoughts on this?", "markup": "markdown", "html": "<p>@iche033 wrote <code>LinkToSDF</code> and <code>GeometryToSDF</code> in <a href=\"#!/osrf/gazebo/pull-requests/1315/some-protobuf-to-sdf-conversion-code\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #1315</a>, which delete repeated elements before loading new ones. I copied his approach in <code>MaterialToSDF</code> in <a href=\"#!/osrf/gazebo/pull-requests/1415/add-msgs-visualtosdf-materialtosdf-and\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #1415</a> and <code>ModelToSDF</code> in this pull request.</p>\n<p>Your comment makes sense. @iche033 do you have any thoughts on this?</p>", "type": "rendered"}, "created_on": "2015-02-19T01:44:10.863494+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2015-02-19T01:44:10.874416+00:00", "type": "pullrequest_comment", "id": 5220561}, "pull_request": {"type": "pullrequest", "id": 1429, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429"}}, "title": "Add msgs::ModelToSDF, and simple shape helper functions"}}, {"update": {"description": "The last of a long series of `msgs::*ToSDF` pull requests: this one adds `ModelToSDF`, along with several helper functions for adding simple shapes with geometrically consistent inertia values to a `Model` message:\r\n\r\n~~~\r\nmsgs::AddBoxLink(msgs::Model, double mass, math::Vector3 size)\r\nmsgs::AddCylinderLink(msgs::Model, double mass, double radius, double length)\r\nmsgs::AddSphereLink(msgs::Model, double mass, double radius)\r\n~~~\r\n\r\nI included these helper functions because it made it easier to write the test for ModelToSDF. Although to be honest, it just let me write a more complex test, which is building a \"bicycle\" model programmatically with a box for the frame, cylinder for rear wheel, and sphere for the front wheel. I'll make a tutorial based on that code.\r\n\r\nAlso, I created a private helper function `msgs::AddLinkGeom(msgs::Model, msgs::Geometry)` that is used by the simple shape helper function. It adds a link containing a collision and visual, then sets the attached geometry message to both the collision and visual. It also sets some default material properties on the visual. I made it private to encourage use of the other helper functions that provide correct inertia. @iche033 and @chapulina if that function would be more broadly useful, I can make it public.\r\n\r\nThen to demonstrate the utility of `ModelToSDF`, I updated the GUI tools for making simple shapes to use this function. It provides better inertia values in fewer lines of code. I also updated a few of the `ServerFixture::Spawn` functions, and the tests still pass.", "title": "Add msgs::ModelToSDF, and simple shape helper functions", "destination": {"commit": {"hash": "42e6e2ffb116", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/42e6e2ffb116.json"}, "html": {"href": "#!/osrf/gazebo/commits/42e6e2ffb116"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo5"}}, "reason": "", "source": {"commit": {"hash": "90cb65ba9d19", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/90cb65ba9d19.json"}, "html": {"href": "#!/osrf/gazebo/commits/90cb65ba9d19"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "model_to_sdf"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2015-02-19T01:40:32.394839+00:00"}, "pull_request": {"type": "pullrequest", "id": 1429, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429"}}, "title": "Add msgs::ModelToSDF, and simple shape helper functions"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429/comments/5220528.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429/_/diff#comment-5220528"}}, "parent": {"id": 5192524, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429/comments/5192524.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429/_/diff#comment-5192524"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1429, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429"}}, "title": "Add msgs::ModelToSDF, and simple shape helper functions"}, "content": {"raw": "done in 90cb65ba9d19", "markup": "markdown", "html": "<p>done in <a href=\"#!/osrf/gazebo/commits/90cb65ba9d19\" rel=\"nofollow\" class=\"ap-connect-link\">90cb65ba9d19</a></p>", "type": "rendered"}, "created_on": "2015-02-19T01:40:30.117148+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2015-02-19T01:40:30.124829+00:00", "type": "pullrequest_comment", "id": 5220528}, "pull_request": {"type": "pullrequest", "id": 1429, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429"}}, "title": "Add msgs::ModelToSDF, and simple shape helper functions"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429/comments/5192997.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429/_/diff#comment-5192997"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1429, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429"}}, "title": "Add msgs::ModelToSDF, and simple shape helper functions"}, "content": {"raw": "When you say on the description that the function `performs an update from _sdf`, I'd expect it to sort of \"merge\" models, that is, keep all existing joints and links and add those in the message... Not sure if this is a good idea though, maybe it's just me. But in that case, I would expect links and joints with overlapping names to be updated.\n\nAnother idea is to at least only remove existing joints if `_msg.joint_size() != 0`? (also for links...)", "markup": "markdown", "html": "<p>When you say on the description that the function <code>performs an update from _sdf</code>, I'd expect it to sort of \"merge\" models, that is, keep all existing joints and links and add those in the message... Not sure if this is a good idea though, maybe it's just me. But in that case, I would expect links and joints with overlapping names to be updated.</p>\n<p>Another idea is to at least only remove existing joints if <code>_msg.joint_size() != 0</code>? (also for links...)</p>", "type": "rendered"}, "created_on": "2015-02-17T22:05:08.271803+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2015-02-17T22:05:08.280762+00:00", "type": "pullrequest_comment", "id": 5192997}, "pull_request": {"type": "pullrequest", "id": 1429, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429"}}, "title": "Add msgs::ModelToSDF, and simple shape helper functions"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429/comments/5192524.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429/_/diff#comment-5192524"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1429, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429"}}, "title": "Add msgs::ModelToSDF, and simple shape helper functions"}, "content": {"raw": "maybe `\"link_\"`?", "markup": "markdown", "html": "<p>maybe <code>\"link_\"</code>?</p>", "type": "rendered"}, "created_on": "2015-02-17T21:41:10.009624+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2015-02-17T21:41:10.019392+00:00", "type": "pullrequest_comment", "id": 5192524}, "pull_request": {"type": "pullrequest", "id": 1429, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429"}}, "title": "Add msgs::ModelToSDF, and simple shape helper functions"}}, {"update": {"description": "The last of a long series of `msgs::*ToSDF` pull requests: this one adds `ModelToSDF`, along with several helper functions for adding simple shapes with geometrically consistent inertia values to a `Model` message:\r\n\r\n~~~\r\nmsgs::AddBoxLink(msgs::Model, double mass, math::Vector3 size)\r\nmsgs::AddCylinderLink(msgs::Model, double mass, double radius, double length)\r\nmsgs::AddSphereLink(msgs::Model, double mass, double radius)\r\n~~~\r\n\r\nI included these helper functions because it made it easier to write the test for ModelToSDF. Although to be honest, it just let me write a more complex test, which is building a \"bicycle\" model programmatically with a box for the frame, cylinder for rear wheel, and sphere for the front wheel. I'll make a tutorial based on that code.\r\n\r\nAlso, I created a private helper function `msgs::AddLinkGeom(msgs::Model, msgs::Geometry)` that is used by the simple shape helper function. It adds a link containing a collision and visual, then sets the attached geometry message to both the collision and visual. It also sets some default material properties on the visual. I made it private to encourage use of the other helper functions that provide correct inertia. @iche033 and @chapulina if that function would be more broadly useful, I can make it public.\r\n\r\nThen to demonstrate the utility of `ModelToSDF`, I updated the GUI tools for making simple shapes to use this function. It provides better inertia values in fewer lines of code. I also updated a few of the `ServerFixture::Spawn` functions, and the tests still pass.", "title": "Add msgs::ModelToSDF, and simple shape helper functions", "destination": {"commit": {"hash": "567d2b01d641", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/567d2b01d641.json"}, "html": {"href": "#!/osrf/gazebo/commits/567d2b01d641"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo5"}}, "reason": "", "source": {"commit": {"hash": "96266ad4894e", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/96266ad4894e.json"}, "html": {"href": "#!/osrf/gazebo/commits/96266ad4894e"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "model_to_sdf"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2015-02-16T13:35:47.616304+00:00"}, "pull_request": {"type": "pullrequest", "id": 1429, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429"}}, "title": "Add msgs::ModelToSDF, and simple shape helper functions"}}, {"update": {"description": "The last of a long series of `msgs::*ToSDF` pull requests: this one adds `ModelToSDF`, along with several helper functions for adding simple shapes with geometrically consistent inertia values to a `Model` message:\r\n\r\n~~~\r\nmsgs::AddBoxLink(msgs::Model, double mass, math::Vector3 size)\r\nmsgs::AddCylinderLink(msgs::Model, double mass, double radius, double length)\r\nmsgs::AddSphereLink(msgs::Model, double mass, double radius)\r\n~~~\r\n\r\nI included these helper functions because it made it easier to write the test for ModelToSDF. Although to be honest, it just let me write a more complex test, which is building a \"bicycle\" model programmatically with a box for the frame, cylinder for rear wheel, and sphere for the front wheel. I'll make a tutorial based on that code.\r\n\r\nAlso, I created a private helper function `msgs::AddLinkGeom(msgs::Model, msgs::Geometry)` that is used by the simple shape helper function. It adds a link containing a collision and visual, then sets the attached geometry message to both the collision and visual. It also sets some default material properties on the visual. I made it private to encourage use of the other helper functions that provide correct inertia. @iche033 and @chapulina if that function would be more broadly useful, I can make it public.\r\n\r\nThen to demonstrate the utility of `ModelToSDF`, I updated the GUI tools for making simple shapes to use this function. It provides better inertia values in fewer lines of code. I also updated a few of the `ServerFixture::Spawn` functions, and the tests still pass.", "title": "Add msgs::ModelToSDF, and simple shape helper functions", "destination": {"commit": {"hash": "567d2b01d641", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/567d2b01d641.json"}, "html": {"href": "#!/osrf/gazebo/commits/567d2b01d641"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo5"}}, "reason": "", "source": {"commit": {"hash": "9f223eca20d3", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/9f223eca20d3.json"}, "html": {"href": "#!/osrf/gazebo/commits/9f223eca20d3"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "model_to_sdf"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2015-02-16T13:34:37.245255+00:00"}, "pull_request": {"type": "pullrequest", "id": 1429, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429"}}, "title": "Add msgs::ModelToSDF, and simple shape helper functions"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429/comments/5160533.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429/_/diff#comment-5160533"}}, "parent": {"id": 5148707, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429/comments/5148707.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429/_/diff#comment-5148707"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1429, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429"}}, "title": "Add msgs::ModelToSDF, and simple shape helper functions"}, "content": {"raw": "Ok, I made it public in 8880f6344d10. I haven't added a test, but I think it is covered by the tests for the `Add*Link` functions.", "markup": "markdown", "html": "<p>Ok, I made it public in <a href=\"#!/osrf/gazebo/commits/8880f6344d10\" rel=\"nofollow\" class=\"ap-connect-link\">8880f6344d10</a>. I haven't added a test, but I think it is covered by the tests for the <code>Add*Link</code> functions.</p>", "type": "rendered"}, "created_on": "2015-02-16T13:33:24.655682+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2015-02-16T13:33:24.664752+00:00", "type": "pullrequest_comment", "id": 5160533}, "pull_request": {"type": "pullrequest", "id": 1429, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429"}}, "title": "Add msgs::ModelToSDF, and simple shape helper functions"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429/comments/5148707.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429/_/diff#comment-5148707"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1429, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429"}}, "title": "Add msgs::ModelToSDF, and simple shape helper functions"}, "content": {"raw": "this is great. I'll change the model editor to use these `Add*Link` functions.\n\n`AddLinkGeom` could be useful for adding a mesh geom which doesn't have its `AddMeshLink` function yet. That's one use case for it I could think off. I am also not sure how difficult it would be to provide default inertial values for a mesh.", "markup": "markdown", "html": "<p>this is great. I'll change the model editor to use these <code>Add*Link</code> functions.</p>\n<p><code>AddLinkGeom</code> could be useful for adding a mesh geom which doesn't have its <code>AddMeshLink</code> function yet. That's one use case for it I could think off. I am also not sure how difficult it would be to provide default inertial values for a mesh.</p>", "type": "rendered"}, "created_on": "2015-02-14T21:11:50.239916+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2015-02-14T21:11:50.247535+00:00", "type": "pullrequest_comment", "id": 5148707}, "pull_request": {"type": "pullrequest", "id": 1429, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429"}}, "title": "Add msgs::ModelToSDF, and simple shape helper functions"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429/comments/5146422.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429/_/diff#comment-5146422"}}, "parent": {"id": 5144811, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429/comments/5144811.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429/_/diff#comment-5144811"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1429, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429"}}, "title": "Add msgs::ModelToSDF, and simple shape helper functions"}, "content": {"raw": "no unexpected test failures\n\nalso, all the [new functions have test coverage](http://build.osrfoundation.org/job/gazebo-any-coverage-trusty-amd64/267/clover-report/_var_lib_jenkins_workspace_gazebo-any-coverage-trusty-amd64_gazebo_gazebo_msgs/msgs_cc.html)", "markup": "markdown", "html": "<p>no unexpected test failures</p>\n<p>also, all the <a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/job/gazebo-any-coverage-trusty-amd64/267/clover-report/_var_lib_jenkins_workspace_gazebo-any-coverage-trusty-amd64_gazebo_gazebo_msgs/msgs_cc.html\" rel=\"nofollow\">new functions have test coverage</a></p>", "type": "rendered"}, "created_on": "2015-02-14T00:25:29.943200+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2015-02-14T00:25:29.951846+00:00", "type": "pullrequest_comment", "id": 5146422}, "pull_request": {"type": "pullrequest", "id": 1429, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429"}}, "title": "Add msgs::ModelToSDF, and simple shape helper functions"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429/comments/5144811.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429/_/diff#comment-5144811"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1429, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429"}}, "title": "Add msgs::ModelToSDF, and simple shape helper functions"}, "content": {"raw": "* [jenkins trusty build](http://build.osrfoundation.org/job/gazebo-any-devel-trusty-amd64-gpu-nvidia/502/)\n* [jenkins homebrew build](http://build.osrfoundation.org/view/homebrew/job/gazebo-any-devel-homebrew-amd64/432)\n* [jenkins coverage build](http://build.osrfoundation.org/job/gazebo-any-coverage-trusty-amd64/267)", "markup": "markdown", "html": "<ul>\n<li><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/job/gazebo-any-devel-trusty-amd64-gpu-nvidia/502/\" rel=\"nofollow\">jenkins trusty build</a></li>\n<li><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/homebrew/job/gazebo-any-devel-homebrew-amd64/432\" rel=\"nofollow\">jenkins homebrew build</a></li>\n<li><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/job/gazebo-any-coverage-trusty-amd64/267\" rel=\"nofollow\">jenkins coverage build</a></li>\n</ul>", "type": "rendered"}, "created_on": "2015-02-13T21:48:02.389655+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2015-02-14T00:24:29.486508+00:00", "type": "pullrequest_comment", "id": 5144811}, "pull_request": {"type": "pullrequest", "id": 1429, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429"}}, "title": "Add msgs::ModelToSDF, and simple shape helper functions"}}, {"update": {"description": "The last of a long series of `msgs::*ToSDF` pull requests: this one adds `ModelToSDF`, along with several helper functions for adding simple shapes with geometrically consistent inertia values to a `Model` message:\r\n\r\n~~~\r\nmsgs::AddBoxLink(msgs::Model, double mass, math::Vector3 size)\r\nmsgs::AddCylinderLink(msgs::Model, double mass, double radius, double length)\r\nmsgs::AddSphereLink(msgs::Model, double mass, double radius)\r\n~~~\r\n\r\nI included these helper functions because it made it easier to write the test for ModelToSDF. Although to be honest, it just let me write a more complex test, which is building a \"bicycle\" model programmatically with a box for the frame, cylinder for rear wheel, and sphere for the front wheel. I'll make a tutorial based on that code.\r\n\r\nAlso, I created a private helper function `msgs::AddLinkGeom(msgs::Model, msgs::Geometry)` that is used by the simple shape helper function. It adds a link containing a collision and visual, then sets the attached geometry message to both the collision and visual. It also sets some default material properties on the visual. I made it private to encourage use of the other helper functions that provide correct inertia. @iche033 and @chapulina if that function would be more broadly useful, I can make it public.\r\n\r\nThen to demonstrate the utility of `ModelToSDF`, I updated the GUI tools for making simple shapes to use this function. It provides better inertia values in fewer lines of code. I also updated a few of the `ServerFixture::Spawn` functions, and the tests still pass.", "title": "Add msgs::ModelToSDF, and simple shape helper functions", "destination": {"commit": {"hash": "567d2b01d641", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/567d2b01d641.json"}, "html": {"href": "#!/osrf/gazebo/commits/567d2b01d641"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo5"}}, "reason": "", "source": {"commit": {"hash": "b1565c344899", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/b1565c344899.json"}, "html": {"href": "#!/osrf/gazebo/commits/b1565c344899"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "model_to_sdf"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2015-02-13T18:59:52.941884+00:00"}, "pull_request": {"type": "pullrequest", "id": 1429, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429"}}, "title": "Add msgs::ModelToSDF, and simple shape helper functions"}}, {"update": {"description": "The last of a long series of `msgs::*ToSDF` pull requests: this one adds `ModelToSDF`, along with several helper functions for adding simple shapes with geometrically consistent inertia values to a `Model` message:\r\n\r\n~~~\r\nmsgs::AddBoxLink(msgs::Model, double mass, math::Vector3 size)\r\nmsgs::AddCylinderLink(msgs::Model, double mass, double radius, double length)\r\nmsgs::AddSphereLink(msgs::Model, double mass, double radius)\r\n~~~\r\n\r\nI included these helper functions because it made it easier to write the test for ModelToSDF. Although to be honest, it just let me write a more complex test, which is building a \"bicycle\" model programmatically with a box for the frame, cylinder for rear wheel, and sphere for the front wheel. I'll make a tutorial based on that code.\r\n\r\nAlso, I created a private helper function `msgs::AddLinkGeom(msgs::Model, msgs::Geometry)` that is used by the simple shape helper function. It adds a link containing a collision and visual, then sets the attached geometry message to both the collision and visual. It also sets some default material properties on the visual. I made it private to encourage use of the other helper functions that provide correct inertia. @iche033 and @chapulina if that function would be more broadly useful, I can make it public.\r\n\r\nThen to demonstrate the utility of `ModelToSDF`, I updated the GUI tools for making simple shapes to use this function. It provides better inertia values in fewer lines of code. I also updated a few of the `ServerFixture::Spawn` functions, and the tests still pass.", "title": "Add msgs::ModelToSDF, and simple shape helper functions", "destination": {"commit": {"hash": "567d2b01d641", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/567d2b01d641.json"}, "html": {"href": "#!/osrf/gazebo/commits/567d2b01d641"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo5"}}, "reason": "", "source": {"commit": {"hash": "b1565c344899", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/b1565c344899.json"}, "html": {"href": "#!/osrf/gazebo/commits/b1565c344899"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "model_to_sdf"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2015-02-13T18:59:52.913971+00:00"}, "pull_request": {"type": "pullrequest", "id": 1429, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1429.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1429"}}, "title": "Add msgs::ModelToSDF, and simple shape helper functions"}}]}