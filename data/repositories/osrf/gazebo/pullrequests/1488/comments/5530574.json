{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1488/comments/5530574.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1488/_/diff#comment-5530574"}}, "parent": {"id": 5527109, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1488/comments/5527109.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1488/_/diff#comment-5527109"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1488, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1488.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1488"}}, "title": "Fix QT rendering, and rendering update rate (DEFAULT)"}, "content": {"raw": "Awesome discoveries about these failing tests.\n\nI get segfaults in both after the first test case passes and while the second test case passes.\n\nWhen I move the declaration of the first test further down in the header file, all tests pass and no segfault happens.\n\nWhen I copy the new test in `MainWindow_TEST` from this branch to default and comment out the QVERIFY statements for average FPS, or change the FPS to something more reasonable, I see the same behavior: crash and failure if the UserCameraFPS case is declared first, pass if it is declared last.\n\nTo me this is indicative of faulty behavior in QTestFixture. It may also be indicative of a bug in the gui library, but I would expect the different test cases to have isolated states.\n\nSince I've verified this problem on default, I'm fine with approving this pull request, with the caveat that it might have behavior that causes lots of qtest failures. Can anyone else confirm the crashing and reordering on their machine?", "markup": "markdown", "html": "<p>Awesome discoveries about these failing tests.</p>\n<p>I get segfaults in both after the first test case passes and while the second test case passes.</p>\n<p>When I move the declaration of the first test further down in the header file, all tests pass and no segfault happens.</p>\n<p>When I copy the new test in <code>MainWindow_TEST</code> from this branch to default and comment out the QVERIFY statements for average FPS, or change the FPS to something more reasonable, I see the same behavior: crash and failure if the UserCameraFPS case is declared first, pass if it is declared last.</p>\n<p>To me this is indicative of faulty behavior in QTestFixture. It may also be indicative of a bug in the gui library, but I would expect the different test cases to have isolated states.</p>\n<p>Since I've verified this problem on default, I'm fine with approving this pull request, with the caveat that it might have behavior that causes lots of qtest failures. Can anyone else confirm the crashing and reordering on their machine?</p>", "type": "rendered"}, "created_on": "2015-03-06T22:31:05.469877+00:00", "user": {"display_name": "Jackie K", "uuid": "{e3d60b62-b7c7-4863-b9b9-cdae9f123cec}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3d60b62-b7c7-4863-b9b9-cdae9f123cec%7D"}, "html": {"href": "https://bitbucket.org/%7Be3d60b62-b7c7-4863-b9b9-cdae9f123cec%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/ea011fa2919d4bd4568b32b440eda779d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJK-0.png"}}, "nickname": "jacquelinekay", "type": "user", "account_id": "557058:f56c822f-f75c-4665-80f9-6e7764893b9c"}, "updated_on": "2015-03-06T22:31:05.479724+00:00", "type": "pullrequest_comment", "id": 5530574}