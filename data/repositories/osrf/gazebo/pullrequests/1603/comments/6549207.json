{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1603/comments/6549207.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1603/_/diff#comment-6549207"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1603, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1603.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1603"}}, "title": "Fix sporadic failures of REGRESSION_1112_force_torque_model_removal"}, "content": {"raw": "I got a similar fail:   \n\n```\n#!c++\ngazebo ./src/gazebo/worlds/friction_demo.world \ngzclient: /usr/include/boost/smart_ptr/shared_ptr.hpp:653: typename boost::detail::sp_member_access<T>::type boost::shared_ptr<T>::operator->() const [with T = gazebo::transport::Publisher; typename boost::detail::sp_member_access<T>::type = gazebo::transport::Publisher*]: Assertion `px != 0' failed.\n\n\n```\nI merged with this pull request, but it doesn't work for me.  \n\nThe backtrace information is attached [here](https://bitbucket.org/rosebudflyaway/gazebo/src/6c5d473ced56c30045f95498e7ba3abff85a9cf9/gdb/gdb_nanosleep_bt.txt?at=cuda_parallel)\n\nwhere Thread 26 and frame #2 [here](https://bitbucket.org/rosebudflyaway/gazebo/src/6c5d473ced56c30045f95498e7ba3abff85a9cf9/gdb/gdb_nanosleep_bt.txt?at=cuda_parallel#cl-52) points to [line 1038](#!/osrf/gazebo/src/bf0316ec8b6bdfd79fdee0c1ff61f56fdcf00c60/deps/opende/src/quickstep_pgs_lcp.cpp?at=default#cl-1038) of `quickstep_pgs_lcp.cpp`\n\n\n```\n#!c++\n\nboost::recursive_mutex* mutex = new boost::recursive_mutex();\n```\n\nAny suggestion how to fix this? ", "markup": "markdown", "html": "<p>I got a similar fail:   </p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"n\">gazebo</span> <span class=\"p\">.</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">gazebo</span><span class=\"o\">/</span><span class=\"n\">worlds</span><span class=\"o\">/</span><span class=\"n\">friction_demo</span><span class=\"p\">.</span><span class=\"n\">world</span> \n<span class=\"nl\">gzclient</span><span class=\"p\">:</span> <span class=\"o\">/</span><span class=\"n\">usr</span><span class=\"o\">/</span><span class=\"n\">include</span><span class=\"o\">/</span><span class=\"n\">boost</span><span class=\"o\">/</span><span class=\"n\">smart_ptr</span><span class=\"o\">/</span><span class=\"n\">shared_ptr</span><span class=\"p\">.</span><span class=\"nl\">hpp</span><span class=\"p\">:</span><span class=\"mi\">653</span><span class=\"o\">:</span> <span class=\"k\">typename</span> <span class=\"n\">boost</span><span class=\"o\">::</span><span class=\"n\">detail</span><span class=\"o\">::</span><span class=\"n\">sp_member_access</span><span class=\"o\">&lt;</span><span class=\"n\">T</span><span class=\"o\">&gt;::</span><span class=\"n\">type</span> <span class=\"n\">boost</span><span class=\"o\">::</span><span class=\"n\">shared_ptr</span><span class=\"o\">&lt;</span><span class=\"n\">T</span><span class=\"o\">&gt;::</span><span class=\"k\">operator</span><span class=\"o\">-&gt;</span><span class=\"p\">()</span> <span class=\"k\">const</span> <span class=\"p\">[</span><span class=\"n\">with</span> <span class=\"n\">T</span> <span class=\"o\">=</span> <span class=\"n\">gazebo</span><span class=\"o\">::</span><span class=\"n\">transport</span><span class=\"o\">::</span><span class=\"n\">Publisher</span><span class=\"p\">;</span> <span class=\"k\">typename</span> <span class=\"n\">boost</span><span class=\"o\">::</span><span class=\"n\">detail</span><span class=\"o\">::</span><span class=\"n\">sp_member_access</span><span class=\"o\">&lt;</span><span class=\"n\">T</span><span class=\"o\">&gt;::</span><span class=\"n\">type</span> <span class=\"o\">=</span> <span class=\"n\">gazebo</span><span class=\"o\">::</span><span class=\"n\">transport</span><span class=\"o\">::</span><span class=\"n\">Publisher</span><span class=\"o\">*</span><span class=\"p\">]</span><span class=\"o\">:</span> <span class=\"n\">Assertion</span> <span class=\"err\">`</span><span class=\"n\">px</span> <span class=\"o\">!=</span> <span class=\"mi\">0</span><span class=\"err\">&#39;</span> <span class=\"n\">failed</span><span class=\"p\">.</span>\n</pre></div>\n\n\n<p>I merged with this pull request, but it doesn't work for me.  </p>\n<p>The backtrace information is attached <a data-is-external-link=\"true\" href=\"https://bitbucket.org/rosebudflyaway/gazebo/src/6c5d473ced56c30045f95498e7ba3abff85a9cf9/gdb/gdb_nanosleep_bt.txt?at=cuda_parallel\" rel=\"nofollow\">here</a></p>\n<p>where Thread 26 and frame <a href=\"#!/osrf/gazebo/issues/2/tests-segfault-if-gazebo_plugin_path-isnt\" rel=\"nofollow\" title=\"Tests segfault if GAZEBO_PLUGIN_PATH isn&#39;t set\" class=\"ap-connect-link\"><s>#2</s></a> <a data-is-external-link=\"true\" href=\"https://bitbucket.org/rosebudflyaway/gazebo/src/6c5d473ced56c30045f95498e7ba3abff85a9cf9/gdb/gdb_nanosleep_bt.txt?at=cuda_parallel#cl-52\" rel=\"nofollow\">here</a> points to <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/bf0316ec8b6bdfd79fdee0c1ff61f56fdcf00c60/deps/opende/src/quickstep_pgs_lcp.cpp?at=default#cl-1038\" rel=\"nofollow\">line 1038</a> of <code>quickstep_pgs_lcp.cpp</code></p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"n\">boost</span><span class=\"o\">::</span><span class=\"n\">recursive_mutex</span><span class=\"o\">*</span> <span class=\"n\">mutex</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"n\">boost</span><span class=\"o\">::</span><span class=\"n\">recursive_mutex</span><span class=\"p\">();</span>\n</pre></div>\n\n\n<p>Any suggestion how to fix this? </p>", "type": "rendered"}, "created_on": "2015-04-28T23:55:52.496624+00:00", "user": {"display_name": "Ying Lu", "uuid": "{11ec131e-4af6-4228-beaf-167b1c8d1c2c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D"}, "html": {"href": "https://bitbucket.org/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:659bfe31-d941-44f5-aa6d-00058b070ea8/c88d5925-8a09-40c7-8684-c02aeafe0f59/128"}}, "nickname": "rosebudflyaway", "type": "user", "account_id": "557058:659bfe31-d941-44f5-aa6d-00058b070ea8"}, "updated_on": "2015-04-28T23:56:43.306483+00:00", "type": "pullrequest_comment", "id": 6549207}