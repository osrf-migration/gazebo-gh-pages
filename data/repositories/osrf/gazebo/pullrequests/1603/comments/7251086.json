{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1603/comments/7251086.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:None..None?path=gazebo%2Fphysics%2Fode%2FODEJoint.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1603/_/diff#comment-7251086"}}, "parent": {"id": 6905065, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1603/comments/6905065.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1603/_/diff#comment-6905065"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1603, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1603.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1603"}}, "title": "Fix sporadic failures of REGRESSION_1112_force_torque_model_removal"}, "content": {"raw": "ok, so the degenerate case where the Link is NULL is probably when the Link is being destroyed, so the user should not expect `GetForceTorque` to return an accurate value.\n\nI tried fixing this with a mutex for `Link::inertial`, but that won't work because `const` functions like `Link::GetInertial` can't lock a mutex that is also a member variable, and the child `Joint` needs to be able to lock its parent link's mutex. This approach seems to require more work.", "markup": "markdown", "html": "<p>ok, so the degenerate case where the Link is NULL is probably when the Link is being destroyed, so the user should not expect <code>GetForceTorque</code> to return an accurate value.</p>\n<p>I tried fixing this with a mutex for <code>Link::inertial</code>, but that won't work because <code>const</code> functions like <code>Link::GetInertial</code> can't lock a mutex that is also a member variable, and the child <code>Joint</code> needs to be able to lock its parent link's mutex. This approach seems to require more work.</p>", "type": "rendered"}, "created_on": "2015-06-02T16:35:41.832762+00:00", "user": {"display_name": "Jackie K", "uuid": "{e3d60b62-b7c7-4863-b9b9-cdae9f123cec}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3d60b62-b7c7-4863-b9b9-cdae9f123cec%7D"}, "html": {"href": "https://bitbucket.org/%7Be3d60b62-b7c7-4863-b9b9-cdae9f123cec%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/ea011fa2919d4bd4568b32b440eda779d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJK-0.png"}}, "nickname": "jacquelinekay", "type": "user", "account_id": "557058:f56c822f-f75c-4665-80f9-6e7764893b9c"}, "inline": {"to": null, "from": null, "outdated": false, "path": "gazebo/physics/ode/ODEJoint.cc"}, "updated_on": "2015-06-02T16:35:41.844944+00:00", "type": "pullrequest_comment", "id": 7251086}