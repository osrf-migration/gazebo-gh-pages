{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1603/comments/6445224.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1603/_/diff#comment-6445224"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1603, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1603.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1603"}}, "title": "Fix sporadic failures of REGRESSION_1112_force_torque_model_removal"}, "content": {"raw": "It's not complete confirmation, since it's only a sporadic failure, but it passed in the 4 jenkins jobs:\n\n* http://build.osrfoundation.org/job/gazebo-any-devel-homebrew-amd64/51/#showFailuresLink\n* http://build.osrfoundation.org/job/gazebo-any-devel-trusty-amd64-no-gpu/73/\n* http://build.osrfoundation.org/job/gazebo-any-devel-trusty-amd64-gpu-nvidia/57/\n* http://build.osrfoundation.org/job/gazebo-any-coverage-trusty-amd64/46/\n\nI ran the test in a loop on my machine, and it failed after about 10 or so iterations without the fix, but passed over 500 times before I terminated the loop.", "markup": "markdown", "html": "<p>It's not complete confirmation, since it's only a sporadic failure, but it passed in the 4 jenkins jobs:</p>\n<ul>\n<li><a href=\"http://build.osrfoundation.org/job/gazebo-any-devel-homebrew-amd64/51/#showFailuresLink\" rel=\"nofollow\" class=\"ap-connect-link\">http://build.osrfoundation.org/job/gazebo-any-devel-homebrew-amd64/51/#showFailuresLink</a></li>\n<li><a href=\"http://build.osrfoundation.org/job/gazebo-any-devel-trusty-amd64-no-gpu/73/\" rel=\"nofollow\" class=\"ap-connect-link\">http://build.osrfoundation.org/job/gazebo-any-devel-trusty-amd64-no-gpu/73/</a></li>\n<li><a href=\"http://build.osrfoundation.org/job/gazebo-any-devel-trusty-amd64-gpu-nvidia/57/\" rel=\"nofollow\" class=\"ap-connect-link\">http://build.osrfoundation.org/job/gazebo-any-devel-trusty-amd64-gpu-nvidia/57/</a></li>\n<li><a href=\"http://build.osrfoundation.org/job/gazebo-any-coverage-trusty-amd64/46/\" rel=\"nofollow\" class=\"ap-connect-link\">http://build.osrfoundation.org/job/gazebo-any-coverage-trusty-amd64/46/</a></li>\n</ul>\n<p>I ran the test in a loop on my machine, and it failed after about 10 or so iterations without the fix, but passed over 500 times before I terminated the loop.</p>", "type": "rendered"}, "created_on": "2015-04-23T12:50:50.539135+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2015-04-23T12:50:50.546756+00:00", "type": "pullrequest_comment", "id": 6445224}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1603/comments/6549207.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1603/_/diff#comment-6549207"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1603, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1603.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1603"}}, "title": "Fix sporadic failures of REGRESSION_1112_force_torque_model_removal"}, "content": {"raw": "I got a similar fail:   \n\n```\n#!c++\ngazebo ./src/gazebo/worlds/friction_demo.world \ngzclient: /usr/include/boost/smart_ptr/shared_ptr.hpp:653: typename boost::detail::sp_member_access<T>::type boost::shared_ptr<T>::operator->() const [with T = gazebo::transport::Publisher; typename boost::detail::sp_member_access<T>::type = gazebo::transport::Publisher*]: Assertion `px != 0' failed.\n\n\n```\nI merged with this pull request, but it doesn't work for me.  \n\nThe backtrace information is attached [here](https://bitbucket.org/rosebudflyaway/gazebo/src/6c5d473ced56c30045f95498e7ba3abff85a9cf9/gdb/gdb_nanosleep_bt.txt?at=cuda_parallel)\n\nwhere Thread 26 and frame #2 [here](https://bitbucket.org/rosebudflyaway/gazebo/src/6c5d473ced56c30045f95498e7ba3abff85a9cf9/gdb/gdb_nanosleep_bt.txt?at=cuda_parallel#cl-52) points to [line 1038](#!/osrf/gazebo/src/bf0316ec8b6bdfd79fdee0c1ff61f56fdcf00c60/deps/opende/src/quickstep_pgs_lcp.cpp?at=default#cl-1038) of `quickstep_pgs_lcp.cpp`\n\n\n```\n#!c++\n\nboost::recursive_mutex* mutex = new boost::recursive_mutex();\n```\n\nAny suggestion how to fix this? ", "markup": "markdown", "html": "<p>I got a similar fail:   </p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"n\">gazebo</span> <span class=\"p\">.</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">gazebo</span><span class=\"o\">/</span><span class=\"n\">worlds</span><span class=\"o\">/</span><span class=\"n\">friction_demo</span><span class=\"p\">.</span><span class=\"n\">world</span> \n<span class=\"nl\">gzclient</span><span class=\"p\">:</span> <span class=\"o\">/</span><span class=\"n\">usr</span><span class=\"o\">/</span><span class=\"n\">include</span><span class=\"o\">/</span><span class=\"n\">boost</span><span class=\"o\">/</span><span class=\"n\">smart_ptr</span><span class=\"o\">/</span><span class=\"n\">shared_ptr</span><span class=\"p\">.</span><span class=\"nl\">hpp</span><span class=\"p\">:</span><span class=\"mi\">653</span><span class=\"o\">:</span> <span class=\"k\">typename</span> <span class=\"n\">boost</span><span class=\"o\">::</span><span class=\"n\">detail</span><span class=\"o\">::</span><span class=\"n\">sp_member_access</span><span class=\"o\">&lt;</span><span class=\"n\">T</span><span class=\"o\">&gt;::</span><span class=\"n\">type</span> <span class=\"n\">boost</span><span class=\"o\">::</span><span class=\"n\">shared_ptr</span><span class=\"o\">&lt;</span><span class=\"n\">T</span><span class=\"o\">&gt;::</span><span class=\"k\">operator</span><span class=\"o\">-&gt;</span><span class=\"p\">()</span> <span class=\"k\">const</span> <span class=\"p\">[</span><span class=\"n\">with</span> <span class=\"n\">T</span> <span class=\"o\">=</span> <span class=\"n\">gazebo</span><span class=\"o\">::</span><span class=\"n\">transport</span><span class=\"o\">::</span><span class=\"n\">Publisher</span><span class=\"p\">;</span> <span class=\"k\">typename</span> <span class=\"n\">boost</span><span class=\"o\">::</span><span class=\"n\">detail</span><span class=\"o\">::</span><span class=\"n\">sp_member_access</span><span class=\"o\">&lt;</span><span class=\"n\">T</span><span class=\"o\">&gt;::</span><span class=\"n\">type</span> <span class=\"o\">=</span> <span class=\"n\">gazebo</span><span class=\"o\">::</span><span class=\"n\">transport</span><span class=\"o\">::</span><span class=\"n\">Publisher</span><span class=\"o\">*</span><span class=\"p\">]</span><span class=\"o\">:</span> <span class=\"n\">Assertion</span> <span class=\"err\">`</span><span class=\"n\">px</span> <span class=\"o\">!=</span> <span class=\"mi\">0</span><span class=\"err\">&#39;</span> <span class=\"n\">failed</span><span class=\"p\">.</span>\n</pre></div>\n\n\n<p>I merged with this pull request, but it doesn't work for me.  </p>\n<p>The backtrace information is attached <a data-is-external-link=\"true\" href=\"https://bitbucket.org/rosebudflyaway/gazebo/src/6c5d473ced56c30045f95498e7ba3abff85a9cf9/gdb/gdb_nanosleep_bt.txt?at=cuda_parallel\" rel=\"nofollow\">here</a></p>\n<p>where Thread 26 and frame <a href=\"#!/osrf/gazebo/issues/2/tests-segfault-if-gazebo_plugin_path-isnt\" rel=\"nofollow\" title=\"Tests segfault if GAZEBO_PLUGIN_PATH isn&#39;t set\" class=\"ap-connect-link\"><s>#2</s></a> <a data-is-external-link=\"true\" href=\"https://bitbucket.org/rosebudflyaway/gazebo/src/6c5d473ced56c30045f95498e7ba3abff85a9cf9/gdb/gdb_nanosleep_bt.txt?at=cuda_parallel#cl-52\" rel=\"nofollow\">here</a> points to <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/bf0316ec8b6bdfd79fdee0c1ff61f56fdcf00c60/deps/opende/src/quickstep_pgs_lcp.cpp?at=default#cl-1038\" rel=\"nofollow\">line 1038</a> of <code>quickstep_pgs_lcp.cpp</code></p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"n\">boost</span><span class=\"o\">::</span><span class=\"n\">recursive_mutex</span><span class=\"o\">*</span> <span class=\"n\">mutex</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"n\">boost</span><span class=\"o\">::</span><span class=\"n\">recursive_mutex</span><span class=\"p\">();</span>\n</pre></div>\n\n\n<p>Any suggestion how to fix this? </p>", "type": "rendered"}, "created_on": "2015-04-28T23:55:52.496624+00:00", "user": {"display_name": "Ying Lu", "uuid": "{11ec131e-4af6-4228-beaf-167b1c8d1c2c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D"}, "html": {"href": "https://bitbucket.org/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:659bfe31-d941-44f5-aa6d-00058b070ea8/c88d5925-8a09-40c7-8684-c02aeafe0f59/128"}}, "nickname": "rosebudflyaway", "type": "user", "account_id": "557058:659bfe31-d941-44f5-aa6d-00058b070ea8"}, "updated_on": "2015-04-28T23:56:43.306483+00:00", "type": "pullrequest_comment", "id": 6549207}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1603/comments/6549241.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1603/_/diff#comment-6549241"}}, "parent": {"id": 6549207, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1603/comments/6549207.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1603/_/diff#comment-6549207"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1603, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1603.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1603"}}, "title": "Fix sporadic failures of REGRESSION_1112_force_torque_model_removal"}, "content": {"raw": "This failures look a little different to me. The `REGRESSION_1112_force_torque_model_removal` test has assertions of type `gazebo::physics::Inertial`, while you saw an assertion of type `gazebo::transport::Publisher`. It sounds like something related to transport.", "markup": "markdown", "html": "<p>This failures look a little different to me. The <code>REGRESSION_1112_force_torque_model_removal</code> test has assertions of type <code>gazebo::physics::Inertial</code>, while you saw an assertion of type <code>gazebo::transport::Publisher</code>. It sounds like something related to transport.</p>", "type": "rendered"}, "created_on": "2015-04-28T23:58:43.314668+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2015-04-28T23:58:43.320162+00:00", "type": "pullrequest_comment", "id": 6549241}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1603/comments/6549897.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1603/_/diff#comment-6549897"}}, "parent": {"id": 6549241, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1603/comments/6549241.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1603/_/diff#comment-6549241"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1603, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1603.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1603"}}, "title": "Fix sporadic failures of REGRESSION_1112_force_torque_model_removal"}, "content": {"raw": "Thanks, will look into that", "markup": "markdown", "html": "<p>Thanks, will look into that</p>", "type": "rendered"}, "created_on": "2015-04-29T01:06:42.017613+00:00", "user": {"display_name": "Ying Lu", "uuid": "{11ec131e-4af6-4228-beaf-167b1c8d1c2c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D"}, "html": {"href": "https://bitbucket.org/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:659bfe31-d941-44f5-aa6d-00058b070ea8/c88d5925-8a09-40c7-8684-c02aeafe0f59/128"}}, "nickname": "rosebudflyaway", "type": "user", "account_id": "557058:659bfe31-d941-44f5-aa6d-00058b070ea8"}, "updated_on": "2015-04-29T01:06:50.047677+00:00", "type": "pullrequest_comment", "id": 6549897}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1603/comments/6904973.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:3141c3708c13..4132194c3007?path=gazebo%2Fphysics%2Fode%2FODEJoint.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1603/_/diff#comment-6904973"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1603, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1603.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1603"}}, "title": "Fix sporadic failures of REGRESSION_1112_force_torque_model_removal"}, "content": {"raw": "Should we do more in the way of error notification if the inertial pointer is NULL? I believe that the current behavior is correct in the case where the center of gravity is also the link frame origin, but this is not always the case.", "markup": "markdown", "html": "<p>Should we do more in the way of error notification if the inertial pointer is NULL? I believe that the current behavior is correct in the case where the center of gravity is also the link frame origin, but this is not always the case.</p>", "type": "rendered"}, "created_on": "2015-05-15T22:46:20.747970+00:00", "user": {"display_name": "Jackie K", "uuid": "{e3d60b62-b7c7-4863-b9b9-cdae9f123cec}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3d60b62-b7c7-4863-b9b9-cdae9f123cec%7D"}, "html": {"href": "https://bitbucket.org/%7Be3d60b62-b7c7-4863-b9b9-cdae9f123cec%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/ea011fa2919d4bd4568b32b440eda779d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJK-0.png"}}, "nickname": "jacquelinekay", "type": "user", "account_id": "557058:f56c822f-f75c-4665-80f9-6e7764893b9c"}, "inline": {"to": 693, "from": null, "path": "gazebo/physics/ode/ODEJoint.cc"}, "updated_on": "2015-05-15T22:46:20.754730+00:00", "type": "pullrequest_comment", "id": 6904973}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1603/comments/6905065.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:None..None?path=gazebo%2Fphysics%2Fode%2FODEJoint.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1603/_/diff#comment-6905065"}}, "parent": {"id": 6904973, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1603/comments/6904973.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1603/_/diff#comment-6904973"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1603, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1603.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1603"}}, "title": "Fix sporadic failures of REGRESSION_1112_force_torque_model_removal"}, "content": {"raw": "Should we put a console message here? I don't know.\n\nSome more info about what I think the root of the error is: the inertial is reset in [Link::Fini](#!/osrf/gazebo/src/75a962d1adf1808f7ca53c63b3d2118d474bc056/gazebo/physics/Link.cc#cl-265) before the sensors are removed. This function `ODEJoint::GetForceTorque` is called by one of the sensors on a world update loop. I suspect that the failures occur when a sensor tries to call this function while `Link::Fini` is being called.", "markup": "markdown", "html": "<p>Should we put a console message here? I don't know.</p>\n<p>Some more info about what I think the root of the error is: the inertial is reset in <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/75a962d1adf1808f7ca53c63b3d2118d474bc056/gazebo/physics/Link.cc#cl-265\" rel=\"nofollow\">Link::Fini</a> before the sensors are removed. This function <code>ODEJoint::GetForceTorque</code> is called by one of the sensors on a world update loop. I suspect that the failures occur when a sensor tries to call this function while <code>Link::Fini</code> is being called.</p>", "type": "rendered"}, "created_on": "2015-05-15T22:57:08.019242+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {"to": null, "from": null, "path": "gazebo/physics/ode/ODEJoint.cc"}, "updated_on": "2015-05-15T22:57:08.036262+00:00", "type": "pullrequest_comment", "id": 6905065}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1603/comments/7251086.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:None..None?path=gazebo%2Fphysics%2Fode%2FODEJoint.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1603/_/diff#comment-7251086"}}, "parent": {"id": 6905065, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1603/comments/6905065.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1603/_/diff#comment-6905065"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1603, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1603.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1603"}}, "title": "Fix sporadic failures of REGRESSION_1112_force_torque_model_removal"}, "content": {"raw": "ok, so the degenerate case where the Link is NULL is probably when the Link is being destroyed, so the user should not expect `GetForceTorque` to return an accurate value.\n\nI tried fixing this with a mutex for `Link::inertial`, but that won't work because `const` functions like `Link::GetInertial` can't lock a mutex that is also a member variable, and the child `Joint` needs to be able to lock its parent link's mutex. This approach seems to require more work.", "markup": "markdown", "html": "<p>ok, so the degenerate case where the Link is NULL is probably when the Link is being destroyed, so the user should not expect <code>GetForceTorque</code> to return an accurate value.</p>\n<p>I tried fixing this with a mutex for <code>Link::inertial</code>, but that won't work because <code>const</code> functions like <code>Link::GetInertial</code> can't lock a mutex that is also a member variable, and the child <code>Joint</code> needs to be able to lock its parent link's mutex. This approach seems to require more work.</p>", "type": "rendered"}, "created_on": "2015-06-02T16:35:41.832762+00:00", "user": {"display_name": "Jackie K", "uuid": "{e3d60b62-b7c7-4863-b9b9-cdae9f123cec}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3d60b62-b7c7-4863-b9b9-cdae9f123cec%7D"}, "html": {"href": "https://bitbucket.org/%7Be3d60b62-b7c7-4863-b9b9-cdae9f123cec%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/ea011fa2919d4bd4568b32b440eda779d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJK-0.png"}}, "nickname": "jacquelinekay", "type": "user", "account_id": "557058:f56c822f-f75c-4665-80f9-6e7764893b9c"}, "inline": {"to": null, "from": null, "path": "gazebo/physics/ode/ODEJoint.cc"}, "updated_on": "2015-06-02T16:35:41.844944+00:00", "type": "pullrequest_comment", "id": 7251086}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1603/comments/7255254.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:None..None?path=gazebo%2Fphysics%2Fode%2FODEJoint.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1603/_/diff#comment-7255254"}}, "parent": {"id": 7251086, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1603/comments/7251086.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1603/_/diff#comment-7251086"}}, "depth": 3}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1603, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1603.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1603"}}, "title": "Fix sporadic failures of REGRESSION_1112_force_torque_model_removal"}, "content": {"raw": "The right fix is to do something similar to [bullet](#!/osrf/gazebo/src/7e3d1fae2c8d7a4a21f8db048430390fb7779e57/gazebo/physics/bullet/BulletMotionState.cc?at=default#cl-86) and [simbody](#!/osrf/gazebo/src/7e3d1fae2c8d7a4a21f8db048430390fb7779e57/gazebo/physics/simbody/SimbodyPhysics.cc?at=default#cl-690), overload `Joint::CacheForceTorque`.\n\nSimilar change should probably happen for [DART](#!/osrf/gazebo/src/7e3d1fae2c8d7a4a21f8db048430390fb7779e57/gazebo/physics/dart/DARTJoint.cc?at=default#cl-477) too.", "markup": "markdown", "html": "<p>The right fix is to do something similar to <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/7e3d1fae2c8d7a4a21f8db048430390fb7779e57/gazebo/physics/bullet/BulletMotionState.cc?at=default#cl-86\" rel=\"nofollow\">bullet</a> and <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/7e3d1fae2c8d7a4a21f8db048430390fb7779e57/gazebo/physics/simbody/SimbodyPhysics.cc?at=default#cl-690\" rel=\"nofollow\">simbody</a>, overload <code>Joint::CacheForceTorque</code>.</p>\n<p>Similar change should probably happen for <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/7e3d1fae2c8d7a4a21f8db048430390fb7779e57/gazebo/physics/dart/DARTJoint.cc?at=default#cl-477\" rel=\"nofollow\">DART</a> too.</p>", "type": "rendered"}, "created_on": "2015-06-02T19:11:56.072407+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "inline": {"to": null, "from": null, "path": "gazebo/physics/ode/ODEJoint.cc"}, "updated_on": "2015-06-02T19:11:56.084965+00:00", "type": "pullrequest_comment", "id": 7255254}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1603/comments/7257371.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:None..None?path=gazebo%2Fphysics%2Fode%2FODEJoint.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1603/_/diff#comment-7257371"}}, "parent": {"id": 7255254, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1603/comments/7255254.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1603/_/diff#comment-7255254"}}, "depth": 4}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1603, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1603.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1603"}}, "title": "Fix sporadic failures of REGRESSION_1112_force_torque_model_removal"}, "content": {"raw": "see pull request #1721", "markup": "markdown", "html": "<p>see <a href=\"#!/osrf/gazebo/pull-requests/1721/cache-joint-force-torque-for-ode-and-dart\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #1721</a></p>", "type": "rendered"}, "created_on": "2015-06-02T20:28:27.885708+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "inline": {"to": null, "from": null, "path": "gazebo/physics/ode/ODEJoint.cc"}, "updated_on": "2015-06-02T20:28:27.894519+00:00", "type": "pullrequest_comment", "id": 7257371}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1603/comments/7255294.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:None..None?path=gazebo%2Fphysics%2Fode%2FODEJoint.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1603/_/diff#comment-7255294"}}, "parent": {"id": 6905065, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1603/comments/6905065.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1603/_/diff#comment-6905065"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1603, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1603.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1603"}}, "title": "Fix sporadic failures of REGRESSION_1112_force_torque_model_removal"}, "content": {"raw": "although much less likely, but is it still possible that `Link::Fini` gets called after `if (inertial)` passes?", "markup": "markdown", "html": "<p>although much less likely, but is it still possible that <code>Link::Fini</code> gets called after <code>if (inertial)</code> passes?</p>", "type": "rendered"}, "created_on": "2015-06-02T19:13:12.436260+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "inline": {"to": null, "from": null, "path": "gazebo/physics/ode/ODEJoint.cc"}, "updated_on": "2015-06-02T19:13:12.445236+00:00", "type": "pullrequest_comment", "id": 7255294}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1603/comments/7255505.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:None..None?path=gazebo%2Fphysics%2Fode%2FODEJoint.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1603/_/diff#comment-7255505"}}, "parent": {"id": 7255294, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1603/comments/7255294.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1603/_/diff#comment-7255294"}}, "depth": 3}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1603, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1603.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1603"}}, "title": "Fix sporadic failures of REGRESSION_1112_force_torque_model_removal"}, "content": {"raw": "Yes, it's still possible. We could also try to re-arrange the ordering of `Link::Fini` and reset the inertial pointer last.", "markup": "markdown", "html": "<p>Yes, it's still possible. We could also try to re-arrange the ordering of <code>Link::Fini</code> and reset the inertial pointer last.</p>", "type": "rendered"}, "created_on": "2015-06-02T19:19:31.476628+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {"to": null, "from": null, "path": "gazebo/physics/ode/ODEJoint.cc"}, "updated_on": "2015-06-02T19:19:31.482891+00:00", "type": "pullrequest_comment", "id": 7255505}], "page": 1, "size": 11}