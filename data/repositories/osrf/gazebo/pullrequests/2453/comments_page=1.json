{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453/comments/24373962.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453/_/diff#comment-24373962"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}, "content": {"raw": "new [homebrew build](http://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-homebrew-amd64/670/) - ok", "markup": "markdown", "html": "<p>new <a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-homebrew-amd64/670/\" rel=\"nofollow\">homebrew build</a> - ok</p>", "type": "rendered"}, "created_on": "2016-09-28T01:05:59.422664+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2016-09-28T01:05:59.424605+00:00", "type": "pullrequest_comment", "id": 24373962}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453/comments/24562734.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453/_/diff#comment-24562734"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}, "content": {"raw": "I just did some testing with different combinations of client / server (this branch and the 7.3.1 debs0, and this is looking great. Here's a summary:\n\nIn separate terminal windows I run the following commands in order:\n\n~~~\ngzserver --verbose worlds/heightmap.world\ngz topic -e /gazebo/default/request\ngz topic -e /gazebo/default/response > response.txt\ngzclient --verbose\n~~~\n\n## Case 1: gzserver 7.3.1, any version of gzclient\n\nWhen either gzclient connected to the 7.3.1 version of gzserver, there were two `scene_info` requests, followed by a `heightmap_data` request:\n\n~~~\n$ gz topic -e /gazebo/default/request\nid: 1173\nrequest: \"scene_info\"\ndata: \"\"\n\nid: 3803\nrequest: \"scene_info\"\ndata: \"\"\n\nid: 1505\nrequest: \"heightmap_data\"\ndata: \"\"\n~~~\n\nThe size of these responses is about 2.2 MB.\n\n## Case 2: gzserver from this branch, gzclient 7.3.1\n\nWhen an old client connects to the gzserver from this branch, the same 3 requests are made, but the size of the responses is cut down to 780 kB, since the `scene_info` requests no longer contain serialized heights.\n\n## Case 3: gzserver and gzclient from this branch\n\nThis is the best case. There are still two `scene_info` requests, but the `heightmap_data` request is skipped, so the total response size is down to 44 kB!\n\n## Case 4: gzserver and gzclient from this branch, but gzclient can't find a file\n\nThis can happen if you run gzclient on a separate machine that doesn't have the heightmap data, or if the `GAZEBO_RESOURCE_PATH` is not set correctly. This case is equivalent to Case 2, with all 3 requests with responses totalling 780 kB. The only caveat to this case is that it doesn't give a console message saying that heightmaps will be serialized instead of loaded locally by gzclient and asking if they have set their `GAZEBO_RESOURCE_PATH` correctly. Instead it gives the following:\n\n~~~\n[Err] [SystemPaths.cc:410] File or path does not exist[\"\"]\n[Err] [SystemPaths.cc:410] File or path does not exist[\"\"]\n~~~\n\nIt would be nice to improve that message.", "markup": "markdown", "html": "<p>I just did some testing with different combinations of client / server (this branch and the 7.3.1 debs0, and this is looking great. Here's a summary:</p>\n<p>In separate terminal windows I run the following commands in order:</p>\n<div class=\"codehilite\"><pre><span></span>gzserver --verbose worlds/heightmap.world\ngz topic -e /gazebo/default/request\ngz topic -e /gazebo/default/response &gt; response.txt\ngzclient --verbose\n</pre></div>\n\n\n<h2 id=\"markdown-header-case-1-gzserver-731-any-version-of-gzclient\">Case 1: gzserver 7.3.1, any version of gzclient</h2>\n<p>When either gzclient connected to the 7.3.1 version of gzserver, there were two <code>scene_info</code> requests, followed by a <code>heightmap_data</code> request:</p>\n<div class=\"codehilite\"><pre><span></span>$ gz topic -e /gazebo/default/request\nid: <span class=\"m\">1173</span>\nrequest: <span class=\"s2\">&quot;scene_info&quot;</span>\ndata: <span class=\"s2\">&quot;&quot;</span>\n\nid: <span class=\"m\">3803</span>\nrequest: <span class=\"s2\">&quot;scene_info&quot;</span>\ndata: <span class=\"s2\">&quot;&quot;</span>\n\nid: <span class=\"m\">1505</span>\nrequest: <span class=\"s2\">&quot;heightmap_data&quot;</span>\ndata: <span class=\"s2\">&quot;&quot;</span>\n</pre></div>\n\n\n<p>The size of these responses is about 2.2 MB.</p>\n<h2 id=\"markdown-header-case-2-gzserver-from-this-branch-gzclient-731\">Case 2: gzserver from this branch, gzclient 7.3.1</h2>\n<p>When an old client connects to the gzserver from this branch, the same 3 requests are made, but the size of the responses is cut down to 780 kB, since the <code>scene_info</code> requests no longer contain serialized heights.</p>\n<h2 id=\"markdown-header-case-3-gzserver-and-gzclient-from-this-branch\">Case 3: gzserver and gzclient from this branch</h2>\n<p>This is the best case. There are still two <code>scene_info</code> requests, but the <code>heightmap_data</code> request is skipped, so the total response size is down to 44 kB!</p>\n<h2 id=\"markdown-header-case-4-gzserver-and-gzclient-from-this-branch-but-gzclient-cant-find-a-file\">Case 4: gzserver and gzclient from this branch, but gzclient can't find a file</h2>\n<p>This can happen if you run gzclient on a separate machine that doesn't have the heightmap data, or if the <code>GAZEBO_RESOURCE_PATH</code> is not set correctly. This case is equivalent to Case 2, with all 3 requests with responses totalling 780 kB. The only caveat to this case is that it doesn't give a console message saying that heightmaps will be serialized instead of loaded locally by gzclient and asking if they have set their <code>GAZEBO_RESOURCE_PATH</code> correctly. Instead it gives the following:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">[Err] [SystemPaths.cc:410] File or path does not exist[&quot;&quot;]</span>\n<span class=\"k\">[Err] [SystemPaths.cc:410] File or path does not exist[&quot;&quot;]</span>\n</pre></div>\n\n\n<p>It would be nice to improve that message.</p>", "type": "rendered"}, "created_on": "2016-09-30T20:18:09.399436+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2016-09-30T20:18:09.401338+00:00", "type": "pullrequest_comment", "id": 24562734}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453/comments/24631620.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453/_/diff#comment-24631620"}}, "parent": {"id": 24562734, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453/comments/24562734.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453/_/diff#comment-24562734"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}, "content": {"raw": "added console msgs in 9a72967, d745a16", "markup": "markdown", "html": "<p>added console msgs in <a href=\"#!/osrf/gazebo/commits/9a72967\" rel=\"nofollow\" class=\"ap-connect-link\">9a72967</a>, <a href=\"#!/osrf/gazebo/commits/d745a16\" rel=\"nofollow\" class=\"ap-connect-link\">d745a16</a></p>", "type": "rendered"}, "created_on": "2016-10-03T21:19:22.098451+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2016-10-03T21:19:22.106265+00:00", "type": "pullrequest_comment", "id": 24631620}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453/comments/24562938.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:4cc93e833996..5443e2a2924f?path=gazebo%2Frendering%2FHeightmap.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453/_/diff#comment-24562938"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}, "content": {"raw": "I'm guessing those error messages I mentioned above came from this function", "markup": "markdown", "html": "<p>I'm guessing those error messages I mentioned above came from this function</p>", "type": "rendered"}, "created_on": "2016-09-30T20:23:32.572728+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {"to": 154, "from": null, "path": "gazebo/rendering/Heightmap.cc"}, "updated_on": "2016-09-30T20:23:32.575867+00:00", "type": "pullrequest_comment", "id": 24562938}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453/comments/24567800.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:d745a16608d5..5443e2a2924f?path=gazebo%2Frendering%2FHeightmap.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453/_/diff#comment-24567800"}}, "parent": {"id": 24562938, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453/comments/24562938.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453/_/diff#comment-24562938"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}, "content": {"raw": "yes that's correct", "markup": "markdown", "html": "<p>yes that's correct</p>", "type": "rendered"}, "created_on": "2016-09-30T23:44:07.716369+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {"to": null, "from": null, "path": "gazebo/rendering/Heightmap.cc"}, "updated_on": "2016-09-30T23:44:07.718293+00:00", "type": "pullrequest_comment", "id": 24567800}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453/comments/24563093.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:e8418f8ba8a6..5443e2a2924f?path=gazebo%2Frendering%2FHeightmap.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453/_/diff#comment-24563093"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}, "content": {"raw": "this is probably a good place for a console message saying that the heightmap couldn't be loaded from a file, so it is being sent from the server over the network (which can be slow). is the heightmap file on this machine and in the GAZEBO_RESOURCE_PATH?\n\nor something like that", "markup": "markdown", "html": "<p>this is probably a good place for a console message saying that the heightmap couldn't be loaded from a file, so it is being sent from the server over the network (which can be slow). is the heightmap file on this machine and in the GAZEBO_RESOURCE_PATH?</p>\n<p>or something like that</p>", "type": "rendered"}, "created_on": "2016-09-30T20:27:43.284010+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {"to": 427, "from": null, "path": "gazebo/rendering/Heightmap.cc"}, "updated_on": "2016-09-30T20:27:43.287754+00:00", "type": "pullrequest_comment", "id": 24563093}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453/comments/24567796.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:d745a16608d5..5443e2a2924f?path=gazebo%2Frendering%2FHeightmap.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453/_/diff#comment-24567796"}}, "parent": {"id": 24563093, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453/comments/24563093.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453/_/diff#comment-24563093"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}, "content": {"raw": "yep added console msg. 58aed6f, d745a16", "markup": "markdown", "html": "<p>yep added console msg. <a href=\"#!/osrf/gazebo/commits/58aed6f\" rel=\"nofollow\" class=\"ap-connect-link\">58aed6f</a>, <a href=\"#!/osrf/gazebo/commits/d745a16\" rel=\"nofollow\" class=\"ap-connect-link\">d745a16</a></p>", "type": "rendered"}, "created_on": "2016-09-30T23:43:52.868109+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {"to": null, "from": null, "path": "gazebo/rendering/Heightmap.cc"}, "updated_on": "2016-09-30T23:43:52.869795+00:00", "type": "pullrequest_comment", "id": 24567796}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453/comments/24568528.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:d745a16608d5..5443e2a2924f?path=gazebo%2Frendering%2FHeightmap.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453/_/diff#comment-24568528"}}, "parent": {"id": 24567796, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453/comments/24567796.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453/_/diff#comment-24567796"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}, "content": {"raw": "thanks!", "markup": "markdown", "html": "<p>thanks!</p>", "type": "rendered"}, "created_on": "2016-10-01T01:15:59.663019+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {"to": null, "from": null, "path": "gazebo/rendering/Heightmap.cc"}, "updated_on": "2016-10-01T01:15:59.667780+00:00", "type": "pullrequest_comment", "id": 24568528}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453/comments/24568552.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:d745a16608d5..5443e2a2924f?path=gazebo%2Frendering%2FHeightmap.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453/_/diff#comment-24568552"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}, "content": {"raw": "This is causing an extra file not found message. Is there a point to trying to find it again if we couldn't find it the first time?", "markup": "markdown", "html": "<p>This is causing an extra file not found message. Is there a point to trying to find it again if we couldn't find it the first time?</p>", "type": "rendered"}, "created_on": "2016-10-01T01:20:47.233113+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {"to": 453, "from": null, "path": "gazebo/rendering/Heightmap.cc"}, "updated_on": "2016-10-01T01:20:47.240969+00:00", "type": "pullrequest_comment", "id": 24568552}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453/comments/24631591.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:9a72967407d7..48257737d1cd?path=gazebo%2Frendering%2FHeightmap.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453/_/diff#comment-24631591"}}, "parent": {"id": 24568552, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453/comments/24568552.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453/_/diff#comment-24568552"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}, "content": {"raw": "ah that's right, we don't need to look again, removed. 9a72967", "markup": "markdown", "html": "<p>ah that's right, we don't need to look again, removed. <a href=\"#!/osrf/gazebo/commits/9a72967\" rel=\"nofollow\" class=\"ap-connect-link\">9a72967</a></p>", "type": "rendered"}, "created_on": "2016-10-03T21:18:43.603383+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {"to": null, "from": null, "path": "gazebo/rendering/Heightmap.cc"}, "updated_on": "2016-10-03T21:18:43.605377+00:00", "type": "pullrequest_comment", "id": 24631591}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453/comments/24568558.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:d745a16608d5..5443e2a2924f?path=gazebo%2Frendering%2FHeightmap.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453/_/diff#comment-24568558"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}, "content": {"raw": "If the file isn't found, the `filename` private variable will be blank. This is our last chance to print out the URI that we couldn't find. How do you feel about adding just one more message?\n\n~~~\ndiff -r d745a16608d5 gazebo/rendering/Heightmap.cc\n--- a/gazebo/rendering/Heightmap.cc\tFri Sep 30 16:43:07 2016 -0700\n+++ b/gazebo/rendering/Heightmap.cc\tFri Sep 30 18:15:31 2016 -0700\n@@ -152,6 +152,12 @@\n     {\n       this->dataPtr->filename = common::find_file(\n           _msg->geometry().heightmap().filename());\n+      if (this->dataPtr->filename.empty())\n+      {\n+        gzerr << \"Unable to find file \"\n+              << _msg->geometry().heightmap().filename()\n+              << std::endl;\n+      }\n     }\n   }\n \n~~~", "markup": "markdown", "html": "<p>If the file isn't found, the <code>filename</code> private variable will be blank. This is our last chance to print out the URI that we couldn't find. How do you feel about adding just one more message?</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gh\">diff -r d745a16608d5 gazebo/rendering/Heightmap.cc</span>\n<span class=\"gd\">--- a/gazebo/rendering/Heightmap.cc Fri Sep 30 16:43:07 2016 -0700</span>\n<span class=\"gi\">+++ b/gazebo/rendering/Heightmap.cc Fri Sep 30 18:15:31 2016 -0700</span>\n<span class=\"gu\">@@ -152,6 +152,12 @@</span>\n     {\n       this-&gt;dataPtr-&gt;filename = common::find_file(\n           _msg-&gt;geometry().heightmap().filename());\n<span class=\"gi\">+      if (this-&gt;dataPtr-&gt;filename.empty())</span>\n<span class=\"gi\">+      {</span>\n<span class=\"gi\">+        gzerr &lt;&lt; &quot;Unable to find file &quot;</span>\n<span class=\"gi\">+              &lt;&lt; _msg-&gt;geometry().heightmap().filename()</span>\n<span class=\"gi\">+              &lt;&lt; std::endl;</span>\n<span class=\"gi\">+      }</span>\n     }\n   }\n</pre></div>", "type": "rendered"}, "created_on": "2016-10-01T01:22:36.185529+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {"to": 154, "from": null, "path": "gazebo/rendering/Heightmap.cc"}, "updated_on": "2016-10-01T01:22:36.190927+00:00", "type": "pullrequest_comment", "id": 24568558}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453/comments/24631561.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:9a72967407d7..48257737d1cd?path=gazebo%2Frendering%2FHeightmap.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453/_/diff#comment-24631561"}}, "parent": {"id": 24568558, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453/comments/24568558.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453/_/diff#comment-24568558"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}, "content": {"raw": "yep good call. 9a72967", "markup": "markdown", "html": "<p>yep good call. <a href=\"#!/osrf/gazebo/commits/9a72967\" rel=\"nofollow\" class=\"ap-connect-link\">9a72967</a></p>", "type": "rendered"}, "created_on": "2016-10-03T21:17:48.587416+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {"to": null, "from": null, "path": "gazebo/rendering/Heightmap.cc"}, "updated_on": "2016-10-03T21:17:48.593456+00:00", "type": "pullrequest_comment", "id": 24631561}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453/comments/24674026.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:9a72967407d7..48257737d1cd?path=gazebo%2Fcommon%2FHeightmapData.hh"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453/_/diff#comment-24674026"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}, "content": {"raw": "This `#ifdef` is not needed here, correct?", "markup": "markdown", "html": "<p>This <code>#ifdef</code> is not needed here, correct?</p>", "type": "rendered"}, "created_on": "2016-10-04T14:32:59.702065+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "inline": {"to": 86, "from": null, "path": "gazebo/common/HeightmapData.hh"}, "updated_on": "2016-10-04T14:32:59.713097+00:00", "type": "pullrequest_comment", "id": 24674026}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453/comments/24688665.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:e624e68d2219..48257737d1cd?path=gazebo%2Fcommon%2FHeightmapData.hh"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453/_/diff#comment-24688665"}}, "parent": {"id": 24674026, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453/comments/24674026.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453/_/diff#comment-24674026"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}, "content": {"raw": "after some testing, it should be safe to remove. e624e68", "markup": "markdown", "html": "<p>after some testing, it should be safe to remove. <a href=\"#!/osrf/gazebo/commits/e624e68\" rel=\"nofollow\" class=\"ap-connect-link\">e624e68</a></p>", "type": "rendered"}, "created_on": "2016-10-04T18:23:45.150776+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {"to": null, "from": null, "path": "gazebo/common/HeightmapData.hh"}, "updated_on": "2016-10-04T18:23:45.153115+00:00", "type": "pullrequest_comment", "id": 24688665}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453/comments/24698392.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:e624e68d2219..48257737d1cd?path=gazebo%2Fcommon%2FHeightmapData.hh"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453/_/diff#comment-24698392"}}, "parent": {"id": 24688665, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453/comments/24688665.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453/_/diff#comment-24688665"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}, "content": {"raw": "[homebrew build](http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/673/) - blue", "markup": "markdown", "html": "<p><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/673/\" rel=\"nofollow\">homebrew build</a> - blue</p>", "type": "rendered"}, "created_on": "2016-10-04T21:50:02.914358+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {"to": null, "from": null, "path": "gazebo/common/HeightmapData.hh"}, "updated_on": "2016-10-04T21:50:02.917401+00:00", "type": "pullrequest_comment", "id": 24698392}], "page": 1, "size": 15}