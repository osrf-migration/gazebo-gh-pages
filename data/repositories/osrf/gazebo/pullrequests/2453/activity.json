{"pagelen": 50, "values": [{"update": {"description": "issue #1653 - The current behavior for creating heightmaps on the rendering side is to request height data from the physics server. However, currently protobuf msgs over certain size will be rejected and so heightmaps fail to load on the rendering side.\r\n\r\nThis PR updates the heightmap loading process on the rendering side to first try load the height data locally if available, if not, request the data from the server. \r\n\r\nNote, if the heightmap data is not present on the locally (e.g. running gzclient on a different machine that doesn't have the heightmap img), then the user will still run into the same problem. Future solution is to explore dividing large heightmap data into chunks and sending them to the rendering side using multiple msgs.\r\n\r\njenkins:\r\n\r\n- [nvidia gpu](http://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/636/) - no related test failures\r\n\r\n- [abi](http://build.osrfoundation.org/job/gazebo-abichecker-any_to_any-xenial-amd64/85/API_ABI_report/) - ok\r\n\r\n", "title": "Load heightmap data locally in rendering", "destination": {"commit": {"hash": "48257737d1cd", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/48257737d1cd.json"}, "html": {"href": "#!/osrf/gazebo/commits/48257737d1cd"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "e624e68d2219", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/e624e68d2219.json"}, "html": {"href": "#!/osrf/gazebo/commits/e624e68d2219"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "local_heightmap_7"}}, "state": "MERGED", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2016-10-04T23:02:23.340797+00:00"}, "pull_request": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}}, {"approval": {"date": "2016-10-04T22:59:50.001374+00:00", "pullrequest": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}, "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}}, "pull_request": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453/comments/24698392.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453/_/diff#comment-24698392"}}, "parent": {"id": 24688665, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453/comments/24688665.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453/_/diff#comment-24688665"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}, "content": {"raw": "[homebrew build](http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/673/) - blue", "markup": "markdown", "html": "<p><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/673/\" rel=\"nofollow\">homebrew build</a> - blue</p>", "type": "rendered"}, "created_on": "2016-10-04T21:50:02.914358+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {}, "updated_on": "2016-10-04T21:50:02.917401+00:00", "type": "pullrequest_comment", "id": 24698392}, "pull_request": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453/comments/24688665.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453/_/diff#comment-24688665"}}, "parent": {"id": 24674026, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453/comments/24674026.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453/_/diff#comment-24674026"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}, "content": {"raw": "after some testing, it should be safe to remove. e624e68", "markup": "markdown", "html": "<p>after some testing, it should be safe to remove. <a href=\"#!/osrf/gazebo/commits/e624e68\" rel=\"nofollow\" class=\"ap-connect-link\">e624e68</a></p>", "type": "rendered"}, "created_on": "2016-10-04T18:23:45.150776+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {}, "updated_on": "2016-10-04T18:23:45.153115+00:00", "type": "pullrequest_comment", "id": 24688665}, "pull_request": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}}, {"update": {"description": "issue #1653 - The current behavior for creating heightmaps on the rendering side is to request height data from the physics server. However, currently protobuf msgs over certain size will be rejected and so heightmaps fail to load on the rendering side.\r\n\r\nThis PR updates the heightmap loading process on the rendering side to first try load the height data locally if available, if not, request the data from the server. \r\n\r\nNote, if the heightmap data is not present on the locally (e.g. running gzclient on a different machine that doesn't have the heightmap img), then the user will still run into the same problem. Future solution is to explore dividing large heightmap data into chunks and sending them to the rendering side using multiple msgs.\r\n\r\njenkins:\r\n\r\n- [nvidia gpu](http://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/636/) - no related test failures\r\n\r\n- [abi](http://build.osrfoundation.org/job/gazebo-abichecker-any_to_any-xenial-amd64/85/API_ABI_report/) - ok\r\n\r\n", "title": "Load heightmap data locally in rendering", "destination": {"commit": {"hash": "48257737d1cd", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/48257737d1cd.json"}, "html": {"href": "#!/osrf/gazebo/commits/48257737d1cd"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "e624e68d2219", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/e624e68d2219.json"}, "html": {"href": "#!/osrf/gazebo/commits/e624e68d2219"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "local_heightmap_7"}}, "state": "OPEN", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2016-10-04T18:22:12.515613+00:00"}, "pull_request": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}}, {"approval": {"date": "2016-10-04T14:44:14.485587+00:00", "pullrequest": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}, "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}}, "pull_request": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453/comments/24674026.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453/_/diff#comment-24674026"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}, "content": {"raw": "This `#ifdef` is not needed here, correct?", "markup": "markdown", "html": "<p>This <code>#ifdef</code> is not needed here, correct?</p>", "type": "rendered"}, "created_on": "2016-10-04T14:32:59.702065+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "inline": {}, "updated_on": "2016-10-04T14:32:59.713097+00:00", "type": "pullrequest_comment", "id": 24674026}, "pull_request": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453/comments/24631620.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453/_/diff#comment-24631620"}}, "parent": {"id": 24562734, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453/comments/24562734.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453/_/diff#comment-24562734"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}, "content": {"raw": "added console msgs in 9a72967, d745a16", "markup": "markdown", "html": "<p>added console msgs in <a href=\"#!/osrf/gazebo/commits/9a72967\" rel=\"nofollow\" class=\"ap-connect-link\">9a72967</a>, <a href=\"#!/osrf/gazebo/commits/d745a16\" rel=\"nofollow\" class=\"ap-connect-link\">d745a16</a></p>", "type": "rendered"}, "created_on": "2016-10-03T21:19:22.098451+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2016-10-03T21:19:22.106265+00:00", "type": "pullrequest_comment", "id": 24631620}, "pull_request": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453/comments/24631591.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453/_/diff#comment-24631591"}}, "parent": {"id": 24568552, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453/comments/24568552.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453/_/diff#comment-24568552"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}, "content": {"raw": "ah that's right, we don't need to look again, removed. 9a72967", "markup": "markdown", "html": "<p>ah that's right, we don't need to look again, removed. <a href=\"#!/osrf/gazebo/commits/9a72967\" rel=\"nofollow\" class=\"ap-connect-link\">9a72967</a></p>", "type": "rendered"}, "created_on": "2016-10-03T21:18:43.603383+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {}, "updated_on": "2016-10-03T21:18:43.605377+00:00", "type": "pullrequest_comment", "id": 24631591}, "pull_request": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453/comments/24631561.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453/_/diff#comment-24631561"}}, "parent": {"id": 24568558, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453/comments/24568558.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453/_/diff#comment-24568558"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}, "content": {"raw": "yep good call. 9a72967", "markup": "markdown", "html": "<p>yep good call. <a href=\"#!/osrf/gazebo/commits/9a72967\" rel=\"nofollow\" class=\"ap-connect-link\">9a72967</a></p>", "type": "rendered"}, "created_on": "2016-10-03T21:17:48.587416+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {}, "updated_on": "2016-10-03T21:17:48.593456+00:00", "type": "pullrequest_comment", "id": 24631561}, "pull_request": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}}, {"update": {"description": "issue #1653 - The current behavior for creating heightmaps on the rendering side is to request height data from the physics server. However, currently protobuf msgs over certain size will be rejected and so heightmaps fail to load on the rendering side.\r\n\r\nThis PR updates the heightmap loading process on the rendering side to first try load the height data locally if available, if not, request the data from the server. \r\n\r\nNote, if the heightmap data is not present on the locally (e.g. running gzclient on a different machine that doesn't have the heightmap img), then the user will still run into the same problem. Future solution is to explore dividing large heightmap data into chunks and sending them to the rendering side using multiple msgs.\r\n\r\njenkins:\r\n\r\n- [nvidia gpu](http://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/636/) - no related test failures\r\n\r\n- [abi](http://build.osrfoundation.org/job/gazebo-abichecker-any_to_any-xenial-amd64/85/API_ABI_report/) - ok\r\n\r\n", "title": "Load heightmap data locally in rendering", "destination": {"commit": {"hash": "5443e2a2924f", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/5443e2a2924f.json"}, "html": {"href": "#!/osrf/gazebo/commits/5443e2a2924f"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "9a72967407d7", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/9a72967407d7.json"}, "html": {"href": "#!/osrf/gazebo/commits/9a72967407d7"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "local_heightmap_7"}}, "state": "OPEN", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2016-10-03T21:16:48.088398+00:00"}, "pull_request": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}}, {"update": {"description": "issue #1653 - The current behavior for creating heightmaps on the rendering side is to request height data from the physics server. However, currently protobuf msgs over certain size will be rejected and so heightmaps fail to load on the rendering side.\r\n\r\nThis PR updates the heightmap loading process on the rendering side to first try load the height data locally if available, if not, request the data from the server. \r\n\r\nNote, if the heightmap data is not present on the locally (e.g. running gzclient on a different machine that doesn't have the heightmap img), then the user will still run into the same problem. Future solution is to explore dividing large heightmap data into chunks and sending them to the rendering side using multiple msgs.\r\n\r\njenkins:\r\n\r\n- [nvidia gpu](http://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/636/) - no related test failures\r\n\r\n- [abi](http://build.osrfoundation.org/job/gazebo-abichecker-any_to_any-xenial-amd64/85/API_ABI_report/) - ok\r\n\r\n", "title": "Load heightmap data locally in rendering", "destination": {"commit": {"hash": "5443e2a2924f", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/5443e2a2924f.json"}, "html": {"href": "#!/osrf/gazebo/commits/5443e2a2924f"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "9a72967407d7", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/9a72967407d7.json"}, "html": {"href": "#!/osrf/gazebo/commits/9a72967407d7"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "local_heightmap_7"}}, "state": "OPEN", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2016-10-03T21:16:46.987500+00:00"}, "pull_request": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453/comments/24568558.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453/_/diff#comment-24568558"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}, "content": {"raw": "If the file isn't found, the `filename` private variable will be blank. This is our last chance to print out the URI that we couldn't find. How do you feel about adding just one more message?\n\n~~~\ndiff -r d745a16608d5 gazebo/rendering/Heightmap.cc\n--- a/gazebo/rendering/Heightmap.cc\tFri Sep 30 16:43:07 2016 -0700\n+++ b/gazebo/rendering/Heightmap.cc\tFri Sep 30 18:15:31 2016 -0700\n@@ -152,6 +152,12 @@\n     {\n       this->dataPtr->filename = common::find_file(\n           _msg->geometry().heightmap().filename());\n+      if (this->dataPtr->filename.empty())\n+      {\n+        gzerr << \"Unable to find file \"\n+              << _msg->geometry().heightmap().filename()\n+              << std::endl;\n+      }\n     }\n   }\n \n~~~", "markup": "markdown", "html": "<p>If the file isn't found, the <code>filename</code> private variable will be blank. This is our last chance to print out the URI that we couldn't find. How do you feel about adding just one more message?</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gh\">diff -r d745a16608d5 gazebo/rendering/Heightmap.cc</span>\n<span class=\"gd\">--- a/gazebo/rendering/Heightmap.cc Fri Sep 30 16:43:07 2016 -0700</span>\n<span class=\"gi\">+++ b/gazebo/rendering/Heightmap.cc Fri Sep 30 18:15:31 2016 -0700</span>\n<span class=\"gu\">@@ -152,6 +152,12 @@</span>\n     {\n       this-&gt;dataPtr-&gt;filename = common::find_file(\n           _msg-&gt;geometry().heightmap().filename());\n<span class=\"gi\">+      if (this-&gt;dataPtr-&gt;filename.empty())</span>\n<span class=\"gi\">+      {</span>\n<span class=\"gi\">+        gzerr &lt;&lt; &quot;Unable to find file &quot;</span>\n<span class=\"gi\">+              &lt;&lt; _msg-&gt;geometry().heightmap().filename()</span>\n<span class=\"gi\">+              &lt;&lt; std::endl;</span>\n<span class=\"gi\">+      }</span>\n     }\n   }\n</pre></div>", "type": "rendered"}, "created_on": "2016-10-01T01:22:36.185529+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2016-10-01T01:22:36.190927+00:00", "type": "pullrequest_comment", "id": 24568558}, "pull_request": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453/comments/24568552.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453/_/diff#comment-24568552"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}, "content": {"raw": "This is causing an extra file not found message. Is there a point to trying to find it again if we couldn't find it the first time?", "markup": "markdown", "html": "<p>This is causing an extra file not found message. Is there a point to trying to find it again if we couldn't find it the first time?</p>", "type": "rendered"}, "created_on": "2016-10-01T01:20:47.233113+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2016-10-01T01:20:47.240969+00:00", "type": "pullrequest_comment", "id": 24568552}, "pull_request": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453/comments/24568528.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453/_/diff#comment-24568528"}}, "parent": {"id": 24567796, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453/comments/24567796.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453/_/diff#comment-24567796"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}, "content": {"raw": "thanks!", "markup": "markdown", "html": "<p>thanks!</p>", "type": "rendered"}, "created_on": "2016-10-01T01:15:59.663019+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2016-10-01T01:15:59.667780+00:00", "type": "pullrequest_comment", "id": 24568528}, "pull_request": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453/comments/24567800.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453/_/diff#comment-24567800"}}, "parent": {"id": 24562938, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453/comments/24562938.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453/_/diff#comment-24562938"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}, "content": {"raw": "yes that's correct", "markup": "markdown", "html": "<p>yes that's correct</p>", "type": "rendered"}, "created_on": "2016-09-30T23:44:07.716369+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {}, "updated_on": "2016-09-30T23:44:07.718293+00:00", "type": "pullrequest_comment", "id": 24567800}, "pull_request": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453/comments/24567796.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453/_/diff#comment-24567796"}}, "parent": {"id": 24563093, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453/comments/24563093.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453/_/diff#comment-24563093"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}, "content": {"raw": "yep added console msg. 58aed6f, d745a16", "markup": "markdown", "html": "<p>yep added console msg. <a href=\"#!/osrf/gazebo/commits/58aed6f\" rel=\"nofollow\" class=\"ap-connect-link\">58aed6f</a>, <a href=\"#!/osrf/gazebo/commits/d745a16\" rel=\"nofollow\" class=\"ap-connect-link\">d745a16</a></p>", "type": "rendered"}, "created_on": "2016-09-30T23:43:52.868109+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {}, "updated_on": "2016-09-30T23:43:52.869795+00:00", "type": "pullrequest_comment", "id": 24567796}, "pull_request": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}}, {"update": {"description": "issue #1653 - The current behavior for creating heightmaps on the rendering side is to request height data from the physics server. However, currently protobuf msgs over certain size will be rejected and so heightmaps fail to load on the rendering side.\r\n\r\nThis PR updates the heightmap loading process on the rendering side to first try load the height data locally if available, if not, request the data from the server. \r\n\r\nNote, if the heightmap data is not present on the locally (e.g. running gzclient on a different machine that doesn't have the heightmap img), then the user will still run into the same problem. Future solution is to explore dividing large heightmap data into chunks and sending them to the rendering side using multiple msgs.\r\n\r\njenkins:\r\n\r\n- [nvidia gpu](http://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/636/) - no related test failures\r\n\r\n- [abi](http://build.osrfoundation.org/job/gazebo-abichecker-any_to_any-xenial-amd64/85/API_ABI_report/) - ok\r\n\r\n", "title": "Load heightmap data locally in rendering", "destination": {"commit": {"hash": "5443e2a2924f", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/5443e2a2924f.json"}, "html": {"href": "#!/osrf/gazebo/commits/5443e2a2924f"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "d745a16608d5", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/d745a16608d5.json"}, "html": {"href": "#!/osrf/gazebo/commits/d745a16608d5"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "local_heightmap_7"}}, "state": "OPEN", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2016-09-30T23:43:26.668151+00:00"}, "pull_request": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}}, {"update": {"description": "issue #1653 - The current behavior for creating heightmaps on the rendering side is to request height data from the physics server. However, currently protobuf msgs over certain size will be rejected and so heightmaps fail to load on the rendering side.\r\n\r\nThis PR updates the heightmap loading process on the rendering side to first try load the height data locally if available, if not, request the data from the server. \r\n\r\nNote, if the heightmap data is not present on the locally (e.g. running gzclient on a different machine that doesn't have the heightmap img), then the user will still run into the same problem. Future solution is to explore dividing large heightmap data into chunks and sending them to the rendering side using multiple msgs.\r\n\r\njenkins:\r\n\r\n- [nvidia gpu](http://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/636/) - no related test failures\r\n\r\n- [abi](http://build.osrfoundation.org/job/gazebo-abichecker-any_to_any-xenial-amd64/85/API_ABI_report/) - ok\r\n\r\n", "title": "Load heightmap data locally in rendering", "destination": {"commit": {"hash": "5443e2a2924f", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/5443e2a2924f.json"}, "html": {"href": "#!/osrf/gazebo/commits/5443e2a2924f"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "287b0b74eb9d", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/287b0b74eb9d.json"}, "html": {"href": "#!/osrf/gazebo/commits/287b0b74eb9d"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "local_heightmap_7"}}, "state": "OPEN", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2016-09-30T23:38:34.037885+00:00"}, "pull_request": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453/comments/24563093.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453/_/diff#comment-24563093"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}, "content": {"raw": "this is probably a good place for a console message saying that the heightmap couldn't be loaded from a file, so it is being sent from the server over the network (which can be slow). is the heightmap file on this machine and in the GAZEBO_RESOURCE_PATH?\n\nor something like that", "markup": "markdown", "html": "<p>this is probably a good place for a console message saying that the heightmap couldn't be loaded from a file, so it is being sent from the server over the network (which can be slow). is the heightmap file on this machine and in the GAZEBO_RESOURCE_PATH?</p>\n<p>or something like that</p>", "type": "rendered"}, "created_on": "2016-09-30T20:27:43.284010+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2016-09-30T20:27:43.287754+00:00", "type": "pullrequest_comment", "id": 24563093}, "pull_request": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}}, {"update": {"description": "issue #1653 - The current behavior for creating heightmaps on the rendering side is to request height data from the physics server. However, currently protobuf msgs over certain size will be rejected and so heightmaps fail to load on the rendering side.\r\n\r\nThis PR updates the heightmap loading process on the rendering side to first try load the height data locally if available, if not, request the data from the server. \r\n\r\nNote, if the heightmap data is not present on the locally (e.g. running gzclient on a different machine that doesn't have the heightmap img), then the user will still run into the same problem. Future solution is to explore dividing large heightmap data into chunks and sending them to the rendering side using multiple msgs.\r\n\r\njenkins:\r\n\r\n- [nvidia gpu](http://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/636/) - no related test failures\r\n\r\n- [abi](http://build.osrfoundation.org/job/gazebo-abichecker-any_to_any-xenial-amd64/85/API_ABI_report/) - ok\r\n\r\n", "title": "Load heightmap data locally in rendering", "destination": {"commit": {"hash": "5443e2a2924f", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/5443e2a2924f.json"}, "html": {"href": "#!/osrf/gazebo/commits/5443e2a2924f"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "e8418f8ba8a6", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/e8418f8ba8a6.json"}, "html": {"href": "#!/osrf/gazebo/commits/e8418f8ba8a6"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "local_heightmap_7"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2016-09-30T20:26:02.334609+00:00"}, "pull_request": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}}, {"update": {"description": "issue #1653 - The current behavior for creating heightmaps on the rendering side is to request height data from the physics server. However, currently protobuf msgs over certain size will be rejected and so heightmaps fail to load on the rendering side.\r\n\r\nThis PR updates the heightmap loading process on the rendering side to first try load the height data locally if available, if not, request the data from the server. \r\n\r\nNote, if the heightmap data is not present on the locally (e.g. running gzclient on a different machine that doesn't have the heightmap img), then the user will still run into the same problem. Future solution is to explore dividing large heightmap data into chunks and sending them to the rendering side using multiple msgs.\r\n\r\njenkins:\r\n\r\n- [nvidia gpu](http://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/636/) - no related test failures\r\n\r\n- [abi](http://build.osrfoundation.org/job/gazebo-abichecker-any_to_any-xenial-amd64/85/API_ABI_report/) - ok\r\n\r\n", "title": "Load heightmap data locally in rendering", "destination": {"commit": {"hash": "5443e2a2924f", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/5443e2a2924f.json"}, "html": {"href": "#!/osrf/gazebo/commits/5443e2a2924f"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "e8418f8ba8a6", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/e8418f8ba8a6.json"}, "html": {"href": "#!/osrf/gazebo/commits/e8418f8ba8a6"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "local_heightmap_7"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2016-09-30T20:26:00.007307+00:00"}, "pull_request": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453/comments/24562938.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453/_/diff#comment-24562938"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}, "content": {"raw": "I'm guessing those error messages I mentioned above came from this function", "markup": "markdown", "html": "<p>I'm guessing those error messages I mentioned above came from this function</p>", "type": "rendered"}, "created_on": "2016-09-30T20:23:32.572728+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2016-09-30T20:23:32.575867+00:00", "type": "pullrequest_comment", "id": 24562938}, "pull_request": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453/comments/24562734.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453/_/diff#comment-24562734"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}, "content": {"raw": "I just did some testing with different combinations of client / server (this branch and the 7.3.1 debs0, and this is looking great. Here's a summary:\n\nIn separate terminal windows I run the following commands in order:\n\n~~~\ngzserver --verbose worlds/heightmap.world\ngz topic -e /gazebo/default/request\ngz topic -e /gazebo/default/response > response.txt\ngzclient --verbose\n~~~\n\n## Case 1: gzserver 7.3.1, any version of gzclient\n\nWhen either gzclient connected to the 7.3.1 version of gzserver, there were two `scene_info` requests, followed by a `heightmap_data` request:\n\n~~~\n$ gz topic -e /gazebo/default/request\nid: 1173\nrequest: \"scene_info\"\ndata: \"\"\n\nid: 3803\nrequest: \"scene_info\"\ndata: \"\"\n\nid: 1505\nrequest: \"heightmap_data\"\ndata: \"\"\n~~~\n\nThe size of these responses is about 2.2 MB.\n\n## Case 2: gzserver from this branch, gzclient 7.3.1\n\nWhen an old client connects to the gzserver from this branch, the same 3 requests are made, but the size of the responses is cut down to 780 kB, since the `scene_info` requests no longer contain serialized heights.\n\n## Case 3: gzserver and gzclient from this branch\n\nThis is the best case. There are still two `scene_info` requests, but the `heightmap_data` request is skipped, so the total response size is down to 44 kB!\n\n## Case 4: gzserver and gzclient from this branch, but gzclient can't find a file\n\nThis can happen if you run gzclient on a separate machine that doesn't have the heightmap data, or if the `GAZEBO_RESOURCE_PATH` is not set correctly. This case is equivalent to Case 2, with all 3 requests with responses totalling 780 kB. The only caveat to this case is that it doesn't give a console message saying that heightmaps will be serialized instead of loaded locally by gzclient and asking if they have set their `GAZEBO_RESOURCE_PATH` correctly. Instead it gives the following:\n\n~~~\n[Err] [SystemPaths.cc:410] File or path does not exist[\"\"]\n[Err] [SystemPaths.cc:410] File or path does not exist[\"\"]\n~~~\n\nIt would be nice to improve that message.", "markup": "markdown", "html": "<p>I just did some testing with different combinations of client / server (this branch and the 7.3.1 debs0, and this is looking great. Here's a summary:</p>\n<p>In separate terminal windows I run the following commands in order:</p>\n<div class=\"codehilite\"><pre><span></span>gzserver --verbose worlds/heightmap.world\ngz topic -e /gazebo/default/request\ngz topic -e /gazebo/default/response &gt; response.txt\ngzclient --verbose\n</pre></div>\n\n\n<h2 id=\"markdown-header-case-1-gzserver-731-any-version-of-gzclient\">Case 1: gzserver 7.3.1, any version of gzclient</h2>\n<p>When either gzclient connected to the 7.3.1 version of gzserver, there were two <code>scene_info</code> requests, followed by a <code>heightmap_data</code> request:</p>\n<div class=\"codehilite\"><pre><span></span>$ gz topic -e /gazebo/default/request\nid: <span class=\"m\">1173</span>\nrequest: <span class=\"s2\">&quot;scene_info&quot;</span>\ndata: <span class=\"s2\">&quot;&quot;</span>\n\nid: <span class=\"m\">3803</span>\nrequest: <span class=\"s2\">&quot;scene_info&quot;</span>\ndata: <span class=\"s2\">&quot;&quot;</span>\n\nid: <span class=\"m\">1505</span>\nrequest: <span class=\"s2\">&quot;heightmap_data&quot;</span>\ndata: <span class=\"s2\">&quot;&quot;</span>\n</pre></div>\n\n\n<p>The size of these responses is about 2.2 MB.</p>\n<h2 id=\"markdown-header-case-2-gzserver-from-this-branch-gzclient-731\">Case 2: gzserver from this branch, gzclient 7.3.1</h2>\n<p>When an old client connects to the gzserver from this branch, the same 3 requests are made, but the size of the responses is cut down to 780 kB, since the <code>scene_info</code> requests no longer contain serialized heights.</p>\n<h2 id=\"markdown-header-case-3-gzserver-and-gzclient-from-this-branch\">Case 3: gzserver and gzclient from this branch</h2>\n<p>This is the best case. There are still two <code>scene_info</code> requests, but the <code>heightmap_data</code> request is skipped, so the total response size is down to 44 kB!</p>\n<h2 id=\"markdown-header-case-4-gzserver-and-gzclient-from-this-branch-but-gzclient-cant-find-a-file\">Case 4: gzserver and gzclient from this branch, but gzclient can't find a file</h2>\n<p>This can happen if you run gzclient on a separate machine that doesn't have the heightmap data, or if the <code>GAZEBO_RESOURCE_PATH</code> is not set correctly. This case is equivalent to Case 2, with all 3 requests with responses totalling 780 kB. The only caveat to this case is that it doesn't give a console message saying that heightmaps will be serialized instead of loaded locally by gzclient and asking if they have set their <code>GAZEBO_RESOURCE_PATH</code> correctly. Instead it gives the following:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">[Err] [SystemPaths.cc:410] File or path does not exist[&quot;&quot;]</span>\n<span class=\"k\">[Err] [SystemPaths.cc:410] File or path does not exist[&quot;&quot;]</span>\n</pre></div>\n\n\n<p>It would be nice to improve that message.</p>", "type": "rendered"}, "created_on": "2016-09-30T20:18:09.399436+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2016-09-30T20:18:09.401338+00:00", "type": "pullrequest_comment", "id": 24562734}, "pull_request": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453/comments/24373962.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453/_/diff#comment-24373962"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}, "content": {"raw": "new [homebrew build](http://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-homebrew-amd64/670/) - ok", "markup": "markdown", "html": "<p>new <a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-homebrew-amd64/670/\" rel=\"nofollow\">homebrew build</a> - ok</p>", "type": "rendered"}, "created_on": "2016-09-28T01:05:59.422664+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2016-09-28T01:05:59.424605+00:00", "type": "pullrequest_comment", "id": 24373962}, "pull_request": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}}, {"update": {"description": "issue #1653 - The current behavior for creating heightmaps on the rendering side is to request height data from the physics server. However, currently protobuf msgs over certain size will be rejected and so heightmaps fail to load on the rendering side.\r\n\r\nThis PR updates the heightmap loading process on the rendering side to first try load the height data locally if available, if not, request the data from the server. \r\n\r\nNote, if the heightmap data is not present on the locally (e.g. running gzclient on a different machine that doesn't have the heightmap img), then the user will still run into the same problem. Future solution is to explore dividing large heightmap data into chunks and sending them to the rendering side using multiple msgs.\r\n\r\njenkins:\r\n\r\n- [nvidia gpu](http://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/636/) - no related test failures\r\n\r\n- [abi](http://build.osrfoundation.org/job/gazebo-abichecker-any_to_any-xenial-amd64/85/API_ABI_report/) - ok\r\n\r\n", "title": "Load heightmap data locally in rendering", "destination": {"commit": {"hash": "b6667567d5bf", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/b6667567d5bf.json"}, "html": {"href": "#!/osrf/gazebo/commits/b6667567d5bf"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "4cc93e833996", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/4cc93e833996.json"}, "html": {"href": "#!/osrf/gazebo/commits/4cc93e833996"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "local_heightmap_7"}}, "state": "OPEN", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2016-09-27T19:15:30.077928+00:00"}, "pull_request": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}}, {"update": {"description": "issue #1653 - The current behavior for creating heightmaps on the rendering side is to request height data from the physics server. However, currently protobuf msgs over certain size will be rejected and so heightmaps fail to load on the rendering side.\r\n\r\nThis PR updates the heightmap loading process on the rendering side to first try load the height data locally if available, if not, request the data from the server. \r\n\r\nNote, if the heightmap data is not present on the locally (e.g. running gzclient on a different machine that doesn't have the heightmap img), then the user will still run into the same problem. Future solution is to explore dividing large heightmap data into chunks and sending them to the rendering side using multiple msgs.\r\n\r\njenkins:\r\n\r\n- [nvidia gpu](http://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/636/) - no related test failures\r\n\r\n- [abi](http://build.osrfoundation.org/job/gazebo-abichecker-any_to_any-xenial-amd64/85/API_ABI_report/) - ok\r\n\r\n", "title": "Load heightmap data locally in rendering", "destination": {"commit": {"hash": "b6667567d5bf", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/b6667567d5bf.json"}, "html": {"href": "#!/osrf/gazebo/commits/b6667567d5bf"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "51bf5e28ddd9", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/51bf5e28ddd9.json"}, "html": {"href": "#!/osrf/gazebo/commits/51bf5e28ddd9"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "local_heightmap_7"}}, "state": "OPEN", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2016-09-27T18:57:22.186044+00:00"}, "pull_request": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}}, {"update": {"description": "issue #1653 - The current behavior for creating heightmaps on the rendering side is to request height data from the physics server. However, currently protobuf msgs over certain size will be rejected and so heightmaps fail to load on the rendering side.\r\n\r\nThis PR updates the heightmap loading process on the rendering side to first try load the height data locally if available, if not, request the data from the server. \r\n\r\nNote, if the heightmap data is not present on the locally (e.g. running gzclient on a different machine that doesn't have the heightmap img), then the user will still run into the same problem. Future solution is to explore dividing large heightmap data into chunks and sending them to the rendering side using multiple msgs.\r\n\r\njenkins:\r\n\r\n- [nvidia gpu](http://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/636/) - no related test failures\r\n\r\n- [abi](http://build.osrfoundation.org/job/gazebo-abichecker-any_to_any-xenial-amd64/85/API_ABI_report/) - ok\r\n\r\n", "title": "Load heightmap data locally in rendering", "destination": {"commit": {"hash": "b6667567d5bf", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/b6667567d5bf.json"}, "html": {"href": "#!/osrf/gazebo/commits/b6667567d5bf"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "51bf5e28ddd9", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/51bf5e28ddd9.json"}, "html": {"href": "#!/osrf/gazebo/commits/51bf5e28ddd9"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "local_heightmap_7"}}, "state": "OPEN", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2016-09-27T18:57:22.158578+00:00"}, "pull_request": {"type": "pullrequest", "id": 2453, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}}, "title": "Load heightmap data locally in rendering"}}]}