{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3110/comments/108846166.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3110/_/diff#comment-108846166"}}, "parent": {"id": 108681059, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3110/comments/108681059.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3110/_/diff#comment-108681059"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 3110, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3110.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3110"}}, "title": "Extend SVG parsing: Add missing lineto commands v,V,h,H"}, "content": {"raw": "thanks I confirmed that the svg file loads with the changes.\n\nI wrote a small test in `SVGLoader_TEST.cc`. Can you update this pull request to include this test below? \n\nYou can do this by adding the above svg file to the  `gazebo/test/data/svg/` directory and saving it as `lineto.svg`. After that just apply this patch:\n\n```\ndiff -r 7524795b86f9 gazebo/common/SVGLoader_TEST.cc\n--- a/gazebo/common/SVGLoader_TEST.cc   Mon Jul 08 11:12:29 2019 -0700\n+++ b/gazebo/common/SVGLoader_TEST.cc   Wed Jul 10 14:20:01 2019 -0700\n@@ -364,6 +364,25 @@\n }\n \n /////////////////////////////////////////////////\n+TEST_F(SVGLoader, Lineto)\n+{\n+  // check for lineto command support\n+  common::SVGLoader loader(3);\n+  std::vector<common::SVGPath> paths;\n+\n+  std::string filePath = std::string(PROJECT_SOURCE_PATH);\n+  filePath += \"/test/data/svg/lineto.svg\";\n+\n+  bool success = loader.Parse(filePath, paths);\n+  EXPECT_EQ(true, success);\n+\n+  EXPECT_EQ(1u, paths.size());\n+  EXPECT_EQ(1u, paths[0].subpaths.size());\n+  EXPECT_EQ(1u, paths[0].polylines.size());\n+  EXPECT_EQ(7u, paths[0].polylines[0].size());\n+}\n+\n+/////////////////////////////////////////////////\n int main(int argc, char **argv)\n {\n   ::testing::InitGoogleTest(&argc, argv);\n```", "markup": "markdown", "html": "<p>thanks I confirmed that the svg file loads with the changes.</p>\n<p>I wrote a small test in <code>SVGLoader_TEST.cc</code>. Can you update this pull request to include this test below? </p>\n<p>You can do this by adding the above svg file to the  <code>gazebo/test/data/svg/</code> directory and saving it as <code>lineto.svg</code>. After that just apply this patch:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gh\">diff -r 7524795b86f9 gazebo/common/SVGLoader_TEST.cc</span>\n<span class=\"gd\">--- a/gazebo/common/SVGLoader_TEST.cc   Mon Jul 08 11:12:29 2019 -0700</span>\n<span class=\"gi\">+++ b/gazebo/common/SVGLoader_TEST.cc   Wed Jul 10 14:20:01 2019 -0700</span>\n<span class=\"gu\">@@ -364,6 +364,25 @@</span>\n }\n\n /////////////////////////////////////////////////\n<span class=\"gi\">+TEST_F(SVGLoader, Lineto)</span>\n<span class=\"gi\">+{</span>\n<span class=\"gi\">+  // check for lineto command support</span>\n<span class=\"gi\">+  common::SVGLoader loader(3);</span>\n<span class=\"gi\">+  std::vector&lt;common::SVGPath&gt; paths;</span>\n<span class=\"gi\">+</span>\n<span class=\"gi\">+  std::string filePath = std::string(PROJECT_SOURCE_PATH);</span>\n<span class=\"gi\">+  filePath += &quot;/test/data/svg/lineto.svg&quot;;</span>\n<span class=\"gi\">+</span>\n<span class=\"gi\">+  bool success = loader.Parse(filePath, paths);</span>\n<span class=\"gi\">+  EXPECT_EQ(true, success);</span>\n<span class=\"gi\">+</span>\n<span class=\"gi\">+  EXPECT_EQ(1u, paths.size());</span>\n<span class=\"gi\">+  EXPECT_EQ(1u, paths[0].subpaths.size());</span>\n<span class=\"gi\">+  EXPECT_EQ(1u, paths[0].polylines.size());</span>\n<span class=\"gi\">+  EXPECT_EQ(7u, paths[0].polylines[0].size());</span>\n<span class=\"gi\">+}</span>\n<span class=\"gi\">+</span>\n<span class=\"gi\">+/////////////////////////////////////////////////</span>\n int main(int argc, char **argv)\n {\n   ::testing::InitGoogleTest(&amp;argc, argv);\n</pre></div>", "type": "rendered"}, "created_on": "2019-07-10T21:25:53.725198+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2019-07-10T21:25:53.745978+00:00", "type": "pullrequest_comment", "id": 108846166}