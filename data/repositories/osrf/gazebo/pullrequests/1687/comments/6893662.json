{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1687/comments/6893662.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:None..None?path=gazebo%2Frendering%2FWindowManager.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1687/_/diff#comment-6893662"}}, "parent": {"id": 6880018, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1687/comments/6880018.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1687/_/diff#comment-6880018"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1687, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1687.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1687"}}, "title": "Windows final"}, "content": {"raw": "_MSC_VER is only set by the [Microsoft C++ compiler](https://msdn.microsoft.com/en-us/library/b0084kay.aspx), it contains the major/minor version number of cl.exe.  It doesn't appear to be set by mingw on windows.  _WIN32 is set by mingw.\n\n```\nD:\\>cat test.cc\n#include <iostream>\n\nint main()\n{\n#ifdef _MSC_VER\n    std::cout <<\"_MSC_VER: \" << _MSC_VER << std::endl;\n#else\n    std::cout << \"No _MSC_VER\" << std::endl;\n#endif\n\n#ifdef _WIN32\n    std::cout <<\"_WIN32: \" << _WIN32 << std::endl;\n#else\n    std::cout << \"No _WIN32\" << std::endl;\n#endif\n}\n\nD:\\>g++ --version\ng++ (i686-posix-dwarf-rev2, Built by MinGW-W64 project) 4.9.1\nCopyright (C) 2014 Free Software Foundation, Inc.\nThis is free software; see the source for copying conditions.  There is NO\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n\nD:\\>g++ test.cc && test.exe\nNo _MSC_VER\n_WIN32: 1\n```", "markup": "markdown", "html": "<p>_MSC_VER is only set by the <a data-is-external-link=\"true\" href=\"https://msdn.microsoft.com/en-us/library/b0084kay.aspx\" rel=\"nofollow\">Microsoft C++ compiler</a>, it contains the major/minor version number of cl.exe.  It doesn't appear to be set by mingw on windows.  _WIN32 is set by mingw.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nl\">D</span><span class=\"p\">:</span><span class=\"err\">\\</span><span class=\"o\">&gt;</span><span class=\"n\">cat</span> <span class=\"n\">test</span><span class=\"p\">.</span><span class=\"n\">cc</span>\n<span class=\"cp\">#include</span> <span class=\"cpf\">&lt;iostream&gt;</span><span class=\"cp\"></span>\n\n<span class=\"kr\">int</span> <span class=\"n\">main</span><span class=\"p\">()</span>\n<span class=\"p\">{</span>\n<span class=\"cp\">#ifdef _MSC_VER</span>\n    <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">cout</span> <span class=\"o\">&lt;&lt;</span><span class=\"s\">&quot;_MSC_VER: &quot;</span> <span class=\"o\">&lt;&lt;</span> <span class=\"n\">_MSC_VER</span> <span class=\"o\">&lt;&lt;</span> <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">endl</span><span class=\"p\">;</span>\n<span class=\"cp\">#else</span>\n    <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">cout</span> <span class=\"o\">&lt;&lt;</span> <span class=\"s\">&quot;No _MSC_VER&quot;</span> <span class=\"o\">&lt;&lt;</span> <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">endl</span><span class=\"p\">;</span>\n<span class=\"cp\">#endif</span>\n\n<span class=\"cp\">#ifdef _WIN32</span>\n    <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">cout</span> <span class=\"o\">&lt;&lt;</span><span class=\"s\">&quot;_WIN32: &quot;</span> <span class=\"o\">&lt;&lt;</span> <span class=\"n\">_WIN32</span> <span class=\"o\">&lt;&lt;</span> <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">endl</span><span class=\"p\">;</span>\n<span class=\"cp\">#else</span>\n    <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">cout</span> <span class=\"o\">&lt;&lt;</span> <span class=\"s\">&quot;No _WIN32&quot;</span> <span class=\"o\">&lt;&lt;</span> <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">endl</span><span class=\"p\">;</span>\n<span class=\"cp\">#endif</span>\n<span class=\"p\">}</span>\n\n<span class=\"nl\">D</span><span class=\"p\">:</span><span class=\"err\">\\</span><span class=\"o\">&gt;</span><span class=\"n\">g</span><span class=\"o\">++</span> <span class=\"o\">--</span><span class=\"n\">version</span>\n<span class=\"n\">g</span><span class=\"o\">++</span> <span class=\"p\">(</span><span class=\"n\">i686</span><span class=\"o\">-</span><span class=\"n\">posix</span><span class=\"o\">-</span><span class=\"n\">dwarf</span><span class=\"o\">-</span><span class=\"n\">rev2</span><span class=\"p\">,</span> <span class=\"n\">Built</span> <span class=\"n\">by</span> <span class=\"n\">MinGW</span><span class=\"o\">-</span><span class=\"n\">W64</span> <span class=\"n\">project</span><span class=\"p\">)</span> <span class=\"mf\">4.9.1</span>\n<span class=\"n\">Copyright</span> <span class=\"p\">(</span><span class=\"n\">C</span><span class=\"p\">)</span> <span class=\"mi\">2014</span> <span class=\"n\">Free</span> <span class=\"n\">Software</span> <span class=\"n\">Foundation</span><span class=\"p\">,</span> <span class=\"n\">Inc</span><span class=\"p\">.</span>\n<span class=\"n\">This</span> <span class=\"n\">is</span> <span class=\"n\">free</span> <span class=\"n\">software</span><span class=\"p\">;</span> <span class=\"n\">see</span> <span class=\"n\">the</span> <span class=\"n\">source</span> <span class=\"k\">for</span> <span class=\"n\">copying</span> <span class=\"n\">conditions</span><span class=\"p\">.</span>  <span class=\"n\">There</span> <span class=\"n\">is</span> <span class=\"n\">NO</span>\n<span class=\"n\">warranty</span><span class=\"p\">;</span> <span class=\"o\">not</span> <span class=\"n\">even</span> <span class=\"k\">for</span> <span class=\"n\">MERCHANTABILITY</span> <span class=\"o\">or</span> <span class=\"n\">FITNESS</span> <span class=\"n\">FOR</span> <span class=\"n\">A</span> <span class=\"n\">PARTICULAR</span> <span class=\"n\">PURPOSE</span><span class=\"p\">.</span>\n\n<span class=\"nl\">D</span><span class=\"p\">:</span><span class=\"err\">\\</span><span class=\"o\">&gt;</span><span class=\"n\">g</span><span class=\"o\">++</span> <span class=\"n\">test</span><span class=\"p\">.</span><span class=\"n\">cc</span> <span class=\"o\">&amp;&amp;</span> <span class=\"n\">test</span><span class=\"p\">.</span><span class=\"n\">exe</span>\n<span class=\"n\">No</span> <span class=\"n\">_MSC_VER</span>\n<span class=\"nl\">_WIN32</span><span class=\"p\">:</span> <span class=\"mi\">1</span>\n</pre></div>", "type": "rendered"}, "created_on": "2015-05-15T14:02:57.213579+00:00", "user": {"display_name": "Rich Mattes", "uuid": "{1ef6f3dd-b8db-412b-94e9-e430e7aafd23}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B1ef6f3dd-b8db-412b-94e9-e430e7aafd23%7D"}, "html": {"href": "https://bitbucket.org/%7B1ef6f3dd-b8db-412b-94e9-e430e7aafd23%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/d431baafeedf5d8921cb50a3c9902e16d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRM-0.png"}}, "nickname": "richmattes", "type": "user", "account_id": "557058:a38935e3-9a08-40d9-917a-ff19973e58df"}, "inline": {"to": null, "from": null, "outdated": false, "path": "gazebo/rendering/WindowManager.cc"}, "updated_on": "2015-05-15T14:02:57.348391+00:00", "type": "pullrequest_comment", "id": 6893662}