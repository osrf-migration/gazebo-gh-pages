{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1687/comments/6878878.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1687/_/diff#comment-6878878"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1687, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1687.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1687"}}, "title": "Windows final"}, "content": {"raw": "# Reference #\n\n* Setup: Run callgrind on pr2.world for ~1 hour on default branch.\n* `dworldQuickStep`\n    * Inclusive cost = 60.47 (a higher number means it is heavy user of CPU)\n    * Called = 10,131 (number of times this function was called)\n\n# Valgrind part 1 #\n\n* Setup: Run callgrind on pr2.world for ~1 hour on default branch.\n* Result: Look at `ODELink::MoveCallback`\n    * Inclusive cost = 0.41\n    * Called = 486,288\n* Result: Look at the push operation in `ODELink::MoveCallback`\n    * Inclusive cost = 0.13\n    * Count = 486,288\n\n# Valgrind part 2 #\n\n* Setup: Run callgrind on pr2.world for ~1 hour on default branch.\n* Result: Look at `ODELink::MoveCallback`\n    * Inclusive cost = 0.44\n    * Called = 681,072\n* Result: Look at the push operation in `ODELink::MoveCallback`\n    * Inclusive cost = 0.14\n    * Count = 681,072\n\n# Conclusion #\n\nThere is a performance hit, but it is negligible. I only ran this test twice, so some of the performance hit could be noise. I'm okay with the `_AddDirty` function call.", "markup": "markdown", "html": "<h1 id=\"markdown-header-reference\">Reference</h1>\n<ul>\n<li>Setup: Run callgrind on pr2.world for ~1 hour on default branch.</li>\n<li><code>dworldQuickStep</code><ul>\n<li>Inclusive cost = 60.47 (a higher number means it is heavy user of CPU)</li>\n<li>Called = 10,131 (number of times this function was called)</li>\n</ul>\n</li>\n</ul>\n<h1 id=\"markdown-header-valgrind-part-1\">Valgrind part 1</h1>\n<ul>\n<li>Setup: Run callgrind on pr2.world for ~1 hour on default branch.</li>\n<li>Result: Look at <code>ODELink::MoveCallback</code><ul>\n<li>Inclusive cost = 0.41</li>\n<li>Called = 486,288</li>\n</ul>\n</li>\n<li>Result: Look at the push operation in <code>ODELink::MoveCallback</code><ul>\n<li>Inclusive cost = 0.13</li>\n<li>Count = 486,288</li>\n</ul>\n</li>\n</ul>\n<h1 id=\"markdown-header-valgrind-part-2\">Valgrind part 2</h1>\n<ul>\n<li>Setup: Run callgrind on pr2.world for ~1 hour on default branch.</li>\n<li>Result: Look at <code>ODELink::MoveCallback</code><ul>\n<li>Inclusive cost = 0.44</li>\n<li>Called = 681,072</li>\n</ul>\n</li>\n<li>Result: Look at the push operation in <code>ODELink::MoveCallback</code><ul>\n<li>Inclusive cost = 0.14</li>\n<li>Count = 681,072</li>\n</ul>\n</li>\n</ul>\n<h1 id=\"markdown-header-conclusion\">Conclusion</h1>\n<p>There is a performance hit, but it is negligible. I only ran this test twice, so some of the performance hit could be noise. I'm okay with the <code>_AddDirty</code> function call.</p>", "type": "rendered"}, "created_on": "2015-05-14T22:10:57.960818+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2015-05-14T23:40:51.648466+00:00", "type": "pullrequest_comment", "id": 6878878}