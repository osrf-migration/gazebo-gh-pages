{"pagelen": 50, "values": [{"update": {"description": "We are using the [AnsiColor Plugin](https://wiki.jenkins-ci.org/display/JENKINS/AnsiColor+Plugin) in jenkins to colorize the console output so it looks like [this](http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64_flaky/4/console) instead of [this](http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64_flaky/5/console):\r\n\r\n~~~\r\n491: [ RUN      ] gzTest.Joint\r\n491: \u001b[1;32m[Msg] \u001b[0m\u001b[1;32mWaiting for master.\u001b[0m\u001b[1;32m\r\n491: \u001b[0m\u001b[1;32m\u001b[0m\u001b[1;32m\u001b[0m\u001b[1;32m[Msg] \u001b[0m\u001b[1;32mConnected to gazebo master @ \u001b[0m\u001b[1;32mhttp://127.0.0.1:11345\u001b[0m\u001b[1;32m\r\n491: \u001b[0m\u001b[1;32m\u001b[0m\u001b[1;32m\u001b[0m\u001b[1;32m[Msg] \u001b[0m\u001b[1;32mPublicized address: \u001b[0m\u001b[1;32m172.23.2.252\u001b[0m\u001b[1;32m\r\n491: \u001b[0m\u001b[1;32m\u001b[0m\u001b[1;32m\u001b[0m[       OK ] gzTest.Joint (1939 ms)\r\n~~~\r\n\r\nOne drawback is that it makes the html form of the console output huge (120 MB instead of 4 MB). The following colored text expands to html with a ton of duplicate `<span>` tags.\r\n\r\n~~~\r\n[Err] [SVGLoader.cc:666] Failed to load file /not/a/file.svg\r\n~~~\r\n\r\n~~~\r\n<b><span style=\"color: #CD0000;\">[Err] </span></b>\r\n<b><span style=\"color: #CD0000;\">[</span></b>\r\n<b><span style=\"color: #CD0000;\">SVGLoader.cc</span></b>\r\n<b><span style=\"color: #CD0000;\">:</span></b>\r\n<b><span style=\"color: #CD0000;\">666</span></b>\r\n<b><span style=\"color: #CD0000;\">] </span></b>\r\n<b><span style=\"color: #CD0000;\">Failed to load file </span></b>\r\n<b><span style=\"color: #CD0000;\">/not/a/file.svg</span></b>\r\n~~~\r\n\r\nEach `Console::log::<<` operator makes a separate `<span>` tag. This PR makes a small change to reduce the number of `Console::log::<<` operators that are colorized by first streaming to a `std::stringstream` and then streaming to the `Console::log`. This reduced the console log from 120MB to 70MB in a [test build](http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64_flaky/7/).\r\n\r\nI also discovered recently that the `check_test_ran.py` script doesn't work well with QTest's since those write blank junit files instead of not writing a file at all (in jenkins it looks like [this](http://build.osrfoundation.org/job/gazebo-ci-gazebo5-homebrew-amd64/10/testReport/UNIT_ImagesView_TEST/xml/_empty_/)). So I've modified that script to write the `test_ran` output if the file size is zero.\r\n\r\nI also noticed that jenkins reports the time taken by QTest's to be super long ([over 9 hours for DataLogger_TEST](http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/gazebo-ci-pr_any-homebrew-amd64_flaky/15/testReport/(root)/DataLogger_TEST/)). The `QBENCHMARK` seems to report time in `ms`, so I've added a divide by 1000 operation in the stylesheet that converts the qtest xml files to junit (752b959).", "title": "Reduce jenkins console log size, fix check_test_ran.py for QTest", "destination": {"commit": {"hash": "af456eb2d26a", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/af456eb2d26a.json"}, "html": {"href": "#!/osrf/gazebo/commits/af456eb2d26a"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo5"}}, "reason": "", "source": {"commit": {"hash": "752b959743aa", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/752b959743aa.json"}, "html": {"href": "#!/osrf/gazebo/commits/752b959743aa"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "reduce_console_size"}}, "state": "MERGED", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2016-05-11T00:56:03.236130+00:00"}, "pull_request": {"type": "pullrequest", "id": 2253, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2253.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2253"}}, "title": "Reduce jenkins console log size, fix check_test_ran.py for QTest"}}, {"approval": {"date": "2016-05-09T20:33:53.872856+00:00", "pullrequest": {"type": "pullrequest", "id": 2253, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2253.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2253"}}, "title": "Reduce jenkins console log size, fix check_test_ran.py for QTest"}, "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}}, "pull_request": {"type": "pullrequest", "id": 2253, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2253.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2253"}}, "title": "Reduce jenkins console log size, fix check_test_ran.py for QTest"}}, {"approval": {"date": "2016-04-25T20:06:09.459837+00:00", "pullrequest": {"type": "pullrequest", "id": 2253, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2253.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2253"}}, "title": "Reduce jenkins console log size, fix check_test_ran.py for QTest"}, "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}}, "pull_request": {"type": "pullrequest", "id": 2253, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2253.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2253"}}, "title": "Reduce jenkins console log size, fix check_test_ran.py for QTest"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2253/comments/17274789.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2253/_/diff#comment-17274789"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2253, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2253.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2253"}}, "title": "Reduce jenkins console log size, fix check_test_ran.py for QTest"}, "content": {"raw": "new test build to confirm qtest time fix\n\n* http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/gazebo-ci-pr_any-homebrew-amd64_flaky/19/", "markup": "markdown", "html": "<p>new test build to confirm qtest time fix</p>\n<ul>\n<li><a href=\"http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/gazebo-ci-pr_any-homebrew-amd64_flaky/19/\" rel=\"nofollow\" class=\"ap-connect-link\">http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/gazebo-ci-pr_any-homebrew-amd64_flaky/19/</a></li>\n</ul>", "type": "rendered"}, "created_on": "2016-04-15T01:11:56.695057+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2016-04-15T01:11:56.697988+00:00", "type": "pullrequest_comment", "id": 17274789}, "pull_request": {"type": "pullrequest", "id": 2253, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2253.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2253"}}, "title": "Reduce jenkins console log size, fix check_test_ran.py for QTest"}}, {"update": {"description": "We are using the [AnsiColor Plugin](https://wiki.jenkins-ci.org/display/JENKINS/AnsiColor+Plugin) in jenkins to colorize the console output so it looks like [this](http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64_flaky/4/console) instead of [this](http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64_flaky/5/console):\r\n\r\n~~~\r\n491: [ RUN      ] gzTest.Joint\r\n491: \u001b[1;32m[Msg] \u001b[0m\u001b[1;32mWaiting for master.\u001b[0m\u001b[1;32m\r\n491: \u001b[0m\u001b[1;32m\u001b[0m\u001b[1;32m\u001b[0m\u001b[1;32m[Msg] \u001b[0m\u001b[1;32mConnected to gazebo master @ \u001b[0m\u001b[1;32mhttp://127.0.0.1:11345\u001b[0m\u001b[1;32m\r\n491: \u001b[0m\u001b[1;32m\u001b[0m\u001b[1;32m\u001b[0m\u001b[1;32m[Msg] \u001b[0m\u001b[1;32mPublicized address: \u001b[0m\u001b[1;32m172.23.2.252\u001b[0m\u001b[1;32m\r\n491: \u001b[0m\u001b[1;32m\u001b[0m\u001b[1;32m\u001b[0m[       OK ] gzTest.Joint (1939 ms)\r\n~~~\r\n\r\nOne drawback is that it makes the html form of the console output huge (120 MB instead of 4 MB). The following colored text expands to html with a ton of duplicate `<span>` tags.\r\n\r\n~~~\r\n[Err] [SVGLoader.cc:666] Failed to load file /not/a/file.svg\r\n~~~\r\n\r\n~~~\r\n<b><span style=\"color: #CD0000;\">[Err] </span></b>\r\n<b><span style=\"color: #CD0000;\">[</span></b>\r\n<b><span style=\"color: #CD0000;\">SVGLoader.cc</span></b>\r\n<b><span style=\"color: #CD0000;\">:</span></b>\r\n<b><span style=\"color: #CD0000;\">666</span></b>\r\n<b><span style=\"color: #CD0000;\">] </span></b>\r\n<b><span style=\"color: #CD0000;\">Failed to load file </span></b>\r\n<b><span style=\"color: #CD0000;\">/not/a/file.svg</span></b>\r\n~~~\r\n\r\nEach `Console::log::<<` operator makes a separate `<span>` tag. This PR makes a small change to reduce the number of `Console::log::<<` operators that are colorized by first streaming to a `std::stringstream` and then streaming to the `Console::log`. This reduced the console log from 120MB to 70MB in a [test build](http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64_flaky/7/).\r\n\r\nI also discovered recently that the `check_test_ran.py` script doesn't work well with QTest's since those write blank junit files instead of not writing a file at all (in jenkins it looks like [this](http://build.osrfoundation.org/job/gazebo-ci-gazebo5-homebrew-amd64/10/testReport/UNIT_ImagesView_TEST/xml/_empty_/)). So I've modified that script to write the `test_ran` output if the file size is zero.\r\n\r\nI also noticed that jenkins reports the time taken by QTest's to be super long ([over 9 hours for DataLogger_TEST](http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/gazebo-ci-pr_any-homebrew-amd64_flaky/15/testReport/(root)/DataLogger_TEST/)). The `QBENCHMARK` seems to report time in `ms`, so I've added a divide by 1000 operation in the stylesheet that converts the qtest xml files to junit (752b959).", "title": "Reduce jenkins console log size, fix check_test_ran.py for QTest", "destination": {"commit": {"hash": "9c21af97bd02", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/9c21af97bd02.json"}, "html": {"href": "#!/osrf/gazebo/commits/9c21af97bd02"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo5"}}, "reason": "", "source": {"commit": {"hash": "752b959743aa", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/752b959743aa.json"}, "html": {"href": "#!/osrf/gazebo/commits/752b959743aa"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "reduce_console_size"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2016-04-15T01:08:01.313888+00:00"}, "pull_request": {"type": "pullrequest", "id": 2253, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2253.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2253"}}, "title": "Reduce jenkins console log size, fix check_test_ran.py for QTest"}}, {"update": {"description": "We are using the [AnsiColor Plugin](https://wiki.jenkins-ci.org/display/JENKINS/AnsiColor+Plugin) in jenkins to colorize the console output so it looks like [this](http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64_flaky/4/console) instead of [this](http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64_flaky/5/console):\r\n\r\n~~~\r\n491: [ RUN      ] gzTest.Joint\r\n491: \u001b[1;32m[Msg] \u001b[0m\u001b[1;32mWaiting for master.\u001b[0m\u001b[1;32m\r\n491: \u001b[0m\u001b[1;32m\u001b[0m\u001b[1;32m\u001b[0m\u001b[1;32m[Msg] \u001b[0m\u001b[1;32mConnected to gazebo master @ \u001b[0m\u001b[1;32mhttp://127.0.0.1:11345\u001b[0m\u001b[1;32m\r\n491: \u001b[0m\u001b[1;32m\u001b[0m\u001b[1;32m\u001b[0m\u001b[1;32m[Msg] \u001b[0m\u001b[1;32mPublicized address: \u001b[0m\u001b[1;32m172.23.2.252\u001b[0m\u001b[1;32m\r\n491: \u001b[0m\u001b[1;32m\u001b[0m\u001b[1;32m\u001b[0m[       OK ] gzTest.Joint (1939 ms)\r\n~~~\r\n\r\nOne drawback is that it makes the html form of the console output huge (120 MB instead of 4 MB). The following colored text expands to html with a ton of duplicate `<span>` tags.\r\n\r\n~~~\r\n[Err] [SVGLoader.cc:666] Failed to load file /not/a/file.svg\r\n~~~\r\n\r\n~~~\r\n<b><span style=\"color: #CD0000;\">[Err] </span></b>\r\n<b><span style=\"color: #CD0000;\">[</span></b>\r\n<b><span style=\"color: #CD0000;\">SVGLoader.cc</span></b>\r\n<b><span style=\"color: #CD0000;\">:</span></b>\r\n<b><span style=\"color: #CD0000;\">666</span></b>\r\n<b><span style=\"color: #CD0000;\">] </span></b>\r\n<b><span style=\"color: #CD0000;\">Failed to load file </span></b>\r\n<b><span style=\"color: #CD0000;\">/not/a/file.svg</span></b>\r\n~~~\r\n\r\nEach `Console::log::<<` operator makes a separate `<span>` tag. This PR makes a small change to reduce the number of `Console::log::<<` operators that are colorized by first streaming to a `std::stringstream` and then streaming to the `Console::log`. This reduced the console log from 120MB to 70MB in a [test build](http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64_flaky/7/).\r\n\r\nI also discovered recently that the `check_test_ran.py` script doesn't work well with QTest's since those write blank junit files instead of not writing a file at all (in jenkins it looks like [this](http://build.osrfoundation.org/job/gazebo-ci-gazebo5-homebrew-amd64/10/testReport/UNIT_ImagesView_TEST/xml/_empty_/)). So I've modified that script to write the `test_ran` output if the file size is zero.", "title": "Reduce jenkins console log size, fix check_test_ran.py for QTest", "destination": {"commit": {"hash": "9c21af97bd02", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/9c21af97bd02.json"}, "html": {"href": "#!/osrf/gazebo/commits/9c21af97bd02"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo5"}}, "reason": "", "source": {"commit": {"hash": "752b959743aa", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/752b959743aa.json"}, "html": {"href": "#!/osrf/gazebo/commits/752b959743aa"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "reduce_console_size"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2016-04-15T01:02:08.571026+00:00"}, "pull_request": {"type": "pullrequest", "id": 2253, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2253.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2253"}}, "title": "Reduce jenkins console log size, fix check_test_ran.py for QTest"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2253/comments/17061333.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2253/_/diff#comment-17061333"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2253, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2253.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2253"}}, "title": "Reduce jenkins console log size, fix check_test_ran.py for QTest"}, "content": {"raw": "jenkins results for `check_test_ran`\n\n* [gazebo5](http://build.osrfoundation.org/job/gazebo-ci-gazebo5-homebrew-amd64/10/testReport/junit/UNIT_BuildingEditor_TEST/xml/_empty_/): `UNIT_BuildingEditor_TEST` says `Test report file was length 0`\n* [this branch](http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/333/testReport/%28root%29/UNIT_BuildingEditor_TEST/test_ran/): `UNIT_BuildingEditor_TEST` says `unable to find test results`\n\nwhich is the intended fix", "markup": "markdown", "html": "<p>jenkins results for <code>check_test_ran</code></p>\n<ul>\n<li><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/job/gazebo-ci-gazebo5-homebrew-amd64/10/testReport/junit/UNIT_BuildingEditor_TEST/xml/_empty_/\" rel=\"nofollow\">gazebo5</a>: <code>UNIT_BuildingEditor_TEST</code> says <code>Test report file was length 0</code></li>\n<li><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/333/testReport/%28root%29/UNIT_BuildingEditor_TEST/test_ran/\" rel=\"nofollow\">this branch</a>: <code>UNIT_BuildingEditor_TEST</code> says <code>unable to find test results</code></li>\n</ul>\n<p>which is the intended fix</p>", "type": "rendered"}, "created_on": "2016-04-11T17:58:28.714945+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2016-04-11T17:58:28.717909+00:00", "type": "pullrequest_comment", "id": 17061333}, "pull_request": {"type": "pullrequest", "id": 2253, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2253.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2253"}}, "title": "Reduce jenkins console log size, fix check_test_ran.py for QTest"}}, {"update": {"description": "We are using the [AnsiColor Plugin](https://wiki.jenkins-ci.org/display/JENKINS/AnsiColor+Plugin) in jenkins to colorize the console output so it looks like [this](http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64_flaky/4/console) instead of [this](http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64_flaky/5/console):\r\n\r\n~~~\r\n491: [ RUN      ] gzTest.Joint\r\n491: \u001b[1;32m[Msg] \u001b[0m\u001b[1;32mWaiting for master.\u001b[0m\u001b[1;32m\r\n491: \u001b[0m\u001b[1;32m\u001b[0m\u001b[1;32m\u001b[0m\u001b[1;32m[Msg] \u001b[0m\u001b[1;32mConnected to gazebo master @ \u001b[0m\u001b[1;32mhttp://127.0.0.1:11345\u001b[0m\u001b[1;32m\r\n491: \u001b[0m\u001b[1;32m\u001b[0m\u001b[1;32m\u001b[0m\u001b[1;32m[Msg] \u001b[0m\u001b[1;32mPublicized address: \u001b[0m\u001b[1;32m172.23.2.252\u001b[0m\u001b[1;32m\r\n491: \u001b[0m\u001b[1;32m\u001b[0m\u001b[1;32m\u001b[0m[       OK ] gzTest.Joint (1939 ms)\r\n~~~\r\n\r\nOne drawback is that it makes the html form of the console output huge (120 MB instead of 4 MB). The following colored text expands to html with a ton of duplicate `<span>` tags.\r\n\r\n~~~\r\n[Err] [SVGLoader.cc:666] Failed to load file /not/a/file.svg\r\n~~~\r\n\r\n~~~\r\n<b><span style=\"color: #CD0000;\">[Err] </span></b>\r\n<b><span style=\"color: #CD0000;\">[</span></b>\r\n<b><span style=\"color: #CD0000;\">SVGLoader.cc</span></b>\r\n<b><span style=\"color: #CD0000;\">:</span></b>\r\n<b><span style=\"color: #CD0000;\">666</span></b>\r\n<b><span style=\"color: #CD0000;\">] </span></b>\r\n<b><span style=\"color: #CD0000;\">Failed to load file </span></b>\r\n<b><span style=\"color: #CD0000;\">/not/a/file.svg</span></b>\r\n~~~\r\n\r\nEach `Console::log::<<` operator makes a separate `<span>` tag. This PR makes a small change to reduce the number of `Console::log::<<` operators that are colorized by first streaming to a `std::stringstream` and then streaming to the `Console::log`. This reduced the console log from 120MB to 70MB in a [test build](http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64_flaky/7/).\r\n\r\nI also discovered recently that the `check_test_ran.py` script doesn't work well with QTest's since those write blank junit files instead of not writing a file at all (in jenkins it looks like [this](http://build.osrfoundation.org/job/gazebo-ci-gazebo5-homebrew-amd64/10/testReport/UNIT_ImagesView_TEST/xml/_empty_/)). So I've modified that script to write the `test_ran` output if the file size is zero.", "title": "Reduce jenkins console log size, fix check_test_ran.py for QTest", "destination": {"commit": {"hash": "39e4e1113f37", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/39e4e1113f37.json"}, "html": {"href": "#!/osrf/gazebo/commits/39e4e1113f37"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo5"}}, "reason": "", "source": {"commit": {"hash": "44992e829371", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/44992e829371.json"}, "html": {"href": "#!/osrf/gazebo/commits/44992e829371"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "reduce_console_size"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2016-04-11T09:14:35.977271+00:00"}, "pull_request": {"type": "pullrequest", "id": 2253, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2253.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2253"}}, "title": "Reduce jenkins console log size, fix check_test_ran.py for QTest"}}, {"update": {"description": "We are using the [AnsiColor Plugin](https://wiki.jenkins-ci.org/display/JENKINS/AnsiColor+Plugin) in jenkins to colorize the console output so it looks like [this](http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64_flaky/4/console) instead of [this](http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64_flaky/5/console):\r\n\r\n~~~\r\n491: [ RUN      ] gzTest.Joint\r\n491: \u001b[1;32m[Msg] \u001b[0m\u001b[1;32mWaiting for master.\u001b[0m\u001b[1;32m\r\n491: \u001b[0m\u001b[1;32m\u001b[0m\u001b[1;32m\u001b[0m\u001b[1;32m[Msg] \u001b[0m\u001b[1;32mConnected to gazebo master @ \u001b[0m\u001b[1;32mhttp://127.0.0.1:11345\u001b[0m\u001b[1;32m\r\n491: \u001b[0m\u001b[1;32m\u001b[0m\u001b[1;32m\u001b[0m\u001b[1;32m[Msg] \u001b[0m\u001b[1;32mPublicized address: \u001b[0m\u001b[1;32m172.23.2.252\u001b[0m\u001b[1;32m\r\n491: \u001b[0m\u001b[1;32m\u001b[0m\u001b[1;32m\u001b[0m[       OK ] gzTest.Joint (1939 ms)\r\n~~~\r\n\r\nOne drawback is that it makes the html form of the console output huge (120 MB instead of 4 MB). The following colored text expands to html with a ton of duplicate `<span>` tags.\r\n\r\n~~~\r\n[Err] [SVGLoader.cc:666] Failed to load file /not/a/file.svg\r\n~~~\r\n\r\n~~~\r\n<b><span style=\"color: #CD0000;\">[Err] </span></b>\r\n<b><span style=\"color: #CD0000;\">[</span></b>\r\n<b><span style=\"color: #CD0000;\">SVGLoader.cc</span></b>\r\n<b><span style=\"color: #CD0000;\">:</span></b>\r\n<b><span style=\"color: #CD0000;\">666</span></b>\r\n<b><span style=\"color: #CD0000;\">] </span></b>\r\n<b><span style=\"color: #CD0000;\">Failed to load file </span></b>\r\n<b><span style=\"color: #CD0000;\">/not/a/file.svg</span></b>\r\n~~~\r\n\r\nEach `Console::log::<<` operator makes a separate `<span>` tag. This PR makes a small change to reduce the number of `Console::log::<<` operators that are colorized by first streaming to a `std::stringstream` and then streaming to the `Console::log`. This reduced the console log from 120MB to 70MB in a [test build](http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64_flaky/7/).\r\n\r\nI also discovered recently that the `check_test_ran.py` script doesn't work well with QTest's since those write blank junit files instead of not writing a file at all. So I've modified that script to write the `test_ran` output if the file size is zero.", "title": "Reduce jenkins console log size, fix check_test_ran.py for QTest", "destination": {"commit": {"hash": "39e4e1113f37", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/39e4e1113f37.json"}, "html": {"href": "#!/osrf/gazebo/commits/39e4e1113f37"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo5"}}, "reason": "", "source": {"commit": {"hash": "44992e829371", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/44992e829371.json"}, "html": {"href": "#!/osrf/gazebo/commits/44992e829371"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "reduce_console_size"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2016-04-11T09:13:47.151740+00:00"}, "pull_request": {"type": "pullrequest", "id": 2253, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2253.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2253"}}, "title": "Reduce jenkins console log size, fix check_test_ran.py for QTest"}}, {"update": {"description": "We are using the [AnsiColor Plugin](https://wiki.jenkins-ci.org/display/JENKINS/AnsiColor+Plugin) in jenkins to colorize the console output so it looks like [this](http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64_flaky/4/console) instead of [this](http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64_flaky/5/console):\r\n\r\n~~~\r\n491: [ RUN      ] gzTest.Joint\r\n491: \u001b[1;32m[Msg] \u001b[0m\u001b[1;32mWaiting for master.\u001b[0m\u001b[1;32m\r\n491: \u001b[0m\u001b[1;32m\u001b[0m\u001b[1;32m\u001b[0m\u001b[1;32m[Msg] \u001b[0m\u001b[1;32mConnected to gazebo master @ \u001b[0m\u001b[1;32mhttp://127.0.0.1:11345\u001b[0m\u001b[1;32m\r\n491: \u001b[0m\u001b[1;32m\u001b[0m\u001b[1;32m\u001b[0m\u001b[1;32m[Msg] \u001b[0m\u001b[1;32mPublicized address: \u001b[0m\u001b[1;32m172.23.2.252\u001b[0m\u001b[1;32m\r\n491: \u001b[0m\u001b[1;32m\u001b[0m\u001b[1;32m\u001b[0m[       OK ] gzTest.Joint (1939 ms)\r\n~~~\r\n\r\nOne drawback is that it makes the html form of the console output huge (120 MB instead of 4 MB). The following colored text expands to html with a ton of duplicate `<span>` tags.\r\n\r\n~~~\r\n[Err] [SVGLoader.cc:666] Failed to load file /not/a/file.svg\r\n~~~\r\n\r\n~~~\r\n<b><span style=\"color: #CD0000;\">[Err] </span></b>\r\n<b><span style=\"color: #CD0000;\">[</span></b>\r\n<b><span style=\"color: #CD0000;\">SVGLoader.cc</span></b>\r\n<b><span style=\"color: #CD0000;\">:</span></b>\r\n<b><span style=\"color: #CD0000;\">666</span></b>\r\n<b><span style=\"color: #CD0000;\">] </span></b>\r\n<b><span style=\"color: #CD0000;\">Failed to load file </span></b>\r\n<b><span style=\"color: #CD0000;\">/not/a/file.svg</span></b>\r\n~~~\r\n\r\nEach `Console::log::<<` operator makes a separate `<span>` tag. This PR makes a small change to reduce the number of `Console::log::<<` operators that are colorized by first streaming to a `std::stringstream` and then streaming to the `Console::log`. This reduced the console log from 120MB to 70MB in a [test build](http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64_flaky/7/).", "title": "Reduce jenkins console log size", "destination": {"commit": {"hash": "39e4e1113f37", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/39e4e1113f37.json"}, "html": {"href": "#!/osrf/gazebo/commits/39e4e1113f37"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo5"}}, "reason": "", "source": {"commit": {"hash": "44992e829371", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/44992e829371.json"}, "html": {"href": "#!/osrf/gazebo/commits/44992e829371"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "reduce_console_size"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2016-04-11T08:29:57.240368+00:00"}, "pull_request": {"type": "pullrequest", "id": 2253, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2253.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2253"}}, "title": "Reduce jenkins console log size, fix check_test_ran.py for QTest"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2253/comments/17008123.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2253/_/diff#comment-17008123"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2253, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2253.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2253"}}, "title": "Reduce jenkins console log size, fix check_test_ran.py for QTest"}, "content": {"raw": "another jenkins test:\n\n* [this branch](http://build.osrfoundation.org/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/312/): 50 MB\n* [gazebo5 branch](http://build.osrfoundation.org/job/gazebo-ci-gazebo5-trusty-amd64-gpu-nvidia/): 98 MB", "markup": "markdown", "html": "<p>another jenkins test:</p>\n<ul>\n<li><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/312/\" rel=\"nofollow\">this branch</a>: 50 MB</li>\n<li><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/job/gazebo-ci-gazebo5-trusty-amd64-gpu-nvidia/\" rel=\"nofollow\">gazebo5 branch</a>: 98 MB</li>\n</ul>", "type": "rendered"}, "created_on": "2016-04-09T07:21:52.376887+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2016-04-09T07:21:52.378930+00:00", "type": "pullrequest_comment", "id": 17008123}, "pull_request": {"type": "pullrequest", "id": 2253, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2253.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2253"}}, "title": "Reduce jenkins console log size, fix check_test_ran.py for QTest"}}, {"update": {"description": "We are using the [AnsiColor Plugin](https://wiki.jenkins-ci.org/display/JENKINS/AnsiColor+Plugin) in jenkins to colorize the console output so it looks like [this](http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64_flaky/4/console) instead of [this](http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64_flaky/5/console):\r\n\r\n~~~\r\n491: [ RUN      ] gzTest.Joint\r\n491: \u001b[1;32m[Msg] \u001b[0m\u001b[1;32mWaiting for master.\u001b[0m\u001b[1;32m\r\n491: \u001b[0m\u001b[1;32m\u001b[0m\u001b[1;32m\u001b[0m\u001b[1;32m[Msg] \u001b[0m\u001b[1;32mConnected to gazebo master @ \u001b[0m\u001b[1;32mhttp://127.0.0.1:11345\u001b[0m\u001b[1;32m\r\n491: \u001b[0m\u001b[1;32m\u001b[0m\u001b[1;32m\u001b[0m\u001b[1;32m[Msg] \u001b[0m\u001b[1;32mPublicized address: \u001b[0m\u001b[1;32m172.23.2.252\u001b[0m\u001b[1;32m\r\n491: \u001b[0m\u001b[1;32m\u001b[0m\u001b[1;32m\u001b[0m[       OK ] gzTest.Joint (1939 ms)\r\n~~~\r\n\r\nOne drawback is that it makes the html form of the console output huge (120 MB instead of 4 MB). The following colored text expands to html with a ton of duplicate `<span>` tags.\r\n\r\n~~~\r\n[Err] [SVGLoader.cc:666] Failed to load file /not/a/file.svg\r\n~~~\r\n\r\n~~~\r\n<b><span style=\"color: #CD0000;\">[Err] </span></b>\r\n<b><span style=\"color: #CD0000;\">[</span></b>\r\n<b><span style=\"color: #CD0000;\">SVGLoader.cc</span></b>\r\n<b><span style=\"color: #CD0000;\">:</span></b>\r\n<b><span style=\"color: #CD0000;\">666</span></b>\r\n<b><span style=\"color: #CD0000;\">] </span></b>\r\n<b><span style=\"color: #CD0000;\">Failed to load file </span></b>\r\n<b><span style=\"color: #CD0000;\">/not/a/file.svg</span></b>\r\n~~~\r\n\r\nEach `Console::log::<<` operator makes a separate `<span>` tag. This PR makes a small change to reduce the number of `Console::log::<<` operators that are colorized by first streaming to a `std::stringstream` and then streaming to the `Console::log`. This reduced the console log from 120MB to 70MB in a [test build](http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64_flaky/7/).", "title": "Reduce jenkins console log size", "destination": {"commit": {"hash": "39e4e1113f37", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/39e4e1113f37.json"}, "html": {"href": "#!/osrf/gazebo/commits/39e4e1113f37"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo5"}}, "reason": "", "source": {"commit": {"hash": "10c16cfc0035", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/10c16cfc0035.json"}, "html": {"href": "#!/osrf/gazebo/commits/10c16cfc0035"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "reduce_console_size"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2016-04-08T23:53:11.334023+00:00"}, "pull_request": {"type": "pullrequest", "id": 2253, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2253.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2253"}}, "title": "Reduce jenkins console log size, fix check_test_ran.py for QTest"}}, {"update": {"description": "We are using the [AnsiColor Plugin](https://wiki.jenkins-ci.org/display/JENKINS/AnsiColor+Plugin) in jenkins to colorize the console output so it looks like [this](http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64_flaky/4/console) instead of [this](http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64_flaky/5/console):\r\n\r\n~~~\r\n491: [ RUN      ] gzTest.Joint\r\n491: \u001b[1;32m[Msg] \u001b[0m\u001b[1;32mWaiting for master.\u001b[0m\u001b[1;32m\r\n491: \u001b[0m\u001b[1;32m\u001b[0m\u001b[1;32m\u001b[0m\u001b[1;32m[Msg] \u001b[0m\u001b[1;32mConnected to gazebo master @ \u001b[0m\u001b[1;32mhttp://127.0.0.1:11345\u001b[0m\u001b[1;32m\r\n491: \u001b[0m\u001b[1;32m\u001b[0m\u001b[1;32m\u001b[0m\u001b[1;32m[Msg] \u001b[0m\u001b[1;32mPublicized address: \u001b[0m\u001b[1;32m172.23.2.252\u001b[0m\u001b[1;32m\r\n491: \u001b[0m\u001b[1;32m\u001b[0m\u001b[1;32m\u001b[0m[       OK ] gzTest.Joint (1939 ms)\r\n~~~\r\n\r\nOne drawback is that it makes the html form of the console output huge (120 MB instead of 4 MB). The following colored text expands to html with a ton of duplicate `<span>` tags.\r\n\r\n~~~\r\n[Err] [SVGLoader.cc:666] Failed to load file /not/a/file.svg\r\n~~~\r\n\r\n~~~\r\n<b><span style=\"color: #CD0000;\">[Err] </span></b>\r\n<b><span style=\"color: #CD0000;\">[</span></b>\r\n<b><span style=\"color: #CD0000;\">SVGLoader.cc</span></b>\r\n<b><span style=\"color: #CD0000;\">:</span></b>\r\n<b><span style=\"color: #CD0000;\">666</span></b>\r\n<b><span style=\"color: #CD0000;\">] </span></b>\r\n<b><span style=\"color: #CD0000;\">Failed to load file </span></b>\r\n<b><span style=\"color: #CD0000;\">/not/a/file.svg</span></b>\r\n~~~\r\n\r\nEach `Console::log::<<` operator makes a separate `<span>` tag. This PR makes a small change to reduce the number of `Console::log::<<` operators that are colorized by first streaming to a `std::stringstream` and then streaming to the `Console::log`. This reduced the console log from 120MB to 70MB in a [test build](http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64_flaky/7/).", "title": "Reduce jenkins console log size", "destination": {"commit": {"hash": "39e4e1113f37", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/39e4e1113f37.json"}, "html": {"href": "#!/osrf/gazebo/commits/39e4e1113f37"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo5"}}, "reason": "", "source": {"commit": {"hash": "10c16cfc0035", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/10c16cfc0035.json"}, "html": {"href": "#!/osrf/gazebo/commits/10c16cfc0035"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "reduce_console_size"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2016-04-08T23:53:11.299366+00:00"}, "pull_request": {"type": "pullrequest", "id": 2253, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2253.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2253"}}, "title": "Reduce jenkins console log size, fix check_test_ran.py for QTest"}}]}