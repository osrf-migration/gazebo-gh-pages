{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/697/comments/540004.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/697/_/diff#comment-540004"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 697, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/697.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/697"}}, "title": "Add test for rotational joints, fix some bullet joints, #820"}, "content": {"raw": "I get the following errors for `UNIT_Joint_TEST` on raring:\n\n```\n#!c++\n\n[ RUN      ] Joint_TEST.JointCreationDestructionTest\nMsg Waiting for master\nMsg Connected to gazebo master @ http://127.0.0.1:11345\nMsg Publicized address: 192.168.1.68\nWarning [parser.cc:340] Converting a deprecated source[/home/nkoenig/work/gazebo_remove/test/worlds/joint_test.world].\nWarning [Converter.cc:59]   Version[1.3] to Version[1.4]\n  Please use the gzsdf tool to update your SDF files.\n    $ gzsdf convert [sdf_file]\nWarning [ODEPhysics.cc:205] Gravity vector is (0, 0, 0). Objects will float.\nDbg ServerFixture load in 0.07 seconds, timeout after 60 seconds\n/home/nkoenig/work/gazebo_remove/gazebo/physics/Joint_TEST.cc:417: Failure\nExpected: (residentCur) <= (residentLast), actual: 137156 vs 136896\n/home/nkoenig/work/gazebo_remove/gazebo/physics/Joint_TEST.cc:418: Failure\nExpected: (shareCur) <= (shareLast), actual: 49448 vs 49188\n/home/nkoenig/work/gazebo_remove/gazebo/physics/Joint_TEST.cc:417: Failure\nExpected: (residentCur) <= (residentLast), actual: 137164 vs 137156\n/home/nkoenig/work/gazebo_remove/gazebo/physics/Joint_TEST.cc:418: Failure\nExpected: (shareCur) <= (shareLast), actual: 49456 vs 49448\n[  FAILED  ] Joint_TEST.JointCreationDestructionTest (2323 ms)\n```\n\nI fixed it in [issue_820_nate](#!/osrf/gazebo/compare/issue_820_nate..issue_820#diff]) branch", "markup": "markdown", "html": "<p>I get the following errors for <code>UNIT_Joint_TEST</code> on raring:</p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"p\">[</span> <span class=\"n\">RUN</span>      <span class=\"p\">]</span> <span class=\"n\">Joint_TEST</span><span class=\"p\">.</span><span class=\"n\">JointCreationDestructionTest</span>\n<span class=\"n\">Msg</span> <span class=\"n\">Waiting</span> <span class=\"k\">for</span> <span class=\"n\">master</span>\n<span class=\"n\">Msg</span> <span class=\"n\">Connected</span> <span class=\"n\">to</span> <span class=\"n\">gazebo</span> <span class=\"n\">master</span> <span class=\"err\">@</span> <span class=\"nl\">http</span><span class=\"p\">:</span><span class=\"c1\">//127.0.0.1:11345</span>\n<span class=\"n\">Msg</span> <span class=\"n\">Publicized</span> <span class=\"nl\">address</span><span class=\"p\">:</span> <span class=\"mf\">192.168.1.68</span>\n<span class=\"n\">Warning</span> <span class=\"p\">[</span><span class=\"n\">parser</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">340</span><span class=\"p\">]</span> <span class=\"n\">Converting</span> <span class=\"n\">a</span> <span class=\"n\">deprecated</span> <span class=\"n\">source</span><span class=\"p\">[</span><span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">nkoenig</span><span class=\"o\">/</span><span class=\"n\">work</span><span class=\"o\">/</span><span class=\"n\">gazebo_remove</span><span class=\"o\">/</span><span class=\"n\">test</span><span class=\"o\">/</span><span class=\"n\">worlds</span><span class=\"o\">/</span><span class=\"n\">joint_test</span><span class=\"p\">.</span><span class=\"n\">world</span><span class=\"p\">].</span>\n<span class=\"n\">Warning</span> <span class=\"p\">[</span><span class=\"n\">Converter</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">59</span><span class=\"p\">]</span>   <span class=\"n\">Version</span><span class=\"p\">[</span><span class=\"mf\">1.3</span><span class=\"p\">]</span> <span class=\"n\">to</span> <span class=\"n\">Version</span><span class=\"p\">[</span><span class=\"mf\">1.4</span><span class=\"p\">]</span>\n  <span class=\"n\">Please</span> <span class=\"n\">use</span> <span class=\"n\">the</span> <span class=\"n\">gzsdf</span> <span class=\"n\">tool</span> <span class=\"n\">to</span> <span class=\"n\">update</span> <span class=\"n\">your</span> <span class=\"n\">SDF</span> <span class=\"n\">files</span><span class=\"p\">.</span>\n    <span class=\"err\">$</span> <span class=\"n\">gzsdf</span> <span class=\"n\">convert</span> <span class=\"p\">[</span><span class=\"n\">sdf_file</span><span class=\"p\">]</span>\n<span class=\"n\">Warning</span> <span class=\"p\">[</span><span class=\"n\">ODEPhysics</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">205</span><span class=\"p\">]</span> <span class=\"n\">Gravity</span> <span class=\"n\">vector</span> <span class=\"n\">is</span> <span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">).</span> <span class=\"n\">Objects</span> <span class=\"n\">will</span> <span class=\"kt\">float</span><span class=\"p\">.</span>\n<span class=\"n\">Dbg</span> <span class=\"n\">ServerFixture</span> <span class=\"n\">load</span> <span class=\"n\">in</span> <span class=\"mf\">0.07</span> <span class=\"n\">seconds</span><span class=\"p\">,</span> <span class=\"n\">timeout</span> <span class=\"n\">after</span> <span class=\"mi\">60</span> <span class=\"n\">seconds</span>\n<span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">nkoenig</span><span class=\"o\">/</span><span class=\"n\">work</span><span class=\"o\">/</span><span class=\"n\">gazebo_remove</span><span class=\"o\">/</span><span class=\"n\">gazebo</span><span class=\"o\">/</span><span class=\"n\">physics</span><span class=\"o\">/</span><span class=\"n\">Joint_TEST</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">417</span><span class=\"o\">:</span> <span class=\"n\">Failure</span>\n<span class=\"nl\">Expected</span><span class=\"p\">:</span> <span class=\"p\">(</span><span class=\"n\">residentCur</span><span class=\"p\">)</span> <span class=\"o\">&lt;=</span> <span class=\"p\">(</span><span class=\"n\">residentLast</span><span class=\"p\">),</span> <span class=\"nl\">actual</span><span class=\"p\">:</span> <span class=\"mi\">137156</span> <span class=\"n\">vs</span> <span class=\"mi\">136896</span>\n<span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">nkoenig</span><span class=\"o\">/</span><span class=\"n\">work</span><span class=\"o\">/</span><span class=\"n\">gazebo_remove</span><span class=\"o\">/</span><span class=\"n\">gazebo</span><span class=\"o\">/</span><span class=\"n\">physics</span><span class=\"o\">/</span><span class=\"n\">Joint_TEST</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">418</span><span class=\"o\">:</span> <span class=\"n\">Failure</span>\n<span class=\"nl\">Expected</span><span class=\"p\">:</span> <span class=\"p\">(</span><span class=\"n\">shareCur</span><span class=\"p\">)</span> <span class=\"o\">&lt;=</span> <span class=\"p\">(</span><span class=\"n\">shareLast</span><span class=\"p\">),</span> <span class=\"nl\">actual</span><span class=\"p\">:</span> <span class=\"mi\">49448</span> <span class=\"n\">vs</span> <span class=\"mi\">49188</span>\n<span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">nkoenig</span><span class=\"o\">/</span><span class=\"n\">work</span><span class=\"o\">/</span><span class=\"n\">gazebo_remove</span><span class=\"o\">/</span><span class=\"n\">gazebo</span><span class=\"o\">/</span><span class=\"n\">physics</span><span class=\"o\">/</span><span class=\"n\">Joint_TEST</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">417</span><span class=\"o\">:</span> <span class=\"n\">Failure</span>\n<span class=\"nl\">Expected</span><span class=\"p\">:</span> <span class=\"p\">(</span><span class=\"n\">residentCur</span><span class=\"p\">)</span> <span class=\"o\">&lt;=</span> <span class=\"p\">(</span><span class=\"n\">residentLast</span><span class=\"p\">),</span> <span class=\"nl\">actual</span><span class=\"p\">:</span> <span class=\"mi\">137164</span> <span class=\"n\">vs</span> <span class=\"mi\">137156</span>\n<span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">nkoenig</span><span class=\"o\">/</span><span class=\"n\">work</span><span class=\"o\">/</span><span class=\"n\">gazebo_remove</span><span class=\"o\">/</span><span class=\"n\">gazebo</span><span class=\"o\">/</span><span class=\"n\">physics</span><span class=\"o\">/</span><span class=\"n\">Joint_TEST</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">418</span><span class=\"o\">:</span> <span class=\"n\">Failure</span>\n<span class=\"nl\">Expected</span><span class=\"p\">:</span> <span class=\"p\">(</span><span class=\"n\">shareCur</span><span class=\"p\">)</span> <span class=\"o\">&lt;=</span> <span class=\"p\">(</span><span class=\"n\">shareLast</span><span class=\"p\">),</span> <span class=\"nl\">actual</span><span class=\"p\">:</span> <span class=\"mi\">49456</span> <span class=\"n\">vs</span> <span class=\"mi\">49448</span>\n<span class=\"p\">[</span>  <span class=\"n\">FAILED</span>  <span class=\"p\">]</span> <span class=\"n\">Joint_TEST</span><span class=\"p\">.</span><span class=\"n\">JointCreationDestructionTest</span> <span class=\"p\">(</span><span class=\"mi\">2323</span> <span class=\"n\">ms</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p>I fixed it in <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/compare/issue_820_nate..issue_820#diff]\" rel=\"nofollow\">issue_820_nate</a> branch</p>", "type": "rendered"}, "created_on": "2013-09-06T17:08:56.632451+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2013-09-06T17:08:56.640065+00:00", "type": "pullrequest_comment", "id": 540004}