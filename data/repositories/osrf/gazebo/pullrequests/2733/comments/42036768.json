{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733/comments/42036768.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733/_/diff#comment-42036768"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}, "content": {"raw": "This is a minor nitpick that doesn't affect the correctness of the PR, but do we need the file `GravityCompensationPluginPrivate.hh` since it only gets included in `GravityCompensationPlugin.cc`? We're also [installing](#!/osrf/gazebo/pull-requests/2733/gravity-compensation-plugin/diff#Lplugins/CMakeLists.txtT160) this \"Private\" header, which seems unnecessary if it's meant to be hidden from the end user.\n\nMy personal preference would be that we should either use the PIMPL paradigm or not use it. Either (1) `GravityCompensationPluginPrivate` should be merged into `GravityCompensationPlugin` (making it explicitly a part of the public API) or else (2) it should be kept hidden from the public, preferably by defining the class in `GravityCompensationPlugin.cc` instead of a header (but even if we want to keep a header for it, we should at least not install that header).\n\nOf course I do see that this is following a precedent laid out by some of the other plugins, so if this is just an established convention that we want to stick to, then I'll withdraw my comment.", "markup": "markdown", "html": "<p>This is a minor nitpick that doesn't affect the correctness of the PR, but do we need the file <code>GravityCompensationPluginPrivate.hh</code> since it only gets included in <code>GravityCompensationPlugin.cc</code>? We're also <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/pull-requests/2733/gravity-compensation-plugin/diff#Lplugins/CMakeLists.txtT160\" rel=\"nofollow\">installing</a> this \"Private\" header, which seems unnecessary if it's meant to be hidden from the end user.</p>\n<p>My personal preference would be that we should either use the PIMPL paradigm or not use it. Either (1) <code>GravityCompensationPluginPrivate</code> should be merged into <code>GravityCompensationPlugin</code> (making it explicitly a part of the public API) or else (2) it should be kept hidden from the public, preferably by defining the class in <code>GravityCompensationPlugin.cc</code> instead of a header (but even if we want to keep a header for it, we should at least not install that header).</p>\n<p>Of course I do see that this is following a precedent laid out by some of the other plugins, so if this is just an established convention that we want to stick to, then I'll withdraw my comment.</p>", "type": "rendered"}, "created_on": "2017-08-02T18:28:43.038005+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": "2017-08-02T18:28:43.157203+00:00", "type": "pullrequest_comment", "id": 42036768}