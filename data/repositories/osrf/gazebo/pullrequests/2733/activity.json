{"pagelen": 50, "values": [{"update": {"description": "bd81e78 adds a model plugin that performs gravity compensation and an example world. The plugin creates a DART skeleton from a specified model (sdf) file and then syncs its configuration, pose, and velocity with the Gazebo model on each update. DART is used to calculate the gravity compensation joint efforts from the skeleton. These efforts are then applied to the Gazebo model.\r\n\r\nThe plugin uses DART's `SdfParser` to read the model file, which is included in the `utils-urdf` component of DART. I modified `cmake/SearchForStuff.cmake` to find this component and modified `plugins/CMakeLists.txt` to build the gravity compensation plugin and link it with DART.\r\n\r\nThis PR depends on two other pull requests:\r\n\r\n1. A bug fix to sdformat ([PR #350](https://bitbucket.org/osrf/sdformat/pull-requests/350)), which allows a URI to be specified within a plugin block within and an include block. (PR merged)\r\n\r\n1. A new model ([PR #257](#!/osrf/gazebo_models/pull-requests/257)) to demonstrate gravity compensation in the example world. (PR merged)", "title": "Gravity Compensation Plugin", "destination": {"commit": {"hash": "70ba305ea96b", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/70ba305ea96b.json"}, "html": {"href": "#!/osrf/gazebo/commits/70ba305ea96b"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "867e23cf3a63", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pchorak/gazebo/commit/867e23cf3a63"}, "html": {"href": "https://bitbucket.org/pchorak/gazebo/commits/867e23cf3a63"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pchorak/gazebo"}, "html": {"href": "https://bitbucket.org/pchorak/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{7130b41e-0983-4752-9e3b-9e2c12cf1268}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "pchorak/gazebo", "uuid": "{7130b41e-0983-4752-9e3b-9e2c12cf1268}"}, "branch": {"name": "gravity_comp_plugin"}}, "state": "MERGED", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2017-08-16T01:11:10.536388+00:00"}, "pull_request": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}}, {"approval": {"date": "2017-08-14T22:32:02.528000+00:00", "pullrequest": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}, "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}}, "pull_request": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}}, {"approval": {"date": "2017-08-08T18:31:18.607912+00:00", "pullrequest": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}, "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}}, "pull_request": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733/comments/42414514.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733/_/diff#comment-42414514"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}, "content": {"raw": "I think this is a great example of using DART as a dynamics toolkit within Gazebo. Excellent job, @pchorak , LGTM", "markup": "markdown", "html": "<p>I think this is a great example of using DART as a dynamics toolkit within Gazebo. Excellent job, @pchorak , LGTM</p>", "type": "rendered"}, "created_on": "2017-08-08T18:31:15.066918+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": "2017-08-08T18:31:15.135461+00:00", "type": "pullrequest_comment", "id": 42414514}, "pull_request": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733/comments/42150879.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733/_/diff#comment-42150879"}}, "parent": {"id": 40813475, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733/comments/40813475.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733/_/diff#comment-40813475"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}, "content": {"raw": "`SdfParser` does not correctly handle `<use_parent_model_frame>` tags currently, although this has been fixed in [PR #893](https://github.com/dartsim/dart/pull/893).", "markup": "markdown", "html": "<p><code>SdfParser</code> does not correctly handle <code>&lt;use_parent_model_frame&gt;</code> tags currently, although this has been fixed in <a data-is-external-link=\"true\" href=\"https://github.com/dartsim/dart/pull/893\" rel=\"nofollow\">PR #893</a>.</p>", "type": "rendered"}, "created_on": "2017-08-03T22:52:27.388645+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "updated_on": "2017-08-03T22:52:27.390981+00:00", "type": "pullrequest_comment", "id": 42150879}, "pull_request": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733/comments/42049394.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733/_/diff#comment-42049394"}}, "parent": {"id": 42045950, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733/comments/42045950.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733/_/diff#comment-42045950"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}, "content": {"raw": "I reorganized a little so it only sets the pose and velocity if the root is a free joint. If it is not a free joint, the code below to set joint positions and velocities should handle it since the Gazebo model will include most world-link joints, just not free joints.", "markup": "markdown", "html": "<p>I reorganized a little so it only sets the pose and velocity if the root is a free joint. If it is not a free joint, the code below to set joint positions and velocities should handle it since the Gazebo model will include most world-link joints, just not free joints.</p>", "type": "rendered"}, "created_on": "2017-08-02T21:40:09.983201+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "inline": {}, "updated_on": "2017-08-02T21:40:32.457683+00:00", "type": "pullrequest_comment", "id": 42049394}, "pull_request": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733/comments/42049277.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733/_/diff#comment-42049277"}}, "parent": {"id": 42046870, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733/comments/42046870.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733/_/diff#comment-42046870"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}, "content": {"raw": "This is actually what I originally had and why I bothered to set the joint velocities. I don't see why not to add it back. The cool part is that I'm usually using ODE not DART for the simulation, and it still works great!", "markup": "markdown", "html": "<p>This is actually what I originally had and why I bothered to set the joint velocities. I don't see why not to add it back. The cool part is that I'm usually using ODE not DART for the simulation, and it still works great!</p>", "type": "rendered"}, "created_on": "2017-08-02T21:37:54.618359+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "inline": {}, "updated_on": "2017-08-02T21:37:54.620960+00:00", "type": "pullrequest_comment", "id": 42049277}, "pull_request": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733/comments/42049225.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733/_/diff#comment-42049225"}}, "parent": {"id": 42045470, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733/comments/42045470.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733/_/diff#comment-42045470"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}, "content": {"raw": "Good to know. Changed in [867e23c](https://bitbucket.org/pchorak/gazebo/commits/867e23cf3a63).", "markup": "markdown", "html": "<p>Good to know. Changed in <a data-is-external-link=\"true\" href=\"https://bitbucket.org/pchorak/gazebo/commits/867e23cf3a63\" rel=\"nofollow\">867e23c</a>.</p>", "type": "rendered"}, "created_on": "2017-08-02T21:36:40.100406+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "inline": {}, "updated_on": "2017-08-02T21:36:57.762899+00:00", "type": "pullrequest_comment", "id": 42049225}, "pull_request": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733/comments/42049188.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733/_/diff#comment-42049188"}}, "parent": {"id": 42043731, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733/comments/42043731.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733/_/diff#comment-42043731"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}, "content": {"raw": "I like it. Thanks for the idea. Added in [3f3936f](https://bitbucket.org/pchorak/gazebo/commits/3f3936f8825f).", "markup": "markdown", "html": "<p>I like it. Thanks for the idea. Added in <a data-is-external-link=\"true\" href=\"https://bitbucket.org/pchorak/gazebo/commits/3f3936f8825f\" rel=\"nofollow\">3f3936f</a>.</p>", "type": "rendered"}, "created_on": "2017-08-02T21:35:56.009799+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "inline": {}, "updated_on": "2017-08-02T21:35:56.012125+00:00", "type": "pullrequest_comment", "id": 42049188}, "pull_request": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}}, {"update": {"description": "bd81e78 adds a model plugin that performs gravity compensation and an example world. The plugin creates a DART skeleton from a specified model (sdf) file and then syncs its configuration, pose, and velocity with the Gazebo model on each update. DART is used to calculate the gravity compensation joint efforts from the skeleton. These efforts are then applied to the Gazebo model.\r\n\r\nThe plugin uses DART's `SdfParser` to read the model file, which is included in the `utils-urdf` component of DART. I modified `cmake/SearchForStuff.cmake` to find this component and modified `plugins/CMakeLists.txt` to build the gravity compensation plugin and link it with DART.\r\n\r\nThis PR depends on two other pull requests:\r\n\r\n1. A bug fix to sdformat ([PR #350](https://bitbucket.org/osrf/sdformat/pull-requests/350)), which allows a URI to be specified within a plugin block within and an include block. (PR merged)\r\n\r\n1. A new model ([PR #257](#!/osrf/gazebo_models/pull-requests/257)) to demonstrate gravity compensation in the example world. (PR merged)", "title": "Gravity Compensation Plugin", "destination": {"commit": {"hash": "5e024b2ac9c0", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/5e024b2ac9c0.json"}, "html": {"href": "#!/osrf/gazebo/commits/5e024b2ac9c0"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "867e23cf3a63", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pchorak/gazebo/commit/867e23cf3a63"}, "html": {"href": "https://bitbucket.org/pchorak/gazebo/commits/867e23cf3a63"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pchorak/gazebo"}, "html": {"href": "https://bitbucket.org/pchorak/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{7130b41e-0983-4752-9e3b-9e2c12cf1268}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "pchorak/gazebo", "uuid": "{7130b41e-0983-4752-9e3b-9e2c12cf1268}"}, "branch": {"name": "gravity_comp_plugin"}}, "state": "OPEN", "author": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "date": "2017-08-02T21:35:20.481210+00:00"}, "pull_request": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733/comments/42046349.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733/_/diff#comment-42046349"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}, "content": {"raw": "These velocity functions are only available for the `FreeJoint` type, so if the ability to set these velocities is important, then we may need to keep the requirement that the root joint is a `FreeJoint`, despite my prior comments.\n\nOn the other hand, if the ability to set these velocities can be considered optional, then we can just check if the root is a `FreeJoint` using a `dynamic_cast` and then put these function calls into an if-block that checks if the root is a `FreeJoint` while the earlier code that sets the root transform can use the more generic `Joint::setTransformFromParentBodyNode(~)`.", "markup": "markdown", "html": "<p>These velocity functions are only available for the <code>FreeJoint</code> type, so if the ability to set these velocities is important, then we may need to keep the requirement that the root joint is a <code>FreeJoint</code>, despite my prior comments.</p>\n<p>On the other hand, if the ability to set these velocities can be considered optional, then we can just check if the root is a <code>FreeJoint</code> using a <code>dynamic_cast</code> and then put these function calls into an if-block that checks if the root is a <code>FreeJoint</code> while the earlier code that sets the root transform can use the more generic <code>Joint::setTransformFromParentBodyNode(~)</code>.</p>", "type": "rendered"}, "created_on": "2017-08-02T20:49:09.546269+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {}, "updated_on": "2017-08-02T21:00:24.867976+00:00", "type": "pullrequest_comment", "id": 42046349}, "pull_request": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733/comments/42046870.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733/_/diff#comment-42046870"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}, "content": {"raw": "I would recommend using `Skeleton::getCoriolisAndGravityForces()` here, unless we want to be very literal about this being a gravity compensation controller rather than a full-blown operational space controller. Admittedly, using `Skeleton::getCoriolisAndGravityForces()` tends to make the movements of the robot look a little too perfect since we have perfect knowledge of the model, so when you use `Skeleton::getCoriolisAndGravityForces()` to inform the feed-forward controller, a casual observer might doubt that the physics is even being simulated.", "markup": "markdown", "html": "<p>I would recommend using <code>Skeleton::getCoriolisAndGravityForces()</code> here, unless we want to be very literal about this being a gravity compensation controller rather than a full-blown operational space controller. Admittedly, using <code>Skeleton::getCoriolisAndGravityForces()</code> tends to make the movements of the robot look a little too perfect since we have perfect knowledge of the model, so when you use <code>Skeleton::getCoriolisAndGravityForces()</code> to inform the feed-forward controller, a casual observer might doubt that the physics is even being simulated.</p>", "type": "rendered"}, "created_on": "2017-08-02T20:56:26.061924+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {}, "updated_on": "2017-08-02T20:56:26.114515+00:00", "type": "pullrequest_comment", "id": 42046870}, "pull_request": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733/comments/42045470.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733/_/diff#comment-42045470"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}, "content": {"raw": "In DART, we have a strict convention that `Skeleton::getJoint(0)` will return the root joint. Also, for cases where there may be multiple trees, you can get the *i*-th root by calling `Skeleton::getRootJoint(i)` where the default value for `i` is `0`, so if you only have one tree in your Skeleton, you can rely on `Skeleton::getRootJoint()` with no arguments to return the single root joint of the Skeleton.\n\nUsing that function should be much more general than assuming that the root joint will have the name \"root\".", "markup": "markdown", "html": "<p>In DART, we have a strict convention that <code>Skeleton::getJoint(0)</code> will return the root joint. Also, for cases where there may be multiple trees, you can get the <em>i</em>-th root by calling <code>Skeleton::getRootJoint(i)</code> where the default value for <code>i</code> is <code>0</code>, so if you only have one tree in your Skeleton, you can rely on <code>Skeleton::getRootJoint()</code> with no arguments to return the single root joint of the Skeleton.</p>\n<p>Using that function should be much more general than assuming that the root joint will have the name \"root\".</p>", "type": "rendered"}, "created_on": "2017-08-02T20:35:47.016817+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {}, "updated_on": "2017-08-02T20:43:46.475723+00:00", "type": "pullrequest_comment", "id": 42045470}, "pull_request": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733/comments/42045950.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733/_/diff#comment-42045950"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}, "content": {"raw": "We can accomplish the purpose of this block of code without relying on the root joint being a `FreeJoint`. DART offers the function `Joint::setTransformFromParentBodyNode(const Eigen::Isometry3d&)` which can be applied to any joint type. Using that instead of `FreeJoint::setTransform(~)` should make this function more general.\n\nAlso, the recommended usage is if you know that the joint instance is a `FreeJoint`, then you should call the non-static version of `FreeJoint::setTransform(~)`, like:\n\n```\ndtRoot->setTransform(dtPose);\n```\n\nThe static version of the function performs a `dynamic_cast` which is unnecessary if you already know it's a `FreeJoint` instance. But if you go with the `Joint::setTransformFromParentBodyNode(~)` approach that I mentioned above, then it's irrelevant.", "markup": "markdown", "html": "<p>We can accomplish the purpose of this block of code without relying on the root joint being a <code>FreeJoint</code>. DART offers the function <code>Joint::setTransformFromParentBodyNode(const Eigen::Isometry3d&amp;)</code> which can be applied to any joint type. Using that instead of <code>FreeJoint::setTransform(~)</code> should make this function more general.</p>\n<p>Also, the recommended usage is if you know that the joint instance is a <code>FreeJoint</code>, then you should call the non-static version of <code>FreeJoint::setTransform(~)</code>, like:</p>\n<div class=\"codehilite\"><pre><span></span>dtRoot-&gt;setTransform(dtPose);\n</pre></div>\n\n\n<p>The static version of the function performs a <code>dynamic_cast</code> which is unnecessary if you already know it's a <code>FreeJoint</code> instance. But if you go with the <code>Joint::setTransformFromParentBodyNode(~)</code> approach that I mentioned above, then it's irrelevant.</p>", "type": "rendered"}, "created_on": "2017-08-02T20:43:10.582219+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {}, "updated_on": "2017-08-02T20:43:10.664562+00:00", "type": "pullrequest_comment", "id": 42045950}, "pull_request": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733/comments/42043731.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733/_/diff#comment-42043731"}}, "parent": {"id": 42043225, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733/comments/42043225.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733/_/diff#comment-42043225"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}, "content": {"raw": "`std::make_shared` is also slightly more concise\n\nedit: since you don't have to repeat the class name", "markup": "markdown", "html": "<p><code>std::make_shared</code> is also slightly more concise</p>\n<p>edit: since you don't have to repeat the class name</p>", "type": "rendered"}, "created_on": "2017-08-02T20:11:59.426210+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2017-08-02T20:13:55.322962+00:00", "type": "pullrequest_comment", "id": 42043731}, "pull_request": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733/comments/42043225.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733/_/diff#comment-42043225"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}, "content": {"raw": "There's absolutely no need to change this, but I wanted to evangelize a bit about `std::make_shared`. It has some advantages over this method of constructing a `std::shared_ptr` (but also some corner-case disadvantages).\n\nYou can read more about the advantages and disadvantages [in this post here](https://stackoverflow.com/a/20895705), which I think does a good job of covering it.\n\nAgain, there's no need to change this line; I just wanted to mention `std::make_shared` in case you're not familiar with it.", "markup": "markdown", "html": "<p>There's absolutely no need to change this, but I wanted to evangelize a bit about <code>std::make_shared</code>. It has some advantages over this method of constructing a <code>std::shared_ptr</code> (but also some corner-case disadvantages).</p>\n<p>You can read more about the advantages and disadvantages <a data-is-external-link=\"true\" href=\"https://stackoverflow.com/a/20895705\" rel=\"nofollow\">in this post here</a>, which I think does a good job of covering it.</p>\n<p>Again, there's no need to change this line; I just wanted to mention <code>std::make_shared</code> in case you're not familiar with it.</p>", "type": "rendered"}, "created_on": "2017-08-02T20:04:23.483288+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {}, "updated_on": "2017-08-02T20:04:23.546386+00:00", "type": "pullrequest_comment", "id": 42043225}, "pull_request": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733/comments/42039944.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733/_/diff#comment-42039944"}}, "parent": {"id": 42038982, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733/comments/42038982.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733/_/diff#comment-42038982"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}, "content": {"raw": "Changed in [83df2a4](https://bitbucket.org/pchorak/gazebo/commits/83df2a4). Good catch @mxgrey !", "markup": "markdown", "html": "<p>Changed in <a data-is-external-link=\"true\" href=\"https://bitbucket.org/pchorak/gazebo/commits/83df2a4\" rel=\"nofollow\">83df2a4</a>. Good catch @mxgrey !</p>", "type": "rendered"}, "created_on": "2017-08-02T19:16:10.185881+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "updated_on": "2017-08-02T19:16:10.195714+00:00", "type": "pullrequest_comment", "id": 42039944}, "pull_request": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}}, {"update": {"description": "bd81e78 adds a model plugin that performs gravity compensation and an example world. The plugin creates a DART skeleton from a specified model (sdf) file and then syncs its configuration, pose, and velocity with the Gazebo model on each update. DART is used to calculate the gravity compensation joint efforts from the skeleton. These efforts are then applied to the Gazebo model.\r\n\r\nThe plugin uses DART's `SdfParser` to read the model file, which is included in the `utils-urdf` component of DART. I modified `cmake/SearchForStuff.cmake` to find this component and modified `plugins/CMakeLists.txt` to build the gravity compensation plugin and link it with DART.\r\n\r\nThis PR depends on two other pull requests:\r\n\r\n1. A bug fix to sdformat ([PR #350](https://bitbucket.org/osrf/sdformat/pull-requests/350)), which allows a URI to be specified within a plugin block within and an include block. (PR merged)\r\n\r\n1. A new model ([PR #257](#!/osrf/gazebo_models/pull-requests/257)) to demonstrate gravity compensation in the example world. (PR merged)", "title": "Gravity Compensation Plugin", "destination": {"commit": {"hash": "5e024b2ac9c0", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/5e024b2ac9c0.json"}, "html": {"href": "#!/osrf/gazebo/commits/5e024b2ac9c0"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "83df2a4ef9d5", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pchorak/gazebo/commit/83df2a4ef9d5"}, "html": {"href": "https://bitbucket.org/pchorak/gazebo/commits/83df2a4ef9d5"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pchorak/gazebo"}, "html": {"href": "https://bitbucket.org/pchorak/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{7130b41e-0983-4752-9e3b-9e2c12cf1268}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "pchorak/gazebo", "uuid": "{7130b41e-0983-4752-9e3b-9e2c12cf1268}"}, "branch": {"name": "gravity_comp_plugin"}}, "state": "OPEN", "author": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "date": "2017-08-02T19:14:06.230284+00:00"}, "pull_request": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733/comments/42038982.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733/_/diff#comment-42038982"}}, "parent": {"id": 42036768, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733/comments/42036768.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733/_/diff#comment-42036768"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}, "content": {"raw": "Yeah, @pchorak was copying the existing convention, but it doesn't make any sense to install a private header file. I believe the recent convention is to just define the private data structure at the top of the `.cc` file, like in [gazebo/common/URI.cc](#!/osrf/gazebo/src/5e024b2ac9c0964480f09a06f062e17fe9cd3248/gazebo/common/URI.cc?fileviewer=file-view-default#URI.cc-32:66)", "markup": "markdown", "html": "<p>Yeah, @pchorak was copying the existing convention, but it doesn't make any sense to install a private header file. I believe the recent convention is to just define the private data structure at the top of the <code>.cc</code> file, like in <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/5e024b2ac9c0964480f09a06f062e17fe9cd3248/gazebo/common/URI.cc?fileviewer=file-view-default#URI.cc-32:66\" rel=\"nofollow\">gazebo/common/URI.cc</a></p>", "type": "rendered"}, "created_on": "2017-08-02T19:01:22.586691+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-08-02T19:01:22.595242+00:00", "type": "pullrequest_comment", "id": 42038982}, "pull_request": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}}, {"update": {"description": "bd81e78 adds a model plugin that performs gravity compensation and an example world. The plugin creates a DART skeleton from a specified model (sdf) file and then syncs its configuration, pose, and velocity with the Gazebo model on each update. DART is used to calculate the gravity compensation joint efforts from the skeleton. These efforts are then applied to the Gazebo model.\r\n\r\nThe plugin uses DART's `SdfParser` to read the model file, which is included in the `utils-urdf` component of DART. I modified `cmake/SearchForStuff.cmake` to find this component and modified `plugins/CMakeLists.txt` to build the gravity compensation plugin and link it with DART.\r\n\r\nThis PR depends on two other pull requests:\r\n\r\n1. A bug fix to sdformat ([PR #350](https://bitbucket.org/osrf/sdformat/pull-requests/350)), which allows a URI to be specified within a plugin block within and an include block. (PR merged)\r\n\r\n1. A new model ([PR #257](#!/osrf/gazebo_models/pull-requests/257)) to demonstrate gravity compensation in the example world. (PR merged)", "title": "Gravity Compensation Plugin", "destination": {"commit": {"hash": "5e024b2ac9c0", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/5e024b2ac9c0.json"}, "html": {"href": "#!/osrf/gazebo/commits/5e024b2ac9c0"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "5c2a1356d949", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pchorak/gazebo/commit/5c2a1356d949"}, "html": {"href": "https://bitbucket.org/pchorak/gazebo/commits/5c2a1356d949"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pchorak/gazebo"}, "html": {"href": "https://bitbucket.org/pchorak/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{7130b41e-0983-4752-9e3b-9e2c12cf1268}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "pchorak/gazebo", "uuid": "{7130b41e-0983-4752-9e3b-9e2c12cf1268}"}, "branch": {"name": "gravity_comp_plugin"}}, "state": "OPEN", "author": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "date": "2017-08-02T18:52:04.598784+00:00"}, "pull_request": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733/comments/42036768.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733/_/diff#comment-42036768"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}, "content": {"raw": "This is a minor nitpick that doesn't affect the correctness of the PR, but do we need the file `GravityCompensationPluginPrivate.hh` since it only gets included in `GravityCompensationPlugin.cc`? We're also [installing](#!/osrf/gazebo/pull-requests/2733/gravity-compensation-plugin/diff#Lplugins/CMakeLists.txtT160) this \"Private\" header, which seems unnecessary if it's meant to be hidden from the end user.\n\nMy personal preference would be that we should either use the PIMPL paradigm or not use it. Either (1) `GravityCompensationPluginPrivate` should be merged into `GravityCompensationPlugin` (making it explicitly a part of the public API) or else (2) it should be kept hidden from the public, preferably by defining the class in `GravityCompensationPlugin.cc` instead of a header (but even if we want to keep a header for it, we should at least not install that header).\n\nOf course I do see that this is following a precedent laid out by some of the other plugins, so if this is just an established convention that we want to stick to, then I'll withdraw my comment.", "markup": "markdown", "html": "<p>This is a minor nitpick that doesn't affect the correctness of the PR, but do we need the file <code>GravityCompensationPluginPrivate.hh</code> since it only gets included in <code>GravityCompensationPlugin.cc</code>? We're also <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/pull-requests/2733/gravity-compensation-plugin/diff#Lplugins/CMakeLists.txtT160\" rel=\"nofollow\">installing</a> this \"Private\" header, which seems unnecessary if it's meant to be hidden from the end user.</p>\n<p>My personal preference would be that we should either use the PIMPL paradigm or not use it. Either (1) <code>GravityCompensationPluginPrivate</code> should be merged into <code>GravityCompensationPlugin</code> (making it explicitly a part of the public API) or else (2) it should be kept hidden from the public, preferably by defining the class in <code>GravityCompensationPlugin.cc</code> instead of a header (but even if we want to keep a header for it, we should at least not install that header).</p>\n<p>Of course I do see that this is following a precedent laid out by some of the other plugins, so if this is just an established convention that we want to stick to, then I'll withdraw my comment.</p>", "type": "rendered"}, "created_on": "2017-08-02T18:28:43.038005+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": "2017-08-02T18:28:43.157203+00:00", "type": "pullrequest_comment", "id": 42036768}, "pull_request": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733/comments/41960785.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733/_/diff#comment-41960785"}}, "parent": {"id": 41960659, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733/comments/41960659.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733/_/diff#comment-41960659"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}, "content": {"raw": "if we can get a quick review of your sdformat pull request, then I'll wait for that; otherwise I'll just make a new release:\n\n* https://bitbucket.org/osrf/sdformat/pull-requests/369", "markup": "markdown", "html": "<p>if we can get a quick review of your sdformat pull request, then I'll wait for that; otherwise I'll just make a new release:</p>\n<ul>\n<li><a href=\"https://bitbucket.org/osrf/sdformat/pull-requests/369\" rel=\"nofollow\" class=\"ap-connect-link\">https://bitbucket.org/osrf/sdformat/pull-requests/369</a></li>\n</ul>", "type": "rendered"}, "created_on": "2017-08-02T00:44:24.840858+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2017-08-02T00:44:24.844122+00:00", "type": "pullrequest_comment", "id": 41960785}, "pull_request": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733/comments/41960659.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733/_/diff#comment-41960659"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}, "content": {"raw": "this api was added in [sdformat pull request 291](https://bitbucket.org/osrf/sdformat/pull-requests/291/add-patch-for-issue-123-from-gazebo-pr/diff), which was released in sdformat 4.3.0, but sdformat5 hasn't had a new release since then.\n\nwe need to make a new sdformat5 release before merging this", "markup": "markdown", "html": "<p>this api was added in <a data-is-external-link=\"true\" href=\"https://bitbucket.org/osrf/sdformat/pull-requests/291/add-patch-for-issue-123-from-gazebo-pr/diff\" rel=\"nofollow\">sdformat pull request 291</a>, which was released in sdformat 4.3.0, but sdformat5 hasn't had a new release since then.</p>\n<p>we need to make a new sdformat5 release before merging this</p>", "type": "rendered"}, "created_on": "2017-08-02T00:39:04.648202+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2017-08-02T00:39:04.650322+00:00", "type": "pullrequest_comment", "id": 41960659}, "pull_request": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}}, {"update": {"description": "bd81e78 adds a model plugin that performs gravity compensation and an example world. The plugin creates a DART skeleton from a specified model (sdf) file and then syncs its configuration, pose, and velocity with the Gazebo model on each update. DART is used to calculate the gravity compensation joint efforts from the skeleton. These efforts are then applied to the Gazebo model.\r\n\r\nThe plugin uses DART's `SdfParser` to read the model file, which is included in the `utils-urdf` component of DART. I modified `cmake/SearchForStuff.cmake` to find this component and modified `plugins/CMakeLists.txt` to build the gravity compensation plugin and link it with DART.\r\n\r\nThis PR depends on two other pull requests:\r\n\r\n1. A bug fix to sdformat ([PR #350](https://bitbucket.org/osrf/sdformat/pull-requests/350)), which allows a URI to be specified within a plugin block within and an include block. (PR merged)\r\n\r\n1. A new model ([PR #257](#!/osrf/gazebo_models/pull-requests/257)) to demonstrate gravity compensation in the example world. (PR merged)", "title": "Gravity Compensation Plugin", "destination": {"commit": {"hash": "a2e24ead6b45", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/a2e24ead6b45.json"}, "html": {"href": "#!/osrf/gazebo/commits/a2e24ead6b45"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "e271ec88715e", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pchorak/gazebo/commit/e271ec88715e"}, "html": {"href": "https://bitbucket.org/pchorak/gazebo/commits/e271ec88715e"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pchorak/gazebo"}, "html": {"href": "https://bitbucket.org/pchorak/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{7130b41e-0983-4752-9e3b-9e2c12cf1268}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "pchorak/gazebo", "uuid": "{7130b41e-0983-4752-9e3b-9e2c12cf1268}"}, "branch": {"name": "gravity_comp_plugin"}}, "state": "OPEN", "author": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "date": "2017-07-31T22:58:54.514561+00:00"}, "pull_request": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}}, {"update": {"description": "bd81e78 adds a model plugin that performs gravity compensation and an example world. The plugin creates a DART skeleton from a specified model (sdf) file and then syncs its configuration, pose, and velocity with the Gazebo model on each update. DART is used to calculate the gravity compensation joint efforts from the skeleton. These efforts are then applied to the Gazebo model.\r\n\r\nThe plugin uses DART's `SdfParser` to read the model file, which is included in the `utils-urdf` component of DART. I modified `cmake/SearchForStuff.cmake` to find this component and modified `plugins/CMakeLists.txt` to build the gravity compensation plugin and link it with DART.\r\n\r\nThis PR depends on two other pull requests:\r\n\r\n1. ~~A bug fix to sdformat ([PR #350](https://bitbucket.org/osrf/sdformat/pull-requests/350)), which allows a URI to be specified within a plugin block within and an include block.~~ PR merged.\r\n\r\n1. ~~A new model ([PR #257](#!/osrf/gazebo_models/pull-requests/257)) to demonstrate gravity compensation in the example world.~~ PR merged.", "title": "Gravity Compensation Plugin", "destination": {"commit": {"hash": "a2e24ead6b45", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/a2e24ead6b45.json"}, "html": {"href": "#!/osrf/gazebo/commits/a2e24ead6b45"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "e271ec88715e", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pchorak/gazebo/commit/e271ec88715e"}, "html": {"href": "https://bitbucket.org/pchorak/gazebo/commits/e271ec88715e"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pchorak/gazebo"}, "html": {"href": "https://bitbucket.org/pchorak/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{7130b41e-0983-4752-9e3b-9e2c12cf1268}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "pchorak/gazebo", "uuid": "{7130b41e-0983-4752-9e3b-9e2c12cf1268}"}, "branch": {"name": "gravity_comp_plugin"}}, "state": "OPEN", "author": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "date": "2017-07-31T22:53:38.622776+00:00"}, "pull_request": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733/comments/40813475.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733/_/diff#comment-40813475"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}, "content": {"raw": "Note, the gravity compensation plugin uses DART's `SdfParser`, which appears not to support:\n\n1. Models containing links with multiple parent joints.\n\n2. Nested models.", "markup": "markdown", "html": "<p>Note, the gravity compensation plugin uses DART's <code>SdfParser</code>, which appears not to support:</p>\n<ol>\n<li>\n<p>Models containing links with multiple parent joints.</p>\n</li>\n<li>\n<p>Nested models.</p>\n</li>\n</ol>", "type": "rendered"}, "created_on": "2017-07-14T21:52:35.482565+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "updated_on": "2017-07-19T20:05:06.879581+00:00", "type": "pullrequest_comment", "id": 40813475}, "pull_request": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}}, {"update": {"description": "bd81e78 adds a model plugin that performs gravity compensation and an example world. The plugin creates a DART skeleton from a specified model (sdf) file and then syncs its configuration, pose, and velocity with the Gazebo model on each update. DART is used to calculate the gravity compensation joint efforts from the skeleton. These efforts are then applied to the Gazebo model.\r\n\r\nThe plugin uses DART's `SdfParser` to read the model file, which is included in the `utils-urdf` component of DART. I modified `cmake/SearchForStuff.cmake` to find this component and modified `plugins/CMakeLists.txt` to build the gravity compensation plugin and link it with DART.\r\n\r\nThis PR depends on two other pull requests:\r\n\r\n1. A bug fix to sdformat ([PR #350](https://bitbucket.org/osrf/sdformat/pull-requests/350)), which allows a URI to be specified within a plugin block within and an include block.\r\n\r\n1. A new model ([PR #257](#!/osrf/gazebo_models/pull-requests/257)) to demonstrate gravity compensation in the example world.", "title": "Gravity Compensation Plugin", "destination": {"commit": {"hash": "43d89f69c63d", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/43d89f69c63d.json"}, "html": {"href": "#!/osrf/gazebo/commits/43d89f69c63d"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "e271ec88715e", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pchorak/gazebo/commit/e271ec88715e"}, "html": {"href": "https://bitbucket.org/pchorak/gazebo/commits/e271ec88715e"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pchorak/gazebo"}, "html": {"href": "https://bitbucket.org/pchorak/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{7130b41e-0983-4752-9e3b-9e2c12cf1268}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "pchorak/gazebo", "uuid": "{7130b41e-0983-4752-9e3b-9e2c12cf1268}"}, "branch": {"name": "gravity_comp_plugin"}}, "state": "OPEN", "author": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "date": "2017-07-19T01:23:02.930653+00:00"}, "pull_request": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733/comments/40910843.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733/_/diff#comment-40910843"}}, "parent": {"id": 40909982, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733/comments/40909982.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733/_/diff#comment-40909982"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}, "content": {"raw": "Yes, nice. That appears to fix the Eigen dependency error.", "markup": "markdown", "html": "<p>Yes, nice. That appears to fix the Eigen dependency error.</p>", "type": "rendered"}, "created_on": "2017-07-17T21:05:44.392537+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "updated_on": "2017-07-17T21:05:44.449527+00:00", "type": "pullrequest_comment", "id": 40910843}, "pull_request": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733/comments/40909982.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733/_/diff#comment-40909982"}}, "parent": {"id": 39657653, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733/comments/39657653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733/_/diff#comment-39657653"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}, "content": {"raw": "Does it build if the following is added to the bottom of `deps/opende/CMakeLists.txt`?\n\n```\n#!CMake\nif (HAVE_DART)\n  target_link_libraries(gazebo_ode ${DART_LIBRARIES})\nendif()\n```", "markup": "markdown", "html": "<p>Does it build if the following is added to the bottom of <code>deps/opende/CMakeLists.txt</code>?</p>\n<div class=\"codehilite language-cmake\"><pre><span></span><span class=\"nb\">if</span> <span class=\"p\">(</span><span class=\"s\">HAVE_DART</span><span class=\"p\">)</span>\n  <span class=\"nb\">target_link_libraries</span><span class=\"p\">(</span><span class=\"s\">gazebo_ode</span> <span class=\"o\">${</span><span class=\"nv\">DART_LIBRARIES</span><span class=\"o\">}</span><span class=\"p\">)</span>\n<span class=\"nb\">endif</span><span class=\"p\">()</span>\n</pre></div>", "type": "rendered"}, "created_on": "2017-07-17T20:52:16.244274+00:00", "user": {"display_name": "Shane Loretz", "uuid": "{656e3311-aad9-45a1-aaf7-b0ee0e84b287}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D"}, "html": {"href": "https://bitbucket.org/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:684383ab-ac95-4859-a350-4a6f41a94a22/c7a1ebf5-cade-4115-9f26-9d3facb776db/128"}}, "nickname": "Shane Loretz", "type": "user", "account_id": "557058:684383ab-ac95-4859-a350-4a6f41a94a22"}, "updated_on": "2017-07-17T20:52:16.246990+00:00", "type": "pullrequest_comment", "id": 40909982}, "pull_request": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}}, {"update": {"description": "bd81e78 adds a model plugin that performs gravity compensation and an example world. The plugin creates a DART skeleton from a specified model (sdf) file and then syncs its configuration, pose, and velocity with the Gazebo model on each update. DART is used to calculate the gravity compensation joint efforts from the skeleton. These efforts are then applied to the Gazebo model.\r\n\r\nThe plugin uses DART's `SdfParser` to read the model file, which is included in the `utils-urdf` component of DART. I modified `cmake/SearchForStuff.cmake` to find this component and modified `plugins/CMakeLists.txt` to build the gravity compensation plugin and link it with DART.\r\n\r\nThis PR depends on two other pull requests:\r\n\r\n1. A bug fix to sdformat ([PR #350](https://bitbucket.org/osrf/sdformat/pull-requests/350)), which allows a URI to be specified within a plugin block within and an include block.\r\n\r\n1. A new model ([PR #257](#!/osrf/gazebo_models/pull-requests/257)) to demonstrate gravity compensation in the example world.", "title": "Gravity Compensation Plugin", "destination": {"commit": {"hash": "45f77842932c", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/45f77842932c.json"}, "html": {"href": "#!/osrf/gazebo/commits/45f77842932c"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "4b3c1b3de864", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pchorak/gazebo/commit/4b3c1b3de864"}, "html": {"href": "https://bitbucket.org/pchorak/gazebo/commits/4b3c1b3de864"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pchorak/gazebo"}, "html": {"href": "https://bitbucket.org/pchorak/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{7130b41e-0983-4752-9e3b-9e2c12cf1268}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "pchorak/gazebo", "uuid": "{7130b41e-0983-4752-9e3b-9e2c12cf1268}"}, "branch": {"name": "gravity_comp_plugin"}}, "state": "OPEN", "author": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "date": "2017-07-14T21:47:23.913234+00:00"}, "pull_request": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}}, {"update": {"description": "bd81e78 adds a model plugin that performs gravity compensation and an example world. The plugin creates a DART skeleton from a specified model (sdf) file and then syncs its configuration, pose, and velocity with the Gazebo model on each update. DART is used to calculate the gravity compensation joint efforts from the skeleton. These efforts are then applied to the Gazebo model.\r\n\r\nThe plugin uses DART's `SdfParser` to read the model file, which is included in the `utils-urdf` component of DART. I modified `cmake/SearchForStuff.cmake` to find this component and modified `plugins/CMakeLists.txt` to build the gravity compensation plugin and link it with DART.\r\n\r\nThis PR depends on two other pull requests:\r\n\r\n1. A bug fix to sdformat ([PR #350](https://bitbucket.org/osrf/sdformat/pull-requests/350)), which allows a URI to be specified within a plugin block within and an include block.\r\n\r\n1. A new model ([PR #257](#!/osrf/gazebo_models/pull-requests/257)) to demonstrate gravity compensation in the example world.", "title": "Gravity Compensation Plugin", "destination": {"commit": {"hash": "45f77842932c", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/45f77842932c.json"}, "html": {"href": "#!/osrf/gazebo/commits/45f77842932c"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "bdd290585200", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pchorak/gazebo/commit/bdd290585200"}, "html": {"href": "https://bitbucket.org/pchorak/gazebo/commits/bdd290585200"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pchorak/gazebo"}, "html": {"href": "https://bitbucket.org/pchorak/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{7130b41e-0983-4752-9e3b-9e2c12cf1268}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "pchorak/gazebo", "uuid": "{7130b41e-0983-4752-9e3b-9e2c12cf1268}"}, "branch": {"name": "gravity_comp_plugin"}}, "state": "OPEN", "author": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "date": "2017-07-11T21:12:32.848044+00:00"}, "pull_request": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733/comments/39768097.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733/_/diff#comment-39768097"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}, "content": {"raw": "Since `utils-urdf` DART component is only used for this plugin, 4c8cc5a modifies `cmake/SearchForStuff.cmake` so that DART can be used with Gazebo without `dart-utils` (the gravity compensation will not be built in this situation).", "markup": "markdown", "html": "<p>Since <code>utils-urdf</code> DART component is only used for this plugin, <a href=\"#!/osrf/gazebo/commits/4c8cc5a\" rel=\"nofollow\" class=\"ap-connect-link\">4c8cc5a</a> modifies <code>cmake/SearchForStuff.cmake</code> so that DART can be used with Gazebo without <code>dart-utils</code> (the gravity compensation will not be built in this situation).</p>", "type": "rendered"}, "created_on": "2017-06-28T21:44:55.829736+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "updated_on": "2017-06-28T21:44:55.896515+00:00", "type": "pullrequest_comment", "id": 39768097}, "pull_request": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}}, {"update": {"description": "bd81e78 adds a model plugin that performs gravity compensation and an example world. The plugin creates a DART skeleton from a specified model (sdf) file and then syncs its configuration, pose, and velocity with the Gazebo model on each update. DART is used to calculate the gravity compensation joint efforts from the skeleton. These efforts are then applied to the Gazebo model.\r\n\r\nThe plugin uses DART's `SdfParser` to read the model file, which is included in the `utils-urdf` component of DART. I modified `cmake/SearchForStuff.cmake` to find this component and modified `plugins/CMakeLists.txt` to build the gravity compensation plugin and link it with DART.\r\n\r\nThis PR depends on two other pull requests:\r\n\r\n1. A bug fix to sdformat ([PR #350](https://bitbucket.org/osrf/sdformat/pull-requests/350)), which allows a URI to be specified within a plugin block within and an include block.\r\n\r\n1. A new model ([PR #257](#!/osrf/gazebo_models/pull-requests/257)) to demonstrate gravity compensation in the example world.", "title": "Gravity Compensation Plugin", "destination": {"commit": {"hash": "ebef2bfd603d", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/ebef2bfd603d.json"}, "html": {"href": "#!/osrf/gazebo/commits/ebef2bfd603d"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "4c8cc5a3a0b9", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pchorak/gazebo/commit/4c8cc5a3a0b9"}, "html": {"href": "https://bitbucket.org/pchorak/gazebo/commits/4c8cc5a3a0b9"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pchorak/gazebo"}, "html": {"href": "https://bitbucket.org/pchorak/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{7130b41e-0983-4752-9e3b-9e2c12cf1268}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "pchorak/gazebo", "uuid": "{7130b41e-0983-4752-9e3b-9e2c12cf1268}"}, "branch": {"name": "gravity_comp_plugin"}}, "state": "OPEN", "author": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "date": "2017-06-28T21:38:26.225003+00:00"}, "pull_request": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733/comments/39748083.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733/_/diff#comment-39748083"}}, "parent": {"id": 39685004, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733/comments/39685004.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733/_/diff#comment-39685004"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}, "content": {"raw": "cppcheck complains should be fixed now too", "markup": "markdown", "html": "<p>cppcheck complains should be fixed now too</p>", "type": "rendered"}, "created_on": "2017-06-28T16:42:50.509966+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "updated_on": "2017-06-28T16:42:50.555700+00:00", "type": "pullrequest_comment", "id": 39748083}, "pull_request": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}}, {"update": {"description": "bd81e78 adds a model plugin that performs gravity compensation and an example world. The plugin creates a DART skeleton from a specified model (sdf) file and then syncs its configuration, pose, and velocity with the Gazebo model on each update. DART is used to calculate the gravity compensation joint efforts from the skeleton. These efforts are then applied to the Gazebo model.\r\n\r\nThe plugin uses DART's `SdfParser` to read the model file, which is included in the `utils-urdf` component of DART. I modified `cmake/SearchForStuff.cmake` to find this component and modified `plugins/CMakeLists.txt` to build the gravity compensation plugin and link it with DART.\r\n\r\nThis PR depends on two other pull requests:\r\n\r\n1. A bug fix to sdformat ([PR #350](https://bitbucket.org/osrf/sdformat/pull-requests/350)), which allows a URI to be specified within a plugin block within and an include block.\r\n\r\n1. A new model ([PR #257](#!/osrf/gazebo_models/pull-requests/257)) to demonstrate gravity compensation in the example world.", "title": "Gravity Compensation Plugin", "destination": {"commit": {"hash": "ebef2bfd603d", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/ebef2bfd603d.json"}, "html": {"href": "#!/osrf/gazebo/commits/ebef2bfd603d"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "1e5eda9760d3", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pchorak/gazebo/commit/1e5eda9760d3"}, "html": {"href": "https://bitbucket.org/pchorak/gazebo/commits/1e5eda9760d3"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pchorak/gazebo"}, "html": {"href": "https://bitbucket.org/pchorak/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{7130b41e-0983-4752-9e3b-9e2c12cf1268}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "pchorak/gazebo", "uuid": "{7130b41e-0983-4752-9e3b-9e2c12cf1268}"}, "branch": {"name": "gravity_comp_plugin"}}, "state": "OPEN", "author": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "date": "2017-06-28T16:41:28.168096+00:00"}, "pull_request": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733/comments/39689456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733/_/diff#comment-39689456"}}, "parent": {"id": 39685004, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733/comments/39685004.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733/_/diff#comment-39685004"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}, "content": {"raw": "oh, I see that you fixed the compiler warnings already in 37bd895", "markup": "markdown", "html": "<p>oh, I see that you fixed the compiler warnings already in <a href=\"#!/osrf/gazebo/commits/37bd895\" rel=\"nofollow\" class=\"ap-connect-link\">37bd895</a></p>", "type": "rendered"}, "created_on": "2017-06-28T05:28:03.596136+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-06-28T05:28:03.598507+00:00", "type": "pullrequest_comment", "id": 39689456}, "pull_request": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733/comments/39685004.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733/_/diff#comment-39685004"}}, "parent": {"id": 39671352, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733/comments/39671352.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733/_/diff#comment-39671352"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}, "content": {"raw": "looks like there's a few [compiler warnings](https://build.osrfoundation.org/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/14/warnings21Result/new/) and [cppcheck complaints](https://build.osrfoundation.org/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/14/cppcheckResult/)", "markup": "markdown", "html": "<p>looks like there's a few <a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/14/warnings21Result/new/\" rel=\"nofollow\">compiler warnings</a> and <a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/14/cppcheckResult/\" rel=\"nofollow\">cppcheck complaints</a></p>", "type": "rendered"}, "created_on": "2017-06-28T02:40:26.153928+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-06-28T02:40:26.156314+00:00", "type": "pullrequest_comment", "id": 39685004}, "pull_request": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733/comments/39682759.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733/_/diff#comment-39682759"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}, "content": {"raw": "Do you think the plugin should check that a corresponding DART joint is found in each `Update()` as it does in `Load()` (lines 109-121 above)? Even if the user edits the model with the model editor, it appears to reload the plugin and thus rerun the check in `Load()`.", "markup": "markdown", "html": "<p>Do you think the plugin should check that a corresponding DART joint is found in each <code>Update()</code> as it does in <code>Load()</code> (lines 109-121 above)? Even if the user edits the model with the model editor, it appears to reload the plugin and thus rerun the check in <code>Load()</code>.</p>", "type": "rendered"}, "created_on": "2017-06-28T01:19:20.933103+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "inline": {}, "updated_on": "2017-06-28T01:19:20.980399+00:00", "type": "pullrequest_comment", "id": 39682759}, "pull_request": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733/comments/39682747.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733/_/diff#comment-39682747"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}, "content": {"raw": "Would it make sense to cache/store the Gazebo and DART joints in two vectors here instead of retrieving them again in each update?", "markup": "markdown", "html": "<p>Would it make sense to cache/store the Gazebo and DART joints in two vectors here instead of retrieving them again in each update?</p>", "type": "rendered"}, "created_on": "2017-06-28T01:18:32.629028+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "inline": {}, "updated_on": "2017-06-28T01:18:32.683470+00:00", "type": "pullrequest_comment", "id": 39682747}, "pull_request": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733/comments/39682721.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733/_/diff#comment-39682721"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}, "content": {"raw": "DART provides a function `getCoriolisAndGravityForces()` as well if we would like to use it. The plugin sets the model and joint velocities as well as positions in the above code so that DART could calculate Coriolis forces if desired.", "markup": "markdown", "html": "<p>DART provides a function <code>getCoriolisAndGravityForces()</code> as well if we would like to use it. The plugin sets the model and joint velocities as well as positions in the above code so that DART could calculate Coriolis forces if desired.</p>", "type": "rendered"}, "created_on": "2017-06-28T01:17:33.552759+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "inline": {}, "updated_on": "2017-06-28T01:17:33.617412+00:00", "type": "pullrequest_comment", "id": 39682721}, "pull_request": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}}, {"update": {"description": "bd81e78 adds a model plugin that performs gravity compensation and an example world. The plugin creates a DART skeleton from a specified model (sdf) file and then syncs its configuration, pose, and velocity with the Gazebo model on each update. DART is used to calculate the gravity compensation joint efforts from the skeleton. These efforts are then applied to the Gazebo model.\r\n\r\nThe plugin uses DART's `SdfParser` to read the model file, which is included in the `utils-urdf` component of DART. I modified `cmake/SearchForStuff.cmake` to find this component and modified `plugins/CMakeLists.txt` to build the gravity compensation plugin and link it with DART.\r\n\r\nThis PR depends on two other pull requests:\r\n\r\n1. A bug fix to sdformat ([PR #350](https://bitbucket.org/osrf/sdformat/pull-requests/350)), which allows a URI to be specified within a plugin block within and an include block.\r\n\r\n1. A new model ([PR #257](#!/osrf/gazebo_models/pull-requests/257)) to demonstrate gravity compensation in the example world.", "title": "Gravity Compensation Plugin", "destination": {"commit": {"hash": "ebef2bfd603d", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/ebef2bfd603d.json"}, "html": {"href": "#!/osrf/gazebo/commits/ebef2bfd603d"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "37bd8959dbc4", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pchorak/gazebo/commit/37bd8959dbc4"}, "html": {"href": "https://bitbucket.org/pchorak/gazebo/commits/37bd8959dbc4"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pchorak/gazebo"}, "html": {"href": "https://bitbucket.org/pchorak/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{7130b41e-0983-4752-9e3b-9e2c12cf1268}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "pchorak/gazebo", "uuid": "{7130b41e-0983-4752-9e3b-9e2c12cf1268}"}, "branch": {"name": "gravity_comp_plugin"}}, "state": "OPEN", "author": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "date": "2017-06-28T01:12:26.587858+00:00"}, "pull_request": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733/comments/39671352.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733/_/diff#comment-39671352"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}, "content": {"raw": "I just started a build that will have dart installed as well:\n\n* https://build.osrfoundation.org/view/upstream-dart/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/14/", "markup": "markdown", "html": "<p>I just started a build that will have dart installed as well:</p>\n<ul>\n<li><a href=\"https://build.osrfoundation.org/view/upstream-dart/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/14/\" rel=\"nofollow\" class=\"ap-connect-link\">https://build.osrfoundation.org/view/upstream-dart/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/14/</a></li>\n</ul>", "type": "rendered"}, "created_on": "2017-06-27T20:33:22.722904+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-06-27T20:33:22.725276+00:00", "type": "pullrequest_comment", "id": 39671352}, "pull_request": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733/comments/39657653.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733/_/diff#comment-39657653"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}, "content": {"raw": "If you run into problems with DART dependencies, you could try the following. It should not be necessary, but I had to add it in order build Gazebo with DART on my computer.\n```\ndiff -r 42215f2019f5 deps/opende/CMakeLists.txt\n--- a/deps/opende/CMakeLists.txt\tTue May 30 22:39:05 2017 +0000\n+++ b/deps/opende/CMakeLists.txt\tMon Jun 12 12:22:58 2017 -0700\n@@ -21,6 +21,7 @@\n \n if (HAVE_DART)\n   include_directories(${DART_INCLUDE_DIRS})\n+  include_directories($<TARGET_PROPERTY:dart,INTERFACE_INCLUDE_DIRECTORIES>)\n   link_directories(${DART_LIBRARY_DIRS})\n endif()\n```\n", "markup": "markdown", "html": "<p>If you run into problems with DART dependencies, you could try the following. It should not be necessary, but I had to add it in order build Gazebo with DART on my computer.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gh\">diff -r 42215f2019f5 deps/opende/CMakeLists.txt</span>\n<span class=\"gd\">--- a/deps/opende/CMakeLists.txt    Tue May 30 22:39:05 2017 +0000</span>\n<span class=\"gi\">+++ b/deps/opende/CMakeLists.txt    Mon Jun 12 12:22:58 2017 -0700</span>\n<span class=\"gu\">@@ -21,6 +21,7 @@</span>\n\n if (HAVE_DART)\n   include_directories(${DART_INCLUDE_DIRS})\n<span class=\"gi\">+  include_directories($&lt;TARGET_PROPERTY:dart,INTERFACE_INCLUDE_DIRECTORIES&gt;)</span>\n   link_directories(${DART_LIBRARY_DIRS})\n endif()\n</pre></div>", "type": "rendered"}, "created_on": "2017-06-27T17:07:35.476434+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "updated_on": "2017-06-27T17:07:35.547255+00:00", "type": "pullrequest_comment", "id": 39657653}, "pull_request": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}}, {"update": {"description": "bd81e78 adds a model plugin that performs gravity compensation and an example world. The plugin creates a DART skeleton from a specified model (sdf) file and then syncs its configuration, pose, and velocity with the Gazebo model on each update. DART is used to calculate the gravity compensation joint efforts from the skeleton. These efforts are then applied to the Gazebo model.\r\n\r\nThe plugin uses DART's `SdfParser` to read the model file, which is included in the `utils-urdf` component of DART. I modified `cmake/SearchForStuff.cmake` to find this component and modified `plugins/CMakeLists.txt` to build the gravity compensation plugin and link it with DART.\r\n\r\nThis PR depends on two other pull requests:\r\n\r\n1. A bug fix to sdformat ([PR #350](https://bitbucket.org/osrf/sdformat/pull-requests/350)), which allows a URI to be specified within a plugin block within and an include block.\r\n\r\n1. A new model ([PR #257](#!/osrf/gazebo_models/pull-requests/257)) to demonstrate gravity compensation in the example world.", "title": "Gravity Compensation Plugin", "destination": {"commit": {"hash": "ebef2bfd603d", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/ebef2bfd603d.json"}, "html": {"href": "#!/osrf/gazebo/commits/ebef2bfd603d"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "fe1540aae33b", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pchorak/gazebo/commit/fe1540aae33b"}, "html": {"href": "https://bitbucket.org/pchorak/gazebo/commits/fe1540aae33b"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pchorak/gazebo"}, "html": {"href": "https://bitbucket.org/pchorak/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{7130b41e-0983-4752-9e3b-9e2c12cf1268}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "pchorak/gazebo", "uuid": "{7130b41e-0983-4752-9e3b-9e2c12cf1268}"}, "branch": {"name": "gravity_comp_plugin"}}, "state": "OPEN", "author": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "date": "2017-06-27T17:03:09.448381+00:00"}, "pull_request": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}}, {"update": {"description": "bd81e78 adds a model plugin that performs gravity compensation and an example world. The plugin creates a DART skeleton from a specified model (sdf) file and then syncs its configuration, pose, and velocity with the Gazebo model on each update. DART is used to calculate the gravity compensation joint efforts from the skeleton. These efforts are then applied to the Gazebo model.\r\n\r\nThe plugin uses DART's `SdfParser` to read the model file, which is included in the `utils-urdf` component of DART. I modified `cmake/SearchForStuff.cmake` to find this component and modified `plugins/CMakeLists.txt` to build the gravity compensation plugin and link it with DART.\r\n\r\nThis PR depends on two other pull requests:\r\n\r\n1. A bug fix to sdformat ([PR #350](https://bitbucket.org/osrf/sdformat/pull-requests/350)), which allows a URI to be specified within a plugin block within and an include block.\r\n\r\n1. A new model ([PR #257](#!/osrf/gazebo_models/pull-requests/257)) to demonstrate gravity compensation in the example world.", "title": "Gravity Compensation Plugin", "destination": {"commit": {"hash": "ebef2bfd603d", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/ebef2bfd603d.json"}, "html": {"href": "#!/osrf/gazebo/commits/ebef2bfd603d"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "fe1540aae33b", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pchorak/gazebo/commit/fe1540aae33b"}, "html": {"href": "https://bitbucket.org/pchorak/gazebo/commits/fe1540aae33b"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pchorak/gazebo"}, "html": {"href": "https://bitbucket.org/pchorak/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{7130b41e-0983-4752-9e3b-9e2c12cf1268}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "pchorak/gazebo", "uuid": "{7130b41e-0983-4752-9e3b-9e2c12cf1268}"}, "branch": {"name": "gravity_comp_plugin"}}, "state": "OPEN", "author": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "date": "2017-06-27T17:03:09.405436+00:00"}, "pull_request": {"type": "pullrequest", "id": 2733, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2733.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2733"}}, "title": "Gravity Compensation Plugin"}}]}