{"pagelen": 50, "values": [{"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33756142.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33756142"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}, "content": {"raw": "Missing doxygen documentation.", "markup": "markdown", "html": "<p>Missing doxygen documentation.</p>", "type": "rendered"}, "created_on": "2017-03-23T18:00:39.174613+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "inline": {}, "updated_on": "2017-03-23T18:00:39.176924+00:00", "type": "pullrequest_comment", "id": 33756142}, "pull_request": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33756128.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33756128"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}, "content": {"raw": "Missing doxygen documentation.", "markup": "markdown", "html": "<p>Missing doxygen documentation.</p>", "type": "rendered"}, "created_on": "2017-03-23T18:00:22.605421+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "inline": {}, "updated_on": "2017-03-23T18:00:22.608692+00:00", "type": "pullrequest_comment", "id": 33756128}, "pull_request": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33755923.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33755923"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}, "content": {"raw": "`bodyNode` looks like a smart pointer. You can directly check `bodyNode` without having to get the raw pointer. Also, do you want to return if  the pointer is `NULL`?", "markup": "markdown", "html": "<p><code>bodyNode</code> looks like a smart pointer. You can directly check <code>bodyNode</code> without having to get the raw pointer. Also, do you want to return if  the pointer is <code>NULL</code>?</p>", "type": "rendered"}, "created_on": "2017-03-23T17:57:28.136640+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "inline": {}, "updated_on": "2017-03-23T17:58:17.846473+00:00", "type": "pullrequest_comment", "id": 33755923}, "pull_request": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33686893.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33686893"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}, "content": {"raw": "Pushed the changes suggested by @jlee02 and started another build on jenkins\n\n[http://build.osrfoundation.org/job/gazebo-any\\_dart4-devel-xenial-amd64-gpu-nvidia\\_docker/]()", "markup": "markdown", "html": "<p>Pushed the changes suggested by @jlee02 and started another build on jenkins</p>\n<p><a data-is-external-link=\"true\" href=\"\" rel=\"nofollow\">http://build.osrfoundation.org/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/</a></p>", "type": "rendered"}, "created_on": "2017-03-22T22:55:02.887064+00:00", "user": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "updated_on": "2017-03-22T22:55:02.961905+00:00", "type": "pullrequest_comment", "id": 33686893}, "pull_request": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}}, {"update": {"description": "Changes required to run Gazebo with DART 6.\r\n\r\nThere are still 3 test failures related to DART which may need to be addressed or skipped for DART. The test failures don't seem to suggest anything too severe, but they point out some inaccuracies. This PR is a place to discuss what to do with these tests.\r\n\r\n### Test failure 1. JointForceTorqueTest.GetForceTorqueWithAppliedForce (and same for JointForceTorqueTest.GetForceTorqueWithAppliedForceReset)\r\n\r\nThe cubes are meant to be \"held up\" by the force set to the joints. When viewing with gzclient, the behaviour is exactly the same as with ODE, it's working as expected. However the force and torque of wrench01 fluctuate quite significantly ([-35..35], sometimes more or less), while they are expected to fluctuate only in the range [-2..2].  The fluctuations aren't smooth, they sometimes incur large jumps between iterations.\r\n\r\nMaybe the DART reaction to setting the force does not have an effect as immediate/accurate as with ODE, leading to the PID controller having to continuously adjust a higher error. Though movements are still too small to see in gzclient.\r\n\r\n### Test failure 2. JointTestScrew.ScrewJointForce\r\n\r\nThe exceeded tolerances are not that high (max 0.0036 on my system, tolerance is set to 1e-08), and seem to only affect the position, not the rotation. Maybe just allowing a higher tolerance for DART in this test will suffice? Though it could be an issue related to the other two test failures.\r\n\r\n### Test failure 3. JointTestScrew.WrapAngle\r\n\r\nThe velocity error starts off small but adds up significantly over time. This consequently affects the error in the angle as well after an initial delay. This could maybe be related to test failure 1 as it seems to be related to setting the force. It seems to be applying too much force as the velocity increases faster than expected.", "title": "Dart 6", "destination": {"commit": {"hash": "0d39ebf2b92b", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/0d39ebf2b92b.json"}, "html": {"href": "#!/osrf/gazebo/commits/0d39ebf2b92b"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "ea82c3f89bf8", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo/commit/ea82c3f89bf8"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo/commits/ea82c3f89bf8"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{11522dd5-648b-4e9e-b908-d3e1170ba728}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "JenniferBuehler/gazebo", "uuid": "{11522dd5-648b-4e9e-b908-d3e1170ba728}"}, "branch": {"name": "dart-6"}}, "state": "OPEN", "author": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "date": "2017-03-22T22:51:28.755343+00:00"}, "pull_request": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33684407.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33684407"}}, "parent": {"id": 33669330, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33669330.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33669330"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}, "content": {"raw": "Yes, we should address this. A different PR would be suitable as well.", "markup": "markdown", "html": "<p>Yes, we should address this. A different PR would be suitable as well.</p>", "type": "rendered"}, "created_on": "2017-03-22T21:56:38.247839+00:00", "user": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "updated_on": "2017-03-22T21:56:38.293126+00:00", "type": "pullrequest_comment", "id": 33684407}, "pull_request": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33684185.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33684185"}}, "parent": {"id": 33665460, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33665460.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33665460"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}, "content": {"raw": "Remnant from testing. Thanks for spotting.", "markup": "markdown", "html": "<p>Remnant from testing. Thanks for spotting.</p>", "type": "rendered"}, "created_on": "2017-03-22T21:52:15.649380+00:00", "user": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "inline": {}, "updated_on": "2017-03-22T21:52:15.679022+00:00", "type": "pullrequest_comment", "id": 33684185}, "pull_request": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33684147.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33684147"}}, "parent": {"id": 33666470, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33666470.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33666470"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}, "content": {"raw": "Great idea!", "markup": "markdown", "html": "<p>Great idea!</p>", "type": "rendered"}, "created_on": "2017-03-22T21:51:37.003250+00:00", "user": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "inline": {}, "updated_on": "2017-03-22T21:51:37.031757+00:00", "type": "pullrequest_comment", "id": 33684147}, "pull_request": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33684018.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33684018"}}, "parent": {"id": 33665244, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33665244.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33665244"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}, "content": {"raw": "Great, thanks for pointing this out! Good to know about the `CollisionFilter`.", "markup": "markdown", "html": "<p>Great, thanks for pointing this out! Good to know about the <code>CollisionFilter</code>.</p>", "type": "rendered"}, "created_on": "2017-03-22T21:48:45.132399+00:00", "user": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "inline": {}, "updated_on": "2017-03-22T21:48:45.172346+00:00", "type": "pullrequest_comment", "id": 33684018}, "pull_request": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33670447.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33670447"}}, "parent": {"id": 33669330, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33669330.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33669330"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}, "content": {"raw": ":+1: Sounds good to me since this doens't fail the existing tests for DART.", "markup": "markdown", "html": "<p>:+1: Sounds good to me since this doens't fail the existing tests for DART.</p>", "type": "rendered"}, "created_on": "2017-03-22T18:08:06.466260+00:00", "user": {"display_name": "Jeongseok Lee", "uuid": "{3907b560-aed7-43bd-bfa9-fd9873322291}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3907b560-aed7-43bd-bfa9-fd9873322291%7D"}, "html": {"href": "https://bitbucket.org/%7B3907b560-aed7-43bd-bfa9-fd9873322291%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/242819b368397b2b4cddf273b2ba9bf8d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJL-0.png"}}, "nickname": "jlee02", "type": "user", "account_id": "557058:e3fbdece-a1d8-4fb6-a9f1-236ecb09bd9d"}, "updated_on": "2017-03-22T18:08:16.133253+00:00", "type": "pullrequest_comment", "id": 33670447}, "pull_request": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33669330.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33669330"}}, "parent": {"id": 33668766, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33668766.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33668766"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}, "content": {"raw": "We could also defer this feature to a separate pull request if it is nontrivial", "markup": "markdown", "html": "<p>We could also defer this feature to a separate pull request if it is nontrivial</p>", "type": "rendered"}, "created_on": "2017-03-22T17:52:14.158396+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-03-22T17:52:14.162071+00:00", "type": "pullrequest_comment", "id": 33669330}, "pull_request": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33668766.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33668766"}}, "parent": {"id": 33667929, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33667929.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33667929"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}, "content": {"raw": "It looks like the self_collide test is only active for ODE:\n\n* #!/osrf/gazebo/src/0d39ebf2b92ba183/test/integration/physics_collision.cc#physics_collision.cc-198\n\nIf we can extend it to dart, that would be cool", "markup": "markdown", "html": "<p>It looks like the self_collide test is only active for ODE:</p>\n<ul>\n<li><a href=\"#!/osrf/gazebo/src/0d39ebf2b92ba183/test/integration/physics_collision.cc#physics_collision.cc-198\" rel=\"nofollow\" class=\"ap-connect-link\">#!/osrf/gazebo/src/0d39ebf2b92ba183/test/integration/physics_collision.cc#physics_collision.cc-198</a></li>\n</ul>\n<p>If we can extend it to dart, that would be cool</p>", "type": "rendered"}, "created_on": "2017-03-22T17:44:34.824826+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-03-22T17:44:34.827529+00:00", "type": "pullrequest_comment", "id": 33668766}, "pull_request": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33667929.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33667929"}}, "parent": {"id": 33600774, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33600774.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33600774"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}, "content": {"raw": "Hm, I just realized that the self-collision for DART is disabled in this PR. The way of collision filtering has been changed since DART 6. Let me attempt to address this issue this weekend.\n\nOut of curiosity, doesn't this cause any test failures?", "markup": "markdown", "html": "<p>Hm, I just realized that the self-collision for DART is disabled in this PR. The way of collision filtering has been changed since DART 6. Let me attempt to address this issue this weekend.</p>\n<p>Out of curiosity, doesn't this cause any test failures?</p>", "type": "rendered"}, "created_on": "2017-03-22T17:34:43.163869+00:00", "user": {"display_name": "Jeongseok Lee", "uuid": "{3907b560-aed7-43bd-bfa9-fd9873322291}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3907b560-aed7-43bd-bfa9-fd9873322291%7D"}, "html": {"href": "https://bitbucket.org/%7B3907b560-aed7-43bd-bfa9-fd9873322291%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/242819b368397b2b4cddf273b2ba9bf8d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJL-0.png"}}, "nickname": "jlee02", "type": "user", "account_id": "557058:e3fbdece-a1d8-4fb6-a9f1-236ecb09bd9d"}, "updated_on": "2017-03-22T17:34:43.167065+00:00", "type": "pullrequest_comment", "id": 33667929}, "pull_request": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33666736.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33666736"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}, "content": {"raw": "I believe 2-space indentation is the convention.", "markup": "markdown", "html": "<p>I believe 2-space indentation is the convention.</p>", "type": "rendered"}, "created_on": "2017-03-22T17:20:25.468270+00:00", "user": {"display_name": "Jeongseok Lee", "uuid": "{3907b560-aed7-43bd-bfa9-fd9873322291}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3907b560-aed7-43bd-bfa9-fd9873322291%7D"}, "html": {"href": "https://bitbucket.org/%7B3907b560-aed7-43bd-bfa9-fd9873322291%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/242819b368397b2b4cddf273b2ba9bf8d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJL-0.png"}}, "nickname": "jlee02", "type": "user", "account_id": "557058:e3fbdece-a1d8-4fb6-a9f1-236ecb09bd9d"}, "inline": {}, "updated_on": "2017-03-22T17:20:25.473048+00:00", "type": "pullrequest_comment", "id": 33666736}, "pull_request": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33666470.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33666470"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}, "content": {"raw": "If the parent must be a `DARTCollisionPtr`, we could use `static_pointer_cast` instead of `dynamic_pointer_cast` by checking if the parent is dynamic_pointer_cast-able as\n```cpp\nGZ_ASSERT(boost::dynamic_pointer_cast<DARTCollision>(_parent), \"Parent must be a DARTCollisionPtr\");\nDARTCollisionPtr _collisionParent = boost::static_pointer_cast<DARTCollision>(_parent);\n```", "markup": "markdown", "html": "<p>If the parent must be a <code>DARTCollisionPtr</code>, we could use <code>static_pointer_cast</code> instead of <code>dynamic_pointer_cast</code> by checking if the parent is dynamic_pointer_cast-able as</p>\n<div class=\"codehilite language-cpp\"><pre><span></span><span class=\"n\">GZ_ASSERT</span><span class=\"p\">(</span><span class=\"n\">boost</span><span class=\"o\">::</span><span class=\"n\">dynamic_pointer_cast</span><span class=\"o\">&lt;</span><span class=\"n\">DARTCollision</span><span class=\"o\">&gt;</span><span class=\"p\">(</span><span class=\"n\">_parent</span><span class=\"p\">),</span> <span class=\"s\">&quot;Parent must be a DARTCollisionPtr&quot;</span><span class=\"p\">);</span>\n<span class=\"n\">DARTCollisionPtr</span> <span class=\"n\">_collisionParent</span> <span class=\"o\">=</span> <span class=\"n\">boost</span><span class=\"o\">::</span><span class=\"n\">static_pointer_cast</span><span class=\"o\">&lt;</span><span class=\"n\">DARTCollision</span><span class=\"o\">&gt;</span><span class=\"p\">(</span><span class=\"n\">_parent</span><span class=\"p\">);</span>\n</pre></div>", "type": "rendered"}, "created_on": "2017-03-22T17:17:39.680854+00:00", "user": {"display_name": "Jeongseok Lee", "uuid": "{3907b560-aed7-43bd-bfa9-fd9873322291}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3907b560-aed7-43bd-bfa9-fd9873322291%7D"}, "html": {"href": "https://bitbucket.org/%7B3907b560-aed7-43bd-bfa9-fd9873322291%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/242819b368397b2b4cddf273b2ba9bf8d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJL-0.png"}}, "nickname": "jlee02", "type": "user", "account_id": "557058:e3fbdece-a1d8-4fb6-a9f1-236ecb09bd9d"}, "inline": {}, "updated_on": "2017-03-22T17:17:50.194944+00:00", "type": "pullrequest_comment", "id": 33666470}, "pull_request": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33665460.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33665460"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}, "content": {"raw": "I think we should either uncomment or delete this log.", "markup": "markdown", "html": "<p>I think we should either uncomment or delete this log.</p>", "type": "rendered"}, "created_on": "2017-03-22T17:05:33.359548+00:00", "user": {"display_name": "Jeongseok Lee", "uuid": "{3907b560-aed7-43bd-bfa9-fd9873322291}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3907b560-aed7-43bd-bfa9-fd9873322291%7D"}, "html": {"href": "https://bitbucket.org/%7B3907b560-aed7-43bd-bfa9-fd9873322291%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/242819b368397b2b4cddf273b2ba9bf8d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJL-0.png"}}, "nickname": "jlee02", "type": "user", "account_id": "557058:e3fbdece-a1d8-4fb6-a9f1-236ecb09bd9d"}, "inline": {}, "updated_on": "2017-03-22T17:05:33.362567+00:00", "type": "pullrequest_comment", "id": 33665460}, "pull_request": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33665335.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33665335"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}, "content": {"raw": "Style: `dart::dynamics::ShapeNode *node`", "markup": "markdown", "html": "<p>Style: <code>dart::dynamics::ShapeNode *node</code></p>", "type": "rendered"}, "created_on": "2017-03-22T17:04:04.925288+00:00", "user": {"display_name": "Jeongseok Lee", "uuid": "{3907b560-aed7-43bd-bfa9-fd9873322291}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3907b560-aed7-43bd-bfa9-fd9873322291%7D"}, "html": {"href": "https://bitbucket.org/%7B3907b560-aed7-43bd-bfa9-fd9873322291%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/242819b368397b2b4cddf273b2ba9bf8d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJL-0.png"}}, "nickname": "jlee02", "type": "user", "account_id": "557058:e3fbdece-a1d8-4fb6-a9f1-236ecb09bd9d"}, "inline": {}, "updated_on": "2017-03-22T17:04:04.928716+00:00", "type": "pullrequest_comment", "id": 33665335}, "pull_request": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33665244.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33665244"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}, "content": {"raw": "I think we could delete the whole disabled code block because `setAdjacentBodyCheck(false)` (or `disableAdjacentBodyCheck()`) is actually the equivalent to the purpose of this block.\n\nAs a note, disabling an arbitrary link pair can be done using [`CollisionFilter`](https://github.com/dartsim/dart/blob/release-6.1/dart/collision/CollisionFilter.hpp), which is newly introduced since DART 6, if it's necessary for somewhere else.", "markup": "markdown", "html": "<p>I think we could delete the whole disabled code block because <code>setAdjacentBodyCheck(false)</code> (or <code>disableAdjacentBodyCheck()</code>) is actually the equivalent to the purpose of this block.</p>\n<p>As a note, disabling an arbitrary link pair can be done using <a data-is-external-link=\"true\" href=\"https://github.com/dartsim/dart/blob/release-6.1/dart/collision/CollisionFilter.hpp\" rel=\"nofollow\"><code>CollisionFilter</code></a>, which is newly introduced since DART 6, if it's necessary for somewhere else.</p>", "type": "rendered"}, "created_on": "2017-03-22T17:03:05.184215+00:00", "user": {"display_name": "Jeongseok Lee", "uuid": "{3907b560-aed7-43bd-bfa9-fd9873322291}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3907b560-aed7-43bd-bfa9-fd9873322291%7D"}, "html": {"href": "https://bitbucket.org/%7B3907b560-aed7-43bd-bfa9-fd9873322291%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/242819b368397b2b4cddf273b2ba9bf8d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJL-0.png"}}, "nickname": "jlee02", "type": "user", "account_id": "557058:e3fbdece-a1d8-4fb6-a9f1-236ecb09bd9d"}, "inline": {}, "updated_on": "2017-03-22T17:03:05.186538+00:00", "type": "pullrequest_comment", "id": 33665244}, "pull_request": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33664558.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33664558"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}, "content": {"raw": "dito: `const std::deque<const dart::collision::Contact *> &dtContacts`", "markup": "markdown", "html": "<p>dito: <code>const std::deque&lt;const dart::collision::Contact *&gt; &amp;dtContacts</code></p>", "type": "rendered"}, "created_on": "2017-03-22T16:55:16.032590+00:00", "user": {"display_name": "Jeongseok Lee", "uuid": "{3907b560-aed7-43bd-bfa9-fd9873322291}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3907b560-aed7-43bd-bfa9-fd9873322291%7D"}, "html": {"href": "https://bitbucket.org/%7B3907b560-aed7-43bd-bfa9-fd9873322291%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/242819b368397b2b4cddf273b2ba9bf8d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJL-0.png"}}, "nickname": "jlee02", "type": "user", "account_id": "557058:e3fbdece-a1d8-4fb6-a9f1-236ecb09bd9d"}, "inline": {}, "updated_on": "2017-03-22T16:55:16.034978+00:00", "type": "pullrequest_comment", "id": 33664558}, "pull_request": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33664390.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33664390"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}, "content": {"raw": "dito: `dart::dynamics::ShapeNode *node`", "markup": "markdown", "html": "<p>dito: <code>dart::dynamics::ShapeNode *node</code></p>", "type": "rendered"}, "created_on": "2017-03-22T16:53:18.805666+00:00", "user": {"display_name": "Jeongseok Lee", "uuid": "{3907b560-aed7-43bd-bfa9-fd9873322291}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3907b560-aed7-43bd-bfa9-fd9873322291%7D"}, "html": {"href": "https://bitbucket.org/%7B3907b560-aed7-43bd-bfa9-fd9873322291%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/242819b368397b2b4cddf273b2ba9bf8d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJL-0.png"}}, "nickname": "jlee02", "type": "user", "account_id": "557058:e3fbdece-a1d8-4fb6-a9f1-236ecb09bd9d"}, "inline": {}, "updated_on": "2017-03-22T16:53:18.809122+00:00", "type": "pullrequest_comment", "id": 33664390}, "pull_request": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33664313.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33664313"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}, "content": {"raw": "I believe the convention is `dart::dynamics::ShapeNode *node`.", "markup": "markdown", "html": "<p>I believe the convention is <code>dart::dynamics::ShapeNode *node</code>.</p>", "type": "rendered"}, "created_on": "2017-03-22T16:52:28.039719+00:00", "user": {"display_name": "Jeongseok Lee", "uuid": "{3907b560-aed7-43bd-bfa9-fd9873322291}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3907b560-aed7-43bd-bfa9-fd9873322291%7D"}, "html": {"href": "https://bitbucket.org/%7B3907b560-aed7-43bd-bfa9-fd9873322291%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/242819b368397b2b4cddf273b2ba9bf8d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJL-0.png"}}, "nickname": "jlee02", "type": "user", "account_id": "557058:e3fbdece-a1d8-4fb6-a9f1-236ecb09bd9d"}, "inline": {}, "updated_on": "2017-03-22T16:52:28.041931+00:00", "type": "pullrequest_comment", "id": 33664313}, "pull_request": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33664237.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33664237"}}, "parent": {"id": 33600774, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33600774.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33600774"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}, "content": {"raw": "Looks good overall. I just have a few nitpicks in terms of the styles.", "markup": "markdown", "html": "<p>Looks good overall. I just have a few nitpicks in terms of the styles.</p>", "type": "rendered"}, "created_on": "2017-03-22T16:51:38.601581+00:00", "user": {"display_name": "Jeongseok Lee", "uuid": "{3907b560-aed7-43bd-bfa9-fd9873322291}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3907b560-aed7-43bd-bfa9-fd9873322291%7D"}, "html": {"href": "https://bitbucket.org/%7B3907b560-aed7-43bd-bfa9-fd9873322291%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/242819b368397b2b4cddf273b2ba9bf8d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJL-0.png"}}, "nickname": "jlee02", "type": "user", "account_id": "557058:e3fbdece-a1d8-4fb6-a9f1-236ecb09bd9d"}, "updated_on": "2017-03-22T16:51:38.603969+00:00", "type": "pullrequest_comment", "id": 33664237}, "pull_request": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33600774.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33600774"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}, "content": {"raw": "This PR looks good to me now. @jlee02 do you have any thoughts? Just waiting for one more approval.", "markup": "markdown", "html": "<p>This PR looks good to me now. @jlee02 do you have any thoughts? Just waiting for one more approval.</p>", "type": "rendered"}, "created_on": "2017-03-22T00:24:07.731127+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-03-22T00:24:07.737570+00:00", "type": "pullrequest_comment", "id": 33600774}, "pull_request": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33414287.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33414287"}}, "parent": {"id": 33413015, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33413015.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33413015"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}, "content": {"raw": "looks great!", "markup": "markdown", "html": "<p>looks great!</p>", "type": "rendered"}, "created_on": "2017-03-18T07:20:46.868339+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-03-18T07:20:46.870637+00:00", "type": "pullrequest_comment", "id": 33414287}, "pull_request": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33413015.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33413015"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}, "content": {"raw": "I started another jenkins build with the changes\n\n[http://build.osrfoundation.org/view/upstream-dart/job/gazebo-any\\_dart4-devel-xenial-amd64-gpu-nvidia\\_docker/7/]()", "markup": "markdown", "html": "<p>I started another jenkins build with the changes</p>\n<p><a data-is-external-link=\"true\" href=\"\" rel=\"nofollow\">http://build.osrfoundation.org/view/upstream-dart/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/7/</a></p>", "type": "rendered"}, "created_on": "2017-03-18T01:59:59.514441+00:00", "user": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "updated_on": "2017-03-18T01:59:59.565129+00:00", "type": "pullrequest_comment", "id": 33413015}, "pull_request": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}}, {"update": {"description": "Changes required to run Gazebo with DART 6.\r\n\r\nThere are still 3 test failures related to DART which may need to be addressed or skipped for DART. The test failures don't seem to suggest anything too severe, but they point out some inaccuracies. This PR is a place to discuss what to do with these tests.\r\n\r\n### Test failure 1. JointForceTorqueTest.GetForceTorqueWithAppliedForce (and same for JointForceTorqueTest.GetForceTorqueWithAppliedForceReset)\r\n\r\nThe cubes are meant to be \"held up\" by the force set to the joints. When viewing with gzclient, the behaviour is exactly the same as with ODE, it's working as expected. However the force and torque of wrench01 fluctuate quite significantly ([-35..35], sometimes more or less), while they are expected to fluctuate only in the range [-2..2].  The fluctuations aren't smooth, they sometimes incur large jumps between iterations.\r\n\r\nMaybe the DART reaction to setting the force does not have an effect as immediate/accurate as with ODE, leading to the PID controller having to continuously adjust a higher error. Though movements are still too small to see in gzclient.\r\n\r\n### Test failure 2. JointTestScrew.ScrewJointForce\r\n\r\nThe exceeded tolerances are not that high (max 0.0036 on my system, tolerance is set to 1e-08), and seem to only affect the position, not the rotation. Maybe just allowing a higher tolerance for DART in this test will suffice? Though it could be an issue related to the other two test failures.\r\n\r\n### Test failure 3. JointTestScrew.WrapAngle\r\n\r\nThe velocity error starts off small but adds up significantly over time. This consequently affects the error in the angle as well after an initial delay. This could maybe be related to test failure 1 as it seems to be related to setting the force. It seems to be applying too much force as the velocity increases faster than expected.", "title": "Dart 6", "destination": {"commit": {"hash": "cd526975bc8b", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/cd526975bc8b.json"}, "html": {"href": "#!/osrf/gazebo/commits/cd526975bc8b"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "830853aed260", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo/commit/830853aed260"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo/commits/830853aed260"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{11522dd5-648b-4e9e-b908-d3e1170ba728}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "JenniferBuehler/gazebo", "uuid": "{11522dd5-648b-4e9e-b908-d3e1170ba728}"}, "branch": {"name": "dart-6"}}, "state": "OPEN", "author": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "date": "2017-03-18T01:32:49.422810+00:00"}, "pull_request": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33409391.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33409391"}}, "parent": {"id": 33409001, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33409001.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33409001"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}, "content": {"raw": "Aahh I was just sitting down to look at this right now, you beat me to it ;)\n\nThis is the same conclusion I've had when I first looked at it. The force values were fluctuating more (like a PID controller that does larger error corrections, at least larger than ODE was doing), but eventually the primitives stayed in place as with the other engines.\n\nThat's awesome, means the two test failures are eliminated, I agree that just a bit over 1000 more steps to allow it to converge is perfectly fine.\n\nI'll upload the style check changes in a bit, and will include the fixes for this test that you've posted above.\n\n\u200c", "markup": "markdown", "html": "<p>Aahh I was just sitting down to look at this right now, you beat me to it ;)</p>\n<p>This is the same conclusion I've had when I first looked at it. The force values were fluctuating more (like a PID controller that does larger error corrections, at least larger than ODE was doing), but eventually the primitives stayed in place as with the other engines.</p>\n<p>That's awesome, means the two test failures are eliminated, I agree that just a bit over 1000 more steps to allow it to converge is perfectly fine.</p>\n<p>I'll upload the style check changes in a bit, and will include the fixes for this test that you've posted above.</p>\n<p>\u200c</p>", "type": "rendered"}, "created_on": "2017-03-17T21:54:07.042002+00:00", "user": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "updated_on": "2017-03-17T21:54:07.100321+00:00", "type": "pullrequest_comment", "id": 33409391}, "pull_request": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33409001.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33409001"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}, "content": {"raw": "I debugged the force torque test, and the test involves apply feedback control to some joints and then expecting specific force/torque values. I reproduced the test interactively, and I found that it eventually reached the desired values, but it takes a little longer to converge. So if we increase the number of test timesteps, then the test passes for me, which is reasonable to me:\n\n~~~\ndiff -r 0cfe322af3ca test/integration/joint_force_torque.cc\n--- a/test/integration/joint_force_torque.cc\tThu Mar 16 13:27:45 2017 +1100\n+++ b/test/integration/joint_force_torque.cc\tFri Mar 17 14:37:24 2017 -0700\n@@ -366,7 +366,8 @@\n   static const double kp2 = 10000.0;\n   static const double target1 = 0.0;\n   static const double target2 = -0.25*M_PI;\n-  for (unsigned int i = 0; i < 3388; ++i)\n+  static const unsigned int steps = 4500;\n+  for (unsigned int i = 0; i < steps; ++i)\n   {\n     // pd control\n     double j1State = joint_01->Position(0);\n@@ -382,7 +383,7 @@\n     // test joint_01 wrench\n     physics::JointWrench wrench_01 = joint_01->GetForceTorque(0u);\n \n-    if (i == 3387)\n+    if (i == steps-1)\n     {\n       EXPECT_NEAR(wrench_01.body1Force.X(),     0.0, TOL_CONT);\n       EXPECT_NEAR(wrench_01.body1Force.Y(),     0.0, TOL_CONT);\n@@ -417,7 +418,7 @@\n \n     // test joint_12 wrench\n     physics::JointWrench wrench_12 = joint_12->GetForceTorque(0u);\n-    if (i == 3387)\n+    if (i == steps-1)\n     {\n       EXPECT_NEAR(wrench_12.body1Force.X(),     0.0, TOL_CONT);\n       EXPECT_NEAR(wrench_12.body1Force.Y(),     0.0, TOL_CONT);\n@@ -497,10 +498,11 @@\n   static const double kp2 = 10000.0;\n   static const double target1 = 0.0;\n   static const double target2 = -0.25*M_PI;\n+  static const unsigned int steps = 4500;\n \n   for (unsigned int j = 0; j < 2; ++j)\n   {\n-    for (unsigned int i = 0; i < 3388; ++i)\n+    for (unsigned int i = 0; i < steps; ++i)\n     {\n       // pd control\n       double j1State = joint_01->Position(0);\n@@ -516,7 +518,7 @@\n       // test joint_01 wrench\n       physics::JointWrench wrench_01 = joint_01->GetForceTorque(0u);\n \n-      if (i < 3387)\n+      if (i < steps-1)\n         continue;\n \n       EXPECT_NEAR(wrench_01.body1Force.X(),     0.0, TOL_CONT);\n~~~", "markup": "markdown", "html": "<p>I debugged the force torque test, and the test involves apply feedback control to some joints and then expecting specific force/torque values. I reproduced the test interactively, and I found that it eventually reached the desired values, but it takes a little longer to converge. So if we increase the number of test timesteps, then the test passes for me, which is reasonable to me:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gh\">diff -r 0cfe322af3ca test/integration/joint_force_torque.cc</span>\n<span class=\"gd\">--- a/test/integration/joint_force_torque.cc    Thu Mar 16 13:27:45 2017 +1100</span>\n<span class=\"gi\">+++ b/test/integration/joint_force_torque.cc    Fri Mar 17 14:37:24 2017 -0700</span>\n<span class=\"gu\">@@ -366,7 +366,8 @@</span>\n   static const double kp2 = 10000.0;\n   static const double target1 = 0.0;\n   static const double target2 = -0.25*M_PI;\n<span class=\"gd\">-  for (unsigned int i = 0; i &lt; 3388; ++i)</span>\n<span class=\"gi\">+  static const unsigned int steps = 4500;</span>\n<span class=\"gi\">+  for (unsigned int i = 0; i &lt; steps; ++i)</span>\n   {\n     // pd control\n     double j1State = joint_01-&gt;Position(0);\n<span class=\"gu\">@@ -382,7 +383,7 @@</span>\n     // test joint_01 wrench\n     physics::JointWrench wrench_01 = joint_01-&gt;GetForceTorque(0u);\n\n<span class=\"gd\">-    if (i == 3387)</span>\n<span class=\"gi\">+    if (i == steps-1)</span>\n     {\n       EXPECT_NEAR(wrench_01.body1Force.X(),     0.0, TOL_CONT);\n       EXPECT_NEAR(wrench_01.body1Force.Y(),     0.0, TOL_CONT);\n<span class=\"gu\">@@ -417,7 +418,7 @@</span>\n\n     // test joint_12 wrench\n     physics::JointWrench wrench_12 = joint_12-&gt;GetForceTorque(0u);\n<span class=\"gd\">-    if (i == 3387)</span>\n<span class=\"gi\">+    if (i == steps-1)</span>\n     {\n       EXPECT_NEAR(wrench_12.body1Force.X(),     0.0, TOL_CONT);\n       EXPECT_NEAR(wrench_12.body1Force.Y(),     0.0, TOL_CONT);\n<span class=\"gu\">@@ -497,10 +498,11 @@</span>\n   static const double kp2 = 10000.0;\n   static const double target1 = 0.0;\n   static const double target2 = -0.25*M_PI;\n<span class=\"gi\">+  static const unsigned int steps = 4500;</span>\n\n   for (unsigned int j = 0; j &lt; 2; ++j)\n   {\n<span class=\"gd\">-    for (unsigned int i = 0; i &lt; 3388; ++i)</span>\n<span class=\"gi\">+    for (unsigned int i = 0; i &lt; steps; ++i)</span>\n     {\n       // pd control\n       double j1State = joint_01-&gt;Position(0);\n<span class=\"gu\">@@ -516,7 +518,7 @@</span>\n       // test joint_01 wrench\n       physics::JointWrench wrench_01 = joint_01-&gt;GetForceTorque(0u);\n\n<span class=\"gd\">-      if (i &lt; 3387)</span>\n<span class=\"gi\">+      if (i &lt; steps-1)</span>\n         continue;\n\n       EXPECT_NEAR(wrench_01.body1Force.X(),     0.0, TOL_CONT);\n</pre></div>", "type": "rendered"}, "created_on": "2017-03-17T21:40:44.932735+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-03-17T21:40:44.936583+00:00", "type": "pullrequest_comment", "id": 33409001}, "pull_request": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33340794.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33340794"}}, "parent": {"id": 33336846, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33336846.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33336846"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}, "content": {"raw": "If you sort the list by type, I would ignore all the `noExplicitConstructor` and `redundantAssignment` errors, but it looks like there are some other code check errors from this PR and from pull request #2622.", "markup": "markdown", "html": "<p>If you sort the list by type, I would ignore all the <code>noExplicitConstructor</code> and <code>redundantAssignment</code> errors, but it looks like there are some other code check errors from this PR and from <a href=\"#!/osrf/gazebo/pull-requests/2622/deprecate-functions-to-set-linear-angular\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #2622</a>.</p>", "type": "rendered"}, "created_on": "2017-03-17T03:12:57.587205+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-03-17T03:12:57.589745+00:00", "type": "pullrequest_comment", "id": 33340794}, "pull_request": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33336846.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33336846"}}, "parent": {"id": 33332435, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33332435.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33332435"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}, "content": {"raw": "Should I fix also the ones not related to dart, or should that rather be done separately?", "markup": "markdown", "html": "<p>Should I fix also the ones not related to dart, or should that rather be done separately?</p>", "type": "rendered"}, "created_on": "2017-03-17T00:21:25.805265+00:00", "user": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "updated_on": "2017-03-17T00:21:25.846703+00:00", "type": "pullrequest_comment", "id": 33336846}, "pull_request": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33332435.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33332435"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}, "content": {"raw": "There are still some code_check style errors:\n\n* http://build.osrfoundation.org/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/6/cppcheckResult/", "markup": "markdown", "html": "<p>There are still some code_check style errors:</p>\n<ul>\n<li><a href=\"http://build.osrfoundation.org/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/6/cppcheckResult/\" rel=\"nofollow\" class=\"ap-connect-link\">http://build.osrfoundation.org/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/6/cppcheckResult/</a></li>\n</ul>", "type": "rendered"}, "created_on": "2017-03-16T22:19:21.336364+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-03-16T22:19:21.338747+00:00", "type": "pullrequest_comment", "id": 33332435}, "pull_request": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33319053.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33319053"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}, "content": {"raw": "I just started another jenkins build:\n\n* http://build.osrfoundation.org/view/upstream-dart/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/6/", "markup": "markdown", "html": "<p>I just started another jenkins build:</p>\n<ul>\n<li><a href=\"http://build.osrfoundation.org/view/upstream-dart/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/6/\" rel=\"nofollow\" class=\"ap-connect-link\">http://build.osrfoundation.org/view/upstream-dart/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/6/</a></li>\n</ul>", "type": "rendered"}, "created_on": "2017-03-16T18:15:52.840184+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-03-16T18:15:52.843387+00:00", "type": "pullrequest_comment", "id": 33319053}, "pull_request": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33255402.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33255402"}}, "parent": {"id": 33253386, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33253386.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33253386"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}, "content": {"raw": "Thanks for looking into this! I just pushed another change which fixes an issue I had with the mesh shapes not having a ShapeNode. The problem came up when trying to build the bounding box.\n\nI am going to look at the `joint_force_torque` test on the weekend. Will see if I get new insights compared to my quick check a few weeks ago.", "markup": "markdown", "html": "<p>Thanks for looking into this! I just pushed another change which fixes an issue I had with the mesh shapes not having a ShapeNode. The problem came up when trying to build the bounding box.</p>\n<p>I am going to look at the <code>joint_force_torque</code> test on the weekend. Will see if I get new insights compared to my quick check a few weeks ago.</p>", "type": "rendered"}, "created_on": "2017-03-16T02:33:30.135156+00:00", "user": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "updated_on": "2017-03-16T02:33:39.967710+00:00", "type": "pullrequest_comment", "id": 33255402}, "pull_request": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}}, {"update": {"description": "Changes required to run Gazebo with DART 6.\r\n\r\nThere are still 3 test failures related to DART which may need to be addressed or skipped for DART. The test failures don't seem to suggest anything too severe, but they point out some inaccuracies. This PR is a place to discuss what to do with these tests.\r\n\r\n### Test failure 1. JointForceTorqueTest.GetForceTorqueWithAppliedForce (and same for JointForceTorqueTest.GetForceTorqueWithAppliedForceReset)\r\n\r\nThe cubes are meant to be \"held up\" by the force set to the joints. When viewing with gzclient, the behaviour is exactly the same as with ODE, it's working as expected. However the force and torque of wrench01 fluctuate quite significantly ([-35..35], sometimes more or less), while they are expected to fluctuate only in the range [-2..2].  The fluctuations aren't smooth, they sometimes incur large jumps between iterations.\r\n\r\nMaybe the DART reaction to setting the force does not have an effect as immediate/accurate as with ODE, leading to the PID controller having to continuously adjust a higher error. Though movements are still too small to see in gzclient.\r\n\r\n### Test failure 2. JointTestScrew.ScrewJointForce\r\n\r\nThe exceeded tolerances are not that high (max 0.0036 on my system, tolerance is set to 1e-08), and seem to only affect the position, not the rotation. Maybe just allowing a higher tolerance for DART in this test will suffice? Though it could be an issue related to the other two test failures.\r\n\r\n### Test failure 3. JointTestScrew.WrapAngle\r\n\r\nThe velocity error starts off small but adds up significantly over time. This consequently affects the error in the angle as well after an initial delay. This could maybe be related to test failure 1 as it seems to be related to setting the force. It seems to be applying too much force as the velocity increases faster than expected.", "title": "Dart 6", "destination": {"commit": {"hash": "cd526975bc8b", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/cd526975bc8b.json"}, "html": {"href": "#!/osrf/gazebo/commits/cd526975bc8b"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "0cfe322af3ca", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo/commit/0cfe322af3ca"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo/commits/0cfe322af3ca"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{11522dd5-648b-4e9e-b908-d3e1170ba728}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "JenniferBuehler/gazebo", "uuid": "{11522dd5-648b-4e9e-b908-d3e1170ba728}"}, "branch": {"name": "dart-6"}}, "state": "OPEN", "author": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "date": "2017-03-16T02:28:27.995980+00:00"}, "pull_request": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33253386.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33253386"}}, "parent": {"id": 33253066, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33253066.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33253066"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}, "content": {"raw": "to clarify, this fixes the `joint_screw` tests, though the `joint_force_torque` tests still have some issues", "markup": "markdown", "html": "<p>to clarify, this fixes the <code>joint_screw</code> tests, though the <code>joint_force_torque</code> tests still have some issues</p>", "type": "rendered"}, "created_on": "2017-03-16T00:52:52.926198+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-03-16T00:52:52.928409+00:00", "type": "pullrequest_comment", "id": 33253386}, "pull_request": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33253268.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33253268"}}, "parent": {"id": 33246784, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33246784.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33246784"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}, "content": {"raw": "I think this is working fine actually", "markup": "markdown", "html": "<p>I think this is working fine actually</p>", "type": "rendered"}, "created_on": "2017-03-16T00:47:04.029682+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-03-16T00:47:04.031901+00:00", "type": "pullrequest_comment", "id": 33253268}, "pull_request": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33253259.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33253259"}}, "parent": {"id": 33253066, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33253066.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33253066"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}, "content": {"raw": "never mind, I think the Invert function is working fine", "markup": "markdown", "html": "<p>never mind, I think the Invert function is working fine</p>", "type": "rendered"}, "created_on": "2017-03-16T00:46:38.762438+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-03-16T00:46:38.765873+00:00", "type": "pullrequest_comment", "id": 33253259}, "pull_request": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33253066.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33253066"}}, "parent": {"id": 33250175, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33250175.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33250175"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}, "content": {"raw": "That fixes the test, though I suspect there is still an issue with our conversion functions. I'll see if we need more test expectations.", "markup": "markdown", "html": "<p>That fixes the test, though I suspect there is still an issue with our conversion functions. I'll see if we need more test expectations.</p>", "type": "rendered"}, "created_on": "2017-03-16T00:39:16.049634+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-03-16T00:39:16.052343+00:00", "type": "pullrequest_comment", "id": 33253066}, "pull_request": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33250175.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33250175"}}, "parent": {"id": 33245505, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33245505.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33245505"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}, "content": {"raw": "I've created a [pull request](https://github.com/dartsim/dart/pull/855) for the fix of (1).", "markup": "markdown", "html": "<p>I've created a <a data-is-external-link=\"true\" href=\"https://github.com/dartsim/dart/pull/855\" rel=\"nofollow\">pull request</a> for the fix of (1).</p>", "type": "rendered"}, "created_on": "2017-03-15T23:02:42.331227+00:00", "user": {"display_name": "Jeongseok Lee", "uuid": "{3907b560-aed7-43bd-bfa9-fd9873322291}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3907b560-aed7-43bd-bfa9-fd9873322291%7D"}, "html": {"href": "https://bitbucket.org/%7B3907b560-aed7-43bd-bfa9-fd9873322291%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/242819b368397b2b4cddf273b2ba9bf8d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJL-0.png"}}, "nickname": "jlee02", "type": "user", "account_id": "557058:e3fbdece-a1d8-4fb6-a9f1-236ecb09bd9d"}, "updated_on": "2017-03-15T23:02:42.333779+00:00", "type": "pullrequest_comment", "id": 33250175}, "pull_request": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33247217.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33247217"}}, "parent": {"id": 33246784, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33246784.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33246784"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}, "content": {"raw": "I agree. We might need to have two functions like `ConvToDartThreadPitch()` and `ConvFromDartThreadPitch()`, and use them accordingly.", "markup": "markdown", "html": "<p>I agree. We might need to have two functions like <code>ConvToDartThreadPitch()</code> and <code>ConvFromDartThreadPitch()</code>, and use them accordingly.</p>", "type": "rendered"}, "created_on": "2017-03-15T21:57:27.621907+00:00", "user": {"display_name": "Jeongseok Lee", "uuid": "{3907b560-aed7-43bd-bfa9-fd9873322291}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3907b560-aed7-43bd-bfa9-fd9873322291%7D"}, "html": {"href": "https://bitbucket.org/%7B3907b560-aed7-43bd-bfa9-fd9873322291%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/242819b368397b2b4cddf273b2ba9bf8d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJL-0.png"}}, "nickname": "jlee02", "type": "user", "account_id": "557058:e3fbdece-a1d8-4fb6-a9f1-236ecb09bd9d"}, "updated_on": "2017-03-15T21:57:45.621099+00:00", "type": "pullrequest_comment", "id": 33247217}, "pull_request": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33246784.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33246784"}}, "parent": {"id": 33246570, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33246570.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33246570"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}, "content": {"raw": "There may also be a problem with our [DARTTypes::InvertThreadPitch(double) function](#!/osrf/gazebo/src/cd526975bc8bdf3813e0600e3ece180870602471/gazebo/physics/dart/DARTTypes.hh?fileviewer=file-view-default#DARTTypes.hh-142), since it is being used by both `SetThreadPitch` and `GetThreadPitch`, but it is not an inverse of itself, since it keeps multiplying by `2*pi` each time it is called.", "markup": "markdown", "html": "<p>There may also be a problem with our <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/cd526975bc8bdf3813e0600e3ece180870602471/gazebo/physics/dart/DARTTypes.hh?fileviewer=file-view-default#DARTTypes.hh-142\" rel=\"nofollow\">DARTTypes::InvertThreadPitch(double) function</a>, since it is being used by both <code>SetThreadPitch</code> and <code>GetThreadPitch</code>, but it is not an inverse of itself, since it keeps multiplying by <code>2*pi</code> each time it is called.</p>", "type": "rendered"}, "created_on": "2017-03-15T21:49:17.150962+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-03-15T21:49:17.154595+00:00", "type": "pullrequest_comment", "id": 33246784}, "pull_request": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33246570.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33246570"}}, "parent": {"id": 33245505, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33245505.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33245505"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}, "content": {"raw": "I think this has something to do with (1) a bug in DART 6 that I just found and (2) probably the different definitions of thread pitch in DART and Gazebo.\n\n(1): The bug in DART is that I made a mistake of using `0.5 pi` for the inverse of `2 pi`.\n\n(2): The definition of pitch in DART is advance per one rotation (`m / 2 pi`). I remember we've used the conversion function for this. Let me take a look at the code for sure.\n\nEdit: [This](https://bitbucket.org/JenniferBuehler/gazebo/src/12f2f6b7b0f4e429e9207c0109232883deb3551b/gazebo/physics/dart/DARTTypes.hh?at=dart-6&fileviewer=file-view-default#DARTTypes.hh-131) is the conversion function.", "markup": "markdown", "html": "<p>I think this has something to do with (1) a bug in DART 6 that I just found and (2) probably the different definitions of thread pitch in DART and Gazebo.</p>\n<p>(1): The bug in DART is that I made a mistake of using <code>0.5 pi</code> for the inverse of <code>2 pi</code>.</p>\n<p>(2): The definition of pitch in DART is advance per one rotation (<code>m / 2 pi</code>). I remember we've used the conversion function for this. Let me take a look at the code for sure.</p>\n<p>Edit: <a data-is-external-link=\"true\" href=\"https://bitbucket.org/JenniferBuehler/gazebo/src/12f2f6b7b0f4e429e9207c0109232883deb3551b/gazebo/physics/dart/DARTTypes.hh?at=dart-6&amp;fileviewer=file-view-default#DARTTypes.hh-131\" rel=\"nofollow\">This</a> is the conversion function.</p>", "type": "rendered"}, "created_on": "2017-03-15T21:44:36.853926+00:00", "user": {"display_name": "Jeongseok Lee", "uuid": "{3907b560-aed7-43bd-bfa9-fd9873322291}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3907b560-aed7-43bd-bfa9-fd9873322291%7D"}, "html": {"href": "https://bitbucket.org/%7B3907b560-aed7-43bd-bfa9-fd9873322291%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/242819b368397b2b4cddf273b2ba9bf8d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJL-0.png"}}, "nickname": "jlee02", "type": "user", "account_id": "557058:e3fbdece-a1d8-4fb6-a9f1-236ecb09bd9d"}, "updated_on": "2017-03-15T21:47:47.477167+00:00", "type": "pullrequest_comment", "id": 33246570}, "pull_request": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33245505.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33245505"}}, "parent": {"id": 33149101, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33149101.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33149101"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}, "content": {"raw": "the default thread pitch in dart is 0.1 (inverse of 10). so somehow we are getting the default thread pitch instead of the desired value of 1.0?\n\n@jlee02 I'm having trouble setting the thread pitch in dart6. Do you have any ideas what may be wrong?", "markup": "markdown", "html": "<p>the default thread pitch in dart is 0.1 (inverse of 10). so somehow we are getting the default thread pitch instead of the desired value of 1.0?</p>\n<p>@jlee02 I'm having trouble setting the thread pitch in dart6. Do you have any ideas what may be wrong?</p>", "type": "rendered"}, "created_on": "2017-03-15T21:22:50.259493+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-03-15T21:22:50.268565+00:00", "type": "pullrequest_comment", "id": 33245505}, "pull_request": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33245411.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33245411"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}, "content": {"raw": "disalbe -> disable in two places on this line", "markup": "markdown", "html": "<p>disalbe -&gt; disable in two places on this line</p>", "type": "rendered"}, "created_on": "2017-03-15T21:21:13.080175+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2017-03-15T21:21:13.083652+00:00", "type": "pullrequest_comment", "id": 33245411}, "pull_request": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33245383.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33245383"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}, "content": {"raw": "we don't need these debugging lines", "markup": "markdown", "html": "<p>we don't need these debugging lines</p>", "type": "rendered"}, "created_on": "2017-03-15T21:20:43.701015+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2017-03-15T21:20:43.703572+00:00", "type": "pullrequest_comment", "id": 33245383}, "pull_request": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/33149101.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-33149101"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}, "content": {"raw": "I just tried debugging the `JointTestScrew.WrapAngle` test for DART, and it looks like the thread pitch is not correct. The test assumes a thread pitch of 1.0 (1 radian <=> 1 meter), but I connected a `gzclient` to the test and observed a thread pitch of 10 meters / radian. Something is off by a factor of 10. Maybe the default thread pitch has changed in dart6?", "markup": "markdown", "html": "<p>I just tried debugging the <code>JointTestScrew.WrapAngle</code> test for DART, and it looks like the thread pitch is not correct. The test assumes a thread pitch of 1.0 (1 radian &lt;=&gt; 1 meter), but I connected a <code>gzclient</code> to the test and observed a thread pitch of 10 meters / radian. Something is off by a factor of 10. Maybe the default thread pitch has changed in dart6?</p>", "type": "rendered"}, "created_on": "2017-03-14T18:52:01.216676+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-03-14T18:52:01.222134+00:00", "type": "pullrequest_comment", "id": 33149101}, "pull_request": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}}, {"update": {"description": "Changes required to run Gazebo with DART 6.\r\n\r\nThere are still 3 test failures related to DART which may need to be addressed or skipped for DART. The test failures don't seem to suggest anything too severe, but they point out some inaccuracies. This PR is a place to discuss what to do with these tests.\r\n\r\n### Test failure 1. JointForceTorqueTest.GetForceTorqueWithAppliedForce (and same for JointForceTorqueTest.GetForceTorqueWithAppliedForceReset)\r\n\r\nThe cubes are meant to be \"held up\" by the force set to the joints. When viewing with gzclient, the behaviour is exactly the same as with ODE, it's working as expected. However the force and torque of wrench01 fluctuate quite significantly ([-35..35], sometimes more or less), while they are expected to fluctuate only in the range [-2..2].  The fluctuations aren't smooth, they sometimes incur large jumps between iterations.\r\n\r\nMaybe the DART reaction to setting the force does not have an effect as immediate/accurate as with ODE, leading to the PID controller having to continuously adjust a higher error. Though movements are still too small to see in gzclient.\r\n\r\n### Test failure 2. JointTestScrew.ScrewJointForce\r\n\r\nThe exceeded tolerances are not that high (max 0.0036 on my system, tolerance is set to 1e-08), and seem to only affect the position, not the rotation. Maybe just allowing a higher tolerance for DART in this test will suffice? Though it could be an issue related to the other two test failures.\r\n\r\n### Test failure 3. JointTestScrew.WrapAngle\r\n\r\nThe velocity error starts off small but adds up significantly over time. This consequently affects the error in the angle as well after an initial delay. This could maybe be related to test failure 1 as it seems to be related to setting the force. It seems to be applying too much force as the velocity increases faster than expected.", "title": "Dart 6", "destination": {"commit": {"hash": "cd526975bc8b", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/cd526975bc8b.json"}, "html": {"href": "#!/osrf/gazebo/commits/cd526975bc8b"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "12f2f6b7b0f4", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo/commit/12f2f6b7b0f4"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo/commits/12f2f6b7b0f4"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{11522dd5-648b-4e9e-b908-d3e1170ba728}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "JenniferBuehler/gazebo", "uuid": "{11522dd5-648b-4e9e-b908-d3e1170ba728}"}, "branch": {"name": "dart-6"}}, "state": "OPEN", "author": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "date": "2017-03-09T03:44:13.746711+00:00"}, "pull_request": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}}, {"update": {"description": "Changes required to run Gazebo with DART 6.\r\n\r\nThere are still 3 test failures related to DART which may need to be addressed or skipped for DART. The test failures don't seem to suggest anything too severe, but they point out some inaccuracies. This PR is a place to discuss what to do with these tests.\r\n\r\n### Test failure 1. JointForceTorqueTest.GetForceTorqueWithAppliedForce (and same for JointForceTorqueTest.GetForceTorqueWithAppliedForceReset)\r\n\r\nThe cubes are meant to be \"held up\" by the force set to the joints. When viewing with gzclient, the behaviour is exactly the same as with ODE, it's working as expected. However the force and torque of wrench01 fluctuate quite significantly ([-35..35], sometimes more or less), while they are expected to fluctuate only in the range [-2..2].  The fluctuations aren't smooth, they sometimes incur large jumps between iterations.\r\n\r\nMaybe the DART reaction to setting the force does not have an effect as immediate/accurate as with ODE, leading to the PID controller having to continuously adjust a higher error. Though movements are still too small to see in gzclient.\r\n\r\n### Test failure 2. JointTestScrew.ScrewJointForce\r\n\r\nThe exceeded tolerances are not that high (max 0.0036 on my system, tolerance is set to 1e-08), and seem to only affect the position, not the rotation. Maybe just allowing a higher tolerance for DART in this test will suffice? Though it could be an issue related to the other two test failures.\r\n\r\n### Test failure 3. JointTestScrew.WrapAngle\r\n\r\nThe velocity error starts off small but adds up significantly over time. This consequently affects the error in the angle as well after an initial delay. This could maybe be related to test failure 1 as it seems to be related to setting the force. It seems to be applying too much force as the velocity increases faster than expected.", "title": "Dart 6", "destination": {"commit": {"hash": "cd526975bc8b", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/cd526975bc8b.json"}, "html": {"href": "#!/osrf/gazebo/commits/cd526975bc8b"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "6a03be9bf56b", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo/commit/6a03be9bf56b"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo/commits/6a03be9bf56b"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{11522dd5-648b-4e9e-b908-d3e1170ba728}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "JenniferBuehler/gazebo", "uuid": "{11522dd5-648b-4e9e-b908-d3e1170ba728}"}, "branch": {"name": "dart-6"}}, "state": "OPEN", "author": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "date": "2017-03-08T09:00:56.304179+00:00"}, "pull_request": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/30590541.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-30590541"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}, "content": {"raw": "Here's the new link to the xenial jenkins project:\n\n[http://build.osrfoundation.org/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/](http://build.osrfoundation.org/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/)", "markup": "markdown", "html": "<p>Here's the new link to the xenial jenkins project:</p>\n<p><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/\" rel=\"nofollow\">http://build.osrfoundation.org/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/</a></p>", "type": "rendered"}, "created_on": "2017-01-31T07:05:37.068211+00:00", "user": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "updated_on": "2017-01-31T07:05:37.133032+00:00", "type": "pullrequest_comment", "id": 30590541}, "pull_request": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}}, {"update": {"description": "Changes required to run Gazebo with DART 6.\r\n\r\nThere are still 3 test failures related to DART which may need to be addressed or skipped for DART. The test failures don't seem to suggest anything too severe, but they point out some inaccuracies. This PR is a place to discuss what to do with these tests.\r\n\r\n### Test failure 1. JointForceTorqueTest.GetForceTorqueWithAppliedForce (and same for JointForceTorqueTest.GetForceTorqueWithAppliedForceReset)\r\n\r\nThe cubes are meant to be \"held up\" by the force set to the joints. When viewing with gzclient, the behaviour is exactly the same as with ODE, it's working as expected. However the force and torque of wrench01 fluctuate quite significantly ([-35..35], sometimes more or less), while they are expected to fluctuate only in the range [-2..2].  The fluctuations aren't smooth, they sometimes incur large jumps between iterations.\r\n\r\nMaybe the DART reaction to setting the force does not have an effect as immediate/accurate as with ODE, leading to the PID controller having to continuously adjust a higher error. Though movements are still too small to see in gzclient.\r\n\r\n### Test failure 2. JointTestScrew.ScrewJointForce\r\n\r\nThe exceeded tolerances are not that high (max 0.0036 on my system, tolerance is set to 1e-08), and seem to only affect the position, not the rotation. Maybe just allowing a higher tolerance for DART in this test will suffice? Though it could be an issue related to the other two test failures.\r\n\r\n### Test failure 3. JointTestScrew.WrapAngle\r\n\r\nThe velocity error starts off small but adds up significantly over time. This consequently affects the error in the angle as well after an initial delay. This could maybe be related to test failure 1 as it seems to be related to setting the force. It seems to be applying too much force as the velocity increases faster than expected.", "title": "Dart 6", "destination": {"commit": {"hash": "7a341084eb8a", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/7a341084eb8a.json"}, "html": {"href": "#!/osrf/gazebo/commits/7a341084eb8a"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "6522165fb7a6", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo/commit/6522165fb7a6"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo/commits/6522165fb7a6"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/JenniferBuehler/gazebo"}, "html": {"href": "https://bitbucket.org/JenniferBuehler/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{11522dd5-648b-4e9e-b908-d3e1170ba728}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "JenniferBuehler/gazebo", "uuid": "{11522dd5-648b-4e9e-b908-d3e1170ba728}"}, "branch": {"name": "dart-6"}}, "state": "OPEN", "author": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "date": "2017-01-31T06:45:14.286161+00:00"}, "pull_request": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}}], "next": "data/repositories/osrf/gazebo/pullrequests/2547/activity_ctx=5dhpaI4So.json"}