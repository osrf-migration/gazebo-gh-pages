{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/36075659.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-36075659"}}, "parent": {"id": 36022799, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547/comments/36022799.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547/_/diff#comment-36022799"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2547, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2547.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2547"}}, "title": "Dart 6"}, "content": {"raw": "Well, the turtlebot (and other with multiple parent joints) won't really work, the models aren't properly added because DART doesn't support them. But the simulator doesn't crash and only prints an error. That's probably what you meant, I assume?\nFor the turtlebot, the multiple parent joints are a model design flaw, it doesn't really need it. We should separately consider to update the model accordingly maybe.\n\nI also found the bug in DART. It was a bit of a pain to find because it didn't happen in debug mode - I've put a lot of extra checks in the code which I have to clean up before submitting a PR to dart 6. But it's confirmed it was a DART issue, not a Gazebo issue: A tangent with zero length in dart's ``ContactConstraint::getTangentBasisMatrixODE()`` was normalized and produced NaN values, which propagated down a long chain of function calls. DART should probably not produce 0 length contact normals to start with, but that could be another issue to follow up on. Anyway, that's definitely separate to this PR.", "markup": "markdown", "html": "<p>Well, the turtlebot (and other with multiple parent joints) won't really work, the models aren't properly added because DART doesn't support them. But the simulator doesn't crash and only prints an error. That's probably what you meant, I assume?\nFor the turtlebot, the multiple parent joints are a model design flaw, it doesn't really need it. We should separately consider to update the model accordingly maybe.</p>\n<p>I also found the bug in DART. It was a bit of a pain to find because it didn't happen in debug mode - I've put a lot of extra checks in the code which I have to clean up before submitting a PR to dart 6. But it's confirmed it was a DART issue, not a Gazebo issue: A tangent with zero length in dart's <code>ContactConstraint::getTangentBasisMatrixODE()</code> was normalized and produced NaN values, which propagated down a long chain of function calls. DART should probably not produce 0 length contact normals to start with, but that could be another issue to follow up on. Anyway, that's definitely separate to this PR.</p>", "type": "rendered"}, "created_on": "2017-05-02T14:46:14.214947+00:00", "user": {"display_name": "Jennifer Buehler", "uuid": "{5949baad-8c43-4d52-9a82-bb8c3511fed8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D"}, "html": {"href": "https://bitbucket.org/%7B5949baad-8c43-4d52-9a82-bb8c3511fed8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b28ae0e95eada6ee16f0860c1fa59fdcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-4.png"}}, "nickname": "JenniferBuehler", "type": "user", "account_id": "557058:96bd489a-ec14-4a06-8d31-7bb6d46d1209"}, "updated_on": "2017-05-02T14:46:14.315784+00:00", "type": "pullrequest_comment", "id": 36075659}