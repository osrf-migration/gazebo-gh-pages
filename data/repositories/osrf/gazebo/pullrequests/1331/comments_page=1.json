{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331/comments/4206425.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331/_/diff#comment-4206425"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1331, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331"}}, "title": "Model Editor: Snap tool"}, "content": {"raw": "Can you list the steps in order to reproduce the crash? \n\nI also observe some snapping issues:\n\n- in normal gazebo mode, you can snap a model to a link created in  model editor but it pops back to it's original position immediately afterwards\n\n- in editor mode, you can snap a link to a normal model. Insert another link and snapping it to the model again causes weird snapping behavior.", "markup": "markdown", "html": "<p>Can you list the steps in order to reproduce the crash? </p>\n<p>I also observe some snapping issues:</p>\n<ul>\n<li>\n<p>in normal gazebo mode, you can snap a model to a link created in  model editor but it pops back to it's original position immediately afterwards</p>\n</li>\n<li>\n<p>in editor mode, you can snap a link to a normal model. Insert another link and snapping it to the model again causes weird snapping behavior.</p>\n</li>\n</ul>", "type": "rendered"}, "created_on": "2014-12-08T20:48:59.936971+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2014-12-08T20:48:59.944417+00:00", "type": "pullrequest_comment", "id": 4206425}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331/comments/4206469.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331/_/diff#comment-4206469"}}, "parent": {"id": 4206425, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331/comments/4206425.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331/_/diff#comment-4206425"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1331, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331"}}, "title": "Model Editor: Snap tool"}, "content": {"raw": "Crash:\n\n1. Enter the model editor, insert 2 parts, snap one to the other.\n\n2. Done -> Save  -- Gazebo crashes.\n\nBut if after step 1 you insert another part and snap something to that or that to something, Done -> Save properly brings you back to the main window", "markup": "markdown", "html": "<p>Crash:</p>\n<ol>\n<li>\n<p>Enter the model editor, insert 2 parts, snap one to the other.</p>\n</li>\n<li>\n<p>Done -&gt; Save  -- Gazebo crashes.</p>\n</li>\n</ol>\n<p>But if after step 1 you insert another part and snap something to that or that to something, Done -&gt; Save properly brings you back to the main window</p>", "type": "rendered"}, "created_on": "2014-12-08T20:51:40.003850+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2014-12-08T20:51:40.014349+00:00", "type": "pullrequest_comment", "id": 4206469}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331/comments/4206782.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331/_/diff#comment-4206782"}}, "parent": {"id": 4206469, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331/comments/4206469.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331/_/diff#comment-4206469"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1331, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331"}}, "title": "Model Editor: Snap tool"}, "content": {"raw": "I ran gzclient in gdb, reproduced this crash, and got this stack trace:\n\n```\nProgram received signal SIGSEGV, Segmentation fault.\n0x00007ffff76260dd in gazebo::rendering::Visual::SetVisible (this=0x4ec7e10, \n    _visible=_visible@entry=false, _cascade=_cascade@entry=true)\n    at /home/jackie/gazebo/gazebo/rendering/Visual.cc:1512\n1512\t  this->dataPtr->sceneNode->setVisible(_visible, _cascade);\n(gdb) bt\n#0  0x00007ffff76260dd in gazebo::rendering::Visual::SetVisible (\n    this=0x4ec7e10, _visible=_visible@entry=false, \n    _cascade=_cascade@entry=true)\n    at /home/jackie/gazebo/gazebo/rendering/Visual.cc:1512\n#1  0x00000000004bb487 in gazebo::gui::ModelSnap::Reset (\n    this=0x7f7ca0 <SingletonT<gazebo::gui::ModelSnap>::GetInstance()::t>)\n    at /home/jackie/gazebo/gazebo/gui/ModelSnap.cc:116\n#2  0x0000000000471523 in gazebo::gui::GLWidget::OnManipMode (this=0x19242a0, \n    _mode=...) at /home/jackie/gazebo/gazebo/gui/GLWidget.cc:970\n#3  0x00000000004a8164 in operator() (a0=..., this=0x1945df0)\n    at /usr/include/boost/function/function_template.hpp:767\n#4  gazebo::event::EventT<void (std::string)>::Signal<char [7]>(char const (&) [7]) (this=0x7f8200 <gazebo::gui::Events::manipMode>, _p=...)\n    at /home/jackie/gazebo/gazebo/common/Event.hh:341\n#5  0x00007ffff578887a in QMetaObject::activate(QObject*, QMetaObject const*, int, void**) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#6  0x00007ffff5c9fa62 in QAction::triggered(bool) ()\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#7  0x00007ffff5ca14d6 in QAction::activate(QAction::ActionEvent) ()\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#8  0x000000000047239c in trigger (this=<optimized out>)\n    at /usr/include/qt4/QtGui/qaction.h:218\n#9  gazebo::gui::GLWidget::OnModelEditor (this=0x19242a0)\n    at /home/jackie/gazebo/gazebo/gui/GLWidget.cc:1149\n```\nNot sure how to further isolate this problem--it looks like it may be hidden behind `Ogre::SceneNode`.", "markup": "markdown", "html": "<p>I ran gzclient in gdb, reproduced this crash, and got this stack trace:</p>\n<div class=\"codehilite\"><pre><span></span>Program received signal SIGSEGV, Segmentation fault.\n0x00007ffff76260dd in gazebo::rendering::Visual::SetVisible (this=0x4ec7e10, \n    _visible=_visible@entry=false, _cascade=_cascade@entry=true)\n    at /home/jackie/gazebo/gazebo/rendering/Visual.cc:1512\n1512      this-&gt;dataPtr-&gt;sceneNode-&gt;setVisible(_visible, _cascade);\n(gdb) bt\n#0  0x00007ffff76260dd in gazebo::rendering::Visual::SetVisible (\n    this=0x4ec7e10, _visible=_visible@entry=false, \n    _cascade=_cascade@entry=true)\n    at /home/jackie/gazebo/gazebo/rendering/Visual.cc:1512\n#1  0x00000000004bb487 in gazebo::gui::ModelSnap::Reset (\n    this=0x7f7ca0 &lt;SingletonT&lt;gazebo::gui::ModelSnap&gt;::GetInstance()::t&gt;)\n    at /home/jackie/gazebo/gazebo/gui/ModelSnap.cc:116\n#2  0x0000000000471523 in gazebo::gui::GLWidget::OnManipMode (this=0x19242a0, \n    _mode=...) at /home/jackie/gazebo/gazebo/gui/GLWidget.cc:970\n#3  0x00000000004a8164 in operator() (a0=..., this=0x1945df0)\n    at /usr/include/boost/function/function_template.hpp:767\n#4  gazebo::event::EventT&lt;void (std::string)&gt;::Signal&lt;char [7]&gt;(char const (&amp;) [7]) (this=0x7f8200 &lt;gazebo::gui::Events::manipMode&gt;, _p=...)\n    at /home/jackie/gazebo/gazebo/common/Event.hh:341\n#5  0x00007ffff578887a in QMetaObject::activate(QObject*, QMetaObject const*, int, void**) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#6  0x00007ffff5c9fa62 in QAction::triggered(bool) ()\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#7  0x00007ffff5ca14d6 in QAction::activate(QAction::ActionEvent) ()\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#8  0x000000000047239c in trigger (this=&lt;optimized out&gt;)\n    at /usr/include/qt4/QtGui/qaction.h:218\n#9  gazebo::gui::GLWidget::OnModelEditor (this=0x19242a0)\n    at /home/jackie/gazebo/gazebo/gui/GLWidget.cc:1149\n</pre></div>\n\n\n<p>Not sure how to further isolate this problem--it looks like it may be hidden behind <code>Ogre::SceneNode</code>.</p>", "type": "rendered"}, "created_on": "2014-12-08T21:09:50.272493+00:00", "user": {"display_name": "Jackie K", "uuid": "{e3d60b62-b7c7-4863-b9b9-cdae9f123cec}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3d60b62-b7c7-4863-b9b9-cdae9f123cec%7D"}, "html": {"href": "https://bitbucket.org/%7Be3d60b62-b7c7-4863-b9b9-cdae9f123cec%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/ea011fa2919d4bd4568b32b440eda779d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJK-0.png"}}, "nickname": "jacquelinekay", "type": "user", "account_id": "557058:f56c822f-f75c-4665-80f9-6e7764893b9c"}, "updated_on": "2014-12-08T21:56:54.847697+00:00", "type": "pullrequest_comment", "id": 4206782}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331/comments/4208823.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331/_/diff#comment-4208823"}}, "parent": {"id": 4206782, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331/comments/4206782.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331/_/diff#comment-4206782"}}, "depth": 3}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1331, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331"}}, "title": "Model Editor: Snap tool"}, "content": {"raw": "I think I put a little band-aid on it  (015a4e5). Hope it doesn't bleed from another end... Thanks for the backtrace ", "markup": "markdown", "html": "<p>I think I put a little band-aid on it  (<a href=\"#!/osrf/gazebo/commits/015a4e5\" rel=\"nofollow\" class=\"ap-connect-link\">015a4e5</a>). Hope it doesn't bleed from another end... Thanks for the backtrace </p>", "type": "rendered"}, "created_on": "2014-12-08T23:23:37.977140+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2014-12-08T23:23:37.984963+00:00", "type": "pullrequest_comment", "id": 4208823}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331/comments/4210997.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331/_/diff#comment-4210997"}}, "parent": {"id": 4208823, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331/comments/4208823.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331/_/diff#comment-4208823"}}, "depth": 4}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1331, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331"}}, "title": "Model Editor: Snap tool"}, "content": {"raw": "Yeah, strange bug. Maybe `Visual::sceneNode` is hidden when a visual is invisible? Oh well, the fix works fine for me.", "markup": "markdown", "html": "<p>Yeah, strange bug. Maybe <code>Visual::sceneNode</code> is hidden when a visual is invisible? Oh well, the fix works fine for me.</p>", "type": "rendered"}, "created_on": "2014-12-09T01:53:30.214389+00:00", "user": {"display_name": "Jackie K", "uuid": "{e3d60b62-b7c7-4863-b9b9-cdae9f123cec}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3d60b62-b7c7-4863-b9b9-cdae9f123cec%7D"}, "html": {"href": "https://bitbucket.org/%7Be3d60b62-b7c7-4863-b9b9-cdae9f123cec%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/ea011fa2919d4bd4568b32b440eda779d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJK-0.png"}}, "nickname": "jacquelinekay", "type": "user", "account_id": "557058:f56c822f-f75c-4665-80f9-6e7764893b9c"}, "updated_on": "2014-12-09T01:53:30.226545+00:00", "type": "pullrequest_comment", "id": 4210997}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331/comments/4207559.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331/_/diff#comment-4207559"}}, "parent": {"id": 4206425, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331/comments/4206425.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331/_/diff#comment-4206425"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1331, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331"}}, "title": "Model Editor: Snap tool"}, "content": {"raw": "I also see very strange behavior when you try snapping a link to a normal model (or vice versa) in the editor. After following the steps Ian described, I lost the ability to insert parts into the model editor.", "markup": "markdown", "html": "<p>I also see very strange behavior when you try snapping a link to a normal model (or vice versa) in the editor. After following the steps Ian described, I lost the ability to insert parts into the model editor.</p>", "type": "rendered"}, "created_on": "2014-12-08T22:03:06.085428+00:00", "user": {"display_name": "Jackie K", "uuid": "{e3d60b62-b7c7-4863-b9b9-cdae9f123cec}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3d60b62-b7c7-4863-b9b9-cdae9f123cec%7D"}, "html": {"href": "https://bitbucket.org/%7Be3d60b62-b7c7-4863-b9b9-cdae9f123cec%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/ea011fa2919d4bd4568b32b440eda779d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJK-0.png"}}, "nickname": "jacquelinekay", "type": "user", "account_id": "557058:f56c822f-f75c-4665-80f9-6e7764893b9c"}, "updated_on": "2014-12-08T22:03:06.094231+00:00", "type": "pullrequest_comment", "id": 4207559}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331/comments/4208616.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331/_/diff#comment-4208616"}}, "parent": {"id": 4207559, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331/comments/4207559.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331/_/diff#comment-4207559"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1331, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331"}}, "title": "Model Editor: Snap tool"}, "content": {"raw": "This should also be solved from d37cdc0", "markup": "markdown", "html": "<p>This should also be solved from <a href=\"#!/osrf/gazebo/commits/d37cdc0\" rel=\"nofollow\" class=\"ap-connect-link\">d37cdc0</a></p>", "type": "rendered"}, "created_on": "2014-12-08T23:07:21.403887+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2014-12-08T23:07:21.414243+00:00", "type": "pullrequest_comment", "id": 4208616}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331/comments/4208266.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331/_/diff#comment-4208266"}}, "parent": {"id": 4206425, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331/comments/4206425.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331/_/diff#comment-4206425"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1331, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331"}}, "title": "Model Editor: Snap tool"}, "content": {"raw": "**in normal gazebo mode, you can snap a model to a link created in model editor but it pops back to it's original position immediately afterwards**\n\nYou mean if you exit the model editor from the top menu or clicking `Ctrl+M`, right? Should we be considering this case? I think this will be prevented once issue #1326 is tackled. If you exit via the `Done` button it snaps properly for me.", "markup": "markdown", "html": "<p><strong>in normal gazebo mode, you can snap a model to a link created in model editor but it pops back to it's original position immediately afterwards</strong></p>\n<p>You mean if you exit the model editor from the top menu or clicking <code>Ctrl+M</code>, right? Should we be considering this case? I think this will be prevented once issue <a href=\"#!/osrf/gazebo/issues/1326/model-editor-problems-exiting\" rel=\"nofollow\" title=\"Model Editor: Problems exiting\" class=\"ap-connect-link\"><s>#1326</s></a> is tackled. If you exit via the <code>Done</code> button it snaps properly for me.</p>", "type": "rendered"}, "created_on": "2014-12-08T22:43:51.724286+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2014-12-08T22:43:59.285493+00:00", "type": "pullrequest_comment", "id": 4208266}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331/comments/4211091.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331/_/diff#comment-4211091"}}, "parent": {"id": 4208266, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331/comments/4208266.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331/_/diff#comment-4208266"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1331, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331"}}, "title": "Model Editor: Snap tool"}, "content": {"raw": "Yeah, I'm inclined to think we should disable manipulation of individual links that were made in the Model Editor when in the Main Window, whether that happens in this PR or a future one.", "markup": "markdown", "html": "<p>Yeah, I'm inclined to think we should disable manipulation of individual links that were made in the Model Editor when in the Main Window, whether that happens in this PR or a future one.</p>", "type": "rendered"}, "created_on": "2014-12-09T02:01:09.309758+00:00", "user": {"display_name": "Jackie K", "uuid": "{e3d60b62-b7c7-4863-b9b9-cdae9f123cec}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3d60b62-b7c7-4863-b9b9-cdae9f123cec%7D"}, "html": {"href": "https://bitbucket.org/%7Be3d60b62-b7c7-4863-b9b9-cdae9f123cec%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/ea011fa2919d4bd4568b32b440eda779d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJK-0.png"}}, "nickname": "jacquelinekay", "type": "user", "account_id": "557058:f56c822f-f75c-4665-80f9-6e7764893b9c"}, "updated_on": "2014-12-09T02:01:09.319409+00:00", "type": "pullrequest_comment", "id": 4211091}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331/comments/4217992.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331/_/diff#comment-4217992"}}, "parent": {"id": 4211091, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331/comments/4211091.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331/_/diff#comment-4211091"}}, "depth": 3}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1331, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331"}}, "title": "Model Editor: Snap tool"}, "content": {"raw": "I think maybe this falls out of the scope of this PR, since we're thinking of implementing the whole flow of pull request #1312 on the model editor too. One simple thing we could do in the meanwhile though is to call `OnDone` when `g_editModelAct` is unchecked... ", "markup": "markdown", "html": "<p>I think maybe this falls out of the scope of this PR, since we're thinking of implementing the whole flow of <a href=\"#!/osrf/gazebo/pull-requests/1312/building-editor-improved-saving-pop-up\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #1312</a> on the model editor too. One simple thing we could do in the meanwhile though is to call <code>OnDone</code> when <code>g_editModelAct</code> is unchecked... </p>", "type": "rendered"}, "created_on": "2014-12-09T11:52:25.260864+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2014-12-09T11:52:25.270791+00:00", "type": "pullrequest_comment", "id": 4217992}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331/comments/4226201.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331/_/diff#comment-4226201"}}, "parent": {"id": 4217992, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331/comments/4217992.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331/_/diff#comment-4217992"}}, "depth": 4}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1331, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331"}}, "title": "Model Editor: Snap tool"}, "content": {"raw": "ok agreed - this should not be a problem once we have the building editor workflow implemented in model editor", "markup": "markdown", "html": "<p>ok agreed - this should not be a problem once we have the building editor workflow implemented in model editor</p>", "type": "rendered"}, "created_on": "2014-12-09T18:08:49.521904+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2014-12-09T18:08:49.531910+00:00", "type": "pullrequest_comment", "id": 4226201}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331/comments/4208299.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331/_/diff#comment-4208299"}}, "parent": {"id": 4206425, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331/comments/4206425.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331/_/diff#comment-4206425"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1331, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331"}}, "title": "Model Editor: Snap tool"}, "content": {"raw": "**in editor mode, you can snap a link to a normal model. Insert another link and snapping it to the model again causes weird snapping behavior.**\n\nFixed d37cdc0", "markup": "markdown", "html": "<p><strong>in editor mode, you can snap a link to a normal model. Insert another link and snapping it to the model again causes weird snapping behavior.</strong></p>\n<p>Fixed <a href=\"#!/osrf/gazebo/commits/d37cdc0\" rel=\"nofollow\" class=\"ap-connect-link\">d37cdc0</a></p>", "type": "rendered"}, "created_on": "2014-12-08T22:45:47.743061+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2014-12-08T22:45:47.754841+00:00", "type": "pullrequest_comment", "id": 4208299}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331/comments/4254442.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331/_/diff#comment-4254442"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1331, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331"}}, "title": "Model Editor: Snap tool"}, "content": {"raw": "I also get weird behavior when I try snapping together links that are connected by a joint. They don't snap together, then it looks like I lose the ability to select or snap links. Hmm... If I close and re-open the model editor (with CTRL-M or save and exit) it gets better and I can select and snap together link, including ones that are connected by a joint. Will this get fixed with the JointMaker makeover?", "markup": "markdown", "html": "<p>I also get weird behavior when I try snapping together links that are connected by a joint. They don't snap together, then it looks like I lose the ability to select or snap links. Hmm... If I close and re-open the model editor (with CTRL-M or save and exit) it gets better and I can select and snap together link, including ones that are connected by a joint. Will this get fixed with the JointMaker makeover?</p>", "type": "rendered"}, "created_on": "2014-12-11T00:09:40.916468+00:00", "user": {"display_name": "Jackie K", "uuid": "{e3d60b62-b7c7-4863-b9b9-cdae9f123cec}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3d60b62-b7c7-4863-b9b9-cdae9f123cec%7D"}, "html": {"href": "https://bitbucket.org/%7Be3d60b62-b7c7-4863-b9b9-cdae9f123cec%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/ea011fa2919d4bd4568b32b440eda779d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJK-0.png"}}, "nickname": "jacquelinekay", "type": "user", "account_id": "557058:f56c822f-f75c-4665-80f9-6e7764893b9c"}, "updated_on": "2014-12-11T00:12:03.174829+00:00", "type": "pullrequest_comment", "id": 4254442}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331/comments/4254590.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331/_/diff#comment-4254590"}}, "parent": {"id": 4254442, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331/comments/4254442.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331/_/diff#comment-4254442"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1331, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331"}}, "title": "Model Editor: Snap tool"}, "content": {"raw": "Argh yeah looks like an issue with the JointMaker's event handlers, after adding a joint I can't not only snap, but RTS doesn't work either.", "markup": "markdown", "html": "<p>Argh yeah looks like an issue with the JointMaker's event handlers, after adding a joint I can't not only snap, but RTS doesn't work either.</p>", "type": "rendered"}, "created_on": "2014-12-11T00:20:00.164250+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2014-12-11T00:20:47.044984+00:00", "type": "pullrequest_comment", "id": 4254590}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331/comments/4254948.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331/_/diff#comment-4254948"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1331, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331"}}, "title": "Model Editor: Snap tool"}, "content": {"raw": "After merging with default (and the copy/paste tools), if a visual that has been scaled is copied, the preview looks properly scaled but the saved link doesn't. This is because scaling is happening at link-level but copy at visual-level... ~~This could probably be quickly solved by copying the parent link's scale when copying, but this feels hacky... ~~\n\n~~I'm inclined to start migrating all the part handling to link level, as pull request #1328 seems to be moving towards as well. So I'll make sure all tools (RTS, snap, align, copy/paste) work at link level on this pull request. Sounds good, @caguero, @iche033?~~ \n\nFixed on d31393b, but I still think the whole part/link/visual mixture is getting a bit messy...\n\n", "markup": "markdown", "html": "<p>After merging with default (and the copy/paste tools), if a visual that has been scaled is copied, the preview looks properly scaled but the saved link doesn't. This is because scaling is happening at link-level but copy at visual-level... <del>This could probably be quickly solved by copying the parent link's scale when copying, but this feels hacky... </del></p>\n<p><del>I'm inclined to start migrating all the part handling to link level, as <a href=\"#!/osrf/gazebo/pull-requests/1328/joint-maker-back-to-life\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #1328</a> seems to be moving towards as well. So I'll make sure all tools (RTS, snap, align, copy/paste) work at link level on this pull request. Sounds good, @caguero, @iche033?</del> </p>\n<p>Fixed on <a href=\"#!/osrf/gazebo/commits/d31393b\" rel=\"nofollow\" class=\"ap-connect-link\">d31393b</a>, but I still think the whole part/link/visual mixture is getting a bit messy...</p>", "type": "rendered"}, "created_on": "2014-12-11T00:49:26.927292+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2014-12-11T13:27:27.442319+00:00", "type": "pullrequest_comment", "id": 4254948}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331/comments/4276649.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331/_/diff#comment-4276649"}}, "parent": {"id": 4254948, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331/comments/4254948.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331/_/diff#comment-4254948"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1331, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331"}}, "title": "Model Editor: Snap tool"}, "content": {"raw": "in the `model_editor_joint_maker` branch I made it so that only the link can be selected and not the visual. A little more restrictive but less messy now. I can help with porting the changes in this branch", "markup": "markdown", "html": "<p>in the <code>model_editor_joint_maker</code> branch I made it so that only the link can be selected and not the visual. A little more restrictive but less messy now. I can help with porting the changes in this branch</p>", "type": "rendered"}, "created_on": "2014-12-12T01:10:45.412339+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2014-12-12T01:10:45.421753+00:00", "type": "pullrequest_comment", "id": 4276649}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331/comments/4263875.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331/_/diff#comment-4263875"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1331, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331"}}, "title": "Model Editor: Snap tool"}, "content": {"raw": "Just for fun, here's a double pendulum I made with this branch. Made use of RTS, copy/paste, align and snap tools. I've been trying to make a double pendulum with the Model Editor for a while, this is the first functional model I got :)\n\n![doublependulum1.png](data/bitbucket.org/repo/jgXqbo/images/1374763195-doublependulum1.png)", "markup": "markdown", "html": "<p>Just for fun, here's a double pendulum I made with this branch. Made use of RTS, copy/paste, align and snap tools. I've been trying to make a double pendulum with the Model Editor for a while, this is the first functional model I got :)</p>\n<p><img alt=\"doublependulum1.png\" src=\"data/bitbucket.org/repo/jgXqbo/images/1374763195-doublependulum1.png\" /></p>", "type": "rendered"}, "created_on": "2014-12-11T13:38:27.950227+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2014-12-11T13:38:46.187459+00:00", "type": "pullrequest_comment", "id": 4263875}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331/comments/4267399.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331/_/diff#comment-4267399"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1331, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331"}}, "title": "Model Editor: Snap tool"}, "content": {"raw": "Another weird crash. Let me know if it works on your computer.\n\nInsert a link.\n\nSelect a face using the align tool. Make sure the face is selected (red) for the next step.\n\nExit and save (trying to go to the main window). Gazebo crashes.\n\nIt may be another `Visual::SetVisibility` issue.\n\n```\nProgram received signal SIGSEGV, Segmentation fault.\n0x00007ffff746a9eb in gazebo::rendering::Visual::SetVisible (this=0x4eb4b00, \n    _visible=false, _cascade=true)\n    at /home/jackie/code/gazebo/gazebo/rendering/Visual.cc:1512\n1512\t  this->dataPtr->sceneNode->setVisible(_visible, _cascade);\n(gdb) bt\n#0  0x00007ffff746a9eb in gazebo::rendering::Visual::SetVisible (\n    this=0x4eb4b00, _visible=false, _cascade=true)\n    at /home/jackie/code/gazebo/gazebo/rendering/Visual.cc:1512\n#1  0x0000000000538039 in gazebo::gui::ModelSnap::Reset (\n    this=0x989be0 <SingletonT<gazebo::gui::ModelSnap>::GetInstance()::t>)\n    at /home/jackie/code/gazebo/gazebo/gui/ModelSnap.cc:117\n#2  0x00000000004b21d5 in gazebo::gui::GLWidget::OnManipMode (this=0x217d0a0, \n    _mode=...) at /home/jackie/code/gazebo/gazebo/gui/GLWidget.cc:979\n#3  0x00000000004c50ec in boost::_mfi::mf1<void, gazebo::gui::GLWidget, std::string const&>::operator() (this=0x219ef28, p=0x217d0a0, a1=...)\n    at /usr/include/boost/bind/mem_fn_template.hpp:165\n```", "markup": "markdown", "html": "<p>Another weird crash. Let me know if it works on your computer.</p>\n<p>Insert a link.</p>\n<p>Select a face using the align tool. Make sure the face is selected (red) for the next step.</p>\n<p>Exit and save (trying to go to the main window). Gazebo crashes.</p>\n<p>It may be another <code>Visual::SetVisibility</code> issue.</p>\n<div class=\"codehilite\"><pre><span></span>Program received signal SIGSEGV, Segmentation fault.\n0x00007ffff746a9eb in gazebo::rendering::Visual::SetVisible (this=0x4eb4b00, \n    _visible=false, _cascade=true)\n    at /home/jackie/code/gazebo/gazebo/rendering/Visual.cc:1512\n1512      this-&gt;dataPtr-&gt;sceneNode-&gt;setVisible(_visible, _cascade);\n(gdb) bt\n#0  0x00007ffff746a9eb in gazebo::rendering::Visual::SetVisible (\n    this=0x4eb4b00, _visible=false, _cascade=true)\n    at /home/jackie/code/gazebo/gazebo/rendering/Visual.cc:1512\n#1  0x0000000000538039 in gazebo::gui::ModelSnap::Reset (\n    this=0x989be0 &lt;SingletonT&lt;gazebo::gui::ModelSnap&gt;::GetInstance()::t&gt;)\n    at /home/jackie/code/gazebo/gazebo/gui/ModelSnap.cc:117\n#2  0x00000000004b21d5 in gazebo::gui::GLWidget::OnManipMode (this=0x217d0a0, \n    _mode=...) at /home/jackie/code/gazebo/gazebo/gui/GLWidget.cc:979\n#3  0x00000000004c50ec in boost::_mfi::mf1&lt;void, gazebo::gui::GLWidget, std::string const&amp;&gt;::operator() (this=0x219ef28, p=0x217d0a0, a1=...)\n    at /usr/include/boost/bind/mem_fn_template.hpp:165\n</pre></div>", "type": "rendered"}, "created_on": "2014-12-11T16:05:24.479032+00:00", "user": {"display_name": "Jackie K", "uuid": "{e3d60b62-b7c7-4863-b9b9-cdae9f123cec}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3d60b62-b7c7-4863-b9b9-cdae9f123cec%7D"}, "html": {"href": "https://bitbucket.org/%7Be3d60b62-b7c7-4863-b9b9-cdae9f123cec%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/ea011fa2919d4bd4568b32b440eda779d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJK-0.png"}}, "nickname": "jacquelinekay", "type": "user", "account_id": "557058:f56c822f-f75c-4665-80f9-6e7764893b9c"}, "updated_on": "2014-12-11T16:13:48.267780+00:00", "type": "pullrequest_comment", "id": 4267399}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331/comments/4293321.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331/_/diff#comment-4293321"}}, "parent": {"id": 4267399, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331/comments/4267399.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331/_/diff#comment-4267399"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1331, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331"}}, "title": "Model Editor: Snap tool"}, "content": {"raw": "I'm getting this too, but only if I never used the snap tool before following your steps. No crash for any of the following:\n\n#A#\n\n1. Insert a shape in the main window\n\n2. Turn on the snap tool and select a triangle on the shape\n\n3. Select the arrow mode (cancel/reset snapping) \n\n4. Enter model editor and follow your steps, no crash\n\n\n#B#\n\n1. Insert 2 shapes in the main window\n\n2. Turn on the snap tool and snap one shape the other\n\n3. Enter model editor and follow your steps, no crash\n\n#C#\n\n1. Enter model editor, insert 2 shapes\n\n2. Turn on the snap tool and select a triangle on the shape\n\n3. Select the arrow mode (cancel/reset snapping) \n\n4. Follow your steps but make sure you use the other shape, no crash. (Crashes if you try using the same shape as before)\n\n#D#\n\n1. Enter model editor, insert 2 shapes\n\n2. Turn on the snap tool and snap one shape the other\n\n3. Follow your steps with either shape, no crash.\n\nThe only thing I noticed is that `ModelSnap::Reset` is called whenever you complete snapping or change mode, but I still don't know where to go from there...", "markup": "markdown", "html": "<p>I'm getting this too, but only if I never used the snap tool before following your steps. No crash for any of the following:</p>\n<p>#A#</p>\n<ol>\n<li>\n<p>Insert a shape in the main window</p>\n</li>\n<li>\n<p>Turn on the snap tool and select a triangle on the shape</p>\n</li>\n<li>\n<p>Select the arrow mode (cancel/reset snapping) </p>\n</li>\n<li>\n<p>Enter model editor and follow your steps, no crash</p>\n</li>\n</ol>\n<p>#B#</p>\n<ol>\n<li>\n<p>Insert 2 shapes in the main window</p>\n</li>\n<li>\n<p>Turn on the snap tool and snap one shape the other</p>\n</li>\n<li>\n<p>Enter model editor and follow your steps, no crash</p>\n</li>\n</ol>\n<p>#C#</p>\n<ol>\n<li>\n<p>Enter model editor, insert 2 shapes</p>\n</li>\n<li>\n<p>Turn on the snap tool and select a triangle on the shape</p>\n</li>\n<li>\n<p>Select the arrow mode (cancel/reset snapping) </p>\n</li>\n<li>\n<p>Follow your steps but make sure you use the other shape, no crash. (Crashes if you try using the same shape as before)</p>\n</li>\n</ol>\n<p>#D#</p>\n<ol>\n<li>\n<p>Enter model editor, insert 2 shapes</p>\n</li>\n<li>\n<p>Turn on the snap tool and snap one shape the other</p>\n</li>\n<li>\n<p>Follow your steps with either shape, no crash.</p>\n</li>\n</ol>\n<p>The only thing I noticed is that <code>ModelSnap::Reset</code> is called whenever you complete snapping or change mode, but I still don't know where to go from there...</p>", "type": "rendered"}, "created_on": "2014-12-12T21:20:21.243078+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2014-12-12T21:20:21.251009+00:00", "type": "pullrequest_comment", "id": 4293321}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331/comments/4294683.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331/_/diff#comment-4294683"}}, "parent": {"id": 4293321, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331/comments/4293321.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331/_/diff#comment-4293321"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1331, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331"}}, "title": "Model Editor: Snap tool"}, "content": {"raw": "My current theory is that this is a problem due to `ModelSnap::Reset` and `ModelCreator::Reset` executing concurrently and trying to access and clear the same Visuals.\n\njust a note, I worked on this bug furiously on Friday afternoon and a bit this morning to no avail. I thought about restructuring `ModelSnap::Reset` quite a bit to clear the face highlight visuals instead of making them visible/invisible, but there needs to be a little bit extra to reattach it to a parent.", "markup": "markdown", "html": "<p>My current theory is that this is a problem due to <code>ModelSnap::Reset</code> and <code>ModelCreator::Reset</code> executing concurrently and trying to access and clear the same Visuals.</p>\n<p>just a note, I worked on this bug furiously on Friday afternoon and a bit this morning to no avail. I thought about restructuring <code>ModelSnap::Reset</code> quite a bit to clear the face highlight visuals instead of making them visible/invisible, but there needs to be a little bit extra to reattach it to a parent.</p>", "type": "rendered"}, "created_on": "2014-12-12T23:22:15.016649+00:00", "user": {"display_name": "Jackie K", "uuid": "{e3d60b62-b7c7-4863-b9b9-cdae9f123cec}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3d60b62-b7c7-4863-b9b9-cdae9f123cec%7D"}, "html": {"href": "https://bitbucket.org/%7Be3d60b62-b7c7-4863-b9b9-cdae9f123cec%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/ea011fa2919d4bd4568b32b440eda779d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJK-0.png"}}, "nickname": "jacquelinekay", "type": "user", "account_id": "557058:f56c822f-f75c-4665-80f9-6e7764893b9c"}, "updated_on": "2014-12-15T18:45:52.958940+00:00", "type": "pullrequest_comment", "id": 4294683}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331/comments/4315638.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331/_/diff#comment-4315638"}}, "parent": {"id": 4294683, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331/comments/4294683.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331/_/diff#comment-4294683"}}, "depth": 3}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1331, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331"}}, "title": "Model Editor: Snap tool"}, "content": {"raw": "Thank you for looking into this. I've also been trying various things, but no luck so far... I agree that restructuring `ModelSnap` seems to be the way to go.", "markup": "markdown", "html": "<p>Thank you for looking into this. I've also been trying various things, but no luck so far... I agree that restructuring <code>ModelSnap</code> seems to be the way to go.</p>", "type": "rendered"}, "created_on": "2014-12-15T18:49:53.891570+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2014-12-15T18:49:53.903866+00:00", "type": "pullrequest_comment", "id": 4315638}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331/comments/4315839.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331/_/diff#comment-4315839"}}, "parent": {"id": 4315638, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331/comments/4315638.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331/_/diff#comment-4315638"}}, "depth": 4}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1331, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331"}}, "title": "Model Editor: Snap tool"}, "content": {"raw": "potential fix in [model_editor_snap2_ian](#!/osrf/gazebo/commits/1ecca05bae5ead54600aceaca3430de8c48523f4)\n\n`Visual::Fini` destroys all ogre child scene nodes but this means all child Visuals would then have invalid `this->dataPtr->sceneNode` pointers. So I removed the call and let destructor handle this.", "markup": "markdown", "html": "<p>potential fix in <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/commits/1ecca05bae5ead54600aceaca3430de8c48523f4\" rel=\"nofollow\">model_editor_snap2_ian</a></p>\n<p><code>Visual::Fini</code> destroys all ogre child scene nodes but this means all child Visuals would then have invalid <code>this-&gt;dataPtr-&gt;sceneNode</code> pointers. So I removed the call and let destructor handle this.</p>", "type": "rendered"}, "created_on": "2014-12-15T19:01:01.726668+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2014-12-15T19:14:25.096285+00:00", "type": "pullrequest_comment", "id": 4315839}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331/comments/4316737.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331/_/diff#comment-4316737"}}, "parent": {"id": 4315839, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331/comments/4315839.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331/_/diff#comment-4315839"}}, "depth": 5}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1331, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1331.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1331"}}, "title": "Model Editor: Snap tool"}, "content": {"raw": "@iche033 , so elegant! Thanks! It fixes it for me, merged :)", "markup": "markdown", "html": "<p>@iche033 , so elegant! Thanks! It fixes it for me, merged :)</p>", "type": "rendered"}, "created_on": "2014-12-15T19:54:13.305376+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2014-12-15T19:54:13.321279+00:00", "type": "pullrequest_comment", "id": 4316737}], "page": 1, "size": 23}