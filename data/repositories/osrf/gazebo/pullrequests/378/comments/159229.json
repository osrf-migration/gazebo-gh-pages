{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/378/comments/159229.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/378/_/diff#comment-159229"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 378, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/378.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/378"}}, "title": "Screenshot capture function"}, "content": {"raw": "gzclient  crashes when I click the button. Here's the backtrace:\n\n```\n#!gdb\n\n\n#0  _int_malloc (av=0x7ffff4382720, bytes=7246668) at malloc.c:3868\n#1  0x00007ffff404cfb5 in __GI___libc_malloc (bytes=7246668) at malloc.c:2924\n#2  0x00007ffff4950ded in operator new(unsigned long) ()\n   from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#3  0x00007ffff4950f09 in operator new[](unsigned long) ()\n   from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#4  0x00007fffd10819e9 in ?? ()\n   from /usr/lib/x86_64-linux-gnu/OGRE-1.7.4/RenderSystem_GL.so\n#5  0x00007ffff72f0ed6 in gazebo::rendering::Camera::PostRender (\n    this=0x2d9cf50) at /home/nkoenig/work/gazebo/gazebo/rendering/Camera.cc:351\n#6  0x00000000004c593b in operator() (this=<optimized out>)\n    at /usr/include/boost/function/function_template.hpp:1013\n#7  Signal (this=<optimized out>)\n    at /home/nkoenig/work/gazebo/gazebo/common/Event.hh:126\n#8  operator() (this=<optimized out>)\n    at /home/nkoenig/work/gazebo/gazebo/common/Event.hh:119\n#9  gazebo::gui::GLWidget::paintEvent (this=<optimized out>, _e=0x7fffffffc1d0)\n    at /home/nkoenig/work/gazebo/gazebo/gui/GLWidget.cc:191\n#10 0x00007ffff646b0f6 in QWidget::event(QEvent*) ()\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#11 0x00007ffff641a894 in QApplicationPrivate::notify_helper(QObject*, QEvent*)\n    () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#12 0x00007ffff641f713 in QApplication::notify(QObject*, QEvent*) ()\n---Type <return> to continue, or q <return> to quit---\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#13 0x00007ffff5ef7e9c in QCoreApplication::notifyInternal(QObject*, QEvent*)\n    () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#14 0x00007ffff6466d96 in QWidgetPrivate::drawWidget(QPaintDevice*, QRegion const&, QPoint const&, int, QPainter*, QWidgetBackingStore*) ()\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#15 0x00007ffff6632787 in QWidgetPrivate::repaint_sys(QRegion const&) ()\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#16 0x00007ffff645da64 in QWidgetPrivate::syncBackingStore() ()\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#17 0x00007ffff646b60c in QWidget::event(QEvent*) ()\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#18 0x00007ffff641a894 in QApplicationPrivate::notify_helper(QObject*, QEvent*)\n    () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#19 0x00007ffff641f713 in QApplication::notify(QObject*, QEvent*) ()\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#20 0x00007ffff5ef7e9c in QCoreApplication::notifyInternal(QObject*, QEvent*)\n    () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#21 0x00007ffff5efbc6a in QCoreApplicationPrivate::sendPostedEvents(QObject*, int, QThreadData*) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#22 0x00007ffff5f26f93 in ?? () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#23 0x00007ffff072dd53 in g_main_context_dispatch ()\n   from /lib/x86_64-linux-gnu/libglib-2.0.so.0\n---Type <return> to continue, or q <return> to quit---\n#24 0x00007ffff072e0a0 in ?? () from /lib/x86_64-linux-gnu/libglib-2.0.so.0\n#25 0x00007ffff072e164 in g_main_context_iteration ()\n   from /lib/x86_64-linux-gnu/libglib-2.0.so.0\n#26 0x00007ffff5f273bf in QEventDispatcherGlib::processEvents(QFlags<QEventLoop::ProcessEventsFlag>) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#27 0x00007ffff64c2d5e in ?? () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#28 0x00007ffff5ef6c82 in QEventLoop::processEvents(QFlags<QEventLoop::ProcessEventsFlag>) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#29 0x00007ffff5ef6ed7 in QEventLoop::exec(QFlags<QEventLoop::ProcessEventsFlag>) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#30 0x00007ffff5efbf67 in QCoreApplication::exec() ()\n   from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#31 0x00000000004cf2ac in gazebo::gui::run (_argc=1, _argv=0x7fffffffcf18)\n    at /home/nkoenig/work/gazebo/gazebo/gui/Gui.cc:196\n#32 0x00000000004adb99 in main (_argc=<optimized out>, _argv=<optimized out>)\n    at /home/nkoenig/work/gazebo/gazebo/gui/main.cc:23\n\n```", "markup": "markdown", "html": "<p>gzclient  crashes when I click the button. Here's the backtrace:</p>\n<div class=\"codehilite language-gdb\"><pre><span></span>#0  _int_malloc (av=0x7ffff4382720, bytes=7246668) at malloc.c:3868\n#1  0x00007ffff404cfb5 in __GI___libc_malloc (bytes=7246668) at malloc.c:2924\n#2  0x00007ffff4950ded in operator new(unsigned long) ()\n   from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#3  0x00007ffff4950f09 in operator new[](unsigned long) ()\n   from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#4  0x00007fffd10819e9 in ?? ()\n   from /usr/lib/x86_64-linux-gnu/OGRE-1.7.4/RenderSystem_GL.so\n#5  0x00007ffff72f0ed6 in gazebo::rendering::Camera::PostRender (\n    this=0x2d9cf50) at /home/nkoenig/work/gazebo/gazebo/rendering/Camera.cc:351\n#6  0x00000000004c593b in operator() (this=&lt;optimized out&gt;)\n    at /usr/include/boost/function/function_template.hpp:1013\n#7  Signal (this=&lt;optimized out&gt;)\n    at /home/nkoenig/work/gazebo/gazebo/common/Event.hh:126\n#8  operator() (this=&lt;optimized out&gt;)\n    at /home/nkoenig/work/gazebo/gazebo/common/Event.hh:119\n#9  gazebo::gui::GLWidget::paintEvent (this=&lt;optimized out&gt;, _e=0x7fffffffc1d0)\n    at /home/nkoenig/work/gazebo/gazebo/gui/GLWidget.cc:191\n#10 0x00007ffff646b0f6 in QWidget::event(QEvent*) ()\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#11 0x00007ffff641a894 in QApplicationPrivate::notify_helper(QObject*, QEvent*)\n    () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#12 0x00007ffff641f713 in QApplication::notify(QObject*, QEvent*) ()\n---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#13 0x00007ffff5ef7e9c in QCoreApplication::notifyInternal(QObject*, QEvent*)\n    () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#14 0x00007ffff6466d96 in QWidgetPrivate::drawWidget(QPaintDevice*, QRegion const&amp;, QPoint const&amp;, int, QPainter*, QWidgetBackingStore*) ()\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#15 0x00007ffff6632787 in QWidgetPrivate::repaint_sys(QRegion const&amp;) ()\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#16 0x00007ffff645da64 in QWidgetPrivate::syncBackingStore() ()\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#17 0x00007ffff646b60c in QWidget::event(QEvent*) ()\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#18 0x00007ffff641a894 in QApplicationPrivate::notify_helper(QObject*, QEvent*)\n    () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#19 0x00007ffff641f713 in QApplication::notify(QObject*, QEvent*) ()\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#20 0x00007ffff5ef7e9c in QCoreApplication::notifyInternal(QObject*, QEvent*)\n    () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#21 0x00007ffff5efbc6a in QCoreApplicationPrivate::sendPostedEvents(QObject*, int, QThreadData*) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#22 0x00007ffff5f26f93 in ?? () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#23 0x00007ffff072dd53 in g_main_context_dispatch ()\n   from /lib/x86_64-linux-gnu/libglib-2.0.so.0\n---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---\n#24 0x00007ffff072e0a0 in ?? () from /lib/x86_64-linux-gnu/libglib-2.0.so.0\n#25 0x00007ffff072e164 in g_main_context_iteration ()\n   from /lib/x86_64-linux-gnu/libglib-2.0.so.0\n#26 0x00007ffff5f273bf in QEventDispatcherGlib::processEvents(QFlags&lt;QEventLoop::ProcessEventsFlag&gt;) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#27 0x00007ffff64c2d5e in ?? () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#28 0x00007ffff5ef6c82 in QEventLoop::processEvents(QFlags&lt;QEventLoop::ProcessEventsFlag&gt;) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#29 0x00007ffff5ef6ed7 in QEventLoop::exec(QFlags&lt;QEventLoop::ProcessEventsFlag&gt;) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#30 0x00007ffff5efbf67 in QCoreApplication::exec() ()\n   from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#31 0x00000000004cf2ac in gazebo::gui::run (_argc=1, _argv=0x7fffffffcf18)\n    at /home/nkoenig/work/gazebo/gazebo/gui/Gui.cc:196\n#32 0x00000000004adb99 in main (_argc=&lt;optimized out&gt;, _argv=&lt;optimized out&gt;)\n    at /home/nkoenig/work/gazebo/gazebo/gui/main.cc:23\n</pre></div>", "type": "rendered"}, "created_on": "2013-03-18T22:57:33.517499+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2013-03-18T22:57:54.982408+00:00", "type": "pullrequest_comment", "id": 159229}