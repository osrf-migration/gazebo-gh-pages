{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/571/comments/285164.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/571/_/diff#comment-285164"}}, "parent": {"id": 284946, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/571/comments/284946.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/571/_/diff#comment-284946"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 571, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/571.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/571"}}, "title": "Logging and transport performance improvements "}, "content": {"raw": "This is my valgrind output\n\n```\n==6316== Invalid read of size 8\n==6316==    at 0x7638E18: wcscmp (wcscmp.S:479)\n==6316==    by 0x70F1113: std::moneypunct<wchar_t, false>::~moneypunct() (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.16)\n==6316==    by 0x70F1198: std::moneypunct<wchar_t, false>::~moneypunct() (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.16)\n==6316==    by 0x70E5A79: std::locale::_Impl::~_Impl() (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.16)\n==6316==    by 0x70E5C4C: std::locale::~locale() (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.16)\n==6316==    by 0x75D2D1C: __cxa_finalize (cxa_finalize.c:56)\n==6316==    by 0x7B75755: ??? (in /usr/lib/libboost_filesystem.so.1.46.1)\n==6316==    by 0x7B83010: ??? (in /usr/lib/libboost_filesystem.so.1.46.1)\n==6316==    by 0x75D2900: __run_exit_handlers (exit.c:78)\n==6316==    by 0x75D2984: exit (exit.c:100)\n==6316==    by 0x75B8773: (below main) (libc-start.c:258)\n==6316==  Address 0x189cc238 is 0 bytes after a block of size 8 alloc'd\n==6316==    at 0x4C2AC27: operator new[](unsigned long) (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)\n==6316==    by 0x70F0DED: std::moneypunct<wchar_t, false>::_M_initialize_moneypunct(__locale_struct*, char const*) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.16)\n==6316==    by 0x70E811E: std::locale::_Impl::_Impl(char const*, unsigned long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.16)\n==6316==    by 0x70E865E: std::locale::locale(char const*) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.16)\n==6316==    by 0x7B7FDDA: boost::filesystem3::path::wchar_t_codecvt_facet() (in /usr/lib/libboost_filesystem.so.1.46.1)\n==6316==    by 0x7B7558E: ??? (in /usr/lib/libboost_filesystem.so.1.46.1)\n==6316==    by 0x400F305: call_init.part.0 (dl-init.c:85)\n==6316==    by 0x400F3DE: _dl_init (dl-init.c:52)\n==6316==    by 0x40016E9: ??? (in /lib/x86_64-linux-gnu/ld-2.15.so)\n==6316== \n==6316== Invalid read of size 8\n==6316==    at 0x7638E18: wcscmp (wcscmp.S:479)\n==6316==    by 0x70F1003: std::moneypunct<wchar_t, true>::~moneypunct() (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.16)\n==6316==    by 0x70F1088: std::moneypunct<wchar_t, true>::~moneypunct() (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.16)\n==6316==    by 0x70E5A79: std::locale::_Impl::~_Impl() (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.16)\n==6316==    by 0x70E5C4C: std::locale::~locale() (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.16)\n==6316==    by 0x75D2D1C: __cxa_finalize (cxa_finalize.c:56)\n==6316==    by 0x7B75755: ??? (in /usr/lib/libboost_filesystem.so.1.46.1)\n==6316==    by 0x7B83010: ??? (in /usr/lib/libboost_filesystem.so.1.46.1)\n==6316==    by 0x75D2900: __run_exit_handlers (exit.c:78)\n==6316==    by 0x75D2984: exit (exit.c:100)\n==6316==    by 0x75B8773: (below main) (libc-start.c:258)\n==6316==  Address 0x189cc468 is 0 bytes after a block of size 8 alloc'd\n==6316==    at 0x4C2AC27: operator new[](unsigned long) (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)\n==6316==    by 0x70F07FD: std::moneypunct<wchar_t, true>::_M_initialize_moneypunct(__locale_struct*, char const*) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.16)\n==6316==    by 0x70E816B: std::locale::_Impl::_Impl(char const*, unsigned long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.16)\n==6316==    by 0x70E865E: std::locale::locale(char const*) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.16)\n==6316==    by 0x7B7FDDA: boost::filesystem3::path::wchar_t_codecvt_facet() (in /usr/lib/libboost_filesystem.so.1.46.1)\n==6316==    by 0x7B7558E: ??? (in /usr/lib/libboost_filesystem.so.1.46.1)\n==6316==    by 0x400F305: call_init.part.0 (dl-init.c:85)\n==6316==    by 0x400F3DE: _dl_init (dl-init.c:52)\n==6316==    by 0x40016E9: ??? (in /lib/x86_64-linux-gnu/ld-2.15.so)\n==6316== \n==6316== \n==6316== HEAP SUMMARY:\n==6316==     in use at exit: 5,457,222 bytes in 63,467 blocks\n==6316==   total heap usage: 603,612 allocs, 540,145 frees, 40,139,559 bytes allocated\n==6316== \n==6316== LEAK SUMMARY:\n==6316==    definitely lost: 389,040 bytes in 681 blocks\n==6316==    indirectly lost: 4,645,039 bytes in 56,066 blocks\n==6316==      possibly lost: 82,755 bytes in 1,910 blocks\n==6316==    still reachable: 340,388 bytes in 4,810 blocks\n==6316==         suppressed: 0 bytes in 0 blocks\n==6316== Rerun with --leak-check=full to see details of leaked memory\n==6316== \n==6316== For counts of detected and suppressed errors, rerun with: -v\n==6316== ERROR SUMMARY: 2 errors from 2 contexts (suppressed: 2 from 2)\n```", "markup": "markdown", "html": "<p>This is my valgrind output</p>\n<div class=\"codehilite\"><pre><span></span>==6316== Invalid read of size 8\n==6316==    at 0x7638E18: wcscmp (wcscmp.S:479)\n==6316==    by 0x70F1113: std::moneypunct&lt;wchar_t, false&gt;::~moneypunct() (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.16)\n==6316==    by 0x70F1198: std::moneypunct&lt;wchar_t, false&gt;::~moneypunct() (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.16)\n==6316==    by 0x70E5A79: std::locale::_Impl::~_Impl() (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.16)\n==6316==    by 0x70E5C4C: std::locale::~locale() (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.16)\n==6316==    by 0x75D2D1C: __cxa_finalize (cxa_finalize.c:56)\n==6316==    by 0x7B75755: ??? (in /usr/lib/libboost_filesystem.so.1.46.1)\n==6316==    by 0x7B83010: ??? (in /usr/lib/libboost_filesystem.so.1.46.1)\n==6316==    by 0x75D2900: __run_exit_handlers (exit.c:78)\n==6316==    by 0x75D2984: exit (exit.c:100)\n==6316==    by 0x75B8773: (below main) (libc-start.c:258)\n==6316==  Address 0x189cc238 is 0 bytes after a block of size 8 alloc&#39;d\n==6316==    at 0x4C2AC27: operator new[](unsigned long) (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)\n==6316==    by 0x70F0DED: std::moneypunct&lt;wchar_t, false&gt;::_M_initialize_moneypunct(__locale_struct*, char const*) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.16)\n==6316==    by 0x70E811E: std::locale::_Impl::_Impl(char const*, unsigned long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.16)\n==6316==    by 0x70E865E: std::locale::locale(char const*) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.16)\n==6316==    by 0x7B7FDDA: boost::filesystem3::path::wchar_t_codecvt_facet() (in /usr/lib/libboost_filesystem.so.1.46.1)\n==6316==    by 0x7B7558E: ??? (in /usr/lib/libboost_filesystem.so.1.46.1)\n==6316==    by 0x400F305: call_init.part.0 (dl-init.c:85)\n==6316==    by 0x400F3DE: _dl_init (dl-init.c:52)\n==6316==    by 0x40016E9: ??? (in /lib/x86_64-linux-gnu/ld-2.15.so)\n==6316== \n==6316== Invalid read of size 8\n==6316==    at 0x7638E18: wcscmp (wcscmp.S:479)\n==6316==    by 0x70F1003: std::moneypunct&lt;wchar_t, true&gt;::~moneypunct() (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.16)\n==6316==    by 0x70F1088: std::moneypunct&lt;wchar_t, true&gt;::~moneypunct() (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.16)\n==6316==    by 0x70E5A79: std::locale::_Impl::~_Impl() (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.16)\n==6316==    by 0x70E5C4C: std::locale::~locale() (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.16)\n==6316==    by 0x75D2D1C: __cxa_finalize (cxa_finalize.c:56)\n==6316==    by 0x7B75755: ??? (in /usr/lib/libboost_filesystem.so.1.46.1)\n==6316==    by 0x7B83010: ??? (in /usr/lib/libboost_filesystem.so.1.46.1)\n==6316==    by 0x75D2900: __run_exit_handlers (exit.c:78)\n==6316==    by 0x75D2984: exit (exit.c:100)\n==6316==    by 0x75B8773: (below main) (libc-start.c:258)\n==6316==  Address 0x189cc468 is 0 bytes after a block of size 8 alloc&#39;d\n==6316==    at 0x4C2AC27: operator new[](unsigned long) (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)\n==6316==    by 0x70F07FD: std::moneypunct&lt;wchar_t, true&gt;::_M_initialize_moneypunct(__locale_struct*, char const*) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.16)\n==6316==    by 0x70E816B: std::locale::_Impl::_Impl(char const*, unsigned long) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.16)\n==6316==    by 0x70E865E: std::locale::locale(char const*) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.16)\n==6316==    by 0x7B7FDDA: boost::filesystem3::path::wchar_t_codecvt_facet() (in /usr/lib/libboost_filesystem.so.1.46.1)\n==6316==    by 0x7B7558E: ??? (in /usr/lib/libboost_filesystem.so.1.46.1)\n==6316==    by 0x400F305: call_init.part.0 (dl-init.c:85)\n==6316==    by 0x400F3DE: _dl_init (dl-init.c:52)\n==6316==    by 0x40016E9: ??? (in /lib/x86_64-linux-gnu/ld-2.15.so)\n==6316== \n==6316== \n==6316== HEAP SUMMARY:\n==6316==     in use at exit: 5,457,222 bytes in 63,467 blocks\n==6316==   total heap usage: 603,612 allocs, 540,145 frees, 40,139,559 bytes allocated\n==6316== \n==6316== LEAK SUMMARY:\n==6316==    definitely lost: 389,040 bytes in 681 blocks\n==6316==    indirectly lost: 4,645,039 bytes in 56,066 blocks\n==6316==      possibly lost: 82,755 bytes in 1,910 blocks\n==6316==    still reachable: 340,388 bytes in 4,810 blocks\n==6316==         suppressed: 0 bytes in 0 blocks\n==6316== Rerun with --leak-check=full to see details of leaked memory\n==6316== \n==6316== For counts of detected and suppressed errors, rerun with: -v\n==6316== ERROR SUMMARY: 2 errors from 2 contexts (suppressed: 2 from 2)\n</pre></div>", "type": "rendered"}, "created_on": "2013-06-01T15:32:08.021005+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2013-06-01T15:32:08.029583+00:00", "type": "pullrequest_comment", "id": 285164}