{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/571/comments/285725.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/571/_/diff#comment-285725"}}, "parent": {"id": 285648, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/571/comments/285648.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/571/_/diff#comment-285648"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 571, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/571.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/571"}}, "title": "Logging and transport performance improvements "}, "content": {"raw": "Running it in [jenkins](http://build.osrfoundation.org/job/gazebo-any-devel-precise-amd64-gpu-sl/14/consoleFull), several tests, including both for Sensors, are failing with the message: \"pure virtual method called\"\n\nI caught one in my local machine: seems like we are destroying a Connection which has a pure virtual destructor.\n```\n#0  0x00007fcdc8035425 in __GI_raise (sig=<optimized out>)\n    at ../nptl/sysdeps/unix/sysv/linux/raise.c:64\n#1  0x00007fcdc8038b8b in __GI_abort () at abort.c:91\n#2  0x00007fcdc868b69d in __gnu_cxx::__verbose_terminate_handler() ()\n   from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#3  0x00007fcdc8689846 in ?? () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#4  0x00007fcdc8689873 in std::terminate() () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#5  0x00007fcdc868a28f in __cxa_pure_virtual () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#6  0x00007fcdcadce81f in gazebo::event::Connection::~Connection (this=0x7fcda8430210, \n    __in_chrg=<optimized out>) at /home/jrivero/code/gazebo_log_debug/gazebo/common/Event.cc:42\n#7  0x00007fcdca722c98 in boost::checked_delete<gazebo::event::Connection> (x=0x7fcda8430210)\n    at /usr/include/boost/checked_delete.hpp:34\n#8  0x00007fcdca725702 in boost::detail::sp_counted_impl_p<gazebo::event::Connection>::dispose\n    (this=0x7fcdab096710) at /usr/include/boost/smart_ptr/detail/sp_counted_impl.hpp:78\n#9  0x0000000000466076 in boost::detail::sp_counted_base::release (this=0x7fcdab096710)\n    at /usr/include/boost/smart_ptr/detail/sp_counted_base_gcc_x86.hpp:145\n#10 0x0000000000466139 in boost::detail::shared_count::~shared_count (this=0x7fcd75063988, \n    __in_chrg=<optimized out>) at /usr/include/boost/smart_ptr/detail/shared_count.hpp:217\n#11 0x00007fcdcadcf284 in boost::shared_ptr<gazebo::event::Connection>::~shared_ptr (\n    this=0x7fcd75063980, __in_chrg=<optimized out>)\n    at /usr/include/boost/smart_ptr/shared_ptr.hpp:168\n#12 0x00007fcda59b360d in gazebo::RayPlugin::~RayPlugin (this=0x7fcd75063960, \n    __in_chrg=<optimized out>) at /home/jrivero/code/gazebo_log_debug/plugins/RayPlugin.cc:36\n#13 0x00007fcda59b36ac in gazebo::RayPlugin::~RayPlugin (this=0x7fcd75063960, \n    __in_chrg=<optimized out>) at /home/jrivero/code/gazebo_log_debug/plugins/RayPlugin.cc:40\n#14 0x00007fcdca3002de in boost::checked_delete<gazebo::SensorPlugin> (x=0x7fcd75063960)\n    at /usr/include/boost/checked_delete.hpp:34\n... snipped ...\n```\n", "markup": "markdown", "html": "<p>Running it in <a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/job/gazebo-any-devel-precise-amd64-gpu-sl/14/consoleFull\" rel=\"nofollow\">jenkins</a>, several tests, including both for Sensors, are failing with the message: \"pure virtual method called\"</p>\n<p>I caught one in my local machine: seems like we are destroying a Connection which has a pure virtual destructor.</p>\n<div class=\"codehilite\"><pre><span></span>#0  0x00007fcdc8035425 in __GI_raise (sig=&lt;optimized out&gt;)\n    at ../nptl/sysdeps/unix/sysv/linux/raise.c:64\n#1  0x00007fcdc8038b8b in __GI_abort () at abort.c:91\n#2  0x00007fcdc868b69d in __gnu_cxx::__verbose_terminate_handler() ()\n   from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#3  0x00007fcdc8689846 in ?? () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#4  0x00007fcdc8689873 in std::terminate() () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#5  0x00007fcdc868a28f in __cxa_pure_virtual () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#6  0x00007fcdcadce81f in gazebo::event::Connection::~Connection (this=0x7fcda8430210, \n    __in_chrg=&lt;optimized out&gt;) at /home/jrivero/code/gazebo_log_debug/gazebo/common/Event.cc:42\n#7  0x00007fcdca722c98 in boost::checked_delete&lt;gazebo::event::Connection&gt; (x=0x7fcda8430210)\n    at /usr/include/boost/checked_delete.hpp:34\n#8  0x00007fcdca725702 in boost::detail::sp_counted_impl_p&lt;gazebo::event::Connection&gt;::dispose\n    (this=0x7fcdab096710) at /usr/include/boost/smart_ptr/detail/sp_counted_impl.hpp:78\n#9  0x0000000000466076 in boost::detail::sp_counted_base::release (this=0x7fcdab096710)\n    at /usr/include/boost/smart_ptr/detail/sp_counted_base_gcc_x86.hpp:145\n#10 0x0000000000466139 in boost::detail::shared_count::~shared_count (this=0x7fcd75063988, \n    __in_chrg=&lt;optimized out&gt;) at /usr/include/boost/smart_ptr/detail/shared_count.hpp:217\n#11 0x00007fcdcadcf284 in boost::shared_ptr&lt;gazebo::event::Connection&gt;::~shared_ptr (\n    this=0x7fcd75063980, __in_chrg=&lt;optimized out&gt;)\n    at /usr/include/boost/smart_ptr/shared_ptr.hpp:168\n#12 0x00007fcda59b360d in gazebo::RayPlugin::~RayPlugin (this=0x7fcd75063960, \n    __in_chrg=&lt;optimized out&gt;) at /home/jrivero/code/gazebo_log_debug/plugins/RayPlugin.cc:36\n#13 0x00007fcda59b36ac in gazebo::RayPlugin::~RayPlugin (this=0x7fcd75063960, \n    __in_chrg=&lt;optimized out&gt;) at /home/jrivero/code/gazebo_log_debug/plugins/RayPlugin.cc:40\n#14 0x00007fcdca3002de in boost::checked_delete&lt;gazebo::SensorPlugin&gt; (x=0x7fcd75063960)\n    at /usr/include/boost/checked_delete.hpp:34\n... snipped ...\n</pre></div>", "type": "rendered"}, "created_on": "2013-06-03T01:57:52.532191+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2013-06-03T01:58:10.256817+00:00", "type": "pullrequest_comment", "id": 285725}