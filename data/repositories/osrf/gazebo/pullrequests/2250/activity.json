{"pagelen": 50, "values": [{"update": {"description": "There is a race condition in `~TimePanelPrivate` since the `statsSub` subscriber is defined near the top of the `TimePanelPrivate` class. This means other variables are deleted before the subscriber, which leads to seg-faults if the subscriber callback happens at the wrong time. This failure was exacerbated by adding a large delay to `~Subscriber` in 3a9e11d and was [confirmed in jenkins](http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64_flaky/8/).\r\n\r\n~~~\r\n117: libc++abi.dylib: terminating with uncaught exception of type\r\n boost::exception_detail::clone_impl<boost::exception_detail::error_info_injector<boost::lock_error> >:\r\n boost: mutex lock failed in pthread_mutex_lock: Invalid argument\r\n117/418 Test #117: UNIT_TimePanel_TEST ...................................***Exception: Other 10.24 sec\r\n~~~\r\n\r\nThis PR changes the order of variable declarations in `TimePrivate` so that the subscriber `statsSub` subscriber and a few other variables get deleted first.\r\n\r\nThis is targeting gazebo6 and will be merged forward.", "title": "Fix race condition in ~TimePanelPrivate (#1919)", "destination": {"commit": {"hash": "18197364a6b7", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/18197364a6b7.json"}, "html": {"href": "#!/osrf/gazebo/commits/18197364a6b7"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo6"}}, "reason": "", "source": {"commit": {"hash": "cffb936ba182", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/cffb936ba182.json"}, "html": {"href": "#!/osrf/gazebo/commits/cffb936ba182"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "timepanel_destructor6"}}, "state": "MERGED", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2016-04-12T17:05:16.023170+00:00"}, "pull_request": {"type": "pullrequest", "id": 2250, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2250.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2250"}}, "title": "Fix race condition in ~TimePanelPrivate (#1919)"}}, {"approval": {"date": "2016-04-12T17:02:30.706463+00:00", "pullrequest": {"type": "pullrequest", "id": 2250, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2250.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2250"}}, "title": "Fix race condition in ~TimePanelPrivate (#1919)"}, "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}}, "pull_request": {"type": "pullrequest", "id": 2250, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2250.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2250"}}, "title": "Fix race condition in ~TimePanelPrivate (#1919)"}}, {"approval": {"date": "2016-04-12T01:55:15.688702+00:00", "pullrequest": {"type": "pullrequest", "id": 2250, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2250.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2250"}}, "title": "Fix race condition in ~TimePanelPrivate (#1919)"}, "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}}, "pull_request": {"type": "pullrequest", "id": 2250, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2250.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2250"}}, "title": "Fix race condition in ~TimePanelPrivate (#1919)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2250/comments/16997103.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2250/_/diff#comment-16997103"}}, "parent": {"id": 16996093, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2250/comments/16996093.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2250/_/diff#comment-16996093"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2250, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2250.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2250"}}, "title": "Fix race condition in ~TimePanelPrivate (#1919)"}, "content": {"raw": "comment added in cffb936", "markup": "markdown", "html": "<p>comment added in <a href=\"#!/osrf/gazebo/commits/cffb936\" rel=\"nofollow\" class=\"ap-connect-link\">cffb936</a></p>", "type": "rendered"}, "created_on": "2016-04-08T18:28:29.928276+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2016-04-08T18:28:29.930510+00:00", "type": "pullrequest_comment", "id": 16997103}, "pull_request": {"type": "pullrequest", "id": 2250, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2250.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2250"}}, "title": "Fix race condition in ~TimePanelPrivate (#1919)"}}, {"update": {"description": "There is a race condition in `~TimePanelPrivate` since the `statsSub` subscriber is defined near the top of the `TimePanelPrivate` class. This means other variables are deleted before the subscriber, which leads to seg-faults if the subscriber callback happens at the wrong time. This failure was exacerbated by adding a large delay to `~Subscriber` in 3a9e11d and was [confirmed in jenkins](http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64_flaky/8/).\r\n\r\n~~~\r\n117: libc++abi.dylib: terminating with uncaught exception of type\r\n boost::exception_detail::clone_impl<boost::exception_detail::error_info_injector<boost::lock_error> >:\r\n boost: mutex lock failed in pthread_mutex_lock: Invalid argument\r\n117/418 Test #117: UNIT_TimePanel_TEST ...................................***Exception: Other 10.24 sec\r\n~~~\r\n\r\nThis PR changes the order of variable declarations in `TimePrivate` so that the subscriber `statsSub` subscriber and a few other variables get deleted first.\r\n\r\nThis is targeting gazebo6 and will be merged forward.", "title": "Fix race condition in ~TimePanelPrivate (#1919)", "destination": {"commit": {"hash": "93fa9f57b1b3", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/93fa9f57b1b3.json"}, "html": {"href": "#!/osrf/gazebo/commits/93fa9f57b1b3"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo6"}}, "reason": "", "source": {"commit": {"hash": "cffb936ba182", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/cffb936ba182.json"}, "html": {"href": "#!/osrf/gazebo/commits/cffb936ba182"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "timepanel_destructor6"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2016-04-08T18:28:17.333638+00:00"}, "pull_request": {"type": "pullrequest", "id": 2250, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2250.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2250"}}, "title": "Fix race condition in ~TimePanelPrivate (#1919)"}}, {"update": {"description": "There is a race condition in `~TimePanelPrivate` since the `statsSub` subscriber is defined near the top of the `TimePanelPrivate` class. This means other variables are deleted before the subscriber, which leads to seg-faults if the subscriber callback happens at the wrong time. This failure was exacerbated by adding a large delay to `~Subscriber` in 3a9e11d and was [confirmed in jenkins](http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64_flaky/8/).\r\n\r\n~~~\r\n117: libc++abi.dylib: terminating with uncaught exception of type\r\n boost::exception_detail::clone_impl<boost::exception_detail::error_info_injector<boost::lock_error> >:\r\n boost: mutex lock failed in pthread_mutex_lock: Invalid argument\r\n117/418 Test #117: UNIT_TimePanel_TEST ...................................***Exception: Other 10.24 sec\r\n~~~\r\n\r\nThis PR changes the order of variable declarations in `TimePrivate` so that the subscriber `statsSub` subscriber and a few other variables get deleted first.\r\n\r\nThis is targeting gazebo6 and will be merged forward.", "title": "Fix race condition in ~TimePanelPrivate (#1919)", "destination": {"commit": {"hash": "93fa9f57b1b3", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/93fa9f57b1b3.json"}, "html": {"href": "#!/osrf/gazebo/commits/93fa9f57b1b3"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo6"}}, "reason": "", "source": {"commit": {"hash": "cffb936ba182", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/cffb936ba182.json"}, "html": {"href": "#!/osrf/gazebo/commits/cffb936ba182"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "timepanel_destructor6"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2016-04-08T18:28:13.778646+00:00"}, "pull_request": {"type": "pullrequest", "id": 2250, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2250.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2250"}}, "title": "Fix race condition in ~TimePanelPrivate (#1919)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2250/comments/16997011.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2250/_/diff#comment-16997011"}}, "parent": {"id": 16996093, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2250/comments/16996093.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2250/_/diff#comment-16996093"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2250, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2250.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2250"}}, "title": "Fix race condition in ~TimePanelPrivate (#1919)"}, "content": {"raw": "Yes, the problem happens because the subscriber is one of the last things to be deleted. I tried moving the mutex to the front, but then it fails when accessing the `std::list`s. I'd rather let them be deleted automatically, but I'll add a comment about keeping the subscriber towards the end of the list with a reference to #1919.", "markup": "markdown", "html": "<p>Yes, the problem happens because the subscriber is one of the last things to be deleted. I tried moving the mutex to the front, but then it fails when accessing the <code>std::list</code>s. I'd rather let them be deleted automatically, but I'll add a comment about keeping the subscriber towards the end of the list with a reference to <a href=\"#!/osrf/gazebo/issues/1919/flaky-race-condition-in-timepanel\" rel=\"nofollow\" title=\"Flaky race condition in ~TimePanel\" class=\"ap-connect-link\"><s>#1919</s></a>.</p>", "type": "rendered"}, "created_on": "2016-04-08T18:26:08.537259+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2016-04-08T18:26:08.539976+00:00", "type": "pullrequest_comment", "id": 16997011}, "pull_request": {"type": "pullrequest", "id": 2250, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2250.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2250"}}, "title": "Fix race condition in ~TimePanelPrivate (#1919)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2250/comments/16996093.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2250/_/diff#comment-16996093"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2250, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2250.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2250"}}, "title": "Fix race condition in ~TimePanelPrivate (#1919)"}, "content": {"raw": "Is the problem happening because the mutex is deleted before the subscriber? I wonder if this fix is safe enough. I think we could at least add a note to the code so that we don't accidentally change the order in the future. Or we could be even more explicit and delete them in order in `~TimePanel`, with a note about the order being important. What do you think?", "markup": "markdown", "html": "<p>Is the problem happening because the mutex is deleted before the subscriber? I wonder if this fix is safe enough. I think we could at least add a note to the code so that we don't accidentally change the order in the future. Or we could be even more explicit and delete them in order in <code>~TimePanel</code>, with a note about the order being important. What do you think?</p>", "type": "rendered"}, "created_on": "2016-04-08T18:03:59.163825+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2016-04-08T18:03:59.166876+00:00", "type": "pullrequest_comment", "id": 16996093}, "pull_request": {"type": "pullrequest", "id": 2250, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2250.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2250"}}, "title": "Fix race condition in ~TimePanelPrivate (#1919)"}}, {"update": {"description": "There is a race condition in `~TimePanelPrivate` since the `statsSub` subscriber is defined near the top of the `TimePanelPrivate` class. This means other variables are deleted before the subscriber, which leads to seg-faults if the subscriber callback happens at the wrong time. This failure was exacerbated by adding a large delay to `~Subscriber` in 3a9e11d and was [confirmed in jenkins](http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64_flaky/8/).\r\n\r\n~~~\r\n117: libc++abi.dylib: terminating with uncaught exception of type\r\n boost::exception_detail::clone_impl<boost::exception_detail::error_info_injector<boost::lock_error> >:\r\n boost: mutex lock failed in pthread_mutex_lock: Invalid argument\r\n117/418 Test #117: UNIT_TimePanel_TEST ...................................***Exception: Other 10.24 sec\r\n~~~\r\n\r\nThis PR changes the order of variable declarations in `TimePrivate` so that the subscriber `statsSub` subscriber and a few other variables get deleted first.\r\n\r\nThis is targeting gazebo6 and will be merged forward.", "title": "Fix race condition in ~TimePanelPrivate (#1919)", "destination": {"commit": {"hash": "93fa9f57b1b3", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/93fa9f57b1b3.json"}, "html": {"href": "#!/osrf/gazebo/commits/93fa9f57b1b3"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo6"}}, "reason": "", "source": {"commit": {"hash": "3b31d4d21fcf", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/3b31d4d21fcf.json"}, "html": {"href": "#!/osrf/gazebo/commits/3b31d4d21fcf"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "timepanel_destructor6"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2016-04-08T10:21:00.102647+00:00"}, "pull_request": {"type": "pullrequest", "id": 2250, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2250.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2250"}}, "title": "Fix race condition in ~TimePanelPrivate (#1919)"}}, {"update": {"description": "There is a race condition in `~TimePanelPrivate` since the `statsSub` subscriber is defined near the top of the `TimePanelPrivate` class. This means other variables are deleted before the subscriber, which leads to seg-faults if the subscriber callback happens at the wrong time. This failure was exacerbated by adding a large delay to `~Subscriber` in 3a9e11d and was [confirmed in jenkins](http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64_flaky/8/).\r\n\r\n~~~\r\n117: libc++abi.dylib: terminating with uncaught exception of type\r\n boost::exception_detail::clone_impl<boost::exception_detail::error_info_injector<boost::lock_error> >:\r\n boost: mutex lock failed in pthread_mutex_lock: Invalid argument\r\n117/418 Test #117: UNIT_TimePanel_TEST ...................................***Exception: Other 10.24 sec\r\n~~~\r\n\r\nThis PR changes the order of variable declarations in `TimePrivate` so that the subscriber `statsSub` subscriber and a few other variables get deleted first.\r\n\r\nThis is targeting gazebo6 and will be merged forward.", "title": "Fix race condition in ~TimePanelPrivate (#1919)", "destination": {"commit": {"hash": "93fa9f57b1b3", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/93fa9f57b1b3.json"}, "html": {"href": "#!/osrf/gazebo/commits/93fa9f57b1b3"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo6"}}, "reason": "", "source": {"commit": {"hash": "3b31d4d21fcf", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/3b31d4d21fcf.json"}, "html": {"href": "#!/osrf/gazebo/commits/3b31d4d21fcf"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "timepanel_destructor6"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2016-04-08T10:21:00.048778+00:00"}, "pull_request": {"type": "pullrequest", "id": 2250, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2250.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2250"}}, "title": "Fix race condition in ~TimePanelPrivate (#1919)"}}]}