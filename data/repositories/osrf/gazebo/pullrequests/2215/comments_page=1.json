{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215/comments/16313932.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/thomio/gazebo:b7c8c21b4ba5..81cc629155b9?path=gazebo%2Fphysics%2Fsimbody%2FSimbodyPhysics.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215/_/diff#comment-16313932"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2215, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215"}}, "title": "Fix bug when simbody is launched without any model"}, "content": {"raw": "**These lines fix this:**\n\nterminate called after throwing an instance of 'SimTK::Exception::StageTooLow'\n\n  what(): SimTK Exception thrown at StateImpl.h:1269:\n\n  Expected stage to be at least Topology in StateImpl::getTime() but current stage was Empty", "markup": "markdown", "html": "<p><strong>These lines fix this:</strong></p>\n<p>terminate called after throwing an instance of 'SimTK::Exception::StageTooLow'</p>\n<p>what(): SimTK Exception thrown at StateImpl.h:1269:</p>\n<p>Expected stage to be at least Topology in StateImpl::getTime() but current stage was Empty</p>", "type": "rendered"}, "created_on": "2016-03-27T04:18:56.903263+00:00", "user": {"display_name": "Thomio Watanabe", "uuid": "{34726500-06f7-4a09-a04e-cc033b5a35f8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B34726500-06f7-4a09-a04e-cc033b5a35f8%7D"}, "html": {"href": "https://bitbucket.org/%7B34726500-06f7-4a09-a04e-cc033b5a35f8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/07214b7837e59489910f9fe768b204d7d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsTW-3.png"}}, "nickname": "thomio", "type": "user", "account_id": "557058:97b134c0-0081-4310-b756-a4aa6e9a7309"}, "inline": {"to": 648, "from": null, "path": "gazebo/physics/simbody/SimbodyPhysics.cc"}, "updated_on": "2016-03-27T04:18:56.970692+00:00", "type": "pullrequest_comment", "id": 16313932}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215/comments/16323263.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215/_/diff#comment-16323263"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2215, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215"}}, "title": "Fix bug when simbody is launched without any model"}, "content": {"raw": "Thank you for the contribution!\n\nHere are some continuous integration results:\n\n* [homebrew](http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/gazebo-ci-pr_any-homebrew-amd64/263/) has a lot of test failures, we need to investigate whether they were caused by this pull request or not.\n\n* [trusty no gpu](http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/gazebo-ci-pr_any-trusty-amd64-gpu-none/260/) has no test errors and a couple of cppcheck warnings\n\n* [trusty gpu](http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/251/) has a few failed tests which are most certainly unrelated, and the same cppcheck warnings.\n\nIt would be nice to write a little test for this. Maybe we could transform the [`ClearEmptyWorld`](#!/osrf/gazebo/src/170103dbc7b16848aa136a0a11289ba2762a5668/test/integration/world.cc?at=remove_blank_world&fileviewer=file-view-default#world.cc-26) test, which is a `TEST_F` into a `TEST_P`, so it runs for all physics engines. I believe the change should be straightforward, see [this](#!/osrf/gazebo/src/170103dbc7b16848aa136a0a11289ba2762a5668/test/integration/physics.cc?at=remove_blank_world&fileviewer=file-view-default#physics.cc-50) test for an example. ", "markup": "markdown", "html": "<p>Thank you for the contribution!</p>\n<p>Here are some continuous integration results:</p>\n<ul>\n<li>\n<p><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/gazebo-ci-pr_any-homebrew-amd64/263/\" rel=\"nofollow\">homebrew</a> has a lot of test failures, we need to investigate whether they were caused by this pull request or not.</p>\n</li>\n<li>\n<p><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/gazebo-ci-pr_any-trusty-amd64-gpu-none/260/\" rel=\"nofollow\">trusty no gpu</a> has no test errors and a couple of cppcheck warnings</p>\n</li>\n<li>\n<p><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/251/\" rel=\"nofollow\">trusty gpu</a> has a few failed tests which are most certainly unrelated, and the same cppcheck warnings.</p>\n</li>\n</ul>\n<p>It would be nice to write a little test for this. Maybe we could transform the <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/170103dbc7b16848aa136a0a11289ba2762a5668/test/integration/world.cc?at=remove_blank_world&amp;fileviewer=file-view-default#world.cc-26\" rel=\"nofollow\"><code>ClearEmptyWorld</code></a> test, which is a <code>TEST_F</code> into a <code>TEST_P</code>, so it runs for all physics engines. I believe the change should be straightforward, see <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/170103dbc7b16848aa136a0a11289ba2762a5668/test/integration/physics.cc?at=remove_blank_world&amp;fileviewer=file-view-default#physics.cc-50\" rel=\"nofollow\">this</a> test for an example. </p>", "type": "rendered"}, "created_on": "2016-03-27T16:03:15.089569+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2016-03-27T16:03:15.092446+00:00", "type": "pullrequest_comment", "id": 16323263}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215/comments/16371366.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215/_/diff#comment-16371366"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2215, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215"}}, "title": "Fix bug when simbody is launched without any model"}, "content": {"raw": "Hi Louise,\n\nHow do I check each one of these errors ?\n\nDo I parse different physics engines to **TEST_F(WorldTest, ClearEmptyWorld)** using this ?\n\n    Load(\"worlds/empty.world\", true, _physicsEngine);\n\n\n", "markup": "markdown", "html": "<p>Hi Louise,</p>\n<p>How do I check each one of these errors ?</p>\n<p>Do I parse different physics engines to <strong>TEST_F(WorldTest, ClearEmptyWorld)</strong> using this ?</p>\n<div class=\"codehilite\"><pre><span></span>Load(&quot;worlds/empty.world&quot;, true, _physicsEngine);\n</pre></div>", "type": "rendered"}, "created_on": "2016-03-28T22:12:52.781222+00:00", "user": {"display_name": "Thomio Watanabe", "uuid": "{34726500-06f7-4a09-a04e-cc033b5a35f8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B34726500-06f7-4a09-a04e-cc033b5a35f8%7D"}, "html": {"href": "https://bitbucket.org/%7B34726500-06f7-4a09-a04e-cc033b5a35f8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/07214b7837e59489910f9fe768b204d7d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsTW-3.png"}}, "nickname": "thomio", "type": "user", "account_id": "557058:97b134c0-0081-4310-b756-a4aa6e9a7309"}, "updated_on": "2016-03-28T22:12:52.839798+00:00", "type": "pullrequest_comment", "id": 16371366}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215/comments/16372062.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215/_/diff#comment-16372062"}}, "parent": {"id": 16371366, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215/comments/16371366.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215/_/diff#comment-16371366"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2215, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215"}}, "title": "Fix bug when simbody is launched without any model"}, "content": {"raw": "Sorry about the vague directions, I just checked now that it isn't as straight forward as I thought. Try this patch:\n\n~~~\ndiff -r 170103dbc7b1 test/integration/world.cc\n--- a/test/integration/world.cc\tThu Mar 24 19:02:30 2016 -0700\n+++ b/test/integration/world.cc\tMon Mar 28 15:32:52 2016 -0700\n@@ -17,19 +17,28 @@\n #include \"gazebo/test/ServerFixture.hh\"\n #include \"gazebo/physics/Light.hh\"\n #include \"gazebo/physics/physics.hh\"\n+#include \"gazebo/test/helper_physics_generator.hh\"\n \n using namespace gazebo;\n-class WorldTest : public ServerFixture\n+class WorldTest : public ServerFixture,\n+                  public testing::WithParamInterface<const char*>\n {\n+  public: void ClearEmptyWorld(const std::string &_physicsEngine);\n };\n \n /////////////////////////////////////////////////\n-TEST_F(WorldTest, ClearEmptyWorld)\n+void WorldTest::ClearEmptyWorld(const std::string &_physicsEngine)\n {\n-  Load(\"worlds/blank.world\");\n+  Load(\"worlds/blank.world\", false, _physicsEngine);\n   physics::WorldPtr world = physics::get_world(\"default\");\n   ASSERT_TRUE(world != NULL);\n \n+  // Verify physics engine type\n+  gzdbg << \"Engine: \" << _physicsEngine << std::endl;\n+  physics::PhysicsEnginePtr physics = world->GetPhysicsEngine();\n+  ASSERT_TRUE(physics != NULL);\n+  EXPECT_EQ(physics->GetType(), _physicsEngine);\n+\n   EXPECT_EQ(world->GetModelCount(), 0u);\n \n   world->Clear();\n@@ -45,6 +54,11 @@\n   EXPECT_EQ(world->GetModelCount(), 1u);\n }\n \n+TEST_P(WorldTest, ClearEmptyWorld)\n+{\n+  ClearEmptyWorld(GetParam());\n+}\n+\n /////////////////////////////////////////////////\n TEST_F(WorldTest, Clear)\n {\n@@ -351,6 +365,8 @@\n   EXPECT_FALSE(boxModel != NULL);\n }\n \n+INSTANTIATE_TEST_CASE_P(PhysicsEngines, WorldTest, PHYSICS_ENGINE_VALUES);\n+\n /////////////////////////////////////////////////\n int main(int argc, char **argv)\n {\n~~~\n\nThen when you try to run this test case specifically:\n\n`./test/integration/INTEGRATION_world --gtest_filter=\"*Empty*\"`\n\nyou can see that it crashes for Simbody if we're on default. I haven't tried with your pull request yet to see if it passes then.", "markup": "markdown", "html": "<p>Sorry about the vague directions, I just checked now that it isn't as straight forward as I thought. Try this patch:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gh\">diff -r 170103dbc7b1 test/integration/world.cc</span>\n<span class=\"gd\">--- a/test/integration/world.cc Thu Mar 24 19:02:30 2016 -0700</span>\n<span class=\"gi\">+++ b/test/integration/world.cc Mon Mar 28 15:32:52 2016 -0700</span>\n<span class=\"gu\">@@ -17,19 +17,28 @@</span>\n #include &quot;gazebo/test/ServerFixture.hh&quot;\n #include &quot;gazebo/physics/Light.hh&quot;\n #include &quot;gazebo/physics/physics.hh&quot;\n<span class=\"gi\">+#include &quot;gazebo/test/helper_physics_generator.hh&quot;</span>\n\n using namespace gazebo;\n<span class=\"gd\">-class WorldTest : public ServerFixture</span>\n<span class=\"gi\">+class WorldTest : public ServerFixture,</span>\n<span class=\"gi\">+                  public testing::WithParamInterface&lt;const char*&gt;</span>\n {\n<span class=\"gi\">+  public: void ClearEmptyWorld(const std::string &amp;_physicsEngine);</span>\n };\n\n /////////////////////////////////////////////////\n<span class=\"gd\">-TEST_F(WorldTest, ClearEmptyWorld)</span>\n<span class=\"gi\">+void WorldTest::ClearEmptyWorld(const std::string &amp;_physicsEngine)</span>\n {\n<span class=\"gd\">-  Load(&quot;worlds/blank.world&quot;);</span>\n<span class=\"gi\">+  Load(&quot;worlds/blank.world&quot;, false, _physicsEngine);</span>\n   physics::WorldPtr world = physics::get_world(&quot;default&quot;);\n   ASSERT_TRUE(world != NULL);\n\n<span class=\"gi\">+  // Verify physics engine type</span>\n<span class=\"gi\">+  gzdbg &lt;&lt; &quot;Engine: &quot; &lt;&lt; _physicsEngine &lt;&lt; std::endl;</span>\n<span class=\"gi\">+  physics::PhysicsEnginePtr physics = world-&gt;GetPhysicsEngine();</span>\n<span class=\"gi\">+  ASSERT_TRUE(physics != NULL);</span>\n<span class=\"gi\">+  EXPECT_EQ(physics-&gt;GetType(), _physicsEngine);</span>\n<span class=\"gi\">+</span>\n   EXPECT_EQ(world-&gt;GetModelCount(), 0u);\n\n   world-&gt;Clear();\n<span class=\"gu\">@@ -45,6 +54,11 @@</span>\n   EXPECT_EQ(world-&gt;GetModelCount(), 1u);\n }\n\n<span class=\"gi\">+TEST_P(WorldTest, ClearEmptyWorld)</span>\n<span class=\"gi\">+{</span>\n<span class=\"gi\">+  ClearEmptyWorld(GetParam());</span>\n<span class=\"gi\">+}</span>\n<span class=\"gi\">+</span>\n /////////////////////////////////////////////////\n TEST_F(WorldTest, Clear)\n {\n<span class=\"gu\">@@ -351,6 +365,8 @@</span>\n   EXPECT_FALSE(boxModel != NULL);\n }\n\n<span class=\"gi\">+INSTANTIATE_TEST_CASE_P(PhysicsEngines, WorldTest, PHYSICS_ENGINE_VALUES);</span>\n<span class=\"gi\">+</span>\n /////////////////////////////////////////////////\n int main(int argc, char **argv)\n {\n</pre></div>\n\n\n<p>Then when you try to run this test case specifically:</p>\n<p><code>./test/integration/INTEGRATION_world --gtest_filter=\"*Empty*\"</code></p>\n<p>you can see that it crashes for Simbody if we're on default. I haven't tried with your pull request yet to see if it passes then.</p>", "type": "rendered"}, "created_on": "2016-03-28T22:40:26.525636+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2016-03-28T22:40:26.535760+00:00", "type": "pullrequest_comment", "id": 16372062}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215/comments/16373632.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215/_/diff#comment-16373632"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2215, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215"}}, "title": "Fix bug when simbody is launched without any model"}, "content": {"raw": "Thanks for the patch and the explanations.\n\nIt seems my pull request passes the test:\n\n![gazebo_test.png](data/bitbucket.org/repo/jgXqbo/images/3239713131-gazebo_test.png)\n\nI thought I had to check each one of the errors you cited.\n\nWhat should I do?", "markup": "markdown", "html": "<p>Thanks for the patch and the explanations.</p>\n<p>It seems my pull request passes the test:</p>\n<p><img alt=\"gazebo_test.png\" src=\"data/bitbucket.org/repo/jgXqbo/images/3239713131-gazebo_test.png\" /></p>\n<p>I thought I had to check each one of the errors you cited.</p>\n<p>What should I do?</p>", "type": "rendered"}, "created_on": "2016-03-28T23:41:20.591259+00:00", "user": {"display_name": "Thomio Watanabe", "uuid": "{34726500-06f7-4a09-a04e-cc033b5a35f8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B34726500-06f7-4a09-a04e-cc033b5a35f8%7D"}, "html": {"href": "https://bitbucket.org/%7B34726500-06f7-4a09-a04e-cc033b5a35f8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/07214b7837e59489910f9fe768b204d7d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsTW-3.png"}}, "nickname": "thomio", "type": "user", "account_id": "557058:97b134c0-0081-4310-b756-a4aa6e9a7309"}, "updated_on": "2016-03-28T23:41:20.650274+00:00", "type": "pullrequest_comment", "id": 16373632}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215/comments/16374182.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215/_/diff#comment-16374182"}}, "parent": {"id": 16373632, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215/comments/16373632.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215/_/diff#comment-16373632"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2215, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215"}}, "title": "Fix bug when simbody is launched without any model"}, "content": {"raw": "You could address the two cppcheck [errors](http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/gazebo-ci-pr_any-trusty-amd64-gpu-none/260/cppcheckResult/) and add the test above to this pull request. \n\nThen I'll trigger another round of CI jobs and we see whether the tests keep failing and new test passes.", "markup": "markdown", "html": "<p>You could address the two cppcheck <a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/gazebo-ci-pr_any-trusty-amd64-gpu-none/260/cppcheckResult/\" rel=\"nofollow\">errors</a> and add the test above to this pull request. </p>\n<p>Then I'll trigger another round of CI jobs and we see whether the tests keep failing and new test passes.</p>", "type": "rendered"}, "created_on": "2016-03-29T00:09:23.069597+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2016-03-29T00:09:23.071905+00:00", "type": "pullrequest_comment", "id": 16374182}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215/comments/16375439.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215/_/diff#comment-16375439"}}, "parent": {"id": 16374182, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215/comments/16374182.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215/_/diff#comment-16374182"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2215, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215"}}, "title": "Fix bug when simbody is launched without any model"}, "content": {"raw": "done !", "markup": "markdown", "html": "<p>done !</p>", "type": "rendered"}, "created_on": "2016-03-29T00:55:40.268897+00:00", "user": {"display_name": "Thomio Watanabe", "uuid": "{34726500-06f7-4a09-a04e-cc033b5a35f8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B34726500-06f7-4a09-a04e-cc033b5a35f8%7D"}, "html": {"href": "https://bitbucket.org/%7B34726500-06f7-4a09-a04e-cc033b5a35f8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/07214b7837e59489910f9fe768b204d7d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsTW-3.png"}}, "nickname": "thomio", "type": "user", "account_id": "557058:97b134c0-0081-4310-b756-a4aa6e9a7309"}, "updated_on": "2016-03-29T00:55:40.380967+00:00", "type": "pullrequest_comment", "id": 16375439}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215/comments/16375539.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215/_/diff#comment-16375539"}}, "parent": {"id": 16375439, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215/comments/16375439.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215/_/diff#comment-16375439"}}, "depth": 3}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2215, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215"}}, "title": "Fix bug when simbody is launched without any model"}, "content": {"raw": "[homebrew](http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/gazebo-ci-pr_any-homebrew-amd64/267/testReport/) has several failed tests, but I don't think any of them are related to this PR. @scpeters, what do you think?\n\n[trusty no gpu](http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/gazebo-ci-pr_any-trusty-amd64-gpu-none/266/) has one failed test, but it failed with ODE and looks [flaky](http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/gazebo-ci-pr_any-trusty-amd64-gpu-none/266/testReport/junit/%28root%29/PhysicsEngines_JointKinematicTest/SetJointPositionThreadedTest_0/history/).", "markup": "markdown", "html": "<p><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/gazebo-ci-pr_any-homebrew-amd64/267/testReport/\" rel=\"nofollow\">homebrew</a> has several failed tests, but I don't think any of them are related to this PR. @scpeters, what do you think?</p>\n<p><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/gazebo-ci-pr_any-trusty-amd64-gpu-none/266/\" rel=\"nofollow\">trusty no gpu</a> has one failed test, but it failed with ODE and looks <a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/gazebo-ci-pr_any-trusty-amd64-gpu-none/266/testReport/junit/%28root%29/PhysicsEngines_JointKinematicTest/SetJointPositionThreadedTest_0/history/\" rel=\"nofollow\">flaky</a>.</p>", "type": "rendered"}, "created_on": "2016-03-29T01:00:33.910726+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2016-03-29T21:17:50.076236+00:00", "type": "pullrequest_comment", "id": 16375539}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215/comments/16422942.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215/_/diff#comment-16422942"}}, "parent": {"id": 16375539, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215/comments/16375539.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215/_/diff#comment-16375539"}}, "depth": 4}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2215, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215"}}, "title": "Fix bug when simbody is launched without any model"}, "content": {"raw": "Could you test this branch again but without our modifications ?\nI got some errors testing in a desktop.", "markup": "markdown", "html": "<p>Could you test this branch again but without our modifications ?\nI got some errors testing in a desktop.</p>", "type": "rendered"}, "created_on": "2016-03-29T21:17:58.458759+00:00", "user": {"display_name": "Thomio Watanabe", "uuid": "{34726500-06f7-4a09-a04e-cc033b5a35f8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B34726500-06f7-4a09-a04e-cc033b5a35f8%7D"}, "html": {"href": "https://bitbucket.org/%7B34726500-06f7-4a09-a04e-cc033b5a35f8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/07214b7837e59489910f9fe768b204d7d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsTW-3.png"}}, "nickname": "thomio", "type": "user", "account_id": "557058:97b134c0-0081-4310-b756-a4aa6e9a7309"}, "updated_on": "2016-03-29T21:17:58.713977+00:00", "type": "pullrequest_comment", "id": 16422942}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215/comments/16423058.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215/_/diff#comment-16423058"}}, "parent": {"id": 16422942, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215/comments/16422942.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215/_/diff#comment-16422942"}}, "depth": 5}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2215, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215"}}, "title": "Fix bug when simbody is launched without any model"}, "content": {"raw": "The new test passed on Jenkins and I think none of the existing Simbody tests has been broken. I haven't tried this locally yet. What kind of errors are you getting?\n\nWe can only test the pull request branch... Let us know what you think is wrong, we may want to write a new test for that as well.", "markup": "markdown", "html": "<p>The new test passed on Jenkins and I think none of the existing Simbody tests has been broken. I haven't tried this locally yet. What kind of errors are you getting?</p>\n<p>We can only test the pull request branch... Let us know what you think is wrong, we may want to write a new test for that as well.</p>", "type": "rendered"}, "created_on": "2016-03-29T21:21:31.124136+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2016-03-29T21:21:31.126958+00:00", "type": "pullrequest_comment", "id": 16423058}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215/comments/16423264.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215/_/diff#comment-16423264"}}, "parent": {"id": 16423058, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215/comments/16423058.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215/_/diff#comment-16423058"}}, "depth": 6}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2215, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215"}}, "title": "Fix bug when simbody is launched without any model"}, "content": {"raw": "The previous commit, before my first one give these test errors: \n\t159 - UNIT_LaserVisualization_TEST (Failed)\n\t169 - UNIT_ImagesView_TEST (OTHER_FAULT)\n\t269 - UNIT_GpuRaySensor_TEST (Failed)\n\t339 - INTEGRATION_joint_test (Failed)\n\t401 - INTEGRATION_speed (Timeout)\n\t402 - check_INTEGRATION_speed (Failed)\n\t441 - INTEGRATION_gpu_laser (Failed)\n", "markup": "markdown", "html": "<p>The previous commit, before my first one give these test errors: \n    159 - UNIT_LaserVisualization_TEST (Failed)\n    169 - UNIT_ImagesView_TEST (OTHER_FAULT)\n    269 - UNIT_GpuRaySensor_TEST (Failed)\n    339 - INTEGRATION_joint_test (Failed)\n    401 - INTEGRATION_speed (Timeout)\n    402 - check_INTEGRATION_speed (Failed)\n    441 - INTEGRATION_gpu_laser (Failed)</p>", "type": "rendered"}, "created_on": "2016-03-29T21:27:39.123739+00:00", "user": {"display_name": "Thomio Watanabe", "uuid": "{34726500-06f7-4a09-a04e-cc033b5a35f8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B34726500-06f7-4a09-a04e-cc033b5a35f8%7D"}, "html": {"href": "https://bitbucket.org/%7B34726500-06f7-4a09-a04e-cc033b5a35f8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/07214b7837e59489910f9fe768b204d7d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsTW-3.png"}}, "nickname": "thomio", "type": "user", "account_id": "557058:97b134c0-0081-4310-b756-a4aa6e9a7309"}, "updated_on": "2016-03-29T21:27:39.184071+00:00", "type": "pullrequest_comment", "id": 16423264}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215/comments/16423515.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215/_/diff#comment-16423515"}}, "parent": {"id": 16423264, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215/comments/16423264.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215/_/diff#comment-16423264"}}, "depth": 7}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2215, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215"}}, "title": "Fix bug when simbody is launched without any model"}, "content": {"raw": "There are some tests which are failing from time to time, so when tests fail it doesn't necessarily mean it's the pull request's fault. \n\nWe've been fixing many of these lately. Merging default into your branch will probably help with many of them, your branch is 250+ commits behind default.\n", "markup": "markdown", "html": "<p>There are some tests which are failing from time to time, so when tests fail it doesn't necessarily mean it's the pull request's fault. </p>\n<p>We've been fixing many of these lately. Merging default into your branch will probably help with many of them, your branch is 250+ commits behind default.</p>", "type": "rendered"}, "created_on": "2016-03-29T21:35:35.923425+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2016-03-29T21:35:35.925740+00:00", "type": "pullrequest_comment", "id": 16423515}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215/comments/16482933.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215/_/diff#comment-16482933"}}, "parent": {"id": 16423515, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215/comments/16423515.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215/_/diff#comment-16423515"}}, "depth": 8}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2215, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215"}}, "title": "Fix bug when simbody is launched without any model"}, "content": {"raw": "@thomio , could you sync this branch with default? Maybe if you click on the Commits tab on this page, you'll have the option to sync. Otherwise, you can:\n\n~~~\nhg pull #!/osrf/gazebo -b default\nhg up fix_simbody_blank_world\nhg merge default\nhg commit -m \"merged from default\"\nhg push\n~~~", "markup": "markdown", "html": "<p>@thomio , could you sync this branch with default? Maybe if you click on the Commits tab on this page, you'll have the option to sync. Otherwise, you can:</p>\n<div class=\"codehilite\"><pre><span></span>hg pull #!/osrf/gazebo -b default\nhg up fix_simbody_blank_world\nhg merge default\nhg commit -m &quot;merged from default&quot;\nhg push\n</pre></div>", "type": "rendered"}, "created_on": "2016-03-30T20:53:45.278121+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2016-03-30T20:53:45.345425+00:00", "type": "pullrequest_comment", "id": 16482933}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215/comments/16523704.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215/_/diff#comment-16523704"}}, "parent": {"id": 16482933, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215/comments/16482933.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215/_/diff#comment-16482933"}}, "depth": 9}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2215, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215"}}, "title": "Fix bug when simbody is launched without any model"}, "content": {"raw": "@chapulina done!", "markup": "markdown", "html": "<p>@chapulina done!</p>", "type": "rendered"}, "created_on": "2016-03-31T13:56:14.414086+00:00", "user": {"display_name": "Thomio Watanabe", "uuid": "{34726500-06f7-4a09-a04e-cc033b5a35f8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B34726500-06f7-4a09-a04e-cc033b5a35f8%7D"}, "html": {"href": "https://bitbucket.org/%7B34726500-06f7-4a09-a04e-cc033b5a35f8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/07214b7837e59489910f9fe768b204d7d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsTW-3.png"}}, "nickname": "thomio", "type": "user", "account_id": "557058:97b134c0-0081-4310-b756-a4aa6e9a7309"}, "updated_on": "2016-03-31T13:56:14.634975+00:00", "type": "pullrequest_comment", "id": 16523704}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215/comments/16546908.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/thomio/gazebo:7bbbc7f3bb70..5a97a169da4c?path=gazebo%2Fphysics%2Fsimbody%2FSimbodyPhysics.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215/_/diff#comment-16546908"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2215, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215"}}, "title": "Fix bug when simbody is launched without any model"}, "content": {"raw": "Maybe instead of removing this line, we can comment it out with the rest of the block below.", "markup": "markdown", "html": "<p>Maybe instead of removing this line, we can comment it out with the rest of the block below.</p>", "type": "rendered"}, "created_on": "2016-03-31T21:23:31.212289+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {"to": null, "from": 659, "path": "gazebo/physics/simbody/SimbodyPhysics.cc"}, "updated_on": "2016-03-31T21:23:31.214661+00:00", "type": "pullrequest_comment", "id": 16546908}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215/comments/16573957.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/thomio/gazebo:None..None?path=gazebo%2Fphysics%2Fsimbody%2FSimbodyPhysics.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215/_/diff#comment-16573957"}}, "parent": {"id": 16546908, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215/comments/16546908.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215/_/diff#comment-16546908"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2215, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215"}}, "title": "Fix bug when simbody is launched without any model"}, "content": {"raw": "I just moved this line above.\nLine: 646", "markup": "markdown", "html": "<p>I just moved this line above.\nLine: 646</p>", "type": "rendered"}, "created_on": "2016-04-01T11:17:52.735664+00:00", "user": {"display_name": "Thomio Watanabe", "uuid": "{34726500-06f7-4a09-a04e-cc033b5a35f8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B34726500-06f7-4a09-a04e-cc033b5a35f8%7D"}, "html": {"href": "https://bitbucket.org/%7B34726500-06f7-4a09-a04e-cc033b5a35f8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/07214b7837e59489910f9fe768b204d7d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsTW-3.png"}}, "nickname": "thomio", "type": "user", "account_id": "557058:97b134c0-0081-4310-b756-a4aa6e9a7309"}, "inline": {"to": null, "from": null, "path": "gazebo/physics/simbody/SimbodyPhysics.cc"}, "updated_on": "2016-04-01T11:17:53.009247+00:00", "type": "pullrequest_comment", "id": 16573957}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215/comments/16590997.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/thomio/gazebo:None..None?path=gazebo%2Fphysics%2Fsimbody%2FSimbodyPhysics.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215/_/diff#comment-16590997"}}, "parent": {"id": 16573957, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215/comments/16573957.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215/_/diff#comment-16573957"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2215, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215"}}, "title": "Fix bug when simbody is launched without any model"}, "content": {"raw": "ah yes, sorry for the noise", "markup": "markdown", "html": "<p>ah yes, sorry for the noise</p>", "type": "rendered"}, "created_on": "2016-04-01T15:31:06.770325+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {"to": null, "from": null, "path": "gazebo/physics/simbody/SimbodyPhysics.cc"}, "updated_on": "2016-04-01T15:31:06.779000+00:00", "type": "pullrequest_comment", "id": 16590997}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215/comments/16547332.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215/_/diff#comment-16547332"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2215, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215"}}, "title": "Fix bug when simbody is launched without any model"}, "content": {"raw": "I'm experiencing some crashes and freezing. To reproduce:\n\n1. I started gazebo with Simbody and a blank world:\n\n    `gazebo --verbose -e simbody ../worlds/blank.world`\n\n1. Pause simulation. \n\n1. Insert a `ground_plane`, a box and a light.\n\n1. Play simulation. Sometimes it crashes here with this error:\n\n    [Err] [SimbodyPhysics.cc:660] simbody stepTo() failed with message:\n    SimTK Exception thrown at AbstractIntegratorRep.cpp:428:\n      Integrator step failed at time 11.8672668953181 apparently because:\n    SimTK Exception thrown at AbstractIntegratorRep.cpp:547:\n      Error detected by Simbody method AbstractIntegrator::takeOneStep(): Unable to advance time past 11.8673.\n      (Required condition 't1 > t0' was not met.)\n\n    Will stop trying now.\n    terminate called after throwing an instance of 'SimTK::Exception::StageTooLow'\n      what():  SimTK Exception thrown at StateImpl.h:1667:\n      Expected stage to be at least Time in StateImpl::getCacheEntry() but current stage was Instance\n\n1. If it didn't crash, using the translate tool, drag the box up and let it fall. Do it a few times until it freezes (deadlock?) or crashes with:\n\n    terminate called after throwing an instance of 'SimTK::Exception::CacheEntryOutOfDate'\n      what():  SimTK Exception thrown at StateImpl.h:1678:\n      State Cache entry was out of date at Stage Position. This entry depends on version 59044 of Stage Position but was last updated at version 59043.\n\n\n", "markup": "markdown", "html": "<p>I'm experiencing some crashes and freezing. To reproduce:</p>\n<ol>\n<li>\n<p>I started gazebo with Simbody and a blank world:</p>\n<p><code>gazebo --verbose -e simbody ../worlds/blank.world</code></p>\n</li>\n<li>\n<p>Pause simulation. </p>\n</li>\n<li>\n<p>Insert a <code>ground_plane</code>, a box and a light.</p>\n</li>\n<li>\n<p>Play simulation. Sometimes it crashes here with this error:</p>\n<p>[Err] [SimbodyPhysics.cc:660] simbody stepTo() failed with message:\nSimTK Exception thrown at AbstractIntegratorRep.cpp:428:\n  Integrator step failed at time 11.<a href=\"#!/osrf/gazebo/commits/8672668953181\" rel=\"nofollow\" class=\"ap-connect-link\">8672668953181</a> apparently because:\nSimTK Exception thrown at AbstractIntegratorRep.cpp:547:\n  Error detected by Simbody method AbstractIntegrator::takeOneStep(): Unable to advance time past 11.8673.\n  (Required condition 't1 &gt; t0' was not met.)</p>\n<p>Will stop trying now.\nterminate called after throwing an instance of 'SimTK::Exception::StageTooLow'\n  what():  SimTK Exception thrown at StateImpl.h:1667:\n  Expected stage to be at least Time in StateImpl::getCacheEntry() but current stage was Instance</p>\n</li>\n<li>\n<p>If it didn't crash, using the translate tool, drag the box up and let it fall. Do it a few times until it freezes (deadlock?) or crashes with:</p>\n<p>terminate called after throwing an instance of 'SimTK::Exception::CacheEntryOutOfDate'\n  what():  SimTK Exception thrown at StateImpl.h:1678:\n  State Cache entry was out of date at Stage Position. This entry depends on version 59044 of Stage Position but was last updated at version 59043.</p>\n</li>\n</ol>", "type": "rendered"}, "created_on": "2016-03-31T21:36:21.583077+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2016-03-31T21:36:33.924486+00:00", "type": "pullrequest_comment", "id": 16547332}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215/comments/16574024.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215/_/diff#comment-16574024"}}, "parent": {"id": 16547332, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215/comments/16547332.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215/_/diff#comment-16547332"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2215, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215"}}, "title": "Fix bug when simbody is launched without any model"}, "content": {"raw": "I made a similar test before pushing the code, but it seems it was not enough.\n\nI'll try to reproduce these errors in my machine.", "markup": "markdown", "html": "<p>I made a similar test before pushing the code, but it seems it was not enough.</p>\n<p>I'll try to reproduce these errors in my machine.</p>", "type": "rendered"}, "created_on": "2016-04-01T11:19:17.097765+00:00", "user": {"display_name": "Thomio Watanabe", "uuid": "{34726500-06f7-4a09-a04e-cc033b5a35f8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B34726500-06f7-4a09-a04e-cc033b5a35f8%7D"}, "html": {"href": "https://bitbucket.org/%7B34726500-06f7-4a09-a04e-cc033b5a35f8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/07214b7837e59489910f9fe768b204d7d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsTW-3.png"}}, "nickname": "thomio", "type": "user", "account_id": "557058:97b134c0-0081-4310-b756-a4aa6e9a7309"}, "updated_on": "2016-04-01T11:19:18.161304+00:00", "type": "pullrequest_comment", "id": 16574024}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215/comments/16683452.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215/_/diff#comment-16683452"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2215, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215"}}, "title": "Fix bug when simbody is launched without any model"}, "content": {"raw": "@chapulina . I tried to reproduced the errors you cited, but the simulation didn't crashed.\n\nI made a video showing the test on [youtube](https://youtu.be/jmTVOpXQZII).\n\nI was in a desktop intel i5, with nvidia graphic card.\n\nI'm using the simbody version that comes in Gazebo repos: \n\nlibsimbody-dev:amd64   -  3.5.1-1~trusty", "markup": "markdown", "html": "<p>@chapulina . I tried to reproduced the errors you cited, but the simulation didn't crashed.</p>\n<p>I made a video showing the test on <a data-is-external-link=\"true\" href=\"https://youtu.be/jmTVOpXQZII\" rel=\"nofollow\">youtube</a>.</p>\n<p>I was in a desktop intel i5, with nvidia graphic card.</p>\n<p>I'm using the simbody version that comes in Gazebo repos: </p>\n<p>libsimbody-dev:amd64   -  3.5.1-1~trusty</p>", "type": "rendered"}, "created_on": "2016-04-04T02:57:13.193890+00:00", "user": {"display_name": "Thomio Watanabe", "uuid": "{34726500-06f7-4a09-a04e-cc033b5a35f8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B34726500-06f7-4a09-a04e-cc033b5a35f8%7D"}, "html": {"href": "https://bitbucket.org/%7B34726500-06f7-4a09-a04e-cc033b5a35f8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/07214b7837e59489910f9fe768b204d7d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsTW-3.png"}}, "nickname": "thomio", "type": "user", "account_id": "557058:97b134c0-0081-4310-b756-a4aa6e9a7309"}, "updated_on": "2016-04-04T02:57:13.266061+00:00", "type": "pullrequest_comment", "id": 16683452}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215/comments/16953142.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215/_/diff#comment-16953142"}}, "parent": {"id": 16683452, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215/comments/16683452.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215/_/diff#comment-16683452"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2215, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215"}}, "title": "Fix bug when simbody is launched without any model"}, "content": {"raw": "The crash is being a bit harder to reproduce. But I was able to reproduce the freezing after a few times, [here](https://gist.github.com/chapulina/cdee7160f432064ac958a17957c80b87)'s a backtrace.\n\nHowever, I was able to make it freeze even using the default branch, which suggests the problem is not introduced by this pull request.\n\nI'm ok with approving this pull request. Could you first merge default into it to fix conflicts? Thanks!", "markup": "markdown", "html": "<p>The crash is being a bit harder to reproduce. But I was able to reproduce the freezing after a few times, <a data-is-external-link=\"true\" href=\"https://gist.github.com/chapulina/cdee7160f432064ac958a17957c80b87\" rel=\"nofollow\">here</a>'s a backtrace.</p>\n<p>However, I was able to make it freeze even using the default branch, which suggests the problem is not introduced by this pull request.</p>\n<p>I'm ok with approving this pull request. Could you first merge default into it to fix conflicts? Thanks!</p>", "type": "rendered"}, "created_on": "2016-04-07T21:53:06.703675+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2016-04-07T21:53:06.706173+00:00", "type": "pullrequest_comment", "id": 16953142}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215/comments/16958405.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215/_/diff#comment-16958405"}}, "parent": {"id": 16953142, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215/comments/16953142.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215/_/diff#comment-16953142"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2215, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215"}}, "title": "Fix bug when simbody is launched without any model"}, "content": {"raw": "Done !", "markup": "markdown", "html": "<p>Done !</p>", "type": "rendered"}, "created_on": "2016-04-08T01:31:37.357118+00:00", "user": {"display_name": "Thomio Watanabe", "uuid": "{34726500-06f7-4a09-a04e-cc033b5a35f8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B34726500-06f7-4a09-a04e-cc033b5a35f8%7D"}, "html": {"href": "https://bitbucket.org/%7B34726500-06f7-4a09-a04e-cc033b5a35f8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/07214b7837e59489910f9fe768b204d7d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsTW-3.png"}}, "nickname": "thomio", "type": "user", "account_id": "557058:97b134c0-0081-4310-b756-a4aa6e9a7309"}, "updated_on": "2016-04-08T01:31:37.415233+00:00", "type": "pullrequest_comment", "id": 16958405}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215/comments/16953193.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/thomio/gazebo:498f5dd12a37..5efdcf9bf853?path=test%2Fintegration%2Fworld.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215/_/diff#comment-16953193"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2215, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215"}}, "title": "Fix bug when simbody is launched without any model"}, "content": {"raw": "Can you please add documentation here? Something like:\n\n~~~\n/// \\brief Test clearing an empty (blank) world.\n/// \\param[in] _physicsEngine Name of physics engine.\n~~~", "markup": "markdown", "html": "<p>Can you please add documentation here? Something like:</p>\n<div class=\"codehilite\"><pre><span></span>/// \\brief Test clearing an empty (blank) world.\n/// \\param[in] _physicsEngine Name of physics engine.\n</pre></div>", "type": "rendered"}, "created_on": "2016-04-07T21:54:33.969325+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {"to": 26, "from": null, "path": "test/integration/world.cc"}, "updated_on": "2016-04-07T21:54:33.972198+00:00", "type": "pullrequest_comment", "id": 16953193}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215/comments/16953212.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/thomio/gazebo:498f5dd12a37..5efdcf9bf853?path=test%2Fintegration%2Fworld.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215/_/diff#comment-16953212"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2215, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215"}}, "title": "Fix bug when simbody is launched without any model"}, "content": {"raw": "Please add 50 / before this line, like this:\n\n`/////////////////////////////////////////////////`", "markup": "markdown", "html": "<p>Please add 50 / before this line, like this:</p>\n<p><code>/////////////////////////////////////////////////</code></p>", "type": "rendered"}, "created_on": "2016-04-07T21:55:02.396148+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {"to": 57, "from": null, "path": "test/integration/world.cc"}, "updated_on": "2016-04-07T21:55:02.398246+00:00", "type": "pullrequest_comment", "id": 16953212}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215/comments/16958540.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215/_/diff#comment-16958540"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2215, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215"}}, "title": "Fix bug when simbody is launched without any model"}, "content": {"raw": "Queued [new](http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/gazebo-ci-pr_any-trusty-amd64-gpu-none/) build", "markup": "markdown", "html": "<p>Queued <a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/gazebo-ci-pr_any-trusty-amd64-gpu-none/\" rel=\"nofollow\">new</a> build</p>", "type": "rendered"}, "created_on": "2016-04-08T01:41:37.972555+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2016-04-08T01:41:37.975035+00:00", "type": "pullrequest_comment", "id": 16958540}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215/comments/16993562.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215/_/diff#comment-16993562"}}, "parent": {"id": 16958540, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215/comments/16958540.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215/_/diff#comment-16958540"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2215, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215"}}, "title": "Fix bug when simbody is launched without any model"}, "content": {"raw": "[It's](http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/gazebo-ci-pr_any-trusty-amd64-gpu-none/326/) :large_blue_circle: ", "markup": "markdown", "html": "<p><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/gazebo-ci-pr_any-trusty-amd64-gpu-none/326/\" rel=\"nofollow\">It's</a> :large_blue_circle: </p>", "type": "rendered"}, "created_on": "2016-04-08T16:57:23.159988+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2016-04-08T16:57:23.162440+00:00", "type": "pullrequest_comment", "id": 16993562}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215/comments/17952317.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215/_/diff#comment-17952317"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2215, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2215.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2215"}}, "title": "Fix bug when simbody is launched without any model"}, "content": {"raw": "I'm backporting this to gazebo7 and will enable the `INTEGRATION_world_remove` test for simbody.", "markup": "markdown", "html": "<p>I'm backporting this to gazebo7 and will enable the <code>INTEGRATION_world_remove</code> test for simbody.</p>", "type": "rendered"}, "created_on": "2016-04-29T17:12:05.422432+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2016-04-29T17:12:05.425543+00:00", "type": "pullrequest_comment", "id": 17952317}], "page": 1, "size": 27}