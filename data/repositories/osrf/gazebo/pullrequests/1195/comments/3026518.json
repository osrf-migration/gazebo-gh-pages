{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1195/comments/3026518.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:None..None?path=gazebo%2Fphysics%2FLink.hh"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1195/_/diff#comment-3026518"}}, "parent": {"id": 3025685, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1195/comments/3025685.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1195/_/diff#comment-3025685"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1195, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1195.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1195"}}, "title": "fix Link::AddTorque for Simbody and Bullet, with test"}, "content": {"raw": "I think you are both saying the same thing, despite appearances. If you apply a torque alone, there is no reference point. If you apply a lone force at a point, there is of course that point to specify, and no torque is applied. However, if you decide to shift the specification of the force to somewhere other than the point at which it was applied (such as at the body origin or COM) then a moment r X f is generated where r is the vector from where the force was actually applied to where you are expressing it. Thus to specify a pure force away from its application point you would have to apply (force,torque)=(f, r X f) making it appear as though the torque is associated with a point.\n\nSo to be precise: `AddForce` must take a force vector (typically expressed in the world frame) and an application point (typically expressed in the link frame). `AddTorque` should take only a torque vector in the world frame. If you then look under the covers at the accumulated forces and torque for a given link, you will see that the total force is just the sum of all the given force vectors, but the total torque is the sum of the torque vectors *plus* r X f moments generated by each of the forces at their application points.", "markup": "markdown", "html": "<p>I think you are both saying the same thing, despite appearances. If you apply a torque alone, there is no reference point. If you apply a lone force at a point, there is of course that point to specify, and no torque is applied. However, if you decide to shift the specification of the force to somewhere other than the point at which it was applied (such as at the body origin or COM) then a moment r X f is generated where r is the vector from where the force was actually applied to where you are expressing it. Thus to specify a pure force away from its application point you would have to apply (force,torque)=(f, r X f) making it appear as though the torque is associated with a point.</p>\n<p>So to be precise: <code>AddForce</code> must take a force vector (typically expressed in the world frame) and an application point (typically expressed in the link frame). <code>AddTorque</code> should take only a torque vector in the world frame. If you then look under the covers at the accumulated forces and torque for a given link, you will see that the total force is just the sum of all the given force vectors, but the total torque is the sum of the torque vectors <em>plus</em> r X f moments generated by each of the forces at their application points.</p>", "type": "rendered"}, "created_on": "2014-09-10T17:34:49.616550+00:00", "user": {"display_name": "Michael Sherman", "uuid": "{997c6f1e-e2a3-4f0e-8fa4-fed745840d50}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B997c6f1e-e2a3-4f0e-8fa4-fed745840d50%7D"}, "html": {"href": "https://bitbucket.org/%7B997c6f1e-e2a3-4f0e-8fa4-fed745840d50%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/355dea43ed612b7be3c9361df2d52213d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMS-2.png"}}, "nickname": "sherm1", "type": "user", "account_id": "557058:4590c319-b75f-4187-93d4-6cec61da74f7"}, "inline": {"to": null, "from": null, "outdated": false, "path": "gazebo/physics/Link.hh"}, "updated_on": "2014-09-10T17:34:49.624630+00:00", "type": "pullrequest_comment", "id": 3026518}