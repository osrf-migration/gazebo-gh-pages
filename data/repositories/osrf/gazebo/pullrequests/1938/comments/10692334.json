{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1938/comments/10692334.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1938/_/diff#comment-10692334"}}, "parent": {"id": 10691319, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1938/comments/10691319.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1938/_/diff#comment-10691319"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1938, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1938.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1938"}}, "title": "adding Model::CreateJoint method that actually adds the joint to Model::joints member variable."}, "content": {"raw": "it seg-faults during tear-down:\n\n~~~\n[Dbg] [ServerFixture.cc:193] ServerFixture load in 0.5 seconds, timeout after 600 seconds\n[Dbg] [ServerFixture.cc:119] ServerFixture::Unload\n\nProgram received signal SIGSEGV, Segmentation fault.\n[Switching to Thread 0x7fffd43ad700 (LWP 22676)]\n0x00000000000000a1 in ?? ()\n(gdb) bt\n#0  0x00000000000000a1 in ?? ()\n#1  0x00007ffff798b38e in boost::detail::sp_counted_base::release (this=0x7fff8c0b3ea0)\n    at /usr/include/boost/smart_ptr/detail/sp_counted_base_gcc_x86.hpp:146\n#2  0x00007ffff7abaa64 in ~shared_count (this=0x7fff8c0b9d68, __in_chrg=<optimized out>)\n    at /usr/include/boost/smart_ptr/detail/shared_count.hpp:371\n#3  ~shared_ptr (this=0x7fff8c0b9d60, __in_chrg=<optimized out>) at /usr/include/boost/smart_ptr/shared_ptr.hpp:328\n#4  _Destroy<boost::shared_ptr<gazebo::physics::Model> > (__pointer=0x7fff8c0b9d60) at /usr/include/c++/4.8/bits/stl_construct.h:93\n#5  __destroy<boost::shared_ptr<gazebo::physics::Model>*> (__last=<optimized out>, __first=0x7fff8c0b9d60)\n    at /usr/include/c++/4.8/bits/stl_construct.h:103\n#6  _Destroy<boost::shared_ptr<gazebo::physics::Model>*> (__last=<optimized out>, __first=<optimized out>)\n    at /usr/include/c++/4.8/bits/stl_construct.h:126\n#7  _Destroy<boost::shared_ptr<gazebo::physics::Model>*, boost::shared_ptr<gazebo::physics::Model> > (__last=0x7fff8c0b9d80, \n    __first=0x7fff8c0b9d50) at /usr/include/c++/4.8/bits/stl_construct.h:151\n#8  _M_erase_at_end (this=<optimized out>, __pos=0x7fff8c0b9d50) at /usr/include/c++/4.8/bits/stl_vector.h:1352\n#9  clear (this=0x7fffccb986d8) at /usr/include/c++/4.8/bits/stl_vector.h:1126\n#10 gazebo::physics::World::Fini (this=0x7fffcca16160) at gazebo/physics/World.cc:862\n#11 0x00007ffff7a9ef31 in gazebo::physics::remove_worlds () at gazebo/physics/PhysicsIface.cc:155\n#12 0x00007ffff7a9efc9 in gazebo::physics::fini () at gazebo/physics/PhysicsIface.cc:49\n#13 0x00007ffff73ca7c7 in gazebo::shutdown () at gazebo/gazebo.cc:175\n#14 0x00007ffff73b67e0 in gazebo::Server::Run (this=0x7fffcc000990) at gazebo/Server.cc:518\n#15 0x0000000000420856 in gazebo::ServerFixture::RunServer (this=0x729b30, _args=...)\n    at gazebo/test/ServerFixture.cc:263\n#16 0x00007ffff5a3aa4a in ?? () from /usr/lib/x86_64-linux-gnu/libboost_thread.so.1.54.0\n#17 0x00007ffff7186182 in start_thread (arg=0x7fffd43ad700) at pthread_create.c:312\n#18 0x00007ffff4b2a47d in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:111\n(gdb)\n~~~", "markup": "markdown", "html": "<p>it seg-faults during tear-down:</p>\n<div class=\"codehilite\"><pre><span></span>[Dbg] [ServerFixture.cc:193] ServerFixture load in 0.5 seconds, timeout after 600 seconds\n[Dbg] [ServerFixture.cc:119] ServerFixture::Unload\n\nProgram received signal SIGSEGV, Segmentation fault.\n[Switching to Thread 0x7fffd43ad700 (LWP 22676)]\n0x00000000000000a1 in ?? ()\n(gdb) bt\n#0  0x00000000000000a1 in ?? ()\n#1  0x00007ffff798b38e in boost::detail::sp_counted_base::release (this=0x7fff8c0b3ea0)\n    at /usr/include/boost/smart_ptr/detail/sp_counted_base_gcc_x86.hpp:146\n#2  0x00007ffff7abaa64 in ~shared_count (this=0x7fff8c0b9d68, __in_chrg=&lt;optimized out&gt;)\n    at /usr/include/boost/smart_ptr/detail/shared_count.hpp:371\n#3  ~shared_ptr (this=0x7fff8c0b9d60, __in_chrg=&lt;optimized out&gt;) at /usr/include/boost/smart_ptr/shared_ptr.hpp:328\n#4  _Destroy&lt;boost::shared_ptr&lt;gazebo::physics::Model&gt; &gt; (__pointer=0x7fff8c0b9d60) at /usr/include/c++/4.8/bits/stl_construct.h:93\n#5  __destroy&lt;boost::shared_ptr&lt;gazebo::physics::Model&gt;*&gt; (__last=&lt;optimized out&gt;, __first=0x7fff8c0b9d60)\n    at /usr/include/c++/4.8/bits/stl_construct.h:103\n#6  _Destroy&lt;boost::shared_ptr&lt;gazebo::physics::Model&gt;*&gt; (__last=&lt;optimized out&gt;, __first=&lt;optimized out&gt;)\n    at /usr/include/c++/4.8/bits/stl_construct.h:126\n#7  _Destroy&lt;boost::shared_ptr&lt;gazebo::physics::Model&gt;*, boost::shared_ptr&lt;gazebo::physics::Model&gt; &gt; (__last=0x7fff8c0b9d80, \n    __first=0x7fff8c0b9d50) at /usr/include/c++/4.8/bits/stl_construct.h:151\n#8  _M_erase_at_end (this=&lt;optimized out&gt;, __pos=0x7fff8c0b9d50) at /usr/include/c++/4.8/bits/stl_vector.h:1352\n#9  clear (this=0x7fffccb986d8) at /usr/include/c++/4.8/bits/stl_vector.h:1126\n#10 gazebo::physics::World::Fini (this=0x7fffcca16160) at gazebo/physics/World.cc:862\n#11 0x00007ffff7a9ef31 in gazebo::physics::remove_worlds () at gazebo/physics/PhysicsIface.cc:155\n#12 0x00007ffff7a9efc9 in gazebo::physics::fini () at gazebo/physics/PhysicsIface.cc:49\n#13 0x00007ffff73ca7c7 in gazebo::shutdown () at gazebo/gazebo.cc:175\n#14 0x00007ffff73b67e0 in gazebo::Server::Run (this=0x7fffcc000990) at gazebo/Server.cc:518\n#15 0x0000000000420856 in gazebo::ServerFixture::RunServer (this=0x729b30, _args=...)\n    at gazebo/test/ServerFixture.cc:263\n#16 0x00007ffff5a3aa4a in ?? () from /usr/lib/x86_64-linux-gnu/libboost_thread.so.1.54.0\n#17 0x00007ffff7186182 in start_thread (arg=0x7fffd43ad700) at pthread_create.c:312\n#18 0x00007ffff4b2a47d in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:111\n(gdb)\n</pre></div>", "type": "rendered"}, "created_on": "2015-10-10T08:06:01.811975+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2015-10-10T08:06:01.855169+00:00", "type": "pullrequest_comment", "id": 10692334}