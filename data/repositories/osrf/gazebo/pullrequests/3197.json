{"rendered": {"description": {"raw": "The depth camera sensor currently assumes that depth data is always available, which is not  the case, .e.g when the requests for point cloud data instead of depth data.\r\n\r\nI ran into this problem when reviewing pull request #3194. I tried to visualize depth data but forgot that it\u2019s actually not generating any depth images.\r\n\r\nTo test, apply this patch to depth\\_camera.world to let the depth sensor to generate point clouds:\r\n\r\n```\r\ndiff -r f0d3578207d5 worlds/depth_camera.world\r\n--- a/worlds/depth_camera.world\tFri Jan 31 13:51:10 2020 -0800\r\n+++ b/worlds/depth_camera.world\tMon Feb 24 16:10:14 2020 -0800\r\n@@ -73,6 +73,9 @@\r\n               <near>0.1</near>\r\n               <far>20</far>\r\n             </clip>\r\n+            <depth_camera>\r\n+              <output>points</output>\r\n+            </depth_camera>\r\n           </camera>\r\n           <plugin filename=\"libDepthCameraPlugin.so\" name=\"depth_camera_plugin\" />\r\n           <always_on>true</always_on>\r\n```\r\n\r\nLaunch gazebo with this world, go to the Topic Visualization window \\(ctrl \\+ t\\), select the depth camera image topic and gazebo should crash without the changes in this PR.", "markup": "markdown", "html": "<p>The depth camera sensor currently assumes that depth data is always available, which is not  the case, .e.g when the requests for point cloud data instead of depth data.</p>\n<p>I ran into this problem when reviewing <a href=\"#!/osrf/gazebo/pull-requests/3194/ahcorde-gazebo9-reflections\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #3194</a>. I tried to visualize depth data but forgot that it\u2019s actually not generating any depth images.</p>\n<p>To test, apply this patch to depth_camera.world to let the depth sensor to generate point clouds:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gh\">diff -r f0d3578207d5 worlds/depth_camera.world</span>\n<span class=\"gd\">--- a/worlds/depth_camera.world Fri Jan 31 13:51:10 2020 -0800</span>\n<span class=\"gi\">+++ b/worlds/depth_camera.world Mon Feb 24 16:10:14 2020 -0800</span>\n<span class=\"gu\">@@ -73,6 +73,9 @@</span>\n               &lt;near&gt;0.1&lt;/near&gt;\n               &lt;far&gt;20&lt;/far&gt;\n             &lt;/clip&gt;\n<span class=\"gi\">+            &lt;depth_camera&gt;</span>\n<span class=\"gi\">+              &lt;output&gt;points&lt;/output&gt;</span>\n<span class=\"gi\">+            &lt;/depth_camera&gt;</span>\n           &lt;/camera&gt;\n           &lt;plugin filename=&quot;libDepthCameraPlugin.so&quot; name=&quot;depth_camera_plugin&quot; /&gt;\n           &lt;always_on&gt;true&lt;/always_on&gt;\n</pre></div>\n\n\n<p>Launch gazebo with this world, go to the Topic Visualization window (ctrl + t), select the depth camera image topic and gazebo should crash without the changes in this PR.</p>", "type": "rendered"}, "title": {"raw": "Prevent crash when subscribing to depth camera image topic", "markup": "markdown", "html": "<p>Prevent crash when subscribing to depth camera image topic</p>", "type": "rendered"}}, "type": "pullrequest", "description": "The depth camera sensor currently assumes that depth data is always available, which is not  the case, .e.g when the requests for point cloud data instead of depth data.\r\n\r\nI ran into this problem when reviewing pull request #3194. I tried to visualize depth data but forgot that it\u2019s actually not generating any depth images.\r\n\r\nTo test, apply this patch to depth\\_camera.world to let the depth sensor to generate point clouds:\r\n\r\n```\r\ndiff -r f0d3578207d5 worlds/depth_camera.world\r\n--- a/worlds/depth_camera.world\tFri Jan 31 13:51:10 2020 -0800\r\n+++ b/worlds/depth_camera.world\tMon Feb 24 16:10:14 2020 -0800\r\n@@ -73,6 +73,9 @@\r\n               <near>0.1</near>\r\n               <far>20</far>\r\n             </clip>\r\n+            <depth_camera>\r\n+              <output>points</output>\r\n+            </depth_camera>\r\n           </camera>\r\n           <plugin filename=\"libDepthCameraPlugin.so\" name=\"depth_camera_plugin\" />\r\n           <always_on>true</always_on>\r\n```\r\n\r\nLaunch gazebo with this world, go to the Topic Visualization window \\(ctrl \\+ t\\), select the depth camera image topic and gazebo should crash without the changes in this PR.", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/pullrequests/3197/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diffstat/osrf/gazebo:fd8baba0578b%0D74d6bcb545fa?from_pullrequest_id=3197"}, "commits": {"href": "data/repositories/osrf/gazebo/pullrequests/3197/commits.json"}, "self": {"href": "data/repositories/osrf/gazebo/pullrequests/3197.json"}, "comments": {"href": "data/repositories/osrf/gazebo/pullrequests/3197/comments_page=1.json"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/pullrequests/3197/merge"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3197"}, "activity": {"href": "data/repositories/osrf/gazebo/pullrequests/3197/activity.json"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:fd8baba0578b%0D74d6bcb545fa?from_pullrequest_id=3197"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/pullrequests/3197/approve"}, "statuses": {"href": "data/repositories/osrf/gazebo/pullrequests/3197/statuses_page=1.json"}}, "title": "Prevent crash when subscribing to depth camera image topic", "close_source_branch": true, "reviewers": [{"display_name": "Alejandro Hern\u00e1ndez", "uuid": "{e246cb8c-7058-4077-878d-b64139eed698}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be246cb8c-7058-4077-878d-b64139eed698%7D"}, "html": {"href": "https://bitbucket.org/%7Be246cb8c-7058-4077-878d-b64139eed698%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5a79dc55d95ed2653247d116/abf2aa8b-89f8-4c9c-9750-c48dcde9d599/128"}}, "nickname": "ahcorde", "type": "user", "account_id": "5a79dc55d95ed2653247d116"}], "id": 3197, "destination": {"commit": {"hash": "74d6bcb545fa", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/74d6bcb545fa.json"}, "html": {"href": "#!/osrf/gazebo/commits/74d6bcb545fa"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo9"}}, "created_on": "2020-02-25T00:21:07.045553+00:00", "summary": {"raw": "The depth camera sensor currently assumes that depth data is always available, which is not  the case, .e.g when the requests for point cloud data instead of depth data.\r\n\r\nI ran into this problem when reviewing pull request #3194. I tried to visualize depth data but forgot that it\u2019s actually not generating any depth images.\r\n\r\nTo test, apply this patch to depth\\_camera.world to let the depth sensor to generate point clouds:\r\n\r\n```\r\ndiff -r f0d3578207d5 worlds/depth_camera.world\r\n--- a/worlds/depth_camera.world\tFri Jan 31 13:51:10 2020 -0800\r\n+++ b/worlds/depth_camera.world\tMon Feb 24 16:10:14 2020 -0800\r\n@@ -73,6 +73,9 @@\r\n               <near>0.1</near>\r\n               <far>20</far>\r\n             </clip>\r\n+            <depth_camera>\r\n+              <output>points</output>\r\n+            </depth_camera>\r\n           </camera>\r\n           <plugin filename=\"libDepthCameraPlugin.so\" name=\"depth_camera_plugin\" />\r\n           <always_on>true</always_on>\r\n```\r\n\r\nLaunch gazebo with this world, go to the Topic Visualization window \\(ctrl \\+ t\\), select the depth camera image topic and gazebo should crash without the changes in this PR.", "markup": "markdown", "html": "<p>The depth camera sensor currently assumes that depth data is always available, which is not  the case, .e.g when the requests for point cloud data instead of depth data.</p>\n<p>I ran into this problem when reviewing <a href=\"#!/osrf/gazebo/pull-requests/3194/ahcorde-gazebo9-reflections\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #3194</a>. I tried to visualize depth data but forgot that it\u2019s actually not generating any depth images.</p>\n<p>To test, apply this patch to depth_camera.world to let the depth sensor to generate point clouds:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gh\">diff -r f0d3578207d5 worlds/depth_camera.world</span>\n<span class=\"gd\">--- a/worlds/depth_camera.world Fri Jan 31 13:51:10 2020 -0800</span>\n<span class=\"gi\">+++ b/worlds/depth_camera.world Mon Feb 24 16:10:14 2020 -0800</span>\n<span class=\"gu\">@@ -73,6 +73,9 @@</span>\n               &lt;near&gt;0.1&lt;/near&gt;\n               &lt;far&gt;20&lt;/far&gt;\n             &lt;/clip&gt;\n<span class=\"gi\">+            &lt;depth_camera&gt;</span>\n<span class=\"gi\">+              &lt;output&gt;points&lt;/output&gt;</span>\n<span class=\"gi\">+            &lt;/depth_camera&gt;</span>\n           &lt;/camera&gt;\n           &lt;plugin filename=&quot;libDepthCameraPlugin.so&quot; name=&quot;depth_camera_plugin&quot; /&gt;\n           &lt;always_on&gt;true&lt;/always_on&gt;\n</pre></div>\n\n\n<p>Launch gazebo with this world, go to the Topic Visualization window (ctrl + t), select the depth camera image topic and gazebo should crash without the changes in this PR.</p>", "type": "rendered"}, "source": {"commit": {"hash": "81d6d0cd9968", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/81d6d0cd9968.json"}, "html": {"href": "#!/osrf/gazebo/commits/81d6d0cd9968"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "depth_data_null"}}, "comment_count": 1, "state": "MERGED", "task_count": 0, "participants": [{"role": "PARTICIPANT", "participated_on": "2020-03-03T20:43:18.487677+00:00", "type": "participant", "approved": true, "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}}, {"role": "REVIEWER", "participated_on": "2020-02-25T07:54:36.943435+00:00", "type": "participant", "approved": true, "user": {"display_name": "Alejandro Hern\u00e1ndez", "uuid": "{e246cb8c-7058-4077-878d-b64139eed698}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be246cb8c-7058-4077-878d-b64139eed698%7D"}, "html": {"href": "https://bitbucket.org/%7Be246cb8c-7058-4077-878d-b64139eed698%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5a79dc55d95ed2653247d116/abf2aa8b-89f8-4c9c-9750-c48dcde9d599/128"}}, "nickname": "ahcorde", "type": "user", "account_id": "5a79dc55d95ed2653247d116"}}], "reason": "", "updated_on": "2020-03-03T20:43:55.480818+00:00", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "merge_commit": {"hash": "fd8baba0578b", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/fd8baba0578b.json"}, "html": {"href": "#!/osrf/gazebo/commits/fd8baba0578b"}}}, "closed_by": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}}