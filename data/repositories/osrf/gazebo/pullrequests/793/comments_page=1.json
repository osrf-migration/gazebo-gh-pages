{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/793/comments/738787.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/793/_/diff#comment-738787"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 793, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/793.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/793"}}, "title": "Improve sensor update rate"}, "content": {"raw": "I remember the sensors were not giving out the right Hz. Other than that we'll need to verify that the timestamps are also correct.", "markup": "markdown", "html": "<p>I remember the sensors were not giving out the right Hz. Other than that we'll need to verify that the timestamps are also correct.</p>", "type": "rendered"}, "created_on": "2013-10-28T19:53:42.290573+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2013-10-28T19:53:42.297410+00:00", "type": "pullrequest_comment", "id": 738787}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/793/comments/745533.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/793/_/diff#comment-745533"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 793, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/793.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/793"}}, "title": "Improve sensor update rate"}, "content": {"raw": "Tests in `vrc_task_1`  on my machine show some increase in Hz when all seven gpu sensors are running, from 14Hz to 17Hz", "markup": "markdown", "html": "<p>Tests in <code>vrc_task_1</code>  on my machine show some increase in Hz when all seven gpu sensors are running, from 14Hz to 17Hz</p>", "type": "rendered"}, "created_on": "2013-10-29T21:23:42.228837+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2013-10-29T22:50:24.871931+00:00", "type": "pullrequest_comment", "id": 745533}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/793/comments/745569.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/793/_/diff#comment-745569"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 793, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/793.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/793"}}, "title": "Improve sensor update rate"}, "content": {"raw": "So now there're 2 different approaches to updating gpu sensors:\n\n1. `GpuRaySensor` and `MultiCameraSensor` use `event::Events::ConnectRender` (new approach), \n2. `CameraSensor` and `DepthSensor` keep the same `Render()` then `PostRender()` sequence.\n\nI wonder if we should switch them all to the new approach so it's consistent between the sensors, or have a way to specify the update approach to use?", "markup": "markdown", "html": "<p>So now there're 2 different approaches to updating gpu sensors:</p>\n<ol>\n<li><code>GpuRaySensor</code> and <code>MultiCameraSensor</code> use <code>event::Events::ConnectRender</code> (new approach), </li>\n<li><code>CameraSensor</code> and <code>DepthSensor</code> keep the same <code>Render()</code> then <code>PostRender()</code> sequence.</li>\n</ol>\n<p>I wonder if we should switch them all to the new approach so it's consistent between the sensors, or have a way to specify the update approach to use?</p>", "type": "rendered"}, "created_on": "2013-10-29T21:31:14.200527+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2013-10-29T21:31:14.209272+00:00", "type": "pullrequest_comment", "id": 745569}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/793/comments/750591.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/793/_/diff#comment-750591"}}, "parent": {"id": 745569, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/793/comments/745569.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/793/_/diff#comment-745569"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 793, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/793.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/793"}}, "title": "Improve sensor update rate"}, "content": {"raw": "Thanks. I'll switch them all to the new approach.", "markup": "markdown", "html": "<p>Thanks. I'll switch them all to the new approach.</p>", "type": "rendered"}, "created_on": "2013-10-30T18:46:13.775562+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2013-10-30T18:46:13.785012+00:00", "type": "pullrequest_comment", "id": 750591}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/793/comments/762795.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/793/_/diff#comment-762795"}}, "parent": {"id": 750591, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/793/comments/750591.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/793/_/diff#comment-750591"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 793, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/793.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/793"}}, "title": "Improve sensor update rate"}, "content": {"raw": "Changes made.", "markup": "markdown", "html": "<p>Changes made.</p>", "type": "rendered"}, "created_on": "2013-11-01T23:01:05.655018+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2013-11-01T23:01:05.663295+00:00", "type": "pullrequest_comment", "id": 762795}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/793/comments/745856.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/793/_/diff#comment-745856"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 793, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/793.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/793"}}, "title": "Improve sensor update rate"}, "content": {"raw": "[jenkins report](http://build.osrfoundation.org/view/gazebo/job/gazebo-any-devel-quantal-amd64-gpu-nvidia/41/testReport/?),  all tests pass ", "markup": "markdown", "html": "<p><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/gazebo/job/gazebo-any-devel-quantal-amd64-gpu-nvidia/41/testReport/\" rel=\"nofollow\">jenkins report</a>,  all tests pass </p>", "type": "rendered"}, "created_on": "2013-10-29T22:49:18.539267+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2013-10-29T22:49:18.546693+00:00", "type": "pullrequest_comment", "id": 745856}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/793/comments/791812.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:99d2fee659f5..2497614ffd81?path=gazebo%2Fgui%2Fviewers%2FTopicView.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/793/_/diff#comment-791812"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 793, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/793.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/793"}}, "title": "Improve sensor update rate"}, "content": {"raw": "is there a reason we changed this value?", "markup": "markdown", "html": "<p>is there a reason we changed this value?</p>", "type": "rendered"}, "created_on": "2013-11-08T17:07:32.450610+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "inline": {"to": 178, "from": null, "path": "gazebo/gui/viewers/TopicView.cc"}, "updated_on": "2013-11-08T17:07:32.460254+00:00", "type": "pullrequest_comment", "id": 791812}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/793/comments/792453.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:None..None?path=gazebo%2Fgui%2Fviewers%2FTopicView.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/793/_/diff#comment-792453"}}, "parent": {"id": 791812, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/793/comments/791812.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/793/_/diff#comment-791812"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 793, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/793.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/793"}}, "title": "Improve sensor update rate"}, "content": {"raw": "Averaging over a larger window. I can't remember why I did that. I'll put it back.", "markup": "markdown", "html": "<p>Averaging over a larger window. I can't remember why I did that. I'll put it back.</p>", "type": "rendered"}, "created_on": "2013-11-08T19:23:38.062777+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "inline": {"to": null, "from": null, "path": "gazebo/gui/viewers/TopicView.cc"}, "updated_on": "2013-11-08T19:23:38.071523+00:00", "type": "pullrequest_comment", "id": 792453}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/793/comments/872054.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/793/_/diff#comment-872054"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 793, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/793.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/793"}}, "title": "Improve sensor update rate"}, "content": {"raw": "@nkoenig could you please solve the conflict, not trivial to me, sorry.", "markup": "markdown", "html": "<p>@nkoenig could you please solve the conflict, not trivial to me, sorry.</p>", "type": "rendered"}, "created_on": "2013-11-27T00:55:35.168759+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2013-11-27T00:55:35.184220+00:00", "type": "pullrequest_comment", "id": 872054}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/793/comments/875708.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/793/_/diff#comment-875708"}}, "parent": {"id": 872054, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/793/comments/872054.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/793/_/diff#comment-872054"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 793, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/793.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/793"}}, "title": "Improve sensor update rate"}, "content": {"raw": "Done.", "markup": "markdown", "html": "<p>Done.</p>", "type": "rendered"}, "created_on": "2013-11-27T16:15:28.369040+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2013-11-27T16:15:28.380377+00:00", "type": "pullrequest_comment", "id": 875708}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/793/comments/876694.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:9899a6d16411..ea57770d1dd8?path=gazebo%2Frendering%2FCamera.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/793/_/diff#comment-876694"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 793, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/793.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/793"}}, "title": "Improve sensor update rate"}, "content": {"raw": "This line is repeated", "markup": "markdown", "html": "<p>This line is repeated</p>", "type": "rendered"}, "created_on": "2013-11-27T19:33:34.310259+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "inline": {"to": 536, "from": null, "path": "gazebo/rendering/Camera.cc"}, "updated_on": "2013-11-27T19:33:34.319238+00:00", "type": "pullrequest_comment", "id": 876694}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/793/comments/876802.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:None..None?path=gazebo%2Frendering%2FCamera.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/793/_/diff#comment-876802"}}, "parent": {"id": 876694, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/793/comments/876694.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/793/_/diff#comment-876694"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 793, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/793.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/793"}}, "title": "Improve sensor update rate"}, "content": {"raw": "Fixed", "markup": "markdown", "html": "<p>Fixed</p>", "type": "rendered"}, "created_on": "2013-11-27T19:49:16.480055+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "inline": {"to": null, "from": null, "path": "gazebo/rendering/Camera.cc"}, "updated_on": "2013-11-27T19:49:16.492048+00:00", "type": "pullrequest_comment", "id": 876802}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/793/comments/876737.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:9899a6d16411..ea57770d1dd8?path=gazebo%2Fsensors%2FCameraSensor.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/793/_/diff#comment-876737"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 793, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/793.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/793"}}, "title": "Improve sensor update rate"}, "content": {"raw": "Is that check required? It looks that we already checked in line 171. If the connections can change between line 171 and this line, maybe we might need a mutex. ", "markup": "markdown", "html": "<p>Is that check required? It looks that we already checked in line 171. If the connections can change between line 171 and this line, maybe we might need a mutex. </p>", "type": "rendered"}, "created_on": "2013-11-27T19:42:00.787386+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "inline": {"to": 202, "from": null, "path": "gazebo/sensors/CameraSensor.cc"}, "updated_on": "2013-11-27T19:42:00.798524+00:00", "type": "pullrequest_comment", "id": 876737}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/793/comments/876804.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:None..None?path=gazebo%2Fsensors%2FCameraSensor.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/793/_/diff#comment-876804"}}, "parent": {"id": 876737, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/793/comments/876737.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/793/_/diff#comment-876737"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 793, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/793.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/793"}}, "title": "Improve sensor update rate"}, "content": {"raw": "Fixed", "markup": "markdown", "html": "<p>Fixed</p>", "type": "rendered"}, "created_on": "2013-11-27T19:49:21.116554+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "inline": {"to": null, "from": null, "path": "gazebo/sensors/CameraSensor.cc"}, "updated_on": "2013-11-27T19:49:21.126979+00:00", "type": "pullrequest_comment", "id": 876804}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/793/comments/876742.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:9899a6d16411..ea57770d1dd8?path=gazebo%2Fsensors%2FCameraSensor.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/793/_/diff#comment-876742"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 793, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/793.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/793"}}, "title": "Improve sensor update rate"}, "content": {"raw": "should we change this by if (this->imagePub && this->imagePub->HasConnections()) ?", "markup": "markdown", "html": "<p>should we change this by if (this-&gt;imagePub &amp;&amp; this-&gt;imagePub-&gt;HasConnections()) ?</p>", "type": "rendered"}, "created_on": "2013-11-27T19:42:33.256596+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "inline": {"to": 187, "from": null, "path": "gazebo/sensors/CameraSensor.cc"}, "updated_on": "2013-11-27T19:42:33.267892+00:00", "type": "pullrequest_comment", "id": 876742}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/793/comments/876805.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:None..None?path=gazebo%2Fsensors%2FCameraSensor.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/793/_/diff#comment-876805"}}, "parent": {"id": 876742, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/793/comments/876742.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/793/_/diff#comment-876742"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 793, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/793.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/793"}}, "title": "Improve sensor update rate"}, "content": {"raw": "Fixed", "markup": "markdown", "html": "<p>Fixed</p>", "type": "rendered"}, "created_on": "2013-11-27T19:49:25.680886+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "inline": {"to": null, "from": null, "path": "gazebo/sensors/CameraSensor.cc"}, "updated_on": "2013-11-27T19:49:25.688972+00:00", "type": "pullrequest_comment", "id": 876805}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/793/comments/877483.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/793/_/diff#comment-877483"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 793, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/793.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/793"}}, "title": "Improve sensor update rate"}, "content": {"raw": "I just ran this script with a slightly patched version of gztopic.\n\n\n```\n#!c++\n#!/bin/bash\n\nTIME=10\n\navg()\n{\n\tINPUT_FILE=$1\n\tOUTPUT_FILE=$2\n\n\tcount=0;\n\ttotal=0;\n\n\tfor i in $( awk '{ print $1; }' $INPUT_FILE )\n\t   do\n\t     total=$(echo $total+$i | bc )\n\t     ((count++))\n\t   done\n\techo \"scale=2; $total / $count\" | bc > $OUTPUT_FILE\n}\n\nfor I in {1..6}\ndo\n\tTOPIC=/gazebo/default/multicamera_$I/link/cam$I/images\n\techo $TOPIC\n\n\t# Run gztopic hz on each camera to collect the stats.\n\ttimeout $TIME gztopic hz $TOPIC > log$I\n\n\t# Get the average of every topic\n\tavg log$I log$I\\_avg\ndone\n```\n\nI run the script with gazebo running from this branch and from default (using the world file of this pull request). Those are the results:\n\n\n```\n#!c++\n       Expected        default   ThisPR\ncam1      10            9.82       9.81\ncam2      20           19.64      19.67\ncam3      30           25.05      24.90\ncam4      40           29.03      29.72\ncam5      50           26.02      28.29\ncam6      60           22.99      25.51\n```\nIt looks that we do it better in the topics where we do not reach the limit. Is that the expected result? \n\nIt looks good to me.           ", "markup": "markdown", "html": "<p>I just ran this script with a slightly patched version of gztopic.</p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"cp\">#!/bin/bash</span>\n\n<span class=\"n\">TIME</span><span class=\"o\">=</span><span class=\"mi\">10</span>\n\n<span class=\"n\">avg</span><span class=\"p\">()</span>\n<span class=\"p\">{</span>\n    <span class=\"n\">INPUT_FILE</span><span class=\"o\">=</span><span class=\"err\">$</span><span class=\"mi\">1</span>\n    <span class=\"n\">OUTPUT_FILE</span><span class=\"o\">=</span><span class=\"err\">$</span><span class=\"mi\">2</span>\n\n    <span class=\"n\">count</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">;</span>\n    <span class=\"n\">total</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">;</span>\n\n    <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"n\">in</span> <span class=\"err\">$</span><span class=\"p\">(</span> <span class=\"n\">awk</span> <span class=\"err\">&#39;</span><span class=\"p\">{</span> <span class=\"n\">print</span> <span class=\"err\">$</span><span class=\"mi\">1</span><span class=\"p\">;</span> <span class=\"p\">}</span><span class=\"err\">&#39;</span> <span class=\"err\">$</span><span class=\"n\">INPUT_FILE</span> <span class=\"p\">)</span>\n       <span class=\"k\">do</span>\n         <span class=\"n\">total</span><span class=\"o\">=</span><span class=\"err\">$</span><span class=\"p\">(</span><span class=\"n\">echo</span> <span class=\"err\">$</span><span class=\"n\">total</span><span class=\"o\">+</span><span class=\"err\">$</span><span class=\"n\">i</span> <span class=\"o\">|</span> <span class=\"n\">bc</span> <span class=\"p\">)</span>\n         <span class=\"p\">((</span><span class=\"n\">count</span><span class=\"o\">++</span><span class=\"p\">))</span>\n       <span class=\"n\">done</span>\n    <span class=\"n\">echo</span> <span class=\"s\">&quot;scale=2; $total / $count&quot;</span> <span class=\"o\">|</span> <span class=\"n\">bc</span> <span class=\"o\">&gt;</span> <span class=\"err\">$</span><span class=\"n\">OUTPUT_FILE</span>\n<span class=\"p\">}</span>\n\n<span class=\"k\">for</span> <span class=\"n\">I</span> <span class=\"n\">in</span> <span class=\"p\">{</span><span class=\"mf\">1..6</span><span class=\"p\">}</span>\n<span class=\"k\">do</span>\n    <span class=\"n\">TOPIC</span><span class=\"o\">=/</span><span class=\"n\">gazebo</span><span class=\"o\">/</span><span class=\"k\">default</span><span class=\"o\">/</span><span class=\"n\">multicamera_</span><span class=\"err\">$</span><span class=\"n\">I</span><span class=\"o\">/</span><span class=\"n\">link</span><span class=\"o\">/</span><span class=\"n\">cam</span><span class=\"err\">$</span><span class=\"n\">I</span><span class=\"o\">/</span><span class=\"n\">images</span>\n    <span class=\"n\">echo</span> <span class=\"err\">$</span><span class=\"n\">TOPIC</span>\n\n    <span class=\"cp\"># Run gztopic hz on each camera to collect the stats.</span>\n    <span class=\"n\">timeout</span> <span class=\"err\">$</span><span class=\"n\">TIME</span> <span class=\"n\">gztopic</span> <span class=\"n\">hz</span> <span class=\"err\">$</span><span class=\"n\">TOPIC</span> <span class=\"o\">&gt;</span> <span class=\"n\">log</span><span class=\"err\">$</span><span class=\"n\">I</span>\n\n    <span class=\"cp\"># Get the average of every topic</span>\n    <span class=\"n\">avg</span> <span class=\"n\">log</span><span class=\"err\">$</span><span class=\"n\">I</span> <span class=\"n\">log</span><span class=\"err\">$</span><span class=\"n\">I</span><span class=\"err\">\\</span><span class=\"n\">_avg</span>\n<span class=\"n\">done</span>\n</pre></div>\n\n\n<p>I run the script with gazebo running from this branch and from default (using the world file of this pull request). Those are the results:</p>\n<div class=\"codehilite language-c++\"><pre><span></span>       <span class=\"n\">Expected</span>        <span class=\"k\">default</span>   <span class=\"n\">ThisPR</span>\n<span class=\"n\">cam1</span>      <span class=\"mi\">10</span>            <span class=\"mf\">9.82</span>       <span class=\"mf\">9.81</span>\n<span class=\"n\">cam2</span>      <span class=\"mi\">20</span>           <span class=\"mf\">19.64</span>      <span class=\"mf\">19.67</span>\n<span class=\"n\">cam3</span>      <span class=\"mi\">30</span>           <span class=\"mf\">25.05</span>      <span class=\"mf\">24.90</span>\n<span class=\"n\">cam4</span>      <span class=\"mi\">40</span>           <span class=\"mf\">29.03</span>      <span class=\"mf\">29.72</span>\n<span class=\"n\">cam5</span>      <span class=\"mi\">50</span>           <span class=\"mf\">26.02</span>      <span class=\"mf\">28.29</span>\n<span class=\"n\">cam6</span>      <span class=\"mi\">60</span>           <span class=\"mf\">22.99</span>      <span class=\"mf\">25.51</span>\n</pre></div>\n\n\n<p>It looks that we do it better in the topics where we do not reach the limit. Is that the expected result? </p>\n<p>It looks good to me.           </p>", "type": "rendered"}, "created_on": "2013-11-27T22:03:32.280306+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "updated_on": "2013-11-27T23:07:10.053960+00:00", "type": "pullrequest_comment", "id": 877483}], "page": 1, "size": 17}