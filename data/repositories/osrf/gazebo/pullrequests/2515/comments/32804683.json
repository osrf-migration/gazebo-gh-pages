{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2515/comments/32804683.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:e98b4a39ff8b..4643c1f696a8?path=gazebo%2Fsensors%2FSensorManager.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2515/_/diff#comment-32804683"}}, "parent": {"id": 32804055, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2515/comments/32804055.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2515/_/diff#comment-32804055"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2515, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2515.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2515"}}, "title": "Don't shut down gazebo when removing a world -> gazebo7"}, "content": {"raw": "no, I meant to say that if we don't use this pointer during the loop, then we obviously aren't checking for changes in the timestep, so the `maxSensorUpdate` value may be out of date. Also, this is just a suspicion, I would have to write a test to confirm\n\nso what would this mean:\n\nCurrently `maxSensorUpdate` is used to throttle the sensors, so if you have a sensor that wants to run at 10 kHz, but your physics steps are only 100 Hz when the simulation starts, it will throttle your sensor down to 100 Hz. If the time step later changes to `1 / 10kHz`, then sensors will still be running only at 100 Hz.\n\nConversely, if your sim starts at 10 kHz with sensors at 10 kHz, and then you reduce the physics time step to `1 / 100 Hz`, then your sensors will still try to run at 10 kHz.\n\nIt's definitely an edge case, but I think it's real?", "markup": "markdown", "html": "<p>no, I meant to say that if we don't use this pointer during the loop, then we obviously aren't checking for changes in the timestep, so the <code>maxSensorUpdate</code> value may be out of date. Also, this is just a suspicion, I would have to write a test to confirm</p>\n<p>so what would this mean:</p>\n<p>Currently <code>maxSensorUpdate</code> is used to throttle the sensors, so if you have a sensor that wants to run at 10 kHz, but your physics steps are only 100 Hz when the simulation starts, it will throttle your sensor down to 100 Hz. If the time step later changes to <code>1 / 10kHz</code>, then sensors will still be running only at 100 Hz.</p>\n<p>Conversely, if your sim starts at 10 kHz with sensors at 10 kHz, and then you reduce the physics time step to <code>1 / 100 Hz</code>, then your sensors will still try to run at 10 kHz.</p>\n<p>It's definitely an edge case, but I think it's real?</p>", "type": "rendered"}, "created_on": "2017-03-08T19:24:49.047818+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {"to": null, "from": null, "outdated": true, "path": "gazebo/sensors/SensorManager.cc"}, "updated_on": "2017-03-08T19:24:49.051758+00:00", "type": "pullrequest_comment", "id": 32804683}