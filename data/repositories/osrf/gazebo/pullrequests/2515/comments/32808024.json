{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2515/comments/32808024.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2515/_/diff#comment-32808024"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2515, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2515.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2515"}}, "title": "Don't shut down gazebo when removing a world -> gazebo7"}, "content": {"raw": "Ok, I just found a flaky test failure in `WorldRemoveTest/WorldRemoveTest.RemoveWorldWithEntities/0` ([full details here](https://gist.github.com/scpeters/d490e16fe186154181e519664fa6d4d0)).\n\nA boost pointer assertion occurs while dereferencing a `gazebo::physics::SurfaceParams` pointer\nin the function `gazebo::physics::ODEPhysics::Collide`\ncalled from the `gazebo::physics::World::RunLoop` thread.\n\nIn the main thread, `gazebo::physics::remove_worlds` has been called and is deleting stuff.\nWe should probably wait for that `World::RunLoop` thread to stop before deleting everything.\n\n", "markup": "markdown", "html": "<p>Ok, I just found a flaky test failure in <code>WorldRemoveTest/WorldRemoveTest.RemoveWorldWithEntities/0</code> (<a data-is-external-link=\"true\" href=\"https://gist.github.com/scpeters/d490e16fe186154181e519664fa6d4d0\" rel=\"nofollow\">full details here</a>).</p>\n<p>A boost pointer assertion occurs while dereferencing a <code>gazebo::physics::SurfaceParams</code> pointer\nin the function <code>gazebo::physics::ODEPhysics::Collide</code>\ncalled from the <code>gazebo::physics::World::RunLoop</code> thread.</p>\n<p>In the main thread, <code>gazebo::physics::remove_worlds</code> has been called and is deleting stuff.\nWe should probably wait for that <code>World::RunLoop</code> thread to stop before deleting everything.</p>", "type": "rendered"}, "created_on": "2017-03-08T20:15:22.994599+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-03-08T20:15:22.998354+00:00", "type": "pullrequest_comment", "id": 32808024}