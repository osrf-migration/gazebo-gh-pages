{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749/comments/41472077.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/mxgrey/gazebo:050d5f52b876..40c062da7dcc?path=gazebo%2Fphysics%2Fdart%2FDARTLink.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749/_/diff#comment-41472077"}}, "parent": {"id": 41471728, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749/comments/41471728.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749/_/diff#comment-41471728"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}, "content": {"raw": "For ODE the rotation is taken care of in the `MOI(~)` function. It's not obvious just from looking at that line of code, but `MOI(~)` also accounts for the rotation of the `inertial` object's inertial frame.\n\nDART can't really use the `MOI(~)` function the way that ODE does because the `MOI(~)` function also applies the parallel axis theorem to the Moment of Inertia, but DART takes care of that itself since you provide DART with the center of mass location. All we need to do for DART is rotate the moment of inertia's coordinate frame to match the link frame.", "markup": "markdown", "html": "<p>For ODE the rotation is taken care of in the <code>MOI(~)</code> function. It's not obvious just from looking at that line of code, but <code>MOI(~)</code> also accounts for the rotation of the <code>inertial</code> object's inertial frame.</p>\n<p>DART can't really use the <code>MOI(~)</code> function the way that ODE does because the <code>MOI(~)</code> function also applies the parallel axis theorem to the Moment of Inertia, but DART takes care of that itself since you provide DART with the center of mass location. All we need to do for DART is rotate the moment of inertia's coordinate frame to match the link frame.</p>", "type": "rendered"}, "created_on": "2017-07-25T18:07:50.672432+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {"to": null, "from": null, "outdated": true, "path": "gazebo/physics/dart/DARTLink.cc"}, "updated_on": "2017-07-25T18:08:32.930163+00:00", "type": "pullrequest_comment", "id": 41472077}