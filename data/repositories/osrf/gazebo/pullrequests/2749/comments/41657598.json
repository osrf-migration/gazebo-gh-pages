{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749/comments/41657598.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/mxgrey/gazebo:050d5f52b876..40c062da7dcc?path=gazebo%2Fphysics%2Fdart%2FDARTLink.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749/_/diff#comment-41657598"}}, "parent": {"id": 41647740, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749/comments/41647740.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749/_/diff#comment-41647740"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}, "content": {"raw": "The MOI function applies parallel axis theorem, which is a totally reasonable thing to do, except DART expects the moment of inertia to be in link-frame coordinates with respect to the center of mass (because DART itself automatically applies the parallel axis theorem). Applying the parallel axis theorem at this stage would put the moment of inertia into link-frame coordinates *with respect to the link origin*.\n\nI could carefully construct the `_pose` argument that gets passed in to `MOI(_pose)` such that it will transform the moment of inertia to be with respect to the center of mass in link-frame coordinates, but the end result would be the same as the matrix operation that we're doing here, meanwhile it would require quite a few additional operations whose net effect will be to cancel each other out.", "markup": "markdown", "html": "<p>The MOI function applies parallel axis theorem, which is a totally reasonable thing to do, except DART expects the moment of inertia to be in link-frame coordinates with respect to the center of mass (because DART itself automatically applies the parallel axis theorem). Applying the parallel axis theorem at this stage would put the moment of inertia into link-frame coordinates <em>with respect to the link origin</em>.</p>\n<p>I could carefully construct the <code>_pose</code> argument that gets passed in to <code>MOI(_pose)</code> such that it will transform the moment of inertia to be with respect to the center of mass in link-frame coordinates, but the end result would be the same as the matrix operation that we're doing here, meanwhile it would require quite a few additional operations whose net effect will be to cancel each other out.</p>", "type": "rendered"}, "created_on": "2017-07-27T17:02:06.328621+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {"to": null, "from": null, "outdated": true, "path": "gazebo/physics/dart/DARTLink.cc"}, "updated_on": "2017-07-27T17:02:06.410553+00:00", "type": "pullrequest_comment", "id": 41657598}