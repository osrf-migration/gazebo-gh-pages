{"pagelen": 50, "values": [{"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749/comments/41751523.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749/_/diff#comment-41751523"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}, "content": {"raw": "Agreed that this may not be ideal.\n#!/osrf/gazebo/pull-requests/2755/dart-lcp-solver/diff#comment-41215426", "markup": "markdown", "html": "<p>Agreed that this may not be ideal.\n<a href=\"#!/osrf/gazebo/pull-requests/2755/dart-lcp-solver/diff#comment-41215426\" rel=\"nofollow\" class=\"ap-connect-link\">#!/osrf/gazebo/pull-requests/2755/dart-lcp-solver/diff#comment-41215426</a></p>", "type": "rendered"}, "created_on": "2017-07-28T19:15:43.622136+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "inline": {}, "updated_on": "2017-07-28T19:15:43.674418+00:00", "type": "pullrequest_comment", "id": 41751523}, "pull_request": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749/comments/41659824.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749/_/diff#comment-41659824"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}, "content": {"raw": "I've updated the pull request. The `OnWrenchMsg` test is working now, and I believe I've addressed all the current comments.", "markup": "markdown", "html": "<p>I've updated the pull request. The <code>OnWrenchMsg</code> test is working now, and I believe I've addressed all the current comments.</p>", "type": "rendered"}, "created_on": "2017-07-27T17:34:11.564163+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": "2017-07-27T17:34:11.622322+00:00", "type": "pullrequest_comment", "id": 41659824}, "pull_request": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}}, {"update": {"description": "~~It turns out that `DARTLink::AddLinkForce(~,~)` was already implemented as `DARTLink::AddForceAtRelativePosition(~,~)` which are semantically identical based on their API descriptions.~~\r\n\r\n~~If `Link::AddLinkForce(~,~)` and `Link::AddForceAtRelativePosition(~,~)` are meant to be identical functions, then we should consider deprecating one of them. However, the `ODELink` implementations differ from each other based on the CoG location, even though this fact is not mentioned in the API documentation. I recommend that we should:~~\r\n\r\n1. ~~Determine what the intended behavior is (i.e. whether the CoG location should be affecting `Link::AddForceAtRelativePosition(~,~)`).~~\r\n2. ~~Write tests to verify that the expected behavior is occurring.~~\r\n3. ~~Either deprecate one of the functions or correct the `DARTLink` implementation to reflect the intended behavior.~~\r\n\r\n~~I can open an issue about this if people agree that there is some inconsistency here.~~\r\n\r\nEdit: After reviewing the tests for ``AddLinkForce`` in test/integration/physics_link.cc, I realized that there *is* meant to be a semantic difference between ``Link::AddLinkForce(~,~)`` and ``Link::AddForceAtRelativePosition(~,~)``, even though their descriptions in the header seemed almost identical. I've updated their header descriptions to hopefully make their differences more explicit, and I've reimplemented their ``DARTLink`` implementations to reflect their intended meanings. This resolves issue #1477.\r\n\r\nEdit 2: This pull request now allows DART to pass the ``GetWorldInertia`` test as well, which resolves issue #1090.\r\n\r\nAs a side note, I've added a macro which tests whether two vectors are close to each other (rather than equal), and then prints out their components, the differences between each of their components, and the magnitude of their overall difference.", "title": "Fix Issue #1477 and #1090", "destination": {"commit": {"hash": "40c062da7dcc", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/40c062da7dcc.json"}, "html": {"href": "#!/osrf/gazebo/commits/40c062da7dcc"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "7a8a36e8faa9", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/mxgrey/gazebo/commit/7a8a36e8faa9"}, "html": {"href": "https://bitbucket.org/mxgrey/gazebo/commits/7a8a36e8faa9"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/mxgrey/gazebo"}, "html": {"href": "https://bitbucket.org/mxgrey/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{db441b9a-5483-4728-b3af-1135ccc99e42}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "mxgrey/gazebo", "uuid": "{db441b9a-5483-4728-b3af-1135ccc99e42}"}, "branch": {"name": "issue_1477_DART_AddLinkForce"}}, "state": "OPEN", "author": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "date": "2017-07-27T17:33:09.379348+00:00"}, "pull_request": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749/comments/41659177.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749/_/diff#comment-41659177"}}, "parent": {"id": 41658530, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749/comments/41658530.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749/_/diff#comment-41658530"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}, "content": {"raw": "Ohhh, now I understand. My brain was skipping right over the difference between `gazebo::physics::` and `ignition::math::`. So `ignition::math::Inertial` is a different data structure entirely. You're right, `ignition::math::Inertial::MOI()` does the same thing that I'm doing here.\n\nI think we should consider adoption of Frame Semantics very aggressively at this point to disambiguate this type of confusion.", "markup": "markdown", "html": "<p>Ohhh, now I understand. My brain was skipping right over the difference between <code>gazebo::physics::</code> and <code>ignition::math::</code>. So <code>ignition::math::Inertial</code> is a different data structure entirely. You're right, <code>ignition::math::Inertial::MOI()</code> does the same thing that I'm doing here.</p>\n<p>I think we should consider adoption of Frame Semantics very aggressively at this point to disambiguate this type of confusion.</p>", "type": "rendered"}, "created_on": "2017-07-27T17:24:39.757613+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {}, "updated_on": "2017-07-27T17:24:39.827728+00:00", "type": "pullrequest_comment", "id": 41659177}, "pull_request": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749/comments/41658530.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749/_/diff#comment-41658530"}}, "parent": {"id": 41657598, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749/comments/41657598.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749/_/diff#comment-41657598"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}, "content": {"raw": "I think there's a little confusion because there are many `MOI` functions:\n\n* [gazebo::physics::Inertial::MOI(Pose)](#!/osrf/gazebo/src/40c062da7dcc0ca6977a420cc7e66cd7a4f9f9eb/gazebo/physics/Inertial.hh?fileviewer=file-view-default#Inertial.hh-213) uses parallel axis theorem as you state above\n* [gazebo::physics::Inertial::MOI()](#!/osrf/gazebo/src/40c062da7dcc0ca6977a420cc7e66cd7a4f9f9eb/gazebo/physics/Inertial.hh?fileviewer=file-view-default#Inertial.hh-257) constructs a matrix from the principal and product components, ie. the matrix in the Inertial frame\n* [ignition::math::MassMatrix3::MOI()](https://bitbucket.org/ignitionrobotics/ign-math/src/3d32dca333834b57a188c1eec66ec0f82718cb20/include/ignition/math/MassMatrix3.hh?at=default&fileviewer=file-view-default#MassMatrix3.hh-225) construct matrix3 from principal and product components, similar to `gazebo::physics::Inertial::MOI()`\n* [ignition::math::Inertial::MOI()](https://bitbucket.org/ignitionrobotics/ign-math/src/3d32dca333834b57a188c1eec66ec0f82718cb20/include/ignition/math/Inertial.hh?fileviewer=file-view-default#Inertial.hh-87) express inertia matrix in base frame (rotation only without parallel axis theorem), which I think it what you are doing in this function\n\nsorry for all the confusion", "markup": "markdown", "html": "<p>I think there's a little confusion because there are many <code>MOI</code> functions:</p>\n<ul>\n<li><a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/40c062da7dcc0ca6977a420cc7e66cd7a4f9f9eb/gazebo/physics/Inertial.hh?fileviewer=file-view-default#Inertial.hh-213\" rel=\"nofollow\">gazebo::physics::Inertial::MOI(Pose)</a> uses parallel axis theorem as you state above</li>\n<li><a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/40c062da7dcc0ca6977a420cc7e66cd7a4f9f9eb/gazebo/physics/Inertial.hh?fileviewer=file-view-default#Inertial.hh-257\" rel=\"nofollow\">gazebo::physics::Inertial::MOI()</a> constructs a matrix from the principal and product components, ie. the matrix in the Inertial frame</li>\n<li><a data-is-external-link=\"true\" href=\"https://bitbucket.org/ignitionrobotics/ign-math/src/3d32dca333834b57a188c1eec66ec0f82718cb20/include/ignition/math/MassMatrix3.hh?at=default&amp;fileviewer=file-view-default#MassMatrix3.hh-225\" rel=\"nofollow\">ignition::math::MassMatrix3::MOI()</a> construct matrix3 from principal and product components, similar to <code>gazebo::physics::Inertial::MOI()</code></li>\n<li><a data-is-external-link=\"true\" href=\"https://bitbucket.org/ignitionrobotics/ign-math/src/3d32dca333834b57a188c1eec66ec0f82718cb20/include/ignition/math/Inertial.hh?fileviewer=file-view-default#Inertial.hh-87\" rel=\"nofollow\">ignition::math::Inertial::MOI()</a> express inertia matrix in base frame (rotation only without parallel axis theorem), which I think it what you are doing in this function</li>\n</ul>\n<p>sorry for all the confusion</p>", "type": "rendered"}, "created_on": "2017-07-27T17:15:20.783458+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2017-07-27T17:16:53.654674+00:00", "type": "pullrequest_comment", "id": 41658530}, "pull_request": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749/comments/41657598.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749/_/diff#comment-41657598"}}, "parent": {"id": 41647740, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749/comments/41647740.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749/_/diff#comment-41647740"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}, "content": {"raw": "The MOI function applies parallel axis theorem, which is a totally reasonable thing to do, except DART expects the moment of inertia to be in link-frame coordinates with respect to the center of mass (because DART itself automatically applies the parallel axis theorem). Applying the parallel axis theorem at this stage would put the moment of inertia into link-frame coordinates *with respect to the link origin*.\n\nI could carefully construct the `_pose` argument that gets passed in to `MOI(_pose)` such that it will transform the moment of inertia to be with respect to the center of mass in link-frame coordinates, but the end result would be the same as the matrix operation that we're doing here, meanwhile it would require quite a few additional operations whose net effect will be to cancel each other out.", "markup": "markdown", "html": "<p>The MOI function applies parallel axis theorem, which is a totally reasonable thing to do, except DART expects the moment of inertia to be in link-frame coordinates with respect to the center of mass (because DART itself automatically applies the parallel axis theorem). Applying the parallel axis theorem at this stage would put the moment of inertia into link-frame coordinates <em>with respect to the link origin</em>.</p>\n<p>I could carefully construct the <code>_pose</code> argument that gets passed in to <code>MOI(_pose)</code> such that it will transform the moment of inertia to be with respect to the center of mass in link-frame coordinates, but the end result would be the same as the matrix operation that we're doing here, meanwhile it would require quite a few additional operations whose net effect will be to cancel each other out.</p>", "type": "rendered"}, "created_on": "2017-07-27T17:02:06.328621+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {}, "updated_on": "2017-07-27T17:02:06.410553+00:00", "type": "pullrequest_comment", "id": 41657598}, "pull_request": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749/comments/41647740.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749/_/diff#comment-41647740"}}, "parent": {"id": 41589102, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749/comments/41589102.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749/_/diff#comment-41589102"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}, "content": {"raw": "I think it works the same way, since it stores the pose offset from Link frame to Inertial frame (not the world frame) and just pre and post multiplies by Rotation matrices. I'll try making a patch to illustrate my thought", "markup": "markdown", "html": "<p>I think it works the same way, since it stores the pose offset from Link frame to Inertial frame (not the world frame) and just pre and post multiplies by Rotation matrices. I'll try making a patch to illustrate my thought</p>", "type": "rendered"}, "created_on": "2017-07-27T15:20:06.115196+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2017-07-27T15:20:06.118521+00:00", "type": "pullrequest_comment", "id": 41647740}, "pull_request": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749/comments/41589102.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749/_/diff#comment-41589102"}}, "parent": {"id": 41568465, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749/comments/41568465.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749/_/diff#comment-41568465"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}, "content": {"raw": "The MOI function can work, but I'd need to carefully construct the transform to pass in based on how MOI is implemented. It would also perform unnecessary operations compared to the version that we have here.", "markup": "markdown", "html": "<p>The MOI function can work, but I'd need to carefully construct the transform to pass in based on how MOI is implemented. It would also perform unnecessary operations compared to the version that we have here.</p>", "type": "rendered"}, "created_on": "2017-07-27T00:07:03.462203+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {}, "updated_on": "2017-07-27T00:07:03.529547+00:00", "type": "pullrequest_comment", "id": 41589102}, "pull_request": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749/comments/41568782.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749/_/diff#comment-41568782"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}, "content": {"raw": "Can we keep the stricter tolerance for ODE and apply the softer tolerance for dart here and above?", "markup": "markdown", "html": "<p>Can we keep the stricter tolerance for ODE and apply the softer tolerance for dart here and above?</p>", "type": "rendered"}, "created_on": "2017-07-26T18:03:24.360949+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2017-07-26T18:03:24.364399+00:00", "type": "pullrequest_comment", "id": 41568782}, "pull_request": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749/comments/41568465.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749/_/diff#comment-41568465"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}, "content": {"raw": "The [ignition::math::Inertial::MOI](https://bitbucket.org/ignitionrobotics/ign-math/src/3d32dca333834b57a188c1eec66ec0f82718cb20/include/ignition/math/Inertial.hh?fileviewer=file-view-default#Inertial.hh-87) function could be used here. I also added some helper functions for converting from `gazebo::physics::Inertial` to `ignition::math::Inertial` in  56463dd in case you want to pull those in here.", "markup": "markdown", "html": "<p>The <a data-is-external-link=\"true\" href=\"https://bitbucket.org/ignitionrobotics/ign-math/src/3d32dca333834b57a188c1eec66ec0f82718cb20/include/ignition/math/Inertial.hh?fileviewer=file-view-default#Inertial.hh-87\" rel=\"nofollow\">ignition::math::Inertial::MOI</a> function could be used here. I also added some helper functions for converting from <code>gazebo::physics::Inertial</code> to <code>ignition::math::Inertial</code> in  <a href=\"#!/osrf/gazebo/commits/56463dd\" rel=\"nofollow\" class=\"ap-connect-link\">56463dd</a> in case you want to pull those in here.</p>", "type": "rendered"}, "created_on": "2017-07-26T17:59:00.853239+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2017-07-26T17:59:00.857028+00:00", "type": "pullrequest_comment", "id": 41568465}, "pull_request": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749/comments/41488660.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749/_/diff#comment-41488660"}}, "parent": {"id": 41486317, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749/comments/41486317.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749/_/diff#comment-41486317"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}, "content": {"raw": "the `release-6.2` branch failed with out jenkins job due to a lack of some osg thing, so I switched back to `release-6.1`:\n\n* https://build.osrfoundation.org/view/upstream-dart/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/21/", "markup": "markdown", "html": "<p>the <code>release-6.2</code> branch failed with out jenkins job due to a lack of some osg thing, so I switched back to <code>release-6.1</code>:</p>\n<ul>\n<li><a href=\"https://build.osrfoundation.org/view/upstream-dart/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/21/\" rel=\"nofollow\" class=\"ap-connect-link\">https://build.osrfoundation.org/view/upstream-dart/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/21/</a></li>\n</ul>", "type": "rendered"}, "created_on": "2017-07-25T22:56:47.665234+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-07-25T22:56:47.669013+00:00", "type": "pullrequest_comment", "id": 41488660}, "pull_request": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749/comments/41486317.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749/_/diff#comment-41486317"}}, "parent": {"id": 41486226, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749/comments/41486226.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749/_/diff#comment-41486226"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}, "content": {"raw": "I forgot to check the box for \"compile from source\"\n\nbuilding again:\n\n* https://build.osrfoundation.org/view/upstream-dart/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/20/", "markup": "markdown", "html": "<p>I forgot to check the box for \"compile from source\"</p>\n<p>building again:</p>\n<ul>\n<li><a href=\"https://build.osrfoundation.org/view/upstream-dart/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/20/\" rel=\"nofollow\" class=\"ap-connect-link\">https://build.osrfoundation.org/view/upstream-dart/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/20/</a></li>\n</ul>", "type": "rendered"}, "created_on": "2017-07-25T22:00:29.474327+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-07-25T22:00:29.477316+00:00", "type": "pullrequest_comment", "id": 41486317}, "pull_request": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749/comments/41486226.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749/_/diff#comment-41486226"}}, "parent": {"id": 41242565, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749/comments/41242565.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749/_/diff#comment-41242565"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}, "content": {"raw": "something is wrong with that build; it didn't' recognize dart...", "markup": "markdown", "html": "<p>something is wrong with that build; it didn't' recognize dart...</p>", "type": "rendered"}, "created_on": "2017-07-25T21:58:41.571576+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-07-25T21:58:41.574237+00:00", "type": "pullrequest_comment", "id": 41486226}, "pull_request": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749/comments/41486044.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749/_/diff#comment-41486044"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}, "content": {"raw": "unrelated, but this statement seems like a no-op to me", "markup": "markdown", "html": "<p>unrelated, but this statement seems like a no-op to me</p>", "type": "rendered"}, "created_on": "2017-07-25T21:54:41.499125+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2017-07-25T21:54:41.504524+00:00", "type": "pullrequest_comment", "id": 41486044}, "pull_request": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749/comments/41482367.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749/_/diff#comment-41482367"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}, "content": {"raw": "I think the linter wants spaces after the commas: `(0, 0)`\n\n* https://build.osrfoundation.org/view/upstream-dart/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/17/cppcheckResult/", "markup": "markdown", "html": "<p>I think the linter wants spaces after the commas: <code>(0, 0)</code></p>\n<ul>\n<li><a href=\"https://build.osrfoundation.org/view/upstream-dart/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/17/cppcheckResult/\" rel=\"nofollow\" class=\"ap-connect-link\">https://build.osrfoundation.org/view/upstream-dart/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/17/cppcheckResult/</a></li>\n</ul>", "type": "rendered"}, "created_on": "2017-07-25T20:48:31.793636+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2017-07-25T20:48:31.795885+00:00", "type": "pullrequest_comment", "id": 41482367}, "pull_request": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749/comments/41474809.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749/_/diff#comment-41474809"}}, "parent": {"id": 41242565, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749/comments/41242565.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749/_/diff#comment-41242565"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}, "content": {"raw": "cppcheck has two warnings about missing spaces after a comma (DARTLink 283 and 284)", "markup": "markdown", "html": "<p>cppcheck has two warnings about missing spaces after a comma (DARTLink 283 and 284)</p>", "type": "rendered"}, "created_on": "2017-07-25T18:48:07.364051+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "updated_on": "2017-07-25T18:48:07.407806+00:00", "type": "pullrequest_comment", "id": 41474809}, "pull_request": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749/comments/41474652.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749/_/diff#comment-41474652"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}, "content": {"raw": "bullet and simbody", "markup": "markdown", "html": "<p>bullet and simbody</p>", "type": "rendered"}, "created_on": "2017-07-25T18:45:49.039251+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "inline": {}, "updated_on": "2017-07-25T18:45:49.096707+00:00", "type": "pullrequest_comment", "id": 41474652}, "pull_request": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749/comments/41472470.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749/_/diff#comment-41472470"}}, "parent": {"id": 41472077, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749/comments/41472077.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749/_/diff#comment-41472077"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}, "content": {"raw": "Ah, I see. Thanks. I though that by giving an identity quaternion it was missing the rotation. But MOI takes the difference between the given pose (cog offset) and cog pose, which leaves just the rotation.", "markup": "markdown", "html": "<p>Ah, I see. Thanks. I though that by giving an identity quaternion it was missing the rotation. But MOI takes the difference between the given pose (cog offset) and cog pose, which leaves just the rotation.</p>", "type": "rendered"}, "created_on": "2017-07-25T18:13:59.360807+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "inline": {}, "updated_on": "2017-07-25T18:13:59.455307+00:00", "type": "pullrequest_comment", "id": 41472470}, "pull_request": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749/comments/41472077.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749/_/diff#comment-41472077"}}, "parent": {"id": 41471728, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749/comments/41471728.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749/_/diff#comment-41471728"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}, "content": {"raw": "For ODE the rotation is taken care of in the `MOI(~)` function. It's not obvious just from looking at that line of code, but `MOI(~)` also accounts for the rotation of the `inertial` object's inertial frame.\n\nDART can't really use the `MOI(~)` function the way that ODE does because the `MOI(~)` function also applies the parallel axis theorem to the Moment of Inertia, but DART takes care of that itself since you provide DART with the center of mass location. All we need to do for DART is rotate the moment of inertia's coordinate frame to match the link frame.", "markup": "markdown", "html": "<p>For ODE the rotation is taken care of in the <code>MOI(~)</code> function. It's not obvious just from looking at that line of code, but <code>MOI(~)</code> also accounts for the rotation of the <code>inertial</code> object's inertial frame.</p>\n<p>DART can't really use the <code>MOI(~)</code> function the way that ODE does because the <code>MOI(~)</code> function also applies the parallel axis theorem to the Moment of Inertia, but DART takes care of that itself since you provide DART with the center of mass location. All we need to do for DART is rotate the moment of inertia's coordinate frame to match the link frame.</p>", "type": "rendered"}, "created_on": "2017-07-25T18:07:50.672432+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {}, "updated_on": "2017-07-25T18:08:32.930163+00:00", "type": "pullrequest_comment", "id": 41472077}, "pull_request": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749/comments/41471728.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749/_/diff#comment-41471728"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}, "content": {"raw": "It looks like ODE may also be [missing the rotation](#!/osrf/gazebo/src/157c748526b88519100e8411cc9157ea3e3d54e7/gazebo/physics/ode/ODELink.cc?at=default&fileviewer=file-view-default#ODELink.cc-402).", "markup": "markdown", "html": "<p>It looks like ODE may also be <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/157c748526b88519100e8411cc9157ea3e3d54e7/gazebo/physics/ode/ODELink.cc?at=default&amp;fileviewer=file-view-default#ODELink.cc-402\" rel=\"nofollow\">missing the rotation</a>.</p>", "type": "rendered"}, "created_on": "2017-07-25T18:02:53.034759+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "inline": {}, "updated_on": "2017-07-25T18:02:53.111441+00:00", "type": "pullrequest_comment", "id": 41471728}, "pull_request": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}}, {"update": {"description": "~~It turns out that `DARTLink::AddLinkForce(~,~)` was already implemented as `DARTLink::AddForceAtRelativePosition(~,~)` which are semantically identical based on their API descriptions.~~\r\n\r\n~~If `Link::AddLinkForce(~,~)` and `Link::AddForceAtRelativePosition(~,~)` are meant to be identical functions, then we should consider deprecating one of them. However, the `ODELink` implementations differ from each other based on the CoG location, even though this fact is not mentioned in the API documentation. I recommend that we should:~~\r\n\r\n1. ~~Determine what the intended behavior is (i.e. whether the CoG location should be affecting `Link::AddForceAtRelativePosition(~,~)`).~~\r\n2. ~~Write tests to verify that the expected behavior is occurring.~~\r\n3. ~~Either deprecate one of the functions or correct the `DARTLink` implementation to reflect the intended behavior.~~\r\n\r\n~~I can open an issue about this if people agree that there is some inconsistency here.~~\r\n\r\nEdit: After reviewing the tests for ``AddLinkForce`` in test/integration/physics_link.cc, I realized that there *is* meant to be a semantic difference between ``Link::AddLinkForce(~,~)`` and ``Link::AddForceAtRelativePosition(~,~)``, even though their descriptions in the header seemed almost identical. I've updated their header descriptions to hopefully make their differences more explicit, and I've reimplemented their ``DARTLink`` implementations to reflect their intended meanings. This resolves issue #1477.\r\n\r\nEdit 2: This pull request now allows DART to pass the ``GetWorldInertia`` test as well, which resolves issue #1090.\r\n\r\nAs a side note, I've added a macro which tests whether two vectors are close to each other (rather than equal), and then prints out their components, the differences between each of their components, and the magnitude of their overall difference.", "title": "Fix Issue #1477 and #1090", "destination": {"commit": {"hash": "157c748526b8", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/157c748526b8.json"}, "html": {"href": "#!/osrf/gazebo/commits/157c748526b8"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "050d5f52b876", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/mxgrey/gazebo/commit/050d5f52b876"}, "html": {"href": "https://bitbucket.org/mxgrey/gazebo/commits/050d5f52b876"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/mxgrey/gazebo"}, "html": {"href": "https://bitbucket.org/mxgrey/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{db441b9a-5483-4728-b3af-1135ccc99e42}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "mxgrey/gazebo", "uuid": "{db441b9a-5483-4728-b3af-1135ccc99e42}"}, "branch": {"name": "issue_1477_DART_AddLinkForce"}}, "state": "OPEN", "author": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "date": "2017-07-25T17:59:56.574481+00:00"}, "pull_request": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749/comments/41470664.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749/_/diff#comment-41470664"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}, "content": {"raw": "COG is also handled in `UpdateMass` and can be removed here.", "markup": "markdown", "html": "<p>COG is also handled in <code>UpdateMass</code> and can be removed here.</p>", "type": "rendered"}, "created_on": "2017-07-25T17:47:30.777940+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "inline": {}, "updated_on": "2017-07-25T17:47:30.824238+00:00", "type": "pullrequest_comment", "id": 41470664}, "pull_request": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749/comments/41469388.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749/_/diff#comment-41469388"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}, "content": {"raw": "While you're at it, it may also help to reword the descriptions in the same style to highlight the differences. For example\n~~~\n/// \\param[in] _force Force to add. The force must be expressed in the link reference frame.\n~~~\nso the only difference is the word \"world\" or \"link\".", "markup": "markdown", "html": "<p>While you're at it, it may also help to reword the descriptions in the same style to highlight the differences. For example</p>\n<div class=\"codehilite\"><pre><span></span>/// \\param[in] _force Force to add. The force must be expressed in the link reference frame.\n</pre></div>\n\n\n<p>so the only difference is the word \"world\" or \"link\".</p>", "type": "rendered"}, "created_on": "2017-07-25T17:29:47.212422+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "inline": {}, "updated_on": "2017-07-25T17:39:18.233639+00:00", "type": "pullrequest_comment", "id": 41469388}, "pull_request": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749/comments/41242565.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749/_/diff#comment-41242565"}}, "parent": {"id": 41196329, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749/comments/41196329.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749/_/diff#comment-41196329"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}, "content": {"raw": "I just started a new dart jenkins build:\n\n* https://build.osrfoundation.org/view/upstream-dart/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/17/", "markup": "markdown", "html": "<p>I just started a new dart jenkins build:</p>\n<ul>\n<li><a href=\"https://build.osrfoundation.org/view/upstream-dart/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/17/\" rel=\"nofollow\" class=\"ap-connect-link\">https://build.osrfoundation.org/view/upstream-dart/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/17/</a></li>\n</ul>", "type": "rendered"}, "created_on": "2017-07-21T10:42:59.402137+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-07-21T10:42:59.404160+00:00", "type": "pullrequest_comment", "id": 41242565}, "pull_request": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}}, {"update": {"description": "~~It turns out that `DARTLink::AddLinkForce(~,~)` was already implemented as `DARTLink::AddForceAtRelativePosition(~,~)` which are semantically identical based on their API descriptions.~~\r\n\r\n~~If `Link::AddLinkForce(~,~)` and `Link::AddForceAtRelativePosition(~,~)` are meant to be identical functions, then we should consider deprecating one of them. However, the `ODELink` implementations differ from each other based on the CoG location, even though this fact is not mentioned in the API documentation. I recommend that we should:~~\r\n\r\n1. ~~Determine what the intended behavior is (i.e. whether the CoG location should be affecting `Link::AddForceAtRelativePosition(~,~)`).~~\r\n2. ~~Write tests to verify that the expected behavior is occurring.~~\r\n3. ~~Either deprecate one of the functions or correct the `DARTLink` implementation to reflect the intended behavior.~~\r\n\r\n~~I can open an issue about this if people agree that there is some inconsistency here.~~\r\n\r\nEdit: After reviewing the tests for ``AddLinkForce`` in test/integration/physics_link.cc, I realized that there *is* meant to be a semantic difference between ``Link::AddLinkForce(~,~)`` and ``Link::AddForceAtRelativePosition(~,~)``, even though their descriptions in the header seemed almost identical. I've updated their header descriptions to hopefully make their differences more explicit, and I've reimplemented their ``DARTLink`` implementations to reflect their intended meanings. This resolves issue #1477.\r\n\r\nEdit 2: This pull request now allows DART to pass the ``GetWorldInertia`` test as well, which resolves issue #1090.\r\n\r\nAs a side note, I've added a macro which tests whether two vectors are close to each other (rather than equal), and then prints out their components, the differences between each of their components, and the magnitude of their overall difference.", "title": "Fix Issue #1477 and #1090", "destination": {"commit": {"hash": "801eaafce237", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/801eaafce237.json"}, "html": {"href": "#!/osrf/gazebo/commits/801eaafce237"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "99f85c5c9d02", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/mxgrey/gazebo/commit/99f85c5c9d02"}, "html": {"href": "https://bitbucket.org/mxgrey/gazebo/commits/99f85c5c9d02"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/mxgrey/gazebo"}, "html": {"href": "https://bitbucket.org/mxgrey/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{db441b9a-5483-4728-b3af-1135ccc99e42}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "mxgrey/gazebo", "uuid": "{db441b9a-5483-4728-b3af-1135ccc99e42}"}, "branch": {"name": "issue_1477_DART_AddLinkForce"}}, "state": "OPEN", "author": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "date": "2017-07-20T18:48:23.552377+00:00"}, "pull_request": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}}, {"update": {"description": "Note: This should not be merged until pull request #2748 because it depends on being able to compile DART.\r\n\r\n~~It turns out that `DARTLink::AddLinkForce(~,~)` was already implemented as `DARTLink::AddForceAtRelativePosition(~,~)` which are semantically identical based on their API descriptions.~~\r\n\r\n~~If `Link::AddLinkForce(~,~)` and `Link::AddForceAtRelativePosition(~,~)` are meant to be identical functions, then we should consider deprecating one of them. However, the `ODELink` implementations differ from each other based on the CoG location, even though this fact is not mentioned in the API documentation. I recommend that we should:~~\r\n\r\n1. ~~Determine what the intended behavior is (i.e. whether the CoG location should be affecting `Link::AddForceAtRelativePosition(~,~)`).~~\r\n2. ~~Write tests to verify that the expected behavior is occurring.~~\r\n3. ~~Either deprecate one of the functions or correct the `DARTLink` implementation to reflect the intended behavior.~~\r\n\r\n~~I can open an issue about this if people agree that there is some inconsistency here.~~\r\n\r\nEdit: After reviewing the tests for ``AddLinkForce`` in test/integration/physics_link.cc, I realized that there *is* meant to be a semantic difference between ``Link::AddLinkForce(~,~)`` and ``Link::AddForceAtRelativePosition(~,~)``, even though their descriptions in the header seemed almost identical. I've updated their header descriptions to hopefully make their differences more explicit, and I've reimplemented their ``DARTLink`` implementations to reflect their intended meanings. This resolves issue #1477.\r\n\r\nEdit 2: This pull request now allows DART to pass the ``GetWorldInertia`` test as well, which resolves issue #1090.\r\n\r\nAs a side note, I've added a macro which tests whether two vectors are close to each other (rather than equal), and then prints out their components, the differences between each of their components, and the magnitude of their overall difference.", "title": "Fix Issue #1477 and #1090", "destination": {"commit": {"hash": "801eaafce237", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/801eaafce237.json"}, "html": {"href": "#!/osrf/gazebo/commits/801eaafce237"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "99f85c5c9d02", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/mxgrey/gazebo/commit/99f85c5c9d02"}, "html": {"href": "https://bitbucket.org/mxgrey/gazebo/commits/99f85c5c9d02"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/mxgrey/gazebo"}, "html": {"href": "https://bitbucket.org/mxgrey/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{db441b9a-5483-4728-b3af-1135ccc99e42}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "mxgrey/gazebo", "uuid": "{db441b9a-5483-4728-b3af-1135ccc99e42}"}, "branch": {"name": "issue_1477_DART_AddLinkForce"}}, "state": "OPEN", "author": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "date": "2017-07-20T18:47:55.948109+00:00"}, "pull_request": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}}, {"update": {"description": "Note: This should not be merged until pull request #2748 because it depends on being able to compile DART.\r\n\r\n~~It turns out that `DARTLink::AddLinkForce(~,~)` was already implemented as `DARTLink::AddForceAtRelativePosition(~,~)` which are semantically identical based on their API descriptions.~~\r\n\r\n~~If `Link::AddLinkForce(~,~)` and `Link::AddForceAtRelativePosition(~,~)` are meant to be identical functions, then we should consider deprecating one of them. However, the `ODELink` implementations differ from each other based on the CoG location, even though this fact is not mentioned in the API documentation. I recommend that we should:~~\r\n\r\n1. ~~Determine what the intended behavior is (i.e. whether the CoG location should be affecting `Link::AddForceAtRelativePosition(~,~)`).~~\r\n2. ~~Write tests to verify that the expected behavior is occurring.~~\r\n3. ~~Either deprecate one of the functions or correct the `DARTLink` implementation to reflect the intended behavior.~~\r\n\r\n~~I can open an issue about this if people agree that there is some inconsistency here.~~\r\n\r\nEdit: After reviewing the tests for ``AddLinkForce`` in test/integration/physics_link.cc, I realized that there *is* meant to be a semantic difference between ``Link::AddLinkForce(~,~)`` and ``Link::AddForceAtRelativePosition(~,~)``, even though their descriptions in the header seemed almost identical. I've updated their header descriptions to hopefully make their differences more explicit, and I've reimplemented their ``DARTLink`` implementations to reflect their intended meanings. This resolves issue #1477.\r\n\r\nEdit 2: This pull request now allows DART to pass the ``GetWorldInertia`` test as well, which resolves issue #1090.\r\n\r\nAs a side note, I've added a macro which tests whether two vectors are close to each other (rather than equal), and then prints out their components, the differences between each of their components, and the magnitude of their overall difference.", "title": "Fix Issue #1477 -- DART::AddLinkForce", "destination": {"commit": {"hash": "801eaafce237", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/801eaafce237.json"}, "html": {"href": "#!/osrf/gazebo/commits/801eaafce237"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "99f85c5c9d02", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/mxgrey/gazebo/commit/99f85c5c9d02"}, "html": {"href": "https://bitbucket.org/mxgrey/gazebo/commits/99f85c5c9d02"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/mxgrey/gazebo"}, "html": {"href": "https://bitbucket.org/mxgrey/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{db441b9a-5483-4728-b3af-1135ccc99e42}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "mxgrey/gazebo", "uuid": "{db441b9a-5483-4728-b3af-1135ccc99e42}"}, "branch": {"name": "issue_1477_DART_AddLinkForce"}}, "state": "OPEN", "author": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "date": "2017-07-20T18:47:02.305941+00:00"}, "pull_request": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}}, {"update": {"description": "Note: This should not be merged until pull request #2748 because it depends on being able to compile DART.\r\n\r\n~~It turns out that `DARTLink::AddLinkForce(~,~)` was already implemented as `DARTLink::AddForceAtRelativePosition(~,~)` which are semantically identical based on their API descriptions.~~\r\n\r\n~~If `Link::AddLinkForce(~,~)` and `Link::AddForceAtRelativePosition(~,~)` are meant to be identical functions, then we should consider deprecating one of them. However, the `ODELink` implementations differ from each other based on the CoG location, even though this fact is not mentioned in the API documentation. I recommend that we should:~~\r\n\r\n1. ~~Determine what the intended behavior is (i.e. whether the CoG location should be affecting `Link::AddForceAtRelativePosition(~,~)`).~~\r\n2. ~~Write tests to verify that the expected behavior is occurring.~~\r\n3. ~~Either deprecate one of the functions or correct the `DARTLink` implementation to reflect the intended behavior.~~\r\n\r\n~~I can open an issue about this if people agree that there is some inconsistency here.~~\r\n\r\nEdit: After reviewing the tests for ``AddLinkForce`` in test/integration/physics_link.cc, I realized that there *is* meant to be a semantic difference between ``Link::AddLinkForce(~,~)`` and ``Link::AddForceAtRelativePosition(~,~)``, even though their descriptions in the header seemed almost identical. I've updated their header descriptions to hopefully make their differences more explicit, and I've reimplemented their ``DARTLink`` implementations to reflect their intended meanings. This resolves issue #1477.\r\n\r\nEdit 2: This pull request now allows DART to pass the ``GetWorldInertia`` test as well, which resolves issue #1090.\r\n\r\nAs a side note, I've added a macro which tests whether two vectors are close to each other (rather than equal), and then prints out their components, the differences between each of their components, and the magnitude of their overall difference.", "title": "Fix Issue #1477 -- DART::AddLinkForce", "destination": {"commit": {"hash": "801eaafce237", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/801eaafce237.json"}, "html": {"href": "#!/osrf/gazebo/commits/801eaafce237"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "c430217e83da", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/mxgrey/gazebo/commit/c430217e83da"}, "html": {"href": "https://bitbucket.org/mxgrey/gazebo/commits/c430217e83da"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/mxgrey/gazebo"}, "html": {"href": "https://bitbucket.org/mxgrey/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{db441b9a-5483-4728-b3af-1135ccc99e42}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "mxgrey/gazebo", "uuid": "{db441b9a-5483-4728-b3af-1135ccc99e42}"}, "branch": {"name": "issue_1477_DART_AddLinkForce"}}, "state": "OPEN", "author": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "date": "2017-07-20T18:34:34.055582+00:00"}, "pull_request": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}}, {"update": {"description": "Note: This should not be merged until pull request #2748 because it depends on being able to compile DART.\r\n\r\n~~It turns out that `DARTLink::AddLinkForce(~,~)` was already implemented as `DARTLink::AddForceAtRelativePosition(~,~)` which are semantically identical based on their API descriptions.~~\r\n\r\n~~If `Link::AddLinkForce(~,~)` and `Link::AddForceAtRelativePosition(~,~)` are meant to be identical functions, then we should consider deprecating one of them. However, the `ODELink` implementations differ from each other based on the CoG location, even though this fact is not mentioned in the API documentation. I recommend that we should:~~\r\n\r\n1. ~~Determine what the intended behavior is (i.e. whether the CoG location should be affecting `Link::AddForceAtRelativePosition(~,~)`).~~\r\n2. ~~Write tests to verify that the expected behavior is occurring.~~\r\n3. ~~Either deprecate one of the functions or correct the `DARTLink` implementation to reflect the intended behavior.~~\r\n\r\n~~I can open an issue about this if people agree that there is some inconsistency here.~~\r\n\r\nEdit: After reviewing the tests for ``AddLinkForce`` in test/integration/physics_link.cc, I realized that there *is* meant to be a semantic difference between ``Link::AddLinkForce(~,~)`` and ``Link::AddForceAtRelativePosition(~,~)``, even though their descriptions in the header seemed almost identical. I've updated their header descriptions to hopefully make their differences more explicit, and I've reimplemented their ``DARTLink`` implementations to reflect their intended meanings.\r\n\r\nEdit 2: This pull request now allows DART to pass the ``GetWorldInertia`` test as well, which resolves issue #1090.\r\n\r\nAs a side note, I've added a macro which tests whether two vectors are close to each other (rather than equal), and then prints out their components, the differences between each of their components, and the magnitude of their overall difference.", "title": "Fix Issue #1477 -- DART::AddLinkForce", "destination": {"commit": {"hash": "801eaafce237", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/801eaafce237.json"}, "html": {"href": "#!/osrf/gazebo/commits/801eaafce237"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "c430217e83da", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/mxgrey/gazebo/commit/c430217e83da"}, "html": {"href": "https://bitbucket.org/mxgrey/gazebo/commits/c430217e83da"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/mxgrey/gazebo"}, "html": {"href": "https://bitbucket.org/mxgrey/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{db441b9a-5483-4728-b3af-1135ccc99e42}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "mxgrey/gazebo", "uuid": "{db441b9a-5483-4728-b3af-1135ccc99e42}"}, "branch": {"name": "issue_1477_DART_AddLinkForce"}}, "state": "OPEN", "author": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "date": "2017-07-20T18:32:32.582873+00:00"}, "pull_request": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749/comments/41196329.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749/_/diff#comment-41196329"}}, "parent": {"id": 40994779, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749/comments/40994779.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749/_/diff#comment-40994779"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}, "content": {"raw": "With the current status of this pull request, DART now passes all the tests in test/integration/physics_link.cc", "markup": "markdown", "html": "<p>With the current status of this pull request, DART now passes all the tests in test/integration/physics_link.cc</p>", "type": "rendered"}, "created_on": "2017-07-20T18:31:35.931015+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": "2017-07-20T18:31:36.005975+00:00", "type": "pullrequest_comment", "id": 41196329}, "pull_request": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}}, {"update": {"description": "Note: This should not be merged until pull request #2748 because it depends on being able to compile DART.\r\n\r\n~~It turns out that `DARTLink::AddLinkForce(~,~)` was already implemented as `DARTLink::AddForceAtRelativePosition(~,~)` which are semantically identical based on their API descriptions.~~\r\n\r\n~~If `Link::AddLinkForce(~,~)` and `Link::AddForceAtRelativePosition(~,~)` are meant to be identical functions, then we should consider deprecating one of them. However, the `ODELink` implementations differ from each other based on the CoG location, even though this fact is not mentioned in the API documentation. I recommend that we should:~~\r\n\r\n1. ~~Determine what the intended behavior is (i.e. whether the CoG location should be affecting `Link::AddForceAtRelativePosition(~,~)`).~~\r\n2. ~~Write tests to verify that the expected behavior is occurring.~~\r\n3. ~~Either deprecate one of the functions or correct the `DARTLink` implementation to reflect the intended behavior.~~\r\n\r\n~~I can open an issue about this if people agree that there is some inconsistency here.~~\r\n\r\nEdit: After reviewing the tests for ``AddLinkForce`` in test/integration/physics_link.cc, I realized that there *is* meant to be a semantic difference between ``Link::AddLinkForce(~,~)`` and ``Link::AddForceAtRelativePosition(~,~)``, even though their descriptions in the header seemed almost identical. I've updated their header descriptions to hopefully make their differences more explicit, and I've reimplemented their ``DARTLink`` implementations to reflect their intended meanings.\r\n\r\nEdit 2: This pull request now allows DART to pass the ``GetWorldInertia`` test as well.\r\n\r\nAs a side note, I've added a macro which tests whether two vectors are close to each other (rather than equal), and then prints out their components, the differences between each of their components, and the magnitude of their overall difference.", "title": "Fix Issue #1477 -- DART::AddLinkForce", "destination": {"commit": {"hash": "801eaafce237", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/801eaafce237.json"}, "html": {"href": "#!/osrf/gazebo/commits/801eaafce237"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "c430217e83da", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/mxgrey/gazebo/commit/c430217e83da"}, "html": {"href": "https://bitbucket.org/mxgrey/gazebo/commits/c430217e83da"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/mxgrey/gazebo"}, "html": {"href": "https://bitbucket.org/mxgrey/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{db441b9a-5483-4728-b3af-1135ccc99e42}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "mxgrey/gazebo", "uuid": "{db441b9a-5483-4728-b3af-1135ccc99e42}"}, "branch": {"name": "issue_1477_DART_AddLinkForce"}}, "state": "OPEN", "author": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "date": "2017-07-20T18:30:17.113124+00:00"}, "pull_request": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}}, {"update": {"description": "Note: This should not be merged until pull request #2748 because it depends on being able to compile DART.\r\n\r\n~~It turns out that `DARTLink::AddLinkForce(~,~)` was already implemented as `DARTLink::AddForceAtRelativePosition(~,~)` which are semantically identical based on their API descriptions.~~\r\n\r\n~~If `Link::AddLinkForce(~,~)` and `Link::AddForceAtRelativePosition(~,~)` are meant to be identical functions, then we should consider deprecating one of them. However, the `ODELink` implementations differ from each other based on the CoG location, even though this fact is not mentioned in the API documentation. I recommend that we should:~~\r\n\r\n1. ~~Determine what the intended behavior is (i.e. whether the CoG location should be affecting `Link::AddForceAtRelativePosition(~,~)`).~~\r\n2. ~~Write tests to verify that the expected behavior is occurring.~~\r\n3. ~~Either deprecate one of the functions or correct the `DARTLink` implementation to reflect the intended behavior.~~\r\n\r\n~~I can open an issue about this if people agree that there is some inconsistency here.~~\r\n\r\nEdit: After reviewing the tests for ``AddLinkForce`` in test/integration/physics_link.cc, I realized that there *is* meant to be a semantic difference between ``Link::AddLinkForce(~,~)`` and ``Link::AddForceAtRelativePosition(~,~)``, even though their descriptions in the header seemed almost identical. I've updated their header descriptions to hopefully make their differences more explicit, and I've reimplemented their ``DARTLink`` implementations to reflect their intended meanings.", "title": "Fix Issue #1477 -- DART::AddLinkForce", "destination": {"commit": {"hash": "801eaafce237", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/801eaafce237.json"}, "html": {"href": "#!/osrf/gazebo/commits/801eaafce237"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "c430217e83da", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/mxgrey/gazebo/commit/c430217e83da"}, "html": {"href": "https://bitbucket.org/mxgrey/gazebo/commits/c430217e83da"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/mxgrey/gazebo"}, "html": {"href": "https://bitbucket.org/mxgrey/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{db441b9a-5483-4728-b3af-1135ccc99e42}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "mxgrey/gazebo", "uuid": "{db441b9a-5483-4728-b3af-1135ccc99e42}"}, "branch": {"name": "issue_1477_DART_AddLinkForce"}}, "state": "OPEN", "author": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "date": "2017-07-20T18:24:43.757785+00:00"}, "pull_request": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}}, {"update": {"description": "Note: This should not be merged until pull request #2748 because it depends on being able to compile DART.\r\n\r\n~~It turns out that `DARTLink::AddLinkForce(~,~)` was already implemented as `DARTLink::AddForceAtRelativePosition(~,~)` which are semantically identical based on their API descriptions.~~\r\n\r\n~~If `Link::AddLinkForce(~,~)` and `Link::AddForceAtRelativePosition(~,~)` are meant to be identical functions, then we should consider deprecating one of them. However, the `ODELink` implementations differ from each other based on the CoG location, even though this fact is not mentioned in the API documentation. I recommend that we should:~~\r\n\r\n1. ~~Determine what the intended behavior is (i.e. whether the CoG location should be affecting `Link::AddForceAtRelativePosition(~,~)`).~~\r\n2. ~~Write tests to verify that the expected behavior is occurring.~~\r\n3. ~~Either deprecate one of the functions or correct the `DARTLink` implementation to reflect the intended behavior.~~\r\n\r\n~~I can open an issue about this if people agree that there is some inconsistency here.~~\r\n\r\nEdit: After reviewing the tests for ``AddLinkForce`` in test/integration/physics_link.cc, I realized that there *is* meant to be a semantic difference between ``Link::AddLinkForce(~,~)`` and ``Link::AddForceAtRelativePosition(~,~)``, even though their descriptions in the header seemed almost identical. I've updated their header descriptions to hopefully make their differences more explicit, and I've reimplemented their ``DARTLink`` implementations to reflect their intended meanings.", "title": "Fix Issue #1477 -- DART::AddLinkForce", "destination": {"commit": {"hash": "801eaafce237", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/801eaafce237.json"}, "html": {"href": "#!/osrf/gazebo/commits/801eaafce237"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "c430217e83da", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/mxgrey/gazebo/commit/c430217e83da"}, "html": {"href": "https://bitbucket.org/mxgrey/gazebo/commits/c430217e83da"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/mxgrey/gazebo"}, "html": {"href": "https://bitbucket.org/mxgrey/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{db441b9a-5483-4728-b3af-1135ccc99e42}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "mxgrey/gazebo", "uuid": "{db441b9a-5483-4728-b3af-1135ccc99e42}"}, "branch": {"name": "issue_1477_DART_AddLinkForce"}}, "state": "OPEN", "author": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "date": "2017-07-20T18:24:13.742751+00:00"}, "pull_request": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749/comments/41114024.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749/_/diff#comment-41114024"}}, "parent": {"id": 40994691, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749/comments/40994691.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749/_/diff#comment-40994691"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}, "content": {"raw": "I've re-enabled the tests for AddLinkForce on DART, and after some fixes, they're now working.\n\nNow I'll take a look at issue #1090, which I believe is probably very related to these fixes that I just made. ", "markup": "markdown", "html": "<p>I've re-enabled the tests for AddLinkForce on DART, and after some fixes, they're now working.</p>\n<p>Now I'll take a look at issue <a href=\"#!/osrf/gazebo/issues/1090/dartlink-settorque-using-wrong-frame\" rel=\"nofollow\" title=\"DARTLink::SetTorque using wrong frame?\" class=\"ap-connect-link\"><s>#1090</s></a>, which I believe is probably very related to these fixes that I just made. </p>", "type": "rendered"}, "created_on": "2017-07-19T23:19:53.333200+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": "2017-07-19T23:26:29.865750+00:00", "type": "pullrequest_comment", "id": 41114024}, "pull_request": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}}, {"update": {"description": "Note: This should not be merged until pull request #2748 because it depends on being able to compile DART.\r\n\r\n~~It turns out that `DARTLink::AddLinkForce(~,~)` was already implemented as `DARTLink::AddForceAtRelativePosition(~,~)` which are semantically identical based on their API descriptions.~~\r\n\r\n~~If `Link::AddLinkForce(~,~)` and `Link::AddForceAtRelativePosition(~,~)` are meant to be identical functions, then we should consider deprecating one of them. However, the `ODELink` implementations differ from each other based on the CoG location, even though this fact is not mentioned in the API documentation. I recommend that we should:~~\r\n\r\n1. ~~Determine what the intended behavior is (i.e. whether the CoG location should be affecting `Link::AddForceAtRelativePosition(~,~)`).~~\r\n2. ~~Write tests to verify that the expected behavior is occurring.~~\r\n3. ~~Either deprecate one of the functions or correct the `DARTLink` implementation to reflect the intended behavior.~~\r\n\r\n~~I can open an issue about this if people agree that there is some inconsistency here.~~\r\n\r\nEdit: After reviewing the tests for ``AddLinkForce`` in test/integration/physics_link.cc, I realized that there *is* meant to be a semantic difference between ``Link::AddLinkForce(~,~)`` and ``Link::AddForceAtRelativePosition(~,~)``, even though their descriptions in the header seemed almost identical. I've updated their header descriptions to hopefully make their differences more explicit, and I've reimplemented their ``DARTLink`` implementations to reflect their intended meanings.", "title": "Fix Issue #1477 -- DART::AddLinkForce", "destination": {"commit": {"hash": "801eaafce237", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/801eaafce237.json"}, "html": {"href": "#!/osrf/gazebo/commits/801eaafce237"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "24703e34819b", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/mxgrey/gazebo/commit/24703e34819b"}, "html": {"href": "https://bitbucket.org/mxgrey/gazebo/commits/24703e34819b"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/mxgrey/gazebo"}, "html": {"href": "https://bitbucket.org/mxgrey/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{db441b9a-5483-4728-b3af-1135ccc99e42}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "mxgrey/gazebo", "uuid": "{db441b9a-5483-4728-b3af-1135ccc99e42}"}, "branch": {"name": "issue_1477_DART_AddLinkForce"}}, "state": "OPEN", "author": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "date": "2017-07-19T23:25:52.133262+00:00"}, "pull_request": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}}, {"update": {"description": "Note: This should not be merged until pull request #2748 because it depends on being able to compile DART.\r\n\r\nIt turns out that `DARTLink::AddLinkForce(~,~)` was already implemented as `DARTLink::AddForceAtRelativePosition(~,~)` which are semantically identical based on their API descriptions.\r\n\r\nIf `Link::AddLinkForce(~,~)` and `Link::AddForceAtRelativePosition(~,~)` are meant to be identical functions, then we should consider deprecating one of them. However, the `ODELink` implementations differ from each other based on the CoG location, even though this fact is not mentioned in the API documentation. I recommend that we should:\r\n\r\n1. Determine what the intended behavior is (i.e. whether the CoG location should be affecting `Link::AddForceAtRelativePosition(~,~)`).\r\n2. Write tests to verify that the expected behavior is occurring.\r\n3. Either deprecate one of the functions or correct the `DARTLink` implementation to reflect the intended behavior.\r\n\r\nI can open an issue about this if people agree that there is some inconsistency here.", "title": "Fix Issue #1477 -- DART::AddLinkForce", "destination": {"commit": {"hash": "801eaafce237", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/801eaafce237.json"}, "html": {"href": "#!/osrf/gazebo/commits/801eaafce237"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "24703e34819b", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/mxgrey/gazebo/commit/24703e34819b"}, "html": {"href": "https://bitbucket.org/mxgrey/gazebo/commits/24703e34819b"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/mxgrey/gazebo"}, "html": {"href": "https://bitbucket.org/mxgrey/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{db441b9a-5483-4728-b3af-1135ccc99e42}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "mxgrey/gazebo", "uuid": "{db441b9a-5483-4728-b3af-1135ccc99e42}"}, "branch": {"name": "issue_1477_DART_AddLinkForce"}}, "state": "OPEN", "author": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "date": "2017-07-19T23:15:39.125926+00:00"}, "pull_request": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749/comments/40994779.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749/_/diff#comment-40994779"}}, "parent": {"id": 40994691, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749/comments/40994691.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749/_/diff#comment-40994691"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}, "content": {"raw": "Can you look at [test/integration/physics_link.cc](#!/osrf/gazebo/src/f1250446cd6838f6994cfe980970cec34716277e/test/integration/physics_link.cc?at=default&fileviewer=file-view-default) and see which tests can be enabled for dart?", "markup": "markdown", "html": "<p>Can you look at <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/f1250446cd6838f6994cfe980970cec34716277e/test/integration/physics_link.cc?at=default&amp;fileviewer=file-view-default\" rel=\"nofollow\">test/integration/physics_link.cc</a> and see which tests can be enabled for dart?</p>", "type": "rendered"}, "created_on": "2017-07-18T17:49:46.067855+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-07-18T17:49:46.070620+00:00", "type": "pullrequest_comment", "id": 40994779}, "pull_request": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749/comments/40994691.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749/_/diff#comment-40994691"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}, "content": {"raw": "We should enable some tests since I think there are some disabled...", "markup": "markdown", "html": "<p>We should enable some tests since I think there are some disabled...</p>", "type": "rendered"}, "created_on": "2017-07-18T17:48:38.803768+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-07-18T17:48:38.807555+00:00", "type": "pullrequest_comment", "id": 40994691}, "pull_request": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749/comments/40994622.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749/_/diff#comment-40994622"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}, "content": {"raw": "I started a jenkins build with dart compiled from master branch:\n\n* https://build.osrfoundation.org/view/upstream-dart/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/15/", "markup": "markdown", "html": "<p>I started a jenkins build with dart compiled from master branch:</p>\n<ul>\n<li><a href=\"https://build.osrfoundation.org/view/upstream-dart/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/15/\" rel=\"nofollow\" class=\"ap-connect-link\">https://build.osrfoundation.org/view/upstream-dart/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/15/</a></li>\n</ul>", "type": "rendered"}, "created_on": "2017-07-18T17:47:50.829488+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-07-18T17:47:50.832446+00:00", "type": "pullrequest_comment", "id": 40994622}, "pull_request": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749/comments/40990714.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749/_/diff#comment-40990714"}}, "parent": {"id": 40986493, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749/comments/40986493.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749/_/diff#comment-40986493"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}, "content": {"raw": "Thanks! I'm still learning Bitbucket's idiosyncrasies :sweat_smile: ", "markup": "markdown", "html": "<p>Thanks! I'm still learning Bitbucket's idiosyncrasies <img class=\"emoji\" src=\"data/pf-emoji-service--cdn.us-east-1.prod.public.atl-paas.net/standard/551c9814-1d37-4573-819d-afab3afeaf32/48x48/1f605.png\" alt=\"\ud83d\ude05\" title=\":sweat_smile:\" data-emoji-short-name=\":sweat_smile:\" /> </p>", "type": "rendered"}, "created_on": "2017-07-18T16:55:47.312443+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": "2017-07-18T16:55:47.362646+00:00", "type": "pullrequest_comment", "id": 40990714}, "pull_request": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}}, {"update": {"description": "Note: This should not be merged until pull request #2748 because it depends on being able to compile DART.\r\n\r\nIt turns out that `DARTLink::AddLinkForce(~,~)` was already implemented as `DARTLink::AddForceAtRelativePosition(~,~)` which are semantically identical based on their API descriptions.\r\n\r\nIf `Link::AddLinkForce(~,~)` and `Link::AddForceAtRelativePosition(~,~)` are meant to be identical functions, then we should consider deprecating one of them. However, the `ODELink` implementations differ from each other based on the CoG location, even though this fact is not mentioned in the API documentation. I recommend that we should:\r\n\r\n1. Determine what the intended behavior is (i.e. whether the CoG location should be affecting `Link::AddForceAtRelativePosition(~,~)`).\r\n2. Write tests to verify that the expected behavior is occurring.\r\n3. Either deprecate one of the functions or correct the `DARTLink` implementation to reflect the intended behavior.\r\n\r\nI can open an issue about this if people agree that there is some inconsistency here.", "title": "Fix Issue #1477 -- DART::AddLinkForce", "destination": {"commit": {"hash": "f1250446cd68", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/f1250446cd68.json"}, "html": {"href": "#!/osrf/gazebo/commits/f1250446cd68"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "feeae4b04fd3", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/mxgrey/gazebo/commit/feeae4b04fd3"}, "html": {"href": "https://bitbucket.org/mxgrey/gazebo/commits/feeae4b04fd3"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/mxgrey/gazebo"}, "html": {"href": "https://bitbucket.org/mxgrey/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{db441b9a-5483-4728-b3af-1135ccc99e42}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "mxgrey/gazebo", "uuid": "{db441b9a-5483-4728-b3af-1135ccc99e42}"}, "branch": {"name": "issue_1477_DART_AddLinkForce"}}, "state": "OPEN", "author": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "date": "2017-07-18T16:54:40.601460+00:00"}, "pull_request": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749/comments/40986493.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749/_/diff#comment-40986493"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}, "content": {"raw": "FYI, `pull request #2748` becomes a link: pull request #2748. `pull request` is needed because bitbucket has separate numbers for issues and pull requests. See #1 vs pull request #1", "markup": "markdown", "html": "<p>FYI, <code>pull request #2748</code> becomes a link: <a href=\"#!/osrf/gazebo/pull-requests/2748/link-gazebo_ode-to-the-dart-cmake-target\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #2748</a>. <code>pull request</code> is needed because bitbucket has separate numbers for issues and pull requests. See <a href=\"#!/osrf/gazebo/issues/1/documentation-page-quick-start-is-empty\" rel=\"nofollow\" title=\"documentation page &quot;quick start&quot; is empty\" class=\"ap-connect-link\"><s>#1</s></a> vs <a href=\"#!/osrf/gazebo/pull-requests/1/fix-syntax-error-in-linksdf\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #1</a></p>", "type": "rendered"}, "created_on": "2017-07-18T16:10:01.357991+00:00", "user": {"display_name": "Shane Loretz", "uuid": "{656e3311-aad9-45a1-aaf7-b0ee0e84b287}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D"}, "html": {"href": "https://bitbucket.org/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:684383ab-ac95-4859-a350-4a6f41a94a22/c7a1ebf5-cade-4115-9f26-9d3facb776db/128"}}, "nickname": "Shane Loretz", "type": "user", "account_id": "557058:684383ab-ac95-4859-a350-4a6f41a94a22"}, "updated_on": "2017-07-18T16:10:01.361125+00:00", "type": "pullrequest_comment", "id": 40986493}, "pull_request": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}}, {"update": {"description": "Note: This should not be merged until #2748 because it depends on being able to compile DART.\r\n\r\nIt turns out that `DARTLink::AddLinkForce(~,~)` was already implemented as `DARTLink::AddForceAtRelativePosition(~,~)` which are semantically identical based on their API descriptions.\r\n\r\nIf `Link::AddLinkForce(~,~)` and `Link::AddForceAtRelativePosition(~,~)` are meant to be identical functions, then we should consider deprecating one of them. However, the `ODELink` implementations differ from each other based on the CoG location, even though this fact is not mentioned in the API documentation. I recommend that we should:\r\n\r\n1. Determine what the intended behavior is (i.e. whether the CoG location should be affecting `Link::AddForceAtRelativePosition(~,~)`).\r\n2. Write tests to verify that the expected behavior is occurring.\r\n3. Either deprecate one of the functions or correct the `DARTLink` implementation to reflect the intended behavior.\r\n\r\nI can open an issue about this if people agree that there is some inconsistency here.", "title": "Fix Issue #1477 -- DART::AddLinkForce", "destination": {"commit": {"hash": "dae77c6ef575", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/dae77c6ef575.json"}, "html": {"href": "#!/osrf/gazebo/commits/dae77c6ef575"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "feeae4b04fd3", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/mxgrey/gazebo/commit/feeae4b04fd3"}, "html": {"href": "https://bitbucket.org/mxgrey/gazebo/commits/feeae4b04fd3"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/mxgrey/gazebo"}, "html": {"href": "https://bitbucket.org/mxgrey/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{db441b9a-5483-4728-b3af-1135ccc99e42}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "mxgrey/gazebo", "uuid": "{db441b9a-5483-4728-b3af-1135ccc99e42}"}, "branch": {"name": "issue_1477_DART_AddLinkForce"}}, "state": "OPEN", "author": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "date": "2017-07-18T01:44:14.082581+00:00"}, "pull_request": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}}, {"update": {"description": "Note: This should not be merged until #2748 because it depends on being able to compile DART.\r\n\r\nIt turns out that `DARTLink::AddLinkForce(~,~)` was already implemented as `DARTLink::AddForceAtRelativePosition(~,~)` which are semantically identical based on their API descriptions.\r\n\r\nIf `Link::AddLinkForce(~,~)` and `Link::AddForceAtRelativePosition(~,~)` are meant to be identical functions, then we should consider deprecating one of them. However, the `ODELink` implementations differ from each other based on the CoG location, even though this fact is not mentioned in the API documentation. I recommend that we should:\r\n\r\n1. Determine what the intended behavior is (i.e. whether the CoG location should be affecting `Link::AddForceAtRelativePosition(~,~)`).\r\n2. Write tests to verify that the expected behavior is occurring.\r\n3. Either deprecate one of the functions or correct the `DARTLink` implementation to reflect the intended behavior.\r\n\r\nI can open an issue about this if people agree that there is some inconsistency here.", "title": "Fix Issue #1477 -- DART::AddLinkForce", "destination": {"commit": {"hash": "dae77c6ef575", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/dae77c6ef575.json"}, "html": {"href": "#!/osrf/gazebo/commits/dae77c6ef575"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "feeae4b04fd3", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/mxgrey/gazebo/commit/feeae4b04fd3"}, "html": {"href": "https://bitbucket.org/mxgrey/gazebo/commits/feeae4b04fd3"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/mxgrey/gazebo"}, "html": {"href": "https://bitbucket.org/mxgrey/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{db441b9a-5483-4728-b3af-1135ccc99e42}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "mxgrey/gazebo", "uuid": "{db441b9a-5483-4728-b3af-1135ccc99e42}"}, "branch": {"name": "issue_1477_DART_AddLinkForce"}}, "state": "OPEN", "author": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "date": "2017-07-18T01:44:14.047940+00:00"}, "pull_request": {"type": "pullrequest", "id": 2749, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2749.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2749"}}, "title": "Fix Issue #1477 and #1090"}}]}