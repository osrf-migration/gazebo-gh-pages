{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2396/comments/21095842.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2396/_/diff#comment-21095842"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2396, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2396.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2396"}}, "title": "Support off-diagonal inertia terms in bullet"}, "content": {"raw": "Just to be precise: the Bullet btRigidBody local frame is aligned with the center of mass and with the principal axis of inertia. This is fine, and not a limitation, because we can apply an inverse transform to the collision and graphics shapes to achieve the same result. All we need is a way to extract the diagonal matrix and a rotation matrix, and then apply the inverse transforms in the right place. We are on the same page on this, right?\n\nIs that what ignition::math::Inertial does?", "markup": "markdown", "html": "<p>Just to be precise: the Bullet btRigidBody local frame is aligned with the center of mass and with the principal axis of inertia. This is fine, and not a limitation, because we can apply an inverse transform to the collision and graphics shapes to achieve the same result. All we need is a way to extract the diagonal matrix and a rotation matrix, and then apply the inverse transforms in the right place. We are on the same page on this, right?</p>\n<p>Is that what ignition::math::Inertial does?</p>", "type": "rendered"}, "created_on": "2016-07-15T20:30:40.852153+00:00", "user": {"display_name": "Erwin Coumans", "uuid": "{b9e205e2-e767-4e9c-8941-69f62ace28e5}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bb9e205e2-e767-4e9c-8941-69f62ace28e5%7D"}, "html": {"href": "https://bitbucket.org/%7Bb9e205e2-e767-4e9c-8941-69f62ace28e5%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/8ea4a5ee01d648098034464b00259d9dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsEC-5.png"}}, "nickname": "erwincoumans", "type": "user", "account_id": "557058:9f08aa50-289c-4810-a184-66f7c0f78159"}, "updated_on": "2016-07-15T20:30:40.894761+00:00", "type": "pullrequest_comment", "id": 21095842}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2396/comments/21098524.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2396/_/diff#comment-21098524"}}, "parent": {"id": 21095842, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2396/comments/21095842.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2396/_/diff#comment-21095842"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2396, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2396.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2396"}}, "title": "Support off-diagonal inertia terms in bullet"}, "content": {"raw": "I agree; this isn't a limitation in the structure of `btRigidBody`, but it does require the ability to diagonalize 3x3 inertia matrices.\n\n`ignition::math::Inertial` consists of a pose and an `ignition::math::MassMatrix3` object, which consists of mass and a moment of inertia matrix. The diagonalization logic was added in the following pull requests:\n\n* eigenvalues: https://bitbucket.org/ignitionrobotics/ign-math/pull-requests/79/massmatrix3-principalmoments-diagonalizing/diff\n* orientation (eigenvectors): https://bitbucket.org/ignitionrobotics/ign-math/pull-requests/82/massmatrix-principalaxesoffset/diff\n\nI based this code off of a [paper on arxiv](http://arxiv.org/abs/1306.6291v4), but Eigen can do it as well:\n\n*  [Eigen::SelfAdjointEigenSolver::computeDirect](http://eigen.tuxfamily.org/dox/classEigen_1_1SelfAdjointEigenSolver.html#a85cda7e77edf4923f3fc0512c83f6323)", "markup": "markdown", "html": "<p>I agree; this isn't a limitation in the structure of <code>btRigidBody</code>, but it does require the ability to diagonalize 3x3 inertia matrices.</p>\n<p><code>ignition::math::Inertial</code> consists of a pose and an <code>ignition::math::MassMatrix3</code> object, which consists of mass and a moment of inertia matrix. The diagonalization logic was added in the following pull requests:</p>\n<ul>\n<li>eigenvalues: <a href=\"https://bitbucket.org/ignitionrobotics/ign-math/pull-requests/79/massmatrix3-principalmoments-diagonalizing/diff\" rel=\"nofollow\" class=\"ap-connect-link\">https://bitbucket.org/ignitionrobotics/ign-math/pull-requests/79/massmatrix3-principalmoments-diagonalizing/diff</a></li>\n<li>orientation (eigenvectors): <a href=\"https://bitbucket.org/ignitionrobotics/ign-math/pull-requests/82/massmatrix-principalaxesoffset/diff\" rel=\"nofollow\" class=\"ap-connect-link\">https://bitbucket.org/ignitionrobotics/ign-math/pull-requests/82/massmatrix-principalaxesoffset/diff</a></li>\n</ul>\n<p>I based this code off of a <a data-is-external-link=\"true\" href=\"http://arxiv.org/abs/1306.6291v4\" rel=\"nofollow\">paper on arxiv</a>, but Eigen can do it as well:</p>\n<ul>\n<li><a data-is-external-link=\"true\" href=\"http://eigen.tuxfamily.org/dox/classEigen_1_1SelfAdjointEigenSolver.html#a85cda7e77edf4923f3fc0512c83f6323\" rel=\"nofollow\">Eigen::SelfAdjointEigenSolver::computeDirect</a></li>\n</ul>", "type": "rendered"}, "created_on": "2016-07-15T22:05:53.229140+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2016-07-15T22:05:53.231548+00:00", "type": "pullrequest_comment", "id": 21098524}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2396/comments/21098595.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2396/_/diff#comment-21098595"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2396, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2396.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2396"}}, "title": "Support off-diagonal inertia terms in bullet"}, "content": {"raw": "homebrew build in the upper right failed due to a change in homebrew\n\n* [new build](http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/576/)", "markup": "markdown", "html": "<p>homebrew build in the upper right failed due to a change in homebrew</p>\n<ul>\n<li><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/576/\" rel=\"nofollow\">new build</a></li>\n</ul>", "type": "rendered"}, "created_on": "2016-07-15T22:09:13.630587+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2016-07-15T22:09:13.636866+00:00", "type": "pullrequest_comment", "id": 21098595}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2396/comments/21099440.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2396/_/diff#comment-21099440"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2396, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2396.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2396"}}, "title": "Support off-diagonal inertia terms in bullet"}, "content": {"raw": "there is a test failure with the pr2; it's totally unstable\n\n* http://build.osrfoundation.org/job/gazebo-ci-pr_any-xenial-amd64-gpu-none/105/testReport/junit/(root)/PhysicsEngines_JointTestScrew/ScrewJointLimitForce_1/\n\njust `gazebo -u -e bullet worlds/pr2.world`, then unpause, and watch it fly away", "markup": "markdown", "html": "<p>there is a test failure with the pr2; it's totally unstable</p>\n<ul>\n<li><a href=\"http://build.osrfoundation.org/job/gazebo-ci-pr_any-xenial-amd64-gpu-none/105/testReport/junit/(root)/PhysicsEngines_JointTestScrew/ScrewJointLimitForce_1/\" rel=\"nofollow\" class=\"ap-connect-link\">http://build.osrfoundation.org/job/gazebo-ci-pr_any-xenial-amd64-gpu-none/105/testReport/junit/(root)/PhysicsEngines_JointTestScrew/ScrewJointLimitForce_1/</a></li>\n</ul>\n<p>just <code>gazebo -u -e bullet worlds/pr2.world</code>, then unpause, and watch it fly away</p>", "type": "rendered"}, "created_on": "2016-07-15T22:55:36.324992+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2016-07-15T22:55:36.330444+00:00", "type": "pullrequest_comment", "id": 21099440}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2396/comments/21099508.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2396/_/diff#comment-21099508"}}, "parent": {"id": 21099440, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2396/comments/21099440.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2396/_/diff#comment-21099440"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2396, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2396.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2396"}}, "title": "Support off-diagonal inertia terms in bullet"}, "content": {"raw": "I'm going to decline this for now while I explore this test failure. I may add another helper function to ignition::math as well", "markup": "markdown", "html": "<p>I'm going to decline this for now while I explore this test failure. I may add another helper function to ignition::math as well</p>", "type": "rendered"}, "created_on": "2016-07-15T23:00:52.466741+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2016-07-15T23:00:52.485955+00:00", "type": "pullrequest_comment", "id": 21099508}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2396/comments/21099613.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2396/_/diff#comment-21099613"}}, "parent": {"id": 21099508, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2396/comments/21099508.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2396/_/diff#comment-21099508"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2396, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2396.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2396"}}, "title": "Support off-diagonal inertia terms in bullet"}, "content": {"raw": "I think it's not accounting for the extra inertial rotation when configuring the joint locations and axes.\n\nI'll need to write an extra test for that (glad we already had this one in place)", "markup": "markdown", "html": "<p>I think it's not accounting for the extra inertial rotation when configuring the joint locations and axes.</p>\n<p>I'll need to write an extra test for that (glad we already had this one in place)</p>", "type": "rendered"}, "created_on": "2016-07-15T23:10:02.754705+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2016-07-15T23:10:02.756675+00:00", "type": "pullrequest_comment", "id": 21099613}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2396/comments/41117015.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2396/_/diff#comment-41117015"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2396, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2396.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2396"}}, "title": "Support off-diagonal inertia terms in bullet"}, "content": {"raw": "cc @mxgrey here's the branch I was talking about. It improves support for off-axis inertia terms in bullet but breaks joint poses and axes, so it wasn't ready for merging", "markup": "markdown", "html": "<p>cc @mxgrey here's the branch I was talking about. It improves support for off-axis inertia terms in bullet but breaks joint poses and axes, so it wasn't ready for merging</p>", "type": "rendered"}, "created_on": "2017-07-20T00:57:03.882472+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-07-20T00:57:03.894369+00:00", "type": "pullrequest_comment", "id": 41117015}], "page": 1, "size": 7}