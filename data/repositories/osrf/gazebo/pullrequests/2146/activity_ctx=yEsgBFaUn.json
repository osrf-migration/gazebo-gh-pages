{"pagelen": 50, "values": [{"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2146/comments/15062627.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2146/_/diff#comment-15062627"}}, "parent": {"id": 14806755, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2146/comments/14806755.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2146/_/diff#comment-14806755"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2146, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2146.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2146"}}, "title": "Internal tinyxml2"}, "content": {"raw": "Using library bundles or shared libraries has historically been a decision taken at a distribution level, you can find MacOSX or Windows (using bundles) or most of the GNU/Linux distributions (not using them). The friends of Gentoo wrote [a page about why not using them](https://wiki.gentoo.org/wiki/Why_not_bundle_dependencies). Both models have pros and cons. Taking the decision of using bundles in Gazebo won't save your downstream distribution maintainers (Fedora, Debian, etc) of having to follow the policy of removing them.\n\nSo yes, we can change the code in this way, but would be good to keep all the logic in cmake that allows downstream maintainers not to require custom patching. A way of doing it would be to keep all the logic in place but default to use the bundle. We can build our own packages using it but downstream can easily select not to do it in the building cmake arguments. \n\n\n\n", "markup": "markdown", "html": "<p>Using library bundles or shared libraries has historically been a decision taken at a distribution level, you can find MacOSX or Windows (using bundles) or most of the GNU/Linux distributions (not using them). The friends of Gentoo wrote <a data-is-external-link=\"true\" href=\"https://wiki.gentoo.org/wiki/Why_not_bundle_dependencies\" rel=\"nofollow\">a page about why not using them</a>. Both models have pros and cons. Taking the decision of using bundles in Gazebo won't save your downstream distribution maintainers (Fedora, Debian, etc) of having to follow the policy of removing them.</p>\n<p>So yes, we can change the code in this way, but would be good to keep all the logic in cmake that allows downstream maintainers not to require custom patching. A way of doing it would be to keep all the logic in place but default to use the bundle. We can build our own packages using it but downstream can easily select not to do it in the building cmake arguments. </p>", "type": "rendered"}, "created_on": "2016-02-26T15:38:08.362825+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2016-02-26T15:38:08.369166+00:00", "type": "pullrequest_comment", "id": 15062627}, "pull_request": {"type": "pullrequest", "id": 2146, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2146.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2146"}}, "title": "Internal tinyxml2"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2146/comments/14929997.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2146/_/diff#comment-14929997"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2146, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2146.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2146"}}, "title": "Internal tinyxml2"}, "content": {"raw": "Is there an issue reported upstream? I think a large log file that contains mostly zeros could be constructed that would compress down to a reasonable size. That would be useful at least for reproducing the problem.", "markup": "markdown", "html": "<p>Is there an issue reported upstream? I think a large log file that contains mostly zeros could be constructed that would compress down to a reasonable size. That would be useful at least for reproducing the problem.</p>", "type": "rendered"}, "created_on": "2016-02-24T00:18:43.259480+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2016-02-24T00:18:43.262083+00:00", "type": "pullrequest_comment", "id": 14929997}, "pull_request": {"type": "pullrequest", "id": 2146, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2146.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2146"}}, "title": "Internal tinyxml2"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2146/comments/14807296.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2146/_/diff#comment-14807296"}}, "parent": {"id": 14807184, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2146/comments/14807184.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2146/_/diff#comment-14807184"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2146, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2146.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2146"}}, "title": "Internal tinyxml2"}, "content": {"raw": "Created issue #1860", "markup": "markdown", "html": "<p>Created issue <a href=\"#!/osrf/gazebo/issues/1860/switch-back-to-os-tinyxml2-when-ubuntu\" rel=\"nofollow\" title=\"Switch back to OS tinyxml2 when Ubuntu starts using version 3 or greater\" class=\"ap-connect-link\"><s>#1860</s></a></p>", "type": "rendered"}, "created_on": "2016-02-19T17:39:12.127753+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2016-02-19T17:39:12.130061+00:00", "type": "pullrequest_comment", "id": 14807296}, "pull_request": {"type": "pullrequest", "id": 2146, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2146.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2146"}}, "title": "Internal tinyxml2"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2146/comments/14807184.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2146/_/diff#comment-14807184"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2146, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2146.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2146"}}, "title": "Internal tinyxml2"}, "content": {"raw": "Modified this PR to change the tinyxml2 include path, and added a gazebo namespace to tinyxml2.\n\n[New jenkins](http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/gazebo-ci-pr_any-trusty-amd64-gpu-none/139/)", "markup": "markdown", "html": "<p>Modified this PR to change the tinyxml2 include path, and added a gazebo namespace to tinyxml2.</p>\n<p><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/gazebo-ci-pr_any-trusty-amd64-gpu-none/139/\" rel=\"nofollow\">New jenkins</a></p>", "type": "rendered"}, "created_on": "2016-02-19T17:36:34.116753+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2016-02-19T17:36:34.119298+00:00", "type": "pullrequest_comment", "id": 14807184}, "pull_request": {"type": "pullrequest", "id": 2146, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2146.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2146"}}, "title": "Internal tinyxml2"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2146/comments/14806755.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2146/_/diff#comment-14806755"}}, "parent": {"id": 14803282, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2146/comments/14803282.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2146/_/diff#comment-14803282"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2146, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2146.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2146"}}, "title": "Internal tinyxml2"}, "content": {"raw": "I agree on all counts, and I wish we had the resources to dedicate to fixing bugs in third party libraries.\n\nHere is a ramble that is mostly me complaining:\n\n* It bugs me that an OS can hamstring a software project. I get that rules and regulations are needed, for a wide variety of reasons. I'm also a firm believer that rules and regulations should never be followed absolutely. There are always very good and valid reasons to bend a rule. In this case, the problem has been fixed in tinyxml2, and I/we do not have the time or resources to trace down the exact problem and attempt a backward compatible fix that may or may not be possible. This type of development does not scale well. Image trying to do this for all our dependencies.\n\n* Size of a binary seems like an individual project decision, not the decision of an OS. We include boost, which dramatically increases library size. We can also do any number of things that makes our binary size larger, or smaller. In this case tinyxml2 is very tiny, and the authors encourage projects to directly include the source. I'm playing devil's advocate here.\n\n* We wrote our own collada parser because the existing parsers were slightly better than horrible. We could do the same here, and completely hiding tinyxml2 withing Gazebo is getting close to that. We have included ODE because of upstream maintenance issues. See my first point about valid reasons to bend rules.\n\nI don't see much of an alternative, unless someone steps up to trace down the bug, generate a backport, and get that submitted to Ubuntu.", "markup": "markdown", "html": "<p>I agree on all counts, and I wish we had the resources to dedicate to fixing bugs in third party libraries.</p>\n<p>Here is a ramble that is mostly me complaining:</p>\n<ul>\n<li>\n<p>It bugs me that an OS can hamstring a software project. I get that rules and regulations are needed, for a wide variety of reasons. I'm also a firm believer that rules and regulations should never be followed absolutely. There are always very good and valid reasons to bend a rule. In this case, the problem has been fixed in tinyxml2, and I/we do not have the time or resources to trace down the exact problem and attempt a backward compatible fix that may or may not be possible. This type of development does not scale well. Image trying to do this for all our dependencies.</p>\n</li>\n<li>\n<p>Size of a binary seems like an individual project decision, not the decision of an OS. We include boost, which dramatically increases library size. We can also do any number of things that makes our binary size larger, or smaller. In this case tinyxml2 is very tiny, and the authors encourage projects to directly include the source. I'm playing devil's advocate here.</p>\n</li>\n<li>\n<p>We wrote our own collada parser because the existing parsers were slightly better than horrible. We could do the same here, and completely hiding tinyxml2 withing Gazebo is getting close to that. We have included ODE because of upstream maintenance issues. See my first point about valid reasons to bend rules.</p>\n</li>\n</ul>\n<p>I don't see much of an alternative, unless someone steps up to trace down the bug, generate a backport, and get that submitted to Ubuntu.</p>", "type": "rendered"}, "created_on": "2016-02-19T17:25:10.304912+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2016-02-19T17:25:10.307527+00:00", "type": "pullrequest_comment", "id": 14806755}, "pull_request": {"type": "pullrequest", "id": 2146, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2146.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2146"}}, "title": "Internal tinyxml2"}}, {"update": {"description": "Ran into a bug in the version of tinyxml2 that is released in ubuntu. Large log files, specifically large blocks of CDATA cause tinyxml2 to fail.\r\n\r\nFortunately version 3 of tinyxml2 works. \r\n\r\nThis pull request changes gazebo to rely solely on the internal version of tinyxml2. I also removed public facing inclusion of tinyxml2 in LogPlay.\r\n\r\n@\\_jrivero\\_ , do you think this will negatively affect anything?\r\n\r\nI can't write a test for this because the test requires a very large log file, and we shouldn't include such a file in the gazebo sources. I have a 14GB log file on my PC that anyone can have for testing. \r\n\r\n[Jenkins](#!/osrf/gazebo/pull-requests/2146)", "title": "Internal tinyxml2", "destination": {"commit": {"hash": "3c21d9601d53", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/3c21d9601d53.json"}, "html": {"href": "#!/osrf/gazebo/commits/3c21d9601d53"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "cd30d4fec432", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/cd30d4fec432.json"}, "html": {"href": "#!/osrf/gazebo/commits/cd30d4fec432"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "internal_tinyxml2"}}, "state": "OPEN", "author": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "date": "2016-02-19T16:47:57.872933+00:00"}, "pull_request": {"type": "pullrequest", "id": 2146, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2146.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2146"}}, "title": "Internal tinyxml2"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2146/comments/14803282.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2146/_/diff#comment-14803282"}}, "parent": {"id": 14774362, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2146/comments/14774362.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2146/_/diff#comment-14774362"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2146, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2146.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2146"}}, "title": "Internal tinyxml2"}, "content": {"raw": "That will improve the situation of mixing gazebo libraries with third party libraries into binaries but the policy is in there for more than this: it tries to minimize the size of binaries loaded in memory (by reusing shared libraries) or minimize the maintenance effort (imaging the need of patching every embedded copy of tinxyml when a security bug appear). My personal opinion is that we should walk in the direction of removing the internal tinyxml copy and this PR would probably make things more difficult.\n\nI know that dealing with bugs in other libraries is a pain, but the bug should be reported with an use case, a patch commited and a backport to 2.x series done if needed (even in released distributions). If we find the patch, I can release a new version of tinyxml in our repository and send the backport to debian/ubuntu. Meantime yes, we can use the internal copy as a workaround but my vote is against of converting it into something permanent.", "markup": "markdown", "html": "<p>That will improve the situation of mixing gazebo libraries with third party libraries into binaries but the policy is in there for more than this: it tries to minimize the size of binaries loaded in memory (by reusing shared libraries) or minimize the maintenance effort (imaging the need of patching every embedded copy of tinxyml when a security bug appear). My personal opinion is that we should walk in the direction of removing the internal tinyxml copy and this PR would probably make things more difficult.</p>\n<p>I know that dealing with bugs in other libraries is a pain, but the bug should be reported with an use case, a patch commited and a backport to 2.x series done if needed (even in released distributions). If we find the patch, I can release a new version of tinyxml in our repository and send the backport to debian/ubuntu. Meantime yes, we can use the internal copy as a workaround but my vote is against of converting it into something permanent.</p>", "type": "rendered"}, "created_on": "2016-02-19T16:10:27.432910+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2016-02-19T16:10:27.436052+00:00", "type": "pullrequest_comment", "id": 14803282}, "pull_request": {"type": "pullrequest", "id": 2146, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2146.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2146"}}, "title": "Internal tinyxml2"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2146/comments/14774362.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2146/_/diff#comment-14774362"}}, "parent": {"id": 14774162, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2146/comments/14774162.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2146/_/diff#comment-14774162"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2146, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2146.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2146"}}, "title": "Internal tinyxml2"}, "content": {"raw": "How about we add an additional namespace (or change the namspace) to our internal tinyxml2 version? This feels like a good compromise. Our version of tinyxml2 is not exposed through any public API, and it has a different signature from the system tinyxml2.\n\nI checked the versions of tinyxml2 included in Ubuntu up to Xenial. We need version 3, and ubuntu is shipping 2.2.0. ", "markup": "markdown", "html": "<p>How about we add an additional namespace (or change the namspace) to our internal tinyxml2 version? This feels like a good compromise. Our version of tinyxml2 is not exposed through any public API, and it has a different signature from the system tinyxml2.</p>\n<p>I checked the versions of tinyxml2 included in Ubuntu up to Xenial. We need version 3, and ubuntu is shipping 2.2.0. </p>", "type": "rendered"}, "created_on": "2016-02-18T23:47:47.866477+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2016-02-18T23:47:47.868883+00:00", "type": "pullrequest_comment", "id": 14774362}, "pull_request": {"type": "pullrequest", "id": 2146, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2146.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2146"}}, "title": "Internal tinyxml2"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2146/comments/14774162.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2146/_/diff#comment-14774162"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2146, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2146.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2146"}}, "title": "Internal tinyxml2"}, "content": {"raw": "The debian policy (and probably the same in other distributions) is clear about the no-go of embedding libraries inside other libraries or other software. If we made this change in gazebo sources, all our distributions maintainers (including me) will need to patch (and maintain) manually the sources to work with the system version of tinyxml2. What could we do:\n\n * Debug which versions of tinyxml are affected and report the bug to upstream if it is not fixed.\n * Fix the tinyxml version present in the ubuntu distribution, if possible. Looks a severe bug to me.\n * Reverse the flag and default to use the internal version (this will mainly affect the source builds)-\n * Build our debian packages using the internal version for the affected platforms.\n ", "markup": "markdown", "html": "<p>The debian policy (and probably the same in other distributions) is clear about the no-go of embedding libraries inside other libraries or other software. If we made this change in gazebo sources, all our distributions maintainers (including me) will need to patch (and maintain) manually the sources to work with the system version of tinyxml2. What could we do:</p>\n<ul>\n<li>Debug which versions of tinyxml are affected and report the bug to upstream if it is not fixed.</li>\n<li>Fix the tinyxml version present in the ubuntu distribution, if possible. Looks a severe bug to me.</li>\n<li>Reverse the flag and default to use the internal version (this will mainly affect the source builds)-</li>\n<li>Build our debian packages using the internal version for the affected platforms.</li>\n</ul>", "type": "rendered"}, "created_on": "2016-02-18T23:38:47.283906+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2016-02-18T23:38:47.286632+00:00", "type": "pullrequest_comment", "id": 14774162}, "pull_request": {"type": "pullrequest", "id": 2146, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2146.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2146"}}, "title": "Internal tinyxml2"}}, {"update": {"description": "Ran into a bug in the version of tinyxml2 that is released in ubuntu. Large log files, specifically large blocks of CDATA cause tinyxml2 to fail.\r\n\r\nFortunately version 3 of tinyxml2 works. \r\n\r\nThis pull request changes gazebo to rely solely on the internal version of tinyxml2. I also removed public facing inclusion of tinyxml2 in LogPlay.\r\n\r\n@\\_jrivero\\_ , do you think this will negatively affect anything?\r\n\r\nI can't write a test for this because the test requires a very large log file, and we shouldn't include such a file in the gazebo sources. I have a 14GB log file on my PC that anyone can have for testing. \r\n\r\n[Jenkins](#!/osrf/gazebo/pull-requests/2146)", "title": "Internal tinyxml2", "destination": {"commit": {"hash": "3c21d9601d53", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/3c21d9601d53.json"}, "html": {"href": "#!/osrf/gazebo/commits/3c21d9601d53"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "c2dc9db61e68", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/c2dc9db61e68.json"}, "html": {"href": "#!/osrf/gazebo/commits/c2dc9db61e68"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "internal_tinyxml2"}}, "state": "OPEN", "author": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "date": "2016-02-18T23:24:23.307700+00:00"}, "pull_request": {"type": "pullrequest", "id": 2146, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2146.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2146"}}, "title": "Internal tinyxml2"}}, {"update": {"description": "Ran into a bug in the version of tinyxml2 that is released in ubuntu. Large log files, specifically large blocks of CDATA cause tinyxml2 to fail.\r\n\r\nFortunately version 3 of tinyxml2 works. \r\n\r\nThis pull request changes gazebo to rely solely on the internal version of tinyxml2. I also removed public facing inclusion of tinyxml2 in LogPlay.\r\n\r\n@\\_jrivero\\_ , do you think this will negatively affect anything?\r\n\r\nI can't write a test for this because the test requires a very large log file, and we shouldn't include such a file in the gazebo sources. I have a 14GB log file on my PC that anyone can have for testing. \r\n\r\n[Jenkins](#!/osrf/gazebo/pull-requests/2146)", "title": "Internal tinyxml2", "destination": {"commit": {"hash": "3c21d9601d53", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/3c21d9601d53.json"}, "html": {"href": "#!/osrf/gazebo/commits/3c21d9601d53"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "fb71e48f721f", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/fb71e48f721f.json"}, "html": {"href": "#!/osrf/gazebo/commits/fb71e48f721f"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "internal_tinyxml2"}}, "state": "OPEN", "author": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "date": "2016-02-18T23:22:50.733209+00:00"}, "pull_request": {"type": "pullrequest", "id": 2146, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2146.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2146"}}, "title": "Internal tinyxml2"}}, {"update": {"description": "Ran into a bug in the version of tinyxml2 that is released in ubuntu. Large log files, specifically large blocks of CDATA cause tinyxml2 to fail.\r\n\r\nFortunately version 3 of tinyxml2 works. \r\n\r\nThis pull request changes gazebo to rely solely on the internal version of tinyxml2. I also removed public facing inclusion of tinyxml2 in LogPlay.\r\n\r\n@\\_jrivero\\_ , do you think this will negatively affect anything?\r\n\r\nI can't write a test for this because the test requires a very large log file, and we shouldn't include such a file in the gazebo sources. I have a 14GB log file on my PC that anyone can have for testing. ", "title": "Internal tinyxml2", "destination": {"commit": {"hash": "3c21d9601d53", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/3c21d9601d53.json"}, "html": {"href": "#!/osrf/gazebo/commits/3c21d9601d53"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "fb71e48f721f", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/fb71e48f721f.json"}, "html": {"href": "#!/osrf/gazebo/commits/fb71e48f721f"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "internal_tinyxml2"}}, "state": "OPEN", "author": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "date": "2016-02-18T23:22:11.857091+00:00"}, "pull_request": {"type": "pullrequest", "id": 2146, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2146.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2146"}}, "title": "Internal tinyxml2"}}, {"update": {"description": "Ran into a bug in the version of tinyxml2 that is released in ubuntu. Large log files, specifically large blocks of CDATA cause tinyxml2 to fail.\r\n\r\nFortunately version 3 of tinyxml2 works. \r\n\r\nThis pull request changes gazebo to rely solely on the internal version of tinyxml2. I also removed public facing inclusion of tinyxml2 in LogPlay.\r\n\r\n@\\_jrivero\\_ , do you think this will negatively affect anything?\r\n\r\nI can't write a test for this because the test requires a very large log file, and we shouldn't include such a file in the gazebo sources. I have a 14GB log file on my PC that anyone can have for testing. ", "title": "Internal tinyxml2", "destination": {"commit": {"hash": "3c21d9601d53", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/3c21d9601d53.json"}, "html": {"href": "#!/osrf/gazebo/commits/3c21d9601d53"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "fb71e48f721f", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/fb71e48f721f.json"}, "html": {"href": "#!/osrf/gazebo/commits/fb71e48f721f"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "internal_tinyxml2"}}, "state": "OPEN", "author": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "date": "2016-02-18T23:22:11.811041+00:00"}, "pull_request": {"type": "pullrequest", "id": 2146, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2146.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2146"}}, "title": "Internal tinyxml2"}}]}