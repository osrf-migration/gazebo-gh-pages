{"rendered": {"reason": {"raw": "Better fix implemented on another branch", "markup": "markdown", "html": "<p>Better fix implemented on another branch</p>", "type": "rendered"}, "description": {"raw": "This PR implements a workaround that addresses issue #1858 and [this question](http://answers.gazebosim.org/question/12553/road-visuals-not-shown-in-published-camera-image). My particular use case is to:\r\n\r\n* Load a Gazebo world with `<road>` elements\r\n* Spawn a car model with a front-facing camera to simulate in ROS\r\n* Process the camera image output to simulate lane detection\r\n\r\nI had the same problem as shown in the above referenced issue and question where the road textures did not appear in the camera image output.\r\n\r\nI found the root cause of this issue. Before this PR, when the `World` class parses a world file with `<road>` elements, it sends Gazebo `Road` messages before any models are loaded and ready to receive them. This causes models with camera sensors to miss the road messages, which makes the roads invisible in the camera image output.\r\n\r\nThe workaround re-transmits the `Road` messages at the first physics update and whenever a new model is loaded. This way, everything that needs to know about the road segments won't miss the messages.\r\n\r\nThis workaround seems inelegant, but it definitely solved my problem and I think will solve the problem in the above referenced question. Perhaps someone more familiar with the Gazebo source can suggest a better way to fix this?", "markup": "markdown", "html": "<p>This PR implements a workaround that addresses issue <a href=\"#!/osrf/gazebo/issues/1858/road-texture-does-not-show-in-camera\" rel=\"nofollow\" title=\"Road texture does not show in camera sensor data\" class=\"ap-connect-link\"><s>#1858</s></a> and <a data-is-external-link=\"true\" href=\"http://answers.gazebosim.org/question/12553/road-visuals-not-shown-in-published-camera-image\" rel=\"nofollow\">this question</a>. My particular use case is to:</p>\n<ul>\n<li>Load a Gazebo world with <code>&lt;road&gt;</code> elements</li>\n<li>Spawn a car model with a front-facing camera to simulate in ROS</li>\n<li>Process the camera image output to simulate lane detection</li>\n</ul>\n<p>I had the same problem as shown in the above referenced issue and question where the road textures did not appear in the camera image output.</p>\n<p>I found the root cause of this issue. Before this PR, when the <code>World</code> class parses a world file with <code>&lt;road&gt;</code> elements, it sends Gazebo <code>Road</code> messages before any models are loaded and ready to receive them. This causes models with camera sensors to miss the road messages, which makes the roads invisible in the camera image output.</p>\n<p>The workaround re-transmits the <code>Road</code> messages at the first physics update and whenever a new model is loaded. This way, everything that needs to know about the road segments won't miss the messages.</p>\n<p>This workaround seems inelegant, but it definitely solved my problem and I think will solve the problem in the above referenced question. Perhaps someone more familiar with the Gazebo source can suggest a better way to fix this?</p>", "type": "rendered"}, "title": {"raw": "Workaround for road segments in world file not being visible in camera sensor output", "markup": "markdown", "html": "<p>Workaround for road segments in world file not being visible in camera sensor output</p>", "type": "rendered"}}, "type": "pullrequest", "description": "This PR implements a workaround that addresses issue #1858 and [this question](http://answers.gazebosim.org/question/12553/road-visuals-not-shown-in-published-camera-image). My particular use case is to:\r\n\r\n* Load a Gazebo world with `<road>` elements\r\n* Spawn a car model with a front-facing camera to simulate in ROS\r\n* Process the camera image output to simulate lane detection\r\n\r\nI had the same problem as shown in the above referenced issue and question where the road textures did not appear in the camera image output.\r\n\r\nI found the root cause of this issue. Before this PR, when the `World` class parses a world file with `<road>` elements, it sends Gazebo `Road` messages before any models are loaded and ready to receive them. This causes models with camera sensors to miss the road messages, which makes the roads invisible in the camera image output.\r\n\r\nThe workaround re-transmits the `Road` messages at the first physics update and whenever a new model is loaded. This way, everything that needs to know about the road segments won't miss the messages.\r\n\r\nThis workaround seems inelegant, but it definitely solved my problem and I think will solve the problem in the above referenced question. Perhaps someone more familiar with the Gazebo source can suggest a better way to fix this?", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/pullrequests/3097/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diffstat/robustify/gazebo:5f13cffcf8c3%0D727126025d5a?from_pullrequest_id=3097"}, "commits": {"href": "data/repositories/osrf/gazebo/pullrequests/3097/commits.json"}, "self": {"href": "data/repositories/osrf/gazebo/pullrequests/3097.json"}, "comments": {"href": "data/repositories/osrf/gazebo/pullrequests/3097/comments_page=1.json"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/pullrequests/3097/merge"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3097"}, "activity": {"href": "data/repositories/osrf/gazebo/pullrequests/3097/activity.json"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/robustify/gazebo:5f13cffcf8c3%0D727126025d5a?from_pullrequest_id=3097"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/pullrequests/3097/approve"}, "statuses": {"href": "data/repositories/osrf/gazebo/pullrequests/3097/statuses_page=1.json"}}, "title": "Workaround for road segments in world file not being visible in camera sensor output", "close_source_branch": false, "reviewers": [], "id": 3097, "destination": {"commit": {"hash": "727126025d5a", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/727126025d5a.json"}, "html": {"href": "#!/osrf/gazebo/commits/727126025d5a"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo9"}}, "created_on": "2019-04-14T20:40:07.833207+00:00", "summary": {"raw": "This PR implements a workaround that addresses issue #1858 and [this question](http://answers.gazebosim.org/question/12553/road-visuals-not-shown-in-published-camera-image). My particular use case is to:\r\n\r\n* Load a Gazebo world with `<road>` elements\r\n* Spawn a car model with a front-facing camera to simulate in ROS\r\n* Process the camera image output to simulate lane detection\r\n\r\nI had the same problem as shown in the above referenced issue and question where the road textures did not appear in the camera image output.\r\n\r\nI found the root cause of this issue. Before this PR, when the `World` class parses a world file with `<road>` elements, it sends Gazebo `Road` messages before any models are loaded and ready to receive them. This causes models with camera sensors to miss the road messages, which makes the roads invisible in the camera image output.\r\n\r\nThe workaround re-transmits the `Road` messages at the first physics update and whenever a new model is loaded. This way, everything that needs to know about the road segments won't miss the messages.\r\n\r\nThis workaround seems inelegant, but it definitely solved my problem and I think will solve the problem in the above referenced question. Perhaps someone more familiar with the Gazebo source can suggest a better way to fix this?", "markup": "markdown", "html": "<p>This PR implements a workaround that addresses issue <a href=\"#!/osrf/gazebo/issues/1858/road-texture-does-not-show-in-camera\" rel=\"nofollow\" title=\"Road texture does not show in camera sensor data\" class=\"ap-connect-link\"><s>#1858</s></a> and <a data-is-external-link=\"true\" href=\"http://answers.gazebosim.org/question/12553/road-visuals-not-shown-in-published-camera-image\" rel=\"nofollow\">this question</a>. My particular use case is to:</p>\n<ul>\n<li>Load a Gazebo world with <code>&lt;road&gt;</code> elements</li>\n<li>Spawn a car model with a front-facing camera to simulate in ROS</li>\n<li>Process the camera image output to simulate lane detection</li>\n</ul>\n<p>I had the same problem as shown in the above referenced issue and question where the road textures did not appear in the camera image output.</p>\n<p>I found the root cause of this issue. Before this PR, when the <code>World</code> class parses a world file with <code>&lt;road&gt;</code> elements, it sends Gazebo <code>Road</code> messages before any models are loaded and ready to receive them. This causes models with camera sensors to miss the road messages, which makes the roads invisible in the camera image output.</p>\n<p>The workaround re-transmits the <code>Road</code> messages at the first physics update and whenever a new model is loaded. This way, everything that needs to know about the road segments won't miss the messages.</p>\n<p>This workaround seems inelegant, but it definitely solved my problem and I think will solve the problem in the above referenced question. Perhaps someone more familiar with the Gazebo source can suggest a better way to fix this?</p>", "type": "rendered"}, "source": {"commit": {"hash": "5f13cffcf8c3", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/robustify/gazebo/commit/5f13cffcf8c3"}, "html": {"href": "https://bitbucket.org/robustify/gazebo/commits/5f13cffcf8c3"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/robustify/gazebo"}, "html": {"href": "https://bitbucket.org/robustify/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{07750892-54bb-4d2c-97df-81b2b654de79}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "robustify/gazebo", "uuid": "{07750892-54bb-4d2c-97df-81b2b654de79}"}, "branch": {"name": "road_camera_sensor_fix"}}, "comment_count": 10, "state": "DECLINED", "task_count": 0, "participants": [{"role": "PARTICIPANT", "participated_on": "2020-01-10T00:48:30.874522+00:00", "type": "participant", "approved": false, "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}}, {"role": "PARTICIPANT", "participated_on": "2020-01-23T00:23:24.197892+00:00", "type": "participant", "approved": false, "user": {"display_name": "Micho Radovnikovich", "uuid": "{a0c412bd-dfff-4347-ad22-72baef552eea}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Ba0c412bd-dfff-4347-ad22-72baef552eea%7D"}, "html": {"href": "https://bitbucket.org/%7Ba0c412bd-dfff-4347-ad22-72baef552eea%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:619abb83-31a0-42fe-a248-af179f545e4d/70585065-37d7-4edc-91aa-597b2bcb1d6f/128"}}, "nickname": "Micho Radovnikovich", "type": "user", "account_id": "557058:619abb83-31a0-42fe-a248-af179f545e4d"}}, {"role": "PARTICIPANT", "participated_on": "2020-01-23T00:21:49.100336+00:00", "type": "participant", "approved": false, "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}}, {"role": "PARTICIPANT", "participated_on": "2020-01-23T01:13:10.941877+00:00", "type": "participant", "approved": false, "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}}], "reason": "Better fix implemented on another branch", "updated_on": "2020-01-23T01:13:10.941877+00:00", "author": {"display_name": "Micho Radovnikovich", "uuid": "{a0c412bd-dfff-4347-ad22-72baef552eea}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Ba0c412bd-dfff-4347-ad22-72baef552eea%7D"}, "html": {"href": "https://bitbucket.org/%7Ba0c412bd-dfff-4347-ad22-72baef552eea%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:619abb83-31a0-42fe-a248-af179f545e4d/70585065-37d7-4edc-91aa-597b2bcb1d6f/128"}}, "nickname": "Micho Radovnikovich", "type": "user", "account_id": "557058:619abb83-31a0-42fe-a248-af179f545e4d"}, "merge_commit": null, "closed_by": {"display_name": "Micho Radovnikovich", "uuid": "{a0c412bd-dfff-4347-ad22-72baef552eea}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Ba0c412bd-dfff-4347-ad22-72baef552eea%7D"}, "html": {"href": "https://bitbucket.org/%7Ba0c412bd-dfff-4347-ad22-72baef552eea%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:619abb83-31a0-42fe-a248-af179f545e4d/70585065-37d7-4edc-91aa-597b2bcb1d6f/128"}}, "nickname": "Micho Radovnikovich", "type": "user", "account_id": "557058:619abb83-31a0-42fe-a248-af179f545e4d"}}