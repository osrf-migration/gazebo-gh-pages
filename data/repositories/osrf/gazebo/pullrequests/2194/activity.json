{"pagelen": 50, "values": [{"update": {"description": "Issue #1021\r\n\r\n1. On my laptop, the tests would always fail because of the `QBENCHMARK` macro. Since it doesn't seem like we're using it in the [back-end](http://doc.qt.io/qt-5/qtest-overview.html#creating-a-benchmark), it's probably ok to remove it. Removing it, the test passed 10 times in a row locally for me.\r\n\r\n1. The test always failed on Jenkins between print statements `cam1 to cam6` and `cam6 to cam1`, indicating the crash comes from the `SetTopic` calls. So I refactored that a little bit.\r\n\r\nThe test now passes on [trusty gpu](http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/197/testReport/)\r\n\r\nAnd [ABI](http://build.osrfoundation.org/job/gazebo-abichecker-any_to_any-vivid-amd64/198/) is happy\r\n\r\n[Diff without whitespace](#!/osrf/gazebo/pull-requests/2194/fix-unit_imagesview_test/diff?w=1)", "title": "Fix UNIT_ImagesView_TEST", "destination": {"commit": {"hash": "2cb891cb64db", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/2cb891cb64db.json"}, "html": {"href": "#!/osrf/gazebo/commits/2cb891cb64db"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "d1b01dfb4557", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/d1b01dfb4557.json"}, "html": {"href": "#!/osrf/gazebo/commits/d1b01dfb4557"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "imagesview_test"}}, "state": "MERGED", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2016-03-23T16:36:13.818175+00:00"}, "pull_request": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}}, {"approval": {"date": "2016-03-23T16:35:22.879558+00:00", "pullrequest": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}, "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}}, "pull_request": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}}, {"approval": {"date": "2016-03-23T16:33:00.548003+00:00", "pullrequest": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}, "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}}, "pull_request": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}}, {"update": {"description": "Issue #1021\r\n\r\n1. On my laptop, the tests would always fail because of the `QBENCHMARK` macro. Since it doesn't seem like we're using it in the [back-end](http://doc.qt.io/qt-5/qtest-overview.html#creating-a-benchmark), it's probably ok to remove it. Removing it, the test passed 10 times in a row locally for me.\r\n\r\n1. The test always failed on Jenkins between print statements `cam1 to cam6` and `cam6 to cam1`, indicating the crash comes from the `SetTopic` calls. So I refactored that a little bit.\r\n\r\nThe test now passes on [trusty gpu](http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/197/testReport/)\r\n\r\nAnd [ABI](http://build.osrfoundation.org/job/gazebo-abichecker-any_to_any-vivid-amd64/198/) is happy\r\n\r\n[Diff without whitespace](#!/osrf/gazebo/pull-requests/2194/fix-unit_imagesview_test/diff?w=1)", "title": "Fix UNIT_ImagesView_TEST", "destination": {"commit": {"hash": "2cb891cb64db", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/2cb891cb64db.json"}, "html": {"href": "#!/osrf/gazebo/commits/2cb891cb64db"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "d1b01dfb4557", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/d1b01dfb4557.json"}, "html": {"href": "#!/osrf/gazebo/commits/d1b01dfb4557"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "imagesview_test"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2016-03-23T16:05:18.240148+00:00"}, "pull_request": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/16164724.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-16164724"}}, "parent": {"id": 16156426, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/16156426.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-16156426"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}, "content": {"raw": "Merged in", "markup": "markdown", "html": "<p>Merged in</p>", "type": "rendered"}, "created_on": "2016-03-23T16:04:40.254224+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2016-03-23T16:04:40.256987+00:00", "type": "pullrequest_comment", "id": 16164724}, "pull_request": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}}, {"update": {"description": "Issue #1021\r\n\r\n1. On my laptop, the tests would always fail because of the `QBENCHMARK` macro. Since it doesn't seem like we're using it in the [back-end](http://doc.qt.io/qt-5/qtest-overview.html#creating-a-benchmark), it's probably ok to remove it. Removing it, the test passed 10 times in a row locally for me.\r\n\r\n1. The test always failed on Jenkins between print statements `cam1 to cam6` and `cam6 to cam1`, indicating the crash comes from the `SetTopic` calls. So I refactored that a little bit.\r\n\r\nThe test now passes on [trusty gpu](http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/197/testReport/)\r\n\r\nAnd [ABI](http://build.osrfoundation.org/job/gazebo-abichecker-any_to_any-vivid-amd64/198/) is happy\r\n\r\n[Diff without whitespace](#!/osrf/gazebo/pull-requests/2194/fix-unit_imagesview_test/diff?w=1)", "title": "Fix UNIT_ImagesView_TEST", "destination": {"commit": {"hash": "2cb891cb64db", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/2cb891cb64db.json"}, "html": {"href": "#!/osrf/gazebo/commits/2cb891cb64db"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "61c8228cbf33", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/61c8228cbf33.json"}, "html": {"href": "#!/osrf/gazebo/commits/61c8228cbf33"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "imagesview_test"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2016-03-23T16:04:03.787108+00:00"}, "pull_request": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/16156426.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-16156426"}}, "parent": {"id": 16122408, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/16122408.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-16122408"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}, "content": {"raw": "This works for me.", "markup": "markdown", "html": "<p>This works for me.</p>", "type": "rendered"}, "created_on": "2016-03-23T14:16:23.619667+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2016-03-23T14:16:23.624209+00:00", "type": "pullrequest_comment", "id": 16156426}, "pull_request": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/16122408.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-16122408"}}, "parent": {"id": 16119548, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/16119548.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-16119548"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}, "content": {"raw": "Ok, one final fix and I'll be ready to approve. I've relaxed the expectations without removing them in 673bcccc098a (branch `imagesview_test_scpeters` again) and it passed 75 times on my laptop before I stopped it. It couldn't pass more than 10 times without failing without this change.", "markup": "markdown", "html": "<p>Ok, one final fix and I'll be ready to approve. I've relaxed the expectations without removing them in <a href=\"#!/osrf/gazebo/commits/673bcccc098a\" rel=\"nofollow\" class=\"ap-connect-link\">673bcccc098a</a> (branch <code>imagesview_test_scpeters</code> again) and it passed 75 times on my laptop before I stopped it. It couldn't pass more than 10 times without failing without this change.</p>", "type": "rendered"}, "created_on": "2016-03-23T00:51:56.887820+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2016-03-23T00:51:56.889943+00:00", "type": "pullrequest_comment", "id": 16122408}, "pull_request": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/16120710.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-16120710"}}, "parent": {"id": 16064808, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/16064808.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-16064808"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}, "content": {"raw": "after further testing the wait count of 100 is fine", "markup": "markdown", "html": "<p>after further testing the wait count of 100 is fine</p>", "type": "rendered"}, "created_on": "2016-03-22T23:55:10.343278+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2016-03-22T23:55:10.345324+00:00", "type": "pullrequest_comment", "id": 16120710}, "pull_request": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/16120138.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-16120138"}}, "parent": {"id": 16119548, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/16119548.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-16119548"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}, "content": {"raw": "I kept the expectation there because it was already there, but I agree it's risky and could be removed.", "markup": "markdown", "html": "<p>I kept the expectation there because it was already there, but I agree it's risky and could be removed.</p>", "type": "rendered"}, "created_on": "2016-03-22T23:28:29.032323+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2016-03-22T23:28:29.034500+00:00", "type": "pullrequest_comment", "id": 16120138}, "pull_request": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/16119548.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-16119548"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}, "content": {"raw": "In repeat testing, I still see some flaky failures on homebrew at [ImagesView_TEST.cc:113](#!/osrf/gazebo/src/62aae1c1e2eb/gazebo/gui/viewers/ImagesView_TEST.cc#ImagesView_TEST.cc-113):\n\n~~~\nPASS   : ImagesView_TEST::Construction()\n...\n[Msg] cam1 to cam6\nFAIL!  : ImagesView_TEST::Switch() Compared values are not the same\n   Actual (frame->children().size()): 3\n   Expected (1): 1\n   Loc: [/Users/scpeters/ws/gazebo7/src/gazebo/gazebo/gui/viewers/ImagesView_TEST.cc(113)]\n[Msg] cam6 to cam1\n...\n~~~\n\nAfter adding some debugging print statements, it appears that the failure often occurs between `cam1 to cam6` and `cam6 to cam1` when switching from displaying 1 image to 2 images. We currently expect the number of images to go to 0 (`frame->children().size() == 1`) between switches, but sometimes it seems to jump from 1 directly to 2 images. The test would pass if we removed this expectation.", "markup": "markdown", "html": "<p>In repeat testing, I still see some flaky failures on homebrew at <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/62aae1c1e2eb/gazebo/gui/viewers/ImagesView_TEST.cc#ImagesView_TEST.cc-113\" rel=\"nofollow\">ImagesView_TEST.cc:113</a>:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">PASS</span>   <span class=\"o\">:</span> <span class=\"n\">ImagesView_TEST</span><span class=\"o\">::</span><span class=\"n\">Construction</span><span class=\"o\">()</span>\n<span class=\"o\">...</span>\n<span class=\"o\">[</span><span class=\"n\">Msg</span><span class=\"o\">]</span> <span class=\"n\">cam1</span> <span class=\"n\">to</span> <span class=\"n\">cam6</span>\n<span class=\"n\">FAIL</span><span class=\"o\">!</span>  <span class=\"o\">:</span> <span class=\"n\">ImagesView_TEST</span><span class=\"o\">::</span><span class=\"n\">Switch</span><span class=\"o\">()</span> <span class=\"n\">Compared</span> <span class=\"n\">values</span> <span class=\"n\">are</span> <span class=\"n\">not</span> <span class=\"n\">the</span> <span class=\"n\">same</span>\n   <span class=\"n\">Actual</span> <span class=\"o\">(</span><span class=\"n\">frame</span><span class=\"o\">-&gt;</span><span class=\"n\">children</span><span class=\"o\">().</span><span class=\"n\">size</span><span class=\"o\">()):</span> <span class=\"mi\">3</span>\n   <span class=\"n\">Expected</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">):</span> <span class=\"mi\">1</span>\n   <span class=\"n\">Loc</span><span class=\"o\">:</span> <span class=\"o\">[/</span><span class=\"n\">Users</span><span class=\"sr\">/scpeters/ws/gazebo7/src/gazebo/gazebo/gui/viewers/</span><span class=\"n\">ImagesView_TEST</span><span class=\"o\">.</span><span class=\"na\">cc</span><span class=\"o\">(</span><span class=\"mi\">113</span><span class=\"o\">)]</span>\n<span class=\"o\">[</span><span class=\"n\">Msg</span><span class=\"o\">]</span> <span class=\"n\">cam6</span> <span class=\"n\">to</span> <span class=\"n\">cam1</span>\n<span class=\"o\">...</span>\n</pre></div>\n\n\n<p>After adding some debugging print statements, it appears that the failure often occurs between <code>cam1 to cam6</code> and <code>cam6 to cam1</code> when switching from displaying 1 image to 2 images. We currently expect the number of images to go to 0 (<code>frame-&gt;children().size() == 1</code>) between switches, but sometimes it seems to jump from 1 directly to 2 images. The test would pass if we removed this expectation.</p>", "type": "rendered"}, "created_on": "2016-03-22T23:17:23.917839+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2016-03-22T23:17:23.920009+00:00", "type": "pullrequest_comment", "id": 16119548}, "pull_request": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/16118693.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-16118693"}}, "parent": {"id": 16064367, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/16064367.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-16064367"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}, "content": {"raw": "the private data structures should always be the last things deleted", "markup": "markdown", "html": "<p>the private data structures should always be the last things deleted</p>", "type": "rendered"}, "created_on": "2016-03-22T22:59:29.456274+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2016-03-22T22:59:29.459394+00:00", "type": "pullrequest_comment", "id": 16118693}, "pull_request": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/16118416.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-16118416"}}, "parent": {"id": 16064367, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/16064367.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-16064367"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}, "content": {"raw": "fixed in 62aae1c1e2eb", "markup": "markdown", "html": "<p>fixed in <a href=\"#!/osrf/gazebo/commits/62aae1c1e2eb\" rel=\"nofollow\" class=\"ap-connect-link\">62aae1c1e2eb</a></p>", "type": "rendered"}, "created_on": "2016-03-22T22:49:33.379740+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2016-03-22T22:49:33.387758+00:00", "type": "pullrequest_comment", "id": 16118416}, "pull_request": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}}, {"update": {"description": "Issue #1021\r\n\r\n1. On my laptop, the tests would always fail because of the `QBENCHMARK` macro. Since it doesn't seem like we're using it in the [back-end](http://doc.qt.io/qt-5/qtest-overview.html#creating-a-benchmark), it's probably ok to remove it. Removing it, the test passed 10 times in a row locally for me.\r\n\r\n1. The test always failed on Jenkins between print statements `cam1 to cam6` and `cam6 to cam1`, indicating the crash comes from the `SetTopic` calls. So I refactored that a little bit.\r\n\r\nThe test now passes on [trusty gpu](http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/197/testReport/)\r\n\r\nAnd [ABI](http://build.osrfoundation.org/job/gazebo-abichecker-any_to_any-vivid-amd64/198/) is happy\r\n\r\n[Diff without whitespace](#!/osrf/gazebo/pull-requests/2194/fix-unit_imagesview_test/diff?w=1)", "title": "Fix UNIT_ImagesView_TEST", "destination": {"commit": {"hash": "2cb891cb64db", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/2cb891cb64db.json"}, "html": {"href": "#!/osrf/gazebo/commits/2cb891cb64db"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "62aae1c1e2eb", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/62aae1c1e2eb.json"}, "html": {"href": "#!/osrf/gazebo/commits/62aae1c1e2eb"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "imagesview_test"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2016-03-22T22:48:45.434163+00:00"}, "pull_request": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/16064808.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-16064808"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}, "content": {"raw": "I'm getting some test failures on homebrew with this reduced wait period (1000 -> 100). I'll suggest a change after some testing", "markup": "markdown", "html": "<p>I'm getting some test failures on homebrew with this reduced wait period (1000 -&gt; 100). I'll suggest a change after some testing</p>", "type": "rendered"}, "created_on": "2016-03-22T00:58:48.514838+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2016-03-22T00:58:48.517745+00:00", "type": "pullrequest_comment", "id": 16064808}, "pull_request": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/16064367.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-16064367"}}, "parent": {"id": 16063512, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/16063512.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-16063512"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}, "content": {"raw": "I think the problem is that the private data pointer gets deleted before the subscriber. I'm testing a fix", "markup": "markdown", "html": "<p>I think the problem is that the private data pointer gets deleted before the subscriber. I'm testing a fix</p>", "type": "rendered"}, "created_on": "2016-03-22T00:34:01.854177+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2016-03-22T00:34:01.867413+00:00", "type": "pullrequest_comment", "id": 16064367}, "pull_request": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/16063700.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-16063700"}}, "parent": {"id": 16063512, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/16063512.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-16063512"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}, "content": {"raw": "hm... I just did a backtrace of the other threads and found that the failure occurred while the callback was running\n\n~~~\n  thread #24: tid = 0x0017, 0x00007fff84945286 libsystem_kernel.dylib`__pthread_kill + 10, stop reason = signal SIGSTOP\n    frame #0: 0x00007fff84945286 libsystem_kernel.dylib`__pthread_kill + 10\n    frame #1: 0x00007fff815329f9 libsystem_pthread.dylib`pthread_kill + 90\n    frame #2: 0x00007fff85e5a9ab libsystem_c.dylib`abort + 129\n    frame #3: 0x00007fff85e22a91 libsystem_c.dylib`__assert_rtn + 321\n    frame #4: 0x00007fff88375bd3 libc++.1.dylib`std::__1::mutex::unlock() + 55\n    frame #5: 0x000000010c60922f libgazebo_gui.7.dylib`gazebo::gui::ImagesView::OnImages(boost::shared_ptr<gazebo::msgs::ImagesStamped const> const&) [inlined] std::__1::unique_lock<std::__1::mutex>::~unique_lock() + 1071 at __mutex_base:132\n    frame #6: 0x000000010c609227 libgazebo_gui.7.dylib`gazebo::gui::ImagesView::OnImages(boost::shared_ptr<gazebo::msgs::ImagesStamped const> const&) [inlined] std::__1::unique_lock<std::__1::mutex>::~unique_lock() at __mutex_base:130\n    frame #7: 0x000000010c609227 libgazebo_gui.7.dylib`gazebo::gui::ImagesView::OnImages(this=<unavailable>, _msg=0x000000012238bc68) + 1063 at ImagesView.cc:178\n    frame #8: 0x000000010c60a673 libgazebo_gui.7.dylib`gazebo::transport::CallbackHelperT<gazebo::msgs::ImagesStamped>::HandleMessage(boost::shared_ptr<google::protobuf::Message>) [inlined] boost::function1<void, boost::shared_ptr<gazebo::msgs::ImagesStamped const> const&>::operator()(boost::shared_ptr<gazebo::msgs::ImagesStamped const> const&) const + 131 at function_template.hpp:770\n    frame #9: 0x000000010c60a655 libgazebo_gui.7.dylib`gazebo::transport::CallbackHelperT<gazebo::msgs::ImagesStamped>::HandleMessage(this=<unavailable>, _newMsg=<unavailable>) + 101 at CallbackHelper.hh:159\n    frame #10: 0x0000000112f8fb02 libgazebo_transport.7.dylib`gazebo::transport::Node::ProcessIncoming(this=0x00007fc5c44b4970) + 898 at Node.cc:260\n    frame #11: 0x0000000112f9dee5 libgazebo_transport.7.dylib`gazebo::transport::TopicManager::ProcessNodes(this=0x000000010c4a55d8, _onlyOut=<unavailable>) + 501 at TopicManager.cc:197\n    frame #12: 0x0000000112f84f66 libgazebo_transport.7.dylib`gazebo::transport::ConnectionManager::RunUpdate(this=0x000000010c4a5788) + 326 at ConnectionManager.cc:283\n    frame #13: 0x0000000112f85fe6 libgazebo_transport.7.dylib`gazebo::transport::ConnectionManager::Run(this=0x000000010c4a5788) + 102 at ConnectionManager.cc:314\n~~~", "markup": "markdown", "html": "<p>hm... I just did a backtrace of the other threads and found that the failure occurred while the callback was running</p>\n<div class=\"codehilite\"><pre><span></span>  thread #24: tid = 0x0017, 0x00007fff84945286 libsystem_kernel.dylib`__pthread_kill + 10, stop reason = signal SIGSTOP\n    frame #0: 0x00007fff84945286 libsystem_kernel.dylib`__pthread_kill + 10\n    frame #1: 0x00007fff815329f9 libsystem_pthread.dylib`pthread_kill + 90\n    frame #2: 0x00007fff85e5a9ab libsystem_c.dylib`abort + 129\n    frame #3: 0x00007fff85e22a91 libsystem_c.dylib`__assert_rtn + 321\n    frame #4: 0x00007fff88375bd3 libc++.1.dylib`std::__1::mutex::unlock() + 55\n    frame #5: 0x000000010c60922f libgazebo_gui.7.dylib`gazebo::gui::ImagesView::OnImages(boost::shared_ptr&lt;gazebo::msgs::ImagesStamped const&gt; const&amp;) [inlined] std::__1::unique_lock&lt;std::__1::mutex&gt;::~unique_lock() + 1071 at __mutex_base:132\n    frame #6: 0x000000010c609227 libgazebo_gui.7.dylib`gazebo::gui::ImagesView::OnImages(boost::shared_ptr&lt;gazebo::msgs::ImagesStamped const&gt; const&amp;) [inlined] std::__1::unique_lock&lt;std::__1::mutex&gt;::~unique_lock() at __mutex_base:130\n    frame #7: 0x000000010c609227 libgazebo_gui.7.dylib`gazebo::gui::ImagesView::OnImages(this=&lt;unavailable&gt;, _msg=0x000000012238bc68) + 1063 at ImagesView.cc:178\n    frame #8: 0x000000010c60a673 libgazebo_gui.7.dylib`gazebo::transport::CallbackHelperT&lt;gazebo::msgs::ImagesStamped&gt;::HandleMessage(boost::shared_ptr&lt;google::protobuf::Message&gt;) [inlined] boost::function1&lt;void, boost::shared_ptr&lt;gazebo::msgs::ImagesStamped const&gt; const&amp;&gt;::operator()(boost::shared_ptr&lt;gazebo::msgs::ImagesStamped const&gt; const&amp;) const + 131 at function_template.hpp:770\n    frame #9: 0x000000010c60a655 libgazebo_gui.7.dylib`gazebo::transport::CallbackHelperT&lt;gazebo::msgs::ImagesStamped&gt;::HandleMessage(this=&lt;unavailable&gt;, _newMsg=&lt;unavailable&gt;) + 101 at CallbackHelper.hh:159\n    frame #10: 0x0000000112f8fb02 libgazebo_transport.7.dylib`gazebo::transport::Node::ProcessIncoming(this=0x00007fc5c44b4970) + 898 at Node.cc:260\n    frame #11: 0x0000000112f9dee5 libgazebo_transport.7.dylib`gazebo::transport::TopicManager::ProcessNodes(this=0x000000010c4a55d8, _onlyOut=&lt;unavailable&gt;) + 501 at TopicManager.cc:197\n    frame #12: 0x0000000112f84f66 libgazebo_transport.7.dylib`gazebo::transport::ConnectionManager::RunUpdate(this=0x000000010c4a5788) + 326 at ConnectionManager.cc:283\n    frame #13: 0x0000000112f85fe6 libgazebo_transport.7.dylib`gazebo::transport::ConnectionManager::Run(this=0x000000010c4a5788) + 102 at ConnectionManager.cc:314\n</pre></div>", "type": "rendered"}, "created_on": "2016-03-22T00:03:17.402622+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2016-03-22T00:03:17.404878+00:00", "type": "pullrequest_comment", "id": 16063700}, "pull_request": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/16063572.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-16063572"}}, "parent": {"id": 16063512, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/16063512.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-16063512"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}, "content": {"raw": "I added the backtrace to #741 since it also had a backtrace involving `Node::RemoveCallback` called from `~Subscriber`", "markup": "markdown", "html": "<p>I added the backtrace to <a href=\"#!/osrf/gazebo/issues/741/gazebo-occassional-deadlocks-when-stopping\" rel=\"nofollow\" title=\"gazebo occassional deadlocks when stopping contact visualization\" class=\"ap-connect-link\">#741</a> since it also had a backtrace involving <code>Node::RemoveCallback</code> called from <code>~Subscriber</code></p>", "type": "rendered"}, "created_on": "2016-03-21T23:58:14.547799+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2016-03-21T23:58:14.551165+00:00", "type": "pullrequest_comment", "id": 16063572}, "pull_request": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/16063512.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-16063512"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}, "content": {"raw": "I found a failure on OS X after 12-retries, with a seg-fault during teardown with the [backtrace](https://gist.github.com/scpeters/adf04be5262a071e6841) implicating the Subscriber destructor calling `Node::RemoveCallback`\n\nI'll file an issue for this", "markup": "markdown", "html": "<p>I found a failure on OS X after 12-retries, with a seg-fault during teardown with the <a data-is-external-link=\"true\" href=\"https://gist.github.com/scpeters/adf04be5262a071e6841\" rel=\"nofollow\">backtrace</a> implicating the Subscriber destructor calling <code>Node::RemoveCallback</code></p>\n<p>I'll file an issue for this</p>", "type": "rendered"}, "created_on": "2016-03-21T23:55:37.933445+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2016-03-21T23:55:37.936312+00:00", "type": "pullrequest_comment", "id": 16063512}, "pull_request": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/16061850.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-16061850"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}, "content": {"raw": "actually, it's a good thing to use the `unique_ptr` in this function in case we `return` here, without it we wouldn't clean up the `imageFrame`", "markup": "markdown", "html": "<p>actually, it's a good thing to use the <code>unique_ptr</code> in this function in case we <code>return</code> here, without it we wouldn't clean up the <code>imageFrame</code></p>", "type": "rendered"}, "created_on": "2016-03-21T22:49:38.360479+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2016-03-21T22:49:38.362305+00:00", "type": "pullrequest_comment", "id": 16061850}, "pull_request": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/16056055.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-16056055"}}, "parent": {"id": 16055932, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/16055932.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-16055932"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}, "content": {"raw": "I would say that if it works, we don't need to change it. I was wondering mostly about the best practice for the future.", "markup": "markdown", "html": "<p>I would say that if it works, we don't need to change it. I was wondering mostly about the best practice for the future.</p>", "type": "rendered"}, "created_on": "2016-03-21T20:07:39.019151+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2016-03-21T20:07:39.022448+00:00", "type": "pullrequest_comment", "id": 16056055}, "pull_request": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/16055932.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-16055932"}}, "parent": {"id": 15985445, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/15985445.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-15985445"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}, "content": {"raw": "oh ya that's do that in a separate pull request and make sure we don't break anything", "markup": "markdown", "html": "<p>oh ya that's do that in a separate pull request and make sure we don't break anything</p>", "type": "rendered"}, "created_on": "2016-03-21T20:04:36.474430+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2016-03-21T20:04:36.477513+00:00", "type": "pullrequest_comment", "id": 16055932}, "pull_request": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/16055578.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-16055578"}}, "parent": {"id": 16055488, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/16055488.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-16055488"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}, "content": {"raw": "It's ready for review", "markup": "markdown", "html": "<p>It's ready for review</p>", "type": "rendered"}, "created_on": "2016-03-21T19:55:53.083008+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2016-03-21T19:55:53.085903+00:00", "type": "pullrequest_comment", "id": 16055578}, "pull_request": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/16055488.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-16055488"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}, "content": {"raw": "Not sure where this pull request stands. Are changes still being made?", "markup": "markdown", "html": "<p>Not sure where this pull request stands. Are changes still being made?</p>", "type": "rendered"}, "created_on": "2016-03-21T19:53:36.503250+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2016-03-21T19:53:36.508510+00:00", "type": "pullrequest_comment", "id": 16055488}, "pull_request": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/15985445.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-15985445"}}, "parent": {"id": 15985053, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/15985053.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-15985053"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}, "content": {"raw": "I found a couple of instances where we use `unique_ptr` on `QDialog`s though. One within a [function](#!/osrf/gazebo/src/d3b06088be22a15a25025a952414bffb8ff6aa2b/gazebo/gui/MainWindow.cc?fileviewer=file-view-default#MainWindow.cc-565) and another as a member [variable](#!/osrf/gazebo/src/d3b06088be22a15a25025a952414bffb8ff6aa2b/gazebo/gui/building/BuildingMakerPrivate.hh?fileviewer=file-view-default#BuildingMakerPrivate.hh-111). I believe these two cases are slightly different from each other, what do you think of them? Can we just happily use raw pointers instead?\n\n", "markup": "markdown", "html": "<p>I found a couple of instances where we use <code>unique_ptr</code> on <code>QDialog</code>s though. One within a <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/d3b06088be22a15a25025a952414bffb8ff6aa2b/gazebo/gui/MainWindow.cc?fileviewer=file-view-default#MainWindow.cc-565\" rel=\"nofollow\">function</a> and another as a member <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/d3b06088be22a15a25025a952414bffb8ff6aa2b/gazebo/gui/building/BuildingMakerPrivate.hh?fileviewer=file-view-default#BuildingMakerPrivate.hh-111\" rel=\"nofollow\">variable</a>. I believe these two cases are slightly different from each other, what do you think of them? Can we just happily use raw pointers instead?</p>", "type": "rendered"}, "created_on": "2016-03-19T05:16:04.554265+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2016-03-19T05:16:04.557446+00:00", "type": "pullrequest_comment", "id": 15985445}, "pull_request": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/15985053.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-15985053"}}, "parent": {"id": 15985031, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/15985031.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-15985031"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}, "content": {"raw": "\"unless we release it before adding it to a parent object\". Just read through the rest of the comments and the code. I think that's what's being done here. However, note that almost always when a Qt object gets created, we add it to a parent. So we would be creating a unique_ptr and immediately releasing it. ", "markup": "markdown", "html": "<p>\"unless we release it before adding it to a parent object\". Just read through the rest of the comments and the code. I think that's what's being done here. However, note that almost always when a Qt object gets created, we add it to a parent. So we would be creating a unique_ptr and immediately releasing it. </p>", "type": "rendered"}, "created_on": "2016-03-19T04:32:36.866945+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2016-03-19T04:32:36.869708+00:00", "type": "pullrequest_comment", "id": 15985053}, "pull_request": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/15985031.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-15985031"}}, "parent": {"id": 15931362, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/15931362.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-15931362"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}, "content": {"raw": "I would be very careful using smart pointers with Qt objects. In theory, Qt does its own memory management. When a top level Qt object gets deleted, it cleans up all the children. So if a Qt object has a parent we shouldn't be calling `delete` on it or putting it in a smart pointer (unless we release it before adding it to a parent object).", "markup": "markdown", "html": "<p>I would be very careful using smart pointers with Qt objects. In theory, Qt does its own memory management. When a top level Qt object gets deleted, it cleans up all the children. So if a Qt object has a parent we shouldn't be calling <code>delete</code> on it or putting it in a smart pointer (unless we release it before adding it to a parent object).</p>", "type": "rendered"}, "created_on": "2016-03-19T04:19:57.438407+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2016-03-19T04:19:57.440458+00:00", "type": "pullrequest_comment", "id": 15985031}, "pull_request": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/15931362.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-15931362"}}, "parent": {"id": 15931017, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/15931017.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-15931017"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}, "content": {"raw": "I think we could use a design document or something in the developer guide about best practices for memory management.", "markup": "markdown", "html": "<p>I think we could use a design document or something in the developer guide about best practices for memory management.</p>", "type": "rendered"}, "created_on": "2016-03-18T01:08:12.403515+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2016-03-18T01:08:12.409538+00:00", "type": "pullrequest_comment", "id": 15931362}, "pull_request": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/15931346.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-15931346"}}, "parent": {"id": 15931047, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/15931047.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-15931047"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}, "content": {"raw": "yes :)\n\nbackwards it said I", "markup": "markdown", "html": "<p>yes :)</p>\n<p>backwards it said I</p>", "type": "rendered"}, "created_on": "2016-03-18T01:07:02.150194+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2016-03-18T01:07:02.154765+00:00", "type": "pullrequest_comment", "id": 15931346}, "pull_request": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/15931047.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-15931047"}}, "parent": {"id": 15930858, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/15930858.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-15930858"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}, "content": {"raw": "You mean multiple times instead of once, right?", "markup": "markdown", "html": "<p>You mean multiple times instead of once, right?</p>", "type": "rendered"}, "created_on": "2016-03-18T00:46:54.873350+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2016-03-18T00:46:54.875885+00:00", "type": "pullrequest_comment", "id": 15931047}, "pull_request": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/15931017.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-15931017"}}, "parent": {"id": 15930704, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/15930704.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-15930704"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}, "content": {"raw": "Merged it in 8e74eec\n\nThis will probably take a lot of re-educating ourselves, which is a good thing. I'm not entirely convinced yet that we should be doing this all the time, but I probably just need to see more use cases.", "markup": "markdown", "html": "<p>Merged it in <a href=\"#!/osrf/gazebo/commits/8e74eec\" rel=\"nofollow\" class=\"ap-connect-link\">8e74eec</a></p>\n<p>This will probably take a lot of re-educating ourselves, which is a good thing. I'm not entirely convinced yet that we should be doing this all the time, but I probably just need to see more use cases.</p>", "type": "rendered"}, "created_on": "2016-03-18T00:45:00.113582+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2016-03-18T00:45:00.115785+00:00", "type": "pullrequest_comment", "id": 15931017}, "pull_request": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}}, {"update": {"description": "Issue #1021\r\n\r\n1. On my laptop, the tests would always fail because of the `QBENCHMARK` macro. Since it doesn't seem like we're using it in the [back-end](http://doc.qt.io/qt-5/qtest-overview.html#creating-a-benchmark), it's probably ok to remove it. Removing it, the test passed 10 times in a row locally for me.\r\n\r\n1. The test always failed on Jenkins between print statements `cam1 to cam6` and `cam6 to cam1`, indicating the crash comes from the `SetTopic` calls. So I refactored that a little bit.\r\n\r\nThe test now passes on [trusty gpu](http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/197/testReport/)\r\n\r\nAnd [ABI](http://build.osrfoundation.org/job/gazebo-abichecker-any_to_any-vivid-amd64/198/) is happy\r\n\r\n[Diff without whitespace](#!/osrf/gazebo/pull-requests/2194/fix-unit_imagesview_test/diff?w=1)", "title": "Fix UNIT_ImagesView_TEST", "destination": {"commit": {"hash": "436c8b2340a8", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/436c8b2340a8.json"}, "html": {"href": "#!/osrf/gazebo/commits/436c8b2340a8"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "8e74eec9053e", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/8e74eec9053e.json"}, "html": {"href": "#!/osrf/gazebo/commits/8e74eec9053e"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "imagesview_test"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2016-03-18T00:42:23.480794+00:00"}, "pull_request": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/15930858.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-15930858"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}, "content": {"raw": "I think the `QBENCHMARK` macro makes it only run one time instead of multiple times. That may be fine, but it is a change to the test.", "markup": "markdown", "html": "<p>I think the <code>QBENCHMARK</code> macro makes it only run one time instead of multiple times. That may be fine, but it is a change to the test.</p>", "type": "rendered"}, "created_on": "2016-03-18T00:36:18.820899+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2016-03-18T00:36:18.823092+00:00", "type": "pullrequest_comment", "id": 15930858}, "pull_request": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/15930738.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-15930738"}}, "parent": {"id": 15930573, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/15930573.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-15930573"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}, "content": {"raw": "It's more about being explicit in our code about ownership. They were recommending against using \"naked\" new and delete calls. The code in that branch creates `unique_ptr`'s instead of `new` raw pointers, then calls `release()` when passing to qt. It's almost like a form of documentation.", "markup": "markdown", "html": "<p>It's more about being explicit in our code about ownership. They were recommending against using \"naked\" new and delete calls. The code in that branch creates <code>unique_ptr</code>'s instead of <code>new</code> raw pointers, then calls <code>release()</code> when passing to qt. It's almost like a form of documentation.</p>", "type": "rendered"}, "created_on": "2016-03-18T00:28:29.644332+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2016-03-18T00:28:29.646378+00:00", "type": "pullrequest_comment", "id": 15930738}, "pull_request": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/15930704.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-15930704"}}, "parent": {"id": 15930546, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/15930546.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-15930546"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}, "content": {"raw": "I fixed the branch in 8dbb6e9be958. I get why `std::make_unique` exists now; it's less verbose in a nice way.", "markup": "markdown", "html": "<p>I fixed the branch in <a href=\"#!/osrf/gazebo/commits/8dbb6e9be958\" rel=\"nofollow\" class=\"ap-connect-link\">8dbb6e9be958</a>. I get why <code>std::make_unique</code> exists now; it's less verbose in a nice way.</p>", "type": "rendered"}, "created_on": "2016-03-18T00:26:33.633353+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2016-03-18T00:26:33.640296+00:00", "type": "pullrequest_comment", "id": 15930704}, "pull_request": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/15930604.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-15930604"}}, "parent": {"id": 15930573, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/15930573.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-15930573"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}, "content": {"raw": "Actually I've been researching why Qt and other libraries pass raw pointers through their API while they use smart pointers internally, it seems to be related to history and ABI. ", "markup": "markdown", "html": "<p>Actually I've been researching why Qt and other libraries pass raw pointers through their API while they use smart pointers internally, it seems to be related to history and ABI. </p>", "type": "rendered"}, "created_on": "2016-03-18T00:21:32.925136+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2016-03-18T00:21:32.927247+00:00", "type": "pullrequest_comment", "id": 15930604}, "pull_request": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/15930573.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-15930573"}}, "parent": {"id": 15930011, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/15930011.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-15930011"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}, "content": {"raw": "I'm not sure how useful this is with Qt pointers, since usually Qt takes care of deleting them. I do think we must start using these with our own API though.", "markup": "markdown", "html": "<p>I'm not sure how useful this is with Qt pointers, since usually Qt takes care of deleting them. I do think we must start using these with our own API though.</p>", "type": "rendered"}, "created_on": "2016-03-18T00:19:49.916947+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2016-03-18T00:19:49.919667+00:00", "type": "pullrequest_comment", "id": 15930573}, "pull_request": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/15930546.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-15930546"}}, "parent": {"id": 15930011, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/15930011.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-15930011"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}, "content": {"raw": "My code is broken. `std::make_unique` is part of c++14 and doesn't compile with the default compiler on trusty.\n\nI think it's a good idea to be more explicit about ownership, but this branch would need to be fixed first.", "markup": "markdown", "html": "<p>My code is broken. <code>std::make_unique</code> is part of c++14 and doesn't compile with the default compiler on trusty.</p>\n<p>I think it's a good idea to be more explicit about ownership, but this branch would need to be fixed first.</p>", "type": "rendered"}, "created_on": "2016-03-18T00:18:23.922960+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2016-03-18T00:18:23.925712+00:00", "type": "pullrequest_comment", "id": 15930546}, "pull_request": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/15930011.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-15930011"}}, "parent": {"id": 15929394, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/15929394.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-15929394"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}, "content": {"raw": "I've added some `std::make_unique` calls in 3f007ae (branch `imagesview_test_scpeters`) to be more explicit about ownership in a few places. What do you think? I think it matches what Herb Sutter recommended in that video.", "markup": "markdown", "html": "<p>I've added some <code>std::make_unique</code> calls in <a href=\"#!/osrf/gazebo/commits/3f007ae\" rel=\"nofollow\" class=\"ap-connect-link\">3f007ae</a> (branch <code>imagesview_test_scpeters</code>) to be more explicit about ownership in a few places. What do you think? I think it matches what Herb Sutter recommended in that video.</p>", "type": "rendered"}, "created_on": "2016-03-18T00:07:42.579496+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2016-03-18T00:07:42.582037+00:00", "type": "pullrequest_comment", "id": 15930011}, "pull_request": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/15929394.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-15929394"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}, "content": {"raw": "Several changes on 4fb7145. Locally the test passed 50 times in a row.\n\n* Some of the problems came from storing a vector of Qt pointers and deleting them, so I removed the vector and used the Qt API to access widgets instead.\n\n* There were also occasional crashes related to the mutex. I changed it to std and the crashes disappeared.\n\n* I used a hack to clear the layout, I'm open to alternatives.", "markup": "markdown", "html": "<p>Several changes on <a href=\"#!/osrf/gazebo/commits/4fb7145\" rel=\"nofollow\" class=\"ap-connect-link\">4fb7145</a>. Locally the test passed 50 times in a row.</p>\n<ul>\n<li>\n<p>Some of the problems came from storing a vector of Qt pointers and deleting them, so I removed the vector and used the Qt API to access widgets instead.</p>\n</li>\n<li>\n<p>There were also occasional crashes related to the mutex. I changed it to std and the crashes disappeared.</p>\n</li>\n<li>\n<p>I used a hack to clear the layout, I'm open to alternatives.</p>\n</li>\n</ul>", "type": "rendered"}, "created_on": "2016-03-17T23:35:53.449132+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2016-03-17T23:35:53.451330+00:00", "type": "pullrequest_comment", "id": 15929394}, "pull_request": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}}, {"update": {"description": "Issue #1021\r\n\r\n1. On my laptop, the tests would always fail because of the `QBENCHMARK` macro. Since it doesn't seem like we're using it in the [back-end](http://doc.qt.io/qt-5/qtest-overview.html#creating-a-benchmark), it's probably ok to remove it. Removing it, the test passed 10 times in a row locally for me.\r\n\r\n1. The test always failed on Jenkins between print statements `cam1 to cam6` and `cam6 to cam1`, indicating the crash comes from the `SetTopic` calls. So I refactored that a little bit.\r\n\r\nThe test now passes on [trusty gpu](http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/197/testReport/)\r\n\r\nAnd [ABI](http://build.osrfoundation.org/job/gazebo-abichecker-any_to_any-vivid-amd64/198/) is happy\r\n\r\n[Diff without whitespace](#!/osrf/gazebo/pull-requests/2194/fix-unit_imagesview_test/diff?w=1)", "title": "Fix UNIT_ImagesView_TEST", "destination": {"commit": {"hash": "436c8b2340a8", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/436c8b2340a8.json"}, "html": {"href": "#!/osrf/gazebo/commits/436c8b2340a8"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "4fb71454c67f", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/4fb71454c67f.json"}, "html": {"href": "#!/osrf/gazebo/commits/4fb71454c67f"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "imagesview_test"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2016-03-17T23:28:36.137674+00:00"}, "pull_request": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}}, {"update": {"description": "Issue #1021\r\n\r\n1. On my laptop, the tests would always fail because of the `QBENCHMARK` macro. Since it doesn't seem like we're using it in the [back-end](http://doc.qt.io/qt-5/qtest-overview.html#creating-a-benchmark), it's probably ok to remove it. Removing it, the test passed 10 times in a row locally for me.\r\n\r\n1. The test always failed on Jenkins between print statements `cam1 to cam6` and `cam6 to cam1`, indicating the crash comes from the `SetTopic` calls. So I refactored that a little bit.\r\n\r\nThe test now passes on [trusty gpu](http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/197/testReport/)\r\n\r\nAnd [ABI](http://build.osrfoundation.org/job/gazebo-abichecker-any_to_any-vivid-amd64/198/) is happy\r\n\r\n[Diff without whitespace](#!/osrf/gazebo/pull-requests/2194/fix-unit_imagesview_test/diff?w=1)", "title": "Fix UNIT_ImagesView_TEST", "destination": {"commit": {"hash": "436c8b2340a8", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/436c8b2340a8.json"}, "html": {"href": "#!/osrf/gazebo/commits/436c8b2340a8"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "4fb71454c67f", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/4fb71454c67f.json"}, "html": {"href": "#!/osrf/gazebo/commits/4fb71454c67f"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "imagesview_test"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2016-03-17T23:28:32.751940+00:00"}, "pull_request": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/15913989.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-15913989"}}, "parent": {"id": 15913358, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/15913358.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-15913358"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}, "content": {"raw": "I'm following the lead on Ian's comment in the issue, it looks like we're deleting a QWidget instead of letting Qt handle it. The testing cycle just takes time, since it might take dozens of runs to reproduce the issue...", "markup": "markdown", "html": "<p>I'm following the lead on Ian's comment in the issue, it looks like we're deleting a QWidget instead of letting Qt handle it. The testing cycle just takes time, since it might take dozens of runs to reproduce the issue...</p>", "type": "rendered"}, "created_on": "2016-03-17T17:23:32.041061+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2016-03-17T17:23:32.049609+00:00", "type": "pullrequest_comment", "id": 15913989}, "pull_request": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/15913358.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-15913358"}}, "parent": {"id": 15911899, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/15911899.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-15911899"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}, "content": {"raw": "If you start it in valgrind now, it might finish by the end of the day :)", "markup": "markdown", "html": "<p>If you start it in valgrind now, it might finish by the end of the day :)</p>", "type": "rendered"}, "created_on": "2016-03-17T17:14:46.387953+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2016-03-17T17:14:46.392830+00:00", "type": "pullrequest_comment", "id": 15913358}, "pull_request": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/15911899.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-15911899"}}, "parent": {"id": 15911130, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/15911130.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-15911130"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}, "content": {"raw": "I was able to reproduce it now on the 4th run. I'm investigating. Backtrace:\n\n~~~\ncam1 to cam6\ncam6 to cam1\n*** Error in `/home/louise/code/gazeboB/build/gazebo/gui/viewers/UNIT_ImagesView_TEST': double free or corruption (fasttop): 0x00007fff74013a00 ***\n\nProgram received signal SIGABRT, Aborted.\n0x00007ffff3edccc9 in __GI_raise (sig=sig@entry=6) at ../nptl/sysdeps/unix/sysv/linux/raise.c:56\n56\t../nptl/sysdeps/unix/sysv/linux/raise.c: No such file or directory.\n(gdb) bt\n#0  0x00007ffff3edccc9 in __GI_raise (sig=sig@entry=6) at ../nptl/sysdeps/unix/sysv/linux/raise.c:56\n#1  0x00007ffff3ee00d8 in __GI_abort () at abort.c:89\n#2  0x00007ffff3f19394 in __libc_message (do_abort=do_abort@entry=1, \n    fmt=fmt@entry=0x7ffff4027b28 \"*** Error in `%s': %s: 0x%s ***\\n\")\n    at ../sysdeps/posix/libc_fatal.c:175\n#3  0x00007ffff3f2566e in malloc_printerr (ptr=<optimized out>, \n    str=0x7ffff4027cf0 \"double free or corruption (fasttop)\", action=1) at malloc.c:4996\n#4  _int_free (av=<optimized out>, p=<optimized out>, have_lock=0) at malloc.c:3840\n#5  0x00007ffff67cc56c in ?? () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#6  0x00007ffff65feea0 in QWidgetPrivate::syncBackingStore() ()\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#7  0x00007ffff660ee7a in QWidget::event(QEvent*) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#8  0x00007ffff65bfe2c in QApplicationPrivate::notify_helper(QObject*, QEvent*) ()\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#9  0x00007ffff65c64a0 in QApplication::notify(QObject*, QEvent*) ()\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#10 0x00007ffff608e4dd in QCoreApplication::notifyInternal(QObject*, QEvent*) ()\n   from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#11 0x00007ffff6091b3d in QCoreApplicationPrivate::sendPostedEvents(QObject*, int, QThreadData*) ()\n   from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#12 0x00007ffff60bbf83 in ?? () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#13 0x00007fffeea43e04 in g_main_context_dispatch () from /lib/x86_64-linux-gnu/libglib-2.0.so.0\n#14 0x00007fffeea44048 in ?? () from /lib/x86_64-linux-gnu/libglib-2.0.so.0\n#15 0x00007fffeea440ec in g_main_context_iteration () from /lib/x86_64-linux-gnu/libglib-2.0.so.0\n#16 0x00007ffff60bb7a1 in QEventDispatcherGlib::processEvents(QFlags<QEventLoop::ProcessEventsFlag>) ()\n   from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#17 0x00007ffff6661be6 in ?? () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#18 0x00007ffff609201f in QCoreApplication::processEvents(QFlags<QEventLoop::ProcessEventsFlag>) ()\n   from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#19 0x000000000040999c in ImagesView_TEST::SetTopic (this=this@entry=0x7fffffffdd80, _view=_view@entry=\n    0x8ca950, _topicName=..., _count=_count@entry=6)\n    at /home/louise/code/gazeboB/gazebo/gui/viewers/ImagesView_TEST.cc:132\n#20 0x0000000000409cef in ImagesView_TEST::Switch (this=0x7fffffffdd80)\n    at /home/louise/code/gazeboB/gazebo/gui/viewers/ImagesView_TEST.cc:68\n#21 0x00007ffff6096908 in QMetaMethod::invoke(QObject*, Qt::ConnectionType, QGenericReturnArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument) const ()\n   from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#22 0x00007ffff6098dc2 in QMetaObject::invokeMethod(QObject*, char const*, Qt::ConnectionType, QGenericReturnArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument) ()\n   from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#23 0x00007ffff70b4fbf in ?? () from /usr/lib/x86_64-linux-gnu/libQtTest.so.4\n#24 0x00007ffff70b5b86 in QTest::qExec(QObject*, int, char**) ()\n   from /usr/lib/x86_64-linux-gnu/libQtTest.so.4\n#25 0x0000000000407075 in main (argc=2, argv=0x7fffffffdeb8)\n    at /home/louise/code/gazeboB/gazebo/gui/viewers/ImagesView_TEST.cc:140\n~~~", "markup": "markdown", "html": "<p>I was able to reproduce it now on the 4th run. I'm investigating. Backtrace:</p>\n<div class=\"codehilite\"><pre><span></span>cam1 to cam6\ncam6 to cam1\n*** Error in `/home/louise/code/gazeboB/build/gazebo/gui/viewers/UNIT_ImagesView_TEST&#39;: double free or corruption (fasttop): 0x00007fff74013a00 ***\n\nProgram received signal SIGABRT, Aborted.\n0x00007ffff3edccc9 in __GI_raise (sig=sig@entry=6) at ../nptl/sysdeps/unix/sysv/linux/raise.c:56\n56  ../nptl/sysdeps/unix/sysv/linux/raise.c: No such file or directory.\n(gdb) bt\n#0  0x00007ffff3edccc9 in __GI_raise (sig=sig@entry=6) at ../nptl/sysdeps/unix/sysv/linux/raise.c:56\n#1  0x00007ffff3ee00d8 in __GI_abort () at abort.c:89\n#2  0x00007ffff3f19394 in __libc_message (do_abort=do_abort@entry=1, \n    fmt=fmt@entry=0x7ffff4027b28 &quot;*** Error in `%s&#39;: %s: 0x%s ***\\n&quot;)\n    at ../sysdeps/posix/libc_fatal.c:175\n#3  0x00007ffff3f2566e in malloc_printerr (ptr=&lt;optimized out&gt;, \n    str=0x7ffff4027cf0 &quot;double free or corruption (fasttop)&quot;, action=1) at malloc.c:4996\n#4  _int_free (av=&lt;optimized out&gt;, p=&lt;optimized out&gt;, have_lock=0) at malloc.c:3840\n#5  0x00007ffff67cc56c in ?? () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#6  0x00007ffff65feea0 in QWidgetPrivate::syncBackingStore() ()\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#7  0x00007ffff660ee7a in QWidget::event(QEvent*) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#8  0x00007ffff65bfe2c in QApplicationPrivate::notify_helper(QObject*, QEvent*) ()\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#9  0x00007ffff65c64a0 in QApplication::notify(QObject*, QEvent*) ()\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#10 0x00007ffff608e4dd in QCoreApplication::notifyInternal(QObject*, QEvent*) ()\n   from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#11 0x00007ffff6091b3d in QCoreApplicationPrivate::sendPostedEvents(QObject*, int, QThreadData*) ()\n   from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#12 0x00007ffff60bbf83 in ?? () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#13 0x00007fffeea43e04 in g_main_context_dispatch () from /lib/x86_64-linux-gnu/libglib-2.0.so.0\n#14 0x00007fffeea44048 in ?? () from /lib/x86_64-linux-gnu/libglib-2.0.so.0\n#15 0x00007fffeea440ec in g_main_context_iteration () from /lib/x86_64-linux-gnu/libglib-2.0.so.0\n#16 0x00007ffff60bb7a1 in QEventDispatcherGlib::processEvents(QFlags&lt;QEventLoop::ProcessEventsFlag&gt;) ()\n   from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#17 0x00007ffff6661be6 in ?? () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#18 0x00007ffff609201f in QCoreApplication::processEvents(QFlags&lt;QEventLoop::ProcessEventsFlag&gt;) ()\n   from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#19 0x000000000040999c in ImagesView_TEST::SetTopic (this=this@entry=0x7fffffffdd80, _view=_view@entry=\n    0x8ca950, _topicName=..., _count=_count@entry=6)\n    at /home/louise/code/gazeboB/gazebo/gui/viewers/ImagesView_TEST.cc:132\n#20 0x0000000000409cef in ImagesView_TEST::Switch (this=0x7fffffffdd80)\n    at /home/louise/code/gazeboB/gazebo/gui/viewers/ImagesView_TEST.cc:68\n#21 0x00007ffff6096908 in QMetaMethod::invoke(QObject*, Qt::ConnectionType, QGenericReturnArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument) const ()\n   from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#22 0x00007ffff6098dc2 in QMetaObject::invokeMethod(QObject*, char const*, Qt::ConnectionType, QGenericReturnArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument) ()\n   from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#23 0x00007ffff70b4fbf in ?? () from /usr/lib/x86_64-linux-gnu/libQtTest.so.4\n#24 0x00007ffff70b5b86 in QTest::qExec(QObject*, int, char**) ()\n   from /usr/lib/x86_64-linux-gnu/libQtTest.so.4\n#25 0x0000000000407075 in main (argc=2, argv=0x7fffffffdeb8)\n    at /home/louise/code/gazeboB/gazebo/gui/viewers/ImagesView_TEST.cc:140\n</pre></div>", "type": "rendered"}, "created_on": "2016-03-17T16:47:48.674612+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2016-03-17T16:47:48.677701+00:00", "type": "pullrequest_comment", "id": 15911899}, "pull_request": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/15911263.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-15911263"}}, "parent": {"id": 15911209, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/15911209.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-15911209"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}, "content": {"raw": "No, separate run.", "markup": "markdown", "html": "<p>No, separate run.</p>", "type": "rendered"}, "created_on": "2016-03-17T16:36:13.829105+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2016-03-17T16:36:13.832139+00:00", "type": "pullrequest_comment", "id": 15911263}, "pull_request": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/15911209.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-15911209"}}, "parent": {"id": 15911130, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/15911130.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-15911130"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}, "content": {"raw": "Was that on the same try as the issue above?", "markup": "markdown", "html": "<p>Was that on the same try as the issue above?</p>", "type": "rendered"}, "created_on": "2016-03-17T16:35:24.109203+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2016-03-17T16:35:24.112676+00:00", "type": "pullrequest_comment", "id": 15911209}, "pull_request": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/15911130.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-15911130"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}, "content": {"raw": "I also got:\n\n\n```\n#!c++\n\nRandom switch 15 of 25\n*** Error in `./gazebo/gui/viewers/UNIT_ImagesView_TEST': double free or corruption (fasttop): 0x00007fb0b00108a0 ***\nAborted\n```\n\n", "markup": "markdown", "html": "<p>I also got:</p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"n\">Random</span> <span class=\"k\">switch</span> <span class=\"mi\">15</span> <span class=\"n\">of</span> <span class=\"mi\">25</span>\n<span class=\"o\">***</span> <span class=\"n\">Error</span> <span class=\"n\">in</span> <span class=\"err\">`</span><span class=\"p\">.</span><span class=\"o\">/</span><span class=\"n\">gazebo</span><span class=\"o\">/</span><span class=\"n\">gui</span><span class=\"o\">/</span><span class=\"n\">viewers</span><span class=\"o\">/</span><span class=\"n\">UNIT_ImagesView_TEST</span><span class=\"err\">&#39;</span><span class=\"o\">:</span> <span class=\"kt\">double</span> <span class=\"n\">free</span> <span class=\"n\">or</span> <span class=\"n\">corruption</span> <span class=\"p\">(</span><span class=\"n\">fasttop</span><span class=\"p\">)</span><span class=\"o\">:</span> <span class=\"mh\">0x00007fb0b00108a0</span> <span class=\"o\">***</span>\n<span class=\"n\">Aborted</span>\n</pre></div>", "type": "rendered"}, "created_on": "2016-03-17T16:34:01.551232+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2016-03-17T16:34:01.554656+00:00", "type": "pullrequest_comment", "id": 15911130}, "pull_request": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/15911041.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-15911041"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}, "content": {"raw": "I'm experiencing a timeout right now. The test is stuck (greyed out GUI window) when showing four camera images. It's not repeatable.", "markup": "markdown", "html": "<p>I'm experiencing a timeout right now. The test is stuck (greyed out GUI window) when showing four camera images. It's not repeatable.</p>", "type": "rendered"}, "created_on": "2016-03-17T16:32:43.024763+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2016-03-17T16:32:43.028279+00:00", "type": "pullrequest_comment", "id": 15911041}, "pull_request": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}}, {"update": {"description": "Issue #1021\r\n\r\n1. On my laptop, the tests would always fail because of the `QBENCHMARK` macro. Since it doesn't seem like we're using it in the [back-end](http://doc.qt.io/qt-5/qtest-overview.html#creating-a-benchmark), it's probably ok to remove it. Removing it, the test passed 10 times in a row locally for me.\r\n\r\n1. The test always failed on Jenkins between print statements `cam1 to cam6` and `cam6 to cam1`, indicating the crash comes from the `SetTopic` calls. So I refactored that a little bit.\r\n\r\nThe test now passes on [trusty gpu](http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/197/testReport/)\r\n\r\nAnd [ABI](http://build.osrfoundation.org/job/gazebo-abichecker-any_to_any-vivid-amd64/198/) is happy\r\n\r\n[Diff without whitespace](#!/osrf/gazebo/pull-requests/2194/fix-unit_imagesview_test/diff?w=1)", "title": "Fix UNIT_ImagesView_TEST", "destination": {"commit": {"hash": "12d16bf4377a", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/12d16bf4377a.json"}, "html": {"href": "#!/osrf/gazebo/commits/12d16bf4377a"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "6e99352f1711", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/6e99352f1711.json"}, "html": {"href": "#!/osrf/gazebo/commits/6e99352f1711"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "imagesview_test"}}, "state": "OPEN", "author": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "date": "2016-03-17T16:30:23.128713+00:00"}, "pull_request": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}}], "next": "data/repositories/osrf/gazebo/pullrequests/2194/activity_ctx=64fxgfjub.json"}