{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/15911899.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-15911899"}}, "parent": {"id": 15911130, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194/comments/15911130.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194/_/diff#comment-15911130"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2194"}}, "title": "Fix UNIT_ImagesView_TEST"}, "content": {"raw": "I was able to reproduce it now on the 4th run. I'm investigating. Backtrace:\n\n~~~\ncam1 to cam6\ncam6 to cam1\n*** Error in `/home/louise/code/gazeboB/build/gazebo/gui/viewers/UNIT_ImagesView_TEST': double free or corruption (fasttop): 0x00007fff74013a00 ***\n\nProgram received signal SIGABRT, Aborted.\n0x00007ffff3edccc9 in __GI_raise (sig=sig@entry=6) at ../nptl/sysdeps/unix/sysv/linux/raise.c:56\n56\t../nptl/sysdeps/unix/sysv/linux/raise.c: No such file or directory.\n(gdb) bt\n#0  0x00007ffff3edccc9 in __GI_raise (sig=sig@entry=6) at ../nptl/sysdeps/unix/sysv/linux/raise.c:56\n#1  0x00007ffff3ee00d8 in __GI_abort () at abort.c:89\n#2  0x00007ffff3f19394 in __libc_message (do_abort=do_abort@entry=1, \n    fmt=fmt@entry=0x7ffff4027b28 \"*** Error in `%s': %s: 0x%s ***\\n\")\n    at ../sysdeps/posix/libc_fatal.c:175\n#3  0x00007ffff3f2566e in malloc_printerr (ptr=<optimized out>, \n    str=0x7ffff4027cf0 \"double free or corruption (fasttop)\", action=1) at malloc.c:4996\n#4  _int_free (av=<optimized out>, p=<optimized out>, have_lock=0) at malloc.c:3840\n#5  0x00007ffff67cc56c in ?? () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#6  0x00007ffff65feea0 in QWidgetPrivate::syncBackingStore() ()\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#7  0x00007ffff660ee7a in QWidget::event(QEvent*) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#8  0x00007ffff65bfe2c in QApplicationPrivate::notify_helper(QObject*, QEvent*) ()\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#9  0x00007ffff65c64a0 in QApplication::notify(QObject*, QEvent*) ()\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#10 0x00007ffff608e4dd in QCoreApplication::notifyInternal(QObject*, QEvent*) ()\n   from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#11 0x00007ffff6091b3d in QCoreApplicationPrivate::sendPostedEvents(QObject*, int, QThreadData*) ()\n   from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#12 0x00007ffff60bbf83 in ?? () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#13 0x00007fffeea43e04 in g_main_context_dispatch () from /lib/x86_64-linux-gnu/libglib-2.0.so.0\n#14 0x00007fffeea44048 in ?? () from /lib/x86_64-linux-gnu/libglib-2.0.so.0\n#15 0x00007fffeea440ec in g_main_context_iteration () from /lib/x86_64-linux-gnu/libglib-2.0.so.0\n#16 0x00007ffff60bb7a1 in QEventDispatcherGlib::processEvents(QFlags<QEventLoop::ProcessEventsFlag>) ()\n   from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#17 0x00007ffff6661be6 in ?? () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#18 0x00007ffff609201f in QCoreApplication::processEvents(QFlags<QEventLoop::ProcessEventsFlag>) ()\n   from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#19 0x000000000040999c in ImagesView_TEST::SetTopic (this=this@entry=0x7fffffffdd80, _view=_view@entry=\n    0x8ca950, _topicName=..., _count=_count@entry=6)\n    at /home/louise/code/gazeboB/gazebo/gui/viewers/ImagesView_TEST.cc:132\n#20 0x0000000000409cef in ImagesView_TEST::Switch (this=0x7fffffffdd80)\n    at /home/louise/code/gazeboB/gazebo/gui/viewers/ImagesView_TEST.cc:68\n#21 0x00007ffff6096908 in QMetaMethod::invoke(QObject*, Qt::ConnectionType, QGenericReturnArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument) const ()\n   from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#22 0x00007ffff6098dc2 in QMetaObject::invokeMethod(QObject*, char const*, Qt::ConnectionType, QGenericReturnArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument) ()\n   from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#23 0x00007ffff70b4fbf in ?? () from /usr/lib/x86_64-linux-gnu/libQtTest.so.4\n#24 0x00007ffff70b5b86 in QTest::qExec(QObject*, int, char**) ()\n   from /usr/lib/x86_64-linux-gnu/libQtTest.so.4\n#25 0x0000000000407075 in main (argc=2, argv=0x7fffffffdeb8)\n    at /home/louise/code/gazeboB/gazebo/gui/viewers/ImagesView_TEST.cc:140\n~~~", "markup": "markdown", "html": "<p>I was able to reproduce it now on the 4th run. I'm investigating. Backtrace:</p>\n<div class=\"codehilite\"><pre><span></span>cam1 to cam6\ncam6 to cam1\n*** Error in `/home/louise/code/gazeboB/build/gazebo/gui/viewers/UNIT_ImagesView_TEST&#39;: double free or corruption (fasttop): 0x00007fff74013a00 ***\n\nProgram received signal SIGABRT, Aborted.\n0x00007ffff3edccc9 in __GI_raise (sig=sig@entry=6) at ../nptl/sysdeps/unix/sysv/linux/raise.c:56\n56  ../nptl/sysdeps/unix/sysv/linux/raise.c: No such file or directory.\n(gdb) bt\n#0  0x00007ffff3edccc9 in __GI_raise (sig=sig@entry=6) at ../nptl/sysdeps/unix/sysv/linux/raise.c:56\n#1  0x00007ffff3ee00d8 in __GI_abort () at abort.c:89\n#2  0x00007ffff3f19394 in __libc_message (do_abort=do_abort@entry=1, \n    fmt=fmt@entry=0x7ffff4027b28 &quot;*** Error in `%s&#39;: %s: 0x%s ***\\n&quot;)\n    at ../sysdeps/posix/libc_fatal.c:175\n#3  0x00007ffff3f2566e in malloc_printerr (ptr=&lt;optimized out&gt;, \n    str=0x7ffff4027cf0 &quot;double free or corruption (fasttop)&quot;, action=1) at malloc.c:4996\n#4  _int_free (av=&lt;optimized out&gt;, p=&lt;optimized out&gt;, have_lock=0) at malloc.c:3840\n#5  0x00007ffff67cc56c in ?? () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#6  0x00007ffff65feea0 in QWidgetPrivate::syncBackingStore() ()\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#7  0x00007ffff660ee7a in QWidget::event(QEvent*) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#8  0x00007ffff65bfe2c in QApplicationPrivate::notify_helper(QObject*, QEvent*) ()\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#9  0x00007ffff65c64a0 in QApplication::notify(QObject*, QEvent*) ()\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#10 0x00007ffff608e4dd in QCoreApplication::notifyInternal(QObject*, QEvent*) ()\n   from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#11 0x00007ffff6091b3d in QCoreApplicationPrivate::sendPostedEvents(QObject*, int, QThreadData*) ()\n   from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#12 0x00007ffff60bbf83 in ?? () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#13 0x00007fffeea43e04 in g_main_context_dispatch () from /lib/x86_64-linux-gnu/libglib-2.0.so.0\n#14 0x00007fffeea44048 in ?? () from /lib/x86_64-linux-gnu/libglib-2.0.so.0\n#15 0x00007fffeea440ec in g_main_context_iteration () from /lib/x86_64-linux-gnu/libglib-2.0.so.0\n#16 0x00007ffff60bb7a1 in QEventDispatcherGlib::processEvents(QFlags&lt;QEventLoop::ProcessEventsFlag&gt;) ()\n   from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#17 0x00007ffff6661be6 in ?? () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#18 0x00007ffff609201f in QCoreApplication::processEvents(QFlags&lt;QEventLoop::ProcessEventsFlag&gt;) ()\n   from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#19 0x000000000040999c in ImagesView_TEST::SetTopic (this=this@entry=0x7fffffffdd80, _view=_view@entry=\n    0x8ca950, _topicName=..., _count=_count@entry=6)\n    at /home/louise/code/gazeboB/gazebo/gui/viewers/ImagesView_TEST.cc:132\n#20 0x0000000000409cef in ImagesView_TEST::Switch (this=0x7fffffffdd80)\n    at /home/louise/code/gazeboB/gazebo/gui/viewers/ImagesView_TEST.cc:68\n#21 0x00007ffff6096908 in QMetaMethod::invoke(QObject*, Qt::ConnectionType, QGenericReturnArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument) const ()\n   from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#22 0x00007ffff6098dc2 in QMetaObject::invokeMethod(QObject*, char const*, Qt::ConnectionType, QGenericReturnArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument) ()\n   from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#23 0x00007ffff70b4fbf in ?? () from /usr/lib/x86_64-linux-gnu/libQtTest.so.4\n#24 0x00007ffff70b5b86 in QTest::qExec(QObject*, int, char**) ()\n   from /usr/lib/x86_64-linux-gnu/libQtTest.so.4\n#25 0x0000000000407075 in main (argc=2, argv=0x7fffffffdeb8)\n    at /home/louise/code/gazeboB/gazebo/gui/viewers/ImagesView_TEST.cc:140\n</pre></div>", "type": "rendered"}, "created_on": "2016-03-17T16:47:48.674612+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2016-03-17T16:47:48.677701+00:00", "type": "pullrequest_comment", "id": 15911899}