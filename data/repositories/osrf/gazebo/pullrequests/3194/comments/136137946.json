{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3194/comments/136137946.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3194/_/diff#comment-136137946"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 3194, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3194.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3194"}}, "title": "Ahcorde/gazebo9 reflections"}, "content": {"raw": "The segfault is happening when \\```gazebo::shutdown();` in Server.cc`` is called.\n\n`gazebo::shutdown();`  \u2192 [Server.cc](https://bitbucket.org/ahcorde/gazebo/src/4ad881003922d741d5d46355e732333f716837cb/gazebo/Server.cc#lines-598)\n\n`gazebo::sensors::fini();`  \u2192  [gazebo.cc](https://bitbucket.org/ahcorde/gazebo/src/4ad881003922d741d5d46355e732333f716837cb/gazebo/gazebo.cc#lines-136)\n\n`rendering::fini(); `\u2192 [SensorIface.cc](https://bitbucket.org/ahcorde/gazebo/src/4ad881003922d741d5d46355e732333f716837cb/gazebo/sensors/SensorsIface.cc#lines-71)\n\n`rendering::RenderEngine::Instance()->Fini();` \u2192 [RenderingIface.cc](https://bitbucket.org/ahcorde/gazebo/src/4ad881003922d741d5d46355e732333f716837cb/gazebo/rendering/RenderingIface.cc#lines-66)\n\n`delete this->dataPtr->root;`  \u2192  [RenderEngine.cc](https://bitbucket.org/ahcorde/gazebo/src/4ad881003922d741d5d46355e732333f716837cb/gazebo/rendering/RenderEngine.cc#lines-361)\n\n\u200c", "markup": "markdown", "html": "<p>The segfault is happening when `<code>gazebo::shutdown();` in Server.cc</code> is called.</p>\n<p><code>gazebo::shutdown();</code>  \u2192 <a data-is-external-link=\"true\" href=\"https://bitbucket.org/ahcorde/gazebo/src/4ad881003922d741d5d46355e732333f716837cb/gazebo/Server.cc#lines-598\" rel=\"nofollow\">Server.cc</a></p>\n<p><code>gazebo::sensors::fini();</code>  \u2192  <a data-is-external-link=\"true\" href=\"https://bitbucket.org/ahcorde/gazebo/src/4ad881003922d741d5d46355e732333f716837cb/gazebo/gazebo.cc#lines-136\" rel=\"nofollow\">gazebo.cc</a></p>\n<p><code>rendering::fini();</code>\u2192 <a data-is-external-link=\"true\" href=\"https://bitbucket.org/ahcorde/gazebo/src/4ad881003922d741d5d46355e732333f716837cb/gazebo/sensors/SensorsIface.cc#lines-71\" rel=\"nofollow\">SensorIface.cc</a></p>\n<p><code>rendering::RenderEngine::Instance()-&gt;Fini();</code> \u2192 <a data-is-external-link=\"true\" href=\"https://bitbucket.org/ahcorde/gazebo/src/4ad881003922d741d5d46355e732333f716837cb/gazebo/rendering/RenderingIface.cc#lines-66\" rel=\"nofollow\">RenderingIface.cc</a></p>\n<p><code>delete this-&gt;dataPtr-&gt;root;</code>  \u2192  <a data-is-external-link=\"true\" href=\"https://bitbucket.org/ahcorde/gazebo/src/4ad881003922d741d5d46355e732333f716837cb/gazebo/rendering/RenderEngine.cc#lines-361\" rel=\"nofollow\">RenderEngine.cc</a></p>\n<p>\u200c</p>", "type": "rendered"}, "created_on": "2020-02-17T08:39:55.318115+00:00", "user": {"display_name": "Alejandro Hern\u00e1ndez", "uuid": "{e246cb8c-7058-4077-878d-b64139eed698}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be246cb8c-7058-4077-878d-b64139eed698%7D"}, "html": {"href": "https://bitbucket.org/%7Be246cb8c-7058-4077-878d-b64139eed698%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5a79dc55d95ed2653247d116/abf2aa8b-89f8-4c9c-9750-c48dcde9d599/128"}}, "nickname": "ahcorde", "type": "user", "account_id": "5a79dc55d95ed2653247d116"}, "updated_on": "2020-02-17T08:39:55.330281+00:00", "type": "pullrequest_comment", "id": 136137946}