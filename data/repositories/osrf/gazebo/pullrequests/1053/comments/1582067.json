{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1053/comments/1582067.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1053/_/diff#comment-1582067"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1053, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1053.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1053"}}, "title": "Fix bounding boxes for collisions (#1146)"}, "content": {"raw": "Not all tests need to be run on each physics engine, but I modified this test to run on each physics engine in 34a86f86700d (branch issue_1146_scpeters), and it currently fails for bullet, simbody, and dart. We can disable the test and file a ticket for the other physics engines.\n~~~\n[ RUN      ] PhysicsEngines/Issue1146Test.BoundingBox/0\n[Msg] Waiting for master.\n[Msg] Connected to gazebo master @ http://127.0.0.1:11345\n[Msg] Publicized address: 192.168.1.11\n2014-04-03 17:57:39.613 REGRESSION_1146_collision_bounding_box[14016:1303] invalid drawable\n[Dbg] [ServerFixture.cc:144] ServerFixture load in 2.6 seconds, timeout after 600 seconds\n[Dbg] [ServerFixture.cc:95] ServerFixture::Unload\n[       OK ] PhysicsEngines/Issue1146Test.BoundingBox/0 (2804 ms)\n[ RUN      ] PhysicsEngines/Issue1146Test.BoundingBox/1\n[Msg] Waiting for master.\n[Msg] Connected to gazebo master @ http://127.0.0.1:11345\n[Msg] Publicized address: 192.168.1.11\n2014-04-03 17:57:41.459 REGRESSION_1146_collision_bounding_box[14016:1307] invalid drawable\n[Dbg] [ServerFixture.cc:144] ServerFixture load in 1.6 seconds, timeout after 600 seconds\n/Users/scpeters/ws/gazebo/src/gazebo/test/regression/1146_collision_bounding_box.cc:49: Failure\nValue of: math::Box(math::Vector3(-0.5, -0.5, 0), math::Vector3(0.5, 0.5, 1))\n  Actual: Min[-0.5 -0.5 0] Max[0.5 0.5 1]\nExpected: coll->GetCollisionBoundingBox()\nWhich is: Min[-0.5 -0.5 -0.5] Max[0.5 0.5 0.5]\n/Users/scpeters/ws/gazebo/src/gazebo/test/regression/1146_collision_bounding_box.cc:56: Failure\nValue of: math::Box(math::Vector3(9.5, 14.5, 19.5), math::Vector3(10.5, 15.5, 20.5))\n  Actual: Min[9.5 14.5 19.5] Max[10.5 15.5 20.5]\nExpected: coll->GetCollisionBoundingBox()\nWhich is: Min[-0.5 -0.5 -0.5] Max[0.5 0.5 0.5]\n[Dbg] [ServerFixture.cc:95] ServerFixture::Unload\n[  FAILED  ] PhysicsEngines/Issue1146Test.BoundingBox/1, where GetParam() = \"bullet\" (1794 ms)\n[ RUN      ] PhysicsEngines/Issue1146Test.BoundingBox/2\n[Msg] Waiting for master.\n[Msg] Connected to gazebo master @ http://127.0.0.1:11345\n[Msg] Publicized address: 192.168.1.11\n2014-04-03 17:57:43.257 REGRESSION_1146_collision_bounding_box[14016:130b] invalid drawable\n[Dbg] [ServerFixture.cc:144] ServerFixture load in 1.6 seconds, timeout after 600 seconds\n/Users/scpeters/ws/gazebo/src/gazebo/test/regression/1146_collision_bounding_box.cc:49: Failure\nValue of: math::Box(math::Vector3(-0.5, -0.5, 0), math::Vector3(0.5, 0.5, 1))\n  Actual: Min[-0.5 -0.5 0] Max[0.5 0.5 1]\nExpected: coll->GetCollisionBoundingBox()\nWhich is: Min[0 0 0] Max[0 0 0]\n/Users/scpeters/ws/gazebo/src/gazebo/test/regression/1146_collision_bounding_box.cc:56: Failure\nValue of: math::Box(math::Vector3(9.5, 14.5, 19.5), math::Vector3(10.5, 15.5, 20.5))\n  Actual: Min[9.5 14.5 19.5] Max[10.5 15.5 20.5]\nExpected: coll->GetCollisionBoundingBox()\nWhich is: Min[0 0 0] Max[0 0 0]\n[Dbg] [ServerFixture.cc:95] ServerFixture::Unload\n[  FAILED  ] PhysicsEngines/Issue1146Test.BoundingBox/2, where GetParam() = \"simbody\" (1835 ms)\n[ RUN      ] PhysicsEngines/Issue1146Test.BoundingBox/3\n[Msg] Waiting for master.\n[Msg] Connected to gazebo master @ http://127.0.0.1:11345\n[Msg] Publicized address: 192.168.1.11\n2014-04-03 17:57:45.095 REGRESSION_1146_collision_bounding_box[14016:130f] invalid drawable\n[Dbg] [ServerFixture.cc:144] ServerFixture load in 1.6 seconds, timeout after 600 seconds\n[Err] [DARTCollision.cc:124] DART does not provide bounding box info.\n/Users/scpeters/ws/gazebo/src/gazebo/test/regression/1146_collision_bounding_box.cc:49: Failure\nValue of: math::Box(math::Vector3(-0.5, -0.5, 0), math::Vector3(0.5, 0.5, 1))\n  Actual: Min[-0.5 -0.5 0] Max[0.5 0.5 1]\nExpected: coll->GetCollisionBoundingBox()\nWhich is: Min[0 0 0] Max[0 0 0]\n[Err] [DARTCollision.cc:124] DART does not provide bounding box info.\n/Users/scpeters/ws/gazebo/src/gazebo/test/regression/1146_collision_bounding_box.cc:56: Failure\nValue of: math::Box(math::Vector3(9.5, 14.5, 19.5), math::Vector3(10.5, 15.5, 20.5))\n  Actual: Min[9.5 14.5 19.5] Max[10.5 15.5 20.5]\nExpected: coll->GetCollisionBoundingBox()\nWhich is: Min[0 0 0] Max[0 0 0]\n[Dbg] [ServerFixture.cc:95] ServerFixture::Unload\n[  FAILED  ] PhysicsEngines/Issue1146Test.BoundingBox/3, where GetParam() = \"dart\" (1801 ms)\n[----------] 4 tests from PhysicsEngines/Issue1146Test (8234 ms total)\n\n[----------] Global test environment tear-down\n[==========] 4 tests from 1 test case ran. (8234 ms total)\n[  PASSED  ] 1 test.\n[  FAILED  ] 3 tests, listed below:\n[  FAILED  ] PhysicsEngines/Issue1146Test.BoundingBox/1, where GetParam() = \"bullet\"\n[  FAILED  ] PhysicsEngines/Issue1146Test.BoundingBox/2, where GetParam() = \"simbody\"\n[  FAILED  ] PhysicsEngines/Issue1146Test.BoundingBox/3, where GetParam() = \"dart\"\n~~~", "markup": "markdown", "html": "<p>Not all tests need to be run on each physics engine, but I modified this test to run on each physics engine in <a href=\"#!/osrf/gazebo/commits/34a86f86700d\" rel=\"nofollow\" class=\"ap-connect-link\">34a86f86700d</a> (branch issue_1146_scpeters), and it currently fails for bullet, simbody, and dart. We can disable the test and file a ticket for the other physics engines.</p>\n<div class=\"codehilite\"><pre><span></span>[ RUN      ] PhysicsEngines/Issue1146Test.BoundingBox/0\n[Msg] Waiting for master.\n[Msg] Connected to gazebo master @ http://127.0.0.1:11345\n[Msg] Publicized address: 192.168.1.11\n2014-04-03 17:57:39.613 REGRESSION_1146_collision_bounding_box[14016:1303] invalid drawable\n[Dbg] [ServerFixture.cc:144] ServerFixture load in 2.6 seconds, timeout after 600 seconds\n[Dbg] [ServerFixture.cc:95] ServerFixture::Unload\n[       OK ] PhysicsEngines/Issue1146Test.BoundingBox/0 (2804 ms)\n[ RUN      ] PhysicsEngines/Issue1146Test.BoundingBox/1\n[Msg] Waiting for master.\n[Msg] Connected to gazebo master @ http://127.0.0.1:11345\n[Msg] Publicized address: 192.168.1.11\n2014-04-03 17:57:41.459 REGRESSION_1146_collision_bounding_box[14016:1307] invalid drawable\n[Dbg] [ServerFixture.cc:144] ServerFixture load in 1.6 seconds, timeout after 600 seconds\n/Users/scpeters/ws/gazebo/src/gazebo/test/regression/1146_collision_bounding_box.cc:49: Failure\nValue of: math::Box(math::Vector3(-0.5, -0.5, 0), math::Vector3(0.5, 0.5, 1))\n  Actual: Min[-0.5 -0.5 0] Max[0.5 0.5 1]\nExpected: coll-&gt;GetCollisionBoundingBox()\nWhich is: Min[-0.5 -0.5 -0.5] Max[0.5 0.5 0.5]\n/Users/scpeters/ws/gazebo/src/gazebo/test/regression/1146_collision_bounding_box.cc:56: Failure\nValue of: math::Box(math::Vector3(9.5, 14.5, 19.5), math::Vector3(10.5, 15.5, 20.5))\n  Actual: Min[9.5 14.5 19.5] Max[10.5 15.5 20.5]\nExpected: coll-&gt;GetCollisionBoundingBox()\nWhich is: Min[-0.5 -0.5 -0.5] Max[0.5 0.5 0.5]\n[Dbg] [ServerFixture.cc:95] ServerFixture::Unload\n[  FAILED  ] PhysicsEngines/Issue1146Test.BoundingBox/1, where GetParam() = &quot;bullet&quot; (1794 ms)\n[ RUN      ] PhysicsEngines/Issue1146Test.BoundingBox/2\n[Msg] Waiting for master.\n[Msg] Connected to gazebo master @ http://127.0.0.1:11345\n[Msg] Publicized address: 192.168.1.11\n2014-04-03 17:57:43.257 REGRESSION_1146_collision_bounding_box[14016:130b] invalid drawable\n[Dbg] [ServerFixture.cc:144] ServerFixture load in 1.6 seconds, timeout after 600 seconds\n/Users/scpeters/ws/gazebo/src/gazebo/test/regression/1146_collision_bounding_box.cc:49: Failure\nValue of: math::Box(math::Vector3(-0.5, -0.5, 0), math::Vector3(0.5, 0.5, 1))\n  Actual: Min[-0.5 -0.5 0] Max[0.5 0.5 1]\nExpected: coll-&gt;GetCollisionBoundingBox()\nWhich is: Min[0 0 0] Max[0 0 0]\n/Users/scpeters/ws/gazebo/src/gazebo/test/regression/1146_collision_bounding_box.cc:56: Failure\nValue of: math::Box(math::Vector3(9.5, 14.5, 19.5), math::Vector3(10.5, 15.5, 20.5))\n  Actual: Min[9.5 14.5 19.5] Max[10.5 15.5 20.5]\nExpected: coll-&gt;GetCollisionBoundingBox()\nWhich is: Min[0 0 0] Max[0 0 0]\n[Dbg] [ServerFixture.cc:95] ServerFixture::Unload\n[  FAILED  ] PhysicsEngines/Issue1146Test.BoundingBox/2, where GetParam() = &quot;simbody&quot; (1835 ms)\n[ RUN      ] PhysicsEngines/Issue1146Test.BoundingBox/3\n[Msg] Waiting for master.\n[Msg] Connected to gazebo master @ http://127.0.0.1:11345\n[Msg] Publicized address: 192.168.1.11\n2014-04-03 17:57:45.095 REGRESSION_1146_collision_bounding_box[14016:130f] invalid drawable\n[Dbg] [ServerFixture.cc:144] ServerFixture load in 1.6 seconds, timeout after 600 seconds\n[Err] [DARTCollision.cc:124] DART does not provide bounding box info.\n/Users/scpeters/ws/gazebo/src/gazebo/test/regression/1146_collision_bounding_box.cc:49: Failure\nValue of: math::Box(math::Vector3(-0.5, -0.5, 0), math::Vector3(0.5, 0.5, 1))\n  Actual: Min[-0.5 -0.5 0] Max[0.5 0.5 1]\nExpected: coll-&gt;GetCollisionBoundingBox()\nWhich is: Min[0 0 0] Max[0 0 0]\n[Err] [DARTCollision.cc:124] DART does not provide bounding box info.\n/Users/scpeters/ws/gazebo/src/gazebo/test/regression/1146_collision_bounding_box.cc:56: Failure\nValue of: math::Box(math::Vector3(9.5, 14.5, 19.5), math::Vector3(10.5, 15.5, 20.5))\n  Actual: Min[9.5 14.5 19.5] Max[10.5 15.5 20.5]\nExpected: coll-&gt;GetCollisionBoundingBox()\nWhich is: Min[0 0 0] Max[0 0 0]\n[Dbg] [ServerFixture.cc:95] ServerFixture::Unload\n[  FAILED  ] PhysicsEngines/Issue1146Test.BoundingBox/3, where GetParam() = &quot;dart&quot; (1801 ms)\n[----------] 4 tests from PhysicsEngines/Issue1146Test (8234 ms total)\n\n[----------] Global test environment tear-down\n[==========] 4 tests from 1 test case ran. (8234 ms total)\n[  PASSED  ] 1 test.\n[  FAILED  ] 3 tests, listed below:\n[  FAILED  ] PhysicsEngines/Issue1146Test.BoundingBox/1, where GetParam() = &quot;bullet&quot;\n[  FAILED  ] PhysicsEngines/Issue1146Test.BoundingBox/2, where GetParam() = &quot;simbody&quot;\n[  FAILED  ] PhysicsEngines/Issue1146Test.BoundingBox/3, where GetParam() = &quot;dart&quot;\n</pre></div>", "type": "rendered"}, "created_on": "2014-04-04T00:59:59.206363+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2014-04-04T00:59:59.217884+00:00", "type": "pullrequest_comment", "id": 1582067}