{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3055/comments/86221785.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:9393d8199fee..29a9761d43c5?path=gazebo%2Futil%2FIntrospectionManager.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3055/_/diff#comment-86221785"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 3055, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3055.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3055"}}, "title": "Change the number of copies that IntrospectionManager has to make"}, "content": {"raw": "Is it safe to read `this->dataPtr->allItemsKeys` here without a lock?", "markup": "markdown", "html": "<p>Is it safe to read <code>this-&gt;dataPtr-&gt;allItemsKeys</code> here without a lock?</p>", "type": "rendered"}, "created_on": "2018-12-19T18:28:26.832319+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "inline": {"to": 201, "from": null, "path": "gazebo/util/IntrospectionManager.cc"}, "updated_on": "2018-12-19T18:28:26.841659+00:00", "type": "pullrequest_comment", "id": 86221785}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3055/comments/86224685.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:9393d8199fee..29a9761d43c5?path=gazebo%2Futil%2FIntrospectionManager.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3055/_/diff#comment-86224685"}}, "parent": {"id": 86221785, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3055/comments/86221785.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3055/_/diff#comment-86221785"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 3055, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3055.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3055"}}, "title": "Change the number of copies that IntrospectionManager has to make"}, "content": {"raw": "Nope, this should be `items`", "markup": "markdown", "html": "<p>Nope, this should be <code>items</code></p>", "type": "rendered"}, "created_on": "2018-12-19T18:56:26.396792+00:00", "user": {"display_name": "Michael Carroll", "uuid": "{17dbbc15-cbc0-42f0-a985-cde9061c78a0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D"}, "html": {"href": "https://bitbucket.org/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:65740f22-cc56-4418-9608-7e17d0ed47b7/2aa259f5-4de1-4f68-9156-eded72041d84/128"}}, "nickname": "Michael Carroll", "type": "user", "account_id": "557058:65740f22-cc56-4418-9608-7e17d0ed47b7"}, "inline": {"to": 201, "from": null, "path": "gazebo/util/IntrospectionManager.cc"}, "updated_on": "2018-12-19T18:56:26.405815+00:00", "type": "pullrequest_comment", "id": 86224685}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3055/comments/86221822.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:9393d8199fee..29a9761d43c5?path=gazebo%2Futil%2FIntrospectionManager.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3055/_/diff#comment-86221822"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 3055, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3055.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3055"}}, "title": "Change the number of copies that IntrospectionManager has to make"}, "content": {"raw": "Is it safe to read `this->dataPtr->allItems` here without a lock?", "markup": "markdown", "html": "<p>Is it safe to read <code>this-&gt;dataPtr-&gt;allItems</code> here without a lock?</p>", "type": "rendered"}, "created_on": "2018-12-19T18:28:51.160464+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "inline": {"to": 211, "from": null, "path": "gazebo/util/IntrospectionManager.cc"}, "updated_on": "2018-12-19T18:28:51.167232+00:00", "type": "pullrequest_comment", "id": 86221822}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3055/comments/86228096.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:9393d8199fee..29a9761d43c5?path=gazebo%2Futil%2FIntrospectionManager.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3055/_/diff#comment-86228096"}}, "parent": {"id": 86221822, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3055/comments/86221822.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3055/_/diff#comment-86221822"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 3055, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3055.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3055"}}, "title": "Change the number of copies that IntrospectionManager has to make"}, "content": {"raw": "It would not be safe, I\u2019ll have to additionally lock here.", "markup": "markdown", "html": "<p>It would not be safe, I\u2019ll have to additionally lock here.</p>", "type": "rendered"}, "created_on": "2018-12-19T19:30:42.422617+00:00", "user": {"display_name": "Michael Carroll", "uuid": "{17dbbc15-cbc0-42f0-a985-cde9061c78a0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D"}, "html": {"href": "https://bitbucket.org/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:65740f22-cc56-4418-9608-7e17d0ed47b7/2aa259f5-4de1-4f68-9156-eded72041d84/128"}}, "nickname": "Michael Carroll", "type": "user", "account_id": "557058:65740f22-cc56-4418-9608-7e17d0ed47b7"}, "inline": {"to": 211, "from": null, "path": "gazebo/util/IntrospectionManager.cc"}, "updated_on": "2018-12-19T19:30:42.435545+00:00", "type": "pullrequest_comment", "id": 86228096}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3055/comments/86229608.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3055/_/diff#comment-86229608"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 3055, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3055.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3055"}}, "title": "Change the number of copies that IntrospectionManager has to make"}, "content": {"raw": "I updated this to restore some of the sanity checks that are still going to be required \\(I somehow thought that they wouldn\u2019t be\\).\n\nNow it should only be making a copy of items that are being observed/filtered in the `IntrospectionManager`, which should reduce some of the copies needed.", "markup": "markdown", "html": "<p>I updated this to restore some of the sanity checks that are still going to be required (I somehow thought that they wouldn\u2019t be).</p>\n<p>Now it should only be making a copy of items that are being observed/filtered in the <code>IntrospectionManager</code>, which should reduce some of the copies needed.</p>", "type": "rendered"}, "created_on": "2018-12-19T19:46:09.994348+00:00", "user": {"display_name": "Michael Carroll", "uuid": "{17dbbc15-cbc0-42f0-a985-cde9061c78a0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D"}, "html": {"href": "https://bitbucket.org/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:65740f22-cc56-4418-9608-7e17d0ed47b7/2aa259f5-4de1-4f68-9156-eded72041d84/128"}}, "nickname": "Michael Carroll", "type": "user", "account_id": "557058:65740f22-cc56-4418-9608-7e17d0ed47b7"}, "updated_on": "2018-12-19T19:46:10.003132+00:00", "type": "pullrequest_comment", "id": 86229608}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3055/comments/86237421.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3055/_/diff#comment-86237421"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 3055, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3055.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3055"}}, "title": "Change the number of copies that IntrospectionManager has to make"}, "content": {"raw": "I added a performance test that adds roughly the equivalent of 2000 models to the IntrospectionManager, here are the results on the `Update` call.\n\nAt `default:`\n\n`Samples: 1000`  \n`Max: 0.00757681`  \n`Min: 0.00230941`  \n`Median: 0.00287952`  \n`Mean: 0.00297357`\n\nAfter patch:\n\n`Samples: 1000`  \n`Max: 0.00428519`  \n`Min: 5.9e-08`  \n`Median: 8.4e-08`  \n`Mean: 4.37048e-06`\n\nWhat is the general guidance on how to make acceptance criteria for this in Gtest?  I don\u2019t want to add something that would potentially be flaky on other people\u2019s systems.", "markup": "markdown", "html": "<p>I added a performance test that adds roughly the equivalent of 2000 models to the IntrospectionManager, here are the results on the <code>Update</code> call.</p>\n<p>At <code>default:</code></p>\n<p><code>Samples: 1000</code><br />\n<code>Max: 0.00757681</code><br />\n<code>Min: 0.00230941</code><br />\n<code>Median: 0.00287952</code><br />\n<code>Mean: 0.00297357</code></p>\n<p>After patch:</p>\n<p><code>Samples: 1000</code><br />\n<code>Max: 0.00428519</code><br />\n<code>Min: 5.9e-08</code><br />\n<code>Median: 8.4e-08</code><br />\n<code>Mean: 4.37048e-06</code></p>\n<p>What is the general guidance on how to make acceptance criteria for this in Gtest?  I don\u2019t want to add something that would potentially be flaky on other people\u2019s systems.</p>", "type": "rendered"}, "created_on": "2018-12-19T21:12:19.521736+00:00", "user": {"display_name": "Michael Carroll", "uuid": "{17dbbc15-cbc0-42f0-a985-cde9061c78a0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D"}, "html": {"href": "https://bitbucket.org/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:65740f22-cc56-4418-9608-7e17d0ed47b7/2aa259f5-4de1-4f68-9156-eded72041d84/128"}}, "nickname": "Michael Carroll", "type": "user", "account_id": "557058:65740f22-cc56-4418-9608-7e17d0ed47b7"}, "updated_on": "2018-12-19T21:12:19.531280+00:00", "type": "pullrequest_comment", "id": 86237421}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3055/comments/86237603.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3055/_/diff#comment-86237603"}}, "parent": {"id": 86237421, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3055/comments/86237421.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3055/_/diff#comment-86237421"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 3055, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3055.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3055"}}, "title": "Change the number of copies that IntrospectionManager has to make"}, "content": {"raw": "Also, it should be noted, as more objects are introspected, this performance will decrease back to the previous results \\(as copies of all of the callbacks will still be made\\).  This mainly increases performance in the case that there are many objects, and those objects are not introspected.", "markup": "markdown", "html": "<p>Also, it should be noted, as more objects are introspected, this performance will decrease back to the previous results (as copies of all of the callbacks will still be made).  This mainly increases performance in the case that there are many objects, and those objects are not introspected.</p>", "type": "rendered"}, "created_on": "2018-12-19T21:14:43.662216+00:00", "user": {"display_name": "Michael Carroll", "uuid": "{17dbbc15-cbc0-42f0-a985-cde9061c78a0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D"}, "html": {"href": "https://bitbucket.org/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:65740f22-cc56-4418-9608-7e17d0ed47b7/2aa259f5-4de1-4f68-9156-eded72041d84/128"}}, "nickname": "Michael Carroll", "type": "user", "account_id": "557058:65740f22-cc56-4418-9608-7e17d0ed47b7"}, "updated_on": "2018-12-19T21:14:43.674118+00:00", "type": "pullrequest_comment", "id": 86237603}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3055/comments/86238049.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3055/_/diff#comment-86238049"}}, "parent": {"id": 86237603, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3055/comments/86237603.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3055/_/diff#comment-86237603"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 3055, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3055.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3055"}}, "title": "Change the number of copies that IntrospectionManager has to make"}, "content": {"raw": "I like it because this is the most common scenario. We\u2019ll have potentially a lot of objects to introspect but most of them won\u2019t be introspected at the same time.", "markup": "markdown", "html": "<p>I like it because this is the most common scenario. We\u2019ll have potentially a lot of objects to introspect but most of them won\u2019t be introspected at the same time.</p>", "type": "rendered"}, "created_on": "2018-12-19T21:20:09.619668+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "updated_on": "2018-12-19T21:20:09.629398+00:00", "type": "pullrequest_comment", "id": 86238049}, {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3055/comments/86246078.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3055/_/diff#comment-86246078"}}, "parent": {"id": 86237421, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3055/comments/86237421.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3055/_/diff#comment-86237421"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 3055, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/3055.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3055"}}, "title": "Change the number of copies that IntrospectionManager has to make"}, "content": {"raw": "It\u2019s tricky to write a performance test in a hardware-independent way.  I\u2019m happy with these results.", "markup": "markdown", "html": "<p>It\u2019s tricky to write a performance test in a hardware-independent way.  I\u2019m happy with these results.</p>", "type": "rendered"}, "created_on": "2018-12-19T22:55:47.238619+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "updated_on": "2018-12-19T22:55:47.250135+00:00", "type": "pullrequest_comment", "id": 86246078}], "page": 1, "size": 9}