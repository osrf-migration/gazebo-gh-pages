{"pagelen": 50, "values": [{"update": {"description": "Undo for reset commands (reset world, reset model poses, reset time)\r\n\r\nUser commands are handled a bit differently in this pull request than the user commands introduced in pull request #1934. \r\n\r\nBefore, the command action itself and the \"user command\" which is registered for undo were sent in parallel. This was causing issues due to the order in which the messages are handled. The issues are harder to reproduce with some commands.\r\n\r\n![undoSync1.png](https://bitbucket.org/repo/jgXqbo/images/3634482620-undoSync1.png)\r\n\r\nWe want to make sure the user command is registered before the action takes effect (to save the world state before the command). The new approach is to send the \"action\" inside the user command, and republish that message from `UserCmdManager` in the server. \r\n\r\n![undoSync2.png](https://bitbucket.org/repo/jgXqbo/images/743430199-undoSync2.png)\r\n\r\nIf this pull request gets merged, I'll make a new pull request converting the former user commands to the same style.\r\n\r\nSome considerations:\r\n\r\n1. Other subscribers to the \"action\" messages shouldn't be affected\r\n\r\n1. This makes the same information be published twice (the first time it's a message within a message)\r\n\r\n1. `user_cmd.proto` might get very big once all the command types are implemented. Consider extending the message\r\n\r\n[CI](http://build.osrfoundation.org/view/main/view/CI%20coverage%20jobs/job/gazebo-any-coverage-trusty-amd64/477/) ok", "title": "Undo resets", "destination": {"commit": {"hash": "9cb28f23e523", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/9cb28f23e523.json"}, "html": {"href": "#!/osrf/gazebo/commits/9cb28f23e523"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "94a8364efbd0", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/94a8364efbd0.json"}, "html": {"href": "#!/osrf/gazebo/commits/94a8364efbd0"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "undo_resets"}}, "state": "MERGED", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2015-12-01T02:38:32.690811+00:00"}, "pull_request": {"type": "pullrequest", "id": 1986, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1986.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1986"}}, "title": "Undo resets"}}, {"approval": {"date": "2015-12-01T01:22:46.426396+00:00", "pullrequest": {"type": "pullrequest", "id": 1986, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1986.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1986"}}, "title": "Undo resets"}, "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}}, "pull_request": {"type": "pullrequest", "id": 1986, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1986.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1986"}}, "title": "Undo resets"}}, {"update": {"description": "Undo for reset commands (reset world, reset model poses, reset time)\r\n\r\nUser commands are handled a bit differently in this pull request than the user commands introduced in pull request #1934. \r\n\r\nBefore, the command action itself and the \"user command\" which is registered for undo were sent in parallel. This was causing issues due to the order in which the messages are handled. The issues are harder to reproduce with some commands.\r\n\r\n![undoSync1.png](https://bitbucket.org/repo/jgXqbo/images/3634482620-undoSync1.png)\r\n\r\nWe want to make sure the user command is registered before the action takes effect (to save the world state before the command). The new approach is to send the \"action\" inside the user command, and republish that message from `UserCmdManager` in the server. \r\n\r\n![undoSync2.png](https://bitbucket.org/repo/jgXqbo/images/743430199-undoSync2.png)\r\n\r\nIf this pull request gets merged, I'll make a new pull request converting the former user commands to the same style.\r\n\r\nSome considerations:\r\n\r\n1. Other subscribers to the \"action\" messages shouldn't be affected\r\n\r\n1. This makes the same information be published twice (the first time it's a message within a message)\r\n\r\n1. `user_cmd.proto` might get very big once all the command types are implemented. Consider extending the message\r\n\r\n[CI](http://build.osrfoundation.org/view/main/view/CI%20coverage%20jobs/job/gazebo-any-coverage-trusty-amd64/477/) ok", "title": "Undo resets", "destination": {"commit": {"hash": "9cb28f23e523", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/9cb28f23e523.json"}, "html": {"href": "#!/osrf/gazebo/commits/9cb28f23e523"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "94a8364efbd0", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/94a8364efbd0.json"}, "html": {"href": "#!/osrf/gazebo/commits/94a8364efbd0"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "undo_resets"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2015-12-01T00:19:27.467002+00:00"}, "pull_request": {"type": "pullrequest", "id": 1986, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1986.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1986"}}, "title": "Undo resets"}}, {"update": {"description": "Undo for reset commands (reset world, reset model poses, reset time)\r\n\r\nUser commands are handled a bit differently in this pull request than the user commands introduced in pull request #1934. \r\n\r\nBefore, the command action itself and the \"user command\" which is registered for undo were sent in parallel. This was causing issues due to the order in which the messages are handled. The issues are harder to reproduce with some commands.\r\n\r\n![undoSync1.png](https://bitbucket.org/repo/jgXqbo/images/3634482620-undoSync1.png)\r\n\r\nWe want to make sure the user command is registered before the action takes effect (to save the world state before the command). The new approach is to send the \"action\" inside the user command, and republish that message from `UserCmdManager` in the server. \r\n\r\n![undoSync2.png](https://bitbucket.org/repo/jgXqbo/images/743430199-undoSync2.png)\r\n\r\nIf this pull request gets merged, I'll make a new pull request converting the former user commands to the same style.\r\n\r\nSome considerations:\r\n\r\n1. Other subscribers to the \"action\" messages shouldn't be affected\r\n\r\n1. This makes the same information be published twice (the first time it's a message within a message)\r\n\r\n1. `user_cmd.proto` might get very big once all the command types are implemented. Consider extending the message\r\n\r\n[CI](http://build.osrfoundation.org/view/main/view/CI%20coverage%20jobs/job/gazebo-any-coverage-trusty-amd64/477/) ok", "title": "Undo resets", "destination": {"commit": {"hash": "9cb28f23e523", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/9cb28f23e523.json"}, "html": {"href": "#!/osrf/gazebo/commits/9cb28f23e523"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "94a8364efbd0", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/94a8364efbd0.json"}, "html": {"href": "#!/osrf/gazebo/commits/94a8364efbd0"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "undo_resets"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2015-12-01T00:19:16.848425+00:00"}, "pull_request": {"type": "pullrequest", "id": 1986, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1986.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1986"}}, "title": "Undo resets"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1986/comments/12303477.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1986/_/diff#comment-12303477"}}, "parent": {"id": 12300525, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1986/comments/12300525.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1986/_/diff#comment-12300525"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1986, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1986.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1986"}}, "title": "Undo resets"}, "content": {"raw": "Oh yes sorry, I just broke it into several pull requests. I can change it here now and then change again later. The missing numbers don't seem to affect anything, repeated numbers would be a problem though.", "markup": "markdown", "html": "<p>Oh yes sorry, I just broke it into several pull requests. I can change it here now and then change again later. The missing numbers don't seem to affect anything, repeated numbers would be a problem though.</p>", "type": "rendered"}, "created_on": "2015-11-30T23:31:27.969689+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2015-11-30T23:31:27.971651+00:00", "type": "pullrequest_comment", "id": 12303477}, "pull_request": {"type": "pullrequest", "id": 1986, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1986.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1986"}}, "title": "Undo resets"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1986/comments/12300525.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1986/_/diff#comment-12300525"}}, "parent": {"id": 12300496, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1986/comments/12300496.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1986/_/diff#comment-12300496"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1986, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1986.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1986"}}, "title": "Undo resets"}, "content": {"raw": "I'm guessing there are other messages you are planning to include here as well?", "markup": "markdown", "html": "<p>I'm guessing there are other messages you are planning to include here as well?</p>", "type": "rendered"}, "created_on": "2015-11-30T21:57:29.137375+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2015-11-30T21:57:29.140931+00:00", "type": "pullrequest_comment", "id": 12300525}, "pull_request": {"type": "pullrequest", "id": 1986, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1986.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1986"}}, "title": "Undo resets"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1986/comments/12300496.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1986/_/diff#comment-12300496"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1986, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1986.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1986"}}, "title": "Undo resets"}, "content": {"raw": "6?", "markup": "markdown", "html": "<p>6?</p>", "type": "rendered"}, "created_on": "2015-11-30T21:56:52.697099+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2015-11-30T21:56:52.700948+00:00", "type": "pullrequest_comment", "id": 12300496}, "pull_request": {"type": "pullrequest", "id": 1986, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1986.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1986"}}, "title": "Undo resets"}}, {"update": {"description": "Undo for reset commands (reset world, reset model poses, reset time)\r\n\r\nUser commands are handled a bit differently in this pull request than the user commands introduced in pull request #1934. \r\n\r\nBefore, the command action itself and the \"user command\" which is registered for undo were sent in parallel. This was causing issues due to the order in which the messages are handled. The issues are harder to reproduce with some commands.\r\n\r\n![undoSync1.png](https://bitbucket.org/repo/jgXqbo/images/3634482620-undoSync1.png)\r\n\r\nWe want to make sure the user command is registered before the action takes effect (to save the world state before the command). The new approach is to send the \"action\" inside the user command, and republish that message from `UserCmdManager` in the server. \r\n\r\n![undoSync2.png](https://bitbucket.org/repo/jgXqbo/images/743430199-undoSync2.png)\r\n\r\nIf this pull request gets merged, I'll make a new pull request converting the former user commands to the same style.\r\n\r\nSome considerations:\r\n\r\n1. Other subscribers to the \"action\" messages shouldn't be affected\r\n\r\n1. This makes the same information be published twice (the first time it's a message within a message)\r\n\r\n1. `user_cmd.proto` might get very big once all the command types are implemented. Consider extending the message\r\n\r\n[CI](http://build.osrfoundation.org/view/main/view/CI%20coverage%20jobs/job/gazebo-any-coverage-trusty-amd64/477/) ok", "title": "Undo resets", "destination": {"commit": {"hash": "c2bc0849e68b", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/c2bc0849e68b.json"}, "html": {"href": "#!/osrf/gazebo/commits/c2bc0849e68b"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "c7d6977b4172", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/c7d6977b4172.json"}, "html": {"href": "#!/osrf/gazebo/commits/c7d6977b4172"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "undo_resets"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2015-11-26T01:08:01.255480+00:00"}, "pull_request": {"type": "pullrequest", "id": 1986, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1986.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1986"}}, "title": "Undo resets"}}, {"update": {"description": "Undo for reset commands (reset world, reset model poses, reset time)\r\n\r\nUser commands are handled a bit differently in this pull request than the user commands introduced in pull request #1934. \r\n\r\nBefore, the command action itself and the \"user command\" which is registered for undo were sent in parallel. This was causing issues due to the order in which the messages are handled. The issues are harder to reproduce with some commands.\r\n\r\n![undoSync1.png](https://bitbucket.org/repo/jgXqbo/images/3634482620-undoSync1.png)\r\n\r\nWe want to make sure the user command is registered before the action takes effect (to save the world state before the command). The new approach is to send the \"action\" inside the user command, and republish that message from `UserCmdManager` in the server. \r\n\r\n![undoSync2.png](https://bitbucket.org/repo/jgXqbo/images/743430199-undoSync2.png)\r\n\r\nIf this pull request gets merged, I'll make a new pull request converting the former user commands to the same style.\r\n\r\nSome considerations:\r\n\r\n1. Other subscribers to the \"action\" messages shouldn't be affected\r\n\r\n1. This makes the same information be published twice (the first time it's a message within a message)\r\n\r\n1. `user_cmd.proto` might get very big once all the command types are implemented. Consider extending the message\r\n\r\n[CI](http://build.osrfoundation.org/view/main/view/CI%20coverage%20jobs/job/gazebo-any-coverage-trusty-amd64/477/) ok", "title": "Undo resets", "destination": {"commit": {"hash": "c2bc0849e68b", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/c2bc0849e68b.json"}, "html": {"href": "#!/osrf/gazebo/commits/c2bc0849e68b"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "b4155a475222", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/b4155a475222.json"}, "html": {"href": "#!/osrf/gazebo/commits/b4155a475222"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "undo_resets"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2015-11-25T23:12:54.695944+00:00"}, "pull_request": {"type": "pullrequest", "id": 1986, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1986.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1986"}}, "title": "Undo resets"}}, {"update": {"description": "Undo for reset commands (reset world, reset model poses, reset time)\r\n\r\nUser commands are handled a bit differently in this pull request than the user commands introduced in pull request #1934. \r\n\r\nBefore, the command action itself and the \"user command\" which is registered for undo were sent in parallel. This was causing issues due to the order in which the messages are handled. The issues are harder to reproduce with some commands.\r\n\r\n![undoSync1.png](https://bitbucket.org/repo/jgXqbo/images/3634482620-undoSync1.png)\r\n\r\nWe want to make sure the user command is registered before the action takes effect (to save the world state before the command). The new approach is to send the \"action\" inside the user command, and republish that message from `UserCmdManager` in the server. \r\n\r\n![undoSync2.png](https://bitbucket.org/repo/jgXqbo/images/743430199-undoSync2.png)\r\n\r\nIf this pull request gets merged, I'll make a new pull request converting the former user commands to the same style.\r\n\r\nSome considerations:\r\n\r\n1. Other subscribers to the \"action\" messages shouldn't be affected\r\n\r\n1. This makes the same information be published twice (the first time it's a message within a message)\r\n\r\n1. `user_cmd.proto` might get very big once all the command types are implemented. Consider extending the message\r\n\r\n[CI](http://build.osrfoundation.org/view/main/view/CI%20coverage%20jobs/job/gazebo-any-coverage-trusty-amd64/477/) ok", "title": "Undo resets", "destination": {"commit": {"hash": "c2bc0849e68b", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/c2bc0849e68b.json"}, "html": {"href": "#!/osrf/gazebo/commits/c2bc0849e68b"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "b4155a475222", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/b4155a475222.json"}, "html": {"href": "#!/osrf/gazebo/commits/b4155a475222"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "undo_resets"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2015-11-25T23:12:51.843107+00:00"}, "pull_request": {"type": "pullrequest", "id": 1986, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1986.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1986"}}, "title": "Undo resets"}}, {"update": {"description": "Undo for reset commands (reset world, reset model poses, reset time)\r\n\r\nUser commands are handled a bit differently in this pull request than the user commands introduced in pull request #1934. \r\n\r\nBefore, the command action itself and the \"user command\" which is registered for undo were sent in parallel. This was causing issues due to the order in which the messages are handled. The issues are harder to reproduce with some commands.\r\n\r\n![undoSync1.png](https://bitbucket.org/repo/jgXqbo/images/3634482620-undoSync1.png)\r\n\r\nWe want to make sure the user command is registered before the action takes effect (to save the world state before the command). The new approach is to send the \"action\" inside the user command, and republish that message from `UserCmdManager` in the server. \r\n\r\n![undoSync2.png](https://bitbucket.org/repo/jgXqbo/images/743430199-undoSync2.png)\r\n\r\nIf this pull request gets merged, I'll make a new pull request converting the former user commands to the same style.\r\n\r\nSome considerations:\r\n\r\n1. Other subscribers to the \"action\" messages shouldn't be affected\r\n\r\n1. This makes the same information be published twice (the first time it's a message within a message)\r\n\r\n1. `user_cmd.proto` might get very big once all the command types are implemented. Consider extending the message\r\n\r\n[CI](http://build.osrfoundation.org/view/main/view/CI%20coverage%20jobs/job/gazebo-any-coverage-trusty-amd64/477/) ok", "title": "Undo resets", "destination": {"commit": {"hash": "f69b82f6e25c", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/f69b82f6e25c.json"}, "html": {"href": "#!/osrf/gazebo/commits/f69b82f6e25c"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "2f67e4873785", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/2f67e4873785.json"}, "html": {"href": "#!/osrf/gazebo/commits/2f67e4873785"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "undo_resets"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2015-11-20T17:13:07.357452+00:00"}, "pull_request": {"type": "pullrequest", "id": 1986, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1986.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1986"}}, "title": "Undo resets"}}, {"approval": {"date": "2015-11-17T18:14:05.423329+00:00", "pullrequest": {"type": "pullrequest", "id": 1986, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1986.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1986"}}, "title": "Undo resets"}, "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}}, "pull_request": {"type": "pullrequest", "id": 1986, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1986.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1986"}}, "title": "Undo resets"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1986/comments/11853545.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1986/_/diff#comment-11853545"}}, "parent": {"id": 11845302, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1986/comments/11845302.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1986/_/diff#comment-11845302"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1986, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1986.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1986"}}, "title": "Undo resets"}, "content": {"raw": "Done 2b47d3b", "markup": "markdown", "html": "<p>Done <a href=\"#!/osrf/gazebo/commits/2b47d3b\" rel=\"nofollow\" class=\"ap-connect-link\">2b47d3b</a></p>", "type": "rendered"}, "created_on": "2015-11-16T22:53:24.790244+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2015-11-16T22:53:24.792621+00:00", "type": "pullrequest_comment", "id": 11853545}, "pull_request": {"type": "pullrequest", "id": 1986, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1986.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1986"}}, "title": "Undo resets"}}, {"update": {"description": "Undo for reset commands (reset world, reset model poses, reset time)\r\n\r\nUser commands are handled a bit differently in this pull request than the user commands introduced in pull request #1934. \r\n\r\nBefore, the command action itself and the \"user command\" which is registered for undo were sent in parallel. This was causing issues due to the order in which the messages are handled. The issues are harder to reproduce with some commands.\r\n\r\n![undoSync1.png](https://bitbucket.org/repo/jgXqbo/images/3634482620-undoSync1.png)\r\n\r\nWe want to make sure the user command is registered before the action takes effect (to save the world state before the command). The new approach is to send the \"action\" inside the user command, and republish that message from `UserCmdManager` in the server. \r\n\r\n![undoSync2.png](https://bitbucket.org/repo/jgXqbo/images/743430199-undoSync2.png)\r\n\r\nIf this pull request gets merged, I'll make a new pull request converting the former user commands to the same style.\r\n\r\nSome considerations:\r\n\r\n1. Other subscribers to the \"action\" messages shouldn't be affected\r\n\r\n1. This makes the same information be published twice (the first time it's a message within a message)\r\n\r\n1. `user_cmd.proto` might get very big once all the command types are implemented. Consider extending the message\r\n\r\n[CI](http://build.osrfoundation.org/view/main/view/CI%20coverage%20jobs/job/gazebo-any-coverage-trusty-amd64/477/) ok", "title": "Undo resets", "destination": {"commit": {"hash": "23eb27c0e89f", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/23eb27c0e89f.json"}, "html": {"href": "#!/osrf/gazebo/commits/23eb27c0e89f"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "2b47d3bde7d8", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/2b47d3bde7d8.json"}, "html": {"href": "#!/osrf/gazebo/commits/2b47d3bde7d8"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "undo_resets"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2015-11-16T22:53:13.845185+00:00"}, "pull_request": {"type": "pullrequest", "id": 1986, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1986.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1986"}}, "title": "Undo resets"}}, {"update": {"description": "Undo for reset commands (reset world, reset model poses, reset time)\r\n\r\nUser commands are handled a bit differently in this pull request than the user commands introduced in pull request #1934. \r\n\r\nBefore, the command action itself and the \"user command\" which is registered for undo were sent in parallel. This was causing issues due to the order in which the messages are handled. The issues are harder to reproduce with some commands.\r\n\r\n![undoSync1.png](https://bitbucket.org/repo/jgXqbo/images/3634482620-undoSync1.png)\r\n\r\nWe want to make sure the user command is registered before the action takes effect (to save the world state before the command). The new approach is to send the \"action\" inside the user command, and republish that message from `UserCmdManager` in the server. \r\n\r\n![undoSync2.png](https://bitbucket.org/repo/jgXqbo/images/743430199-undoSync2.png)\r\n\r\nIf this pull request gets merged, I'll make a new pull request converting the former user commands to the same style.\r\n\r\nSome considerations:\r\n\r\n1. Other subscribers to the \"action\" messages shouldn't be affected\r\n\r\n1. This makes the same information be published twice (the first time it's a message within a message)\r\n\r\n1. `user_cmd.proto` might get very big once all the command types are implemented. Consider extending the message\r\n\r\n[CI](http://build.osrfoundation.org/view/main/view/CI%20coverage%20jobs/job/gazebo-any-coverage-trusty-amd64/477/) ok", "title": "Undo resets", "destination": {"commit": {"hash": "23eb27c0e89f", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/23eb27c0e89f.json"}, "html": {"href": "#!/osrf/gazebo/commits/23eb27c0e89f"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "ceb756798aa8", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/ceb756798aa8.json"}, "html": {"href": "#!/osrf/gazebo/commits/ceb756798aa8"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "undo_resets"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2015-11-16T21:32:20.007073+00:00"}, "pull_request": {"type": "pullrequest", "id": 1986, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1986.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1986"}}, "title": "Undo resets"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1986/comments/11845302.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1986/_/diff#comment-11845302"}}, "parent": {"id": 11845283, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1986/comments/11845283.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1986/_/diff#comment-11845283"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1986, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1986.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1986"}}, "title": "Undo resets"}, "content": {"raw": "should also apply to other `Load` functions in this file ", "markup": "markdown", "html": "<p>should also apply to other <code>Load</code> functions in this file </p>", "type": "rendered"}, "created_on": "2015-11-16T18:47:40.028430+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {}, "updated_on": "2015-11-16T18:47:40.030707+00:00", "type": "pullrequest_comment", "id": 11845302}, "pull_request": {"type": "pullrequest", "id": 1986, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1986.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1986"}}, "title": "Undo resets"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1986/comments/11845283.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1986/_/diff#comment-11845283"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1986, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1986.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1986"}}, "title": "Undo resets"}, "content": {"raw": "can you use `this->Load(\"worlds/shapes.world\", false, false, true)`?  this creates the client scene for the main window.", "markup": "markdown", "html": "<p>can you use <code>this-&gt;Load(\"worlds/shapes.world\", false, false, true)</code>?  this creates the client scene for the main window.</p>", "type": "rendered"}, "created_on": "2015-11-16T18:46:57.546831+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {}, "updated_on": "2015-11-16T18:46:57.549647+00:00", "type": "pullrequest_comment", "id": 11845283}, "pull_request": {"type": "pullrequest", "id": 1986, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1986.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1986"}}, "title": "Undo resets"}}, {"update": {"description": "Undo for reset commands (reset world, reset model poses, reset time)\r\n\r\nUser commands are handled a bit differently in this pull request than the user commands introduced in pull request #1934. \r\n\r\nBefore, the command action itself and the \"user command\" which is registered for undo were sent in parallel. This was causing issues due to the order in which the messages are handled. The issues are harder to reproduce with some commands.\r\n\r\n![undoSync1.png](https://bitbucket.org/repo/jgXqbo/images/3634482620-undoSync1.png)\r\n\r\nWe want to make sure the user command is registered before the action takes effect (to save the world state before the command). The new approach is to send the \"action\" inside the user command, and republish that message from `UserCmdManager` in the server. \r\n\r\n![undoSync2.png](https://bitbucket.org/repo/jgXqbo/images/743430199-undoSync2.png)\r\n\r\nIf this pull request gets merged, I'll make a new pull request converting the former user commands to the same style.\r\n\r\nSome considerations:\r\n\r\n1. Other subscribers to the \"action\" messages shouldn't be affected\r\n\r\n1. This makes the same information be published twice (the first time it's a message within a message)\r\n\r\n1. `user_cmd.proto` might get very big once all the command types are implemented. Consider extending the message\r\n\r\n[CI](http://build.osrfoundation.org/view/main/view/CI%20coverage%20jobs/job/gazebo-any-coverage-trusty-amd64/477/) ok", "title": "Undo resets", "destination": {"commit": {"hash": "674cbf794b96", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/674cbf794b96.json"}, "html": {"href": "#!/osrf/gazebo/commits/674cbf794b96"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "e78e3d8e970b", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/e78e3d8e970b.json"}, "html": {"href": "#!/osrf/gazebo/commits/e78e3d8e970b"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "undo_resets"}}, "state": "OPEN", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2015-11-13T17:09:12.720367+00:00"}, "pull_request": {"type": "pullrequest", "id": 1986, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1986.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1986"}}, "title": "Undo resets"}}, {"update": {"description": "Undo for reset commands (reset world, reset model poses, reset time)\r\n\r\nUser commands are handled a bit differently in this pull request than the user commands introduced in pull request #1934. \r\n\r\nBefore, the command action itself and the \"user command\" which is registered for undo were sent in parallel. This was causing issues due to the order in which the messages are handled. The issues are harder to reproduce with some commands.\r\n\r\n![undoSync1.png](https://bitbucket.org/repo/jgXqbo/images/3634482620-undoSync1.png)\r\n\r\nWe want to make sure the user command is registered before the action takes effect (to save the world state before the command). The new approach is to send the \"action\" inside the user command, and republish that message from `UserCmdManager` in the server. \r\n\r\n![undoSync2.png](https://bitbucket.org/repo/jgXqbo/images/743430199-undoSync2.png)\r\n\r\nIf this pull request gets merged, I'll make a new pull request converting the former user commands to the same style.\r\n\r\nSome considerations:\r\n\r\n1. Other subscribers to the \"action\" messages shouldn't be affected\r\n\r\n1. This makes the same information be published twice (the first time it's a message within a message)\r\n\r\n1. `user_cmd.proto` might get very big once all the command types are implemented. Consider extending the message\r\n\r\n[CI](http://build.osrfoundation.org/view/main/view/CI%20coverage%20jobs/job/gazebo-any-coverage-trusty-amd64/477/) ok", "title": "Undo resets", "destination": {"commit": {"hash": "674cbf794b96", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/674cbf794b96.json"}, "html": {"href": "#!/osrf/gazebo/commits/674cbf794b96"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "e78e3d8e970b", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/e78e3d8e970b.json"}, "html": {"href": "#!/osrf/gazebo/commits/e78e3d8e970b"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "undo_resets"}}, "state": "OPEN", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2015-11-13T17:09:09.091271+00:00"}, "pull_request": {"type": "pullrequest", "id": 1986, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1986.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1986"}}, "title": "Undo resets"}}, {"update": {"description": "Undo for reset commands (reset world, reset model poses, reset time)\r\n\r\nUser commands are handled a bit differently in this pull request than the user commands introduced in pull request #1934. \r\n\r\nBefore, the command action itself and the \"user command\" which is registered for undo were sent in parallel. This was causing issues due to the order in which the messages are handled. The issues are harder to reproduce with some commands.\r\n\r\n![undoSync1.png](https://bitbucket.org/repo/jgXqbo/images/3634482620-undoSync1.png)\r\n\r\nWe want to make sure the user command is registered before the action takes effect (to save the world state before the command). The new approach is to send the \"action\" inside the user command, and republish that message from `UserCmdManager` in the server. \r\n\r\n![undoSync2.png](https://bitbucket.org/repo/jgXqbo/images/743430199-undoSync2.png)\r\n\r\nIf this pull request gets merged, I'll make a new pull request converting the former user commands to the same style.\r\n\r\nSome considerations:\r\n\r\n1. Other subscribers to the \"action\" messages shouldn't be affected\r\n\r\n1. This makes the same information be published twice (the first time it's a message within a message)\r\n\r\n1. `user_cmd.proto` might get very big once all the command types are implemented. Consider extending the message\r\n\r\n[CI](http://build.osrfoundation.org/view/main/view/CI%20coverage%20jobs/job/gazebo-any-coverage-trusty-amd64/477/) ok", "title": "Undo resets", "destination": {"commit": {"hash": "674cbf794b96", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/674cbf794b96.json"}, "html": {"href": "#!/osrf/gazebo/commits/674cbf794b96"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "dcb0959eb9eb", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/dcb0959eb9eb.json"}, "html": {"href": "#!/osrf/gazebo/commits/dcb0959eb9eb"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "undo_resets"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2015-11-13T00:49:48.594008+00:00"}, "pull_request": {"type": "pullrequest", "id": 1986, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1986.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1986"}}, "title": "Undo resets"}}, {"update": {"description": "Undo for reset commands (reset world, reset model poses, reset time)\r\n\r\nUser commands are handled a bit differently in this pull request than the user commands introduced in pull request #1934. \r\n\r\nBefore, the command action itself and the \"user command\" which is registered for undo were sent in parallel. This was causing issues due to the order in which the messages are handled. The issues are harder to reproduce with some commands.\r\n\r\n![undoSync1.png](https://bitbucket.org/repo/jgXqbo/images/3634482620-undoSync1.png)\r\n\r\nWe want to make sure the user command is registered before the action takes effect (to save the world state before the command). The new approach is to send the \"action\" inside the user command, and republish that message from `UserCmdManager` in the server. \r\n\r\n![undoSync2.png](https://bitbucket.org/repo/jgXqbo/images/743430199-undoSync2.png)\r\n\r\nIf this pull request gets merged, I'll make a new pull request converting the former user commands to the same style.\r\n\r\nSome considerations:\r\n\r\n1. Other subscribers to the \"action\" messages shouldn't be affected\r\n\r\n1. This makes the same information be published twice (the first time it's a message within a message)\r\n\r\n1. `user_cmd.proto` might get very big once all the command types are implemented. Consider extending the message\r\n\r\n[CI](http://build.osrfoundation.org/view/main/view/CI%20coverage%20jobs/job/gazebo-any-coverage-trusty-amd64/477/) ok", "title": "Undo resets", "destination": {"commit": {"hash": "674cbf794b96", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/674cbf794b96.json"}, "html": {"href": "#!/osrf/gazebo/commits/674cbf794b96"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "dbddee1ef42a", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/dbddee1ef42a.json"}, "html": {"href": "#!/osrf/gazebo/commits/dbddee1ef42a"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "undo_resets"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2015-11-13T00:47:25.436271+00:00"}, "pull_request": {"type": "pullrequest", "id": 1986, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1986.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1986"}}, "title": "Undo resets"}}, {"update": {"description": "Undo for reset commands (reset world, reset model poses, reset time)\r\n\r\nUser commands are handled a bit differently in this pull request than the user commands introduced in pull request #1934. \r\n\r\nBefore, the command action itself and the \"user command\" which is registered for undo were sent in parallel. This was causing issues due to the order in which the messages are handled. The issues are harder to reproduce with some commands.\r\n\r\n![undoSync1.png](https://bitbucket.org/repo/jgXqbo/images/3634482620-undoSync1.png)\r\n\r\nWe want to make sure the user command is registered before the action takes effect (to save the world state before the command). The new approach is to send the \"action\" inside the user command, and republish that message from `UserCmdManager` in the server. \r\n\r\n![undoSync2.png](https://bitbucket.org/repo/jgXqbo/images/743430199-undoSync2.png)\r\n\r\nIf this pull request gets merged, I'll make a new pull request converting the former user commands to the same style.\r\n\r\nSome considerations:\r\n\r\n1. Other subscribers to the \"action\" messages shouldn't be affected\r\n\r\n1. This makes the same information be published twice (the first time it's a message within a message)\r\n\r\n1. `user_cmd.proto` might get very big once all the command types are implemented. Consider extending the message\r\n\r\n[CI](http://build.osrfoundation.org/view/main/view/CI%20coverage%20jobs/job/gazebo-any-coverage-trusty-amd64/477/) ok", "title": "Undo resets", "destination": {"commit": {"hash": "674cbf794b96", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/674cbf794b96.json"}, "html": {"href": "#!/osrf/gazebo/commits/674cbf794b96"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "dbddee1ef42a", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/dbddee1ef42a.json"}, "html": {"href": "#!/osrf/gazebo/commits/dbddee1ef42a"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "undo_resets"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2015-11-13T00:47:25.409189+00:00"}, "pull_request": {"type": "pullrequest", "id": 1986, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1986.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1986"}}, "title": "Undo resets"}}]}