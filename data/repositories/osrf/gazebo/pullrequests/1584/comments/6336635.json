{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1584/comments/6336635.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1584/_/diff#comment-6336635"}}, "parent": {"id": 6332232, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1584/comments/6332232.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1584/_/diff#comment-6332232"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1584, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1584.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1584"}}, "title": "Added option to show or hide toolbars and rearranged menu"}, "content": {"raw": "Oooook, I took a weird detour there but eventually got something working. 56cbe19\n\nI started trying to add the existing global actions (`g_showToolbarAct` etc) directly to the model editor menu, and even though the actions seemed to work fine both on the main window and on the editor, Qt gave warnings along the lines of \"qt already tracking action *\".\n\nI considered creating new actions similar to the main window ones, but gave up because:\n\n1. They'd have the same shortcut and I foresaw collisions\n\n1. Duplicate code\n\nSo I created the `MainWindow::CloneAction` function, and I hope the documentation explains it enough.\n\nThe weird detour was trying to make the main window the parent for the cloned actions, and then having to delete them, then trying to create a vector of actions, some of which are global, some not, some not even pure actions... So yeah, wasted some of @hugomatic's time but I now understand a bit more about pointers :)", "markup": "markdown", "html": "<p>Oooook, I took a weird detour there but eventually got something working. <a href=\"#!/osrf/gazebo/commits/56cbe19\" rel=\"nofollow\" class=\"ap-connect-link\">56cbe19</a></p>\n<p>I started trying to add the existing global actions (<code>g_showToolbarAct</code> etc) directly to the model editor menu, and even though the actions seemed to work fine both on the main window and on the editor, Qt gave warnings along the lines of \"qt already tracking action *\".</p>\n<p>I considered creating new actions similar to the main window ones, but gave up because:</p>\n<ol>\n<li>\n<p>They'd have the same shortcut and I foresaw collisions</p>\n</li>\n<li>\n<p>Duplicate code</p>\n</li>\n</ol>\n<p>So I created the <code>MainWindow::CloneAction</code> function, and I hope the documentation explains it enough.</p>\n<p>The weird detour was trying to make the main window the parent for the cloned actions, and then having to delete them, then trying to create a vector of actions, some of which are global, some not, some not even pure actions... So yeah, wasted some of @hugomatic's time but I now understand a bit more about pointers :)</p>", "type": "rendered"}, "created_on": "2015-04-17T21:43:38.280790+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2015-04-17T21:43:38.293246+00:00", "type": "pullrequest_comment", "id": 6336635}