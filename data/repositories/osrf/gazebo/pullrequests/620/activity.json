{"pagelen": 50, "values": [{"update": {"description": "The goal of this change is to remove the need, in the common case, to source Gazebo's `setup.sh`.  This is accomplished by compiling into the code, as defaults, the same values that are written into the environment variable settings in `setup.sh`.  For each environment variable, if it's not set, we take the compiled-in default; if the environment variable is set, it takes precedence over the default.\r\n\r\nAlong the way, I moved the setting of these defaults into one place, in the toplevel `CMakeLists.txt`.  Then `setup.sh.in` contains only single variable replacements, without any logic or knowledge of directory structure.\r\n\r\nIt's still OK to source `setup.sh`.  And if you want to build upon the default values (e.g., extend `GAZEBO_MODEL_PATH`), then you should first source `setup.sh` to get the defaults, then add to them (this is how drcsim's `setup.sh` will continue to work).\r\n\r\nI did not compile in the default value for `LD_LIBRARY_PATH`, and I removed the setting of it from `setup.sh.in`.  I did that because, as far as I can tell, that setting is not needed.  If that's wrong, let me know.", "title": "Add compile-time defaults for env vars (issue #781)", "destination": {"commit": {"hash": "dd765457ec03", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/dd765457ec03.json"}, "html": {"href": "#!/osrf/gazebo/commits/dd765457ec03"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "1ed2b3388b60", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/1ed2b3388b60.json"}, "html": {"href": "#!/osrf/gazebo/commits/1ed2b3388b60"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "issue_781"}}, "state": "MERGED", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2013-07-18T17:37:25.889228+00:00"}, "pull_request": {"type": "pullrequest", "id": 620, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620"}}, "title": "Add compile-time defaults for env vars (issue #781)"}}, {"approval": {"date": "2013-07-18T11:43:02.290219+00:00", "pullrequest": {"type": "pullrequest", "id": 620, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620"}}, "title": "Add compile-time defaults for env vars (issue #781)"}, "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}}, "pull_request": {"type": "pullrequest", "id": 620, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620"}}, "title": "Add compile-time defaults for env vars (issue #781)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620/comments/392126.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620/_/diff#comment-392126"}}, "parent": {"id": 390621, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620/comments/390621.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620/_/diff#comment-390621"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 620, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620"}}, "title": "Add compile-time defaults for env vars (issue #781)"}, "content": {"raw": "Arg! sorry about the late response. \n\nPositive results, all done:\nhttp://build.osrfoundation.org/job/gazebo-any-devel-precise-amd64-gpu-nvidia/1/ ", "markup": "markdown", "html": "<p>Arg! sorry about the late response. </p>\n<p>Positive results, all done:\n<a href=\"http://build.osrfoundation.org/job/gazebo-any-devel-precise-amd64-gpu-nvidia/1/\" rel=\"nofollow\" class=\"ap-connect-link\">http://build.osrfoundation.org/job/gazebo-any-devel-precise-amd64-gpu-nvidia/1/</a> </p>", "type": "rendered"}, "created_on": "2013-07-18T11:41:41.923194+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2013-07-18T11:41:41.932454+00:00", "type": "pullrequest_comment", "id": 392126}, "pull_request": {"type": "pullrequest", "id": 620, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620"}}, "title": "Add compile-time defaults for env vars (issue #781)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620/comments/390621.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620/_/diff#comment-390621"}}, "parent": {"id": 387335, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620/comments/387335.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620/_/diff#comment-387335"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 620, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620"}}, "title": "Add compile-time defaults for env vars (issue #781)"}, "content": {"raw": "Any results from the Jenkins job?", "markup": "markdown", "html": "<p>Any results from the Jenkins job?</p>", "type": "rendered"}, "created_on": "2013-07-17T22:42:52.875467+00:00", "user": {"display_name": "Brian Gerkey", "uuid": "{3d8b5763-9dad-4be7-85c2-a7ab6cd49173}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D"}, "html": {"href": "https://bitbucket.org/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9/5fa9ec73-0fec-4860-a202-e34ae23b6a12/128"}}, "nickname": "Brian Gerkey", "type": "user", "account_id": "557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9"}, "updated_on": "2013-07-17T22:42:52.884836+00:00", "type": "pullrequest_comment", "id": 390621}, "pull_request": {"type": "pullrequest", "id": 620, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620"}}, "title": "Add compile-time defaults for env vars (issue #781)"}}, {"approval": {"date": "2013-07-17T21:15:32.508188+00:00", "pullrequest": {"type": "pullrequest", "id": 620, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620"}}, "title": "Add compile-time defaults for env vars (issue #781)"}, "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}}, "pull_request": {"type": "pullrequest", "id": 620, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620"}}, "title": "Add compile-time defaults for env vars (issue #781)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620/comments/390430.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620/_/diff#comment-390430"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 620, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620"}}, "title": "Add compile-time defaults for env vars (issue #781)"}, "content": {"raw": "Just a note that now the env variable `GAZEBO_RESOURCE_PATH` is empty, users would still need to source `setup.sh` first in order to append custom paths to `GAZEBO_RESOURCE_PATH` if they wish to use models located in non-default directories. This is a good change nevertheless. \n\n", "markup": "markdown", "html": "<p>Just a note that now the env variable <code>GAZEBO_RESOURCE_PATH</code> is empty, users would still need to source <code>setup.sh</code> first in order to append custom paths to <code>GAZEBO_RESOURCE_PATH</code> if they wish to use models located in non-default directories. This is a good change nevertheless. </p>", "type": "rendered"}, "created_on": "2013-07-17T21:15:18.833726+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2013-07-17T21:15:18.842501+00:00", "type": "pullrequest_comment", "id": 390430}, "pull_request": {"type": "pullrequest", "id": 620, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620"}}, "title": "Add compile-time defaults for env vars (issue #781)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620/comments/387335.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620/_/diff#comment-387335"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 620, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620"}}, "title": "Add compile-time defaults for env vars (issue #781)"}, "content": {"raw": "I created a branch in release-tools removing all sourcing of gazebo/setup.sh and a test run in schedule in jenkins for this pull request. If results are sane, we are done. Good job.", "markup": "markdown", "html": "<p>I created a branch in release-tools removing all sourcing of gazebo/setup.sh and a test run in schedule in jenkins for this pull request. If results are sane, we are done. Good job.</p>", "type": "rendered"}, "created_on": "2013-07-17T00:39:30.330792+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2013-07-17T00:39:30.338842+00:00", "type": "pullrequest_comment", "id": 387335}, "pull_request": {"type": "pullrequest", "id": 620, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620"}}, "title": "Add compile-time defaults for env vars (issue #781)"}}, {"approval": {"date": "2013-07-17T00:37:23.535048+00:00", "pullrequest": {"type": "pullrequest", "id": 620, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620"}}, "title": "Add compile-time defaults for env vars (issue #781)"}, "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}}, "pull_request": {"type": "pullrequest", "id": 620, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620"}}, "title": "Add compile-time defaults for env vars (issue #781)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620/comments/387328.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620/_/diff#comment-387328"}}, "parent": {"id": 387314, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620/comments/387314.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620/_/diff#comment-387314"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 620, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620"}}, "title": "Add compile-time defaults for env vars (issue #781)"}, "content": {"raw": "I can even pass the Turing test!", "markup": "markdown", "html": "<p>I can even pass the Turing test!</p>", "type": "rendered"}, "created_on": "2013-07-17T00:35:24.309301+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2013-07-17T00:35:24.316610+00:00", "type": "pullrequest_comment", "id": 387328}, "pull_request": {"type": "pullrequest", "id": 620, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620"}}, "title": "Add compile-time defaults for env vars (issue #781)"}}, {"update": {"description": "The goal of this change is to remove the need, in the common case, to source Gazebo's `setup.sh`.  This is accomplished by compiling into the code, as defaults, the same values that are written into the environment variable settings in `setup.sh`.  For each environment variable, if it's not set, we take the compiled-in default; if the environment variable is set, it takes precedence over the default.\r\n\r\nAlong the way, I moved the setting of these defaults into one place, in the toplevel `CMakeLists.txt`.  Then `setup.sh.in` contains only single variable replacements, without any logic or knowledge of directory structure.\r\n\r\nIt's still OK to source `setup.sh`.  And if you want to build upon the default values (e.g., extend `GAZEBO_MODEL_PATH`), then you should first source `setup.sh` to get the defaults, then add to them (this is how drcsim's `setup.sh` will continue to work).\r\n\r\nI did not compile in the default value for `LD_LIBRARY_PATH`, and I removed the setting of it from `setup.sh.in`.  I did that because, as far as I can tell, that setting is not needed.  If that's wrong, let me know.", "title": "Add compile-time defaults for env vars (issue #781)", "destination": {"commit": {"hash": "bd34b42f67d2", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/bd34b42f67d2.json"}, "html": {"href": "#!/osrf/gazebo/commits/bd34b42f67d2"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "1ed2b3388b60", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/1ed2b3388b60.json"}, "html": {"href": "#!/osrf/gazebo/commits/1ed2b3388b60"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "issue_781"}}, "state": "OPEN", "author": {"display_name": "Brian Gerkey", "uuid": "{3d8b5763-9dad-4be7-85c2-a7ab6cd49173}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D"}, "html": {"href": "https://bitbucket.org/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9/5fa9ec73-0fec-4860-a202-e34ae23b6a12/128"}}, "nickname": "Brian Gerkey", "type": "user", "account_id": "557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9"}, "date": "2013-07-17T00:34:02.651380+00:00"}, "pull_request": {"type": "pullrequest", "id": 620, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620"}}, "title": "Add compile-time defaults for env vars (issue #781)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620/comments/387315.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620/_/diff#comment-387315"}}, "parent": {"id": 387294, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620/comments/387294.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620/_/diff#comment-387294"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 620, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620"}}, "title": "Add compile-time defaults for env vars (issue #781)"}, "content": {"raw": "`code_check.sh` agrees.  Fixed in 9df542a.", "markup": "markdown", "html": "<p><code>code_check.sh</code> agrees.  Fixed in <a href=\"#!/osrf/gazebo/commits/9df542a\" rel=\"nofollow\" class=\"ap-connect-link\">9df542a</a>.</p>", "type": "rendered"}, "created_on": "2013-07-17T00:25:12.294556+00:00", "user": {"display_name": "Brian Gerkey", "uuid": "{3d8b5763-9dad-4be7-85c2-a7ab6cd49173}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D"}, "html": {"href": "https://bitbucket.org/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9/5fa9ec73-0fec-4860-a202-e34ae23b6a12/128"}}, "nickname": "Brian Gerkey", "type": "user", "account_id": "557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9"}, "inline": {}, "updated_on": "2013-07-17T00:25:12.302658+00:00", "type": "pullrequest_comment", "id": 387315}, "pull_request": {"type": "pullrequest", "id": 620, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620"}}, "title": "Add compile-time defaults for env vars (issue #781)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620/comments/387314.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620/_/diff#comment-387314"}}, "parent": {"id": 387271, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620/comments/387271.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620/_/diff#comment-387271"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 620, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620"}}, "title": "Add compile-time defaults for env vars (issue #781)"}, "content": {"raw": "You're like a walking, talking code checker :)\n\nFixed in 9df542a.", "markup": "markdown", "html": "<p>You're like a walking, talking code checker :)</p>\n<p>Fixed in <a href=\"#!/osrf/gazebo/commits/9df542a\" rel=\"nofollow\" class=\"ap-connect-link\">9df542a</a>.</p>", "type": "rendered"}, "created_on": "2013-07-17T00:24:48.315176+00:00", "user": {"display_name": "Brian Gerkey", "uuid": "{3d8b5763-9dad-4be7-85c2-a7ab6cd49173}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D"}, "html": {"href": "https://bitbucket.org/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9/5fa9ec73-0fec-4860-a202-e34ae23b6a12/128"}}, "nickname": "Brian Gerkey", "type": "user", "account_id": "557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9"}, "inline": {}, "updated_on": "2013-07-17T00:24:48.324851+00:00", "type": "pullrequest_comment", "id": 387314}, "pull_request": {"type": "pullrequest", "id": 620, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620"}}, "title": "Add compile-time defaults for env vars (issue #781)"}}, {"update": {"description": "The goal of this change is to remove the need, in the common case, to source Gazebo's `setup.sh`.  This is accomplished by compiling into the code, as defaults, the same values that are written into the environment variable settings in `setup.sh`.  For each environment variable, if it's not set, we take the compiled-in default; if the environment variable is set, it takes precedence over the default.\r\n\r\nAlong the way, I moved the setting of these defaults into one place, in the toplevel `CMakeLists.txt`.  Then `setup.sh.in` contains only single variable replacements, without any logic or knowledge of directory structure.\r\n\r\nIt's still OK to source `setup.sh`.  And if you want to build upon the default values (e.g., extend `GAZEBO_MODEL_PATH`), then you should first source `setup.sh` to get the defaults, then add to them (this is how drcsim's `setup.sh` will continue to work).\r\n\r\nI did not compile in the default value for `LD_LIBRARY_PATH`, and I removed the setting of it from `setup.sh.in`.  I did that because, as far as I can tell, that setting is not needed.  If that's wrong, let me know.", "title": "Add compile-time defaults for env vars (issue #781)", "destination": {"commit": {"hash": "bd34b42f67d2", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/bd34b42f67d2.json"}, "html": {"href": "#!/osrf/gazebo/commits/bd34b42f67d2"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "9df542aa39f0", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/9df542aa39f0.json"}, "html": {"href": "#!/osrf/gazebo/commits/9df542aa39f0"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "issue_781"}}, "state": "OPEN", "author": {"display_name": "Brian Gerkey", "uuid": "{3d8b5763-9dad-4be7-85c2-a7ab6cd49173}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D"}, "html": {"href": "https://bitbucket.org/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9/5fa9ec73-0fec-4860-a202-e34ae23b6a12/128"}}, "nickname": "Brian Gerkey", "type": "user", "account_id": "557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9"}, "date": "2013-07-17T00:24:10.810216+00:00"}, "pull_request": {"type": "pullrequest", "id": 620, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620"}}, "title": "Add compile-time defaults for env vars (issue #781)"}}, {"update": {"description": "The goal of this change is to remove the need, in the common case, to source Gazebo's `setup.sh`.  This is accomplished by compiling into the code, as defaults, the same values that are written into the environment variable settings in `setup.sh`.  For each environment variable, if it's not set, we take the compiled-in default; if the environment variable is set, it takes precedence over the default.\r\n\r\nAlong the way, I moved the setting of these defaults into one place, in the toplevel `CMakeLists.txt`.  Then `setup.sh.in` contains only single variable replacements, without any logic or knowledge of directory structure.\r\n\r\nIt's still OK to source `setup.sh`.  And if you want to build upon the default values (e.g., extend `GAZEBO_MODEL_PATH`), then you should first source `setup.sh` to get the defaults, then add to them (this is how drcsim's `setup.sh` will continue to work).\r\n\r\nI did not compile in the default value for `LD_LIBRARY_PATH`, and I removed the setting of it from `setup.sh.in`.  I did that because, as far as I can tell, that setting is not needed.  If that's wrong, let me know.", "title": "Add compile-time defaults for env vars (issue #781)", "destination": {"commit": {"hash": "bd34b42f67d2", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/bd34b42f67d2.json"}, "html": {"href": "#!/osrf/gazebo/commits/bd34b42f67d2"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "9df542aa39f0", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/9df542aa39f0.json"}, "html": {"href": "#!/osrf/gazebo/commits/9df542aa39f0"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "issue_781"}}, "state": "OPEN", "author": {"display_name": "Brian Gerkey", "uuid": "{3d8b5763-9dad-4be7-85c2-a7ab6cd49173}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D"}, "html": {"href": "https://bitbucket.org/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9/5fa9ec73-0fec-4860-a202-e34ae23b6a12/128"}}, "nickname": "Brian Gerkey", "type": "user", "account_id": "557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9"}, "date": "2013-07-17T00:23:31.606580+00:00"}, "pull_request": {"type": "pullrequest", "id": 620, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620"}}, "title": "Add compile-time defaults for env vars (issue #781)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620/comments/387294.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620/_/diff#comment-387294"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 620, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620"}}, "title": "Add compile-time defaults for env vars (issue #781)"}, "content": {"raw": "This line is longer than 80 characters.", "markup": "markdown", "html": "<p>This line is longer than 80 characters.</p>", "type": "rendered"}, "created_on": "2013-07-17T00:18:44.504663+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2013-07-17T00:18:44.517502+00:00", "type": "pullrequest_comment", "id": 387294}, "pull_request": {"type": "pullrequest", "id": 620, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620"}}, "title": "Add compile-time defaults for env vars (issue #781)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620/comments/387278.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620/_/diff#comment-387278"}}, "parent": {"id": 387248, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620/comments/387248.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620/_/diff#comment-387248"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 620, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620"}}, "title": "Add compile-time defaults for env vars (issue #781)"}, "content": {"raw": "Thanks for the example!\n\nFixed `transport/CMakeLists.txt` and `common/CMakeLists.txt` in a0ad051.", "markup": "markdown", "html": "<p>Thanks for the example!</p>\n<p>Fixed <code>transport/CMakeLists.txt</code> and <code>common/CMakeLists.txt</code> in <a href=\"#!/osrf/gazebo/commits/a0ad051\" rel=\"nofollow\" class=\"ap-connect-link\">a0ad051</a>.</p>", "type": "rendered"}, "created_on": "2013-07-17T00:05:26.571317+00:00", "user": {"display_name": "Brian Gerkey", "uuid": "{3d8b5763-9dad-4be7-85c2-a7ab6cd49173}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D"}, "html": {"href": "https://bitbucket.org/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9/5fa9ec73-0fec-4860-a202-e34ae23b6a12/128"}}, "nickname": "Brian Gerkey", "type": "user", "account_id": "557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9"}, "inline": {}, "updated_on": "2013-07-17T00:05:26.580390+00:00", "type": "pullrequest_comment", "id": 387278}, "pull_request": {"type": "pullrequest", "id": 620, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620"}}, "title": "Add compile-time defaults for env vars (issue #781)"}}, {"update": {"description": "The goal of this change is to remove the need, in the common case, to source Gazebo's `setup.sh`.  This is accomplished by compiling into the code, as defaults, the same values that are written into the environment variable settings in `setup.sh`.  For each environment variable, if it's not set, we take the compiled-in default; if the environment variable is set, it takes precedence over the default.\r\n\r\nAlong the way, I moved the setting of these defaults into one place, in the toplevel `CMakeLists.txt`.  Then `setup.sh.in` contains only single variable replacements, without any logic or knowledge of directory structure.\r\n\r\nIt's still OK to source `setup.sh`.  And if you want to build upon the default values (e.g., extend `GAZEBO_MODEL_PATH`), then you should first source `setup.sh` to get the defaults, then add to them (this is how drcsim's `setup.sh` will continue to work).\r\n\r\nI did not compile in the default value for `LD_LIBRARY_PATH`, and I removed the setting of it from `setup.sh.in`.  I did that because, as far as I can tell, that setting is not needed.  If that's wrong, let me know.", "title": "Add compile-time defaults for env vars (issue #781)", "destination": {"commit": {"hash": "bd34b42f67d2", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/bd34b42f67d2.json"}, "html": {"href": "#!/osrf/gazebo/commits/bd34b42f67d2"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "a0ad05178be0", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/a0ad05178be0.json"}, "html": {"href": "#!/osrf/gazebo/commits/a0ad05178be0"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "issue_781"}}, "state": "OPEN", "author": {"display_name": "Brian Gerkey", "uuid": "{3d8b5763-9dad-4be7-85c2-a7ab6cd49173}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D"}, "html": {"href": "https://bitbucket.org/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9/5fa9ec73-0fec-4860-a202-e34ae23b6a12/128"}}, "nickname": "Brian Gerkey", "type": "user", "account_id": "557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9"}, "date": "2013-07-17T00:04:27.599257+00:00"}, "pull_request": {"type": "pullrequest", "id": 620, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620"}}, "title": "Add compile-time defaults for env vars (issue #781)"}}, {"update": {"description": "The goal of this change is to remove the need, in the common case, to source Gazebo's `setup.sh`.  This is accomplished by compiling into the code, as defaults, the same values that are written into the environment variable settings in `setup.sh`.  For each environment variable, if it's not set, we take the compiled-in default; if the environment variable is set, it takes precedence over the default.\r\n\r\nAlong the way, I moved the setting of these defaults into one place, in the toplevel `CMakeLists.txt`.  Then `setup.sh.in` contains only single variable replacements, without any logic or knowledge of directory structure.\r\n\r\nIt's still OK to source `setup.sh`.  And if you want to build upon the default values (e.g., extend `GAZEBO_MODEL_PATH`), then you should first source `setup.sh` to get the defaults, then add to them (this is how drcsim's `setup.sh` will continue to work).\r\n\r\nI did not compile in the default value for `LD_LIBRARY_PATH`, and I removed the setting of it from `setup.sh.in`.  I did that because, as far as I can tell, that setting is not needed.  If that's wrong, let me know.", "title": "Add compile-time defaults for env vars (issue #781)", "destination": {"commit": {"hash": "bd34b42f67d2", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/bd34b42f67d2.json"}, "html": {"href": "#!/osrf/gazebo/commits/bd34b42f67d2"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "a0ad05178be0", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/a0ad05178be0.json"}, "html": {"href": "#!/osrf/gazebo/commits/a0ad05178be0"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "issue_781"}}, "state": "OPEN", "author": {"display_name": "Brian Gerkey", "uuid": "{3d8b5763-9dad-4be7-85c2-a7ab6cd49173}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D"}, "html": {"href": "https://bitbucket.org/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9/5fa9ec73-0fec-4860-a202-e34ae23b6a12/128"}}, "nickname": "Brian Gerkey", "type": "user", "account_id": "557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9"}, "date": "2013-07-17T00:03:45.476954+00:00"}, "pull_request": {"type": "pullrequest", "id": 620, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620"}}, "title": "Add compile-time defaults for env vars (issue #781)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620/comments/387271.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620/_/diff#comment-387271"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 620, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620"}}, "title": "Add compile-time defaults for env vars (issue #781)"}, "content": {"raw": "I think `code_check.sh` will complain that the `#include \"*\"` should come after the `#include <*>`.", "markup": "markdown", "html": "<p>I think <code>code_check.sh</code> will complain that the <code>#include \"*\"</code> should come after the <code>#include &lt;*&gt;</code>.</p>", "type": "rendered"}, "created_on": "2013-07-17T00:01:40.281949+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2013-07-17T00:01:40.290298+00:00", "type": "pullrequest_comment", "id": 387271}, "pull_request": {"type": "pullrequest", "id": 620, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620"}}, "title": "Add compile-time defaults for env vars (issue #781)"}}, {"update": {"description": "The goal of this change is to remove the need, in the common case, to source Gazebo's `setup.sh`.  This is accomplished by compiling into the code, as defaults, the same values that are written into the environment variable settings in `setup.sh`.  For each environment variable, if it's not set, we take the compiled-in default; if the environment variable is set, it takes precedence over the default.\r\n\r\nAlong the way, I moved the setting of these defaults into one place, in the toplevel `CMakeLists.txt`.  Then `setup.sh.in` contains only single variable replacements, without any logic or knowledge of directory structure.\r\n\r\nIt's still OK to source `setup.sh`.  And if you want to build upon the default values (e.g., extend `GAZEBO_MODEL_PATH`), then you should first source `setup.sh` to get the defaults, then add to them (this is how drcsim's `setup.sh` will continue to work).\r\n\r\nI did not compile in the default value for `LD_LIBRARY_PATH`, and I removed the setting of it from `setup.sh.in`.  I did that because, as far as I can tell, that setting is not needed.  If that's wrong, let me know.", "title": "Add compile-time defaults for env vars (issue #781)", "destination": {"commit": {"hash": "bd34b42f67d2", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/bd34b42f67d2.json"}, "html": {"href": "#!/osrf/gazebo/commits/bd34b42f67d2"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "a5caceb0c064", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/a5caceb0c064.json"}, "html": {"href": "#!/osrf/gazebo/commits/a5caceb0c064"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "issue_781"}}, "state": "OPEN", "author": {"display_name": "Brian Gerkey", "uuid": "{3d8b5763-9dad-4be7-85c2-a7ab6cd49173}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D"}, "html": {"href": "https://bitbucket.org/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9/5fa9ec73-0fec-4860-a202-e34ae23b6a12/128"}}, "nickname": "Brian Gerkey", "type": "user", "account_id": "557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9"}, "date": "2013-07-16T23:55:01.564356+00:00"}, "pull_request": {"type": "pullrequest", "id": 620, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620"}}, "title": "Add compile-time defaults for env vars (issue #781)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620/comments/387258.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620/_/diff#comment-387258"}}, "parent": {"id": 387250, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620/comments/387250.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620/_/diff#comment-387250"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 620, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620"}}, "title": "Add compile-time defaults for env vars (issue #781)"}, "content": {"raw": "a5caceb ", "markup": "markdown", "html": "<p><a href=\"#!/osrf/gazebo/commits/a5caceb\" rel=\"nofollow\" class=\"ap-connect-link\">a5caceb</a> </p>", "type": "rendered"}, "created_on": "2013-07-16T23:54:06.833749+00:00", "user": {"display_name": "Brian Gerkey", "uuid": "{3d8b5763-9dad-4be7-85c2-a7ab6cd49173}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D"}, "html": {"href": "https://bitbucket.org/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9/5fa9ec73-0fec-4860-a202-e34ae23b6a12/128"}}, "nickname": "Brian Gerkey", "type": "user", "account_id": "557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9"}, "updated_on": "2013-07-16T23:54:06.851729+00:00", "type": "pullrequest_comment", "id": 387258}, "pull_request": {"type": "pullrequest", "id": 620, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620"}}, "title": "Add compile-time defaults for env vars (issue #781)"}}, {"update": {"description": "The goal of this change is to remove the need, in the common case, to source Gazebo's `setup.sh`.  This is accomplished by compiling into the code, as defaults, the same values that are written into the environment variable settings in `setup.sh`.  For each environment variable, if it's not set, we take the compiled-in default; if the environment variable is set, it takes precedence over the default.\r\n\r\nAlong the way, I moved the setting of these defaults into one place, in the toplevel `CMakeLists.txt`.  Then `setup.sh.in` contains only single variable replacements, without any logic or knowledge of directory structure.\r\n\r\nIt's still OK to source `setup.sh`.  And if you want to build upon the default values (e.g., extend `GAZEBO_MODEL_PATH`), then you should first source `setup.sh` to get the defaults, then add to them (this is how drcsim's `setup.sh` will continue to work).\r\n\r\nI did not compile in the default value for `LD_LIBRARY_PATH`, and I removed the setting of it from `setup.sh.in`.  I did that because, as far as I can tell, that setting is not needed.  If that's wrong, let me know.", "title": "Add compile-time defaults for env vars (issue #781)", "destination": {"commit": {"hash": "bd34b42f67d2", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/bd34b42f67d2.json"}, "html": {"href": "#!/osrf/gazebo/commits/bd34b42f67d2"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "a5caceb0c064", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/a5caceb0c064.json"}, "html": {"href": "#!/osrf/gazebo/commits/a5caceb0c064"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "issue_781"}}, "state": "OPEN", "author": {"display_name": "Brian Gerkey", "uuid": "{3d8b5763-9dad-4be7-85c2-a7ab6cd49173}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D"}, "html": {"href": "https://bitbucket.org/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9/5fa9ec73-0fec-4860-a202-e34ae23b6a12/128"}}, "nickname": "Brian Gerkey", "type": "user", "account_id": "557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9"}, "date": "2013-07-16T23:53:49.198004+00:00"}, "pull_request": {"type": "pullrequest", "id": 620, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620"}}, "title": "Add compile-time defaults for env vars (issue #781)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620/comments/387250.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620/_/diff#comment-387250"}}, "parent": {"id": 387224, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620/comments/387224.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620/_/diff#comment-387224"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 620, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620"}}, "title": "Add compile-time defaults for env vars (issue #781)"}, "content": {"raw": "I'm working on that now.", "markup": "markdown", "html": "<p>I'm working on that now.</p>", "type": "rendered"}, "created_on": "2013-07-16T23:46:49.316560+00:00", "user": {"display_name": "Brian Gerkey", "uuid": "{3d8b5763-9dad-4be7-85c2-a7ab6cd49173}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D"}, "html": {"href": "https://bitbucket.org/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9/5fa9ec73-0fec-4860-a202-e34ae23b6a12/128"}}, "nickname": "Brian Gerkey", "type": "user", "account_id": "557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9"}, "updated_on": "2013-07-16T23:46:49.328848+00:00", "type": "pullrequest_comment", "id": 387250}, "pull_request": {"type": "pullrequest", "id": 620, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620"}}, "title": "Add compile-time defaults for env vars (issue #781)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620/comments/387248.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620/_/diff#comment-387248"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 620, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620"}}, "title": "Add compile-time defaults for env vars (issue #781)"}, "content": {"raw": "```\ndiff -r c2f6c43d5400 gazebo/transport/CMakeLists.txt\n--- a/gazebo/transport/CMakeLists.txt\tTue Jul 16 15:18:50 2013 -0700\n+++ b/gazebo/transport/CMakeLists.txt\tWed Jul 17 01:42:13 2013 +0200\n@@ -40,12 +40,12 @@\n configure_file (${CMAKE_CURRENT_SOURCE_DIR}/transport.hh.in\n                 ${CMAKE_CURRENT_BINARY_DIR}/transport.hh )\n \n-# It should suffice to call set_source_files_properties specifically on\n-# Transport.cc, but that didn't work for me.\n-add_definitions(-DGAZEBO_DEFAULT_MASTER_HOST=\"${GAZEBO_DEFAULT_MASTER_HOST}\")\n-# No quotes around the port because we want the preprocessor symbol to be an\n-# integer.\n-add_definitions(-DGAZEBO_DEFAULT_MASTER_PORT=${GAZEBO_DEFAULT_MASTER_PORT})\n+set_property(\n+  SOURCE Transport.cc\n+  PROPERTY COMPILE_DEFINITIONS\n+  GAZEBO_DEFAULT_MASTER_HOST=\"${GAZEBO_DEFAULT_MASTER_HOST}\"\n+  GAZEBO_DEFAULT_MASTER_PORT=${GAZEBO_DEFAULT_MASTER_PORT}\n+)\n \n gz_add_library(gazebo_transport ${sources})\n target_link_libraries(gazebo_transport\n```\ncould do the trick. \n\nSpecial care with file names while using set_property, cmake will silently ignore an error in the name such as Transport.cpp and won't generate an error.\n", "markup": "markdown", "html": "<div class=\"codehilite\"><pre><span></span><span class=\"gh\">diff -r c2f6c43d5400 gazebo/transport/CMakeLists.txt</span>\n<span class=\"gd\">--- a/gazebo/transport/CMakeLists.txt   Tue Jul 16 15:18:50 2013 -0700</span>\n<span class=\"gi\">+++ b/gazebo/transport/CMakeLists.txt   Wed Jul 17 01:42:13 2013 +0200</span>\n<span class=\"gu\">@@ -40,12 +40,12 @@</span>\n configure_file (${CMAKE_CURRENT_SOURCE_DIR}/transport.hh.in\n                 ${CMAKE_CURRENT_BINARY_DIR}/transport.hh )\n\n<span class=\"gd\">-# It should suffice to call set_source_files_properties specifically on</span>\n<span class=\"gd\">-# Transport.cc, but that didn&#39;t work for me.</span>\n<span class=\"gd\">-add_definitions(-DGAZEBO_DEFAULT_MASTER_HOST=&quot;${GAZEBO_DEFAULT_MASTER_HOST}&quot;)</span>\n<span class=\"gd\">-# No quotes around the port because we want the preprocessor symbol to be an</span>\n<span class=\"gd\">-# integer.</span>\n<span class=\"gd\">-add_definitions(-DGAZEBO_DEFAULT_MASTER_PORT=${GAZEBO_DEFAULT_MASTER_PORT})</span>\n<span class=\"gi\">+set_property(</span>\n<span class=\"gi\">+  SOURCE Transport.cc</span>\n<span class=\"gi\">+  PROPERTY COMPILE_DEFINITIONS</span>\n<span class=\"gi\">+  GAZEBO_DEFAULT_MASTER_HOST=&quot;${GAZEBO_DEFAULT_MASTER_HOST}&quot;</span>\n<span class=\"gi\">+  GAZEBO_DEFAULT_MASTER_PORT=${GAZEBO_DEFAULT_MASTER_PORT}</span>\n<span class=\"gi\">+)</span>\n\n gz_add_library(gazebo_transport ${sources})\n target_link_libraries(gazebo_transport\n</pre></div>\n\n\n<p>could do the trick. </p>\n<p>Special care with file names while using set_property, cmake will silently ignore an error in the name such as Transport.cpp and won't generate an error.</p>", "type": "rendered"}, "created_on": "2013-07-16T23:44:31.209626+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "inline": {}, "updated_on": "2013-07-16T23:44:31.217323+00:00", "type": "pullrequest_comment", "id": 387248}, "pull_request": {"type": "pullrequest", "id": 620, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620"}}, "title": "Add compile-time defaults for env vars (issue #781)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620/comments/387247.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620/_/diff#comment-387247"}}, "parent": {"id": 387233, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620/comments/387233.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620/_/diff#comment-387233"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 620, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620"}}, "title": "Add compile-time defaults for env vars (issue #781)"}, "content": {"raw": "Yeah I couldn't get it to fail either, so I think it's probably fine.\n\nAlso, this will be super awesome.", "markup": "markdown", "html": "<p>Yeah I couldn't get it to fail either, so I think it's probably fine.</p>\n<p>Also, this will be super awesome.</p>", "type": "rendered"}, "created_on": "2013-07-16T23:44:23.552729+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2013-07-16T23:44:23.561563+00:00", "type": "pullrequest_comment", "id": 387247}, "pull_request": {"type": "pullrequest", "id": 620, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620"}}, "title": "Add compile-time defaults for env vars (issue #781)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620/comments/387233.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620/_/diff#comment-387233"}}, "parent": {"id": 387144, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620/comments/387144.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620/_/diff#comment-387144"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 620, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620"}}, "title": "Add compile-time defaults for env vars (issue #781)"}, "content": {"raw": "I was able to run `gazebo share/gazebo-1.9/worlds/depth_camera.world`, which loads the `libDepthCameraPlugin.so` plugin.  I tried some others, and they also worked.  It would seem that the plugin loading code in Gazebo is resolving the plugin names to full paths before loading them, which is good.\n\nThe situation in which the `LD_LIBRARY_PATH` setting would be needed is if one plugin library depends on another one.  Then when Gazebo tries to load the first library, it will fail because the loader can't resolve dependencies.  I checked for this in the current set of plugins and didn't see any cross-plugin dependencies (`cd lib/gazebo-1.9/plugins; ldd * | grep plugins`).\n", "markup": "markdown", "html": "<p>I was able to run <code>gazebo share/gazebo-1.9/worlds/depth_camera.world</code>, which loads the <code>libDepthCameraPlugin.so</code> plugin.  I tried some others, and they also worked.  It would seem that the plugin loading code in Gazebo is resolving the plugin names to full paths before loading them, which is good.</p>\n<p>The situation in which the <code>LD_LIBRARY_PATH</code> setting would be needed is if one plugin library depends on another one.  Then when Gazebo tries to load the first library, it will fail because the loader can't resolve dependencies.  I checked for this in the current set of plugins and didn't see any cross-plugin dependencies (<code>cd lib/gazebo-1.9/plugins; ldd * | grep plugins</code>).</p>", "type": "rendered"}, "created_on": "2013-07-16T23:38:22.830075+00:00", "user": {"display_name": "Brian Gerkey", "uuid": "{3d8b5763-9dad-4be7-85c2-a7ab6cd49173}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D"}, "html": {"href": "https://bitbucket.org/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9/5fa9ec73-0fec-4860-a202-e34ae23b6a12/128"}}, "nickname": "Brian Gerkey", "type": "user", "account_id": "557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9"}, "updated_on": "2013-07-16T23:38:22.844556+00:00", "type": "pullrequest_comment", "id": 387233}, "pull_request": {"type": "pullrequest", "id": 620, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620"}}, "title": "Add compile-time defaults for env vars (issue #781)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620/comments/387224.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620/_/diff#comment-387224"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 620, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620"}}, "title": "Add compile-time defaults for env vars (issue #781)"}, "content": {"raw": "The `gazebo/common/SystemPaths_TEST` is failing because it expects environment variables to be set. We should alter the test to match the new functionality.", "markup": "markdown", "html": "<p>The <code>gazebo/common/SystemPaths_TEST</code> is failing because it expects environment variables to be set. We should alter the test to match the new functionality.</p>", "type": "rendered"}, "created_on": "2013-07-16T23:32:58.336654+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2013-07-16T23:32:58.343743+00:00", "type": "pullrequest_comment", "id": 387224}, "pull_request": {"type": "pullrequest", "id": 620, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620"}}, "title": "Add compile-time defaults for env vars (issue #781)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620/comments/387144.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620/_/diff#comment-387144"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 620, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620"}}, "title": "Add compile-time defaults for env vars (issue #781)"}, "content": {"raw": "The `LD_LIBRARY_PATH` is pointing to the plugin folder. I'll test some code with plugins to see if it is needed.", "markup": "markdown", "html": "<p>The <code>LD_LIBRARY_PATH</code> is pointing to the plugin folder. I'll test some code with plugins to see if it is needed.</p>", "type": "rendered"}, "created_on": "2013-07-16T22:34:52.720555+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2013-07-16T22:34:52.729504+00:00", "type": "pullrequest_comment", "id": 387144}, "pull_request": {"type": "pullrequest", "id": 620, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620"}}, "title": "Add compile-time defaults for env vars (issue #781)"}}, {"update": {"description": "The goal of this change is to remove the need, in the common case, to source Gazebo's `setup.sh`.  This is accomplished by compiling into the code, as defaults, the same values that are written into the environment variable settings in `setup.sh`.  For each environment variable, if it's not set, we take the compiled-in default; if the environment variable is set, it takes precedence over the default.\r\n\r\nAlong the way, I moved the setting of these defaults into one place, in the toplevel `CMakeLists.txt`.  Then `setup.sh.in` contains only single variable replacements, without any logic or knowledge of directory structure.\r\n\r\nIt's still OK to source `setup.sh`.  And if you want to build upon the default values (e.g., extend `GAZEBO_MODEL_PATH`), then you should first source `setup.sh` to get the defaults, then add to them (this is how drcsim's `setup.sh` will continue to work).\r\n\r\nI did not compile in the default value for `LD_LIBRARY_PATH`, and I removed the setting of it from `setup.sh.in`.  I did that because, as far as I can tell, that setting is not needed.  If that's wrong, let me know.", "title": "Add compile-time defaults for env vars (issue #781)", "destination": {"commit": {"hash": "bd34b42f67d2", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/bd34b42f67d2.json"}, "html": {"href": "#!/osrf/gazebo/commits/bd34b42f67d2"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "c2f6c43d5400", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/c2f6c43d5400.json"}, "html": {"href": "#!/osrf/gazebo/commits/c2f6c43d5400"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "issue_781"}}, "state": "OPEN", "author": {"display_name": "Brian Gerkey", "uuid": "{3d8b5763-9dad-4be7-85c2-a7ab6cd49173}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D"}, "html": {"href": "https://bitbucket.org/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9/5fa9ec73-0fec-4860-a202-e34ae23b6a12/128"}}, "nickname": "Brian Gerkey", "type": "user", "account_id": "557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9"}, "date": "2013-07-16T22:27:15.850764+00:00"}, "pull_request": {"type": "pullrequest", "id": 620, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620"}}, "title": "Add compile-time defaults for env vars (issue #781)"}}, {"update": {"description": "The goal of this change is to remove the need, in the common case, to source Gazebo's `setup.sh`.  This is accomplished by compiling into the code, as defaults, the same values that are written into the environment variable settings in `setup.sh`.  For each environment variable, if it's not set, we take the compiled-in default; if the environment variable is set, it takes precedence over the default.\r\n\r\nAlong the way, I moved the setting of these defaults into one place, in the toplevel `CMakeLists.txt`.  Then `setup.sh.in` contains only single variable replacements, without any logic or knowledge of directory structure.\r\n\r\nIt's still OK to source `setup.sh`.  And if you want to build upon the default values (e.g., extend `GAZEBO_MODEL_PATH`), then you should first source `setup.sh` to get the defaults, then add to them (this is how drcsim's `setup.sh` will continue to work).\r\n\r\nI did not compile in the default value for `LD_LIBRARY_PATH`, and I removed the setting of it from `setup.sh.in`.  I did that because, as far as I can tell, that setting is not needed.  If that's wrong, let me know.", "title": "Add compile-time defaults for env vars (issue #781)", "destination": {"commit": {"hash": "bd34b42f67d2", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/bd34b42f67d2.json"}, "html": {"href": "#!/osrf/gazebo/commits/bd34b42f67d2"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "c2f6c43d5400", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/c2f6c43d5400.json"}, "html": {"href": "#!/osrf/gazebo/commits/c2f6c43d5400"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "issue_781"}}, "state": "OPEN", "author": {"display_name": "Brian Gerkey", "uuid": "{3d8b5763-9dad-4be7-85c2-a7ab6cd49173}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D"}, "html": {"href": "https://bitbucket.org/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9/5fa9ec73-0fec-4860-a202-e34ae23b6a12/128"}}, "nickname": "Brian Gerkey", "type": "user", "account_id": "557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9"}, "date": "2013-07-16T22:27:15.813506+00:00"}, "pull_request": {"type": "pullrequest", "id": 620, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/620.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/620"}}, "title": "Add compile-time defaults for env vars (issue #781)"}}]}