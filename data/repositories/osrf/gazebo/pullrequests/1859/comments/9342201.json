{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1859/comments/9342201.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1859/_/diff#comment-9342201"}}, "parent": {"id": 9233587, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1859/comments/9233587.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1859/_/diff#comment-9233587"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1859, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1859.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1859"}}, "title": "Issue_1702"}, "content": {"raw": "OK, test should fail now\n\n331e9f3\n\nbut not fail due to gtest failure, fail due to\n\n~~~\n[==========] Running 1 test from 1 test case.\n[----------] Global test environment set-up.\n[----------] 1 test from PhysicsEngines/Issue1702Test\n[ RUN      ] PhysicsEngines/Issue1702Test.SpawnDeleteSpawnAgain/0\n[Msg] Waiting for master.\n[Msg] Connected to gazebo master @ http://127.0.0.1:11345\n[Msg] Publicized address: 192.168.11.15\n[Dbg] [ServerFixture.cc:169] ServerFixture load in 1.1 seconds, timeout after 600 seconds\n/home/hsu/projects/gazebo_quick/gazebo/test/ServerFixture.cc:242: Failure\nExpected: this->server->Run() doesn't throw an exception.\n  Actual: it throws.\n[Dbg] [ServerFixture.cc:118] ServerFixture::Unload\n[  FAILED  ] PhysicsEngines/Issue1702Test.SpawnDeleteSpawnAgain/0, where GetParam() = \"ode\" (2063 ms)\n[----------] 1 test from PhysicsEngines/Issue1702Test (2063 ms total)\n\n[----------] Global test environment tear-down\n[==========] 1 test from 1 test case ran. (2063 ms total)\n[  PASSED  ] 0 tests.\n[  FAILED  ] 1 test, listed below:\n[  FAILED  ] PhysicsEngines/Issue1702Test.SpawnDeleteSpawnAgain/0, where GetParam() = \"ode\"\n\n 1 FAILED TEST\nterminate called after throwing an instance of 'boost::exception_detail::clone_impl<boost::exception_detail::error_info_injector<boost::lock_error> >'\n  what():  boost: mutex lock failed in pthread_mutex_lock: Invalid argument\nAborted (core dumped)\n~~~\n\nNote that the test passes with [my hack](#!/osrf/gazebo/branches/compare/issue_1702_john%0Dissue_1702#diff) in issue_1702_john branch.", "markup": "markdown", "html": "<p>OK, test should fail now</p>\n<p><a href=\"#!/osrf/gazebo/commits/331e9f3\" rel=\"nofollow\" class=\"ap-connect-link\">331e9f3</a></p>\n<p>but not fail due to gtest failure, fail due to</p>\n<div class=\"codehilite\"><pre><span></span>[==========] Running 1 test from 1 test case.\n[----------] Global test environment set-up.\n[----------] 1 test from PhysicsEngines/Issue1702Test\n[ RUN      ] PhysicsEngines/Issue1702Test.SpawnDeleteSpawnAgain/0\n[Msg] Waiting for master.\n[Msg] Connected to gazebo master @ http://127.0.0.1:11345\n[Msg] Publicized address: 192.168.11.15\n[Dbg] [ServerFixture.cc:169] ServerFixture load in 1.1 seconds, timeout after 600 seconds\n/home/hsu/projects/gazebo_quick/gazebo/test/ServerFixture.cc:242: Failure\nExpected: this-&gt;server-&gt;Run() doesn&#39;t throw an exception.\n  Actual: it throws.\n[Dbg] [ServerFixture.cc:118] ServerFixture::Unload\n[  FAILED  ] PhysicsEngines/Issue1702Test.SpawnDeleteSpawnAgain/0, where GetParam() = &quot;ode&quot; (2063 ms)\n[----------] 1 test from PhysicsEngines/Issue1702Test (2063 ms total)\n\n[----------] Global test environment tear-down\n[==========] 1 test from 1 test case ran. (2063 ms total)\n[  PASSED  ] 0 tests.\n[  FAILED  ] 1 test, listed below:\n[  FAILED  ] PhysicsEngines/Issue1702Test.SpawnDeleteSpawnAgain/0, where GetParam() = &quot;ode&quot;\n\n 1 FAILED TEST\nterminate called after throwing an instance of &#39;boost::exception_detail::clone_impl&lt;boost::exception_detail::error_info_injector&lt;boost::lock_error&gt; &gt;&#39;\n  what():  boost: mutex lock failed in pthread_mutex_lock: Invalid argument\nAborted (core dumped)\n</pre></div>\n\n\n<p>Note that the test passes with <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/branches/compare/issue_1702_john%0Dissue_1702#diff\" rel=\"nofollow\">my hack</a> in issue_1702_john branch.</p>", "type": "rendered"}, "created_on": "2015-08-25T06:26:37.493230+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": "2015-08-25T06:30:29.125758+00:00", "type": "pullrequest_comment", "id": 9342201}