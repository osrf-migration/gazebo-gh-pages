{"pagelen": 50, "values": [{"update": {"description": "**Test Condition**\r\n\r\n1. drcsim_2.5 branch\r\n2. any of the qual worlds\r\n     \r\n**Steps**\r\n1. Start a qual world\r\n\r\n2. Do some stuff, keyboard teleop for example\r\n\r\n3. Run `tail -n 1 -f /tmp/qual_task_{n}/state.log`\r\n\r\n4. Note the current simulation time, and then run `gzlog stop`\r\n\r\n**Testing**\r\n\r\nYou should see the following line appear in the `state.log` file:\r\n    </gazebo_log>\r\n\r\nAtlas should not fall over.\r\n\r\nAnd no more data should be written to `state.log`\r\n\r\nPlayback of the log file should advance up to the time at which you entered `gzlog stop`.", "title": "Fix gzlog stop command line", "destination": {"commit": {"hash": "861857e74d38", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/861857e74d38.json"}, "html": {"href": "#!/osrf/gazebo/commits/861857e74d38"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo_1.7"}}, "reason": "", "source": {"commit": {"hash": "74f345579001", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/74f345579001.json"}, "html": {"href": "#!/osrf/gazebo/commits/74f345579001"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "log_stop_fix"}}, "state": "MERGED", "author": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "date": "2013-05-07T17:10:56.062518+00:00"}, "pull_request": {"type": "pullrequest", "id": 506, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506"}}, "title": "Fix gzlog stop command line"}}, {"approval": {"date": "2013-05-07T16:52:50.091234+00:00", "pullrequest": {"type": "pullrequest", "id": 506, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506"}}, "title": "Fix gzlog stop command line"}, "user": {"display_name": "Brian Gerkey", "uuid": "{3d8b5763-9dad-4be7-85c2-a7ab6cd49173}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D"}, "html": {"href": "https://bitbucket.org/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9/5fa9ec73-0fec-4860-a202-e34ae23b6a12/128"}}, "nickname": "Brian Gerkey", "type": "user", "account_id": "557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9"}}, "pull_request": {"type": "pullrequest", "id": 506, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506"}}, "title": "Fix gzlog stop command line"}}, {"approval": {"date": "2013-05-07T16:47:21.974967+00:00", "pullrequest": {"type": "pullrequest", "id": 506, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506"}}, "title": "Fix gzlog stop command line"}, "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}}, "pull_request": {"type": "pullrequest", "id": 506, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506"}}, "title": "Fix gzlog stop command line"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506/comments/238552.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506/_/diff#comment-238552"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 506, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506"}}, "title": "Fix gzlog stop command line"}, "content": {"raw": "After latest commits, it still works for me and test is passing.", "markup": "markdown", "html": "<p>After latest commits, it still works for me and test is passing.</p>", "type": "rendered"}, "created_on": "2013-05-07T13:48:50.524710+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2013-05-07T13:48:50.531539+00:00", "type": "pullrequest_comment", "id": 238552}, "pull_request": {"type": "pullrequest", "id": 506, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506"}}, "title": "Fix gzlog stop command line"}}, {"update": {"description": "**Test Condition**\r\n\r\n1. drcsim_2.5 branch\r\n2. any of the qual worlds\r\n     \r\n**Steps**\r\n1. Start a qual world\r\n\r\n2. Do some stuff, keyboard teleop for example\r\n\r\n3. Run `tail -n 1 -f /tmp/qual_task_{n}/state.log`\r\n\r\n4. Note the current simulation time, and then run `gzlog stop`\r\n\r\n**Testing**\r\n\r\nYou should see the following line appear in the `state.log` file:\r\n    </gazebo_log>\r\n\r\nAtlas should not fall over.\r\n\r\nAnd no more data should be written to `state.log`\r\n\r\nPlayback of the log file should advance up to the time at which you entered `gzlog stop`.", "title": "Fix gzlog stop command line", "destination": {"commit": {"hash": "861857e74d38", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/861857e74d38.json"}, "html": {"href": "#!/osrf/gazebo/commits/861857e74d38"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo_1.7"}}, "reason": "", "source": {"commit": {"hash": "74f345579001", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/74f345579001.json"}, "html": {"href": "#!/osrf/gazebo/commits/74f345579001"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "log_stop_fix"}}, "state": "OPEN", "author": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "date": "2013-05-07T12:14:37.275134+00:00"}, "pull_request": {"type": "pullrequest", "id": 506, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506"}}, "title": "Fix gzlog stop command line"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506/comments/238310.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506/_/diff#comment-238310"}}, "parent": {"id": 238282, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506/comments/238282.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506/_/diff#comment-238282"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 506, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506"}}, "title": "Fix gzlog stop command line"}, "content": {"raw": "Much better. Thanks Nate.", "markup": "markdown", "html": "<p>Much better. Thanks Nate.</p>", "type": "rendered"}, "created_on": "2013-05-07T11:38:40.632371+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2013-05-07T11:38:40.644282+00:00", "type": "pullrequest_comment", "id": 238310}, "pull_request": {"type": "pullrequest", "id": 506, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506"}}, "title": "Fix gzlog stop command line"}}, {"update": {"description": "**Test Condition**\r\n\r\n1. drcsim_2.5 branch\r\n2. any of the qual worlds\r\n     \r\n**Steps**\r\n1. Start a qual world\r\n\r\n2. Do some stuff, keyboard teleop for example\r\n\r\n3. Run `tail -n 1 -f /tmp/qual_task_{n}/state.log`\r\n\r\n4. Note the current simulation time, and then run `gzlog stop`\r\n\r\n**Testing**\r\n\r\nYou should see the following line appear in the `state.log` file:\r\n    </gazebo_log>\r\n\r\nAtlas should not fall over.\r\n\r\nAnd no more data should be written to `state.log`\r\n\r\nPlayback of the log file should advance up to the time at which you entered `gzlog stop`.", "title": "Fix gzlog stop command line", "destination": {"commit": {"hash": "861857e74d38", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/861857e74d38.json"}, "html": {"href": "#!/osrf/gazebo/commits/861857e74d38"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo_1.7"}}, "reason": "", "source": {"commit": {"hash": "8526f2c811f6", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/8526f2c811f6.json"}, "html": {"href": "#!/osrf/gazebo/commits/8526f2c811f6"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "log_stop_fix"}}, "state": "OPEN", "author": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "date": "2013-05-07T11:38:29.191474+00:00"}, "pull_request": {"type": "pullrequest", "id": 506, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506"}}, "title": "Fix gzlog stop command line"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506/comments/238309.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506/_/diff#comment-238309"}}, "parent": {"id": 237345, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506/comments/237345.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506/_/diff#comment-237345"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 506, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506"}}, "title": "Fix gzlog stop command line"}, "content": {"raw": "Ouch ... Bart remember:\n\n\"Do not make patches late at night\" \"Do not make patches late at night\" \"Do not make patches late at night\" \"Do not make patches late at night\" \"Do not make patches late at night\" \"Do not make patches late at night\" \"Do not make patches late at night\"", "markup": "markdown", "html": "<p>Ouch ... Bart remember:</p>\n<p>\"Do not make patches late at night\" \"Do not make patches late at night\" \"Do not make patches late at night\" \"Do not make patches late at night\" \"Do not make patches late at night\" \"Do not make patches late at night\" \"Do not make patches late at night\"</p>", "type": "rendered"}, "created_on": "2013-05-07T11:38:29.072624+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2013-05-07T11:38:29.082228+00:00", "type": "pullrequest_comment", "id": 238309}, "pull_request": {"type": "pullrequest", "id": 506, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506"}}, "title": "Fix gzlog stop command line"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506/comments/237181.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506/_/diff#comment-237181"}}, "parent": {"id": 237163, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506/comments/237163.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506/_/diff#comment-237163"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 506, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506"}}, "title": "Fix gzlog stop command line"}, "content": {"raw": "A slight modification that takes two arguments, where the first is the qual number and the second is the number of iterations.\n\n```\n#!c++\n\n#!/bin/bash\n\nif [ \"$#\" -eq \"0\" ]; then\n  task=\"qual_task_1\"\n  num_runs=50\nelse\n  task=\"qual_task_$1\"\n  num_runs=$2\nfi\n\nfor i in `seq 1 $num_runs`; do\n  roslaunch atlas_utils ${task}.launch &\n  sleep 20\n  gzlog stop\n  sleep 20\n  killall -INT roslaunch\n  sleep 15\n  num_end_tags=`grep '</gazebo_log>' /tmp/${task}/state.log | wc | awk {'print $1'}`\n  if [ $num_end_tags -ne 1 ]; then\n    echo \"[FAIL] Wrong number of end tags: $num_end_tags\"\n    exit 1\n  else\n    echo \"[PASS] Right number of end tags: $num_end_tags\"\n  fi\n  last_line=`tail -n 1 /tmp/${task}/state.log`\n  if [ $last_line != '</gazebo_log>' ]; then\n    echo \"[FAIL] Wrong last line: $last_line\"\n    exit 1\n  else\n    echo \"[PASS] Correct last line: $last_line\"\n  fi\ndone\n```\n", "markup": "markdown", "html": "<p>A slight modification that takes two arguments, where the first is the qual number and the second is the number of iterations.</p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"cp\">#!/bin/bash</span>\n\n<span class=\"k\">if</span> <span class=\"p\">[</span> <span class=\"s\">&quot;$#&quot;</span> <span class=\"o\">-</span><span class=\"n\">eq</span> <span class=\"s\">&quot;0&quot;</span> <span class=\"p\">];</span> <span class=\"n\">then</span>\n  <span class=\"n\">task</span><span class=\"o\">=</span><span class=\"s\">&quot;qual_task_1&quot;</span>\n  <span class=\"n\">num_runs</span><span class=\"o\">=</span><span class=\"mi\">50</span>\n<span class=\"k\">else</span>\n  <span class=\"n\">task</span><span class=\"o\">=</span><span class=\"s\">&quot;qual_task_$1&quot;</span>\n  <span class=\"n\">num_runs</span><span class=\"o\">=</span><span class=\"err\">$</span><span class=\"mi\">2</span>\n<span class=\"n\">fi</span>\n\n<span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"n\">in</span> <span class=\"err\">`</span><span class=\"n\">seq</span> <span class=\"mi\">1</span> <span class=\"err\">$</span><span class=\"n\">num_runs</span><span class=\"err\">`</span><span class=\"p\">;</span> <span class=\"k\">do</span>\n  <span class=\"n\">roslaunch</span> <span class=\"n\">atlas_utils</span> <span class=\"err\">$</span><span class=\"p\">{</span><span class=\"n\">task</span><span class=\"p\">}.</span><span class=\"n\">launch</span> <span class=\"o\">&amp;</span>\n  <span class=\"n\">sleep</span> <span class=\"mi\">20</span>\n  <span class=\"n\">gzlog</span> <span class=\"n\">stop</span>\n  <span class=\"n\">sleep</span> <span class=\"mi\">20</span>\n  <span class=\"n\">killall</span> <span class=\"o\">-</span><span class=\"n\">INT</span> <span class=\"n\">roslaunch</span>\n  <span class=\"n\">sleep</span> <span class=\"mi\">15</span>\n  <span class=\"n\">num_end_tags</span><span class=\"o\">=</span><span class=\"err\">`</span><span class=\"n\">grep</span> <span class=\"err\">&#39;</span><span class=\"o\">&lt;/</span><span class=\"n\">gazebo_log</span><span class=\"o\">&gt;</span><span class=\"err\">&#39;</span> <span class=\"o\">/</span><span class=\"n\">tmp</span><span class=\"o\">/</span><span class=\"err\">$</span><span class=\"p\">{</span><span class=\"n\">task</span><span class=\"p\">}</span><span class=\"o\">/</span><span class=\"n\">state</span><span class=\"p\">.</span><span class=\"n\">log</span> <span class=\"o\">|</span> <span class=\"n\">wc</span> <span class=\"o\">|</span> <span class=\"n\">awk</span> <span class=\"p\">{</span><span class=\"err\">&#39;</span><span class=\"n\">print</span> <span class=\"err\">$</span><span class=\"mi\">1</span><span class=\"err\">&#39;</span><span class=\"p\">}</span><span class=\"err\">`</span>\n  <span class=\"k\">if</span> <span class=\"p\">[</span> <span class=\"err\">$</span><span class=\"n\">num_end_tags</span> <span class=\"o\">-</span><span class=\"n\">ne</span> <span class=\"mi\">1</span> <span class=\"p\">];</span> <span class=\"n\">then</span>\n    <span class=\"n\">echo</span> <span class=\"s\">&quot;[FAIL] Wrong number of end tags: $num_end_tags&quot;</span>\n    <span class=\"n\">exit</span> <span class=\"mi\">1</span>\n  <span class=\"k\">else</span>\n    <span class=\"n\">echo</span> <span class=\"s\">&quot;[PASS] Right number of end tags: $num_end_tags&quot;</span>\n  <span class=\"n\">fi</span>\n  <span class=\"n\">last_line</span><span class=\"o\">=</span><span class=\"err\">`</span><span class=\"n\">tail</span> <span class=\"o\">-</span><span class=\"n\">n</span> <span class=\"mi\">1</span> <span class=\"o\">/</span><span class=\"n\">tmp</span><span class=\"o\">/</span><span class=\"err\">$</span><span class=\"p\">{</span><span class=\"n\">task</span><span class=\"p\">}</span><span class=\"o\">/</span><span class=\"n\">state</span><span class=\"p\">.</span><span class=\"n\">log</span><span class=\"err\">`</span>\n  <span class=\"k\">if</span> <span class=\"p\">[</span> <span class=\"err\">$</span><span class=\"n\">last_line</span> <span class=\"o\">!=</span> <span class=\"err\">&#39;</span><span class=\"o\">&lt;/</span><span class=\"n\">gazebo_log</span><span class=\"o\">&gt;</span><span class=\"err\">&#39;</span> <span class=\"p\">];</span> <span class=\"n\">then</span>\n    <span class=\"n\">echo</span> <span class=\"s\">&quot;[FAIL] Wrong last line: $last_line&quot;</span>\n    <span class=\"n\">exit</span> <span class=\"mi\">1</span>\n  <span class=\"k\">else</span>\n    <span class=\"n\">echo</span> <span class=\"s\">&quot;[PASS] Correct last line: $last_line&quot;</span>\n  <span class=\"n\">fi</span>\n<span class=\"n\">done</span>\n</pre></div>", "type": "rendered"}, "created_on": "2013-05-06T23:31:59.075221+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2013-05-07T11:24:58.685275+00:00", "type": "pullrequest_comment", "id": 237181}, "pull_request": {"type": "pullrequest", "id": 506, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506"}}, "title": "Fix gzlog stop command line"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506/comments/238282.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506/_/diff#comment-238282"}}, "parent": {"id": 237285, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506/comments/237285.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506/_/diff#comment-237285"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 506, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506"}}, "title": "Fix gzlog stop command line"}, "content": {"raw": "This test should now pass. I set the running state of LogRecord to false in LogRecord::Stop().", "markup": "markdown", "html": "<p>This test should now pass. I set the running state of LogRecord to false in LogRecord::Stop().</p>", "type": "rendered"}, "created_on": "2013-05-07T11:21:41.740455+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2013-05-07T11:21:41.750991+00:00", "type": "pullrequest_comment", "id": 238282}, "pull_request": {"type": "pullrequest", "id": 506, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506"}}, "title": "Fix gzlog stop command line"}}, {"update": {"description": "**Test Condition**\r\n\r\n1. drcsim_2.5 branch\r\n2. any of the qual worlds\r\n     \r\n**Steps**\r\n1. Start a qual world\r\n\r\n2. Do some stuff, keyboard teleop for example\r\n\r\n3. Run `tail -n 1 -f /tmp/qual_task_{n}/state.log`\r\n\r\n4. Note the current simulation time, and then run `gzlog stop`\r\n\r\n**Testing**\r\n\r\nYou should see the following line appear in the `state.log` file:\r\n    </gazebo_log>\r\n\r\nAtlas should not fall over.\r\n\r\nAnd no more data should be written to `state.log`\r\n\r\nPlayback of the log file should advance up to the time at which you entered `gzlog stop`.", "title": "Fix gzlog stop command line", "destination": {"commit": {"hash": "861857e74d38", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/861857e74d38.json"}, "html": {"href": "#!/osrf/gazebo/commits/861857e74d38"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo_1.7"}}, "reason": "", "source": {"commit": {"hash": "576a899e5185", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/576a899e5185.json"}, "html": {"href": "#!/osrf/gazebo/commits/576a899e5185"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "log_stop_fix"}}, "state": "OPEN", "author": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "date": "2013-05-07T11:20:59.307771+00:00"}, "pull_request": {"type": "pullrequest", "id": 506, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506"}}, "title": "Fix gzlog stop command line"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506/comments/237345.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506/_/diff#comment-237345"}}, "parent": {"id": 237285, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506/comments/237285.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506/_/diff#comment-237285"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 506, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506"}}, "title": "Fix gzlog stop command line"}, "content": {"raw": "You should be careful with this patch, adding 0.1 to an int won't work properly.", "markup": "markdown", "html": "<p>You should be careful with this patch, adding 0.1 to an int won't work properly.</p>", "type": "rendered"}, "created_on": "2013-05-07T01:30:00.233555+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2013-05-07T01:30:00.242893+00:00", "type": "pullrequest_comment", "id": 237345}, "pull_request": {"type": "pullrequest", "id": 506, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506"}}, "title": "Fix gzlog stop command line"}}, {"approval": {"date": "2013-05-07T00:45:15.090954+00:00", "pullrequest": {"type": "pullrequest", "id": 506, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506"}}, "title": "Fix gzlog stop command line"}, "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}}, "pull_request": {"type": "pullrequest", "id": 506, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506"}}, "title": "Fix gzlog stop command line"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506/comments/237285.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506/_/diff#comment-237285"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 506, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506"}}, "title": "Fix gzlog stop command line"}, "content": {"raw": "Rest of my manual testing could not break the log and I wasn't able to appreciate any problem with rest of simulation. You win. :)\n\nFor the testing error, not a very elegant solution but wait for cleanup 5 seconds should be enough for 99% of gazebo computers:\n\n```\ndiff -r 861857e74d38 gazebo/util/LogRecord_TEST.cc\n--- a/gazebo/util/LogRecord_TEST.cc\tThu Apr 25 09:11:19 2013 -0700\n+++ b/gazebo/util/LogRecord_TEST.cc\tTue May 07 02:42:42 2013 +0200\n@@ -94,10 +94,18 @@\n   // Run time should be zero since no update has been triggered.\n   EXPECT_EQ(recorder->GetRunTime(), gazebo::common::Time());\n \n-  // Stop recording.\n+  // Stop recording. It will take some time to cleanup.\n   recorder->Stop();\n \n-  // Make sure everything has reset.\n+  // Make sure everything has reset. Give 5 seconds to max time for cleanup\n+  int timeout = 0;\n+  while (recorder->GetRunning() && timeout < 5)\n+  {\n+    sleep(0.1);\n+    timeout = timeout + 0.1;\n+  }\n+  ASSERT_LT(timeout, 5);\n+\n   EXPECT_FALSE(recorder->GetRunning());\n   EXPECT_FALSE(recorder->GetPaused());\n   EXPECT_EQ(recorder->GetRunTime(), gazebo::common::Time());\n```", "markup": "markdown", "html": "<p>Rest of my manual testing could not break the log and I wasn't able to appreciate any problem with rest of simulation. You win. :)</p>\n<p>For the testing error, not a very elegant solution but wait for cleanup 5 seconds should be enough for 99% of gazebo computers:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gh\">diff -r 861857e74d38 gazebo/util/LogRecord_TEST.cc</span>\n<span class=\"gd\">--- a/gazebo/util/LogRecord_TEST.cc Thu Apr 25 09:11:19 2013 -0700</span>\n<span class=\"gi\">+++ b/gazebo/util/LogRecord_TEST.cc Tue May 07 02:42:42 2013 +0200</span>\n<span class=\"gu\">@@ -94,10 +94,18 @@</span>\n   // Run time should be zero since no update has been triggered.\n   EXPECT_EQ(recorder-&gt;GetRunTime(), gazebo::common::Time());\n\n<span class=\"gd\">-  // Stop recording.</span>\n<span class=\"gi\">+  // Stop recording. It will take some time to cleanup.</span>\n   recorder-&gt;Stop();\n\n<span class=\"gd\">-  // Make sure everything has reset.</span>\n<span class=\"gi\">+  // Make sure everything has reset. Give 5 seconds to max time for cleanup</span>\n<span class=\"gi\">+  int timeout = 0;</span>\n<span class=\"gi\">+  while (recorder-&gt;GetRunning() &amp;&amp; timeout &lt; 5)</span>\n<span class=\"gi\">+  {</span>\n<span class=\"gi\">+    sleep(0.1);</span>\n<span class=\"gi\">+    timeout = timeout + 0.1;</span>\n<span class=\"gi\">+  }</span>\n<span class=\"gi\">+  ASSERT_LT(timeout, 5);</span>\n<span class=\"gi\">+</span>\n   EXPECT_FALSE(recorder-&gt;GetRunning());\n   EXPECT_FALSE(recorder-&gt;GetPaused());\n   EXPECT_EQ(recorder-&gt;GetRunTime(), gazebo::common::Time());\n</pre></div>", "type": "rendered"}, "created_on": "2013-05-07T00:45:04.352991+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2013-05-07T00:45:04.368055+00:00", "type": "pullrequest_comment", "id": 237285}, "pull_request": {"type": "pullrequest", "id": 506, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506"}}, "title": "Fix gzlog stop command line"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506/comments/237256.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506/_/diff#comment-237256"}}, "parent": {"id": 237185, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506/comments/237185.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506/_/diff#comment-237185"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 506, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506"}}, "title": "Fix gzlog stop command line"}, "content": {"raw": "Results looks quite similar to me, but we have an interesting failing test (both in jenkins and my local machine) for LogRecord_TEST\n\n```\n/home/jrivero/code/gazebo/gazebo/util/LogRecord_TEST.cc:101: Failure\nValue of: recorder->GetRunning()\n  Actual: true\nExpected: false\n[  FAILED  ] LogRecord_TEST.Start (1 ms)\n```", "markup": "markdown", "html": "<p>Results looks quite similar to me, but we have an interesting failing test (both in jenkins and my local machine) for LogRecord_TEST</p>\n<div class=\"codehilite\"><pre><span></span>/home/jrivero/code/gazebo/gazebo/util/LogRecord_TEST.cc:101: Failure\nValue of: recorder-&gt;GetRunning()\n  Actual: true\nExpected: false\n[  FAILED  ] LogRecord_TEST.Start (1 ms)\n</pre></div>", "type": "rendered"}, "created_on": "2013-05-07T00:29:22.469748+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2013-05-07T00:29:22.478424+00:00", "type": "pullrequest_comment", "id": 237256}, "pull_request": {"type": "pullrequest", "id": 506, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506"}}, "title": "Fix gzlog stop command line"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506/comments/237185.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506/_/diff#comment-237185"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 506, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506"}}, "title": "Fix gzlog stop command line"}, "content": {"raw": "I would wait, if possible, to jenkins testing run before merge. Keep an eye on [gazebo-any run for this branch](http://build.osrfoundation.org/job/gazebo-any-devel-precise-amd64-gpu-vrc/28/console) , it should not be very different from the [latest gazebo-1.7 run](http://build.osrfoundation.org/view/gazebo_1.7/job/gazebo-gazebo_1.7-devel-precise-amd64-gpu-vrc/15/#showFailuresLink)\n\nIt can help to detect possible problems with integration of other parts since there were changes in physics/World.", "markup": "markdown", "html": "<p>I would wait, if possible, to jenkins testing run before merge. Keep an eye on <a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/job/gazebo-any-devel-precise-amd64-gpu-vrc/28/console\" rel=\"nofollow\">gazebo-any run for this branch</a> , it should not be very different from the <a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/gazebo_1.7/job/gazebo-gazebo_1.7-devel-precise-amd64-gpu-vrc/15/#showFailuresLink\" rel=\"nofollow\">latest gazebo-1.7 run</a></p>\n<p>It can help to detect possible problems with integration of other parts since there were changes in physics/World.</p>", "type": "rendered"}, "created_on": "2013-05-06T23:33:05.315123+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2013-05-06T23:39:03.689492+00:00", "type": "pullrequest_comment", "id": 237185}, "pull_request": {"type": "pullrequest", "id": 506, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506"}}, "title": "Fix gzlog stop command line"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506/comments/237188.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506/_/diff#comment-237188"}}, "parent": {"id": 237185, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506/comments/237185.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506/_/diff#comment-237185"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 506, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506"}}, "title": "Fix gzlog stop command line"}, "content": {"raw": "Local testing is also valid. Same for drcsim testing build on top of this gazebo compilation.", "markup": "markdown", "html": "<p>Local testing is also valid. Same for drcsim testing build on top of this gazebo compilation.</p>", "type": "rendered"}, "created_on": "2013-05-06T23:33:58.393087+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2013-05-06T23:33:58.401210+00:00", "type": "pullrequest_comment", "id": 237188}, "pull_request": {"type": "pullrequest", "id": 506, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506"}}, "title": "Fix gzlog stop command line"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506/comments/237179.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506/_/diff#comment-237179"}}, "parent": {"id": 237113, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506/comments/237113.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506/_/diff#comment-237113"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 506, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506"}}, "title": "Fix gzlog stop command line"}, "content": {"raw": "Fixed", "markup": "markdown", "html": "<p>Fixed</p>", "type": "rendered"}, "created_on": "2013-05-06T23:30:48.142548+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "inline": {}, "updated_on": "2013-05-06T23:30:48.151925+00:00", "type": "pullrequest_comment", "id": 237179}, "pull_request": {"type": "pullrequest", "id": 506, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506"}}, "title": "Fix gzlog stop command line"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506/comments/237177.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506/_/diff#comment-237177"}}, "parent": {"id": 237109, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506/comments/237109.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506/_/diff#comment-237109"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 506, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506"}}, "title": "Fix gzlog stop command line"}, "content": {"raw": "Fixed", "markup": "markdown", "html": "<p>Fixed</p>", "type": "rendered"}, "created_on": "2013-05-06T23:30:35.457340+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "inline": {}, "updated_on": "2013-05-06T23:30:35.465286+00:00", "type": "pullrequest_comment", "id": 237177}, "pull_request": {"type": "pullrequest", "id": 506, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506"}}, "title": "Fix gzlog stop command line"}}, {"update": {"description": "**Test Condition**\r\n\r\n1. drcsim_2.5 branch\r\n2. any of the qual worlds\r\n     \r\n**Steps**\r\n1. Start a qual world\r\n\r\n2. Do some stuff, keyboard teleop for example\r\n\r\n3. Run `tail -n 1 -f /tmp/qual_task_{n}/state.log`\r\n\r\n4. Note the current simulation time, and then run `gzlog stop`\r\n\r\n**Testing**\r\n\r\nYou should see the following line appear in the `state.log` file:\r\n    </gazebo_log>\r\n\r\nAtlas should not fall over.\r\n\r\nAnd no more data should be written to `state.log`\r\n\r\nPlayback of the log file should advance up to the time at which you entered `gzlog stop`.", "title": "Fix gzlog stop command line", "destination": {"commit": {"hash": "861857e74d38", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/861857e74d38.json"}, "html": {"href": "#!/osrf/gazebo/commits/861857e74d38"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo_1.7"}}, "reason": "", "source": {"commit": {"hash": "0f71a2d35273", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/0f71a2d35273.json"}, "html": {"href": "#!/osrf/gazebo/commits/0f71a2d35273"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "log_stop_fix"}}, "state": "OPEN", "author": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "date": "2013-05-06T23:30:24.099429+00:00"}, "pull_request": {"type": "pullrequest", "id": 506, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506"}}, "title": "Fix gzlog stop command line"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506/comments/237163.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506/_/diff#comment-237163"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 506, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506"}}, "title": "Fix gzlog stop command line"}, "content": {"raw": "Here's a simple script to stress-test it:\n\n~~~\n#!/bin/bash\n\ntask=qual_task_1\nnum_runs=50\nfor i in `seq 1 $num_runs`; do\n  roslaunch atlas_utils ${task}.launch &\n  sleep 20\n  gzlog stop\n  sleep 10\n  killall -INT roslaunch\n  sleep 15\n  num_end_tags=`grep '</gazebo_log>' /tmp/${task}/state.log | wc | awk {'print $1'}`\n  if [ $num_end_tags -ne 1 ]; then\n    echo \"[FAIL] Wrong number of end tags: $num_end_tags\"\n    exit 1\n  else\n    echo \"[PASS] Right number of end tags: $num_end_tags\"\n  fi\n  last_line=`tail -n 1 /tmp/${task}/state.log`\n  if [ $last_line != '</gazebo_log>' ]; then\n    echo \"[FAIL] Wrong last line: $last_line\"\n    exit 1\n  else\n    echo \"[PASS] Correct last line: $last_line\"\n  fi\ndone\n~~~", "markup": "markdown", "html": "<p>Here's a simple script to stress-test it:</p>\n<div class=\"codehilite language-bash\"><pre><span></span><span class=\"ch\">#!/bin/bash</span>\n\n<span class=\"nv\">task</span><span class=\"o\">=</span>qual_task_1\n<span class=\"nv\">num_runs</span><span class=\"o\">=</span><span class=\"m\">50</span>\n<span class=\"k\">for</span> i in <span class=\"sb\">`</span>seq <span class=\"m\">1</span> <span class=\"nv\">$num_runs</span><span class=\"sb\">`</span><span class=\"p\">;</span> <span class=\"k\">do</span>\n  roslaunch atlas_utils <span class=\"si\">${</span><span class=\"nv\">task</span><span class=\"si\">}</span>.launch <span class=\"p\">&amp;</span>\n  sleep <span class=\"m\">20</span>\n  gzlog stop\n  sleep <span class=\"m\">10</span>\n  killall -INT roslaunch\n  sleep <span class=\"m\">15</span>\n  <span class=\"nv\">num_end_tags</span><span class=\"o\">=</span><span class=\"sb\">`</span>grep <span class=\"s1\">&#39;&lt;/gazebo_log&gt;&#39;</span> /tmp/<span class=\"si\">${</span><span class=\"nv\">task</span><span class=\"si\">}</span>/state.log <span class=\"p\">|</span> wc <span class=\"p\">|</span> awk <span class=\"o\">{</span><span class=\"s1\">&#39;print $1&#39;</span><span class=\"o\">}</span><span class=\"sb\">`</span>\n  <span class=\"k\">if</span> <span class=\"o\">[</span> <span class=\"nv\">$num_end_tags</span> -ne <span class=\"m\">1</span> <span class=\"o\">]</span><span class=\"p\">;</span> <span class=\"k\">then</span>\n    <span class=\"nb\">echo</span> <span class=\"s2\">&quot;[FAIL] Wrong number of end tags: </span><span class=\"nv\">$num_end_tags</span><span class=\"s2\">&quot;</span>\n    <span class=\"nb\">exit</span> <span class=\"m\">1</span>\n  <span class=\"k\">else</span>\n    <span class=\"nb\">echo</span> <span class=\"s2\">&quot;[PASS] Right number of end tags: </span><span class=\"nv\">$num_end_tags</span><span class=\"s2\">&quot;</span>\n  <span class=\"k\">fi</span>\n  <span class=\"nv\">last_line</span><span class=\"o\">=</span><span class=\"sb\">`</span>tail -n <span class=\"m\">1</span> /tmp/<span class=\"si\">${</span><span class=\"nv\">task</span><span class=\"si\">}</span>/state.log<span class=\"sb\">`</span>\n  <span class=\"k\">if</span> <span class=\"o\">[</span> <span class=\"nv\">$last_line</span> !<span class=\"o\">=</span> <span class=\"s1\">&#39;&lt;/gazebo_log&gt;&#39;</span> <span class=\"o\">]</span><span class=\"p\">;</span> <span class=\"k\">then</span>\n    <span class=\"nb\">echo</span> <span class=\"s2\">&quot;[FAIL] Wrong last line: </span><span class=\"nv\">$last_line</span><span class=\"s2\">&quot;</span>\n    <span class=\"nb\">exit</span> <span class=\"m\">1</span>\n  <span class=\"k\">else</span>\n    <span class=\"nb\">echo</span> <span class=\"s2\">&quot;[PASS] Correct last line: </span><span class=\"nv\">$last_line</span><span class=\"s2\">&quot;</span>\n  <span class=\"k\">fi</span>\n<span class=\"k\">done</span>\n</pre></div>", "type": "rendered"}, "created_on": "2013-05-06T23:21:54.655598+00:00", "user": {"display_name": "Brian Gerkey", "uuid": "{3d8b5763-9dad-4be7-85c2-a7ab6cd49173}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D"}, "html": {"href": "https://bitbucket.org/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9/5fa9ec73-0fec-4860-a202-e34ae23b6a12/128"}}, "nickname": "Brian Gerkey", "type": "user", "account_id": "557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9"}, "updated_on": "2013-05-06T23:21:54.668001+00:00", "type": "pullrequest_comment", "id": 237163}, "pull_request": {"type": "pullrequest", "id": 506, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506"}}, "title": "Fix gzlog stop command line"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506/comments/237113.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506/_/diff#comment-237113"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 506, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506"}}, "title": "Fix gzlog stop command line"}, "content": {"raw": "`Use Stop() to trigger a cleanup` seems more relevant from the user's perspective?", "markup": "markdown", "html": "<p><code>Use Stop() to trigger a cleanup</code> seems more relevant from the user's perspective?</p>", "type": "rendered"}, "created_on": "2013-05-06T22:51:59.081602+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {}, "updated_on": "2013-05-06T22:51:59.092533+00:00", "type": "pullrequest_comment", "id": 237113}, "pull_request": {"type": "pullrequest", "id": 506, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506"}}, "title": "Fix gzlog stop command line"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506/comments/237109.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506/_/diff#comment-237109"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 506, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506"}}, "title": "Fix gzlog stop command line"}, "content": {"raw": "Gazebo may enter the log cleanup function in a paused state, e.g. user click paused then run `gzlog stop`. But this line forces simulation to be unpaused. ", "markup": "markdown", "html": "<p>Gazebo may enter the log cleanup function in a paused state, e.g. user click paused then run <code>gzlog stop</code>. But this line forces simulation to be unpaused. </p>", "type": "rendered"}, "created_on": "2013-05-06T22:49:57.262517+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {}, "updated_on": "2013-05-06T22:49:57.269226+00:00", "type": "pullrequest_comment", "id": 237109}, "pull_request": {"type": "pullrequest", "id": 506, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506"}}, "title": "Fix gzlog stop command line"}}, {"update": {"description": "**Test Condition**\r\n\r\n1. drcsim_2.5 branch\r\n2. any of the qual worlds\r\n     \r\n**Steps**\r\n1. Start a qual world\r\n\r\n2. Do some stuff, keyboard teleop for example\r\n\r\n3. Run `tail -n 1 -f /tmp/qual_task_{n}/state.log`\r\n\r\n4. Note the current simulation time, and then run `gzlog stop`\r\n\r\n**Testing**\r\n\r\nYou should see the following line appear in the `state.log` file:\r\n    </gazebo_log>\r\n\r\nAtlas should not fall over.\r\n\r\nAnd no more data should be written to `state.log`\r\n\r\nPlayback of the log file should advance up to the time at which you entered `gzlog stop`.", "title": "Fix gzlog stop command line", "destination": {"commit": {"hash": "861857e74d38", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/861857e74d38.json"}, "html": {"href": "#!/osrf/gazebo/commits/861857e74d38"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo_1.7"}}, "reason": "", "source": {"commit": {"hash": "421e9c250b08", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/421e9c250b08.json"}, "html": {"href": "#!/osrf/gazebo/commits/421e9c250b08"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "log_stop_fix"}}, "state": "OPEN", "author": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "date": "2013-05-06T22:32:40.858605+00:00"}, "pull_request": {"type": "pullrequest", "id": 506, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506"}}, "title": "Fix gzlog stop command line"}}, {"update": {"description": "**Test Condition**\r\n\r\n1. drcsim_2.5 branch\r\n2. any of the qual worlds\r\n     \r\n**Steps**\r\n1. Start a qual world\r\n\r\n2. Do some stuff, keyboard teleop for example\r\n\r\n3. Run `tail -n 1 -f /tmp/qual_task_{n}/state.log`\r\n\r\n4. Run `gzlog stop`\r\n\r\n**Results**\r\n\r\nYou should see the following line appear in the `state.log` file:\r\n    </gazebo_log>\r\n\r\nAtlas should not fall over.\r\n\r\nAnd no more data should be written to `state.log`", "title": "Fix gzlog stop command line", "destination": {"commit": {"hash": "861857e74d38", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/861857e74d38.json"}, "html": {"href": "#!/osrf/gazebo/commits/861857e74d38"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo_1.7"}}, "reason": "", "source": {"commit": {"hash": "421e9c250b08", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/421e9c250b08.json"}, "html": {"href": "#!/osrf/gazebo/commits/421e9c250b08"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "log_stop_fix"}}, "state": "OPEN", "author": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "date": "2013-05-06T22:28:57.843889+00:00"}, "pull_request": {"type": "pullrequest", "id": 506, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506"}}, "title": "Fix gzlog stop command line"}}, {"update": {"description": "**Test Condition**\r\n\r\n1. drcsim_2.5 branch\r\n2. any of the qual worlds\r\n     \r\nStep 1: Start a qual world\r\n\r\nStep 2: Do some stuff, keyboard teleop for example\r\n\r\nStep 3: Run `tail -n 1 -f /tmp/qual_task_{n}/state.log`\r\n\r\nStep 4: Run `gzlog stop`\r\n\r\n**Results**\r\n\r\nYou should see the following line appear in the `state.log` file:\r\n    </gazebo_log>\r\n\r\nAtlas should not fall over.\r\nAnd no more data should be written to `state.log`\r\n\r\n", "title": "Fix gzlog stop command line", "destination": {"commit": {"hash": "861857e74d38", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/861857e74d38.json"}, "html": {"href": "#!/osrf/gazebo/commits/861857e74d38"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo_1.7"}}, "reason": "", "source": {"commit": {"hash": "421e9c250b08", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/421e9c250b08.json"}, "html": {"href": "#!/osrf/gazebo/commits/421e9c250b08"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "log_stop_fix"}}, "state": "OPEN", "author": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "date": "2013-05-06T22:28:14.944330+00:00"}, "pull_request": {"type": "pullrequest", "id": 506, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506"}}, "title": "Fix gzlog stop command line"}}, {"update": {"description": "**Test Condition**\r\n\r\n1. drcsim_2.5 branch\r\n2. any of the qual worlds\r\n     \r\nStep 1: Start a qual world\r\n\r\nStep 2: Do some stuff, keyboard teleop for example\r\n\r\nStep 3: Run `tail -n 1 -f /tmp/qual_task_{n}/state.log`\r\n\r\nStep 4: Run `gzlog stop`\r\n\r\n**Results**\r\n\r\nYou should see the following line appear in the `state.log` file:\r\n    </gazebo_log>\r\n\r\nAtlas should not fall over.\r\nAnd no more data should be written to `state.log`\r\n\r\n", "title": "Fix gzlog stop command line", "destination": {"commit": {"hash": "861857e74d38", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/861857e74d38.json"}, "html": {"href": "#!/osrf/gazebo/commits/861857e74d38"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo_1.7"}}, "reason": "", "source": {"commit": {"hash": "421e9c250b08", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/421e9c250b08.json"}, "html": {"href": "#!/osrf/gazebo/commits/421e9c250b08"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "log_stop_fix"}}, "state": "OPEN", "author": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "date": "2013-05-06T22:28:14.751737+00:00"}, "pull_request": {"type": "pullrequest", "id": 506, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506"}}, "title": "Fix gzlog stop command line"}}, {"update": {"description": "**Test Condition**\r\n1. drcsim_2.5 branch\r\n2. any of the qual worlds\r\n     \r\nStep 1: Start a qual world\r\n\r\nStep 2: Do some stuff, keyboard teleop for example\r\n\r\nStep 3: Run `tail -n 1 -f /tmp/qual_task_{n}/state.log`\r\n\r\nStep 4: Run `gzlog stop`\r\n\r\n**Results**\r\n\r\nYou should see the following line appear in the `state.log` file:\r\n    </gazebo_log>\r\n\r\nAtlas should not fall over.\r\nAnd no more data should be written to `state.log`\r\n\r\n", "title": "Fix gzlog stop command line", "destination": {"commit": {"hash": "256f98f2318b", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/256f98f2318b.json"}, "html": {"href": "#!/osrf/gazebo/commits/256f98f2318b"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo_1.7"}}, "reason": "", "source": {"commit": {"hash": "421e9c250b08", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/421e9c250b08.json"}, "html": {"href": "#!/osrf/gazebo/commits/421e9c250b08"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "log_stop_fix"}}, "state": "OPEN", "author": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "date": "2013-05-06T22:27:48.944808+00:00"}, "pull_request": {"type": "pullrequest", "id": 506, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506"}}, "title": "Fix gzlog stop command line"}}, {"update": {"description": "**Test Condition**\r\n1. drcsim_2.5 branch\r\n2. any of the qual worlds\r\n     \r\nStep 1: Start a qual world\r\n\r\nStep 2: Do some stuff, keyboard teleop for example\r\n\r\nStep 3: Run `tail -n 1 -f /tmp/qual_task_{n}/state.log`\r\n\r\nStep 4: Run `gzlog stop`\r\n\r\n**Results**\r\n\r\nYou should see the following line appear in the `state.log` file:\r\n    </gazebo_log>\r\n\r\nAtlas should not fall over.\r\nAnd no more data should be written to `state.log`\r\n\r\n", "title": "Fix gzlog stop command line", "destination": {"commit": {"hash": "256f98f2318b", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/256f98f2318b.json"}, "html": {"href": "#!/osrf/gazebo/commits/256f98f2318b"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo_1.7"}}, "reason": "", "source": {"commit": {"hash": "421e9c250b08", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/421e9c250b08.json"}, "html": {"href": "#!/osrf/gazebo/commits/421e9c250b08"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "log_stop_fix"}}, "state": "OPEN", "author": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "date": "2013-05-06T22:27:48.769030+00:00"}, "pull_request": {"type": "pullrequest", "id": 506, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/506.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/506"}}, "title": "Fix gzlog stop command line"}}]}