{"pagelen": 50, "values": [{"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413/comments/5074106.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413/_/diff#comment-5074106"}}, "parent": {"id": 5073988, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413/comments/5073988.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413/_/diff#comment-5073988"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1413, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413"}}, "title": "Allow multiple contact sensors per link (#960)"}, "content": {"raw": "thanks", "markup": "markdown", "html": "<p>thanks</p>", "type": "rendered"}, "created_on": "2015-02-10T23:56:49.075609+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2015-02-10T23:56:49.084549+00:00", "type": "pullrequest_comment", "id": 5074106}, "pull_request": {"type": "pullrequest", "id": 1413, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413"}}, "title": "Allow multiple contact sensors per link (#960)"}}, {"update": {"description": "Redo of pull request #1411.\r\n\r\nPer #960, it was not possible to have multiple contact sensors on a single link, since the filter was not using unique names, leading to the following error messages:\r\n~~~\r\n[Err] [ContactManager.cc:275] Filter with the same name already exists! Aborting\r\n~~~\r\n\r\nThis adds a test that illustrates the failure (checkout 48a5d29d7332 to confirm the failure) and a fix. I renamed the existing `EmptyWorld` test, since it didn't actually test anything.\r\n\r\nThere was also a weird bug in transport that I found while running the test. It was seg-faulting after calling Unsubscribe():\r\n~~~\r\n[ RUN      ] PhysicsEngines/ContactSensor.MultipleSensors/0\r\n...\r\n[Err] [ContactManager.cc:275] Filter with the same name already exists! Aborting\r\n[New Thread 0x7fff95574700 (LWP 3185)]\r\n[New Thread 0x7fff94d73700 (LWP 3186)]\r\n[New Thread 0x7fff67fff700 (LWP 3187)]\r\n[New Thread 0x7fff677fe700 (LWP 3188)]\r\n[Dbg] [ServerFixture.cc:144] ServerFixture load in 1 seconds, timeout after 600 seconds\r\n\r\nProgram received signal SIGSEGV, Segmentation fault.\r\ngazebo::transport::Node::GetMsgType (this=0x7624a0, _topic=...)\r\n    at /home/scpeters/ws/gazebo3/src/gazebo/gazebo/transport/Node.cc:312\r\n312     return iter->second.front()->GetMsgType();\r\n(gdb) bt\r\n#0  gazebo::transport::Node::GetMsgType (this=0x7624a0, _topic=...)\r\n    at /home/scpeters/ws/gazebo3/src/gazebo/gazebo/transport/Node.cc:312\r\n#1  0x00007ffff6947acf in gazebo::transport::TopicManager::Unsubscribe (\r\n    this=this@entry=0x6a9f00 <SingletonT<gazebo::transport::TopicManager>::GetInstance()::t>, _topic=..., _node=...)\r\n    at /home/scpeters/ws/gazebo3/src/gazebo/gazebo/transport/TopicManager.cc:257\r\n#2  0x00007ffff6945835 in gazebo::transport::Subscriber::Unsubscribe (\r\n    this=this@entry=0x764070)\r\n    at /home/scpeters/ws/gazebo3/src/gazebo/gazebo/transport/Subscriber.cc:52\r\n...\r\n~~~\r\n\r\nAn extra check in Node.cc was all that was required.\r\n\r\n* [trusty Jenkins is happy](http://build.osrfoundation.org/job/gazebo-any-devel-trusty-amd64-gpu-nvidia/475/testReport/(root)/PhysicsEngines_ContactSensor/)", "title": "Allow multiple contact sensors per link (#960)", "destination": {"commit": {"hash": "b952a6b8dd1a", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/b952a6b8dd1a.json"}, "html": {"href": "#!/osrf/gazebo/commits/b952a6b8dd1a"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo_4.1"}}, "reason": "", "source": {"commit": {"hash": "d0e82bce113e", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/d0e82bce113e.json"}, "html": {"href": "#!/osrf/gazebo/commits/d0e82bce113e"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "issue_960"}}, "state": "MERGED", "author": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "date": "2015-02-10T23:45:06.098645+00:00"}, "pull_request": {"type": "pullrequest", "id": 1413, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413"}}, "title": "Allow multiple contact sensors per link (#960)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413/comments/5073988.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413/_/diff#comment-5073988"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1413, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413"}}, "title": "Allow multiple contact sensors per link (#960)"}, "content": {"raw": "I'm going to merge this, and move it forward.", "markup": "markdown", "html": "<p>I'm going to merge this, and move it forward.</p>", "type": "rendered"}, "created_on": "2015-02-10T23:44:39.501872+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2015-02-10T23:44:39.515107+00:00", "type": "pullrequest_comment", "id": 5073988}, "pull_request": {"type": "pullrequest", "id": 1413, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413"}}, "title": "Allow multiple contact sensors per link (#960)"}}, {"approval": {"date": "2015-02-10T22:43:55.381503+00:00", "pullrequest": {"type": "pullrequest", "id": 1413, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413"}}, "title": "Allow multiple contact sensors per link (#960)"}, "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}}, "pull_request": {"type": "pullrequest", "id": 1413, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413"}}, "title": "Allow multiple contact sensors per link (#960)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413/comments/5047716.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413/_/diff#comment-5047716"}}, "parent": {"id": 5001176, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413/comments/5001176.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413/_/diff#comment-5001176"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1413, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413"}}, "title": "Allow multiple contact sensors per link (#960)"}, "content": {"raw": "removed in d0e82bce113e", "markup": "markdown", "html": "<p>removed in <a href=\"#!/osrf/gazebo/commits/d0e82bce113e\" rel=\"nofollow\" class=\"ap-connect-link\">d0e82bce113e</a></p>", "type": "rendered"}, "created_on": "2015-02-09T22:52:38.428285+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2015-02-09T22:52:38.444253+00:00", "type": "pullrequest_comment", "id": 5047716}, "pull_request": {"type": "pullrequest", "id": 1413, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413"}}, "title": "Allow multiple contact sensors per link (#960)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413/comments/5047712.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413/_/diff#comment-5047712"}}, "parent": {"id": 5047693, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413/comments/5047693.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413/_/diff#comment-5047693"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1413, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413"}}, "title": "Allow multiple contact sensors per link (#960)"}, "content": {"raw": "d0e82bce113e", "markup": "markdown", "html": "<p><a href=\"#!/osrf/gazebo/commits/d0e82bce113e\" rel=\"nofollow\" class=\"ap-connect-link\">d0e82bce113e</a></p>", "type": "rendered"}, "created_on": "2015-02-09T22:52:23.507262+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2015-02-09T22:52:23.522093+00:00", "type": "pullrequest_comment", "id": 5047712}, "pull_request": {"type": "pullrequest", "id": 1413, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413"}}, "title": "Allow multiple contact sensors per link (#960)"}}, {"update": {"description": "Redo of pull request #1411.\r\n\r\nPer #960, it was not possible to have multiple contact sensors on a single link, since the filter was not using unique names, leading to the following error messages:\r\n~~~\r\n[Err] [ContactManager.cc:275] Filter with the same name already exists! Aborting\r\n~~~\r\n\r\nThis adds a test that illustrates the failure (checkout 48a5d29d7332 to confirm the failure) and a fix. I renamed the existing `EmptyWorld` test, since it didn't actually test anything.\r\n\r\nThere was also a weird bug in transport that I found while running the test. It was seg-faulting after calling Unsubscribe():\r\n~~~\r\n[ RUN      ] PhysicsEngines/ContactSensor.MultipleSensors/0\r\n...\r\n[Err] [ContactManager.cc:275] Filter with the same name already exists! Aborting\r\n[New Thread 0x7fff95574700 (LWP 3185)]\r\n[New Thread 0x7fff94d73700 (LWP 3186)]\r\n[New Thread 0x7fff67fff700 (LWP 3187)]\r\n[New Thread 0x7fff677fe700 (LWP 3188)]\r\n[Dbg] [ServerFixture.cc:144] ServerFixture load in 1 seconds, timeout after 600 seconds\r\n\r\nProgram received signal SIGSEGV, Segmentation fault.\r\ngazebo::transport::Node::GetMsgType (this=0x7624a0, _topic=...)\r\n    at /home/scpeters/ws/gazebo3/src/gazebo/gazebo/transport/Node.cc:312\r\n312     return iter->second.front()->GetMsgType();\r\n(gdb) bt\r\n#0  gazebo::transport::Node::GetMsgType (this=0x7624a0, _topic=...)\r\n    at /home/scpeters/ws/gazebo3/src/gazebo/gazebo/transport/Node.cc:312\r\n#1  0x00007ffff6947acf in gazebo::transport::TopicManager::Unsubscribe (\r\n    this=this@entry=0x6a9f00 <SingletonT<gazebo::transport::TopicManager>::GetInstance()::t>, _topic=..., _node=...)\r\n    at /home/scpeters/ws/gazebo3/src/gazebo/gazebo/transport/TopicManager.cc:257\r\n#2  0x00007ffff6945835 in gazebo::transport::Subscriber::Unsubscribe (\r\n    this=this@entry=0x764070)\r\n    at /home/scpeters/ws/gazebo3/src/gazebo/gazebo/transport/Subscriber.cc:52\r\n...\r\n~~~\r\n\r\nAn extra check in Node.cc was all that was required.\r\n\r\n* [trusty Jenkins is happy](http://build.osrfoundation.org/job/gazebo-any-devel-trusty-amd64-gpu-nvidia/475/testReport/(root)/PhysicsEngines_ContactSensor/)", "title": "Allow multiple contact sensors per link (#960)", "destination": {"commit": {"hash": "b952a6b8dd1a", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/b952a6b8dd1a.json"}, "html": {"href": "#!/osrf/gazebo/commits/b952a6b8dd1a"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo_4.1"}}, "reason": "", "source": {"commit": {"hash": "d0e82bce113e", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/d0e82bce113e.json"}, "html": {"href": "#!/osrf/gazebo/commits/d0e82bce113e"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "issue_960"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2015-02-09T22:52:22.843635+00:00"}, "pull_request": {"type": "pullrequest", "id": 1413, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413"}}, "title": "Allow multiple contact sensors per link (#960)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413/comments/5047693.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413/_/diff#comment-5047693"}}, "parent": {"id": 5001169, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413/comments/5001169.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413/_/diff#comment-5001169"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1413, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413"}}, "title": "Allow multiple contact sensors per link (#960)"}, "content": {"raw": "You're right. I had put these two lines in here, assuming they would be needed. Apparently they aren't. They did expose a bug in `Node.cc`. I'm going to remove these two lines but keep the Node.cc bug fix.", "markup": "markdown", "html": "<p>You're right. I had put these two lines in here, assuming they would be needed. Apparently they aren't. They did expose a bug in <code>Node.cc</code>. I'm going to remove these two lines but keep the Node.cc bug fix.</p>", "type": "rendered"}, "created_on": "2015-02-09T22:50:43.455340+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2015-02-09T22:50:43.469742+00:00", "type": "pullrequest_comment", "id": 5047693}, "pull_request": {"type": "pullrequest", "id": 1413, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413"}}, "title": "Allow multiple contact sensors per link (#960)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413/comments/5047105.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413/_/diff#comment-5047105"}}, "parent": {"id": 5046198, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413/comments/5046198.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413/_/diff#comment-5046198"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1413, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413"}}, "title": "Allow multiple contact sensors per link (#960)"}, "content": {"raw": "2b6b1b4", "markup": "markdown", "html": "<p><a href=\"#!/osrf/gazebo/commits/2b6b1b4\" rel=\"nofollow\" class=\"ap-connect-link\">2b6b1b4</a></p>", "type": "rendered"}, "created_on": "2015-02-09T22:18:08.600806+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2015-02-09T22:18:08.610962+00:00", "type": "pullrequest_comment", "id": 5047105}, "pull_request": {"type": "pullrequest", "id": 1413, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413"}}, "title": "Allow multiple contact sensors per link (#960)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413/comments/5047098.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413/_/diff#comment-5047098"}}, "parent": {"id": 5046195, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413/comments/5046195.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413/_/diff#comment-5046195"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1413, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413"}}, "title": "Allow multiple contact sensors per link (#960)"}, "content": {"raw": "thanks, that's much cleaner (2b6b1b4)", "markup": "markdown", "html": "<p>thanks, that's much cleaner (<a href=\"#!/osrf/gazebo/commits/2b6b1b4\" rel=\"nofollow\" class=\"ap-connect-link\">2b6b1b4</a>)</p>", "type": "rendered"}, "created_on": "2015-02-09T22:18:01.572658+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2015-02-09T22:18:01.582018+00:00", "type": "pullrequest_comment", "id": 5047098}, "pull_request": {"type": "pullrequest", "id": 1413, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413"}}, "title": "Allow multiple contact sensors per link (#960)"}}, {"update": {"description": "Redo of pull request #1411.\r\n\r\nPer #960, it was not possible to have multiple contact sensors on a single link, since the filter was not using unique names, leading to the following error messages:\r\n~~~\r\n[Err] [ContactManager.cc:275] Filter with the same name already exists! Aborting\r\n~~~\r\n\r\nThis adds a test that illustrates the failure (checkout 48a5d29d7332 to confirm the failure) and a fix. I renamed the existing `EmptyWorld` test, since it didn't actually test anything.\r\n\r\nThere was also a weird bug in transport that I found while running the test. It was seg-faulting after calling Unsubscribe():\r\n~~~\r\n[ RUN      ] PhysicsEngines/ContactSensor.MultipleSensors/0\r\n...\r\n[Err] [ContactManager.cc:275] Filter with the same name already exists! Aborting\r\n[New Thread 0x7fff95574700 (LWP 3185)]\r\n[New Thread 0x7fff94d73700 (LWP 3186)]\r\n[New Thread 0x7fff67fff700 (LWP 3187)]\r\n[New Thread 0x7fff677fe700 (LWP 3188)]\r\n[Dbg] [ServerFixture.cc:144] ServerFixture load in 1 seconds, timeout after 600 seconds\r\n\r\nProgram received signal SIGSEGV, Segmentation fault.\r\ngazebo::transport::Node::GetMsgType (this=0x7624a0, _topic=...)\r\n    at /home/scpeters/ws/gazebo3/src/gazebo/gazebo/transport/Node.cc:312\r\n312     return iter->second.front()->GetMsgType();\r\n(gdb) bt\r\n#0  gazebo::transport::Node::GetMsgType (this=0x7624a0, _topic=...)\r\n    at /home/scpeters/ws/gazebo3/src/gazebo/gazebo/transport/Node.cc:312\r\n#1  0x00007ffff6947acf in gazebo::transport::TopicManager::Unsubscribe (\r\n    this=this@entry=0x6a9f00 <SingletonT<gazebo::transport::TopicManager>::GetInstance()::t>, _topic=..., _node=...)\r\n    at /home/scpeters/ws/gazebo3/src/gazebo/gazebo/transport/TopicManager.cc:257\r\n#2  0x00007ffff6945835 in gazebo::transport::Subscriber::Unsubscribe (\r\n    this=this@entry=0x764070)\r\n    at /home/scpeters/ws/gazebo3/src/gazebo/gazebo/transport/Subscriber.cc:52\r\n...\r\n~~~\r\n\r\nAn extra check in Node.cc was all that was required.\r\n\r\n* [trusty Jenkins is happy](http://build.osrfoundation.org/job/gazebo-any-devel-trusty-amd64-gpu-nvidia/475/testReport/(root)/PhysicsEngines_ContactSensor/)", "title": "Allow multiple contact sensors per link (#960)", "destination": {"commit": {"hash": "b952a6b8dd1a", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/b952a6b8dd1a.json"}, "html": {"href": "#!/osrf/gazebo/commits/b952a6b8dd1a"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo_4.1"}}, "reason": "", "source": {"commit": {"hash": "2b6b1b4c5e10", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/2b6b1b4c5e10.json"}, "html": {"href": "#!/osrf/gazebo/commits/2b6b1b4c5e10"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "issue_960"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2015-02-09T22:16:56.745867+00:00"}, "pull_request": {"type": "pullrequest", "id": 1413, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413"}}, "title": "Allow multiple contact sensors per link (#960)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413/comments/5046198.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413/_/diff#comment-5046198"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1413, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413"}}, "title": "Allow multiple contact sensors per link (#960)"}, "content": {"raw": "Ditto", "markup": "markdown", "html": "<p>Ditto</p>", "type": "rendered"}, "created_on": "2015-02-09T21:35:34.848140+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "inline": {}, "updated_on": "2015-02-09T21:35:34.861184+00:00", "type": "pullrequest_comment", "id": 5046198}, "pull_request": {"type": "pullrequest", "id": 1413, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413"}}, "title": "Allow multiple contact sensors per link (#960)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413/comments/5046195.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413/_/diff#comment-5046195"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1413, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413"}}, "title": "Allow multiple contact sensors per link (#960)"}, "content": {"raw": "Can we replace this with:\n\n\n```\n#!c++\n\nstd::string filterName = entityName + \"::\" + this->GetName()\n```\n", "markup": "markdown", "html": "<p>Can we replace this with:</p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">string</span> <span class=\"n\">filterName</span> <span class=\"o\">=</span> <span class=\"n\">entityName</span> <span class=\"o\">+</span> <span class=\"s\">&quot;::&quot;</span> <span class=\"o\">+</span> <span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">GetName</span><span class=\"p\">()</span>\n</pre></div>", "type": "rendered"}, "created_on": "2015-02-09T21:35:20.140665+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "inline": {}, "updated_on": "2015-02-09T21:35:20.156728+00:00", "type": "pullrequest_comment", "id": 5046195}, "pull_request": {"type": "pullrequest", "id": 1413, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413"}}, "title": "Allow multiple contact sensors per link (#960)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413/comments/5001176.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413/_/diff#comment-5001176"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1413, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413"}}, "title": "Allow multiple contact sensors per link (#960)"}, "content": {"raw": "Just out of curiosity. Why do we need this sleep here?", "markup": "markdown", "html": "<p>Just out of curiosity. Why do we need this sleep here?</p>", "type": "rendered"}, "created_on": "2015-02-06T00:45:26.893538+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "inline": {}, "updated_on": "2015-02-06T00:45:26.900801+00:00", "type": "pullrequest_comment", "id": 5001176}, "pull_request": {"type": "pullrequest", "id": 1413, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413"}}, "title": "Allow multiple contact sensors per link (#960)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413/comments/5001169.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413/_/diff#comment-5001169"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1413, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413"}}, "title": "Allow multiple contact sensors per link (#960)"}, "content": {"raw": "I believe we don't need this line. The destructor of `Subscriber` unsubscribes the topic for us.", "markup": "markdown", "html": "<p>I believe we don't need this line. The destructor of <code>Subscriber</code> unsubscribes the topic for us.</p>", "type": "rendered"}, "created_on": "2015-02-06T00:44:47.361716+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "inline": {}, "updated_on": "2015-02-06T00:44:47.369063+00:00", "type": "pullrequest_comment", "id": 5001169}, "pull_request": {"type": "pullrequest", "id": 1413, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413"}}, "title": "Allow multiple contact sensors per link (#960)"}}, {"approval": {"date": "2015-02-04T21:58:07.424902+00:00", "pullrequest": {"type": "pullrequest", "id": 1413, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413"}}, "title": "Allow multiple contact sensors per link (#960)"}, "user": {"display_name": "Jackie K", "uuid": "{e3d60b62-b7c7-4863-b9b9-cdae9f123cec}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3d60b62-b7c7-4863-b9b9-cdae9f123cec%7D"}, "html": {"href": "https://bitbucket.org/%7Be3d60b62-b7c7-4863-b9b9-cdae9f123cec%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/ea011fa2919d4bd4568b32b440eda779d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJK-0.png"}}, "nickname": "jacquelinekay", "type": "user", "account_id": "557058:f56c822f-f75c-4665-80f9-6e7764893b9c"}}, "pull_request": {"type": "pullrequest", "id": 1413, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413"}}, "title": "Allow multiple contact sensors per link (#960)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413/comments/4974371.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413/_/diff#comment-4974371"}}, "parent": {"id": 4974346, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413/comments/4974346.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413/_/diff#comment-4974346"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1413, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413"}}, "title": "Allow multiple contact sensors per link (#960)"}, "content": {"raw": "Yeah, it does the comparison for anything that overloads `==`", "markup": "markdown", "html": "<p>Yeah, it does the comparison for anything that overloads <code>==</code></p>", "type": "rendered"}, "created_on": "2015-02-04T21:39:19.768504+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2015-02-04T21:39:19.780144+00:00", "type": "pullrequest_comment", "id": 4974371}, "pull_request": {"type": "pullrequest", "id": 1413, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413"}}, "title": "Allow multiple contact sensors per link (#960)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413/comments/4974346.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413/_/diff#comment-4974346"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1413, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413"}}, "title": "Allow multiple contact sensors per link (#960)"}, "content": {"raw": "Wow, does gtest do an elementwise equal for iterable objects? That's dope", "markup": "markdown", "html": "<p>Wow, does gtest do an elementwise equal for iterable objects? That's dope</p>", "type": "rendered"}, "created_on": "2015-02-04T21:37:45.225086+00:00", "user": {"display_name": "Jackie K", "uuid": "{e3d60b62-b7c7-4863-b9b9-cdae9f123cec}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3d60b62-b7c7-4863-b9b9-cdae9f123cec%7D"}, "html": {"href": "https://bitbucket.org/%7Be3d60b62-b7c7-4863-b9b9-cdae9f123cec%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/ea011fa2919d4bd4568b32b440eda779d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJK-0.png"}}, "nickname": "jacquelinekay", "type": "user", "account_id": "557058:f56c822f-f75c-4665-80f9-6e7764893b9c"}, "inline": {}, "updated_on": "2015-02-04T21:37:45.236247+00:00", "type": "pullrequest_comment", "id": 4974346}, "pull_request": {"type": "pullrequest", "id": 1413, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413"}}, "title": "Allow multiple contact sensors per link (#960)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413/comments/4974320.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413/_/diff#comment-4974320"}}, "parent": {"id": 4973507, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413/comments/4973507.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413/_/diff#comment-4973507"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1413, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413"}}, "title": "Allow multiple contact sensors per link (#960)"}, "content": {"raw": "good catch, the comments were outdated. I replaced the comments with explicit checking of the expected topic names in 0b8834a64f4d", "markup": "markdown", "html": "<p>good catch, the comments were outdated. I replaced the comments with explicit checking of the expected topic names in <a href=\"#!/osrf/gazebo/commits/0b8834a64f4d\" rel=\"nofollow\" class=\"ap-connect-link\">0b8834a64f4d</a></p>", "type": "rendered"}, "created_on": "2015-02-04T21:36:16.229185+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2015-02-04T21:36:16.243186+00:00", "type": "pullrequest_comment", "id": 4974320}, "pull_request": {"type": "pullrequest", "id": 1413, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413"}}, "title": "Allow multiple contact sensors per link (#960)"}}, {"update": {"description": "Redo of pull request #1411.\r\n\r\nPer #960, it was not possible to have multiple contact sensors on a single link, since the filter was not using unique names, leading to the following error messages:\r\n~~~\r\n[Err] [ContactManager.cc:275] Filter with the same name already exists! Aborting\r\n~~~\r\n\r\nThis adds a test that illustrates the failure (checkout 48a5d29d7332 to confirm the failure) and a fix. I renamed the existing `EmptyWorld` test, since it didn't actually test anything.\r\n\r\nThere was also a weird bug in transport that I found while running the test. It was seg-faulting after calling Unsubscribe():\r\n~~~\r\n[ RUN      ] PhysicsEngines/ContactSensor.MultipleSensors/0\r\n...\r\n[Err] [ContactManager.cc:275] Filter with the same name already exists! Aborting\r\n[New Thread 0x7fff95574700 (LWP 3185)]\r\n[New Thread 0x7fff94d73700 (LWP 3186)]\r\n[New Thread 0x7fff67fff700 (LWP 3187)]\r\n[New Thread 0x7fff677fe700 (LWP 3188)]\r\n[Dbg] [ServerFixture.cc:144] ServerFixture load in 1 seconds, timeout after 600 seconds\r\n\r\nProgram received signal SIGSEGV, Segmentation fault.\r\ngazebo::transport::Node::GetMsgType (this=0x7624a0, _topic=...)\r\n    at /home/scpeters/ws/gazebo3/src/gazebo/gazebo/transport/Node.cc:312\r\n312     return iter->second.front()->GetMsgType();\r\n(gdb) bt\r\n#0  gazebo::transport::Node::GetMsgType (this=0x7624a0, _topic=...)\r\n    at /home/scpeters/ws/gazebo3/src/gazebo/gazebo/transport/Node.cc:312\r\n#1  0x00007ffff6947acf in gazebo::transport::TopicManager::Unsubscribe (\r\n    this=this@entry=0x6a9f00 <SingletonT<gazebo::transport::TopicManager>::GetInstance()::t>, _topic=..., _node=...)\r\n    at /home/scpeters/ws/gazebo3/src/gazebo/gazebo/transport/TopicManager.cc:257\r\n#2  0x00007ffff6945835 in gazebo::transport::Subscriber::Unsubscribe (\r\n    this=this@entry=0x764070)\r\n    at /home/scpeters/ws/gazebo3/src/gazebo/gazebo/transport/Subscriber.cc:52\r\n...\r\n~~~\r\n\r\nAn extra check in Node.cc was all that was required.\r\n\r\n* [trusty Jenkins is happy](http://build.osrfoundation.org/job/gazebo-any-devel-trusty-amd64-gpu-nvidia/475/testReport/(root)/PhysicsEngines_ContactSensor/)", "title": "Allow multiple contact sensors per link (#960)", "destination": {"commit": {"hash": "b952a6b8dd1a", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/b952a6b8dd1a.json"}, "html": {"href": "#!/osrf/gazebo/commits/b952a6b8dd1a"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo_4.1"}}, "reason": "", "source": {"commit": {"hash": "0b8834a64f4d", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/0b8834a64f4d.json"}, "html": {"href": "#!/osrf/gazebo/commits/0b8834a64f4d"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "issue_960"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2015-02-04T21:35:52.947102+00:00"}, "pull_request": {"type": "pullrequest", "id": 1413, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413"}}, "title": "Allow multiple contact sensors per link (#960)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413/comments/4974309.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413/_/diff#comment-4974309"}}, "parent": {"id": 4973391, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413/comments/4973391.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413/_/diff#comment-4973391"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1413, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413"}}, "title": "Allow multiple contact sensors per link (#960)"}, "content": {"raw": "good idea, done in 0b8834a64f4d", "markup": "markdown", "html": "<p>good idea, done in <a href=\"#!/osrf/gazebo/commits/0b8834a64f4d\" rel=\"nofollow\" class=\"ap-connect-link\">0b8834a64f4d</a></p>", "type": "rendered"}, "created_on": "2015-02-04T21:35:47.019928+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2015-02-04T21:35:47.031511+00:00", "type": "pullrequest_comment", "id": 4974309}, "pull_request": {"type": "pullrequest", "id": 1413, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413"}}, "title": "Allow multiple contact sensors per link (#960)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413/comments/4973507.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413/_/diff#comment-4973507"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1413, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413"}}, "title": "Allow multiple contact sensors per link (#960)"}, "content": {"raw": "The comment says there are 4 topics advertising Contacts messages. What is the fifth item in `topics`?", "markup": "markdown", "html": "<p>The comment says there are 4 topics advertising Contacts messages. What is the fifth item in <code>topics</code>?</p>", "type": "rendered"}, "created_on": "2015-02-04T20:56:34.011290+00:00", "user": {"display_name": "Jackie K", "uuid": "{e3d60b62-b7c7-4863-b9b9-cdae9f123cec}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3d60b62-b7c7-4863-b9b9-cdae9f123cec%7D"}, "html": {"href": "https://bitbucket.org/%7Be3d60b62-b7c7-4863-b9b9-cdae9f123cec%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/ea011fa2919d4bd4568b32b440eda779d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJK-0.png"}}, "nickname": "jacquelinekay", "type": "user", "account_id": "557058:f56c822f-f75c-4665-80f9-6e7764893b9c"}, "inline": {}, "updated_on": "2015-02-04T20:56:34.021729+00:00", "type": "pullrequest_comment", "id": 4973507}, "pull_request": {"type": "pullrequest", "id": 1413, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413"}}, "title": "Allow multiple contact sensors per link (#960)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413/comments/4973391.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413/_/diff#comment-4973391"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1413, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413"}}, "title": "Allow multiple contact sensors per link (#960)"}, "content": {"raw": "maybe `std::string filterName = this->GetScopedName;` and take out line 101", "markup": "markdown", "html": "<p>maybe <code>std::string filterName = this-&gt;GetScopedName;</code> and take out line 101</p>", "type": "rendered"}, "created_on": "2015-02-04T20:52:04.435219+00:00", "user": {"display_name": "Jackie K", "uuid": "{e3d60b62-b7c7-4863-b9b9-cdae9f123cec}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3d60b62-b7c7-4863-b9b9-cdae9f123cec%7D"}, "html": {"href": "https://bitbucket.org/%7Be3d60b62-b7c7-4863-b9b9-cdae9f123cec%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/ea011fa2919d4bd4568b32b440eda779d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJK-0.png"}}, "nickname": "jacquelinekay", "type": "user", "account_id": "557058:f56c822f-f75c-4665-80f9-6e7764893b9c"}, "inline": {}, "updated_on": "2015-02-04T20:52:04.446668+00:00", "type": "pullrequest_comment", "id": 4973391}, "pull_request": {"type": "pullrequest", "id": 1413, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413"}}, "title": "Allow multiple contact sensors per link (#960)"}}, {"update": {"description": "Redo of pull request #1411.\r\n\r\nPer #960, it was not possible to have multiple contact sensors on a single link, since the filter was not using unique names, leading to the following error messages:\r\n~~~\r\n[Err] [ContactManager.cc:275] Filter with the same name already exists! Aborting\r\n~~~\r\n\r\nThis adds a test that illustrates the failure (checkout 48a5d29d7332 to confirm the failure) and a fix. I renamed the existing `EmptyWorld` test, since it didn't actually test anything.\r\n\r\nThere was also a weird bug in transport that I found while running the test. It was seg-faulting after calling Unsubscribe():\r\n~~~\r\n[ RUN      ] PhysicsEngines/ContactSensor.MultipleSensors/0\r\n...\r\n[Err] [ContactManager.cc:275] Filter with the same name already exists! Aborting\r\n[New Thread 0x7fff95574700 (LWP 3185)]\r\n[New Thread 0x7fff94d73700 (LWP 3186)]\r\n[New Thread 0x7fff67fff700 (LWP 3187)]\r\n[New Thread 0x7fff677fe700 (LWP 3188)]\r\n[Dbg] [ServerFixture.cc:144] ServerFixture load in 1 seconds, timeout after 600 seconds\r\n\r\nProgram received signal SIGSEGV, Segmentation fault.\r\ngazebo::transport::Node::GetMsgType (this=0x7624a0, _topic=...)\r\n    at /home/scpeters/ws/gazebo3/src/gazebo/gazebo/transport/Node.cc:312\r\n312     return iter->second.front()->GetMsgType();\r\n(gdb) bt\r\n#0  gazebo::transport::Node::GetMsgType (this=0x7624a0, _topic=...)\r\n    at /home/scpeters/ws/gazebo3/src/gazebo/gazebo/transport/Node.cc:312\r\n#1  0x00007ffff6947acf in gazebo::transport::TopicManager::Unsubscribe (\r\n    this=this@entry=0x6a9f00 <SingletonT<gazebo::transport::TopicManager>::GetInstance()::t>, _topic=..., _node=...)\r\n    at /home/scpeters/ws/gazebo3/src/gazebo/gazebo/transport/TopicManager.cc:257\r\n#2  0x00007ffff6945835 in gazebo::transport::Subscriber::Unsubscribe (\r\n    this=this@entry=0x764070)\r\n    at /home/scpeters/ws/gazebo3/src/gazebo/gazebo/transport/Subscriber.cc:52\r\n...\r\n~~~\r\n\r\nAn extra check in Node.cc was all that was required.\r\n\r\n* [trusty Jenkins is happy](http://build.osrfoundation.org/job/gazebo-any-devel-trusty-amd64-gpu-nvidia/475/testReport/(root)/PhysicsEngines_ContactSensor/)", "title": "Allow multiple contact sensors per link (#960)", "destination": {"commit": {"hash": "b952a6b8dd1a", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/b952a6b8dd1a.json"}, "html": {"href": "#!/osrf/gazebo/commits/b952a6b8dd1a"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo_4.1"}}, "reason": "", "source": {"commit": {"hash": "52f8cb07723d", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/52f8cb07723d.json"}, "html": {"href": "#!/osrf/gazebo/commits/52f8cb07723d"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "issue_960"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2015-02-04T19:43:34.783505+00:00"}, "pull_request": {"type": "pullrequest", "id": 1413, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413"}}, "title": "Allow multiple contact sensors per link (#960)"}}, {"update": {"description": "Redo of pull request #1411.\r\n\r\nPer #960, it was not possible to have multiple contact sensors on a single link, since the filter was not using unique names, leading to the following error messages:\r\n~~~\r\n[Err] [ContactManager.cc:275] Filter with the same name already exists! Aborting\r\n~~~\r\n\r\nThis adds a test that illustrates the failure (checkout 48a5d29d7332 to confirm the failure) and a fix. I renamed the existing `EmptyWorld` test, since it didn't actually test anything.\r\n\r\nThere was also a weird bug in transport that I found while running the test. It was seg-faulting after calling Unsubscribe():\r\n~~~\r\n[ RUN      ] PhysicsEngines/ContactSensor.MultipleSensors/0\r\n...\r\n[Err] [ContactManager.cc:275] Filter with the same name already exists! Aborting\r\n[New Thread 0x7fff95574700 (LWP 3185)]\r\n[New Thread 0x7fff94d73700 (LWP 3186)]\r\n[New Thread 0x7fff67fff700 (LWP 3187)]\r\n[New Thread 0x7fff677fe700 (LWP 3188)]\r\n[Dbg] [ServerFixture.cc:144] ServerFixture load in 1 seconds, timeout after 600 seconds\r\n\r\nProgram received signal SIGSEGV, Segmentation fault.\r\ngazebo::transport::Node::GetMsgType (this=0x7624a0, _topic=...)\r\n    at /home/scpeters/ws/gazebo3/src/gazebo/gazebo/transport/Node.cc:312\r\n312     return iter->second.front()->GetMsgType();\r\n(gdb) bt\r\n#0  gazebo::transport::Node::GetMsgType (this=0x7624a0, _topic=...)\r\n    at /home/scpeters/ws/gazebo3/src/gazebo/gazebo/transport/Node.cc:312\r\n#1  0x00007ffff6947acf in gazebo::transport::TopicManager::Unsubscribe (\r\n    this=this@entry=0x6a9f00 <SingletonT<gazebo::transport::TopicManager>::GetInstance()::t>, _topic=..., _node=...)\r\n    at /home/scpeters/ws/gazebo3/src/gazebo/gazebo/transport/TopicManager.cc:257\r\n#2  0x00007ffff6945835 in gazebo::transport::Subscriber::Unsubscribe (\r\n    this=this@entry=0x764070)\r\n    at /home/scpeters/ws/gazebo3/src/gazebo/gazebo/transport/Subscriber.cc:52\r\n...\r\n~~~\r\n\r\nAn extra check in Node.cc was all that was required.\r\n\r\n* [trusty Jenkins is happy](http://build.osrfoundation.org/job/gazebo-any-devel-trusty-amd64-gpu-nvidia/475/testReport/(root)/PhysicsEngines_ContactSensor/)", "title": "Allow multiple contact sensors per link (#960)", "destination": {"commit": {"hash": "b952a6b8dd1a", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/b952a6b8dd1a.json"}, "html": {"href": "#!/osrf/gazebo/commits/b952a6b8dd1a"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo_4.1"}}, "reason": "", "source": {"commit": {"hash": "52f8cb07723d", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/52f8cb07723d.json"}, "html": {"href": "#!/osrf/gazebo/commits/52f8cb07723d"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "issue_960"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2015-02-04T19:43:34.745661+00:00"}, "pull_request": {"type": "pullrequest", "id": 1413, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1413.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1413"}}, "title": "Allow multiple contact sensors per link (#960)"}}]}