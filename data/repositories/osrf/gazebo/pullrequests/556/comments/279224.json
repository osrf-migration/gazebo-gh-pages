{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/556/comments/279224.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:None..None?path=deps%2Fopende%2Fsrc%2Fquickstep.cpp"}, "html": {"href": "#!/osrf/gazebo/pull-requests/556/_/diff#comment-279224"}}, "parent": {"id": 279172, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/556/comments/279172.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/556/_/diff#comment-279172"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 556, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/556.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/556"}}, "title": "minor performance improvements.  Change for loops to dot6() where allowed.  Reuse findex[index]."}, "content": {"raw": "There's a few other places in the file with `findex[index]` too.\n\n~~~\n$ grep -n 'findex\\[index\\]' deps/opende/src/quickstep.cpp | grep -v normal_index\n723:      // if (iteration > num_iterations && findex[index] < 0)\n724:      if (iteration >= num_iterations + precon_iterations && findex[index] < 0)\n786:        if (findex[index] >= 0) {\n787:          hi_act = dFabs (hi[index] * lambda[findex[index]]);\n941:            if (findex[index] != -1)\n980:              if (findex[index] == -1) {\n986:                //       iteration, findex[index], Jvnew, lo[index], hi[index]);\n~~~", "markup": "markdown", "html": "<p>There's a few other places in the file with <code>findex[index]</code> too.</p>\n<div class=\"codehilite\"><pre><span></span>$ grep -n <span class=\"s1\">&#39;findex\\[index\\]&#39;</span> deps/opende/src/quickstep.cpp <span class=\"p\">|</span> grep -v normal_index\n<span class=\"m\">723</span>:      // <span class=\"k\">if</span> <span class=\"o\">(</span>iteration &gt; num_iterations <span class=\"o\">&amp;&amp;</span> findex<span class=\"o\">[</span>index<span class=\"o\">]</span> &lt; <span class=\"m\">0</span><span class=\"o\">)</span>\n<span class=\"m\">724</span>:      <span class=\"k\">if</span> <span class=\"o\">(</span>iteration &gt;<span class=\"o\">=</span> num_iterations + precon_iterations <span class=\"o\">&amp;&amp;</span> findex<span class=\"o\">[</span>index<span class=\"o\">]</span> &lt; <span class=\"m\">0</span><span class=\"o\">)</span>\n<span class=\"m\">786</span>:        <span class=\"k\">if</span> <span class=\"o\">(</span>findex<span class=\"o\">[</span>index<span class=\"o\">]</span> &gt;<span class=\"o\">=</span> <span class=\"m\">0</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n<span class=\"m\">787</span>:          <span class=\"nv\">hi_act</span> <span class=\"o\">=</span> dFabs <span class=\"o\">(</span>hi<span class=\"o\">[</span>index<span class=\"o\">]</span> * lambda<span class=\"o\">[</span>findex<span class=\"o\">[</span>index<span class=\"o\">]])</span><span class=\"p\">;</span>\n<span class=\"m\">941</span>:            <span class=\"k\">if</span> <span class=\"o\">(</span>findex<span class=\"o\">[</span>index<span class=\"o\">]</span> !<span class=\"o\">=</span> -1<span class=\"o\">)</span>\n<span class=\"m\">980</span>:              <span class=\"k\">if</span> <span class=\"o\">(</span>findex<span class=\"o\">[</span>index<span class=\"o\">]</span> <span class=\"o\">==</span> -1<span class=\"o\">)</span> <span class=\"o\">{</span>\n<span class=\"m\">986</span>:                //       iteration, findex<span class=\"o\">[</span>index<span class=\"o\">]</span>, Jvnew, lo<span class=\"o\">[</span>index<span class=\"o\">]</span>, hi<span class=\"o\">[</span>index<span class=\"o\">])</span><span class=\"p\">;</span>\n</pre></div>", "type": "rendered"}, "created_on": "2013-05-29T16:56:28.463744+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {"to": null, "from": null, "outdated": false, "path": "deps/opende/src/quickstep.cpp"}, "updated_on": "2013-05-29T16:56:28.470883+00:00", "type": "pullrequest_comment", "id": 279224}