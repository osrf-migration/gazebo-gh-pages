{"pagelen": 50, "values": [{"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762/comments/43143326.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762/_/diff#comment-43143326"}}, "parent": {"id": 43135058, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762/comments/43135058.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762/_/diff#comment-43135058"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2762, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762"}}, "title": "Dart harness"}, "content": {"raw": "Yes, and the DART axis is consistent with the visual while the ODE one is not.", "markup": "markdown", "html": "<p>Yes, and the DART axis is consistent with the visual while the ODE one is not.</p>", "type": "rendered"}, "created_on": "2017-08-18T22:05:32.129878+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "updated_on": "2017-08-18T22:05:32.132536+00:00", "type": "pullrequest_comment", "id": 43143326}, "pull_request": {"type": "pullrequest", "id": 2762, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762"}}, "title": "Dart harness"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762/comments/43141045.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762/_/diff#comment-43141045"}}, "parent": {"id": 43141022, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762/comments/43141022.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762/_/diff#comment-43141022"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2762, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762"}}, "title": "Dart harness"}, "content": {"raw": "we may want to backport this to gazebo7", "markup": "markdown", "html": "<p>we may want to backport this to gazebo7</p>", "type": "rendered"}, "created_on": "2017-08-18T21:05:38.123114+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-08-18T21:05:38.125855+00:00", "type": "pullrequest_comment", "id": 43141045}, "pull_request": {"type": "pullrequest", "id": 2762, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762"}}, "title": "Dart harness"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762/comments/43141022.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762/_/diff#comment-43141022"}}, "parent": {"id": 43135058, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762/comments/43135058.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762/_/diff#comment-43135058"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2762, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762"}}, "title": "Dart harness"}, "content": {"raw": "I think the following will fix it:\n\n~~~\ndiff -r 91c16588e936 gazebo/physics/Joint.cc\n--- a/gazebo/physics/Joint.cc\tFri Aug 18 14:00:33 2017 -0700\n+++ b/gazebo/physics/Joint.cc\tFri Aug 18 14:04:52 2017 -0700\n@@ -67,9 +67,8 @@\n   this->stopStiffness[1] = 1e8;\n   this->stopDissipation[1] = 1.0;\n   // these flags are related to issue #494\n-  // set default to true for backward compatibility\n-  this->axisParentModelFrame[0] = true;\n-  this->axisParentModelFrame[1] = true;\n+  this->axisParentModelFrame[0] = false;\n+  this->axisParentModelFrame[1] = false;\n \n   if (!this->sdfJoint)\n   {\n~~~", "markup": "markdown", "html": "<p>I think the following will fix it:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gh\">diff -r 91c16588e936 gazebo/physics/Joint.cc</span>\n<span class=\"gd\">--- a/gazebo/physics/Joint.cc   Fri Aug 18 14:00:33 2017 -0700</span>\n<span class=\"gi\">+++ b/gazebo/physics/Joint.cc   Fri Aug 18 14:04:52 2017 -0700</span>\n<span class=\"gu\">@@ -67,9 +67,8 @@</span>\n   this-&gt;stopStiffness[1] = 1e8;\n   this-&gt;stopDissipation[1] = 1.0;\n   // these flags are related to issue #494\n<span class=\"gd\">-  // set default to true for backward compatibility</span>\n<span class=\"gd\">-  this-&gt;axisParentModelFrame[0] = true;</span>\n<span class=\"gd\">-  this-&gt;axisParentModelFrame[1] = true;</span>\n<span class=\"gi\">+  this-&gt;axisParentModelFrame[0] = false;</span>\n<span class=\"gi\">+  this-&gt;axisParentModelFrame[1] = false;</span>\n\n   if (!this-&gt;sdfJoint)\n   {\n</pre></div>", "type": "rendered"}, "created_on": "2017-08-18T21:05:12.036643+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-08-18T21:05:12.040303+00:00", "type": "pullrequest_comment", "id": 43141022}, "pull_request": {"type": "pullrequest", "id": 2762, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762"}}, "title": "Dart harness"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762/comments/43140861.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762/_/diff#comment-43140861"}}, "parent": {"id": 43134710, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762/comments/43134710.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762/_/diff#comment-43134710"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2762, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762"}}, "title": "Dart harness"}, "content": {"raw": "It should and looks like it does. Enabled in 91c1658", "markup": "markdown", "html": "<p>It should and looks like it does. Enabled in <a href=\"#!/osrf/gazebo/commits/91c1658\" rel=\"nofollow\" class=\"ap-connect-link\">91c1658</a></p>", "type": "rendered"}, "created_on": "2017-08-18T21:01:49.178259+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "inline": {}, "updated_on": "2017-08-18T21:01:49.181076+00:00", "type": "pullrequest_comment", "id": 43140861}, "pull_request": {"type": "pullrequest", "id": 2762, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762"}}, "title": "Dart harness"}}, {"update": {"description": "This pull request adds the ability to create joints with `Model::CreateJoint` while using DART physics (see issue #903). It implements joint creation using \"loop\" joints since DART does not support multiple parent joints for a single BodyNode. More specifically, when `CreateJoint` is called a new DART joint *and* BodyNode are added to the skeleton and the BodyNode is then welded to the child link as a slave body. Thus the child link behaves as if it were attached to the new joint. The pull request also supports removing loop joints though not other joints.\r\n\r\nThe added functionality is sufficient to use the harness plugin with DART, so the `harness.cc` integration tests are enabled for DART. Some of the tests in `joint_test.cc` are also enabled although `JointCreationDestructionTest` tends to fail.\r\n\r\n* b3ebe59 makes `Model::CreateJoint` and `Model::RemoveJoint` virtual and overrides them in the `DARTModel` class. 578f1ea actually adds the logic for the `DARTModel` versions of the functions and modifies the `DARTLink` class to keep track of the weld constraints for loop joints as well as slave BodyNodes so that they can be removed later if desired. The code to create loop joints already exists from pull request #2756. However, since `CreateJoint` may be called after the model, joints, etc. have been initialized, it may need to redistribute the mass of the child link with the new slave BodyNode (5496129) and initialize the new joint to achieve the correct weld pose (926045c).\r\n\r\n* 9241cb6 changes how DART joint positions are reset to handle changing numbers of joints after model initialization. Formerly `DARTModel` assumed a fixed number of DOF. Now the joint positions are reset individually within `DARTJoint::Reset`.\r\n\r\n* 8e89ccb moves the allocations of DART joint properties to the joint class constructors since `DARTJoint::Load` is not called if `CreateJoint(name, type, parent, child)` is used to create a joint instead of `CreateJoint(sdf_elem)`. The former call caused segfaults without this change.\r\n\r\n* bb2147b and fd8e271 basically cancel each other out.\r\n\r\nNote: I tested this pull request with pull request #2697, which supports harness re-attaching, and the harness integration tests worked.", "title": "Dart harness", "destination": {"commit": {"hash": "1054201b80f7", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/1054201b80f7.json"}, "html": {"href": "#!/osrf/gazebo/commits/1054201b80f7"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "91c16588e936", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/91c16588e936.json"}, "html": {"href": "#!/osrf/gazebo/commits/91c16588e936"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "dart_harness"}}, "state": "OPEN", "author": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "date": "2017-08-18T21:01:09.781464+00:00"}, "pull_request": {"type": "pullrequest", "id": 2762, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762"}}, "title": "Dart harness"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762/comments/43140660.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762/_/diff#comment-43140660"}}, "parent": {"id": 43132905, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762/comments/43132905.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762/_/diff#comment-43132905"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2762, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762"}}, "title": "Dart harness"}, "content": {"raw": "Added in a55569a. I also included some changes from \"dart_kinematic_loops\" that I forgot to add.", "markup": "markdown", "html": "<p>Added in <a href=\"#!/osrf/gazebo/commits/a55569a\" rel=\"nofollow\" class=\"ap-connect-link\">a55569a</a>. I also included some changes from \"dart_kinematic_loops\" that I forgot to add.</p>", "type": "rendered"}, "created_on": "2017-08-18T20:57:46.284406+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "inline": {}, "updated_on": "2017-08-18T20:57:46.287540+00:00", "type": "pullrequest_comment", "id": 43140660}, "pull_request": {"type": "pullrequest", "id": 2762, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762"}}, "title": "Dart harness"}}, {"update": {"description": "This pull request adds the ability to create joints with `Model::CreateJoint` while using DART physics (see issue #903). It implements joint creation using \"loop\" joints since DART does not support multiple parent joints for a single BodyNode. More specifically, when `CreateJoint` is called a new DART joint *and* BodyNode are added to the skeleton and the BodyNode is then welded to the child link as a slave body. Thus the child link behaves as if it were attached to the new joint. The pull request also supports removing loop joints though not other joints.\r\n\r\nThe added functionality is sufficient to use the harness plugin with DART, so the `harness.cc` integration tests are enabled for DART. Some of the tests in `joint_test.cc` are also enabled although `JointCreationDestructionTest` tends to fail.\r\n\r\n* b3ebe59 makes `Model::CreateJoint` and `Model::RemoveJoint` virtual and overrides them in the `DARTModel` class. 578f1ea actually adds the logic for the `DARTModel` versions of the functions and modifies the `DARTLink` class to keep track of the weld constraints for loop joints as well as slave BodyNodes so that they can be removed later if desired. The code to create loop joints already exists from pull request #2756. However, since `CreateJoint` may be called after the model, joints, etc. have been initialized, it may need to redistribute the mass of the child link with the new slave BodyNode (5496129) and initialize the new joint to achieve the correct weld pose (926045c).\r\n\r\n* 9241cb6 changes how DART joint positions are reset to handle changing numbers of joints after model initialization. Formerly `DARTModel` assumed a fixed number of DOF. Now the joint positions are reset individually within `DARTJoint::Reset`.\r\n\r\n* 8e89ccb moves the allocations of DART joint properties to the joint class constructors since `DARTJoint::Load` is not called if `CreateJoint(name, type, parent, child)` is used to create a joint instead of `CreateJoint(sdf_elem)`. The former call caused segfaults without this change.\r\n\r\n* bb2147b and fd8e271 basically cancel each other out.\r\n\r\nNote: I tested this pull request with pull request #2697, which supports harness re-attaching, and the harness integration tests worked.", "title": "Dart harness", "destination": {"commit": {"hash": "1054201b80f7", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/1054201b80f7.json"}, "html": {"href": "#!/osrf/gazebo/commits/1054201b80f7"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "a55569a7220e", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/a55569a7220e.json"}, "html": {"href": "#!/osrf/gazebo/commits/a55569a7220e"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "dart_harness"}}, "state": "OPEN", "author": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "date": "2017-08-18T20:56:25.565741+00:00"}, "pull_request": {"type": "pullrequest", "id": 2762, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762"}}, "title": "Dart harness"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762/comments/43135058.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762/_/diff#comment-43135058"}}, "parent": {"id": 43134874, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762/comments/43134874.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762/_/diff#comment-43134874"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2762, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762"}}, "title": "Dart harness"}, "content": {"raw": "it seems like ode is interpreting the joint axis in the global frame, so maybe it has `use_parent_model_frame` == true?", "markup": "markdown", "html": "<p>it seems like ode is interpreting the joint axis in the global frame, so maybe it has <code>use_parent_model_frame</code> == true?</p>", "type": "rendered"}, "created_on": "2017-08-18T19:17:02.831748+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-08-18T19:17:02.834150+00:00", "type": "pullrequest_comment", "id": 43135058}, "pull_request": {"type": "pullrequest", "id": 2762, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762"}}, "title": "Dart harness"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762/comments/43134874.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762/_/diff#comment-43134874"}}, "parent": {"id": 43134757, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762/comments/43134757.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762/_/diff#comment-43134757"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2762, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762"}}, "title": "Dart harness"}, "content": {"raw": "I'm not sure which is correct", "markup": "markdown", "html": "<p>I'm not sure which is correct</p>", "type": "rendered"}, "created_on": "2017-08-18T19:13:12.829477+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-08-18T19:13:12.831988+00:00", "type": "pullrequest_comment", "id": 43134874}, "pull_request": {"type": "pullrequest", "id": 2762, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762"}}, "title": "Dart harness"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762/comments/43134757.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762/_/diff#comment-43134757"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2762, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762"}}, "title": "Dart harness"}, "content": {"raw": "I've tested detaching and re-attaching at a weird pose (`1 2 3 4 5 6`) but the joint axis differs between ODE and dart", "markup": "markdown", "html": "<p>I've tested detaching and re-attaching at a weird pose (<code>1 2 3 4 5 6</code>) but the joint axis differs between ODE and dart</p>", "type": "rendered"}, "created_on": "2017-08-18T19:10:44.954754+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-08-18T19:10:44.957184+00:00", "type": "pullrequest_comment", "id": 43134757}, "pull_request": {"type": "pullrequest", "id": 2762, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762"}}, "title": "Dart harness"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762/comments/43134710.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762/_/diff#comment-43134710"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2762, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762"}}, "title": "Dart harness"}, "content": {"raw": "does this test work now?", "markup": "markdown", "html": "<p>does this test work now?</p>", "type": "rendered"}, "created_on": "2017-08-18T19:09:42.446383+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2017-08-18T19:09:42.449932+00:00", "type": "pullrequest_comment", "id": 43134710}, "pull_request": {"type": "pullrequest", "id": 2762, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762"}}, "title": "Dart harness"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762/comments/43133049.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762/_/diff#comment-43133049"}}, "parent": {"id": 42425460, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762/comments/42425460.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762/_/diff#comment-42425460"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2762, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762"}}, "title": "Dart harness"}, "content": {"raw": "queued another build:\n\n* https://build.osrfoundation.org/view/upstream-dart/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/40", "markup": "markdown", "html": "<p>queued another build:</p>\n<ul>\n<li><a href=\"https://build.osrfoundation.org/view/upstream-dart/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/40\" rel=\"nofollow\" class=\"ap-connect-link\">https://build.osrfoundation.org/view/upstream-dart/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/40</a></li>\n</ul>", "type": "rendered"}, "created_on": "2017-08-18T18:40:41.753668+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-08-18T18:40:41.756237+00:00", "type": "pullrequest_comment", "id": 43133049}, "pull_request": {"type": "pullrequest", "id": 2762, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762"}}, "title": "Dart harness"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762/comments/43132905.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762/_/diff#comment-43132905"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2762, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762"}}, "title": "Dart harness"}, "content": {"raw": "Can you add an entry to the Migration guide stating that you've made these functions virtual? That seems like a smart change", "markup": "markdown", "html": "<p>Can you add an entry to the Migration guide stating that you've made these functions virtual? That seems like a smart change</p>", "type": "rendered"}, "created_on": "2017-08-18T18:38:35.865575+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2017-08-18T18:38:35.867981+00:00", "type": "pullrequest_comment", "id": 43132905}, "pull_request": {"type": "pullrequest", "id": 2762, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762"}}, "title": "Dart harness"}}, {"update": {"description": "This pull request adds the ability to create joints with `Model::CreateJoint` while using DART physics (see issue #903). It implements joint creation using \"loop\" joints since DART does not support multiple parent joints for a single BodyNode. More specifically, when `CreateJoint` is called a new DART joint *and* BodyNode are added to the skeleton and the BodyNode is then welded to the child link as a slave body. Thus the child link behaves as if it were attached to the new joint. The pull request also supports removing loop joints though not other joints.\r\n\r\nThe added functionality is sufficient to use the harness plugin with DART, so the `harness.cc` integration tests are enabled for DART. Some of the tests in `joint_test.cc` are also enabled although `JointCreationDestructionTest` tends to fail.\r\n\r\n* b3ebe59 makes `Model::CreateJoint` and `Model::RemoveJoint` virtual and overrides them in the `DARTModel` class. 578f1ea actually adds the logic for the `DARTModel` versions of the functions and modifies the `DARTLink` class to keep track of the weld constraints for loop joints as well as slave BodyNodes so that they can be removed later if desired. The code to create loop joints already exists from pull request #2756. However, since `CreateJoint` may be called after the model, joints, etc. have been initialized, it may need to redistribute the mass of the child link with the new slave BodyNode (5496129) and initialize the new joint to achieve the correct weld pose (926045c).\r\n\r\n* 9241cb6 changes how DART joint positions are reset to handle changing numbers of joints after model initialization. Formerly `DARTModel` assumed a fixed number of DOF. Now the joint positions are reset individually within `DARTJoint::Reset`.\r\n\r\n* 8e89ccb moves the allocations of DART joint properties to the joint class constructors since `DARTJoint::Load` is not called if `CreateJoint(name, type, parent, child)` is used to create a joint instead of `CreateJoint(sdf_elem)`. The former call caused segfaults without this change.\r\n\r\n* bb2147b and fd8e271 basically cancel each other out.\r\n\r\nNote: I tested this pull request with pull request #2697, which supports harness re-attaching, and the harness integration tests worked.", "title": "Dart harness", "destination": {"commit": {"hash": "1054201b80f7", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/1054201b80f7.json"}, "html": {"href": "#!/osrf/gazebo/commits/1054201b80f7"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "9d471809df7c", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/9d471809df7c.json"}, "html": {"href": "#!/osrf/gazebo/commits/9d471809df7c"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "dart_harness"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2017-08-18T18:01:27.112380+00:00"}, "pull_request": {"type": "pullrequest", "id": 2762, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762"}}, "title": "Dart harness"}}, {"update": {"description": "This pull request adds the ability to create joints with `Model::CreateJoint` while using DART physics (see issue #903). It implements joint creation using \"loop\" joints since DART does not support multiple parent joints for a single BodyNode. More specifically, when `CreateJoint` is called a new DART joint *and* BodyNode are added to the skeleton and the BodyNode is then welded to the child link as a slave body. Thus the child link behaves as if it were attached to the new joint. The pull request also supports removing loop joints though not other joints.\r\n\r\nThe added functionality is sufficient to use the harness plugin with DART, so the `harness.cc` integration tests are enabled for DART. Some of the tests in `joint_test.cc` are also enabled although `JointCreationDestructionTest` tends to fail.\r\n\r\n* b3ebe59 makes `Model::CreateJoint` and `Model::RemoveJoint` virtual and overrides them in the `DARTModel` class. 578f1ea actually adds the logic for the `DARTModel` versions of the functions and modifies the `DARTLink` class to keep track of the weld constraints for loop joints as well as slave BodyNodes so that they can be removed later if desired. The code to create loop joints already exists from pull request #2756. However, since `CreateJoint` may be called after the model, joints, etc. have been initialized, it may need to redistribute the mass of the child link with the new slave BodyNode (5496129) and initialize the new joint to achieve the correct weld pose (926045c).\r\n\r\n* 9241cb6 changes how DART joint positions are reset to handle changing numbers of joints after model initialization. Formerly `DARTModel` assumed a fixed number of DOF. Now the joint positions are reset individually within `DARTJoint::Reset`.\r\n\r\n* 8e89ccb moves the allocations of DART joint properties to the joint class constructors since `DARTJoint::Load` is not called if `CreateJoint(name, type, parent, child)` is used to create a joint instead of `CreateJoint(sdf_elem)`. The former call caused segfaults without this change.\r\n\r\n* bb2147b and fd8e271 basically cancel each other out.\r\n\r\nNote: I tested this pull request with pull request #2697, which supports harness re-attaching, and the harness integration tests worked.", "title": "Dart harness", "destination": {"commit": {"hash": "bb8abcd6ee11", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/bb8abcd6ee11.json"}, "html": {"href": "#!/osrf/gazebo/commits/bb8abcd6ee11"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "9657a2d2f83c", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/9657a2d2f83c.json"}, "html": {"href": "#!/osrf/gazebo/commits/9657a2d2f83c"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "dart_harness"}}, "state": "OPEN", "author": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "date": "2017-08-18T01:24:18.223070+00:00"}, "pull_request": {"type": "pullrequest", "id": 2762, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762"}}, "title": "Dart harness"}}, {"update": {"description": "**Note**: This PR builds on pull request #2756. I recommend waiting to review this PR until 2756 has been merged since it should simplify the diff considerably.\r\n\r\nThis pull request adds the ability to create joints with `Model::CreateJoint` while using DART physics (see issue #903). It implements joint creation using \"loop\" joints since DART does not support multiple parent joints for a single BodyNode. More specifically, when `CreateJoint` is called a new DART joint *and* BodyNode are added to the skeleton and the BodyNode is then welded to the child link as a slave body. Thus the child link behaves as if it were attached to the new joint. The pull request also supports removing loop joints though not other joints.\r\n\r\nThe added functionality is sufficient to use the harness plugin with DART, so the `harness.cc` integration tests are enabled for DART. Some of the tests in `joint_test.cc` are also enabled although `JointCreationDestructionTest` tends to fail.\r\n\r\n* b3ebe59 makes `Model::CreateJoint` and `Model::RemoveJoint` virtual and overrides them in the `DARTModel` class. 578f1ea actually adds the logic for the `DARTModel` versions of the functions and modifies the `DARTLink` class to keep track of the weld constraints for loop joints as well as slave BodyNodes so that they can be removed later if desired. The code to create loop joints already exists from pull request #2756. However, since `CreateJoint` may be called after the model, joints, etc. have been initialized, it may need to redistribute the mass of the child link with the new slave BodyNode (5496129) and initialize the new joint to achieve the correct weld pose (926045c).\r\n\r\n* 9241cb6 changes how DART joint positions are reset to handle changing numbers of joints after model initialization. Formerly `DARTModel` assumed a fixed number of DOF. Now the joint positions are reset individually within `DARTJoint::Reset`.\r\n\r\n* 8e89ccb moves the allocations of DART joint properties to the joint class constructors since `DARTJoint::Load` is not called if `CreateJoint(name, type, parent, child)` is used to create a joint instead of `CreateJoint(sdf_elem)`. The former call caused segfaults without this change.\r\n\r\n* bb2147b and fd8e271 basically cancel each other out.\r\n\r\nNote: I tested this pull request with pull request #2697, which supports harness re-attaching, and the harness integration tests worked.", "title": "Dart harness", "destination": {"commit": {"hash": "bb8abcd6ee11", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/bb8abcd6ee11.json"}, "html": {"href": "#!/osrf/gazebo/commits/bb8abcd6ee11"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "9657a2d2f83c", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/9657a2d2f83c.json"}, "html": {"href": "#!/osrf/gazebo/commits/9657a2d2f83c"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "dart_harness"}}, "state": "OPEN", "author": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "date": "2017-08-18T01:22:37.113643+00:00"}, "pull_request": {"type": "pullrequest", "id": 2762, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762"}}, "title": "Dart harness"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762/comments/42863657.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762/_/diff#comment-42863657"}}, "parent": {"id": 42862198, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762/comments/42862198.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762/_/diff#comment-42862198"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2762, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762"}}, "title": "Dart harness"}, "content": {"raw": "Thanks!", "markup": "markdown", "html": "<p>Thanks!</p>", "type": "rendered"}, "created_on": "2017-08-15T19:54:06.444814+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "updated_on": "2017-08-15T19:54:06.447294+00:00", "type": "pullrequest_comment", "id": 42863657}, "pull_request": {"type": "pullrequest", "id": 2762, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762"}}, "title": "Dart harness"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762/comments/42862198.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762/_/diff#comment-42862198"}}, "parent": {"id": 42430889, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762/comments/42430889.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762/_/diff#comment-42430889"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2762, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762"}}, "title": "Dart harness"}, "content": {"raw": "I updated the [dart_docker branch of release-tools](https://bitbucket.org/osrf/release-tools/commits/3f9aac65fa782f99aabf0d6f834874e32febc57a) and started a [new build](https://build.osrfoundation.org/view/upstream-dart/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/38/)", "markup": "markdown", "html": "<p>I updated the <a data-is-external-link=\"true\" href=\"https://bitbucket.org/osrf/release-tools/commits/3f9aac65fa782f99aabf0d6f834874e32febc57a\" rel=\"nofollow\">dart_docker branch of release-tools</a> and started a <a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/view/upstream-dart/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/38/\" rel=\"nofollow\">new build</a></p>", "type": "rendered"}, "created_on": "2017-08-15T19:30:26.478606+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-08-15T19:30:26.482761+00:00", "type": "pullrequest_comment", "id": 42862198}, "pull_request": {"type": "pullrequest", "id": 2762, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762"}}, "title": "Dart harness"}}, {"update": {"description": "**Note**: This PR builds on pull request #2756. I recommend waiting to review this PR until 2756 has been merged since it should simplify the diff considerably.\r\n\r\nThis pull request adds the ability to create joints with `Model::CreateJoint` while using DART physics (see issue #903). It implements joint creation using \"loop\" joints since DART does not support multiple parent joints for a single BodyNode. More specifically, when `CreateJoint` is called a new DART joint *and* BodyNode are added to the skeleton and the BodyNode is then welded to the child link as a slave body. Thus the child link behaves as if it were attached to the new joint. The pull request also supports removing loop joints though not other joints.\r\n\r\nThe added functionality is sufficient to use the harness plugin with DART, so the `harness.cc` integration tests are enabled for DART. Some of the tests in `joint_test.cc` are also enabled although `JointCreationDestructionTest` tends to fail.\r\n\r\n* b3ebe59 makes `Model::CreateJoint` and `Model::RemoveJoint` virtual and overrides them in the `DARTModel` class. 578f1ea actually adds the logic for the `DARTModel` versions of the functions and modifies the `DARTLink` class to keep track of the weld constraints for loop joints as well as slave BodyNodes so that they can be removed later if desired. The code to create loop joints already exists from pull request #2756. However, since `CreateJoint` may be called after the model, joints, etc. have been initialized, it may need to redistribute the mass of the child link with the new slave BodyNode (5496129) and initialize the new joint to achieve the correct weld pose (926045c).\r\n\r\n* 9241cb6 changes how DART joint positions are reset to handle changing numbers of joints after model initialization. Formerly `DARTModel` assumed a fixed number of DOF. Now the joint positions are reset individually within `DARTJoint::Reset`.\r\n\r\n* 8e89ccb moves the allocations of DART joint properties to the joint class constructors since `DARTJoint::Load` is not called if `CreateJoint(name, type, parent, child)` is used to create a joint instead of `CreateJoint(sdf_elem)`. The former call caused segfaults without this change.\r\n\r\n* bb2147b and fd8e271 basically cancel each other out.\r\n\r\nNote: I tested this pull request with pull request #2697, which supports harness re-attaching, and the harness integration tests worked.", "title": "Dart harness", "destination": {"commit": {"hash": "c1c50dc2390e", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/c1c50dc2390e.json"}, "html": {"href": "#!/osrf/gazebo/commits/c1c50dc2390e"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "afcbb0064773", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/afcbb0064773.json"}, "html": {"href": "#!/osrf/gazebo/commits/afcbb0064773"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "dart_harness"}}, "state": "OPEN", "author": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "date": "2017-08-14T21:12:25.002334+00:00"}, "pull_request": {"type": "pullrequest", "id": 2762, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762"}}, "title": "Dart harness"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762/comments/42430889.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762/_/diff#comment-42430889"}}, "parent": {"id": 42425460, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762/comments/42425460.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762/_/diff#comment-42425460"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2762, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762"}}, "title": "Dart harness"}, "content": {"raw": "The build failed because dart branch \"release-6.1\" no longer exists. I tried to build with branch \"release-6.2\" but it appears to still have tried 6.1:\n\n* https://build.osrfoundation.org/view/upstream-dart/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/36/\n\n~~~\n# BEGIN SECTION: compiling DART from source\n+ '[' -d /var/lib/jenkins/workspace/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/dart ']'\n+ cd /var/lib/jenkins/workspace/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/dart\n+ git pull\nYour configuration specifies to merge with the ref 'refs/heads/release-6.1'\nfrom the remote, but no such ref was fetched.\n~~~", "markup": "markdown", "html": "<p>The build failed because dart branch \"release-6.1\" no longer exists. I tried to build with branch \"release-6.2\" but it appears to still have tried 6.1:</p>\n<ul>\n<li><a href=\"https://build.osrfoundation.org/view/upstream-dart/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/36/\" rel=\"nofollow\" class=\"ap-connect-link\">https://build.osrfoundation.org/view/upstream-dart/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/36/</a></li>\n</ul>\n<div class=\"codehilite\"><pre><span></span># BEGIN SECTION: compiling DART from source\n+ &#39;[&#39; -d /var/lib/jenkins/workspace/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/dart &#39;]&#39;\n+ cd /var/lib/jenkins/workspace/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/dart\n+ git pull\nYour configuration specifies to merge with the ref &#39;refs/heads/release-6.1&#39;\nfrom the remote, but no such ref was fetched.\n</pre></div>", "type": "rendered"}, "created_on": "2017-08-08T23:23:21.843071+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "updated_on": "2017-08-08T23:23:21.845551+00:00", "type": "pullrequest_comment", "id": 42430889}, "pull_request": {"type": "pullrequest", "id": 2762, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762"}}, "title": "Dart harness"}}, {"update": {"description": "**Note**: This PR builds on pull request #2756. I recommend waiting to review this PR until 2756 has been merged since it should simplify the diff considerably.\r\n\r\nThis pull request adds the ability to create joints with `Model::CreateJoint` while using DART physics (see issue #903). It implements joint creation using \"loop\" joints since DART does not support multiple parent joints for a single BodyNode. More specifically, when `CreateJoint` is called a new DART joint *and* BodyNode are added to the skeleton and the BodyNode is then welded to the child link as a slave body. Thus the child link behaves as if it were attached to the new joint. The pull request also supports removing loop joints though not other joints.\r\n\r\nThe added functionality is sufficient to use the harness plugin with DART, so the `harness.cc` integration tests are enabled for DART. Some of the tests in `joint_test.cc` are also enabled although `JointCreationDestructionTest` tends to fail.\r\n\r\n* b3ebe59 makes `Model::CreateJoint` and `Model::RemoveJoint` virtual and overrides them in the `DARTModel` class. 578f1ea actually adds the logic for the `DARTModel` versions of the functions and modifies the `DARTLink` class to keep track of the weld constraints for loop joints as well as slave BodyNodes so that they can be removed later if desired. The code to create loop joints already exists from pull request #2756. However, since `CreateJoint` may be called after the model, joints, etc. have been initialized, it may need to redistribute the mass of the child link with the new slave BodyNode (5496129) and initialize the new joint to achieve the correct weld pose (926045c).\r\n\r\n* 9241cb6 changes how DART joint positions are reset to handle changing numbers of joints after model initialization. Formerly `DARTModel` assumed a fixed number of DOF. Now the joint positions are reset individually within `DARTJoint::Reset`.\r\n\r\n* 8e89ccb moves the allocations of DART joint properties to the joint class constructors since `DARTJoint::Load` is not called if `CreateJoint(name, type, parent, child)` is used to create a joint instead of `CreateJoint(sdf_elem)`. The former call caused segfaults without this change.\r\n\r\n* bb2147b and fd8e271 basically cancel each other out.\r\n\r\nNote: I tested this pull request with pull request #2697, which supports harness re-attaching, and the harness integration tests worked.", "title": "Dart harness", "destination": {"commit": {"hash": "c1c50dc2390e", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/c1c50dc2390e.json"}, "html": {"href": "#!/osrf/gazebo/commits/c1c50dc2390e"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "8e89ccb34dfb", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/8e89ccb34dfb.json"}, "html": {"href": "#!/osrf/gazebo/commits/8e89ccb34dfb"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "dart_harness"}}, "state": "OPEN", "author": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "date": "2017-08-08T21:21:12.967082+00:00"}, "pull_request": {"type": "pullrequest", "id": 2762, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762"}}, "title": "Dart harness"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762/comments/42425460.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762/_/diff#comment-42425460"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2762, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762"}}, "title": "Dart harness"}, "content": {"raw": "build test started\n\n* https://build.osrfoundation.org/view/upstream-dart/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/34/", "markup": "markdown", "html": "<p>build test started</p>\n<ul>\n<li><a href=\"https://build.osrfoundation.org/view/upstream-dart/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/34/\" rel=\"nofollow\" class=\"ap-connect-link\">https://build.osrfoundation.org/view/upstream-dart/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/34/</a></li>\n</ul>", "type": "rendered"}, "created_on": "2017-08-08T21:13:47.196488+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "updated_on": "2017-08-08T21:13:47.198672+00:00", "type": "pullrequest_comment", "id": 42425460}, "pull_request": {"type": "pullrequest", "id": 2762, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762"}}, "title": "Dart harness"}}, {"update": {"description": "**Note**: This PR builds on pull request #2756. I recommend waiting to review this PR until 2756 has been merged since it should simplify the diff considerably.\r\n\r\nThis pull request adds the ability to create joints with `Model::CreateJoint` while using DART physics. It implements joint creation using \"loop\" joints since DART does not support multiple parent joints for a single BodyNode. More specifically, when `CreateJoint` is called a new DART joint *and* BodyNode are added to the skeleton and the BodyNode is then welded to the child link as a slave body. Thus the child link behaves as if it were attached to the new joint. The pull request also supports removing loop joints though not other joints.\r\n\r\nThe added functionality is sufficient to use the harness plugin with DART, so the `harness.cc` integration tests are enabled for DART. Some of the tests in `joint_test.cc` are also enabled although `JointCreationDestructionTest` tends to fail.\r\n\r\n* b3ebe59 makes `Model::CreateJoint` and `Model::RemoveJoint` virtual and overrides them in the `DARTModel` class. 578f1ea actually adds the logic for the `DARTModel` versions of the functions and modifies the `DARTLink` class to keep track of the weld constraints for loop joints as well as slave BodyNodes so that they can be removed later if desired. The code to create loop joints already exists from pull request #2756. However, since `CreateJoint` may be called after the model, joints, etc. have been initialized, it may need to redistribute the mass of the child link with the new slave BodyNode (5496129) and initialize the new joint to achieve the correct weld pose (926045c).\r\n\r\n* 9241cb6 changes how DART joint positions are reset to handle changing numbers of joints after model initialization. Formerly `DARTModel` assumed a fixed number of DOF. Now the joint positions are reset individually within `DARTJoint::Reset`.\r\n\r\n* 8e89ccb moves the allocations of DART joint properties to the joint class constructors since `DARTJoint::Load` is not called if `CreateJoint(name, type, parent, child)` is used to create a joint instead of `CreateJoint(sdf_elem)`. The former call caused segfaults without this change.\r\n\r\n* bb2147b and fd8e271 basically cancel each other out.\r\n\r\nNote: I tested this pull request with pull request #2697, which supports harness re-attaching, and the harness integration tests worked.", "title": "Dart harness", "destination": {"commit": {"hash": "c1c50dc2390e", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/c1c50dc2390e.json"}, "html": {"href": "#!/osrf/gazebo/commits/c1c50dc2390e"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "8e89ccb34dfb", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/8e89ccb34dfb.json"}, "html": {"href": "#!/osrf/gazebo/commits/8e89ccb34dfb"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "dart_harness"}}, "state": "OPEN", "author": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "date": "2017-08-08T21:04:58.372512+00:00"}, "pull_request": {"type": "pullrequest", "id": 2762, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762"}}, "title": "Dart harness"}}, {"update": {"description": "**Note**: This PR builds on pull request #2756. I recommend waiting to review this PR until 2756 has been merged since it should simplify the diff considerably.\r\n\r\nThis pull request adds the ability to create joints with `Model::CreateJoint` while using DART physics. It implements joint creation using \"loop\" joints since DART does not support multiple parent joints for a single BodyNode. More specifically, when `CreateJoint` is called a new DART joint *and* BodyNode are added to the skeleton and the BodyNode is then welded to the child link as a slave body. Thus the child link behaves as if it were attached to the new joint. The pull request also supports removing loop joints though not other joints.\r\n\r\nThe added functionality is sufficient to use the harness plugin with DART, so the `harness.cc` integration tests are enabled for DART. Some of the tests in `joint_test.cc` are also enabled although `JointCreationDestructionTest` tends to fail.\r\n\r\n* b3ebe59 makes `Model::CreateJoint` and `Model::RemoveJoint` virtual and overrides them in the `DARTModel` class. 578f1ea actually adds the logic for the `DARTModel` versions of the functions and modifies the `DARTLink` class to keep track of the weld constraints for loop joints as well as slave BodyNodes so that they can be removed later if desired. The code to create loop joints already exists from pull request #2756. However, since `CreateJoint` may be called after the model, joints, etc. have been initialized, it may need to redistribute the mass of the child link with the new slave BodyNode (5496129) and initialize the new joint to achieve the correct weld pose (926045c).\r\n\r\n* 9241cb6 changes how DART joint positions are reset to handle changing numbers of joints after model initialization. Formerly `DARTModel` assumed a fixed number of DOF. Now the joint positions are reset individually within `DARTJoint::Reset`.\r\n\r\n* 8e89ccb moves the allocations of DART joint properties to the joint class constructors since `DARTJoint::Load` is not called if `CreateJoint(name, type, parent, child)` is used to create a joint instead of `CreateJoint(sdf_elem)`. The former call caused segfaults without this change.\r\n\r\n* bb2147b and fd8e271 basically cancel each other out.\r\n\r\nNote: I tested this pull request with pull request #2697, which supports harness re-attaching, and the harness integration tests worked.", "title": "Dart harness", "destination": {"commit": {"hash": "c1c50dc2390e", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/c1c50dc2390e.json"}, "html": {"href": "#!/osrf/gazebo/commits/c1c50dc2390e"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "8e89ccb34dfb", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/8e89ccb34dfb.json"}, "html": {"href": "#!/osrf/gazebo/commits/8e89ccb34dfb"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "dart_harness"}}, "state": "OPEN", "author": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "date": "2017-08-08T21:04:58.334272+00:00"}, "pull_request": {"type": "pullrequest", "id": 2762, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2762.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2762"}}, "title": "Dart harness"}}]}