{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1473/comments/5431553.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1473/_/diff#comment-5431553"}}, "parent": {"id": 5431159, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1473/comments/5431159.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1473/_/diff#comment-5431159"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1473, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1473.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1473"}}, "title": "Implemented SimbodyPhysics::SetParam and slimmed down physics engines"}, "content": {"raw": "I think there is a solution here that could save a lot of lines of code, but I haven't implemented it optimally here if we want to report every error at the location of its incidence.\n\nIt seems to me that because `boost::any`'s type can be queried with [type_info](http://www.boost.org/doc/libs/1_57_0/doc/html/boost/any.html), and SDF Params can report their type with [GetType](http://osrf-distributions.s3.amazonaws.com/sdformat/api/dev/classsdf_1_1Param.html#a3ff27eafd928dedc961cd8371388ff69), the SetParam functions could check once at the beginning of the function that the type of the parameter represented by `_key` and the type of `_value` as reported by `boost::any::type_info` agree, and return false with an error message if they do not.\n\nIf you prefer, I can revert this PR so that it only implements `SimbodyPhysics::SetParam`, and save the optimizations for future work.\n\n@scpeters, what are your thoughts here?", "markup": "markdown", "html": "<p>I think there is a solution here that could save a lot of lines of code, but I haven't implemented it optimally here if we want to report every error at the location of its incidence.</p>\n<p>It seems to me that because <code>boost::any</code>'s type can be queried with <a data-is-external-link=\"true\" href=\"http://www.boost.org/doc/libs/1_57_0/doc/html/boost/any.html\" rel=\"nofollow\">type_info</a>, and SDF Params can report their type with <a data-is-external-link=\"true\" href=\"http://osrf-distributions.s3.amazonaws.com/sdformat/api/dev/classsdf_1_1Param.html#a3ff27eafd928dedc961cd8371388ff69\" rel=\"nofollow\">GetType</a>, the SetParam functions could check once at the beginning of the function that the type of the parameter represented by <code>_key</code> and the type of <code>_value</code> as reported by <code>boost::any::type_info</code> agree, and return false with an error message if they do not.</p>\n<p>If you prefer, I can revert this PR so that it only implements <code>SimbodyPhysics::SetParam</code>, and save the optimizations for future work.</p>\n<p>@scpeters, what are your thoughts here?</p>", "type": "rendered"}, "created_on": "2015-03-02T23:32:57.808960+00:00", "user": {"display_name": "Jackie K", "uuid": "{e3d60b62-b7c7-4863-b9b9-cdae9f123cec}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3d60b62-b7c7-4863-b9b9-cdae9f123cec%7D"}, "html": {"href": "https://bitbucket.org/%7Be3d60b62-b7c7-4863-b9b9-cdae9f123cec%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/ea011fa2919d4bd4568b32b440eda779d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJK-0.png"}}, "nickname": "jacquelinekay", "type": "user", "account_id": "557058:f56c822f-f75c-4665-80f9-6e7764893b9c"}, "updated_on": "2015-03-02T23:32:57.825584+00:00", "type": "pullrequest_comment", "id": 5431553}