{"pagelen": 50, "values": [{"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723/comments/49557983.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723/_/diff#comment-49557983"}}, "parent": {"id": 49535644, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723/comments/49535644.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723/_/diff#comment-49535644"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2723, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723"}}, "title": "Fix inserted mesh scale during log playback"}, "content": {"raw": "We're working on a new minor release of Gazebo 8 this week I believe", "markup": "markdown", "html": "<p>We're working on a new minor release of Gazebo 8 this week I believe</p>", "type": "rendered"}, "created_on": "2017-11-14T17:05:02.341357+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2017-11-14T17:05:02.344203+00:00", "type": "pullrequest_comment", "id": 49557983}, "pull_request": {"type": "pullrequest", "id": 2723, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723"}}, "title": "Fix inserted mesh scale during log playback"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723/comments/49535644.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723/_/diff#comment-49535644"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2723, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723"}}, "title": "Fix inserted mesh scale during log playback"}, "content": {"raw": "Hi, is there plan to merge this fix into Gazebo 8? Still experiencing this issue in Gazebo 8.1.1.", "markup": "markdown", "html": "<p>Hi, is there plan to merge this fix into Gazebo 8? Still experiencing this issue in Gazebo 8.1.1.</p>", "type": "rendered"}, "created_on": "2017-11-14T14:26:48.931992+00:00", "user": {"display_name": "Ji\u0159\u00ed Kerner", "uuid": "{e3011390-469b-4f6b-9336-c5e1f1bac93c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be3011390-469b-4f6b-9336-c5e1f1bac93c%7D"}, "html": {"href": "https://bitbucket.org/%7Be3011390-469b-4f6b-9336-c5e1f1bac93c%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/5d0d66f1837c78f05698369afb5c2f43d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJK-2.png"}}, "nickname": "jiriker", "type": "user", "account_id": "557058:72be3796-b267-4f69-b6ba-449605b7a62f"}, "updated_on": "2017-11-14T14:26:48.978070+00:00", "type": "pullrequest_comment", "id": 49535644}, "pull_request": {"type": "pullrequest", "id": 2723, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723"}}, "title": "Fix inserted mesh scale during log playback"}}, {"update": {"description": "## Reproduce issue\r\n\r\n1. Open Gazebo recording a log `gazebo --verbose -r`\r\n2. Insert a double pendulum (to have movement)\r\n3. Insert a model which has a scaled mesh, such as the `table_marble`\r\n4. Close Gazebo\r\n5. Playback the log file with `gazebo --verbose -p ~/.gazebo/log/...`\r\n6. You'll see that the mesh is inserted with the wrong scale.\r\n\r\n## Solution\r\n\r\nThe solution to this problem was simply to change `UnscaledSDF` to `GetSDF` when getting the inserted model.\r\n\r\nBut that looks fishy, since it looks like the intention of the code was precisely to use unscaled models.\r\n\r\nSo I went back to the [pull request](#!/osrf/gazebo/pull-requests/2020/user-scaling-commands-are-properly-logged/diff#chg-gazebo/physics/WorldState.cc) where that line was changed, and it looks like the intention was to properly record scaling while logging and then properly play it back.\r\n\r\nI manually checked that even with this fix:\r\n\r\n* It's possible to scale shapes while recording and that is properly played back\r\n* Undo scaling works (that uses states)\r\n* The underlying issue of scaled meshes is fixed\r\n\r\nSo... It looks like it's safe to change that line...", "title": "Fix inserted mesh scale during log playback", "destination": {"commit": {"hash": "5c0ee95babe7", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/5c0ee95babe7.json"}, "html": {"href": "#!/osrf/gazebo/commits/5c0ee95babe7"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "31b10a7152dd", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/31b10a7152dd.json"}, "html": {"href": "#!/osrf/gazebo/commits/31b10a7152dd"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "log_playback_mesh_scale"}}, "state": "MERGED", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2017-06-06T18:57:16.031147+00:00"}, "pull_request": {"type": "pullrequest", "id": 2723, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723"}}, "title": "Fix inserted mesh scale during log playback"}}, {"update": {"description": "## Reproduce issue\r\n\r\n1. Open Gazebo recording a log `gazebo --verbose -r`\r\n2. Insert a double pendulum (to have movement)\r\n3. Insert a model which has a scaled mesh, such as the `table_marble`\r\n4. Close Gazebo\r\n5. Playback the log file with `gazebo --verbose -p ~/.gazebo/log/...`\r\n6. You'll see that the mesh is inserted with the wrong scale.\r\n\r\n## Solution\r\n\r\nThe solution to this problem was simply to change `UnscaledSDF` to `GetSDF` when getting the inserted model.\r\n\r\nBut that looks fishy, since it looks like the intention of the code was precisely to use unscaled models.\r\n\r\nSo I went back to the [pull request](#!/osrf/gazebo/pull-requests/2020/user-scaling-commands-are-properly-logged/diff#chg-gazebo/physics/WorldState.cc) where that line was changed, and it looks like the intention was to properly record scaling while logging and then properly play it back.\r\n\r\nI manually checked that even with this fix:\r\n\r\n* It's possible to scale shapes while recording and that is properly played back\r\n* Undo scaling works (that uses states)\r\n* The underlying issue of scaled meshes is fixed\r\n\r\nSo... It looks like it's safe to change that line...", "title": "Fix inserted mesh scale during log playback", "destination": {"commit": {"hash": "5c0ee95babe7", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/5c0ee95babe7.json"}, "html": {"href": "#!/osrf/gazebo/commits/5c0ee95babe7"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "31b10a7152dd", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/31b10a7152dd.json"}, "html": {"href": "#!/osrf/gazebo/commits/31b10a7152dd"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "log_playback_mesh_scale"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2017-06-06T18:56:55.592856+00:00"}, "pull_request": {"type": "pullrequest", "id": 2723, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723"}}, "title": "Fix inserted mesh scale during log playback"}}, {"update": {"description": "## Reproduce issue\r\n\r\n1. Open Gazebo recording a log `gazebo --verbose -r`\r\n2. Insert a double pendulum (to have movement)\r\n3. Insert a model which has a scaled mesh, such as the `table_marble`\r\n4. Close Gazebo\r\n5. Playback the log file with `gazebo --verbose -p ~/.gazebo/log/...`\r\n6. You'll see that the mesh is inserted with the wrong scale.\r\n\r\n## Solution\r\n\r\nThe solution to this problem was simply to change `UnscaledSDF` to `GetSDF` when getting the inserted model.\r\n\r\nBut that looks fishy, since it looks like the intention of the code was precisely to use unscaled models.\r\n\r\nSo I went back to the [pull request](#!/osrf/gazebo/pull-requests/2020/user-scaling-commands-are-properly-logged/diff#chg-gazebo/physics/WorldState.cc) where that line was changed, and it looks like the intention was to properly record scaling while logging and then properly play it back.\r\n\r\nI manually checked that even with this fix:\r\n\r\n* It's possible to scale shapes while recording and that is properly played back\r\n* Undo scaling works (that uses states)\r\n* The underlying issue of scaled meshes is fixed\r\n\r\nSo... It looks like it's safe to change that line...", "title": "Fix inserted mesh scale during log playback", "destination": {"commit": {"hash": "5c0ee95babe7", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/5c0ee95babe7.json"}, "html": {"href": "#!/osrf/gazebo/commits/5c0ee95babe7"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "da61bfb20674", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/da61bfb20674.json"}, "html": {"href": "#!/osrf/gazebo/commits/da61bfb20674"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "log_playback_mesh_scale"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2017-06-06T18:53:01.664688+00:00"}, "pull_request": {"type": "pullrequest", "id": 2723, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723"}}, "title": "Fix inserted mesh scale during log playback"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723/comments/38234684.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723/_/diff#comment-38234684"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2723, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723"}}, "title": "Fix inserted mesh scale during log playback"}, "content": {"raw": "If we want to fix the `UNIT_gz_log_TEST`, we could get another approval for pull request #2725 or merge it into this branch", "markup": "markdown", "html": "<p>If we want to fix the <code>UNIT_gz_log_TEST</code>, we could get another approval for <a href=\"#!/osrf/gazebo/pull-requests/2725/fix-gz-log-test\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #2725</a> or merge it into this branch</p>", "type": "rendered"}, "created_on": "2017-06-06T04:57:37.368239+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-06-06T04:57:37.370212+00:00", "type": "pullrequest_comment", "id": 38234684}, "pull_request": {"type": "pullrequest", "id": 2723, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723"}}, "title": "Fix inserted mesh scale during log playback"}}, {"approval": {"date": "2017-06-06T01:42:11.391228+00:00", "pullrequest": {"type": "pullrequest", "id": 2723, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723"}}, "title": "Fix inserted mesh scale during log playback"}, "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}}, "pull_request": {"type": "pullrequest", "id": 2723, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723"}}, "title": "Fix inserted mesh scale during log playback"}}, {"approval": {"date": "2017-06-05T21:59:22.246119+00:00", "pullrequest": {"type": "pullrequest", "id": 2723, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723"}}, "title": "Fix inserted mesh scale during log playback"}, "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}}, "pull_request": {"type": "pullrequest", "id": 2723, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723"}}, "title": "Fix inserted mesh scale during log playback"}}, {"update": {"description": "## Reproduce issue\r\n\r\n1. Open Gazebo recording a log `gazebo --verbose -r`\r\n2. Insert a double pendulum (to have movement)\r\n3. Insert a model which has a scaled mesh, such as the `table_marble`\r\n4. Close Gazebo\r\n5. Playback the log file with `gazebo --verbose -p ~/.gazebo/log/...`\r\n6. You'll see that the mesh is inserted with the wrong scale.\r\n\r\n## Solution\r\n\r\nThe solution to this problem was simply to change `UnscaledSDF` to `GetSDF` when getting the inserted model.\r\n\r\nBut that looks fishy, since it looks like the intention of the code was precisely to use unscaled models.\r\n\r\nSo I went back to the [pull request](#!/osrf/gazebo/pull-requests/2020/user-scaling-commands-are-properly-logged/diff#chg-gazebo/physics/WorldState.cc) where that line was changed, and it looks like the intention was to properly record scaling while logging and then properly play it back.\r\n\r\nI manually checked that even with this fix:\r\n\r\n* It's possible to scale shapes while recording and that is properly played back\r\n* Undo scaling works (that uses states)\r\n* The underlying issue of scaled meshes is fixed\r\n\r\nSo... It looks like it's safe to change that line...", "title": "Fix inserted mesh scale during log playback", "destination": {"commit": {"hash": "9210f981b0b1", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/9210f981b0b1.json"}, "html": {"href": "#!/osrf/gazebo/commits/9210f981b0b1"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "c242a5ccf083", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/c242a5ccf083.json"}, "html": {"href": "#!/osrf/gazebo/commits/c242a5ccf083"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "log_playback_mesh_scale"}}, "state": "OPEN", "author": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "date": "2017-06-05T21:52:06.129084+00:00"}, "pull_request": {"type": "pullrequest", "id": 2723, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723"}}, "title": "Fix inserted mesh scale during log playback"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723/comments/38137513.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723/_/diff#comment-38137513"}}, "parent": {"id": 38121380, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723/comments/38121380.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723/_/diff#comment-38121380"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2723, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723"}}, "title": "Fix inserted mesh scale during log playback"}, "content": {"raw": "I just tried this with SRC and the inserted meshes were properly sized", "markup": "markdown", "html": "<p>I just tried this with SRC and the inserted meshes were properly sized</p>", "type": "rendered"}, "created_on": "2017-06-03T01:07:37.545961+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2017-06-03T01:07:37.548182+00:00", "type": "pullrequest_comment", "id": 38137513}, "pull_request": {"type": "pullrequest", "id": 2723, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723"}}, "title": "Fix inserted mesh scale during log playback"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723/comments/38136602.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723/_/diff#comment-38136602"}}, "parent": {"id": 38123465, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723/comments/38123465.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723/_/diff#comment-38123465"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2723, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723"}}, "title": "Fix inserted mesh scale during log playback"}, "content": {"raw": "Ok, I just took a different approach here: 39b557d", "markup": "markdown", "html": "<p>Ok, I just took a different approach here: <a href=\"#!/osrf/gazebo/commits/39b557d\" rel=\"nofollow\" class=\"ap-connect-link\">39b557d</a></p>", "type": "rendered"}, "created_on": "2017-06-02T23:50:29.740983+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2017-06-02T23:50:29.743297+00:00", "type": "pullrequest_comment", "id": 38136602}, "pull_request": {"type": "pullrequest", "id": 2723, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723"}}, "title": "Fix inserted mesh scale during log playback"}}, {"update": {"description": "## Reproduce issue\r\n\r\n1. Open Gazebo recording a log `gazebo --verbose -r`\r\n2. Insert a double pendulum (to have movement)\r\n3. Insert a model which has a scaled mesh, such as the `table_marble`\r\n4. Close Gazebo\r\n5. Playback the log file with `gazebo --verbose -p ~/.gazebo/log/...`\r\n6. You'll see that the mesh is inserted with the wrong scale.\r\n\r\n## Solution\r\n\r\nThe solution to this problem was simply to change `UnscaledSDF` to `GetSDF` when getting the inserted model.\r\n\r\nBut that looks fishy, since it looks like the intention of the code was precisely to use unscaled models.\r\n\r\nSo I went back to the [pull request](#!/osrf/gazebo/pull-requests/2020/user-scaling-commands-are-properly-logged/diff#chg-gazebo/physics/WorldState.cc) where that line was changed, and it looks like the intention was to properly record scaling while logging and then properly play it back.\r\n\r\nI manually checked that even with this fix:\r\n\r\n* It's possible to scale shapes while recording and that is properly played back\r\n* Undo scaling works (that uses states)\r\n* The underlying issue of scaled meshes is fixed\r\n\r\nSo... It looks like it's safe to change that line...", "title": "Fix inserted mesh scale during log playback", "destination": {"commit": {"hash": "af1c4470209d", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/af1c4470209d.json"}, "html": {"href": "#!/osrf/gazebo/commits/af1c4470209d"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "39b557dd8a1e", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/39b557dd8a1e.json"}, "html": {"href": "#!/osrf/gazebo/commits/39b557dd8a1e"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "log_playback_mesh_scale"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2017-06-02T23:50:02.167847+00:00"}, "pull_request": {"type": "pullrequest", "id": 2723, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723"}}, "title": "Fix inserted mesh scale during log playback"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723/comments/38135044.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723/_/diff#comment-38135044"}}, "parent": {"id": 38126337, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723/comments/38126337.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723/_/diff#comment-38126337"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2723, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723"}}, "title": "Fix inserted mesh scale during log playback"}, "content": {"raw": "> This solution is prone to bringing problems in the future.\n\nI'm a prophet!\n", "markup": "markdown", "html": "<blockquote>\n<p>This solution is prone to bringing problems in the future.</p>\n</blockquote>\n<p>I'm a prophet!</p>", "type": "rendered"}, "created_on": "2017-06-02T22:33:57.362212+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2017-06-02T22:33:57.364854+00:00", "type": "pullrequest_comment", "id": 38135044}, "pull_request": {"type": "pullrequest", "id": 2723, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723"}}, "title": "Fix inserted mesh scale during log playback"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723/comments/38126337.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723/_/diff#comment-38126337"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2723, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723"}}, "title": "Fix inserted mesh scale during log playback"}, "content": {"raw": "issue #1825 lists a few test cases for model scaling and playback which may be relevant", "markup": "markdown", "html": "<p>issue <a href=\"#!/osrf/gazebo/issues/1825/improve-scaling-models-on-the-server-side\" rel=\"nofollow\" title=\"Improve scaling models on the server side\" class=\"ap-connect-link\">#1825</a> lists a few test cases for model scaling and playback which may be relevant</p>", "type": "rendered"}, "created_on": "2017-06-02T19:06:10.320415+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2017-06-02T19:06:10.323781+00:00", "type": "pullrequest_comment", "id": 38126337}, "pull_request": {"type": "pullrequest", "id": 2723, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723"}}, "title": "Fix inserted mesh scale during log playback"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723/comments/38124826.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723/_/diff#comment-38124826"}}, "parent": {"id": 38123465, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723/comments/38123465.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723/_/diff#comment-38123465"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2723, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723"}}, "title": "Fix inserted mesh scale during log playback"}, "content": {"raw": "I think you just found out why that was `UncaledSDF` in the first place! Nice catch!", "markup": "markdown", "html": "<p>I think you just found out why that was <code>UncaledSDF</code> in the first place! Nice catch!</p>", "type": "rendered"}, "created_on": "2017-06-02T18:38:26.344893+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2017-06-02T18:38:26.346977+00:00", "type": "pullrequest_comment", "id": 38124826}, "pull_request": {"type": "pullrequest", "id": 2723, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723"}}, "title": "Fix inserted mesh scale during log playback"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723/comments/38123465.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723/_/diff#comment-38123465"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2723, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723"}}, "title": "Fix inserted mesh scale during log playback"}, "content": {"raw": "This seems to double scale objects for me. When I scale a default box and play back the log, the cube starts from the final scale and gets smaller.\n\nSteps to reproduce\n\n1. gazebo --verbose --record --record_path /tmp/scale_cube\n2. Insert a cube\n3. Scale the cube down on all three dimension\n4. File -> Quit\n5. gazebo --verbose --pause --play /tmp/scale_cube/state.log\n6. Cube starts already at the final scaling\n7. Playing the log shows the cube get even smaller very quickly (much faster than I scaled it)\n\n![scale_bug.gif](data/bitbucket.org/repo/jgXqbo/images/1069839604-scale_bug.gif)", "markup": "markdown", "html": "<p>This seems to double scale objects for me. When I scale a default box and play back the log, the cube starts from the final scale and gets smaller.</p>\n<p>Steps to reproduce</p>\n<ol>\n<li>gazebo --verbose --record --record_path /tmp/scale_cube</li>\n<li>Insert a cube</li>\n<li>Scale the cube down on all three dimension</li>\n<li>File -&gt; Quit</li>\n<li>gazebo --verbose --pause --play /tmp/scale_cube/state.log</li>\n<li>Cube starts already at the final scaling</li>\n<li>Playing the log shows the cube get even smaller very quickly (much faster than I scaled it)</li>\n</ol>\n<p><img alt=\"scale_bug.gif\" src=\"data/bitbucket.org/repo/jgXqbo/images/1069839604-scale_bug.gif\" /></p>", "type": "rendered"}, "created_on": "2017-06-02T18:18:51.652094+00:00", "user": {"display_name": "Shane Loretz", "uuid": "{656e3311-aad9-45a1-aaf7-b0ee0e84b287}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D"}, "html": {"href": "https://bitbucket.org/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:684383ab-ac95-4859-a350-4a6f41a94a22/c7a1ebf5-cade-4115-9f26-9d3facb776db/128"}}, "nickname": "Shane Loretz", "type": "user", "account_id": "557058:684383ab-ac95-4859-a350-4a6f41a94a22"}, "updated_on": "2017-06-02T18:18:51.654161+00:00", "type": "pullrequest_comment", "id": 38123465}, "pull_request": {"type": "pullrequest", "id": 2723, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723"}}, "title": "Fix inserted mesh scale during log playback"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723/comments/38121380.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723/_/diff#comment-38121380"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2723, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723"}}, "title": "Fix inserted mesh scale during log playback"}, "content": {"raw": "This is needed for SRC, see [this issue](https://bitbucket.org/osrf/srcsim/issues/190/models-scales-are-wrong-after-teleport-in)", "markup": "markdown", "html": "<p>This is needed for SRC, see <a data-is-external-link=\"true\" href=\"https://bitbucket.org/osrf/srcsim/issues/190/models-scales-are-wrong-after-teleport-in\" rel=\"nofollow\">this issue</a></p>", "type": "rendered"}, "created_on": "2017-06-02T17:44:07.445054+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2017-06-02T17:44:07.447319+00:00", "type": "pullrequest_comment", "id": 38121380}, "pull_request": {"type": "pullrequest", "id": 2723, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723"}}, "title": "Fix inserted mesh scale during log playback"}}, {"update": {"description": "## Reproduce issue\r\n\r\n1. Open Gazebo recording a log `gazebo --verbose -r`\r\n2. Insert a double pendulum (to have movement)\r\n3. Insert a model which has a scaled mesh, such as the `table_marble`\r\n4. Close Gazebo\r\n5. Playback the log file with `gazebo --verbose -p ~/.gazebo/log/...`\r\n6. You'll see that the mesh is inserted with the wrong scale.\r\n\r\n## Solution\r\n\r\nThe solution to this problem was simply to change `UnscaledSDF` to `GetSDF` when getting the inserted model.\r\n\r\nBut that looks fishy, since it looks like the intention of the code was precisely to use unscaled models.\r\n\r\nSo I went back to the [pull request](#!/osrf/gazebo/pull-requests/2020/user-scaling-commands-are-properly-logged/diff#chg-gazebo/physics/WorldState.cc) where that line was changed, and it looks like the intention was to properly record scaling while logging and then properly play it back.\r\n\r\nI manually checked that even with this fix:\r\n\r\n* It's possible to scale shapes while recording and that is properly played back\r\n* Undo scaling works (that uses states)\r\n* The underlying issue of scaled meshes is fixed\r\n\r\nSo... It looks like it's safe to change that line...", "title": "Fix inserted mesh scale during log playback", "destination": {"commit": {"hash": "cddf2613ce88", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/cddf2613ce88.json"}, "html": {"href": "#!/osrf/gazebo/commits/cddf2613ce88"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "1baced53dc22", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/1baced53dc22.json"}, "html": {"href": "#!/osrf/gazebo/commits/1baced53dc22"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "log_playback_mesh_scale"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2017-06-01T16:13:17.674274+00:00"}, "pull_request": {"type": "pullrequest", "id": 2723, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723"}}, "title": "Fix inserted mesh scale during log playback"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723/comments/38030452.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723/_/diff#comment-38030452"}}, "parent": {"id": 37976803, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723/comments/37976803.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723/_/diff#comment-37976803"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2723, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723"}}, "title": "Fix inserted mesh scale during log playback"}, "content": {"raw": "haha sorry, I was using the \\`table\\_marble\\`", "markup": "markdown", "html": "<p>haha sorry, I was using the `table_marble`</p>", "type": "rendered"}, "created_on": "2017-06-01T16:12:18.773548+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2017-06-01T16:12:18.775939+00:00", "type": "pullrequest_comment", "id": 38030452}, "pull_request": {"type": "pullrequest", "id": 2723, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723"}}, "title": "Fix inserted mesh scale during log playback"}}, {"update": {"description": "## Reproduce issue\r\n\r\n1. Open Gazebo recording a log `gazebo --verbose -r`\r\n\r\n1. Insert a double pendulum (to have movement)\r\n\r\n1. Insert a model which has a scaled mesh, such as the \r\n\r\n1. Close Gazebo\r\n\r\n1. Playback the log file with `gazebo --verbose -p ~/.gazebo/log/...`\r\n\r\n1. You'll see that the mesh is inserted with the wrong scale.\r\n\r\n## Solution\r\n\r\nThe solution to this problem was simply to change `UnscaledSDF` to `GetSDF` when getting the inserted model.\r\n\r\nBut that looks fishy, since it looks like the intention of the code was precisely to use unscaled models.\r\n\r\nSo I went back to the [pull request](#!/osrf/gazebo/pull-requests/2020/user-scaling-commands-are-properly-logged/diff#chg-gazebo/physics/WorldState.cc) where that line was changed, and it looks like the intention was to properly record scaling while logging and then properly play it back.\r\n\r\nI manually checked that even with this fix:\r\n\r\n* It's possible to scale shapes while recording and that is properly played back\r\n* Undo scaling works (that uses states)\r\n* The underlying issue of scaled meshes is fixed\r\n\r\nSo... It looks like it's safe to change that line...", "title": "Fix inserted mesh scale during log playback", "destination": {"commit": {"hash": "cddf2613ce88", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/cddf2613ce88.json"}, "html": {"href": "#!/osrf/gazebo/commits/cddf2613ce88"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "1baced53dc22", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/1baced53dc22.json"}, "html": {"href": "#!/osrf/gazebo/commits/1baced53dc22"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "log_playback_mesh_scale"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2017-06-01T06:17:53.382690+00:00"}, "pull_request": {"type": "pullrequest", "id": 2723, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723"}}, "title": "Fix inserted mesh scale during log playback"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723/comments/37976803.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723/_/diff#comment-37976803"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2723, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723"}}, "title": "Fix inserted mesh scale during log playback"}, "content": {"raw": "`Insert a model which has a scaled mesh, such as the`\n\n???", "markup": "markdown", "html": "<p><code>Insert a model which has a scaled mesh, such as the</code></p>\n<p>???</p>", "type": "rendered"}, "created_on": "2017-06-01T06:08:19.184453+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-06-01T06:08:19.187758+00:00", "type": "pullrequest_comment", "id": 37976803}, "pull_request": {"type": "pullrequest", "id": 2723, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723"}}, "title": "Fix inserted mesh scale during log playback"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723/comments/37976765.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723/_/diff#comment-37976765"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2723, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723"}}, "title": "Fix inserted mesh scale during log playback"}, "content": {"raw": "new homebrew build queued; the x server wasn't running on the jenkins machine:\n\n* https://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/1112", "markup": "markdown", "html": "<p>new homebrew build queued; the x server wasn't running on the jenkins machine:</p>\n<ul>\n<li><a href=\"https://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/1112\" rel=\"nofollow\" class=\"ap-connect-link\">https://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/1112</a></li>\n</ul>", "type": "rendered"}, "created_on": "2017-06-01T06:07:30.166960+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-06-01T06:07:30.169497+00:00", "type": "pullrequest_comment", "id": 37976765}, "pull_request": {"type": "pullrequest", "id": 2723, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723"}}, "title": "Fix inserted mesh scale during log playback"}}, {"update": {"description": "## Reproduce issue\r\n\r\n1. Open Gazebo recording a log `gazebo --verbose -r`\r\n\r\n1. Insert a double pendulum (to have movement)\r\n\r\n1. Insert a model which has a scaled mesh, such as the \r\n\r\n1. Close Gazebo\r\n\r\n1. Playback the log file with `gazebo --verbose -p ~/.gazebo/log/...`\r\n\r\n1. You'll see that the mesh is inserted with the wrong scale.\r\n\r\n## Solution\r\n\r\nThe solution to this problem was simply to change `UnscaledSDF` to `GetSDF` when getting the inserted model.\r\n\r\nBut that looks fishy, since it looks like the intention of the code was precisely to use unscaled models.\r\n\r\nSo I went back to the [pull request](#!/osrf/gazebo/pull-requests/2020/user-scaling-commands-are-properly-logged/diff#chg-gazebo/physics/WorldState.cc) where that line was changed, and it looks like the intention was to properly record scaling while logging and then properly play it back.\r\n\r\nI manually checked that even with this fix:\r\n\r\n* It's possible to scale shapes while recording and that is properly played back\r\n* Undo scaling works (that uses states)\r\n* The underlying issue of scaled meshes is fixed\r\n\r\nSo... It looks like it's safe to change that line...", "title": "Fix inserted mesh scale during log playback", "destination": {"commit": {"hash": "cddf2613ce88", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/cddf2613ce88.json"}, "html": {"href": "#!/osrf/gazebo/commits/cddf2613ce88"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "73a33dae6f88", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/73a33dae6f88.json"}, "html": {"href": "#!/osrf/gazebo/commits/73a33dae6f88"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "log_playback_mesh_scale"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2017-06-01T01:07:37.510707+00:00"}, "pull_request": {"type": "pullrequest", "id": 2723, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723"}}, "title": "Fix inserted mesh scale during log playback"}}, {"update": {"description": "## Reproduce issue\r\n\r\n1. Open Gazebo recording a log `gazebo --verbose -r`\r\n\r\n1. Insert a double pendulum (to have movement)\r\n\r\n1. Insert a model which has a scaled mesh, such as the \r\n\r\n1. Close Gazebo\r\n\r\n1. Playback the log file with `gazebo --verbose -p ~/.gazebo/log/...`\r\n\r\n1. You'll see that the mesh is inserted with the wrong scale.\r\n\r\n## Solution\r\n\r\nThe solution to this problem was simply to change `UnscaledSDF` to `GetSDF` when getting the inserted model.\r\n\r\nBut that looks fishy, since it looks like the intention of the code was precisely to use unscaled models.\r\n\r\nSo I went back to the [pull request](#!/osrf/gazebo/pull-requests/2020/user-scaling-commands-are-properly-logged/diff#chg-gazebo/physics/WorldState.cc) where that line was changed, and it looks like the intention was to properly record scaling while logging and then properly play it back.\r\n\r\nI manually checked that even with this fix:\r\n\r\n* It's possible to scale shapes while recording and that is properly played back\r\n* Undo scaling works (that uses states)\r\n* The underlying issue of scaled meshes is fixed\r\n\r\nSo... It looks like it's safe to change that line...", "title": "Fix inserted mesh scale during log playback", "destination": {"commit": {"hash": "cddf2613ce88", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/cddf2613ce88.json"}, "html": {"href": "#!/osrf/gazebo/commits/cddf2613ce88"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "reason": "", "source": {"commit": {"hash": "73a33dae6f88", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/73a33dae6f88.json"}, "html": {"href": "#!/osrf/gazebo/commits/73a33dae6f88"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "log_playback_mesh_scale"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2017-06-01T01:07:37.482826+00:00"}, "pull_request": {"type": "pullrequest", "id": 2723, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2723.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2723"}}, "title": "Fix inserted mesh scale during log playback"}}]}