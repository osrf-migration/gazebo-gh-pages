{"pagelen": 50, "values": [{"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2536/comments/29392271.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2536/_/diff#comment-29392271"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2536, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2536.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2536"}}, "title": "Fix restoring submesh material transparency"}, "content": {"raw": "Some models have become transparent after this pull request, see issue #2130", "markup": "markdown", "html": "<p>Some models have become transparent after this pull request, see issue <a href=\"#!/osrf/gazebo/issues/2130/some-collada-textures-are-invisible-since\" rel=\"nofollow\" title=\"Some COLLADA textures are invisible since pull request #2536\" class=\"ap-connect-link\"><s>#2130</s></a></p>", "type": "rendered"}, "created_on": "2017-01-09T18:08:36.562609+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2017-01-09T18:08:36.564882+00:00", "type": "pullrequest_comment", "id": 29392271}, "pull_request": {"type": "pullrequest", "id": 2536, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2536.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2536"}}, "title": "Fix restoring submesh material transparency"}}, {"update": {"description": "When setting visual transparency to a non-zero value we currently overwrite certain material pass properties ([scene blending mode](#!/osrf/gazebo/src/2ca5c6f57bd405b90f563d5266a503cc2951bb9f/gazebo/rendering/Visual.cc?at=default&fileviewer=file-view-default#Visual.cc-1500) and [depth write](#!/osrf/gazebo/src/2ca5c6f57bd405b90f563d5266a503cc2951bb9f/gazebo/rendering/Visual.cc?at=default&fileviewer=file-view-default#Visual.cc-1505)) for transparency to work. We do so without remembering the original values so when transparency is turned off, we're not able to restore the material to the original state.\r\n\r\nYou can reproduce the problem by turning transparency on then off with this [prius](https://www.dropbox.com/s/7d5927vwbf7jlba/prius_hybrid.zip?dl=0) model or the [robocup09_spl_field](#!/osrf/gazebo_models/src/f8f2f9af8a59da5f5c60416a29eecdfae5f90125/robocup09_spl_field/?at=default). In the latter case, the net of the goal causes depth rendering problem when viewing the field from behind the goal.\r\n\r\nThis PR caches the original material when an object is attached to the visual and uses it to restore the material pass settings when transparency is turned off.\r\n\r\nOther couple of minor changes:\r\n\r\n- update a few variable default values in common::Material\r\n\r\n- fixed loading an OBJ material that does not have a texture file.\r\n\r\njenkins: [nividia-gpu](http://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/799) - ok", "title": "Fix restoring submesh material transparency", "destination": {"commit": {"hash": "44c7d1265467", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/44c7d1265467.json"}, "html": {"href": "#!/osrf/gazebo/commits/44c7d1265467"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "0ebccf03b701", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/0ebccf03b701.json"}, "html": {"href": "#!/osrf/gazebo/commits/0ebccf03b701"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "pass_transparency"}}, "state": "MERGED", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2016-12-20T02:37:30.449843+00:00"}, "pull_request": {"type": "pullrequest", "id": 2536, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2536.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2536"}}, "title": "Fix restoring submesh material transparency"}}, {"approval": {"date": "2016-12-19T23:49:12.352303+00:00", "pullrequest": {"type": "pullrequest", "id": 2536, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2536.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2536"}}, "title": "Fix restoring submesh material transparency"}, "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}}, "pull_request": {"type": "pullrequest", "id": 2536, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2536.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2536"}}, "title": "Fix restoring submesh material transparency"}}, {"approval": {"date": "2016-12-19T18:25:39.349828+00:00", "pullrequest": {"type": "pullrequest", "id": 2536, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2536.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2536"}}, "title": "Fix restoring submesh material transparency"}, "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}}, "pull_request": {"type": "pullrequest", "id": 2536, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2536.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2536"}}, "title": "Fix restoring submesh material transparency"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2536/comments/28585544.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2536/_/diff#comment-28585544"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2536, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2536.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2536"}}, "title": "Fix restoring submesh material transparency"}, "content": {"raw": "Nice, this also fixes the transparency for iRobot Create!", "markup": "markdown", "html": "<p>Nice, this also fixes the transparency for iRobot Create!</p>", "type": "rendered"}, "created_on": "2016-12-19T18:25:31.779955+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2016-12-19T18:25:31.782369+00:00", "type": "pullrequest_comment", "id": 28585544}, "pull_request": {"type": "pullrequest", "id": 2536, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2536.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2536"}}, "title": "Fix restoring submesh material transparency"}}, {"update": {"description": "When setting visual transparency to a non-zero value we currently overwrite certain material pass properties ([scene blending mode](#!/osrf/gazebo/src/2ca5c6f57bd405b90f563d5266a503cc2951bb9f/gazebo/rendering/Visual.cc?at=default&fileviewer=file-view-default#Visual.cc-1500) and [depth write](#!/osrf/gazebo/src/2ca5c6f57bd405b90f563d5266a503cc2951bb9f/gazebo/rendering/Visual.cc?at=default&fileviewer=file-view-default#Visual.cc-1505)) for transparency to work. We do so without remembering the original values so when transparency is turned off, we're not able to restore the material to the original state.\r\n\r\nYou can reproduce the problem by turning transparency on then off with this [prius](https://www.dropbox.com/s/7d5927vwbf7jlba/prius_hybrid.zip?dl=0) model or the [robocup09_spl_field](#!/osrf/gazebo_models/src/f8f2f9af8a59da5f5c60416a29eecdfae5f90125/robocup09_spl_field/?at=default). In the latter case, the net of the goal causes depth rendering problem when viewing the field from behind the goal.\r\n\r\nThis PR caches the original material when an object is attached to the visual and uses it to restore the material pass settings when transparency is turned off.\r\n\r\nOther couple of minor changes:\r\n\r\n- update a few variable default values in common::Material\r\n\r\n- fixed loading an OBJ material that does not have a texture file.\r\n\r\njenkins: [nividia-gpu](http://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/799) - ok", "title": "Fix restoring submesh material transparency", "destination": {"commit": {"hash": "49c978543f6c", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/49c978543f6c.json"}, "html": {"href": "#!/osrf/gazebo/commits/49c978543f6c"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "0ebccf03b701", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/0ebccf03b701.json"}, "html": {"href": "#!/osrf/gazebo/commits/0ebccf03b701"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "pass_transparency"}}, "state": "OPEN", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2016-12-16T01:25:37.390479+00:00"}, "pull_request": {"type": "pullrequest", "id": 2536, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2536.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2536"}}, "title": "Fix restoring submesh material transparency"}}, {"update": {"description": "When setting visual transparency to a non-zero value we currently overwrite certain material pass properties ([scene blending mode](#!/osrf/gazebo/src/2ca5c6f57bd405b90f563d5266a503cc2951bb9f/gazebo/rendering/Visual.cc?at=default&fileviewer=file-view-default#Visual.cc-1500) and [depth write](#!/osrf/gazebo/src/2ca5c6f57bd405b90f563d5266a503cc2951bb9f/gazebo/rendering/Visual.cc?at=default&fileviewer=file-view-default#Visual.cc-1505)) for transparency to work. We do so without remembering the original values so when transparency is turned off, we're not able to restore the material to the original state.\r\n\r\nYou can reproduce the problem by turning transparency on then off with this [prius](https://www.dropbox.com/s/7d5927vwbf7jlba/prius_hybrid.zip?dl=0) model or the [robocup09_spl_field](#!/osrf/gazebo_models/src/f8f2f9af8a59da5f5c60416a29eecdfae5f90125/robocup09_spl_field/?at=default). In the latter case, the net of the goal causes depth rendering problem when viewing the field from behind the goal.\r\n\r\nThis PR caches the original material when an object is attached to the visual and uses it to restore the material pass settings when transparency is turned off.\r\n\r\nOther couple of minor changes:\r\n\r\n- update a few variable default values in common::Material\r\n\r\n- fixed loading an OBJ material that does not have a texture file.\r\n\r\njenkins: [nividia-gpu](http://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/799) - ok", "title": "Fix restoring submesh material transparency", "destination": {"commit": {"hash": "6ed5a491f553", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/6ed5a491f553.json"}, "html": {"href": "#!/osrf/gazebo/commits/6ed5a491f553"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "8bbfbd355c0d", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/8bbfbd355c0d.json"}, "html": {"href": "#!/osrf/gazebo/commits/8bbfbd355c0d"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "pass_transparency"}}, "state": "OPEN", "author": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "date": "2016-12-15T15:14:04.743860+00:00"}, "pull_request": {"type": "pullrequest", "id": 2536, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2536.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2536"}}, "title": "Fix restoring submesh material transparency"}}, {"update": {"description": "When setting visual transparency to a non-zero value we currently overwrite certain material pass properties ([scene blending mode](#!/osrf/gazebo/src/2ca5c6f57bd405b90f563d5266a503cc2951bb9f/gazebo/rendering/Visual.cc?at=default&fileviewer=file-view-default#Visual.cc-1500) and [depth write](#!/osrf/gazebo/src/2ca5c6f57bd405b90f563d5266a503cc2951bb9f/gazebo/rendering/Visual.cc?at=default&fileviewer=file-view-default#Visual.cc-1505)) for transparency to work. We do so without remembering the original values so when transparency is turned off, we're not able to restore the material to the original state.\r\n\r\nYou can reproduce the problem by turning transparency on then off with this [prius](https://www.dropbox.com/s/7d5927vwbf7jlba/prius_hybrid.zip?dl=0) model or the [robocup09_spl_field](#!/osrf/gazebo_models/src/f8f2f9af8a59da5f5c60416a29eecdfae5f90125/robocup09_spl_field/?at=default). In the latter case, the net of the goal causes depth rendering problem when viewing the field from behind the goal.\r\n\r\nThis PR caches the original material when an object is attached to the visual and uses it to restore the material pass settings when transparency is turned off.\r\n\r\nOther couple of minor changes:\r\n\r\n- update a few variable default values in common::Material\r\n\r\n- fixed loading an OBJ material that does not have a texture file.\r\n\r\njenkins: [nividia-gpu](http://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/799) - ok", "title": "Fix restoring submesh material transparency", "destination": {"commit": {"hash": "6ed5a491f553", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/6ed5a491f553.json"}, "html": {"href": "#!/osrf/gazebo/commits/6ed5a491f553"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "8bbfbd355c0d", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/8bbfbd355c0d.json"}, "html": {"href": "#!/osrf/gazebo/commits/8bbfbd355c0d"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "pass_transparency"}}, "state": "OPEN", "author": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "date": "2016-12-15T15:14:04.131089+00:00"}, "pull_request": {"type": "pullrequest", "id": 2536, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2536.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2536"}}, "title": "Fix restoring submesh material transparency"}}, {"update": {"description": "When setting visual transparency to a non-zero value we currently overwrite certain material pass properties ([scene blending mode](#!/osrf/gazebo/src/2ca5c6f57bd405b90f563d5266a503cc2951bb9f/gazebo/rendering/Visual.cc?at=default&fileviewer=file-view-default#Visual.cc-1500) and [depth write](#!/osrf/gazebo/src/2ca5c6f57bd405b90f563d5266a503cc2951bb9f/gazebo/rendering/Visual.cc?at=default&fileviewer=file-view-default#Visual.cc-1505)) for transparency to work. We do so without remembering the original values so when transparency is turned off, we're not able to restore the material to the original state.\r\n\r\nYou can reproduce the problem by turning transparency on then off with this [prius](https://www.dropbox.com/s/7d5927vwbf7jlba/prius_hybrid.zip?dl=0) model or the [robocup09_spl_field](#!/osrf/gazebo_models/src/f8f2f9af8a59da5f5c60416a29eecdfae5f90125/robocup09_spl_field/?at=default). In the latter case, the net of the goal causes depth rendering problem when viewing the field from behind the goal.\r\n\r\nThis PR caches the original material when an object is attached to the visual and uses it to restore the material pass settings when transparency is turned off.\r\n\r\nOther couple of minor changes:\r\n\r\n- update a few variable default values in common::Material\r\n\r\n- fixed loading an OBJ material that does not have a texture file.\r\n\r\njenkins: [nividia-gpu](http://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/799) - ok", "title": "Fix restoring submesh material transparency", "destination": {"commit": {"hash": "2ca5c6f57bd4", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/2ca5c6f57bd4.json"}, "html": {"href": "#!/osrf/gazebo/commits/2ca5c6f57bd4"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "e942b0f09247", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/e942b0f09247.json"}, "html": {"href": "#!/osrf/gazebo/commits/e942b0f09247"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "pass_transparency"}}, "state": "OPEN", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2016-12-15T02:16:48.258507+00:00"}, "pull_request": {"type": "pullrequest", "id": 2536, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2536.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2536"}}, "title": "Fix restoring submesh material transparency"}}, {"update": {"description": "When setting visual transparency to a non-zero value we currently overwrite certain material pass properties ([scene blending mode](#!/osrf/gazebo/src/2ca5c6f57bd405b90f563d5266a503cc2951bb9f/gazebo/rendering/Visual.cc?at=default&fileviewer=file-view-default#Visual.cc-1500) and [depth write](#!/osrf/gazebo/src/2ca5c6f57bd405b90f563d5266a503cc2951bb9f/gazebo/rendering/Visual.cc?at=default&fileviewer=file-view-default#Visual.cc-1505)) for transparency to work. We do so without remembering the original values so when transparency is turned off, we're not able to restore the material to the original state.\r\n\r\nYou can reproduce the problem by turning transparency on then off with this [prius](https://www.dropbox.com/s/7d5927vwbf7jlba/prius_hybrid.zip?dl=0) model or the [robocup09_spl_field](#!/osrf/gazebo_models/src/f8f2f9af8a59da5f5c60416a29eecdfae5f90125/robocup09_spl_field/?at=default). In the latter case, the net of the goal causes depth rendering problem when viewing the field from behind the goal.\r\n\r\nThis PR caches the original material when an object is attached to the visual and uses it to restore the material pass settings when transparency is turned off.\r\n\r\nOther couple of minor changes:\r\n\r\n- update a few variable default values in common::Material\r\n\r\n- fixed loading an OBJ material that does not have a texture file.\r\n\r\njenkins: [nividia-gpu](http://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/799) - ok", "title": "Fix restoring submesh material transparency", "destination": {"commit": {"hash": "2ca5c6f57bd4", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/2ca5c6f57bd4.json"}, "html": {"href": "#!/osrf/gazebo/commits/2ca5c6f57bd4"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "e942b0f09247", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/e942b0f09247.json"}, "html": {"href": "#!/osrf/gazebo/commits/e942b0f09247"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "pass_transparency"}}, "state": "OPEN", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2016-12-15T02:16:42.286107+00:00"}, "pull_request": {"type": "pullrequest", "id": 2536, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2536.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2536"}}, "title": "Fix restoring submesh material transparency"}}, {"update": {"description": "When setting visual transparency to a non-zero value we currently overwrite certain material pass properties ([scene blending mode](#!/osrf/gazebo/src/2ca5c6f57bd405b90f563d5266a503cc2951bb9f/gazebo/rendering/Visual.cc?at=default&fileviewer=file-view-default#Visual.cc-1500) and [depth write](#!/osrf/gazebo/src/2ca5c6f57bd405b90f563d5266a503cc2951bb9f/gazebo/rendering/Visual.cc?at=default&fileviewer=file-view-default#Visual.cc-1505)) for transparency to work. We do so without remembering the original values so when transparency is turned off, we're not able to restore the material to the original state.\r\n\r\nYou can reproduce the problem by turning transparency on then off with this [prius](https://www.dropbox.com/s/7d5927vwbf7jlba/prius_hybrid.zip?dl=0) model or the [robocup09_spl_field](#!/osrf/gazebo_models/src/f8f2f9af8a59da5f5c60416a29eecdfae5f90125/robocup09_spl_field/?at=default). In the latter case, the net of the goal causes depth rendering problem when viewing the field from behind the goal.\r\n\r\nThis PR caches the original material when an object is attached to the visual and uses it to restore the material pass settings when transparency is turned off.\r\n\r\nOther couple of minor changes:\r\n\r\n- update a few variable default values in common::Material\r\n\r\n- fixed loading an OBJ material that does not have a texture file.\r\n\r\njenkins: [nividia-gpu](http://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/799) - ok", "title": "Fix restoring submesh material transparency", "destination": {"commit": {"hash": "2ca5c6f57bd4", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/2ca5c6f57bd4.json"}, "html": {"href": "#!/osrf/gazebo/commits/2ca5c6f57bd4"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "dfbecf14f60b", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/dfbecf14f60b.json"}, "html": {"href": "#!/osrf/gazebo/commits/dfbecf14f60b"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "pass_transparency"}}, "state": "OPEN", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2016-12-15T02:15:38.416851+00:00"}, "pull_request": {"type": "pullrequest", "id": 2536, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2536.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2536"}}, "title": "Fix restoring submesh material transparency"}}, {"update": {"description": "When setting visual transparency to a non-zero value we currently overwrite certain material pass properties ([scene blending mode](#!/osrf/gazebo/src/2ca5c6f57bd405b90f563d5266a503cc2951bb9f/gazebo/rendering/Visual.cc?at=default&fileviewer=file-view-default#Visual.cc-1500) and [depth write](#!/osrf/gazebo/src/2ca5c6f57bd405b90f563d5266a503cc2951bb9f/gazebo/rendering/Visual.cc?at=default&fileviewer=file-view-default#Visual.cc-1505)) for transparency to work. We do so without remembering the original values so when transparency is turned off, we're not able to restore the material to the original state.\r\n\r\nYou can reproduce the problem by turning transparency on then off with this [prius](https://www.dropbox.com/s/7d5927vwbf7jlba/prius_hybrid.zip?dl=0) model or the [robocup09_spl_field](#!/osrf/gazebo_models/src/f8f2f9af8a59da5f5c60416a29eecdfae5f90125/robocup09_spl_field/?at=default). In the latter case, the net of the goal causes depth rendering problem when viewing the field from behind the goal.\r\n\r\nThis PR caches the original material when an object is attached to the visual and uses it to restore the material pass settings when transparency is turned off.\r\n\r\nOther couple of minor changes:\r\n\r\n- update a few variable default values in common::Material\r\n\r\n- fixed loading an OBJ material that does not have a texture file.\r\n\r\njenkins: [nividia-gpu](http://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/799) - ok", "title": "Fix restoring submesh material transparency", "destination": {"commit": {"hash": "2ca5c6f57bd4", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/2ca5c6f57bd4.json"}, "html": {"href": "#!/osrf/gazebo/commits/2ca5c6f57bd4"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "17c5e72bef4d", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/17c5e72bef4d.json"}, "html": {"href": "#!/osrf/gazebo/commits/17c5e72bef4d"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "pass_transparency"}}, "state": "OPEN", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2016-12-15T02:11:55.441076+00:00"}, "pull_request": {"type": "pullrequest", "id": 2536, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2536.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2536"}}, "title": "Fix restoring submesh material transparency"}}, {"update": {"description": "When setting visual transparency to a non-zero value we currently overwrite certain material pass properties ([scene blending mode](#!/osrf/gazebo/src/2ca5c6f57bd405b90f563d5266a503cc2951bb9f/gazebo/rendering/Visual.cc?at=default&fileviewer=file-view-default#Visual.cc-1500) and [depth write](#!/osrf/gazebo/src/2ca5c6f57bd405b90f563d5266a503cc2951bb9f/gazebo/rendering/Visual.cc?at=default&fileviewer=file-view-default#Visual.cc-1505)) for transparency to work. We do so without remembering the original values so when transparency is turned off, we're not able to restore the material to the original state.\r\n\r\nYou can reproduce the problem by turning transparency on then off with this [prius](https://www.dropbox.com/s/7d5927vwbf7jlba/prius_hybrid.zip?dl=0) model or the [robocup09_spl_field](#!/osrf/gazebo_models/src/f8f2f9af8a59da5f5c60416a29eecdfae5f90125/robocup09_spl_field/?at=default). In the latter case, the net of the goal causes depth rendering problem when viewing the field from behind the goal.\r\n\r\nThis PR caches the original material when an object is attached to the visual and uses it to restore the material pass settings when transparency is turned off.\r\n\r\nOther couple of minor changes:\r\n\r\n- update a few variable default values in common::Material\r\n\r\n- fixed loading an OBJ material that does not have a texture file.\r\n\r\njenkins: [nividia-gpu](http://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/799) - ok", "title": "Fix restoring submesh material transparency", "destination": {"commit": {"hash": "2ca5c6f57bd4", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/2ca5c6f57bd4.json"}, "html": {"href": "#!/osrf/gazebo/commits/2ca5c6f57bd4"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "17c5e72bef4d", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/17c5e72bef4d.json"}, "html": {"href": "#!/osrf/gazebo/commits/17c5e72bef4d"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "pass_transparency"}}, "state": "OPEN", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2016-12-15T02:11:55.419405+00:00"}, "pull_request": {"type": "pullrequest", "id": 2536, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2536.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2536"}}, "title": "Fix restoring submesh material transparency"}}]}