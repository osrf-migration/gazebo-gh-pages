{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2151/comments/14930293.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:4b5e9994db51..9569d26d280c?path=gazebo%2Fgui%2Fmodel%2FModelCreator.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2151/_/diff#comment-14930293"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2151, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2151.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2151"}}, "title": "Model Editor: Undo insert / delete links"}, "content": {"raw": "it is possible to reuse the `RemoveEntity` function just to minimize duplicate code?\n\nmaybe something like:\n\n~~~\n  auto link = this->allLinks.find(_entity);\n  if (link != this->allLinks.end())\n  {\n    auto cmd = MEUserCmdManager::Instance()->NewCmd(\n        \"Delete [\" + link->second->GetName() + \"]\", MEUserCmd::DELETING_LINK);\n    cmd->SetSDF(link->second->linkSDF);\n    cmd->SetScopedName(link->second->linkVisual->GetName());\n  }\n\n  this->RemoveEntity(_entity);\n~~~\n\nhaven't tested this, just an idea\n", "markup": "markdown", "html": "<p>it is possible to reuse the <code>RemoveEntity</code> function just to minimize duplicate code?</p>\n<p>maybe something like:</p>\n<div class=\"codehilite\"><pre><span></span>  <span class=\"nt\">auto</span> <span class=\"nt\">link</span> <span class=\"o\">=</span> <span class=\"nt\">this-</span><span class=\"o\">&gt;</span><span class=\"nt\">allLinks</span><span class=\"p\">.</span><span class=\"nc\">find</span><span class=\"o\">(</span><span class=\"nt\">_entity</span><span class=\"o\">);</span>\n  <span class=\"nt\">if</span> <span class=\"o\">(</span><span class=\"nt\">link</span> <span class=\"o\">!=</span> <span class=\"nt\">this-</span><span class=\"o\">&gt;</span><span class=\"nt\">allLinks</span><span class=\"p\">.</span><span class=\"nc\">end</span><span class=\"o\">())</span>\n  <span class=\"p\">{</span>\n    <span class=\"err\">auto</span> <span class=\"err\">cmd</span> <span class=\"err\">=</span> <span class=\"n\">MEUserCmdManager</span><span class=\"p\">:</span><span class=\"o\">:</span><span class=\"nf\">Instance</span><span class=\"p\">()</span><span class=\"o\">-&gt;</span><span class=\"nf\">NewCmd</span><span class=\"p\">(</span>\n        <span class=\"s2\">&quot;Delete </span><span class=\"cp\">[</span><span class=\"s2\">&quot; + link-&gt;second-&gt;GetName() + &quot;</span><span class=\"cp\">]</span><span class=\"s2\">&quot;</span><span class=\"p\">,</span> <span class=\"n\">MEUserCmd</span><span class=\"err\">::</span><span class=\"n\">DELETING_LINK</span><span class=\"p\">);</span>\n    <span class=\"err\">cmd-&gt;SetSDF(link-&gt;second-&gt;linkSDF)</span><span class=\"p\">;</span>\n    <span class=\"err\">cmd-&gt;SetScopedName(link-&gt;second-&gt;linkVisual-&gt;GetName())</span><span class=\"p\">;</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"nt\">this-</span><span class=\"o\">&gt;</span><span class=\"nt\">RemoveEntity</span><span class=\"o\">(</span><span class=\"nt\">_entity</span><span class=\"o\">);</span>\n</pre></div>\n\n\n<p>haven't tested this, just an idea</p>", "type": "rendered"}, "created_on": "2016-02-24T00:33:45.130337+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {"to": null, "from": 1527, "outdated": true, "path": "gazebo/gui/model/ModelCreator.cc"}, "updated_on": "2016-02-24T00:33:45.132362+00:00", "type": "pullrequest_comment", "id": 14930293}