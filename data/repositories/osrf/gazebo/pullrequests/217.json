{"rendered": {"description": {"raw": "The code changes in this pull request are driven by the SpawnDrop test that is added to `test/regression/physics.cc`. This test spawns a box, sphere, and cylinder and drops them onto a static ground plane. It tests the free-fall phase, in which:\r\n\r\n* x,y positions should not be changing\r\n* z position should be decreasing\r\n* x,y velocities should be zero\r\n* z velocity should be negative\r\n\r\nIt also tests a resting contact phase, in which:\r\n\r\n* all velocities should be near zero\r\n* x,y position should be near their initial values\r\n* the z position of the bottom of each object should be near the ground plane\r\n\r\nThe SpawnDropODE test passes, and the SpawnDropBullet test almost passes. It currently fails one of the EXPECTS, because the box and cylinder bounce to the side when they hit the ground. John and I think that this is a parameter issue in the bullet solver, and we're planning to address it. I'm creating a ticket for that issue.\r\n\r\nOutput of SpawnDropBullet test:\r\n~~~\r\n[ RUN      ] PhysicsTest.SpawnDropBullet\r\nGazebo multi-robot simulator, version 1.4.0\r\nCopyright (C) 2012 Nate Koenig, John Hsu, and contributors.\r\nReleased under the Apache 2 License.\r\nhttp://gazebosim.org\r\n\r\nMsg Waiting for master\r\nMsg Connected to gazebo master @ http://127.0.0.1:11345\r\nMsg Publicized address: 192.168.1.67\r\nDbg Check freefall of model test_box\r\nDbg Check freefall of model test_sphere\r\nDbg Check freefall of model test_cylinder\r\nDbg Check ground contact of model test_box\r\nDbg Check ground contact of model test_sphere\r\nDbg Check ground contact of model test_cylinder\r\n/home/scpeters/osrf/gazebo/test/regression/physics.cc:174: Failure\r\nThe difference between pose1.pos.x and x0 is 0.010209083557128906, which exceeds 1e-2, where\r\npose1.pos.x evaluates to 8.0102090835571289,\r\nx0 evaluates to 8, and\r\n1e-2 evaluates to 0.01.\r\n[  FAILED  ] PhysicsTest.SpawnDropBullet (3065 ms)\r\n~~~", "markup": "markdown", "html": "<p>The code changes in this pull request are driven by the SpawnDrop test that is added to <code>test/regression/physics.cc</code>. This test spawns a box, sphere, and cylinder and drops them onto a static ground plane. It tests the free-fall phase, in which:</p>\n<ul>\n<li>x,y positions should not be changing</li>\n<li>z position should be decreasing</li>\n<li>x,y velocities should be zero</li>\n<li>z velocity should be negative</li>\n</ul>\n<p>It also tests a resting contact phase, in which:</p>\n<ul>\n<li>all velocities should be near zero</li>\n<li>x,y position should be near their initial values</li>\n<li>the z position of the bottom of each object should be near the ground plane</li>\n</ul>\n<p>The SpawnDropODE test passes, and the SpawnDropBullet test almost passes. It currently fails one of the EXPECTS, because the box and cylinder bounce to the side when they hit the ground. John and I think that this is a parameter issue in the bullet solver, and we're planning to address it. I'm creating a ticket for that issue.</p>\n<p>Output of SpawnDropBullet test:</p>\n<div class=\"codehilite\"><pre><span></span>[ RUN      ] PhysicsTest.SpawnDropBullet\nGazebo multi-robot simulator, version 1.4.0\nCopyright (C) 2012 Nate Koenig, John Hsu, and contributors.\nReleased under the Apache 2 License.\nhttp://gazebosim.org\n\nMsg Waiting for master\nMsg Connected to gazebo master @ http://127.0.0.1:11345\nMsg Publicized address: 192.168.1.67\nDbg Check freefall of model test_box\nDbg Check freefall of model test_sphere\nDbg Check freefall of model test_cylinder\nDbg Check ground contact of model test_box\nDbg Check ground contact of model test_sphere\nDbg Check ground contact of model test_cylinder\n/home/scpeters/osrf/gazebo/test/regression/physics.cc:174: Failure\nThe difference between pose1.pos.x and x0 is 0.010209083557128906, which exceeds 1e-2, where\npose1.pos.x evaluates to 8.0102090835571289,\nx0 evaluates to 8, and\n1e-2 evaluates to 0.01.\n[  FAILED  ] PhysicsTest.SpawnDropBullet (3065 ms)\n</pre></div>", "type": "rendered"}, "title": {"raw": "Bullet integration: spawn and drop simple shapes", "markup": "markdown", "html": "<p>Bullet integration: spawn and drop simple shapes</p>", "type": "rendered"}}, "type": "pullrequest", "description": "The code changes in this pull request are driven by the SpawnDrop test that is added to `test/regression/physics.cc`. This test spawns a box, sphere, and cylinder and drops them onto a static ground plane. It tests the free-fall phase, in which:\r\n\r\n* x,y positions should not be changing\r\n* z position should be decreasing\r\n* x,y velocities should be zero\r\n* z velocity should be negative\r\n\r\nIt also tests a resting contact phase, in which:\r\n\r\n* all velocities should be near zero\r\n* x,y position should be near their initial values\r\n* the z position of the bottom of each object should be near the ground plane\r\n\r\nThe SpawnDropODE test passes, and the SpawnDropBullet test almost passes. It currently fails one of the EXPECTS, because the box and cylinder bounce to the side when they hit the ground. John and I think that this is a parameter issue in the bullet solver, and we're planning to address it. I'm creating a ticket for that issue.\r\n\r\nOutput of SpawnDropBullet test:\r\n~~~\r\n[ RUN      ] PhysicsTest.SpawnDropBullet\r\nGazebo multi-robot simulator, version 1.4.0\r\nCopyright (C) 2012 Nate Koenig, John Hsu, and contributors.\r\nReleased under the Apache 2 License.\r\nhttp://gazebosim.org\r\n\r\nMsg Waiting for master\r\nMsg Connected to gazebo master @ http://127.0.0.1:11345\r\nMsg Publicized address: 192.168.1.67\r\nDbg Check freefall of model test_box\r\nDbg Check freefall of model test_sphere\r\nDbg Check freefall of model test_cylinder\r\nDbg Check ground contact of model test_box\r\nDbg Check ground contact of model test_sphere\r\nDbg Check ground contact of model test_cylinder\r\n/home/scpeters/osrf/gazebo/test/regression/physics.cc:174: Failure\r\nThe difference between pose1.pos.x and x0 is 0.010209083557128906, which exceeds 1e-2, where\r\npose1.pos.x evaluates to 8.0102090835571289,\r\nx0 evaluates to 8, and\r\n1e-2 evaluates to 0.01.\r\n[  FAILED  ] PhysicsTest.SpawnDropBullet (3065 ms)\r\n~~~", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/pullrequests/217/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diffstat/osrf/gazebo:3e5fb38a404e%0D3bfa8932f2f2?from_pullrequest_id=217"}, "commits": {"href": "data/repositories/osrf/gazebo/pullrequests/217/commits.json"}, "self": {"href": "data/repositories/osrf/gazebo/pullrequests/217.json"}, "comments": {"href": "data/repositories/osrf/gazebo/pullrequests/217/comments_page=1.json"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/pullrequests/217/merge"}, "html": {"href": "#!/osrf/gazebo/pull-requests/217"}, "activity": {"href": "data/repositories/osrf/gazebo/pullrequests/217/activity.json"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:3e5fb38a404e%0D3bfa8932f2f2?from_pullrequest_id=217"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/pullrequests/217/approve"}, "statuses": {"href": "data/repositories/osrf/gazebo/pullrequests/217/statuses_page=1.json"}}, "title": "Bullet integration: spawn and drop simple shapes", "close_source_branch": true, "reviewers": [], "id": 217, "destination": {"commit": {"hash": "3bfa8932f2f2", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/3bfa8932f2f2.json"}, "html": {"href": "#!/osrf/gazebo/commits/3bfa8932f2f2"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "created_on": "2013-01-08T22:41:13.036486+00:00", "summary": {"raw": "The code changes in this pull request are driven by the SpawnDrop test that is added to `test/regression/physics.cc`. This test spawns a box, sphere, and cylinder and drops them onto a static ground plane. It tests the free-fall phase, in which:\r\n\r\n* x,y positions should not be changing\r\n* z position should be decreasing\r\n* x,y velocities should be zero\r\n* z velocity should be negative\r\n\r\nIt also tests a resting contact phase, in which:\r\n\r\n* all velocities should be near zero\r\n* x,y position should be near their initial values\r\n* the z position of the bottom of each object should be near the ground plane\r\n\r\nThe SpawnDropODE test passes, and the SpawnDropBullet test almost passes. It currently fails one of the EXPECTS, because the box and cylinder bounce to the side when they hit the ground. John and I think that this is a parameter issue in the bullet solver, and we're planning to address it. I'm creating a ticket for that issue.\r\n\r\nOutput of SpawnDropBullet test:\r\n~~~\r\n[ RUN      ] PhysicsTest.SpawnDropBullet\r\nGazebo multi-robot simulator, version 1.4.0\r\nCopyright (C) 2012 Nate Koenig, John Hsu, and contributors.\r\nReleased under the Apache 2 License.\r\nhttp://gazebosim.org\r\n\r\nMsg Waiting for master\r\nMsg Connected to gazebo master @ http://127.0.0.1:11345\r\nMsg Publicized address: 192.168.1.67\r\nDbg Check freefall of model test_box\r\nDbg Check freefall of model test_sphere\r\nDbg Check freefall of model test_cylinder\r\nDbg Check ground contact of model test_box\r\nDbg Check ground contact of model test_sphere\r\nDbg Check ground contact of model test_cylinder\r\n/home/scpeters/osrf/gazebo/test/regression/physics.cc:174: Failure\r\nThe difference between pose1.pos.x and x0 is 0.010209083557128906, which exceeds 1e-2, where\r\npose1.pos.x evaluates to 8.0102090835571289,\r\nx0 evaluates to 8, and\r\n1e-2 evaluates to 0.01.\r\n[  FAILED  ] PhysicsTest.SpawnDropBullet (3065 ms)\r\n~~~", "markup": "markdown", "html": "<p>The code changes in this pull request are driven by the SpawnDrop test that is added to <code>test/regression/physics.cc</code>. This test spawns a box, sphere, and cylinder and drops them onto a static ground plane. It tests the free-fall phase, in which:</p>\n<ul>\n<li>x,y positions should not be changing</li>\n<li>z position should be decreasing</li>\n<li>x,y velocities should be zero</li>\n<li>z velocity should be negative</li>\n</ul>\n<p>It also tests a resting contact phase, in which:</p>\n<ul>\n<li>all velocities should be near zero</li>\n<li>x,y position should be near their initial values</li>\n<li>the z position of the bottom of each object should be near the ground plane</li>\n</ul>\n<p>The SpawnDropODE test passes, and the SpawnDropBullet test almost passes. It currently fails one of the EXPECTS, because the box and cylinder bounce to the side when they hit the ground. John and I think that this is a parameter issue in the bullet solver, and we're planning to address it. I'm creating a ticket for that issue.</p>\n<p>Output of SpawnDropBullet test:</p>\n<div class=\"codehilite\"><pre><span></span>[ RUN      ] PhysicsTest.SpawnDropBullet\nGazebo multi-robot simulator, version 1.4.0\nCopyright (C) 2012 Nate Koenig, John Hsu, and contributors.\nReleased under the Apache 2 License.\nhttp://gazebosim.org\n\nMsg Waiting for master\nMsg Connected to gazebo master @ http://127.0.0.1:11345\nMsg Publicized address: 192.168.1.67\nDbg Check freefall of model test_box\nDbg Check freefall of model test_sphere\nDbg Check freefall of model test_cylinder\nDbg Check ground contact of model test_box\nDbg Check ground contact of model test_sphere\nDbg Check ground contact of model test_cylinder\n/home/scpeters/osrf/gazebo/test/regression/physics.cc:174: Failure\nThe difference between pose1.pos.x and x0 is 0.010209083557128906, which exceeds 1e-2, where\npose1.pos.x evaluates to 8.0102090835571289,\nx0 evaluates to 8, and\n1e-2 evaluates to 0.01.\n[  FAILED  ] PhysicsTest.SpawnDropBullet (3065 ms)\n</pre></div>", "type": "rendered"}, "source": {"commit": {"hash": "7eae37dbff47", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/7eae37dbff47.json"}, "html": {"href": "#!/osrf/gazebo/commits/7eae37dbff47"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "bullet_spawn_drop"}}, "comment_count": 20, "state": "MERGED", "task_count": 0, "participants": [{"role": "PARTICIPANT", "participated_on": "2013-01-16T00:26:29.206026+00:00", "type": "participant", "approved": false, "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}}, {"role": "PARTICIPANT", "participated_on": "2013-01-16T20:22:49.646920+00:00", "type": "participant", "approved": true, "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}}, {"role": "PARTICIPANT", "participated_on": "2013-01-18T01:03:39.985432+00:00", "type": "participant", "approved": true, "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}}], "reason": "", "updated_on": "2013-01-18T01:19:46.128212+00:00", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "merge_commit": {"hash": "3e5fb38a404e", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/3e5fb38a404e.json"}, "html": {"href": "#!/osrf/gazebo/commits/3e5fb38a404e"}}}, "closed_by": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}}