{"rendered": {"description": {"raw": "issue #1653 - The current behavior for creating heightmaps on the rendering side is to request height data from the physics server. However, currently protobuf msgs over certain size will be rejected and so heightmaps fail to load on the rendering side.\r\n\r\nThis PR updates the heightmap loading process on the rendering side to first try load the height data locally if available, if not, request the data from the server. \r\n\r\nNote, if the heightmap data is not present on the locally (e.g. running gzclient on a different machine that doesn't have the heightmap img), then the user will still run into the same problem. Future solution is to explore dividing large heightmap data into chunks and sending them to the rendering side using multiple msgs.\r\n\r\njenkins:\r\n\r\n- [nvidia gpu](http://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/636/) - no related test failures\r\n\r\n- [abi](http://build.osrfoundation.org/job/gazebo-abichecker-any_to_any-xenial-amd64/85/API_ABI_report/) - ok\r\n\r\n", "markup": "markdown", "html": "<p>issue <a href=\"#!/osrf/gazebo/issues/1653/large-heightmaps-causes-gazebo-to-crash\" rel=\"nofollow\" title=\"Large heightmaps causes Gazebo to crash\" class=\"ap-connect-link\"><s>#1653</s></a> - The current behavior for creating heightmaps on the rendering side is to request height data from the physics server. However, currently protobuf msgs over certain size will be rejected and so heightmaps fail to load on the rendering side.</p>\n<p>This PR updates the heightmap loading process on the rendering side to first try load the height data locally if available, if not, request the data from the server. </p>\n<p>Note, if the heightmap data is not present on the locally (e.g. running gzclient on a different machine that doesn't have the heightmap img), then the user will still run into the same problem. Future solution is to explore dividing large heightmap data into chunks and sending them to the rendering side using multiple msgs.</p>\n<p>jenkins:</p>\n<ul>\n<li>\n<p><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/636/\" rel=\"nofollow\">nvidia gpu</a> - no related test failures</p>\n</li>\n<li>\n<p><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/job/gazebo-abichecker-any_to_any-xenial-amd64/85/API_ABI_report/\" rel=\"nofollow\">abi</a> - ok</p>\n</li>\n</ul>", "type": "rendered"}, "title": {"raw": "Load heightmap data locally in rendering", "markup": "markdown", "html": "<p>Load heightmap data locally in rendering</p>", "type": "rendered"}}, "type": "pullrequest", "description": "issue #1653 - The current behavior for creating heightmaps on the rendering side is to request height data from the physics server. However, currently protobuf msgs over certain size will be rejected and so heightmaps fail to load on the rendering side.\r\n\r\nThis PR updates the heightmap loading process on the rendering side to first try load the height data locally if available, if not, request the data from the server. \r\n\r\nNote, if the heightmap data is not present on the locally (e.g. running gzclient on a different machine that doesn't have the heightmap img), then the user will still run into the same problem. Future solution is to explore dividing large heightmap data into chunks and sending them to the rendering side using multiple msgs.\r\n\r\njenkins:\r\n\r\n- [nvidia gpu](http://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/636/) - no related test failures\r\n\r\n- [abi](http://build.osrfoundation.org/job/gazebo-abichecker-any_to_any-xenial-amd64/85/API_ABI_report/) - ok\r\n\r\n", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/pullrequests/2453/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diffstat/osrf/gazebo:483ff016f764%0D48257737d1cd?from_pullrequest_id=2453"}, "commits": {"href": "data/repositories/osrf/gazebo/pullrequests/2453/commits.json"}, "self": {"href": "data/repositories/osrf/gazebo/pullrequests/2453.json"}, "comments": {"href": "data/repositories/osrf/gazebo/pullrequests/2453/comments_page=1.json"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/pullrequests/2453/merge"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2453"}, "activity": {"href": "data/repositories/osrf/gazebo/pullrequests/2453/activity.json"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:483ff016f764%0D48257737d1cd?from_pullrequest_id=2453"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/pullrequests/2453/approve"}, "statuses": {"href": "data/repositories/osrf/gazebo/pullrequests/2453/statuses_page=1.json"}}, "title": "Load heightmap data locally in rendering", "close_source_branch": true, "reviewers": [], "id": 2453, "destination": {"commit": {"hash": "48257737d1cd", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/48257737d1cd.json"}, "html": {"href": "#!/osrf/gazebo/commits/48257737d1cd"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo7"}}, "created_on": "2016-09-27T18:57:22.153543+00:00", "summary": {"raw": "issue #1653 - The current behavior for creating heightmaps on the rendering side is to request height data from the physics server. However, currently protobuf msgs over certain size will be rejected and so heightmaps fail to load on the rendering side.\r\n\r\nThis PR updates the heightmap loading process on the rendering side to first try load the height data locally if available, if not, request the data from the server. \r\n\r\nNote, if the heightmap data is not present on the locally (e.g. running gzclient on a different machine that doesn't have the heightmap img), then the user will still run into the same problem. Future solution is to explore dividing large heightmap data into chunks and sending them to the rendering side using multiple msgs.\r\n\r\njenkins:\r\n\r\n- [nvidia gpu](http://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/636/) - no related test failures\r\n\r\n- [abi](http://build.osrfoundation.org/job/gazebo-abichecker-any_to_any-xenial-amd64/85/API_ABI_report/) - ok\r\n\r\n", "markup": "markdown", "html": "<p>issue <a href=\"#!/osrf/gazebo/issues/1653/large-heightmaps-causes-gazebo-to-crash\" rel=\"nofollow\" title=\"Large heightmaps causes Gazebo to crash\" class=\"ap-connect-link\"><s>#1653</s></a> - The current behavior for creating heightmaps on the rendering side is to request height data from the physics server. However, currently protobuf msgs over certain size will be rejected and so heightmaps fail to load on the rendering side.</p>\n<p>This PR updates the heightmap loading process on the rendering side to first try load the height data locally if available, if not, request the data from the server. </p>\n<p>Note, if the heightmap data is not present on the locally (e.g. running gzclient on a different machine that doesn't have the heightmap img), then the user will still run into the same problem. Future solution is to explore dividing large heightmap data into chunks and sending them to the rendering side using multiple msgs.</p>\n<p>jenkins:</p>\n<ul>\n<li>\n<p><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/636/\" rel=\"nofollow\">nvidia gpu</a> - no related test failures</p>\n</li>\n<li>\n<p><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/job/gazebo-abichecker-any_to_any-xenial-amd64/85/API_ABI_report/\" rel=\"nofollow\">abi</a> - ok</p>\n</li>\n</ul>", "type": "rendered"}, "source": {"commit": {"hash": "e624e68d2219", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/e624e68d2219.json"}, "html": {"href": "#!/osrf/gazebo/commits/e624e68d2219"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "local_heightmap_7"}}, "comment_count": 15, "state": "MERGED", "task_count": 0, "participants": [{"role": "PARTICIPANT", "participated_on": "2016-10-04T14:44:14.485587+00:00", "type": "participant", "approved": true, "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}}, {"role": "PARTICIPANT", "participated_on": "2016-10-04T22:59:50.001374+00:00", "type": "participant", "approved": true, "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}}, {"role": "PARTICIPANT", "participated_on": "2016-10-04T21:50:02.917401+00:00", "type": "participant", "approved": false, "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}}], "reason": "", "updated_on": "2016-10-04T23:02:23.326233+00:00", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "merge_commit": {"hash": "483ff016f764", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/483ff016f764.json"}, "html": {"href": "#!/osrf/gazebo/commits/483ff016f764"}}}, "closed_by": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}}