{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1989/comments/14012153.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/ocrave/gazebo:None..None?path=gazebo%2Fphysics%2FAdiabaticAtmosphere.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1989/_/diff#comment-14012153"}}, "parent": {"id": 13992122, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1989/comments/13992122.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1989/_/diff#comment-13992122"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1989, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1989.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1989"}}, "title": "Atmosphere model"}, "content": {"raw": "In case you want to verify the equation for the computation of air density, below are the steps that brings you from `rho = pM/RT` to the equation we use in the code by replacing pressure `p` and temperature `T` by their `p(z)` and `T(z)` forms:\n\n```\n#!c++\n\nrho(z) = M/(RT(z)) * (p0(1+a.z/T0)^Mg/aR)\nrho(z) = M/(R.T0)* (1+a.z/T0) *(p0(1+a.z/T0)^Mg/aR)\nrho(z) = p0M/(R.T0)*(1+a.z/T0)^Mg/aR-1\nrho(z) = rho0(1+a.z/T0)^Mg/aR-1 \n```\n", "markup": "markdown", "html": "<p>In case you want to verify the equation for the computation of air density, below are the steps that brings you from <code>rho = pM/RT</code> to the equation we use in the code by replacing pressure <code>p</code> and temperature <code>T</code> by their <code>p(z)</code> and <code>T(z)</code> forms:</p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"n\">rho</span><span class=\"p\">(</span><span class=\"n\">z</span><span class=\"p\">)</span> <span class=\"o\">=</span> <span class=\"n\">M</span><span class=\"o\">/</span><span class=\"p\">(</span><span class=\"n\">RT</span><span class=\"p\">(</span><span class=\"n\">z</span><span class=\"p\">))</span> <span class=\"o\">*</span> <span class=\"p\">(</span><span class=\"n\">p0</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"o\">+</span><span class=\"n\">a</span><span class=\"p\">.</span><span class=\"n\">z</span><span class=\"o\">/</span><span class=\"n\">T0</span><span class=\"p\">)</span><span class=\"o\">^</span><span class=\"n\">Mg</span><span class=\"o\">/</span><span class=\"n\">aR</span><span class=\"p\">)</span>\n<span class=\"n\">rho</span><span class=\"p\">(</span><span class=\"n\">z</span><span class=\"p\">)</span> <span class=\"o\">=</span> <span class=\"n\">M</span><span class=\"o\">/</span><span class=\"p\">(</span><span class=\"n\">R</span><span class=\"p\">.</span><span class=\"n\">T0</span><span class=\"p\">)</span><span class=\"o\">*</span> <span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"o\">+</span><span class=\"n\">a</span><span class=\"p\">.</span><span class=\"n\">z</span><span class=\"o\">/</span><span class=\"n\">T0</span><span class=\"p\">)</span> <span class=\"o\">*</span><span class=\"p\">(</span><span class=\"n\">p0</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"o\">+</span><span class=\"n\">a</span><span class=\"p\">.</span><span class=\"n\">z</span><span class=\"o\">/</span><span class=\"n\">T0</span><span class=\"p\">)</span><span class=\"o\">^</span><span class=\"n\">Mg</span><span class=\"o\">/</span><span class=\"n\">aR</span><span class=\"p\">)</span>\n<span class=\"n\">rho</span><span class=\"p\">(</span><span class=\"n\">z</span><span class=\"p\">)</span> <span class=\"o\">=</span> <span class=\"n\">p0M</span><span class=\"o\">/</span><span class=\"p\">(</span><span class=\"n\">R</span><span class=\"p\">.</span><span class=\"n\">T0</span><span class=\"p\">)</span><span class=\"o\">*</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"o\">+</span><span class=\"n\">a</span><span class=\"p\">.</span><span class=\"n\">z</span><span class=\"o\">/</span><span class=\"n\">T0</span><span class=\"p\">)</span><span class=\"o\">^</span><span class=\"n\">Mg</span><span class=\"o\">/</span><span class=\"n\">aR</span><span class=\"o\">-</span><span class=\"mi\">1</span>\n<span class=\"n\">rho</span><span class=\"p\">(</span><span class=\"n\">z</span><span class=\"p\">)</span> <span class=\"o\">=</span> <span class=\"n\">rho0</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"o\">+</span><span class=\"n\">a</span><span class=\"p\">.</span><span class=\"n\">z</span><span class=\"o\">/</span><span class=\"n\">T0</span><span class=\"p\">)</span><span class=\"o\">^</span><span class=\"n\">Mg</span><span class=\"o\">/</span><span class=\"n\">aR</span><span class=\"o\">-</span><span class=\"mi\">1</span> \n</pre></div>", "type": "rendered"}, "created_on": "2016-01-29T17:48:22.401056+00:00", "user": {"display_name": "Olivier Crave", "uuid": "{c2c9ac10-3ca6-45ef-a19b-d3a76d065296}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc2c9ac10-3ca6-45ef-a19b-d3a76d065296%7D"}, "html": {"href": "https://bitbucket.org/%7Bc2c9ac10-3ca6-45ef-a19b-d3a76d065296%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/a4e0f2b75ca0affe5c82b9650a623d0dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsOC-4.png"}}, "nickname": "ocrave", "type": "user", "account_id": "557058:24cd6b3d-30bb-4c42-9e4b-f5836c392874"}, "inline": {"to": null, "from": null, "outdated": false, "path": "gazebo/physics/AdiabaticAtmosphere.cc"}, "updated_on": "2016-01-29T17:48:22.450959+00:00", "type": "pullrequest_comment", "id": 14012153}