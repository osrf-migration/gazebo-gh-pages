{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2089/comments/13403157.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:None..None?path=gazebo%2Fphysics%2FLink.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2089/_/diff#comment-13403157"}}, "parent": {"id": 13401714, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2089/comments/13401714.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2089/_/diff#comment-13401714"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2089, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2089.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2089"}}, "title": "Fix circular dependency between physics and sensors (issue #1516)"}, "content": {"raw": "I just glanced through our code real quick. `Sensor::FillMsg` gets called during `Sensor::Init` for publishing on `~/sensor` and it also gets called by `Link::FillMsg` which gets called by `World::LoadModel` for publishing on `~/model/info`. It is important because the `Scene` subscribes to both of these topics in order to create sensor visualizations (see [Scene::ProcessSensorMsg](#!/osrf/gazebo/src/9559e9655bdaadf4ebd627305713963f871bb0f8/gazebo/rendering/Scene.cc?fileviewer=file-view-default#Scene.cc-2202)). So I'm guessing that the sensor information in `~/model/info` will be incomplete, but sensor visualizations will still work because of the `~/sensor` topic message?\n\nWe should probably double-check that sensor visualizations are showing up.", "markup": "markdown", "html": "<p>I just glanced through our code real quick. <code>Sensor::FillMsg</code> gets called during <code>Sensor::Init</code> for publishing on <code>~/sensor</code> and it also gets called by <code>Link::FillMsg</code> which gets called by <code>World::LoadModel</code> for publishing on <code>~/model/info</code>. It is important because the <code>Scene</code> subscribes to both of these topics in order to create sensor visualizations (see <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/9559e9655bdaadf4ebd627305713963f871bb0f8/gazebo/rendering/Scene.cc?fileviewer=file-view-default#Scene.cc-2202\" rel=\"nofollow\">Scene::ProcessSensorMsg</a>). So I'm guessing that the sensor information in <code>~/model/info</code> will be incomplete, but sensor visualizations will still work because of the <code>~/sensor</code> topic message?</p>\n<p>We should probably double-check that sensor visualizations are showing up.</p>", "type": "rendered"}, "created_on": "2016-01-12T17:12:48.018692+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {"to": null, "from": null, "outdated": false, "path": "gazebo/physics/Link.cc"}, "updated_on": "2016-01-12T17:12:48.024377+00:00", "type": "pullrequest_comment", "id": 13403157}