{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2089/comments/13401714.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:b9c6610ee06d..4d6f0b389d30?path=gazebo%2Fphysics%2FLink.cc"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2089/_/diff#comment-13401714"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2089, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2089.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2089"}}, "title": "Fix circular dependency between physics and sensors (issue #1516)"}, "content": {"raw": "There are some differences between `Sensor::FillMsg` and `msgs::SensorFromSDF`. \n\n- `msgs::SensorFromSDF` currently doesn't handle `wideanglecamera` and `logical_camera` sensors like in `Sensor::FillMsg`. `msgs::SensorFromSDF` only checks for 3 types of sensors - maybe that's sufficient?\n\n- Sensor::FillMsg uses `GetTopic()` to fill the `topic` msg field and most sensors (e.g. CameraSensor, RaySensor) override this function with some custom string which are not written to SDF so it may not be the same as the string stored in `sensorElem`\n\n- `msgs::SensorFromSDF` doesn't fill `id` and `parent_id` fields.\n\nThe tests are passing so maybe we're don't really use all the sensor fields anyways (or we don't have a test to catch this) but just want to note this down in case we need these fields in the future", "markup": "markdown", "html": "<p>There are some differences between <code>Sensor::FillMsg</code> and <code>msgs::SensorFromSDF</code>. </p>\n<ul>\n<li>\n<p><code>msgs::SensorFromSDF</code> currently doesn't handle <code>wideanglecamera</code> and <code>logical_camera</code> sensors like in <code>Sensor::FillMsg</code>. <code>msgs::SensorFromSDF</code> only checks for 3 types of sensors - maybe that's sufficient?</p>\n</li>\n<li>\n<p>Sensor::FillMsg uses <code>GetTopic()</code> to fill the <code>topic</code> msg field and most sensors (e.g. CameraSensor, RaySensor) override this function with some custom string which are not written to SDF so it may not be the same as the string stored in <code>sensorElem</code></p>\n</li>\n<li>\n<p><code>msgs::SensorFromSDF</code> doesn't fill <code>id</code> and <code>parent_id</code> fields.</p>\n</li>\n</ul>\n<p>The tests are passing so maybe we're don't really use all the sensor fields anyways (or we don't have a test to catch this) but just want to note this down in case we need these fields in the future</p>", "type": "rendered"}, "created_on": "2016-01-12T16:45:15.660028+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {"to": 867, "from": null, "outdated": false, "path": "gazebo/physics/Link.cc"}, "updated_on": "2016-01-12T16:45:15.662679+00:00", "type": "pullrequest_comment", "id": 13401714}