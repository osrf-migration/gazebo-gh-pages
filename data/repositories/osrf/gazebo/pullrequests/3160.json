{"rendered": {"description": {"raw": "JointController: use ignition::msgs::JointCmd and its new optional fields\r\n\r\nThe `ignition-msgs3` release changed the protobuf syntax from `proto2` to `proto3`, which caused problems with the `JointCmd` message used by the JointController since `proto3` does not support optional fields for primitive types, and the `JointCmd` and its included `PID` messages both have floating point fields (force, target, gains, etc). A workaround was made in  5ad2a9c of pull request #3139 that causes the JointController to use `gazebo::msgs::JointCmd` instead of `ignition::msgs::JointCmd`, since gazebo_msgs still uses `proto2` syntax.\r\n\r\nIn ignition-msgs5, new optional fields of the custom message type `Double` were added to the `JointCmd` message ([ign-msgs pr 162](https://bitbucket.org/ignitionrobotics/ign-msgs/pull-requests/162/citadel-deprecate-all-double-fields-in/diff)), so that the `ignition::msgs::JointCmd` can have the same functionality as the `proto2` messages. This pull request switches to use the ignition message and updates to the necessary fields. It currently ignores the deprecated fields. Please advise if we should set both fields and try to read from the deprecated field if the optional field is not set.", "markup": "markdown", "html": "<p>JointController: use ignition::msgs::JointCmd and its new optional fields</p>\n<p>The <code>ignition-msgs3</code> release changed the protobuf syntax from <code>proto2</code> to <code>proto3</code>, which caused problems with the <code>JointCmd</code> message used by the JointController since <code>proto3</code> does not support optional fields for primitive types, and the <code>JointCmd</code> and its included <code>PID</code> messages both have floating point fields (force, target, gains, etc). A workaround was made in  <a href=\"#!/osrf/gazebo/commits/5ad2a9c\" rel=\"nofollow\" class=\"ap-connect-link\">5ad2a9c</a> of <a href=\"#!/osrf/gazebo/pull-requests/3139/update-to-ignition-citadel-dependencies-c\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #3139</a> that causes the JointController to use <code>gazebo::msgs::JointCmd</code> instead of <code>ignition::msgs::JointCmd</code>, since gazebo_msgs still uses <code>proto2</code> syntax.</p>\n<p>In ignition-msgs5, new optional fields of the custom message type <code>Double</code> were added to the <code>JointCmd</code> message (<a data-is-external-link=\"true\" href=\"https://bitbucket.org/ignitionrobotics/ign-msgs/pull-requests/162/citadel-deprecate-all-double-fields-in/diff\" rel=\"nofollow\">ign-msgs pr 162</a>), so that the <code>ignition::msgs::JointCmd</code> can have the same functionality as the <code>proto2</code> messages. This pull request switches to use the ignition message and updates to the necessary fields. It currently ignores the deprecated fields. Please advise if we should set both fields and try to read from the deprecated field if the optional field is not set.</p>", "type": "rendered"}, "title": {"raw": "JointController: use ignition::msgs::JointCmd and its new optional fields", "markup": "markdown", "html": "<p>JointController: use ignition::msgs::JointCmd and its new optional fields</p>", "type": "rendered"}}, "type": "pullrequest", "description": "JointController: use ignition::msgs::JointCmd and its new optional fields\r\n\r\nThe `ignition-msgs3` release changed the protobuf syntax from `proto2` to `proto3`, which caused problems with the `JointCmd` message used by the JointController since `proto3` does not support optional fields for primitive types, and the `JointCmd` and its included `PID` messages both have floating point fields (force, target, gains, etc). A workaround was made in  5ad2a9c of pull request #3139 that causes the JointController to use `gazebo::msgs::JointCmd` instead of `ignition::msgs::JointCmd`, since gazebo_msgs still uses `proto2` syntax.\r\n\r\nIn ignition-msgs5, new optional fields of the custom message type `Double` were added to the `JointCmd` message ([ign-msgs pr 162](https://bitbucket.org/ignitionrobotics/ign-msgs/pull-requests/162/citadel-deprecate-all-double-fields-in/diff)), so that the `ignition::msgs::JointCmd` can have the same functionality as the `proto2` messages. This pull request switches to use the ignition message and updates to the necessary fields. It currently ignores the deprecated fields. Please advise if we should set both fields and try to read from the deprecated field if the optional field is not set.", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/pullrequests/3160/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diffstat/osrf/gazebo:0a09cb462b71%0D11664433664e?from_pullrequest_id=3160"}, "commits": {"href": "data/repositories/osrf/gazebo/pullrequests/3160/commits.json"}, "self": {"href": "data/repositories/osrf/gazebo/pullrequests/3160.json"}, "comments": {"href": "data/repositories/osrf/gazebo/pullrequests/3160/comments_page=1.json"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/pullrequests/3160/merge"}, "html": {"href": "#!/osrf/gazebo/pull-requests/3160"}, "activity": {"href": "data/repositories/osrf/gazebo/pullrequests/3160/activity.json"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:0a09cb462b71%0D11664433664e?from_pullrequest_id=3160"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/pullrequests/3160/approve"}, "statuses": {"href": "data/repositories/osrf/gazebo/pullrequests/3160/statuses_page=1.json"}}, "title": "JointController: use ignition::msgs::JointCmd and its new optional fields", "close_source_branch": true, "reviewers": [{"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}, {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}], "id": 3160, "destination": {"commit": {"hash": "11664433664e", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/11664433664e.json"}, "html": {"href": "#!/osrf/gazebo/commits/11664433664e"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "citadel_deps_msgs"}}, "created_on": "2019-12-17T00:24:05.996099+00:00", "summary": {"raw": "JointController: use ignition::msgs::JointCmd and its new optional fields\r\n\r\nThe `ignition-msgs3` release changed the protobuf syntax from `proto2` to `proto3`, which caused problems with the `JointCmd` message used by the JointController since `proto3` does not support optional fields for primitive types, and the `JointCmd` and its included `PID` messages both have floating point fields (force, target, gains, etc). A workaround was made in  5ad2a9c of pull request #3139 that causes the JointController to use `gazebo::msgs::JointCmd` instead of `ignition::msgs::JointCmd`, since gazebo_msgs still uses `proto2` syntax.\r\n\r\nIn ignition-msgs5, new optional fields of the custom message type `Double` were added to the `JointCmd` message ([ign-msgs pr 162](https://bitbucket.org/ignitionrobotics/ign-msgs/pull-requests/162/citadel-deprecate-all-double-fields-in/diff)), so that the `ignition::msgs::JointCmd` can have the same functionality as the `proto2` messages. This pull request switches to use the ignition message and updates to the necessary fields. It currently ignores the deprecated fields. Please advise if we should set both fields and try to read from the deprecated field if the optional field is not set.", "markup": "markdown", "html": "<p>JointController: use ignition::msgs::JointCmd and its new optional fields</p>\n<p>The <code>ignition-msgs3</code> release changed the protobuf syntax from <code>proto2</code> to <code>proto3</code>, which caused problems with the <code>JointCmd</code> message used by the JointController since <code>proto3</code> does not support optional fields for primitive types, and the <code>JointCmd</code> and its included <code>PID</code> messages both have floating point fields (force, target, gains, etc). A workaround was made in  <a href=\"#!/osrf/gazebo/commits/5ad2a9c\" rel=\"nofollow\" class=\"ap-connect-link\">5ad2a9c</a> of <a href=\"#!/osrf/gazebo/pull-requests/3139/update-to-ignition-citadel-dependencies-c\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #3139</a> that causes the JointController to use <code>gazebo::msgs::JointCmd</code> instead of <code>ignition::msgs::JointCmd</code>, since gazebo_msgs still uses <code>proto2</code> syntax.</p>\n<p>In ignition-msgs5, new optional fields of the custom message type <code>Double</code> were added to the <code>JointCmd</code> message (<a data-is-external-link=\"true\" href=\"https://bitbucket.org/ignitionrobotics/ign-msgs/pull-requests/162/citadel-deprecate-all-double-fields-in/diff\" rel=\"nofollow\">ign-msgs pr 162</a>), so that the <code>ignition::msgs::JointCmd</code> can have the same functionality as the <code>proto2</code> messages. This pull request switches to use the ignition message and updates to the necessary fields. It currently ignores the deprecated fields. Please advise if we should set both fields and try to read from the deprecated field if the optional field is not set.</p>", "type": "rendered"}, "source": {"commit": {"hash": "a064ffa0ec88", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/a064ffa0ec88.json"}, "html": {"href": "#!/osrf/gazebo/commits/a064ffa0ec88"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "citadel_deps_msgs_joint_cmd"}}, "comment_count": 6, "state": "MERGED", "task_count": 0, "participants": [{"role": "PARTICIPANT", "participated_on": "2020-01-03T23:33:23.267519+00:00", "type": "participant", "approved": false, "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}}, {"role": "REVIEWER", "participated_on": "2019-12-28T00:05:49.368403+00:00", "type": "participant", "approved": true, "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}}, {"role": "REVIEWER", "participated_on": "2019-12-30T15:19:21.405266+00:00", "type": "participant", "approved": true, "user": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}}], "reason": "", "updated_on": "2020-01-03T23:34:00.254021+00:00", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "merge_commit": {"hash": "0a09cb462b71", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/0a09cb462b71.json"}, "html": {"href": "#!/osrf/gazebo/commits/0a09cb462b71"}}}, "closed_by": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}}