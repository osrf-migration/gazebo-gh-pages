{"pagelen": 50, "values": [{"update": {"description": "Some sort of `Add*Force` function is needed to be used with the Apply Force GUI.\r\n\r\nThe current `Link::Add*Force` API is [not very clear](#!/osrf/gazebo/issue/354/setforce-settorque-in-class-odelink-point). Talking to @scpeters, we thought of adding 3 new functions as follows, and eventually deprecating the currently existing ones.\r\n\r\n~~~\r\n      /// \\brief Add a force expressed in the world frame.\r\n      /// \\param[in] _force Force is a free vector (a direction, orientation)\r\n      /// expressed in the world frame. Each component corresponds to the force\r\n      /// which will be added in that direction.\r\n      /// \\param[in] _offset Offset position (translation) with respect to the\r\n      /// world frame. It defaults to the world origin.\r\n      public: virtual void AddWorldForce(const math::Vector3 &_force,\r\n          const math::Vector3 &_offset = math::Vector3::Zero) = 0;\r\n\r\n      /// \\brief Add a force expressed in the link frame.\r\n      /// \\param[in] _force Force is a free vector (a direction, orientation)\r\n      /// expressed in the link frame. Each component corresponds to the force\r\n      /// which will be added in that direction.\r\n      /// \\param[in] _offset Offset position (translation) with respect to the\r\n      /// link frame. It defaults to the link origin.\r\n      public: virtual void AddLinkForce(const math::Vector3 &_force,\r\n          const math::Vector3 &_offset = math::Vector3::Zero) = 0;\r\n\r\n      /// \\brief Add a force expressed in the inertial frame.\r\n      /// \\param[in] _force Force is a free vector (a direction, orientation)\r\n      /// expressed in the inertial frame. Each component corresponds to the force\r\n      /// which will be added in that direction.\r\n      /// \\param[in] _offset Offset position (translation) with respect to the\r\n      /// inertial frame. It defaults to CoG.\r\n      public: virtual void AddInertialForce(const math::Vector3 &_force,\r\n          const math::Vector3 &_offset = math::Vector3::Zero) = 0;\r\n~~~\r\n\r\nThis PR implements one of them, `AddLinkForce`, which is the one needed for the Apply Force GUI. You can try out the GUI on branch [apply_force_dialog](#!/osrf/gazebo/branch/apply_force_dialog) if you want to see the function in action.\r\n\r\nThis PR includes integration tests for the new function. ~~Four~~ ~~Five~~ Six situations are tested, each with a combination of frame poses and application points which hopefully cover most of the possibilities without too much overlap. But it's very much likely that these are very bad test cases... \r\n\r\n~~Below you can see how I expect the cases to be working. xyz are the axes of the world frame (W), link frame (L) and inertial frame (I).~~\r\n\r\n~~The first 4~~ All test cases are passing. ~~But I did some weird stuff to make some tests pass. Still working on fixing test 5. More specifically, in lines [377](#!/osrf/gazebo/pull-request/1456/implemented-addlinkforce-for-ode-with/diff#Ltest/integration/physics_link.ccT377) and [383/384](#!/osrf/gazebo/pull-request/1456/implemented-addlinkforce-for-ode-with/diff#Ltest/integration/physics_link.ccT383). Having that said, I'm sure there's a lot more weird stuff I'm not aware of.~~", "title": "Implemented AddLinkForce for ODE with integration tests", "destination": {"commit": {"hash": "a02faa114d54", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/a02faa114d54.json"}, "html": {"href": "#!/osrf/gazebo/commits/a02faa114d54"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "a906e666722e", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/a906e666722e.json"}, "html": {"href": "#!/osrf/gazebo/commits/a906e666722e"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "add_XXX_force"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2015-03-03T09:19:34.816099+00:00"}, "pull_request": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5433190.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5433190"}}, "parent": {"id": 5433172, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5433172.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5433172"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}, "content": {"raw": "sorry I meant to do these in a separate branch. I'll do the rest in a separate branch.", "markup": "markdown", "html": "<p>sorry I meant to do these in a separate branch. I'll do the rest in a separate branch.</p>", "type": "rendered"}, "created_on": "2015-03-03T01:46:41.284640+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2015-03-03T01:46:41.291204+00:00", "type": "pullrequest_comment", "id": 5433190}, "pull_request": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}}, {"update": {"description": "Some sort of `Add*Force` function is needed to be used with the Apply Force GUI.\r\n\r\nThe current `Link::Add*Force` API is [not very clear](#!/osrf/gazebo/issue/354/setforce-settorque-in-class-odelink-point). Talking to @scpeters, we thought of adding 3 new functions as follows, and eventually deprecating the currently existing ones.\r\n\r\n~~~\r\n      /// \\brief Add a force expressed in the world frame.\r\n      /// \\param[in] _force Force is a free vector (a direction, orientation)\r\n      /// expressed in the world frame. Each component corresponds to the force\r\n      /// which will be added in that direction.\r\n      /// \\param[in] _offset Offset position (translation) with respect to the\r\n      /// world frame. It defaults to the world origin.\r\n      public: virtual void AddWorldForce(const math::Vector3 &_force,\r\n          const math::Vector3 &_offset = math::Vector3::Zero) = 0;\r\n\r\n      /// \\brief Add a force expressed in the link frame.\r\n      /// \\param[in] _force Force is a free vector (a direction, orientation)\r\n      /// expressed in the link frame. Each component corresponds to the force\r\n      /// which will be added in that direction.\r\n      /// \\param[in] _offset Offset position (translation) with respect to the\r\n      /// link frame. It defaults to the link origin.\r\n      public: virtual void AddLinkForce(const math::Vector3 &_force,\r\n          const math::Vector3 &_offset = math::Vector3::Zero) = 0;\r\n\r\n      /// \\brief Add a force expressed in the inertial frame.\r\n      /// \\param[in] _force Force is a free vector (a direction, orientation)\r\n      /// expressed in the inertial frame. Each component corresponds to the force\r\n      /// which will be added in that direction.\r\n      /// \\param[in] _offset Offset position (translation) with respect to the\r\n      /// inertial frame. It defaults to CoG.\r\n      public: virtual void AddInertialForce(const math::Vector3 &_force,\r\n          const math::Vector3 &_offset = math::Vector3::Zero) = 0;\r\n~~~\r\n\r\nThis PR implements one of them, `AddLinkForce`, which is the one needed for the Apply Force GUI. You can try out the GUI on branch [apply_force_dialog](#!/osrf/gazebo/branch/apply_force_dialog) if you want to see the function in action.\r\n\r\nThis PR includes integration tests for the new function. ~~Four~~ ~~Five~~ Six situations are tested, each with a combination of frame poses and application points which hopefully cover most of the possibilities without too much overlap. But it's very much likely that these are very bad test cases... \r\n\r\n~~Below you can see how I expect the cases to be working. xyz are the axes of the world frame (W), link frame (L) and inertial frame (I).~~\r\n\r\n~~The first 4~~ All test cases are passing. ~~But I did some weird stuff to make some tests pass. Still working on fixing test 5. More specifically, in lines [377](#!/osrf/gazebo/pull-request/1456/implemented-addlinkforce-for-ode-with/diff#Ltest/integration/physics_link.ccT377) and [383/384](#!/osrf/gazebo/pull-request/1456/implemented-addlinkforce-for-ode-with/diff#Ltest/integration/physics_link.ccT383). Having that said, I'm sure there's a lot more weird stuff I'm not aware of.~~", "title": "Implemented AddLinkForce for ODE with integration tests", "destination": {"commit": {"hash": "9c2d13f8cb0b", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/9c2d13f8cb0b.json"}, "html": {"href": "#!/osrf/gazebo/commits/9c2d13f8cb0b"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "666267bd89b6", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/666267bd89b6.json"}, "html": {"href": "#!/osrf/gazebo/commits/666267bd89b6"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "add_XXX_force"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2015-03-03T01:45:34.460295+00:00"}, "pull_request": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5433172.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5433172"}}, "parent": {"id": 5430243, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5430243.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5430243"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}, "content": {"raw": "I switched this over in c62270ee87a5 (and 666267bd89b6)", "markup": "markdown", "html": "<p>I switched this over in <a href=\"#!/osrf/gazebo/commits/c62270ee87a5\" rel=\"nofollow\" class=\"ap-connect-link\">c62270ee87a5</a> (and <a href=\"#!/osrf/gazebo/commits/666267bd89b6\" rel=\"nofollow\" class=\"ap-connect-link\">666267bd89b6</a>)</p>", "type": "rendered"}, "created_on": "2015-03-03T01:44:44.132130+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2015-03-03T01:44:44.141857+00:00", "type": "pullrequest_comment", "id": 5433172}, "pull_request": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5433125.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5433125"}}, "parent": {"id": 5429346, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5429346.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5429346"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}, "content": {"raw": "referenced issue numbers in console messages in 3de1e8a7dd9b", "markup": "markdown", "html": "<p>referenced issue numbers in console messages in <a href=\"#!/osrf/gazebo/commits/3de1e8a7dd9b\" rel=\"nofollow\" class=\"ap-connect-link\">3de1e8a7dd9b</a></p>", "type": "rendered"}, "created_on": "2015-03-03T01:38:53.745600+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2015-03-03T01:38:53.752793+00:00", "type": "pullrequest_comment", "id": 5433125}, "pull_request": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}}, {"update": {"description": "Some sort of `Add*Force` function is needed to be used with the Apply Force GUI.\r\n\r\nThe current `Link::Add*Force` API is [not very clear](#!/osrf/gazebo/issue/354/setforce-settorque-in-class-odelink-point). Talking to @scpeters, we thought of adding 3 new functions as follows, and eventually deprecating the currently existing ones.\r\n\r\n~~~\r\n      /// \\brief Add a force expressed in the world frame.\r\n      /// \\param[in] _force Force is a free vector (a direction, orientation)\r\n      /// expressed in the world frame. Each component corresponds to the force\r\n      /// which will be added in that direction.\r\n      /// \\param[in] _offset Offset position (translation) with respect to the\r\n      /// world frame. It defaults to the world origin.\r\n      public: virtual void AddWorldForce(const math::Vector3 &_force,\r\n          const math::Vector3 &_offset = math::Vector3::Zero) = 0;\r\n\r\n      /// \\brief Add a force expressed in the link frame.\r\n      /// \\param[in] _force Force is a free vector (a direction, orientation)\r\n      /// expressed in the link frame. Each component corresponds to the force\r\n      /// which will be added in that direction.\r\n      /// \\param[in] _offset Offset position (translation) with respect to the\r\n      /// link frame. It defaults to the link origin.\r\n      public: virtual void AddLinkForce(const math::Vector3 &_force,\r\n          const math::Vector3 &_offset = math::Vector3::Zero) = 0;\r\n\r\n      /// \\brief Add a force expressed in the inertial frame.\r\n      /// \\param[in] _force Force is a free vector (a direction, orientation)\r\n      /// expressed in the inertial frame. Each component corresponds to the force\r\n      /// which will be added in that direction.\r\n      /// \\param[in] _offset Offset position (translation) with respect to the\r\n      /// inertial frame. It defaults to CoG.\r\n      public: virtual void AddInertialForce(const math::Vector3 &_force,\r\n          const math::Vector3 &_offset = math::Vector3::Zero) = 0;\r\n~~~\r\n\r\nThis PR implements one of them, `AddLinkForce`, which is the one needed for the Apply Force GUI. You can try out the GUI on branch [apply_force_dialog](#!/osrf/gazebo/branch/apply_force_dialog) if you want to see the function in action.\r\n\r\nThis PR includes integration tests for the new function. ~~Four~~ ~~Five~~ Six situations are tested, each with a combination of frame poses and application points which hopefully cover most of the possibilities without too much overlap. But it's very much likely that these are very bad test cases... \r\n\r\n~~Below you can see how I expect the cases to be working. xyz are the axes of the world frame (W), link frame (L) and inertial frame (I).~~\r\n\r\n~~The first 4~~ All test cases are passing. ~~But I did some weird stuff to make some tests pass. Still working on fixing test 5. More specifically, in lines [377](#!/osrf/gazebo/pull-request/1456/implemented-addlinkforce-for-ode-with/diff#Ltest/integration/physics_link.ccT377) and [383/384](#!/osrf/gazebo/pull-request/1456/implemented-addlinkforce-for-ode-with/diff#Ltest/integration/physics_link.ccT383). Having that said, I'm sure there's a lot more weird stuff I'm not aware of.~~", "title": "Implemented AddLinkForce for ODE with integration tests", "destination": {"commit": {"hash": "9c2d13f8cb0b", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/9c2d13f8cb0b.json"}, "html": {"href": "#!/osrf/gazebo/commits/9c2d13f8cb0b"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "3de1e8a7dd9b", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/3de1e8a7dd9b.json"}, "html": {"href": "#!/osrf/gazebo/commits/3de1e8a7dd9b"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "add_XXX_force"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2015-03-03T01:38:53.073049+00:00"}, "pull_request": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5430508.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5430508"}}, "parent": {"id": 5379775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5379775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5379775"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}, "content": {"raw": "That's a good point about the \"inertial frame\"; I've always heard that referring to a fixed frame. Maybe body-fixed inertia frame?\n\nI haven't used the \"free vector\" terminology before, so I need to think about it a little. Any thoughts @hsu?", "markup": "markdown", "html": "<p>That's a good point about the \"inertial frame\"; I've always heard that referring to a fixed frame. Maybe body-fixed inertia frame?</p>\n<p>I haven't used the \"free vector\" terminology before, so I need to think about it a little. Any thoughts @hsu?</p>", "type": "rendered"}, "created_on": "2015-03-02T22:27:58.747803+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2015-03-02T22:27:58.762021+00:00", "type": "pullrequest_comment", "id": 5430508}, "pull_request": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5430456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5430456"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}, "content": {"raw": "I like the test. I made a few comments below that we can discuss further in person if you have any questions.", "markup": "markdown", "html": "<p>I like the test. I made a few comments below that we can discuss further in person if you have any questions.</p>", "type": "rendered"}, "created_on": "2015-03-02T22:24:56.205872+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2015-03-02T22:24:56.216044+00:00", "type": "pullrequest_comment", "id": 5430456}, "pull_request": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5430436.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5430436"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}, "content": {"raw": "This is correct for a unit sphere or unit box, but it could be incorrect in other cases due to gyroscopic tumbling.", "markup": "markdown", "html": "<p>This is correct for a unit sphere or unit box, but it could be incorrect in other cases due to gyroscopic tumbling.</p>", "type": "rendered"}, "created_on": "2015-03-02T22:23:39.842685+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2015-03-02T22:23:39.849361+00:00", "type": "pullrequest_comment", "id": 5430436}, "pull_request": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5430426.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5430426"}}, "parent": {"id": 5430394, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5430394.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5430394"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}, "content": {"raw": "Also, the gyroscopic terms are zero if the inertia terms are all zero (such as for a unit sphere or box).", "markup": "markdown", "html": "<p>Also, the gyroscopic terms are zero if the inertia terms are all zero (such as for a unit sphere or box).</p>", "type": "rendered"}, "created_on": "2015-03-02T22:23:04.891573+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2015-03-02T22:23:04.902553+00:00", "type": "pullrequest_comment", "id": 5430426}, "pull_request": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5430394.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5430394"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}, "content": {"raw": "Technically, this could also involve gyroscopic terms, but maybe they aren't active if it starts from rest? \n\nfrom [this page](http://www.real-world-physics-problems.com/rigid-body-dynamics.html):\n\n![equations](http://www.real-world-physics-problems.com/images/rigid_body_dynamics_8.png)", "markup": "markdown", "html": "<p>Technically, this could also involve gyroscopic terms, but maybe they aren't active if it starts from rest? </p>\n<p>from <a data-is-external-link=\"true\" href=\"http://www.real-world-physics-problems.com/rigid-body-dynamics.html\" rel=\"nofollow\">this page</a>:</p>\n<p><img alt=\"equations\" src=\"http://www.real-world-physics-problems.com/images/rigid_body_dynamics_8.png\" /></p>", "type": "rendered"}, "created_on": "2015-03-02T22:21:10.744438+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2015-03-02T22:21:10.754180+00:00", "type": "pullrequest_comment", "id": 5430394}, "pull_request": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5430334.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5430334"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}, "content": {"raw": "~~~\ndt * oneStepLinearAccel\n~~~", "markup": "markdown", "html": "<div class=\"codehilite\"><pre><span></span>dt * oneStepLinearAccel\n</pre></div>", "type": "rendered"}, "created_on": "2015-03-02T22:17:02.621353+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2015-03-02T22:17:02.630045+00:00", "type": "pullrequest_comment", "id": 5430334}, "pull_request": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5430324.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5430324"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}, "content": {"raw": "I would expect computing the angular acceleration to involve division by the inertia values somewhere. If the inertia values are `1` for the test models, perhaps we can change that to make sure inertia is handled properly?", "markup": "markdown", "html": "<p>I would expect computing the angular acceleration to involve division by the inertia values somewhere. If the inertia values are <code>1</code> for the test models, perhaps we can change that to make sure inertia is handled properly?</p>", "type": "rendered"}, "created_on": "2015-03-02T22:16:05.243373+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2015-03-02T22:16:05.257832+00:00", "type": "pullrequest_comment", "id": 5430324}, "pull_request": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5430299.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5430299"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}, "content": {"raw": "Interesting: `GetWorldTorque` returns an impulse instead of a torque?", "markup": "markdown", "html": "<p>Interesting: <code>GetWorldTorque</code> returns an impulse instead of a torque?</p>", "type": "rendered"}, "created_on": "2015-03-02T22:14:09.351821+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2015-03-02T22:14:09.372976+00:00", "type": "pullrequest_comment", "id": 5430299}, "pull_request": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5430243.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5430243"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}, "content": {"raw": "You could also use `_link->GetWorldCoGLinearVel()` in this instance.", "markup": "markdown", "html": "<p>You could also use <code>_link-&gt;GetWorldCoGLinearVel()</code> in this instance.</p>", "type": "rendered"}, "created_on": "2015-03-02T22:11:19.709694+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2015-03-02T22:11:19.717509+00:00", "type": "pullrequest_comment", "id": 5430243}, "pull_request": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}}, {"update": {"description": "Some sort of `Add*Force` function is needed to be used with the Apply Force GUI.\r\n\r\nThe current `Link::Add*Force` API is [not very clear](#!/osrf/gazebo/issue/354/setforce-settorque-in-class-odelink-point). Talking to @scpeters, we thought of adding 3 new functions as follows, and eventually deprecating the currently existing ones.\r\n\r\n~~~\r\n      /// \\brief Add a force expressed in the world frame.\r\n      /// \\param[in] _force Force is a free vector (a direction, orientation)\r\n      /// expressed in the world frame. Each component corresponds to the force\r\n      /// which will be added in that direction.\r\n      /// \\param[in] _offset Offset position (translation) with respect to the\r\n      /// world frame. It defaults to the world origin.\r\n      public: virtual void AddWorldForce(const math::Vector3 &_force,\r\n          const math::Vector3 &_offset = math::Vector3::Zero) = 0;\r\n\r\n      /// \\brief Add a force expressed in the link frame.\r\n      /// \\param[in] _force Force is a free vector (a direction, orientation)\r\n      /// expressed in the link frame. Each component corresponds to the force\r\n      /// which will be added in that direction.\r\n      /// \\param[in] _offset Offset position (translation) with respect to the\r\n      /// link frame. It defaults to the link origin.\r\n      public: virtual void AddLinkForce(const math::Vector3 &_force,\r\n          const math::Vector3 &_offset = math::Vector3::Zero) = 0;\r\n\r\n      /// \\brief Add a force expressed in the inertial frame.\r\n      /// \\param[in] _force Force is a free vector (a direction, orientation)\r\n      /// expressed in the inertial frame. Each component corresponds to the force\r\n      /// which will be added in that direction.\r\n      /// \\param[in] _offset Offset position (translation) with respect to the\r\n      /// inertial frame. It defaults to CoG.\r\n      public: virtual void AddInertialForce(const math::Vector3 &_force,\r\n          const math::Vector3 &_offset = math::Vector3::Zero) = 0;\r\n~~~\r\n\r\nThis PR implements one of them, `AddLinkForce`, which is the one needed for the Apply Force GUI. You can try out the GUI on branch [apply_force_dialog](#!/osrf/gazebo/branch/apply_force_dialog) if you want to see the function in action.\r\n\r\nThis PR includes integration tests for the new function. ~~Four~~ ~~Five~~ Six situations are tested, each with a combination of frame poses and application points which hopefully cover most of the possibilities without too much overlap. But it's very much likely that these are very bad test cases... \r\n\r\n~~Below you can see how I expect the cases to be working. xyz are the axes of the world frame (W), link frame (L) and inertial frame (I).~~\r\n\r\n~~The first 4~~ All test cases are passing. ~~But I did some weird stuff to make some tests pass. Still working on fixing test 5. More specifically, in lines [377](#!/osrf/gazebo/pull-request/1456/implemented-addlinkforce-for-ode-with/diff#Ltest/integration/physics_link.ccT377) and [383/384](#!/osrf/gazebo/pull-request/1456/implemented-addlinkforce-for-ode-with/diff#Ltest/integration/physics_link.ccT383). Having that said, I'm sure there's a lot more weird stuff I'm not aware of.~~", "title": "Implemented AddLinkForce for ODE with integration tests", "destination": {"commit": {"hash": "c591d97f145d", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/c591d97f145d.json"}, "html": {"href": "#!/osrf/gazebo/commits/c591d97f145d"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "6ca9b56d81e4", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/6ca9b56d81e4.json"}, "html": {"href": "#!/osrf/gazebo/commits/6ca9b56d81e4"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "add_XXX_force"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2015-03-02T22:07:20.087691+00:00"}, "pull_request": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}}, {"update": {"description": "Some sort of `Add*Force` function is needed to be used with the Apply Force GUI.\r\n\r\nThe current `Link::Add*Force` API is [not very clear](#!/osrf/gazebo/issue/354/setforce-settorque-in-class-odelink-point). Talking to @scpeters, we thought of adding 3 new functions as follows, and eventually deprecating the currently existing ones.\r\n\r\n~~~\r\n      /// \\brief Add a force expressed in the world frame.\r\n      /// \\param[in] _force Force is a free vector (a direction, orientation)\r\n      /// expressed in the world frame. Each component corresponds to the force\r\n      /// which will be added in that direction.\r\n      /// \\param[in] _offset Offset position (translation) with respect to the\r\n      /// world frame. It defaults to the world origin.\r\n      public: virtual void AddWorldForce(const math::Vector3 &_force,\r\n          const math::Vector3 &_offset = math::Vector3::Zero) = 0;\r\n\r\n      /// \\brief Add a force expressed in the link frame.\r\n      /// \\param[in] _force Force is a free vector (a direction, orientation)\r\n      /// expressed in the link frame. Each component corresponds to the force\r\n      /// which will be added in that direction.\r\n      /// \\param[in] _offset Offset position (translation) with respect to the\r\n      /// link frame. It defaults to the link origin.\r\n      public: virtual void AddLinkForce(const math::Vector3 &_force,\r\n          const math::Vector3 &_offset = math::Vector3::Zero) = 0;\r\n\r\n      /// \\brief Add a force expressed in the inertial frame.\r\n      /// \\param[in] _force Force is a free vector (a direction, orientation)\r\n      /// expressed in the inertial frame. Each component corresponds to the force\r\n      /// which will be added in that direction.\r\n      /// \\param[in] _offset Offset position (translation) with respect to the\r\n      /// inertial frame. It defaults to CoG.\r\n      public: virtual void AddInertialForce(const math::Vector3 &_force,\r\n          const math::Vector3 &_offset = math::Vector3::Zero) = 0;\r\n~~~\r\n\r\nThis PR implements one of them, `AddLinkForce`, which is the one needed for the Apply Force GUI. You can try out the GUI on branch [apply_force_dialog](#!/osrf/gazebo/branch/apply_force_dialog) if you want to see the function in action.\r\n\r\nThis PR includes integration tests for the new function. ~~Four~~ ~~Five~~ Six situations are tested, each with a combination of frame poses and application points which hopefully cover most of the possibilities without too much overlap. But it's very much likely that these are very bad test cases... \r\n\r\n~~Below you can see how I expect the cases to be working. xyz are the axes of the world frame (W), link frame (L) and inertial frame (I).~~\r\n\r\n~~The first 4~~ All test cases are passing. ~~But I did some weird stuff to make some tests pass. Still working on fixing test 5. More specifically, in lines [377](#!/osrf/gazebo/pull-request/1456/implemented-addlinkforce-for-ode-with/diff#Ltest/integration/physics_link.ccT377) and [383/384](#!/osrf/gazebo/pull-request/1456/implemented-addlinkforce-for-ode-with/diff#Ltest/integration/physics_link.ccT383). Having that said, I'm sure there's a lot more weird stuff I'm not aware of.~~", "title": "Implemented AddLinkForce for ODE with integration tests", "destination": {"commit": {"hash": "a0fde3442b42", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/a0fde3442b42.json"}, "html": {"href": "#!/osrf/gazebo/commits/a0fde3442b42"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "985d74996667", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/985d74996667.json"}, "html": {"href": "#!/osrf/gazebo/commits/985d74996667"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "add_XXX_force"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2015-03-02T21:25:04.637319+00:00"}, "pull_request": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5429346.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5429346"}}, "parent": {"id": 5400861, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5400861.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5400861"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}, "content": {"raw": "Issues #1476 #1477 #1478", "markup": "markdown", "html": "<p>Issues <a href=\"#!/osrf/gazebo/issues/1476/implement-addxxxforce-for-bullet\" rel=\"nofollow\" title=\"Implement AddXXXForce for Bullet\" class=\"ap-connect-link\">#1476</a> <a href=\"#!/osrf/gazebo/issues/1477/implement-addxxxforce-for-dart\" rel=\"nofollow\" title=\"Implement AddXXXForce for DART\" class=\"ap-connect-link\"><s>#1477</s></a> <a href=\"#!/osrf/gazebo/issues/1478/implement-addxxxforce-for-simbody\" rel=\"nofollow\" title=\"Implement AddXXXForce for Simbody\" class=\"ap-connect-link\"><s>#1478</s></a></p>", "type": "rendered"}, "created_on": "2015-03-02T21:21:56.064736+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2015-03-02T21:21:56.080045+00:00", "type": "pullrequest_comment", "id": 5429346}, "pull_request": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5400861.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5400861"}}, "parent": {"id": 5400163, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5400163.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5400163"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}, "content": {"raw": "Sure, sounds good, thanks.  I have a feeling they will not all be patched at the same time :)", "markup": "markdown", "html": "<p>Sure, sounds good, thanks.  I have a feeling they will not all be patched at the same time :)</p>", "type": "rendered"}, "created_on": "2015-02-27T22:40:11.910216+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "inline": {}, "updated_on": "2015-02-27T22:40:11.919066+00:00", "type": "pullrequest_comment", "id": 5400861}, "pull_request": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5400163.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5400163"}}, "parent": {"id": 5400130, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5400130.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5400130"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}, "content": {"raw": "Should we create separate issues for Bullet, DART and Simbody?", "markup": "markdown", "html": "<p>Should we create separate issues for Bullet, DART and Simbody?</p>", "type": "rendered"}, "created_on": "2015-02-27T21:54:46.758497+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2015-02-27T21:54:46.767023+00:00", "type": "pullrequest_comment", "id": 5400163}, "pull_request": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5400130.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5400130"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}, "content": {"raw": "should we create an issue and reference issue number here?", "markup": "markdown", "html": "<p>should we create an issue and reference issue number here?</p>", "type": "rendered"}, "created_on": "2015-02-27T21:52:40.448514+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "inline": {}, "updated_on": "2015-02-27T21:52:40.454503+00:00", "type": "pullrequest_comment", "id": 5400130}, "pull_request": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}}, {"update": {"description": "Some sort of `Add*Force` function is needed to be used with the Apply Force GUI.\r\n\r\nThe current `Link::Add*Force` API is [not very clear](#!/osrf/gazebo/issue/354/setforce-settorque-in-class-odelink-point). Talking to @scpeters, we thought of adding 3 new functions as follows, and eventually deprecating the currently existing ones.\r\n\r\n~~~\r\n      /// \\brief Add a force expressed in the world frame.\r\n      /// \\param[in] _force Force is a free vector (a direction, orientation)\r\n      /// expressed in the world frame. Each component corresponds to the force\r\n      /// which will be added in that direction.\r\n      /// \\param[in] _offset Offset position (translation) with respect to the\r\n      /// world frame. It defaults to the world origin.\r\n      public: virtual void AddWorldForce(const math::Vector3 &_force,\r\n          const math::Vector3 &_offset = math::Vector3::Zero) = 0;\r\n\r\n      /// \\brief Add a force expressed in the link frame.\r\n      /// \\param[in] _force Force is a free vector (a direction, orientation)\r\n      /// expressed in the link frame. Each component corresponds to the force\r\n      /// which will be added in that direction.\r\n      /// \\param[in] _offset Offset position (translation) with respect to the\r\n      /// link frame. It defaults to the link origin.\r\n      public: virtual void AddLinkForce(const math::Vector3 &_force,\r\n          const math::Vector3 &_offset = math::Vector3::Zero) = 0;\r\n\r\n      /// \\brief Add a force expressed in the inertial frame.\r\n      /// \\param[in] _force Force is a free vector (a direction, orientation)\r\n      /// expressed in the inertial frame. Each component corresponds to the force\r\n      /// which will be added in that direction.\r\n      /// \\param[in] _offset Offset position (translation) with respect to the\r\n      /// inertial frame. It defaults to CoG.\r\n      public: virtual void AddInertialForce(const math::Vector3 &_force,\r\n          const math::Vector3 &_offset = math::Vector3::Zero) = 0;\r\n~~~\r\n\r\nThis PR implements one of them, `AddLinkForce`, which is the one needed for the Apply Force GUI. You can try out the GUI on branch [apply_force_dialog](#!/osrf/gazebo/branch/apply_force_dialog) if you want to see the function in action.\r\n\r\nThis PR includes integration tests for the new function. ~~Four~~ ~~Five~~ Six situations are tested, each with a combination of frame poses and application points which hopefully cover most of the possibilities without too much overlap. But it's very much likely that these are very bad test cases... \r\n\r\n~~Below you can see how I expect the cases to be working. xyz are the axes of the world frame (W), link frame (L) and inertial frame (I).~~\r\n\r\n~~The first 4~~ All test cases are passing. ~~But I did some weird stuff to make some tests pass. Still working on fixing test 5. More specifically, in lines [377](#!/osrf/gazebo/pull-request/1456/implemented-addlinkforce-for-ode-with/diff#Ltest/integration/physics_link.ccT377) and [383/384](#!/osrf/gazebo/pull-request/1456/implemented-addlinkforce-for-ode-with/diff#Ltest/integration/physics_link.ccT383). Having that said, I'm sure there's a lot more weird stuff I'm not aware of.~~", "title": "Implemented AddLinkForce for ODE with integration tests", "destination": {"commit": {"hash": "2552733bac2d", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/2552733bac2d.json"}, "html": {"href": "#!/osrf/gazebo/commits/2552733bac2d"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "73fe0dab72f7", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/73fe0dab72f7.json"}, "html": {"href": "#!/osrf/gazebo/commits/73fe0dab72f7"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "add_XXX_force"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2015-02-27T20:46:42.087818+00:00"}, "pull_request": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5399105.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5399105"}}, "parent": {"id": 5371641, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5371641.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5371641"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}, "content": {"raw": "I added a case where the link is not at rest the moment the force is added: 73fe0da", "markup": "markdown", "html": "<p>I added a case where the link is not at rest the moment the force is added: <a href=\"#!/osrf/gazebo/commits/73fe0da\" rel=\"nofollow\" class=\"ap-connect-link\">73fe0da</a></p>", "type": "rendered"}, "created_on": "2015-02-27T20:43:57.342858+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2015-02-27T20:43:57.349452+00:00", "type": "pullrequest_comment", "id": 5399105}, "pull_request": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}}, {"update": {"description": "Some sort of `Add*Force` function is needed to be used with the Apply Force GUI.\r\n\r\nThe current `Link::Add*Force` API is [not very clear](#!/osrf/gazebo/issue/354/setforce-settorque-in-class-odelink-point). Talking to @scpeters, we thought of adding 3 new functions as follows, and eventually deprecating the currently existing ones.\r\n\r\n~~~\r\n      /// \\brief Add a force expressed in the world frame.\r\n      /// \\param[in] _force Force is a free vector (a direction, orientation)\r\n      /// expressed in the world frame. Each component corresponds to the force\r\n      /// which will be added in that direction.\r\n      /// \\param[in] _offset Offset position (translation) with respect to the\r\n      /// world frame. It defaults to the world origin.\r\n      public: virtual void AddWorldForce(const math::Vector3 &_force,\r\n          const math::Vector3 &_offset = math::Vector3::Zero) = 0;\r\n\r\n      /// \\brief Add a force expressed in the link frame.\r\n      /// \\param[in] _force Force is a free vector (a direction, orientation)\r\n      /// expressed in the link frame. Each component corresponds to the force\r\n      /// which will be added in that direction.\r\n      /// \\param[in] _offset Offset position (translation) with respect to the\r\n      /// link frame. It defaults to the link origin.\r\n      public: virtual void AddLinkForce(const math::Vector3 &_force,\r\n          const math::Vector3 &_offset = math::Vector3::Zero) = 0;\r\n\r\n      /// \\brief Add a force expressed in the inertial frame.\r\n      /// \\param[in] _force Force is a free vector (a direction, orientation)\r\n      /// expressed in the inertial frame. Each component corresponds to the force\r\n      /// which will be added in that direction.\r\n      /// \\param[in] _offset Offset position (translation) with respect to the\r\n      /// inertial frame. It defaults to CoG.\r\n      public: virtual void AddInertialForce(const math::Vector3 &_force,\r\n          const math::Vector3 &_offset = math::Vector3::Zero) = 0;\r\n~~~\r\n\r\nThis PR implements one of them, `AddLinkForce`, which is the one needed for the Apply Force GUI. You can try out the GUI on branch [apply_force_dialog](#!/osrf/gazebo/branch/apply_force_dialog) if you want to see the function in action.\r\n\r\nThis PR includes integration tests for the new function. ~~Four~~ Five situations are tested, each with a combination of frame poses and application points which hopefully cover most of the possibilities without too much overlap. But it's very much likely that these are very bad test cases... \r\n\r\n~~Below you can see how I expect the cases to be working. xyz are the axes of the world frame (W), link frame (L) and inertial frame (I).~~\r\n\r\n~~All~~ The first 4 test cases are passing. But I did some weird stuff to make some tests pass. Still working on fixing test 5.~~More specifically, in lines [377](#!/osrf/gazebo/pull-request/1456/implemented-addlinkforce-for-ode-with/diff#Ltest/integration/physics_link.ccT377) and [383/384](#!/osrf/gazebo/pull-request/1456/implemented-addlinkforce-for-ode-with/diff#Ltest/integration/physics_link.ccT383). Having that said, I'm sure there's a lot more weird stuff I'm not aware of.~~", "title": "Implemented AddLinkForce for ODE with integration tests", "destination": {"commit": {"hash": "2552733bac2d", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/2552733bac2d.json"}, "html": {"href": "#!/osrf/gazebo/commits/2552733bac2d"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "73fe0dab72f7", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/73fe0dab72f7.json"}, "html": {"href": "#!/osrf/gazebo/commits/73fe0dab72f7"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "add_XXX_force"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2015-02-27T20:42:42.248065+00:00"}, "pull_request": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5397448.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5397448"}}, "parent": {"id": 5379463, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5379463.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5379463"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}, "content": {"raw": "All 5 tests are passing as of f1071fe", "markup": "markdown", "html": "<p>All 5 tests are passing as of <a href=\"#!/osrf/gazebo/commits/f1071fe\" rel=\"nofollow\" class=\"ap-connect-link\">f1071fe</a></p>", "type": "rendered"}, "created_on": "2015-02-27T19:20:08.946214+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2015-02-27T19:20:08.956096+00:00", "type": "pullrequest_comment", "id": 5397448}, "pull_request": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}}, {"update": {"description": "Some sort of `Add*Force` function is needed to be used with the Apply Force GUI.\r\n\r\nThe current `Link::Add*Force` API is [not very clear](#!/osrf/gazebo/issue/354/setforce-settorque-in-class-odelink-point). Talking to @scpeters, we thought of adding 3 new functions as follows, and eventually deprecating the currently existing ones.\r\n\r\n~~~\r\n      /// \\brief Add a force expressed in the world frame.\r\n      /// \\param[in] _force Force is a free vector (a direction, orientation)\r\n      /// expressed in the world frame. Each component corresponds to the force\r\n      /// which will be added in that direction.\r\n      /// \\param[in] _offset Offset position (translation) with respect to the\r\n      /// world frame. It defaults to the world origin.\r\n      public: virtual void AddWorldForce(const math::Vector3 &_force,\r\n          const math::Vector3 &_offset = math::Vector3::Zero) = 0;\r\n\r\n      /// \\brief Add a force expressed in the link frame.\r\n      /// \\param[in] _force Force is a free vector (a direction, orientation)\r\n      /// expressed in the link frame. Each component corresponds to the force\r\n      /// which will be added in that direction.\r\n      /// \\param[in] _offset Offset position (translation) with respect to the\r\n      /// link frame. It defaults to the link origin.\r\n      public: virtual void AddLinkForce(const math::Vector3 &_force,\r\n          const math::Vector3 &_offset = math::Vector3::Zero) = 0;\r\n\r\n      /// \\brief Add a force expressed in the inertial frame.\r\n      /// \\param[in] _force Force is a free vector (a direction, orientation)\r\n      /// expressed in the inertial frame. Each component corresponds to the force\r\n      /// which will be added in that direction.\r\n      /// \\param[in] _offset Offset position (translation) with respect to the\r\n      /// inertial frame. It defaults to CoG.\r\n      public: virtual void AddInertialForce(const math::Vector3 &_force,\r\n          const math::Vector3 &_offset = math::Vector3::Zero) = 0;\r\n~~~\r\n\r\nThis PR implements one of them, `AddLinkForce`, which is the one needed for the Apply Force GUI. You can try out the GUI on branch [apply_force_dialog](#!/osrf/gazebo/branch/apply_force_dialog) if you want to see the function in action.\r\n\r\nThis PR includes integration tests for the new function. ~~Four~~ Five situations are tested, each with a combination of frame poses and application points which hopefully cover most of the possibilities without too much overlap. But it's very much likely that these are very bad test cases... \r\n\r\n~~Below you can see how I expect the cases to be working. xyz are the axes of the world frame (W), link frame (L) and inertial frame (I).~~\r\n\r\n~~All~~ The first 4 test cases are passing. But I did some weird stuff to make some tests pass. Still working on fixing test 5.~~More specifically, in lines [377](#!/osrf/gazebo/pull-request/1456/implemented-addlinkforce-for-ode-with/diff#Ltest/integration/physics_link.ccT377) and [383/384](#!/osrf/gazebo/pull-request/1456/implemented-addlinkforce-for-ode-with/diff#Ltest/integration/physics_link.ccT383). Having that said, I'm sure there's a lot more weird stuff I'm not aware of.~~", "title": "Implemented AddLinkForce for ODE with integration tests", "destination": {"commit": {"hash": "b598d5401e60", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/b598d5401e60.json"}, "html": {"href": "#!/osrf/gazebo/commits/b598d5401e60"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "f1071fe3780a", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/f1071fe3780a.json"}, "html": {"href": "#!/osrf/gazebo/commits/f1071fe3780a"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "add_XXX_force"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2015-02-27T19:19:46.330729+00:00"}, "pull_request": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}}, {"update": {"description": "Some sort of `Add*Force` function is needed to be used with the Apply Force GUI.\r\n\r\nThe current `Link::Add*Force` API is [not very clear](#!/osrf/gazebo/issue/354/setforce-settorque-in-class-odelink-point). Talking to @scpeters, we thought of adding 3 new functions as follows, and eventually deprecating the currently existing ones.\r\n\r\n~~~\r\n      /// \\brief Add a force expressed in the world frame.\r\n      /// \\param[in] _force Force is a free vector (a direction, orientation)\r\n      /// expressed in the world frame. Each component corresponds to the force\r\n      /// which will be added in that direction.\r\n      /// \\param[in] _offset Offset position (translation) with respect to the\r\n      /// world frame. It defaults to the world origin.\r\n      public: virtual void AddWorldForce(const math::Vector3 &_force,\r\n          const math::Vector3 &_offset = math::Vector3::Zero) = 0;\r\n\r\n      /// \\brief Add a force expressed in the link frame.\r\n      /// \\param[in] _force Force is a free vector (a direction, orientation)\r\n      /// expressed in the link frame. Each component corresponds to the force\r\n      /// which will be added in that direction.\r\n      /// \\param[in] _offset Offset position (translation) with respect to the\r\n      /// link frame. It defaults to the link origin.\r\n      public: virtual void AddLinkForce(const math::Vector3 &_force,\r\n          const math::Vector3 &_offset = math::Vector3::Zero) = 0;\r\n\r\n      /// \\brief Add a force expressed in the inertial frame.\r\n      /// \\param[in] _force Force is a free vector (a direction, orientation)\r\n      /// expressed in the inertial frame. Each component corresponds to the force\r\n      /// which will be added in that direction.\r\n      /// \\param[in] _offset Offset position (translation) with respect to the\r\n      /// inertial frame. It defaults to CoG.\r\n      public: virtual void AddInertialForce(const math::Vector3 &_force,\r\n          const math::Vector3 &_offset = math::Vector3::Zero) = 0;\r\n~~~\r\n\r\nThis PR implements one of them, `AddLinkForce`, which is the one needed for the Apply Force GUI. You can try out the GUI on branch [apply_force_dialog](#!/osrf/gazebo/branch/apply_force_dialog) if you want to see the function in action.\r\n\r\nThis PR includes integration tests for the new function. ~~Four~~ Five situations are tested, each with a combination of frame poses and application points which hopefully cover most of the possibilities without too much overlap. But it's very much likely that these are very bad test cases... \r\n\r\n~~Below you can see how I expect the cases to be working. xyz are the axes of the world frame (W), link frame (L) and inertial frame (I).~~\r\n\r\n~~All~~ The first 4 test cases are passing. But I did some weird stuff to make some tests pass. Still working on fixing test 5.~~More specifically, in lines [377](#!/osrf/gazebo/pull-request/1456/implemented-addlinkforce-for-ode-with/diff#Ltest/integration/physics_link.ccT377) and [383/384](#!/osrf/gazebo/pull-request/1456/implemented-addlinkforce-for-ode-with/diff#Ltest/integration/physics_link.ccT383). Having that said, I'm sure there's a lot more weird stuff I'm not aware of.~~", "title": "Implemented AddLinkForce for ODE with integration tests", "destination": {"commit": {"hash": "b598d5401e60", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/b598d5401e60.json"}, "html": {"href": "#!/osrf/gazebo/commits/b598d5401e60"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "db81911d1b33", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/db81911d1b33.json"}, "html": {"href": "#!/osrf/gazebo/commits/db81911d1b33"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "add_XXX_force"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2015-02-27T18:51:48.601408+00:00"}, "pull_request": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5380167.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5380167"}}, "parent": {"id": 5379775, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5379775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5379775"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}, "content": {"raw": "You make two very good points.\n\nAbout \"free vector\",  I wanted to emphasize that \"*When only the magnitude and direction of the vector matter, then the particular initial point is of no importance, the vector is called a free vector.*\" [[1](http://en.wikipedia.org/wiki/Euclidean_vector#Overview)].  So while it can be rotated to other frames of reference, translating it would fundamentally change its \"meaning\". \n\nIt is exactly what you said, \"a vector whose effect is independent from the point of application\". That's why we need the `_offset` argument in case we want to give it a point of application, because the `_force` vector itself won't carry this information. Does that make sense? If I'm not misunderstanding anything here, this seems to be the same that is said about the couples you mentioned, they are also free vectors.", "markup": "markdown", "html": "<p>You make two very good points.</p>\n<p>About \"free vector\",  I wanted to emphasize that \"<em>When only the magnitude and direction of the vector matter, then the particular initial point is of no importance, the vector is called a free vector.</em>\" [<a data-is-external-link=\"true\" href=\"http://en.wikipedia.org/wiki/Euclidean_vector#Overview\" rel=\"nofollow\">1</a>].  So while it can be rotated to other frames of reference, translating it would fundamentally change its \"meaning\". </p>\n<p>It is exactly what you said, \"a vector whose effect is independent from the point of application\". That's why we need the <code>_offset</code> argument in case we want to give it a point of application, because the <code>_force</code> vector itself won't carry this information. Does that make sense? If I'm not misunderstanding anything here, this seems to be the same that is said about the couples you mentioned, they are also free vectors.</p>", "type": "rendered"}, "created_on": "2015-02-27T00:35:34.555993+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2015-02-27T00:35:34.562332+00:00", "type": "pullrequest_comment", "id": 5380167}, "pull_request": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5379775.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5379775"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}, "content": {"raw": "Some comments as an end user on the documentation related to this functions. \n\nI quote Wikipedia inline not because it is a reputable source, but because it is the standard place where 90 percent\nof the users will check in case of doubt.  \n\n * `AddInertialForce` documentation refers to the \"inertial frame\", and I get from the context that is referring to the SDF inertial frame (because offset zero == COG ), but the traditional definition of the \"inertial frame\" is another [1] and it is in a sense more similar to the Gazebo \"world frame\". Perhaps an alternative name (but still possibly a lot confusing) can be \"inertia frame\", in the sense of the frame where the 3d inertia matrix is expressed? \n\n* The documentation repeatedly specify the input force vector is a \"free vector\", but the classical definition for \"free vector\" is a vector whose effect is independent from the point of application, such as a force couple. [2] In this case instead we are applying the specified vector to a point. \n\n[1] : http://en.wikipedia.org/wiki/Inertial_frame_of_reference\n\n[2] : http://en.wikipedia.org/wiki/Couple_%28mechanics%29 \n\n", "markup": "markdown", "html": "<p>Some comments as an end user on the documentation related to this functions. </p>\n<p>I quote Wikipedia inline not because it is a reputable source, but because it is the standard place where 90 percent\nof the users will check in case of doubt.  </p>\n<ul>\n<li>\n<p><code>AddInertialForce</code> documentation refers to the \"inertial frame\", and I get from the context that is referring to the SDF inertial frame (because offset zero == COG ), but the traditional definition of the \"inertial frame\" is another [1] and it is in a sense more similar to the Gazebo \"world frame\". Perhaps an alternative name (but still possibly a lot confusing) can be \"inertia frame\", in the sense of the frame where the 3d inertia matrix is expressed? </p>\n</li>\n<li>\n<p>The documentation repeatedly specify the input force vector is a \"free vector\", but the classical definition for \"free vector\" is a vector whose effect is independent from the point of application, such as a force couple. [2] In this case instead we are applying the specified vector to a point. </p>\n</li>\n</ul>\n<p>[1] : <a href=\"http://en.wikipedia.org/wiki/Inertial_frame_of_reference\" rel=\"nofollow\" class=\"ap-connect-link\">http://en.wikipedia.org/wiki/Inertial_frame_of_reference</a></p>\n<p>[2] : <a href=\"http://en.wikipedia.org/wiki/Couple_%28mechanics%29\" rel=\"nofollow\" class=\"ap-connect-link\">http://en.wikipedia.org/wiki/Couple_%28mechanics%29</a> </p>", "type": "rendered"}, "created_on": "2015-02-27T00:01:58.023685+00:00", "user": {"display_name": "Silvio Traversaro", "uuid": "{34f404cb-5642-4f27-a032-e04c7143d776}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D"}, "html": {"href": "https://bitbucket.org/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6/578caaa1-056c-45a2-8bf9-bee94c3bebef/128"}}, "nickname": "traversaro", "type": "user", "account_id": "557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6"}, "updated_on": "2015-02-27T00:02:26.574063+00:00", "type": "pullrequest_comment", "id": 5379775}, "pull_request": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}}, {"update": {"description": "Some sort of `Add*Force` function is needed to be used with the Apply Force GUI.\r\n\r\nThe current `Link::Add*Force` API is [not very clear](#!/osrf/gazebo/issue/354/setforce-settorque-in-class-odelink-point). Talking to @scpeters, we thought of adding 3 new functions as follows, and eventually deprecating the currently existing ones.\r\n\r\n~~~\r\n      /// \\brief Add a force expressed in the world frame.\r\n      /// \\param[in] _force Force is a free vector (a direction, orientation)\r\n      /// expressed in the world frame. Each component corresponds to the force\r\n      /// which will be added in that direction.\r\n      /// \\param[in] _offset Offset position (translation) with respect to the\r\n      /// world frame. It defaults to the world origin.\r\n      public: virtual void AddWorldForce(const math::Vector3 &_force,\r\n          const math::Vector3 &_offset = math::Vector3::Zero) = 0;\r\n\r\n      /// \\brief Add a force expressed in the link frame.\r\n      /// \\param[in] _force Force is a free vector (a direction, orientation)\r\n      /// expressed in the link frame. Each component corresponds to the force\r\n      /// which will be added in that direction.\r\n      /// \\param[in] _offset Offset position (translation) with respect to the\r\n      /// link frame. It defaults to the link origin.\r\n      public: virtual void AddLinkForce(const math::Vector3 &_force,\r\n          const math::Vector3 &_offset = math::Vector3::Zero) = 0;\r\n\r\n      /// \\brief Add a force expressed in the inertial frame.\r\n      /// \\param[in] _force Force is a free vector (a direction, orientation)\r\n      /// expressed in the inertial frame. Each component corresponds to the force\r\n      /// which will be added in that direction.\r\n      /// \\param[in] _offset Offset position (translation) with respect to the\r\n      /// inertial frame. It defaults to CoG.\r\n      public: virtual void AddInertialForce(const math::Vector3 &_force,\r\n          const math::Vector3 &_offset = math::Vector3::Zero) = 0;\r\n~~~\r\n\r\nThis PR implements one of them, `AddLinkForce`, which is the one needed for the Apply Force GUI. You can try out the GUI on branch [apply_force_dialog](#!/osrf/gazebo/branch/apply_force_dialog) if you want to see the function in action.\r\n\r\nThis PR includes integration tests for the new function. ~~Four~~ Five situations are tested, each with a combination of frame poses and application points which hopefully cover most of the possibilities without too much overlap. But it's very much likely that these are very bad test cases... \r\n\r\n~~Below you can see how I expect the cases to be working. xyz are the axes of the world frame (W), link frame (L) and inertial frame (I).~~\r\n\r\n~~All~~ The first 4 test cases are passing. But I did some weird stuff to make some tests pass. Still working on fixing test 5.~~More specifically, in lines [377](#!/osrf/gazebo/pull-request/1456/implemented-addlinkforce-for-ode-with/diff#Ltest/integration/physics_link.ccT377) and [383/384](#!/osrf/gazebo/pull-request/1456/implemented-addlinkforce-for-ode-with/diff#Ltest/integration/physics_link.ccT383). Having that said, I'm sure there's a lot more weird stuff I'm not aware of.~~", "title": "Implemented AddLinkForce for ODE with integration tests", "destination": {"commit": {"hash": "783d80d6567c", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/783d80d6567c.json"}, "html": {"href": "#!/osrf/gazebo/commits/783d80d6567c"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "bb62c06bcd11", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/bb62c06bcd11.json"}, "html": {"href": "#!/osrf/gazebo/commits/bb62c06bcd11"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "add_XXX_force"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2015-02-26T23:40:25.353277+00:00"}, "pull_request": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5379486.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5379486"}}, "parent": {"id": 5371293, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5371293.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5371293"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}, "content": {"raw": "Done bb62c06", "markup": "markdown", "html": "<p>Done <a href=\"#!/osrf/gazebo/commits/bb62c06\" rel=\"nofollow\" class=\"ap-connect-link\">bb62c06</a></p>", "type": "rendered"}, "created_on": "2015-02-26T23:35:45.524748+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2015-02-26T23:35:45.531168+00:00", "type": "pullrequest_comment", "id": 5379486}, "pull_request": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5379482.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5379482"}}, "parent": {"id": 5354704, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5354704.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5354704"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}, "content": {"raw": "Done bb62c06", "markup": "markdown", "html": "<p>Done <a href=\"#!/osrf/gazebo/commits/bb62c06\" rel=\"nofollow\" class=\"ap-connect-link\">bb62c06</a></p>", "type": "rendered"}, "created_on": "2015-02-26T23:35:38.661768+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2015-02-26T23:35:38.668041+00:00", "type": "pullrequest_comment", "id": 5379482}, "pull_request": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5379463.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5379463"}}, "parent": {"id": 5354298, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5354298.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5354298"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}, "content": {"raw": "Used a function on bb62c06. All previous 4 cases pass, but I added a 5th case which is currently failing. I think I'm forgetting to rotate something, or probably there's an issue at `AddLinkForce` itself.", "markup": "markdown", "html": "<p>Used a function on <a href=\"#!/osrf/gazebo/commits/bb62c06\" rel=\"nofollow\" class=\"ap-connect-link\">bb62c06</a>. All previous 4 cases pass, but I added a 5th case which is currently failing. I think I'm forgetting to rotate something, or probably there's an issue at <code>AddLinkForce</code> itself.</p>", "type": "rendered"}, "created_on": "2015-02-26T23:33:49.801765+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2015-02-26T23:35:20.348756+00:00", "type": "pullrequest_comment", "id": 5379463}, "pull_request": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5379466.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5379466"}}, "parent": {"id": 5354313, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5354313.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5354313"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}, "content": {"raw": "Also using gzdbg bb62c06", "markup": "markdown", "html": "<p>Also using gzdbg <a href=\"#!/osrf/gazebo/commits/bb62c06\" rel=\"nofollow\" class=\"ap-connect-link\">bb62c06</a></p>", "type": "rendered"}, "created_on": "2015-02-26T23:34:03.105421+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2015-02-26T23:34:03.115552+00:00", "type": "pullrequest_comment", "id": 5379466}, "pull_request": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5379458.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5379458"}}, "parent": {"id": 5354209, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5354209.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5354209"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}, "content": {"raw": "done bb62c06", "markup": "markdown", "html": "<p>done <a href=\"#!/osrf/gazebo/commits/bb62c06\" rel=\"nofollow\" class=\"ap-connect-link\">bb62c06</a></p>", "type": "rendered"}, "created_on": "2015-02-26T23:33:28.593423+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2015-02-26T23:33:28.601597+00:00", "type": "pullrequest_comment", "id": 5379458}, "pull_request": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}}, {"update": {"description": "Some sort of `Add*Force` function is needed to be used with the Apply Force GUI.\r\n\r\nThe current `Link::Add*Force` API is [not very clear](#!/osrf/gazebo/issue/354/setforce-settorque-in-class-odelink-point). Talking to @scpeters, we thought of adding 3 new functions as follows, and eventually deprecating the currently existing ones.\r\n\r\n~~~\r\n      /// \\brief Add a force expressed in the world frame.\r\n      /// \\param[in] _force Force is a free vector (a direction, orientation)\r\n      /// expressed in the world frame. Each component corresponds to the force\r\n      /// which will be added in that direction.\r\n      /// \\param[in] _offset Offset position (translation) with respect to the\r\n      /// world frame. It defaults to the world origin.\r\n      public: virtual void AddWorldForce(const math::Vector3 &_force,\r\n          const math::Vector3 &_offset = math::Vector3::Zero) = 0;\r\n\r\n      /// \\brief Add a force expressed in the link frame.\r\n      /// \\param[in] _force Force is a free vector (a direction, orientation)\r\n      /// expressed in the link frame. Each component corresponds to the force\r\n      /// which will be added in that direction.\r\n      /// \\param[in] _offset Offset position (translation) with respect to the\r\n      /// link frame. It defaults to the link origin.\r\n      public: virtual void AddLinkForce(const math::Vector3 &_force,\r\n          const math::Vector3 &_offset = math::Vector3::Zero) = 0;\r\n\r\n      /// \\brief Add a force expressed in the inertial frame.\r\n      /// \\param[in] _force Force is a free vector (a direction, orientation)\r\n      /// expressed in the inertial frame. Each component corresponds to the force\r\n      /// which will be added in that direction.\r\n      /// \\param[in] _offset Offset position (translation) with respect to the\r\n      /// inertial frame. It defaults to CoG.\r\n      public: virtual void AddInertialForce(const math::Vector3 &_force,\r\n          const math::Vector3 &_offset = math::Vector3::Zero) = 0;\r\n~~~\r\n\r\nThis PR implements one of them, `AddLinkForce`, which is the one needed for the Apply Force GUI. You can try out the GUI on branch [apply_force_dialog](#!/osrf/gazebo/branch/apply_force_dialog) if you want to see the function in action.\r\n\r\nThis PR includes integration tests for the new function. Four situations are tested, each with a combination of frame poses and application points which hopefully cover most of the possibilities without too much overlap. But it's very much likely that these are very bad test cases... \r\n\r\nBelow you can see how I expect the cases to be working. xyz are the axes of the world frame (W), link frame (L) and inertial frame (I).\r\n\r\n![applylinkforce.png](https://bitbucket.org/repo/jgXqbo/images/498559168-applylinkforce.png)\r\n\r\nAll test cases are passing. But I did some weird stuff to make some tests pass. More specifically, in lines [377](#!/osrf/gazebo/pull-request/1456/implemented-addlinkforce-for-ode-with/diff#Ltest/integration/physics_link.ccT377) and [383/384](#!/osrf/gazebo/pull-request/1456/implemented-addlinkforce-for-ode-with/diff#Ltest/integration/physics_link.ccT383). Having that said, I'm sure there's a lot more weird stuff I'm not aware of.", "title": "Implemented AddLinkForce for ODE with integration tests", "destination": {"commit": {"hash": "783d80d6567c", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/783d80d6567c.json"}, "html": {"href": "#!/osrf/gazebo/commits/783d80d6567c"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "bb62c06bcd11", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/bb62c06bcd11.json"}, "html": {"href": "#!/osrf/gazebo/commits/bb62c06bcd11"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "add_XXX_force"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2015-02-26T23:32:55.487311+00:00"}, "pull_request": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}}, {"update": {"description": "Some sort of `Add*Force` function is needed to be used with the Apply Force GUI.\r\n\r\nThe current `Link::Add*Force` API is [not very clear](#!/osrf/gazebo/issue/354/setforce-settorque-in-class-odelink-point). Talking to @scpeters, we thought of adding 3 new functions as follows, and eventually deprecating the currently existing ones.\r\n\r\n~~~\r\n      /// \\brief Add a force expressed in the world frame.\r\n      /// \\param[in] _force Force is a free vector (a direction, orientation)\r\n      /// expressed in the world frame. Each component corresponds to the force\r\n      /// which will be added in that direction.\r\n      /// \\param[in] _offset Offset position (translation) with respect to the\r\n      /// world frame. It defaults to the world origin.\r\n      public: virtual void AddWorldForce(const math::Vector3 &_force,\r\n          const math::Vector3 &_offset = math::Vector3::Zero) = 0;\r\n\r\n      /// \\brief Add a force expressed in the link frame.\r\n      /// \\param[in] _force Force is a free vector (a direction, orientation)\r\n      /// expressed in the link frame. Each component corresponds to the force\r\n      /// which will be added in that direction.\r\n      /// \\param[in] _offset Offset position (translation) with respect to the\r\n      /// link frame. It defaults to the link origin.\r\n      public: virtual void AddLinkForce(const math::Vector3 &_force,\r\n          const math::Vector3 &_offset = math::Vector3::Zero) = 0;\r\n\r\n      /// \\brief Add a force expressed in the inertial frame.\r\n      /// \\param[in] _force Force is a free vector (a direction, orientation)\r\n      /// expressed in the inertial frame. Each component corresponds to the force\r\n      /// which will be added in that direction.\r\n      /// \\param[in] _offset Offset position (translation) with respect to the\r\n      /// inertial frame. It defaults to CoG.\r\n      public: virtual void AddInertialForce(const math::Vector3 &_force,\r\n          const math::Vector3 &_offset = math::Vector3::Zero) = 0;\r\n~~~\r\n\r\nThis PR implements one of them, `AddLinkForce`, which is the one needed for the Apply Force GUI. You can try out the GUI on branch [apply_force_dialog](#!/osrf/gazebo/branch/apply_force_dialog) if you want to see the function in action.\r\n\r\nThis PR includes integration tests for the new function. Four situations are tested, each with a combination of frame poses and application points which hopefully cover most of the possibilities without too much overlap. But it's very much likely that these are very bad test cases... \r\n\r\nBelow you can see how I expect the cases to be working. xyz are the axes of the world frame (W), link frame (L) and inertial frame (I).\r\n\r\n![applylinkforce.png](https://bitbucket.org/repo/jgXqbo/images/498559168-applylinkforce.png)\r\n\r\nAll test cases are passing. But I did some weird stuff to make some tests pass. More specifically, in lines [377](#!/osrf/gazebo/pull-request/1456/implemented-addlinkforce-for-ode-with/diff#Ltest/integration/physics_link.ccT377) and [383/384](#!/osrf/gazebo/pull-request/1456/implemented-addlinkforce-for-ode-with/diff#Ltest/integration/physics_link.ccT383). Having that said, I'm sure there's a lot more weird stuff I'm not aware of.", "title": "Implemented AddLinkForce for ODE with integration tests", "destination": {"commit": {"hash": "783d80d6567c", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/783d80d6567c.json"}, "html": {"href": "#!/osrf/gazebo/commits/783d80d6567c"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "3401367f062b", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/3401367f062b.json"}, "html": {"href": "#!/osrf/gazebo/commits/3401367f062b"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "add_XXX_force"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2015-02-26T19:16:44.836183+00:00"}, "pull_request": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}}, {"update": {"description": "Some sort of `Add*Force` function is needed to be used with the Apply Force GUI.\r\n\r\nThe current `Link::Add*Force` API is [not very clear](#!/osrf/gazebo/issue/354/setforce-settorque-in-class-odelink-point). Talking to @scpeters, we thought of adding 3 new functions as follows, and eventually deprecating the currently existing ones.\r\n\r\n~~~\r\n      /// \\brief Add a force expressed in the world frame.\r\n      /// \\param[in] _force Force is a free vector (a direction, orientation)\r\n      /// expressed in the world frame. Each component corresponds to the force\r\n      /// which will be added in that direction.\r\n      /// \\param[in] _offset Offset position (translation) with respect to the\r\n      /// world frame. It defaults to the world origin.\r\n      public: virtual void AddWorldForce(const math::Vector3 &_force,\r\n          const math::Vector3 &_offset = math::Vector3::Zero) = 0;\r\n\r\n      /// \\brief Add a force expressed in the link frame.\r\n      /// \\param[in] _force Force is a free vector (a direction, orientation)\r\n      /// expressed in the link frame. Each component corresponds to the force\r\n      /// which will be added in that direction.\r\n      /// \\param[in] _offset Offset position (translation) with respect to the\r\n      /// link frame. It defaults to the link origin.\r\n      public: virtual void AddLinkForce(const math::Vector3 &_force,\r\n          const math::Vector3 &_offset = math::Vector3::Zero) = 0;\r\n\r\n      /// \\brief Add a force expressed in the inertial frame.\r\n      /// \\param[in] _force Force is a free vector (a direction, orientation)\r\n      /// expressed in the inertial frame. Each component corresponds to the force\r\n      /// which will be added in that direction.\r\n      /// \\param[in] _offset Offset position (translation) with respect to the\r\n      /// inertial frame. It defaults to CoG.\r\n      public: virtual void AddInertialForce(const math::Vector3 &_force,\r\n          const math::Vector3 &_offset = math::Vector3::Zero) = 0;\r\n~~~\r\n\r\nThis PR implements one of them, `AddLinkForce`, which is the one needed for the Apply Force GUI. You can try out the GUI on branch [apply_force_dialog](#!/osrf/gazebo/branch/apply_force_dialog) if you want to see the function in action.\r\n\r\nThis PR includes integration tests for the new function. Four situations are tested, each with a combination of frame poses and application points which hopefully cover most of the possibilities without too much overlap. But it's very much likely that these are very bad test cases... \r\n\r\nBelow you can see how I expect the cases to be working. xyz are the axes of the world frame (W), link frame (L) and inertial frame (I).\r\n\r\n![applylinkforce.png](https://bitbucket.org/repo/jgXqbo/images/498559168-applylinkforce.png)\r\n\r\nAll test cases are passing. But I did some weird stuff to make some tests pass. More specifically, in lines [377](#!/osrf/gazebo/pull-request/1456/implemented-addlinkforce-for-ode-with/diff#Ltest/integration/physics_link.ccT377) and [383/384](#!/osrf/gazebo/pull-request/1456/implemented-addlinkforce-for-ode-with/diff#Ltest/integration/physics_link.ccT383). Having that said, I'm sure there's a lot more weird stuff I'm not aware of.", "title": "Implemented AddLinkForce for ODE with integration tests", "destination": {"commit": {"hash": "85a6acb95f20", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/85a6acb95f20.json"}, "html": {"href": "#!/osrf/gazebo/commits/85a6acb95f20"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "0f71140b3a7e", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/0f71140b3a7e.json"}, "html": {"href": "#!/osrf/gazebo/commits/0f71140b3a7e"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "add_XXX_force"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2015-02-26T19:02:45.234432+00:00"}, "pull_request": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5371641.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5371641"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}, "content": {"raw": "we could probably generalize this for multiple steps, it's a first order integrator, e.g.\n\n~~~\nacceleration = inv(MOI) * torque\nv(n+1) = v(0) + dt * acceleration\n~~~\n\nloosely speaking.", "markup": "markdown", "html": "<p>we could probably generalize this for multiple steps, it's a first order integrator, e.g.</p>\n<div class=\"codehilite\"><pre><span></span>acceleration = inv(MOI) * torque\nv(n+1) = v(0) + dt * acceleration\n</pre></div>\n\n\n<p>loosely speaking.</p>", "type": "rendered"}, "created_on": "2015-02-26T16:58:37.946220+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "inline": {}, "updated_on": "2015-02-26T16:58:37.954192+00:00", "type": "pullrequest_comment", "id": 5371641}, "pull_request": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5371293.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5371293"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}, "content": {"raw": "consider renaming, since `torqueWorld` here is not a torque but an angular impulse.", "markup": "markdown", "html": "<p>consider renaming, since <code>torqueWorld</code> here is not a torque but an angular impulse.</p>", "type": "rendered"}, "created_on": "2015-02-26T16:47:48.242228+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "inline": {}, "updated_on": "2015-02-26T16:47:48.250511+00:00", "type": "pullrequest_comment", "id": 5371293}, "pull_request": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5354704.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5354704"}}, "parent": {"id": 5354276, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5354276.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5354276"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}, "content": {"raw": "I wouldn't move existing code just for the sake of alphabetization, but new code should be alphabetized where possible. So yes, please move the `void PhysicsLinkTest::AddForce` function as well.", "markup": "markdown", "html": "<p>I wouldn't move existing code just for the sake of alphabetization, but new code should be alphabetized where possible. So yes, please move the <code>void PhysicsLinkTest::AddForce</code> function as well.</p>", "type": "rendered"}, "created_on": "2015-02-26T01:50:10.462909+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2015-02-26T01:50:10.473029+00:00", "type": "pullrequest_comment", "id": 5354704}, "pull_request": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5354687.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5354687"}}, "parent": {"id": 5354257, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5354257.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5354257"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}, "content": {"raw": "Sounds good", "markup": "markdown", "html": "<p>Sounds good</p>", "type": "rendered"}, "created_on": "2015-02-26T01:48:21.802901+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2015-02-26T01:48:21.810310+00:00", "type": "pullrequest_comment", "id": 5354687}, "pull_request": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5354322.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5354322"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}, "content": {"raw": "The `AddLinkForce` function is only implemented for ODE. We should disable the tests for the other physics engines if they are not expected to pass. See the [PhysicsMsgs::LinkProperties](#!/osrf/gazebo/src/ea496138695ed060a06e9a0c3fb6b658f08b16fd/test/integration/physics_msgs.cc?at=default#cl-162) test for an example.", "markup": "markdown", "html": "<p>The <code>AddLinkForce</code> function is only implemented for ODE. We should disable the tests for the other physics engines if they are not expected to pass. See the <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/ea496138695ed060a06e9a0c3fb6b658f08b16fd/test/integration/physics_msgs.cc?at=default#cl-162\" rel=\"nofollow\">PhysicsMsgs::LinkProperties</a> test for an example.</p>", "type": "rendered"}, "created_on": "2015-02-26T01:08:56.144282+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2015-02-26T01:08:56.154963+00:00", "type": "pullrequest_comment", "id": 5354322}, "pull_request": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5354313.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5354313"}}, "parent": {"id": 5354298, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5354298.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5354298"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}, "content": {"raw": "I also like to use `gzdbg` statements to narrate which part of the test is happening so any failures can be associated with the correct part of the test.", "markup": "markdown", "html": "<p>I also like to use <code>gzdbg</code> statements to narrate which part of the test is happening so any failures can be associated with the correct part of the test.</p>", "type": "rendered"}, "created_on": "2015-02-26T01:08:24.788730+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2015-02-26T01:08:24.794017+00:00", "type": "pullrequest_comment", "id": 5354313}, "pull_request": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5354298.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5354298"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}, "content": {"raw": "I haven't read all the details of the test, but it looks like there is some repeated code. I like to set up loops (see [SpawnDrop test in physics.cc](#!/osrf/gazebo/src/ea496138695ed060a06e9a0c3fb6b658f08b16fd/test/integration/physics.cc#cl-176)) or testing functions (see [CheckJointProperties in joint_spawn.cc](#!/osrf/gazebo/src/ea496138695ed060a06e9a0c3fb6b658f08b16fd/test/integration/joint_spawn.cc#cl-268)) to reduce repeated code.", "markup": "markdown", "html": "<p>I haven't read all the details of the test, but it looks like there is some repeated code. I like to set up loops (see <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/ea496138695ed060a06e9a0c3fb6b658f08b16fd/test/integration/physics.cc#cl-176\" rel=\"nofollow\">SpawnDrop test in physics.cc</a>) or testing functions (see <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/ea496138695ed060a06e9a0c3fb6b658f08b16fd/test/integration/joint_spawn.cc#cl-268\" rel=\"nofollow\">CheckJointProperties in joint_spawn.cc</a>) to reduce repeated code.</p>", "type": "rendered"}, "created_on": "2015-02-26T01:06:30.037500+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2015-02-26T01:06:30.044745+00:00", "type": "pullrequest_comment", "id": 5354298}, "pull_request": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5354276.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5354276"}}, "parent": {"id": 5354182, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5354182.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5354182"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}, "content": {"raw": "Sure. Should I also alphabetized their order below?", "markup": "markdown", "html": "<p>Sure. Should I also alphabetized their order below?</p>", "type": "rendered"}, "created_on": "2015-02-26T01:03:32.430124+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2015-02-26T01:03:32.438029+00:00", "type": "pullrequest_comment", "id": 5354276}, "pull_request": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5354257.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5354257"}}, "parent": {"id": 5354186, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5354186.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5354186"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}, "content": {"raw": "It doesn't *need* to, but I think blank is more appropriate than empty because it doesn't have the ground plane.\n\nIf someone is poking around trying to find out what the `SetVelocity` functions do (like I was), they might try placing the box initially at [0, 0, 0] (like I did) and get super confused with the results on the Z axis (like I did) unless they have someone who knows best around to explain that the box is hitting the ground plane (like how you helped me).\n\nI know, it's a very specific situation... But if it can be avoided...", "markup": "markdown", "html": "<p>It doesn't <em>need</em> to, but I think blank is more appropriate than empty because it doesn't have the ground plane.</p>\n<p>If someone is poking around trying to find out what the <code>SetVelocity</code> functions do (like I was), they might try placing the box initially at [0, 0, 0] (like I did) and get super confused with the results on the Z axis (like I did) unless they have someone who knows best around to explain that the box is hitting the ground plane (like how you helped me).</p>\n<p>I know, it's a very specific situation... But if it can be avoided...</p>", "type": "rendered"}, "created_on": "2015-02-26T01:02:02.848308+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2015-02-26T01:02:02.855028+00:00", "type": "pullrequest_comment", "id": 5354257}, "pull_request": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5354209.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5354209"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}, "content": {"raw": "You can replace `math::Pose(math::Vector3::Zero, math::Vector3::Zero)` with `math::Pose()` since those are the default values in the constructor", "markup": "markdown", "html": "<p>You can replace <code>math::Pose(math::Vector3::Zero, math::Vector3::Zero)</code> with <code>math::Pose()</code> since those are the default values in the constructor</p>", "type": "rendered"}, "created_on": "2015-02-26T00:57:43.319905+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2015-02-26T00:57:43.327246+00:00", "type": "pullrequest_comment", "id": 5354209}, "pull_request": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5354186.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5354186"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}, "content": {"raw": "Does this need to change?", "markup": "markdown", "html": "<p>Does this need to change?</p>", "type": "rendered"}, "created_on": "2015-02-26T00:56:06.510898+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2015-02-26T00:56:06.519906+00:00", "type": "pullrequest_comment", "id": 5354186}, "pull_request": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456/comments/5354182.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456/_/diff#comment-5354182"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}, "content": {"raw": "Can we alphabetize the member function declarations?", "markup": "markdown", "html": "<p>Can we alphabetize the member function declarations?</p>", "type": "rendered"}, "created_on": "2015-02-26T00:55:57.046102+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2015-02-26T00:55:57.060791+00:00", "type": "pullrequest_comment", "id": 5354182}, "pull_request": {"type": "pullrequest", "id": 1456, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/1456.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/1456"}}, "title": "Implemented AddLinkForce for ODE with integration tests"}}], "next": "data/repositories/osrf/gazebo/pullrequests/1456/activity_ctx=BdhKquxhy.json"}