{"rendered": {"description": {"raw": "For some reason, gazebo has historically interpreted the joint axis <xyz> value in the parent model frame. It would make more sense to use the joint frame, since the joint pose element for specifying the anchor location is interpreted relative to the child link frame. This is issue #494 and requires [sdformat pull request 83](https://bitbucket.org/osrf/sdformat/pull-request/83/sdf-15-add-flag-to-fix-joint-axis-frame-43/diff) (branch issue_43), which bumps to sdf 1.5.\r\n\r\nI've added a flag that indicates whether the parent model frame is to be used (legacy behavior) or the joint frame. The defaults are in sdformat to use legacy behavior when converting 1.4 models to 1.5, but to use the joint frame by default for models written in 1.5.\r\n\r\nI've added a test, though I've only fixed ODEHingeJoint and BulletHingeJoint for the time being. I added some helper functions `Joint::GetWorldPose` and `Joint::GetAxisFrame` that should abstract most of this logic away (see the changes to ODEHingeJoint.cc for an example). If sdf 1.5 is not available, the test is disabled, and gazebo should continue to function.", "markup": "markdown", "html": "<p>For some reason, gazebo has historically interpreted the joint axis &lt;xyz&gt; value in the parent model frame. It would make more sense to use the joint frame, since the joint pose element for specifying the anchor location is interpreted relative to the child link frame. This is issue <a href=\"#!/osrf/gazebo/issues/494/make-joint-axis-reference-frame-relative\" rel=\"nofollow\" title=\"Make joint axis reference frame relative to child\" class=\"ap-connect-link\"><s>#494</s></a> and requires <a data-is-external-link=\"true\" href=\"https://bitbucket.org/osrf/sdformat/pull-request/83/sdf-15-add-flag-to-fix-joint-axis-frame-43/diff\" rel=\"nofollow\">sdformat pull request 83</a> (branch issue_43), which bumps to sdf 1.5.</p>\n<p>I've added a flag that indicates whether the parent model frame is to be used (legacy behavior) or the joint frame. The defaults are in sdformat to use legacy behavior when converting 1.4 models to 1.5, but to use the joint frame by default for models written in 1.5.</p>\n<p>I've added a test, though I've only fixed ODEHingeJoint and BulletHingeJoint for the time being. I added some helper functions <code>Joint::GetWorldPose</code> and <code>Joint::GetAxisFrame</code> that should abstract most of this logic away (see the changes to ODEHingeJoint.cc for an example). If sdf 1.5 is not available, the test is disabled, and gazebo should continue to function.</p>", "type": "rendered"}, "title": {"raw": "Fix joint axis frames (#494)", "markup": "markdown", "html": "<p>Fix joint axis frames (<a href=\"#!/osrf/gazebo/issues/494/make-joint-axis-reference-frame-relative\" rel=\"nofollow\" title=\"Make joint axis reference frame relative to child\" class=\"ap-connect-link\"><s>#494</s></a>)</p>", "type": "rendered"}}, "type": "pullrequest", "description": "For some reason, gazebo has historically interpreted the joint axis <xyz> value in the parent model frame. It would make more sense to use the joint frame, since the joint pose element for specifying the anchor location is interpreted relative to the child link frame. This is issue #494 and requires [sdformat pull request 83](https://bitbucket.org/osrf/sdformat/pull-request/83/sdf-15-add-flag-to-fix-joint-axis-frame-43/diff) (branch issue_43), which bumps to sdf 1.5.\r\n\r\nI've added a flag that indicates whether the parent model frame is to be used (legacy behavior) or the joint frame. The defaults are in sdformat to use legacy behavior when converting 1.4 models to 1.5, but to use the joint frame by default for models written in 1.5.\r\n\r\nI've added a test, though I've only fixed ODEHingeJoint and BulletHingeJoint for the time being. I added some helper functions `Joint::GetWorldPose` and `Joint::GetAxisFrame` that should abstract most of this logic away (see the changes to ODEHingeJoint.cc for an example). If sdf 1.5 is not available, the test is disabled, and gazebo should continue to function.", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/pullrequests/963/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diffstat/osrf/gazebo:d6781bae8772%0D67961925fae7?from_pullrequest_id=963"}, "commits": {"href": "data/repositories/osrf/gazebo/pullrequests/963/commits.json"}, "self": {"href": "data/repositories/osrf/gazebo/pullrequests/963.json"}, "comments": {"href": "data/repositories/osrf/gazebo/pullrequests/963/comments_page=1.json"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/pullrequests/963/merge"}, "html": {"href": "#!/osrf/gazebo/pull-requests/963"}, "activity": {"href": "data/repositories/osrf/gazebo/pullrequests/963/activity.json"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:d6781bae8772%0D67961925fae7?from_pullrequest_id=963"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/pullrequests/963/approve"}, "statuses": {"href": "data/repositories/osrf/gazebo/pullrequests/963/statuses_page=1.json"}}, "title": "Fix joint axis frames (#494)", "close_source_branch": true, "reviewers": [], "id": 963, "destination": {"commit": {"hash": "67961925fae7", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/67961925fae7.json"}, "html": {"href": "#!/osrf/gazebo/commits/67961925fae7"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "default"}}, "created_on": "2014-02-14T00:18:48.310224+00:00", "summary": {"raw": "For some reason, gazebo has historically interpreted the joint axis <xyz> value in the parent model frame. It would make more sense to use the joint frame, since the joint pose element for specifying the anchor location is interpreted relative to the child link frame. This is issue #494 and requires [sdformat pull request 83](https://bitbucket.org/osrf/sdformat/pull-request/83/sdf-15-add-flag-to-fix-joint-axis-frame-43/diff) (branch issue_43), which bumps to sdf 1.5.\r\n\r\nI've added a flag that indicates whether the parent model frame is to be used (legacy behavior) or the joint frame. The defaults are in sdformat to use legacy behavior when converting 1.4 models to 1.5, but to use the joint frame by default for models written in 1.5.\r\n\r\nI've added a test, though I've only fixed ODEHingeJoint and BulletHingeJoint for the time being. I added some helper functions `Joint::GetWorldPose` and `Joint::GetAxisFrame` that should abstract most of this logic away (see the changes to ODEHingeJoint.cc for an example). If sdf 1.5 is not available, the test is disabled, and gazebo should continue to function.", "markup": "markdown", "html": "<p>For some reason, gazebo has historically interpreted the joint axis &lt;xyz&gt; value in the parent model frame. It would make more sense to use the joint frame, since the joint pose element for specifying the anchor location is interpreted relative to the child link frame. This is issue <a href=\"#!/osrf/gazebo/issues/494/make-joint-axis-reference-frame-relative\" rel=\"nofollow\" title=\"Make joint axis reference frame relative to child\" class=\"ap-connect-link\"><s>#494</s></a> and requires <a data-is-external-link=\"true\" href=\"https://bitbucket.org/osrf/sdformat/pull-request/83/sdf-15-add-flag-to-fix-joint-axis-frame-43/diff\" rel=\"nofollow\">sdformat pull request 83</a> (branch issue_43), which bumps to sdf 1.5.</p>\n<p>I've added a flag that indicates whether the parent model frame is to be used (legacy behavior) or the joint frame. The defaults are in sdformat to use legacy behavior when converting 1.4 models to 1.5, but to use the joint frame by default for models written in 1.5.</p>\n<p>I've added a test, though I've only fixed ODEHingeJoint and BulletHingeJoint for the time being. I added some helper functions <code>Joint::GetWorldPose</code> and <code>Joint::GetAxisFrame</code> that should abstract most of this logic away (see the changes to ODEHingeJoint.cc for an example). If sdf 1.5 is not available, the test is disabled, and gazebo should continue to function.</p>", "type": "rendered"}, "source": {"commit": {"hash": "07e538dfe00d", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/07e538dfe00d.json"}, "html": {"href": "#!/osrf/gazebo/commits/07e538dfe00d"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "issue_494"}}, "comment_count": 14, "state": "MERGED", "task_count": 0, "participants": [{"role": "PARTICIPANT", "participated_on": "2014-02-19T19:00:38.132960+00:00", "type": "participant", "approved": false, "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}}, {"role": "PARTICIPANT", "participated_on": "2014-02-14T18:29:56.548872+00:00", "type": "participant", "approved": true, "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}}, {"role": "PARTICIPANT", "participated_on": "2014-02-24T17:51:41.518195+00:00", "type": "participant", "approved": true, "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}}, {"role": "PARTICIPANT", "participated_on": "2014-02-19T18:53:36.598885+00:00", "type": "participant", "approved": false, "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}}], "reason": "", "updated_on": "2014-02-24T17:56:34.821392+00:00", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "merge_commit": {"hash": "d6781bae8772", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/d6781bae8772.json"}, "html": {"href": "#!/osrf/gazebo/commits/d6781bae8772"}}}, "closed_by": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}}