{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/657/comments/472194.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/diff/osrf/gazebo:47233d3d4539..06c6404d00ab?path=cmake%2Fgazebo-config.cmake.in"}, "html": {"href": "#!/osrf/gazebo/pull-requests/657/_/diff#comment-472194"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 657, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/657.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/657"}}, "title": "CMake fixes for OSX"}, "content": {"raw": "Reuse the same ```dep``` variable should work and save some lines of codes. Something like:\n\n```\ndiff -r 47233d3d4539 cmake/gazebo-config.cmake.in\n--- a/cmake/gazebo-config.cmake.in\tTue Aug 13 14:22:01 2013 +0000\n+++ b/cmake/gazebo-config.cmake.in\tThu Aug 15 18:44:49 2013 +0200\n@@ -34,12 +34,10 @@\n \n   # Protobuf needs to be capitalized to match PROTOBUF_LIBRARIES\n   if (${dep} STREQUAL \"Protobuf\")\n-    string (TOUPPER ${dep} dep_lib)\n-  else()\n-    set (dep_lib ${dep})\n+    string (TOUPPER ${dep} dep)\n   endif()\n     \n-  list(APPEND @PKG_NAME@_LIBRARIES ${${dep_lib}_LIBRARIES})\n+  list(APPEND @PKG_NAME@_LIBRARIES ${${dep}_LIBRARIES})\n endforeach()\n \n list(APPEND @PKG_NAME@_LDFLAGS -Wl,-rpath,@CMAKE_INSTALL_PREFIX@/lib,-rpath,@CMAKE_INSTALL_PREFIX@/lib/gazebo-@GAZEBO_VERSION@/plugins)\n```", "markup": "markdown", "html": "<p>Reuse the same <code>dep</code> variable should work and save some lines of codes. Something like:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gh\">diff -r 47233d3d4539 cmake/gazebo-config.cmake.in</span>\n<span class=\"gd\">--- a/cmake/gazebo-config.cmake.in  Tue Aug 13 14:22:01 2013 +0000</span>\n<span class=\"gi\">+++ b/cmake/gazebo-config.cmake.in  Thu Aug 15 18:44:49 2013 +0200</span>\n<span class=\"gu\">@@ -34,12 +34,10 @@</span>\n\n   # Protobuf needs to be capitalized to match PROTOBUF_LIBRARIES\n   if (${dep} STREQUAL &quot;Protobuf&quot;)\n<span class=\"gd\">-    string (TOUPPER ${dep} dep_lib)</span>\n<span class=\"gd\">-  else()</span>\n<span class=\"gd\">-    set (dep_lib ${dep})</span>\n<span class=\"gi\">+    string (TOUPPER ${dep} dep)</span>\n   endif()\n\n<span class=\"gd\">-  list(APPEND @PKG_NAME@_LIBRARIES ${${dep_lib}_LIBRARIES})</span>\n<span class=\"gi\">+  list(APPEND @PKG_NAME@_LIBRARIES ${${dep}_LIBRARIES})</span>\n endforeach()\n\n list(APPEND @PKG_NAME@_LDFLAGS -Wl,-rpath,@CMAKE_INSTALL_PREFIX@/lib,-rpath,@CMAKE_INSTALL_PREFIX@/lib/gazebo-@GAZEBO_VERSION@/plugins)\n</pre></div>", "type": "rendered"}, "created_on": "2013-08-15T16:46:58.513040+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "inline": {"to": 36, "from": null, "outdated": false, "path": "cmake/gazebo-config.cmake.in"}, "updated_on": "2013-08-15T16:46:58.530039+00:00", "type": "pullrequest_comment", "id": 472194}