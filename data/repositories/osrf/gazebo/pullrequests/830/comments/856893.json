{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/830/comments/856893.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/830/_/diff#comment-856893"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 830, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/830.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/830"}}, "title": "Add ability to control camera via messages"}, "content": {"raw": "I'm getting a seg-fault in `REGRESSION_846_typo_in_camera`\n~~~\n[==========] Running 1 test from 1 test case.\n[----------] Global test environment set-up.\n[----------] 1 test from issue_846_typo_in_camera\n[ RUN      ] issue_846_typo_in_camera.CaptureData\nREGRESSION_846_typo_in_camera: /usr/include/boost/smart_ptr/shared_ptr.hpp:424: T* boost::shared_ptr<T>::operator->() const [with T = gazebo::rendering::Scene]: Assertion `px != 0' failed.\n\nProgram received signal SIGABRT, Aborted.\n0x00007ffff49e7425 in __GI_raise (sig=<optimized out>) at ../nptl/sysdeps/unix/sysv/linux/raise.c:64\n64\t../nptl/sysdeps/unix/sysv/linux/raise.c: No such file or directory.\n(gdb) bt\n#0  0x00007ffff49e7425 in __GI_raise (sig=<optimized out>)\n    at ../nptl/sysdeps/unix/sysv/linux/raise.c:64\n#1  0x00007ffff49eab8b in __GI_abort () at abort.c:91\n#2  0x00007ffff49e00ee in __assert_fail_base (fmt=<optimized out>, assertion=0x7ffff6fc3bac \"px != 0\", \n    file=0x7ffff6fc3b80 \"/usr/include/boost/smart_ptr/shared_ptr.hpp\", line=<optimized out>, \n    function=<optimized out>) at assert.c:94\n#3  0x00007ffff49e0192 in __GI___assert_fail (assertion=0x7ffff6fc3bac \"px != 0\", \n    file=0x7ffff6fc3b80 \"/usr/include/boost/smart_ptr/shared_ptr.hpp\", line=424, \n    function=0x7ffff6fc56e0 <_ZZNK5boost10shared_ptrIN6gazebo9rendering5SceneEEptEvE19__PRETTY_FUNCTION__> \"T* boost::shared_ptr<T>::operator->() const [with T = gazebo::rendering::Scene]\") at assert.c:103\n#4  0x00007ffff6efb993 in boost::shared_ptr<gazebo::rendering::Scene>::operator-> (\n    this=<optimized out>) at /usr/include/boost/smart_ptr/shared_ptr.hpp:424\n#5  0x00007ffff6f0118e in _M_dispose (__a=..., this=<optimized out>)\n    at /usr/include/c++/4.7/bits/basic_string.h:246\n#6  ~basic_string (this=<optimized out>, __in_chrg=<optimized out>)\n    at /usr/include/c++/4.7/bits/basic_string.h:536\n#7  gazebo::rendering::Camera::Camera (this=0x6ff3e0, _name=..., _scene=..., \n    _autoRender=<optimized out>) at /home/scpeters/ws/gazebo/src/gazebo/gazebo/rendering/Camera.cc:122\n#8  0x000000000043f068 in issue_846_typo_in_camera_CaptureData_Test::TestBody (this=<optimized out>)\n    at /home/scpeters/ws/gazebo/src/gazebo/test/regression/846_typo_in_camera.cc:26\n#9  0x0000000000475e9a in HandleSehExceptionsInMethodIfSupported<testing::Test, void> (\n    method=<optimized out>, object=<optimized out>, location=<optimized out>)\n    at /home/scpeters/ws/gazebo/src/gazebo/test/gtest/src/gtest.cc:2090\n#10 testing::internal::HandleExceptionsInMethodIfSupported<testing::Test, void> (\n    object=object@entry=0x6ff040, method=&virtual testing::Test::TestBody(), \n    location=location@entry=0x47bb47 \"the test body\")\n    at /home/scpeters/ws/gazebo/src/gazebo/test/gtest/src/gtest.cc:2126\n#11 0x000000000046ab59 in testing::Test::Run (this=this@entry=0x6ff040)\n    at /home/scpeters/ws/gazebo/src/gazebo/test/gtest/src/gtest.cc:2162\n#12 0x000000000046ac37 in testing::TestInfo::Run (this=0x6fd4e0)\n    at /home/scpeters/ws/gazebo/src/gazebo/test/gtest/src/gtest.cc:2338\n#13 0x000000000046ad75 in testing::TestCase::Run (this=0x6fd970)\n    at /home/scpeters/ws/gazebo/src/gazebo/test/gtest/src/gtest.cc:2445\n#14 0x000000000046b0dd in RunAllTests (this=0x6fd600)\n    at /home/scpeters/ws/gazebo/src/gazebo/test/gtest/src/gtest.cc:4237\n#15 testing::internal::UnitTestImpl::RunAllTests (this=0x6fd600)\n    at /home/scpeters/ws/gazebo/src/gazebo/test/gtest/src/gtest.cc:4145\n#16 0x0000000000475a1a in HandleSehExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool>\n    (method=<optimized out>, object=<optimized out>, location=<optimized out>)\n    at /home/scpeters/ws/gazebo/src/gazebo/test/gtest/src/gtest.cc:2090\n#17 testing::internal::HandleExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool> (\n    object=0x6fd600, method=\n    (bool (testing::internal::UnitTestImpl::*)(testing::internal::UnitTestImpl * const)) 0x46adf0 <testing::internal::UnitTestImpl::RunAllTests()>, \n    location=location@entry=0x47cce0 \"auxiliary test code (environments or event listeners)\")\n---Type <return> to continue, or q <return> to quit---\n    at /home/scpeters/ws/gazebo/src/gazebo/test/gtest/src/gtest.cc:2126\n#18 0x000000000046a3b1 in testing::UnitTest::Run (this=<optimized out>)\n    at /home/scpeters/ws/gazebo/src/gazebo/test/gtest/src/gtest.cc:3874\n#19 0x000000000043ceaf in main (argc=1, argv=<optimized out>)\n    at /home/scpeters/ws/gazebo/src/gazebo/test/regression/846_typo_in_camera.cc:40\n(gdb)\n~~~", "markup": "markdown", "html": "<p>I'm getting a seg-fault in <code>REGRESSION_846_typo_in_camera</code></p>\n<div class=\"codehilite\"><pre><span></span>[==========] Running 1 test from 1 test case.\n[----------] Global test environment set-up.\n[----------] 1 test from issue_846_typo_in_camera\n[ RUN      ] issue_846_typo_in_camera.CaptureData\nREGRESSION_846_typo_in_camera: /usr/include/boost/smart_ptr/shared_ptr.hpp:424: T* boost::shared_ptr&lt;T&gt;::operator-&gt;() const [with T = gazebo::rendering::Scene]: Assertion `px != 0&#39; failed.\n\nProgram received signal SIGABRT, Aborted.\n0x00007ffff49e7425 in __GI_raise (sig=&lt;optimized out&gt;) at ../nptl/sysdeps/unix/sysv/linux/raise.c:64\n64  ../nptl/sysdeps/unix/sysv/linux/raise.c: No such file or directory.\n(gdb) bt\n#0  0x00007ffff49e7425 in __GI_raise (sig=&lt;optimized out&gt;)\n    at ../nptl/sysdeps/unix/sysv/linux/raise.c:64\n#1  0x00007ffff49eab8b in __GI_abort () at abort.c:91\n#2  0x00007ffff49e00ee in __assert_fail_base (fmt=&lt;optimized out&gt;, assertion=0x7ffff6fc3bac &quot;px != 0&quot;, \n    file=0x7ffff6fc3b80 &quot;/usr/include/boost/smart_ptr/shared_ptr.hpp&quot;, line=&lt;optimized out&gt;, \n    function=&lt;optimized out&gt;) at assert.c:94\n#3  0x00007ffff49e0192 in __GI___assert_fail (assertion=0x7ffff6fc3bac &quot;px != 0&quot;, \n    file=0x7ffff6fc3b80 &quot;/usr/include/boost/smart_ptr/shared_ptr.hpp&quot;, line=424, \n    function=0x7ffff6fc56e0 &lt;_ZZNK5boost10shared_ptrIN6gazebo9rendering5SceneEEptEvE19__PRETTY_FUNCTION__&gt; &quot;T* boost::shared_ptr&lt;T&gt;::operator-&gt;() const [with T = gazebo::rendering::Scene]&quot;) at assert.c:103\n#4  0x00007ffff6efb993 in boost::shared_ptr&lt;gazebo::rendering::Scene&gt;::operator-&gt; (\n    this=&lt;optimized out&gt;) at /usr/include/boost/smart_ptr/shared_ptr.hpp:424\n#5  0x00007ffff6f0118e in _M_dispose (__a=..., this=&lt;optimized out&gt;)\n    at /usr/include/c++/4.7/bits/basic_string.h:246\n#6  ~basic_string (this=&lt;optimized out&gt;, __in_chrg=&lt;optimized out&gt;)\n    at /usr/include/c++/4.7/bits/basic_string.h:536\n#7  gazebo::rendering::Camera::Camera (this=0x6ff3e0, _name=..., _scene=..., \n    _autoRender=&lt;optimized out&gt;) at /home/scpeters/ws/gazebo/src/gazebo/gazebo/rendering/Camera.cc:122\n#8  0x000000000043f068 in issue_846_typo_in_camera_CaptureData_Test::TestBody (this=&lt;optimized out&gt;)\n    at /home/scpeters/ws/gazebo/src/gazebo/test/regression/846_typo_in_camera.cc:26\n#9  0x0000000000475e9a in HandleSehExceptionsInMethodIfSupported&lt;testing::Test, void&gt; (\n    method=&lt;optimized out&gt;, object=&lt;optimized out&gt;, location=&lt;optimized out&gt;)\n    at /home/scpeters/ws/gazebo/src/gazebo/test/gtest/src/gtest.cc:2090\n#10 testing::internal::HandleExceptionsInMethodIfSupported&lt;testing::Test, void&gt; (\n    object=object@entry=0x6ff040, method=&amp;virtual testing::Test::TestBody(), \n    location=location@entry=0x47bb47 &quot;the test body&quot;)\n    at /home/scpeters/ws/gazebo/src/gazebo/test/gtest/src/gtest.cc:2126\n#11 0x000000000046ab59 in testing::Test::Run (this=this@entry=0x6ff040)\n    at /home/scpeters/ws/gazebo/src/gazebo/test/gtest/src/gtest.cc:2162\n#12 0x000000000046ac37 in testing::TestInfo::Run (this=0x6fd4e0)\n    at /home/scpeters/ws/gazebo/src/gazebo/test/gtest/src/gtest.cc:2338\n#13 0x000000000046ad75 in testing::TestCase::Run (this=0x6fd970)\n    at /home/scpeters/ws/gazebo/src/gazebo/test/gtest/src/gtest.cc:2445\n#14 0x000000000046b0dd in RunAllTests (this=0x6fd600)\n    at /home/scpeters/ws/gazebo/src/gazebo/test/gtest/src/gtest.cc:4237\n#15 testing::internal::UnitTestImpl::RunAllTests (this=0x6fd600)\n    at /home/scpeters/ws/gazebo/src/gazebo/test/gtest/src/gtest.cc:4145\n#16 0x0000000000475a1a in HandleSehExceptionsInMethodIfSupported&lt;testing::internal::UnitTestImpl, bool&gt;\n    (method=&lt;optimized out&gt;, object=&lt;optimized out&gt;, location=&lt;optimized out&gt;)\n    at /home/scpeters/ws/gazebo/src/gazebo/test/gtest/src/gtest.cc:2090\n#17 testing::internal::HandleExceptionsInMethodIfSupported&lt;testing::internal::UnitTestImpl, bool&gt; (\n    object=0x6fd600, method=\n    (bool (testing::internal::UnitTestImpl::*)(testing::internal::UnitTestImpl * const)) 0x46adf0 &lt;testing::internal::UnitTestImpl::RunAllTests()&gt;, \n    location=location@entry=0x47cce0 &quot;auxiliary test code (environments or event listeners)&quot;)\n---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---\n    at /home/scpeters/ws/gazebo/src/gazebo/test/gtest/src/gtest.cc:2126\n#18 0x000000000046a3b1 in testing::UnitTest::Run (this=&lt;optimized out&gt;)\n    at /home/scpeters/ws/gazebo/src/gazebo/test/gtest/src/gtest.cc:3874\n#19 0x000000000043ceaf in main (argc=1, argv=&lt;optimized out&gt;)\n    at /home/scpeters/ws/gazebo/src/gazebo/test/regression/846_typo_in_camera.cc:40\n(gdb)\n</pre></div>", "type": "rendered"}, "created_on": "2013-11-22T21:18:49.724449+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2013-11-22T21:18:49.732881+00:00", "type": "pullrequest_comment", "id": 856893}