{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2699/comments/44579070.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2699/_/diff#comment-44579070"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2699, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2699.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2699"}}, "title": "Fix compilation of some tests on Windows"}, "content": {"raw": "I've taken this branch a bit further with branch [windows_tests](#!/osrf/gazebo/branch/windows_tests). It's latest failure was a linking error. I'll make a PR for that branch after this is merged\n\n* https://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/gazebo-ci-pr_any-windows7-amd64/1825/console\n\n~~~\n[ 78%] Linking CXX executable UNIT_PresetManager_TEST.exe\ngazebo_test_fixture.lib(ServerFixture.cc.obj) : error LNK2005: \"int __cdecl setenv(char const *,char const *,int)\" (?setenv@@YAHPEBD0H@Z) already defined in PresetManager_TEST.cc.obj\n\ngazebo_test_fixture.lib(ServerFixture.cc.obj) : error LNK2005: \"void __cdecl unsetenv(char const *)\" (?unsetenv@@YAXPEBD@Z) already defined in PresetManager_TEST.cc.obj\n\nFreeImage.lib(Plugin.obj) : MSIL .netmodule or module compiled with /GL found; restarting link with /LTCG; add /LTCG to the link command line to improve linker performance\n\n   Creating library UNIT_PresetManager_TEST.lib and object UNIT_PresetManager_TEST.exp\n\nGenerating code\n\nFinished generating code\n\ngazebo_test_fixture.lib(ServerFixture.cc.obj) : error LNK2005: \"int __cdecl setenv(char const *,char const *,int)\" (?setenv@@YAHPEBD0H@Z) already defined in PresetManager_TEST.cc.obj\n\ngazebo_test_fixture.lib(ServerFixture.cc.obj) : error LNK2005: \"void __cdecl unsetenv(char const *)\" (?unsetenv@@YAXPEBD@Z) already defined in PresetManager_TEST.cc.obj\n\nUNIT_PresetManager_TEST.exe : fatal error LNK1169: one or more multiply defined symbols found\n\nLINK failed. with 1169\njom: D:\\Jenkins\\workspace\\gazebo-ci-pr_any-windows7-amd64\\workspace\\gazebo\\build\\gazebo\\physics\\CMakeFiles\\UNIT_PresetManager_TEST.dir\\build.make [gazebo\\physics\\UNIT_PresetManager_TEST.exe] Error 2\n~~~", "markup": "markdown", "html": "<p>I've taken this branch a bit further with branch <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/branch/windows_tests\" rel=\"nofollow\">windows_tests</a>. It's latest failure was a linking error. I'll make a PR for that branch after this is merged</p>\n<ul>\n<li><a href=\"https://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/gazebo-ci-pr_any-windows7-amd64/1825/console\" rel=\"nofollow\" class=\"ap-connect-link\">https://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/gazebo-ci-pr_any-windows7-amd64/1825/console</a></li>\n</ul>\n<div class=\"codehilite\"><pre><span></span>[ 78%] Linking CXX executable UNIT_PresetManager_TEST.exe\ngazebo_test_fixture.lib(ServerFixture.cc.obj) : error LNK2005: &quot;int __cdecl setenv(char const *,char const *,int)&quot; (?setenv@@YAHPEBD0H@Z) already defined in PresetManager_TEST.cc.obj\n\ngazebo_test_fixture.lib(ServerFixture.cc.obj) : error LNK2005: &quot;void __cdecl unsetenv(char const *)&quot; (?unsetenv@@YAXPEBD@Z) already defined in PresetManager_TEST.cc.obj\n\nFreeImage.lib(Plugin.obj) : MSIL .netmodule or module compiled with /GL found; restarting link with /LTCG; add /LTCG to the link command line to improve linker performance\n\n   Creating library UNIT_PresetManager_TEST.lib and object UNIT_PresetManager_TEST.exp\n\nGenerating code\n\nFinished generating code\n\ngazebo_test_fixture.lib(ServerFixture.cc.obj) : error LNK2005: &quot;int __cdecl setenv(char const *,char const *,int)&quot; (?setenv@@YAHPEBD0H@Z) already defined in PresetManager_TEST.cc.obj\n\ngazebo_test_fixture.lib(ServerFixture.cc.obj) : error LNK2005: &quot;void __cdecl unsetenv(char const *)&quot; (?unsetenv@@YAXPEBD@Z) already defined in PresetManager_TEST.cc.obj\n\nUNIT_PresetManager_TEST.exe : fatal error LNK1169: one or more multiply defined symbols found\n\nLINK failed. with 1169\njom: D:\\Jenkins\\workspace\\gazebo-ci-pr_any-windows7-amd64\\workspace\\gazebo\\build\\gazebo\\physics\\CMakeFiles\\UNIT_PresetManager_TEST.dir\\build.make [gazebo\\physics\\UNIT_PresetManager_TEST.exe] Error 2\n</pre></div>", "type": "rendered"}, "created_on": "2017-09-08T19:57:32.679798+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-09-08T19:57:32.687878+00:00", "type": "pullrequest_comment", "id": 44579070}