{"pagelen": 50, "values": [{"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/40812395.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-40812395"}}, "parent": {"id": 40802258, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/40802258.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-40802258"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}, "content": {"raw": "Ok, thanks. See pull request #2747.", "markup": "markdown", "html": "<p>Ok, thanks. See <a href=\"#!/osrf/gazebo/pull-requests/2747/joint-control-menu-highlight-active\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #2747</a>.</p>", "type": "rendered"}, "created_on": "2017-07-14T21:25:24.062164+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "updated_on": "2017-07-14T21:25:24.107171+00:00", "type": "pullrequest_comment", "id": 40812395}, "pull_request": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/40802258.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-40802258"}}, "parent": {"id": 39748840, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/39748840.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-39748840"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}, "content": {"raw": "I'd be happy to test the `joint_control_menu_highlight_active` branch if you merge it with `gazebo8` and make a PR", "markup": "markdown", "html": "<p>I'd be happy to test the <code>joint_control_menu_highlight_active</code> branch if you merge it with <code>gazebo8</code> and make a PR</p>", "type": "rendered"}, "created_on": "2017-07-14T18:11:03.487520+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-07-14T18:11:03.491084+00:00", "type": "pullrequest_comment", "id": 40802258}, "pull_request": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/40647846.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-40647846"}}, "parent": {"id": 40647743, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/40647743.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-40647743"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}, "content": {"raw": "Thank you both for all the comments!", "markup": "markdown", "html": "<p>Thank you both for all the comments!</p>", "type": "rendered"}, "created_on": "2017-07-13T01:01:31.906727+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "updated_on": "2017-07-13T01:01:31.963553+00:00", "type": "pullrequest_comment", "id": 40647846}, "pull_request": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}}, {"update": {"description": "Issue [#295](#!/osrf/gazebo/issues/295/read-controller-joint-values-in-joint) notes that Gazebo's joint control widget does not always show the current values for the corresponding joint controllers. Specifically, if you set control parameters for a model, select a different model, and then select the original model again, the joint control widget will display the default control parameters instead of the actual parameters.\r\n\r\nMy pull request fixes the issue by allowing the `JointControlWidget` to query the `JointController` for the current control parameters. I implemented this behavior with a new service `joint_cmd_req` using `ignition::transport`. I added a node to the private data containers for both the joint controller and joint control widget in order to support the service.\r\n\r\nThe joint control widget requests the current control parameters from the joint controller when the selected model changes and then updates the display accordingly, namely the Qt spin boxes. To facilitate this I added setter functions to the classes that keep track of the spin boxes: `JointForceControl`, `JointPIDPosControl`, and `JointPIDVelControl`. These are all managed by the joint control widget. The code that calls the service and then the setter functions is in `JointControlWidget::SetModelName` because it is called when a new model is selected.\r\n\r\nI added three tests:\r\n\r\n1. The joint controller unit test now checks that the (new) service `joint_cmd_req` returns the correct control parameters.\r\n\r\n2. The joint controller integration test now checks that the control parameters can be set with the `joint_cmd` topic.\r\n\r\n3. The (new) joint control widget integration test checks that the widget reloads the correct control parameters after switching to a different model and back.", "title": "Joint control menu read current values", "destination": {"commit": {"hash": "8508eb685cb5", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/8508eb685cb5.json"}, "html": {"href": "#!/osrf/gazebo/commits/8508eb685cb5"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo8"}}, "reason": "", "source": {"commit": {"hash": "435dbf6c0264", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pchorak/gazebo/commit/435dbf6c0264"}, "html": {"href": "https://bitbucket.org/pchorak/gazebo/commits/435dbf6c0264"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pchorak/gazebo"}, "html": {"href": "https://bitbucket.org/pchorak/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{7130b41e-0983-4752-9e3b-9e2c12cf1268}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "pchorak/gazebo", "uuid": "{7130b41e-0983-4752-9e3b-9e2c12cf1268}"}, "branch": {"name": "joint_control_menu_read_current_values"}}, "state": "MERGED", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2017-07-13T00:58:04.979460+00:00"}, "pull_request": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/40647743.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-40647743"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}, "content": {"raw": "Thanks for enduring through all those comments!", "markup": "markdown", "html": "<p>Thanks for enduring through all those comments!</p>", "type": "rendered"}, "created_on": "2017-07-13T00:57:33.495166+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2017-07-13T00:57:33.497448+00:00", "type": "pullrequest_comment", "id": 40647743}, "pull_request": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}}, {"approval": {"date": "2017-07-13T00:56:54.561270+00:00", "pullrequest": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}, "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}}, "pull_request": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/40640198.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-40640198"}}, "parent": {"id": 40270153, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/40270153.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-40270153"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}, "content": {"raw": "looks good to me", "markup": "markdown", "html": "<p>looks good to me</p>", "type": "rendered"}, "created_on": "2017-07-12T21:16:18.093691+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2017-07-12T21:16:18.096025+00:00", "type": "pullrequest_comment", "id": 40640198}, "pull_request": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/40453501.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-40453501"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}, "content": {"raw": "Great work!", "markup": "markdown", "html": "<p>Great work!</p>", "type": "rendered"}, "created_on": "2017-07-11T00:57:04.507334+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-07-11T00:57:04.511069+00:00", "type": "pullrequest_comment", "id": 40453501}, "pull_request": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}}, {"approval": {"date": "2017-07-11T00:56:49.436014+00:00", "pullrequest": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}, "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}}, "pull_request": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/40451021.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-40451021"}}, "parent": {"id": 40450528, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/40450528.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-40450528"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}, "content": {"raw": "On it. Thanks", "markup": "markdown", "html": "<p>On it. Thanks</p>", "type": "rendered"}, "created_on": "2017-07-10T23:36:23.304383+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "inline": {}, "updated_on": "2017-07-10T23:36:23.363099+00:00", "type": "pullrequest_comment", "id": 40451021}, "pull_request": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}}, {"update": {"description": "Issue [#295](#!/osrf/gazebo/issues/295/read-controller-joint-values-in-joint) notes that Gazebo's joint control widget does not always show the current values for the corresponding joint controllers. Specifically, if you set control parameters for a model, select a different model, and then select the original model again, the joint control widget will display the default control parameters instead of the actual parameters.\r\n\r\nMy pull request fixes the issue by allowing the `JointControlWidget` to query the `JointController` for the current control parameters. I implemented this behavior with a new service `joint_cmd_req` using `ignition::transport`. I added a node to the private data containers for both the joint controller and joint control widget in order to support the service.\r\n\r\nThe joint control widget requests the current control parameters from the joint controller when the selected model changes and then updates the display accordingly, namely the Qt spin boxes. To facilitate this I added setter functions to the classes that keep track of the spin boxes: `JointForceControl`, `JointPIDPosControl`, and `JointPIDVelControl`. These are all managed by the joint control widget. The code that calls the service and then the setter functions is in `JointControlWidget::SetModelName` because it is called when a new model is selected.\r\n\r\nI added three tests:\r\n\r\n1. The joint controller unit test now checks that the (new) service `joint_cmd_req` returns the correct control parameters.\r\n\r\n2. The joint controller integration test now checks that the control parameters can be set with the `joint_cmd` topic.\r\n\r\n3. The (new) joint control widget integration test checks that the widget reloads the correct control parameters after switching to a different model and back.", "title": "Joint control menu read current values", "destination": {"commit": {"hash": "8508eb685cb5", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/8508eb685cb5.json"}, "html": {"href": "#!/osrf/gazebo/commits/8508eb685cb5"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo8"}}, "reason": "", "source": {"commit": {"hash": "435dbf6c0264", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pchorak/gazebo/commit/435dbf6c0264"}, "html": {"href": "https://bitbucket.org/pchorak/gazebo/commits/435dbf6c0264"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pchorak/gazebo"}, "html": {"href": "https://bitbucket.org/pchorak/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{7130b41e-0983-4752-9e3b-9e2c12cf1268}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "pchorak/gazebo", "uuid": "{7130b41e-0983-4752-9e3b-9e2c12cf1268}"}, "branch": {"name": "joint_control_menu_read_current_values"}}, "state": "OPEN", "author": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "date": "2017-07-10T23:34:21.989173+00:00"}, "pull_request": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/40450528.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-40450528"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}, "content": {"raw": "this line is greater than 80 characters\n\n* https://build.osrfoundation.org/job/gazebo-ci-pr_any-xenial-amd64-gpu-none/566/cppcheckResult/", "markup": "markdown", "html": "<p>this line is greater than 80 characters</p>\n<ul>\n<li><a href=\"https://build.osrfoundation.org/job/gazebo-ci-pr_any-xenial-amd64-gpu-none/566/cppcheckResult/\" rel=\"nofollow\" class=\"ap-connect-link\">https://build.osrfoundation.org/job/gazebo-ci-pr_any-xenial-amd64-gpu-none/566/cppcheckResult/</a></li>\n</ul>", "type": "rendered"}, "created_on": "2017-07-10T23:23:15.285857+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2017-07-10T23:23:15.288431+00:00", "type": "pullrequest_comment", "id": 40450528}, "pull_request": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/40445750.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-40445750"}}, "parent": {"id": 40269447, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/40269447.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-40269447"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}, "content": {"raw": "it looks fixed to me; I'll start another round of jenkins tests", "markup": "markdown", "html": "<p>it looks fixed to me; I'll start another round of jenkins tests</p>", "type": "rendered"}, "created_on": "2017-07-10T21:29:42.236225+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-07-10T21:29:42.238824+00:00", "type": "pullrequest_comment", "id": 40445750}, "pull_request": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/40273911.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-40273911"}}, "parent": {"id": 40269837, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/40269837.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-40269837"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}, "content": {"raw": "To achieve the desired behavior, the Qt connection needs to be of type `Qt::QueuedConnection` not `Qt::AutoConnection`. Furthermore, the integration test `joint_control_widget.cc` must process events in between steps to work. 051a81e makes these changes.", "markup": "markdown", "html": "<p>To achieve the desired behavior, the Qt connection needs to be of type <code>Qt::QueuedConnection</code> not <code>Qt::AutoConnection</code>. Furthermore, the integration test <code>joint_control_widget.cc</code> must process events in between steps to work. <a href=\"#!/osrf/gazebo/commits/051a81e\" rel=\"nofollow\" class=\"ap-connect-link\">051a81e</a> makes these changes.</p>", "type": "rendered"}, "created_on": "2017-07-07T01:14:09.468686+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "updated_on": "2017-07-07T01:14:09.530586+00:00", "type": "pullrequest_comment", "id": 40273911}, "pull_request": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}}, {"update": {"description": "Issue [#295](#!/osrf/gazebo/issues/295/read-controller-joint-values-in-joint) notes that Gazebo's joint control widget does not always show the current values for the corresponding joint controllers. Specifically, if you set control parameters for a model, select a different model, and then select the original model again, the joint control widget will display the default control parameters instead of the actual parameters.\r\n\r\nMy pull request fixes the issue by allowing the `JointControlWidget` to query the `JointController` for the current control parameters. I implemented this behavior with a new service `joint_cmd_req` using `ignition::transport`. I added a node to the private data containers for both the joint controller and joint control widget in order to support the service.\r\n\r\nThe joint control widget requests the current control parameters from the joint controller when the selected model changes and then updates the display accordingly, namely the Qt spin boxes. To facilitate this I added setter functions to the classes that keep track of the spin boxes: `JointForceControl`, `JointPIDPosControl`, and `JointPIDVelControl`. These are all managed by the joint control widget. The code that calls the service and then the setter functions is in `JointControlWidget::SetModelName` because it is called when a new model is selected.\r\n\r\nI added three tests:\r\n\r\n1. The joint controller unit test now checks that the (new) service `joint_cmd_req` returns the correct control parameters.\r\n\r\n2. The joint controller integration test now checks that the control parameters can be set with the `joint_cmd` topic.\r\n\r\n3. The (new) joint control widget integration test checks that the widget reloads the correct control parameters after switching to a different model and back.", "title": "Joint control menu read current values", "destination": {"commit": {"hash": "08976e5a7770", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/08976e5a7770.json"}, "html": {"href": "#!/osrf/gazebo/commits/08976e5a7770"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo8"}}, "reason": "", "source": {"commit": {"hash": "051a81e99af4", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pchorak/gazebo/commit/051a81e99af4"}, "html": {"href": "https://bitbucket.org/pchorak/gazebo/commits/051a81e99af4"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pchorak/gazebo"}, "html": {"href": "https://bitbucket.org/pchorak/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{7130b41e-0983-4752-9e3b-9e2c12cf1268}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "pchorak/gazebo", "uuid": "{7130b41e-0983-4752-9e3b-9e2c12cf1268}"}, "branch": {"name": "joint_control_menu_read_current_values"}}, "state": "OPEN", "author": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "date": "2017-07-07T01:10:46.055336+00:00"}, "pull_request": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/40270413.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-40270413"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}, "content": {"raw": "I realized that the joint names are all scoped, so there are a few options:\n\n1. Use `std::bind` to pass the model name to the callback (what I did here).\n\n2. Extract the model name from the joint name in the joint command response (avoids needing to use `std::bind` here).\n\n3. Check whether the joint specified in the response is in each controller list individually (e.g. substitute `this->dataPtr->sliders.find(_rep.name())` in line [475](#!/osrf/gazebo/pull-requests/2730/joint-control-menu-read-current-values/diff#Lgazebo/gui/JointControlWidget.ccT475) below).", "markup": "markdown", "html": "<p>I realized that the joint names are all scoped, so there are a few options:</p>\n<ol>\n<li>\n<p>Use <code>std::bind</code> to pass the model name to the callback (what I did here).</p>\n</li>\n<li>\n<p>Extract the model name from the joint name in the joint command response (avoids needing to use <code>std::bind</code> here).</p>\n</li>\n<li>\n<p>Check whether the joint specified in the response is in each controller list individually (e.g. substitute <code>this-&gt;dataPtr-&gt;sliders.find(_rep.name())</code> in line <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/pull-requests/2730/joint-control-menu-read-current-values/diff#Lgazebo/gui/JointControlWidget.ccT475\" rel=\"nofollow\">475</a> below).</p>\n</li>\n</ol>", "type": "rendered"}, "created_on": "2017-07-06T23:17:15.651406+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "inline": {}, "updated_on": "2017-07-06T23:20:00.025985+00:00", "type": "pullrequest_comment", "id": 40270413}, "pull_request": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/40270238.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-40270238"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}, "content": {"raw": "Since it has a copy of the selected model's name, it can avoid extra updates if the user selects the same model multiple times. Also, this change avoids an error message from attempting to advertise the `joint_cmd` topic twice for the same model at the same time.", "markup": "markdown", "html": "<p>Since it has a copy of the selected model's name, it can avoid extra updates if the user selects the same model multiple times. Also, this change avoids an error message from attempting to advertise the <code>joint_cmd</code> topic twice for the same model at the same time.</p>", "type": "rendered"}, "created_on": "2017-07-06T23:11:47.411930+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "inline": {}, "updated_on": "2017-07-06T23:11:47.459539+00:00", "type": "pullrequest_comment", "id": 40270238}, "pull_request": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/40270153.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-40270153"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}, "content": {"raw": "Is this ok? We could get around using the JointCmd but it would require using more signals and slots.", "markup": "markdown", "html": "<p>Is this ok? We could get around using the JointCmd but it would require using more signals and slots.</p>", "type": "rendered"}, "created_on": "2017-07-06T23:09:29.477789+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "inline": {}, "updated_on": "2017-07-06T23:09:29.544425+00:00", "type": "pullrequest_comment", "id": 40270153}, "pull_request": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/40269837.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-40269837"}}, "parent": {"id": 40023559, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/40023559.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-40023559"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}, "content": {"raw": "94b4437 has a potential fix for the concurrency issues. Instead of directly updating the text boxes from the `ignition::transport` callback emits a Qt signal, which triggers a Qt slot that actually updates the text boxes. This approach should let Qt handle the call synchronously with its other events ([see here](http://doc.qt.io/qt-5/threads-synchronizing.html#high-level-event-queues)). The Qt slot (callback) checks that the model name for the response matches the current model name as suggested above.\n\nIt is possible for the controller response to overwrite changes if it arrives after a user change. For example, if you newly select a model and quickly press reset, it will zero the control targets, but if the controller response arrives later, it will set the control targets back to what they were before. This is noticeable with the 1 second delay but is difficult to reproduce without the delay. Since this problem does not cause the GUI to hang or crash, do you think the solution is acceptable for now? If this solution is merged, I will create an issue noting this problem.", "markup": "markdown", "html": "<p><a href=\"#!/osrf/gazebo/commits/94b4437\" rel=\"nofollow\" class=\"ap-connect-link\">94b4437</a> has a potential fix for the concurrency issues. Instead of directly updating the text boxes from the <code>ignition::transport</code> callback emits a Qt signal, which triggers a Qt slot that actually updates the text boxes. This approach should let Qt handle the call synchronously with its other events (<a data-is-external-link=\"true\" href=\"http://doc.qt.io/qt-5/threads-synchronizing.html#high-level-event-queues\" rel=\"nofollow\">see here</a>). The Qt slot (callback) checks that the model name for the response matches the current model name as suggested above.</p>\n<p>It is possible for the controller response to overwrite changes if it arrives after a user change. For example, if you newly select a model and quickly press reset, it will zero the control targets, but if the controller response arrives later, it will set the control targets back to what they were before. This is noticeable with the 1 second delay but is difficult to reproduce without the delay. Since this problem does not cause the GUI to hang or crash, do you think the solution is acceptable for now? If this solution is merged, I will create an issue noting this problem.</p>", "type": "rendered"}, "created_on": "2017-07-06T23:00:43.904227+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "updated_on": "2017-07-06T23:04:09.304569+00:00", "type": "pullrequest_comment", "id": 40269837}, "pull_request": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}}, {"update": {"description": "Issue [#295](#!/osrf/gazebo/issues/295/read-controller-joint-values-in-joint) notes that Gazebo's joint control widget does not always show the current values for the corresponding joint controllers. Specifically, if you set control parameters for a model, select a different model, and then select the original model again, the joint control widget will display the default control parameters instead of the actual parameters.\r\n\r\nMy pull request fixes the issue by allowing the `JointControlWidget` to query the `JointController` for the current control parameters. I implemented this behavior with a new service `joint_cmd_req` using `ignition::transport`. I added a node to the private data containers for both the joint controller and joint control widget in order to support the service.\r\n\r\nThe joint control widget requests the current control parameters from the joint controller when the selected model changes and then updates the display accordingly, namely the Qt spin boxes. To facilitate this I added setter functions to the classes that keep track of the spin boxes: `JointForceControl`, `JointPIDPosControl`, and `JointPIDVelControl`. These are all managed by the joint control widget. The code that calls the service and then the setter functions is in `JointControlWidget::SetModelName` because it is called when a new model is selected.\r\n\r\nI added three tests:\r\n\r\n1. The joint controller unit test now checks that the (new) service `joint_cmd_req` returns the correct control parameters.\r\n\r\n2. The joint controller integration test now checks that the control parameters can be set with the `joint_cmd` topic.\r\n\r\n3. The (new) joint control widget integration test checks that the widget reloads the correct control parameters after switching to a different model and back.", "title": "Joint control menu read current values", "destination": {"commit": {"hash": "08976e5a7770", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/08976e5a7770.json"}, "html": {"href": "#!/osrf/gazebo/commits/08976e5a7770"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo8"}}, "reason": "", "source": {"commit": {"hash": "94b4437affe0", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pchorak/gazebo/commit/94b4437affe0"}, "html": {"href": "https://bitbucket.org/pchorak/gazebo/commits/94b4437affe0"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pchorak/gazebo"}, "html": {"href": "https://bitbucket.org/pchorak/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{7130b41e-0983-4752-9e3b-9e2c12cf1268}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "pchorak/gazebo", "uuid": "{7130b41e-0983-4752-9e3b-9e2c12cf1268}"}, "branch": {"name": "joint_control_menu_read_current_values"}}, "state": "OPEN", "author": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "date": "2017-07-06T22:50:37.707107+00:00"}, "pull_request": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/40269447.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-40269447"}}, "parent": {"id": 40166043, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/40166043.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-40166043"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}, "content": {"raw": "Thanks Steve, and good catch.", "markup": "markdown", "html": "<p>Thanks Steve, and good catch.</p>", "type": "rendered"}, "created_on": "2017-07-06T22:49:28.940314+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "updated_on": "2017-07-06T22:49:28.982397+00:00", "type": "pullrequest_comment", "id": 40269447}, "pull_request": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/40166043.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-40166043"}}, "parent": {"id": 40165869, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/40165869.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-40165869"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}, "content": {"raw": "and here's the backtrace I see in gzclient after switching between a few models and changing the gains:\n\n~~~\nThread 7 \"gzclient\" received signal SIGSEGV, Segmentation fault.\n[Switching to Thread 0x7fffc1c0d700 (LWP 23644)]\ngazebo::gui::JointPIDPosControl::SetPGain (this=0x0, _pGain=3) at /home/docker/ws/src/gazebo/gazebo/gui/JointControlWidget.cc:155\n155\t  this->dataPtr->pGainSpin->setValue(_pGain);\n(gdb) bt\n#0  gazebo::gui::JointPIDPosControl::SetPGain (this=0x0, _pGain=3) at /home/docker/ws/src/gazebo/gazebo/gui/JointControlWidget.cc:155\n#1  0x00007ffff725d24e in gazebo::gui::JointControlWidget::OnControllerResponse (this=0x14f37d0, _rep=..., _result=<optimized out>) at /home/docker/ws/src/gazebo/gazebo/gui/JointControlWidget.cc:348\n#2  0x00007ffff7269f41 in std::function<void (ignition::msgs::JointCmd const&, bool)>::operator()(ignition::msgs::JointCmd const&, bool) const (__args#1=true, __args#0=..., this=0x4e8c3f0) at /usr/include/c++/5/functional:2267\n#3  ignition::transport::ReqHandler<ignition::msgs::StringMsg, ignition::msgs::JointCmd>::NotifyResult (this=0x4e8c310, _rep=..., _result=<optimized out>) at /usr/include/ignition/transport3/ignition/transport/ReqHandler.hh:258\n#4  0x00007ffff38520c0 in ignition::transport::NodeShared::RecvSrvResponse() () from /usr/lib/x86_64-linux-gnu/libignition-transport3.so.3\n#5  0x00007ffff38570e0 in ignition::transport::NodeShared::RunReceptionTask() () from /usr/lib/x86_64-linux-gnu/libignition-transport3.so.3\n#6  0x00007ffff5c79c80 in ?? () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#7  0x00007ffff469b6ba in start_thread (arg=0x7fffc1c0d700) at pthread_create.c:333\n#8  0x00007ffff56e882d in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:109\n~~~", "markup": "markdown", "html": "<p>and here's the backtrace I see in gzclient after switching between a few models and changing the gains:</p>\n<div class=\"codehilite\"><pre><span></span>Thread 7 &quot;gzclient&quot; received signal SIGSEGV, Segmentation fault.\n[Switching to Thread 0x7fffc1c0d700 (LWP 23644)]\ngazebo::gui::JointPIDPosControl::SetPGain (this=0x0, _pGain=3) at /home/docker/ws/src/gazebo/gazebo/gui/JointControlWidget.cc:155\n155   this-&gt;dataPtr-&gt;pGainSpin-&gt;setValue(_pGain);\n(gdb) bt\n#0  gazebo::gui::JointPIDPosControl::SetPGain (this=0x0, _pGain=3) at /home/docker/ws/src/gazebo/gazebo/gui/JointControlWidget.cc:155\n#1  0x00007ffff725d24e in gazebo::gui::JointControlWidget::OnControllerResponse (this=0x14f37d0, _rep=..., _result=&lt;optimized out&gt;) at /home/docker/ws/src/gazebo/gazebo/gui/JointControlWidget.cc:348\n#2  0x00007ffff7269f41 in std::function&lt;void (ignition::msgs::JointCmd const&amp;, bool)&gt;::operator()(ignition::msgs::JointCmd const&amp;, bool) const (__args#1=true, __args#0=..., this=0x4e8c3f0) at /usr/include/c++/5/functional:2267\n#3  ignition::transport::ReqHandler&lt;ignition::msgs::StringMsg, ignition::msgs::JointCmd&gt;::NotifyResult (this=0x4e8c310, _rep=..., _result=&lt;optimized out&gt;) at /usr/include/ignition/transport3/ignition/transport/ReqHandler.hh:258\n#4  0x00007ffff38520c0 in ignition::transport::NodeShared::RecvSrvResponse() () from /usr/lib/x86_64-linux-gnu/libignition-transport3.so.3\n#5  0x00007ffff38570e0 in ignition::transport::NodeShared::RunReceptionTask() () from /usr/lib/x86_64-linux-gnu/libignition-transport3.so.3\n#6  0x00007ffff5c79c80 in ?? () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#7  0x00007ffff469b6ba in start_thread (arg=0x7fffc1c0d700) at pthread_create.c:333\n#8  0x00007ffff56e882d in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:109\n</pre></div>", "type": "rendered"}, "created_on": "2017-07-05T18:47:32.050375+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-07-05T18:47:32.053141+00:00", "type": "pullrequest_comment", "id": 40166043}, "pull_request": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/40165869.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-40165869"}}, "parent": {"id": 40023518, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/40023518.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-40023518"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}, "content": {"raw": "here's the patch I used to cause the problems:\n\n~~~\ndiff -r 0cbfd42477cd gazebo/physics/JointController.cc\n--- a/gazebo/physics/JointController.cc\tMon Jul 03 10:28:59 2017 -0700\n+++ b/gazebo/physics/JointController.cc\tMon Jul 03 18:09:57 2017 -0700\n@@ -250,6 +250,7 @@\n         this->dataPtr->velPids[jointName].GetIGain());\n   }\n \n+  common::Time::MSleep(1000);\n   _result = true;\n }\n \n\n~~~", "markup": "markdown", "html": "<p>here's the patch I used to cause the problems:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gh\">diff -r 0cbfd42477cd gazebo/physics/JointController.cc</span>\n<span class=\"gd\">--- a/gazebo/physics/JointController.cc Mon Jul 03 10:28:59 2017 -0700</span>\n<span class=\"gi\">+++ b/gazebo/physics/JointController.cc Mon Jul 03 18:09:57 2017 -0700</span>\n<span class=\"gu\">@@ -250,6 +250,7 @@</span>\n         this-&gt;dataPtr-&gt;velPids[jointName].GetIGain());\n   }\n\n<span class=\"gi\">+  common::Time::MSleep(1000);</span>\n   _result = true;\n }\n</pre></div>", "type": "rendered"}, "created_on": "2017-07-05T18:44:36.172046+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-07-05T18:44:36.174392+00:00", "type": "pullrequest_comment", "id": 40165869}, "pull_request": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/40023559.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-40023559"}}, "parent": {"id": 40023518, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/40023518.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-40023518"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}, "content": {"raw": "maybe we need to pass check that the model name matches the current model displayed by the widget? I'm not sure if a mutex would be appropriate somewhere as well.\n\nif these concurrency issues are too complicated, we can switch back to a synchronous callback and make a feature request for an asynchronous callback\n\ncc @chapulina @caguero ", "markup": "markdown", "html": "<p>maybe we need to pass check that the model name matches the current model displayed by the widget? I'm not sure if a mutex would be appropriate somewhere as well.</p>\n<p>if these concurrency issues are too complicated, we can switch back to a synchronous callback and make a feature request for an asynchronous callback</p>\n<p>cc @chapulina @caguero </p>", "type": "rendered"}, "created_on": "2017-07-04T01:16:03.086806+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-07-04T01:16:03.100703+00:00", "type": "pullrequest_comment", "id": 40023559}, "pull_request": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/40023518.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-40023518"}}, "parent": {"id": 40011996, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/40011996.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-40011996"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}, "content": {"raw": "I think this is a great idea for improving U/I responsiveness, but I think this could introduce some concurrency issues / race conditions. To test this, I added a 1 second wait in the `JointController::OnJointCmdReq` service callback, and I can get gazebo to crash when switching between models that have PID gains set. I think the asynchronous callback may need some more checking to be added.", "markup": "markdown", "html": "<p>I think this is a great idea for improving U/I responsiveness, but I think this could introduce some concurrency issues / race conditions. To test this, I added a 1 second wait in the <code>JointController::OnJointCmdReq</code> service callback, and I can get gazebo to crash when switching between models that have PID gains set. I think the asynchronous callback may need some more checking to be added.</p>", "type": "rendered"}, "created_on": "2017-07-04T01:13:17.778446+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-07-04T01:13:17.780751+00:00", "type": "pullrequest_comment", "id": 40023518}, "pull_request": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/40011996.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-40011996"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}, "content": {"raw": "0cbfd42 modifies the joint control widget to use an asynchronous request for the `joint_cmd_req` service to avoid potentially causing the GUI to hang, as suggested by @chapulina and @caguero.", "markup": "markdown", "html": "<p><a href=\"#!/osrf/gazebo/commits/0cbfd42\" rel=\"nofollow\" class=\"ap-connect-link\">0cbfd42</a> modifies the joint control widget to use an asynchronous request for the <code>joint_cmd_req</code> service to avoid potentially causing the GUI to hang, as suggested by @chapulina and @caguero.</p>", "type": "rendered"}, "created_on": "2017-07-03T17:38:50.835791+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "updated_on": "2017-07-03T17:38:50.923024+00:00", "type": "pullrequest_comment", "id": 40011996}, "pull_request": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/40011770.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-40011770"}}, "parent": {"id": 39742300, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/39742300.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-39742300"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}, "content": {"raw": "Good idea. I've updated the message.", "markup": "markdown", "html": "<p>Good idea. I've updated the message.</p>", "type": "rendered"}, "created_on": "2017-07-03T17:32:29.563345+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "inline": {}, "updated_on": "2017-07-03T17:32:29.605561+00:00", "type": "pullrequest_comment", "id": 40011770}, "pull_request": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}}, {"update": {"description": "Issue [#295](#!/osrf/gazebo/issues/295/read-controller-joint-values-in-joint) notes that Gazebo's joint control widget does not always show the current values for the corresponding joint controllers. Specifically, if you set control parameters for a model, select a different model, and then select the original model again, the joint control widget will display the default control parameters instead of the actual parameters.\r\n\r\nMy pull request fixes the issue by allowing the `JointControlWidget` to query the `JointController` for the current control parameters. I implemented this behavior with a new service `joint_cmd_req` using `ignition::transport`. I added a node to the private data containers for both the joint controller and joint control widget in order to support the service.\r\n\r\nThe joint control widget requests the current control parameters from the joint controller when the selected model changes and then updates the display accordingly, namely the Qt spin boxes. To facilitate this I added setter functions to the classes that keep track of the spin boxes: `JointForceControl`, `JointPIDPosControl`, and `JointPIDVelControl`. These are all managed by the joint control widget. The code that calls the service and then the setter functions is in `JointControlWidget::SetModelName` because it is called when a new model is selected.\r\n\r\nI added three tests:\r\n\r\n1. The joint controller unit test now checks that the (new) service `joint_cmd_req` returns the correct control parameters.\r\n\r\n2. The joint controller integration test now checks that the control parameters can be set with the `joint_cmd` topic.\r\n\r\n3. The (new) joint control widget integration test checks that the widget reloads the correct control parameters after switching to a different model and back.", "title": "Joint control menu read current values", "destination": {"commit": {"hash": "11e3933c11f2", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/11e3933c11f2.json"}, "html": {"href": "#!/osrf/gazebo/commits/11e3933c11f2"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo8"}}, "reason": "", "source": {"commit": {"hash": "0cbfd42477cd", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pchorak/gazebo/commit/0cbfd42477cd"}, "html": {"href": "https://bitbucket.org/pchorak/gazebo/commits/0cbfd42477cd"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pchorak/gazebo"}, "html": {"href": "https://bitbucket.org/pchorak/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{7130b41e-0983-4752-9e3b-9e2c12cf1268}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "pchorak/gazebo", "uuid": "{7130b41e-0983-4752-9e3b-9e2c12cf1268}"}, "branch": {"name": "joint_control_menu_read_current_values"}}, "state": "OPEN", "author": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "date": "2017-07-03T17:29:28.734357+00:00"}, "pull_request": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/39941670.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-39941670"}}, "parent": {"id": 39743438, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/39743438.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-39743438"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}, "content": {"raw": "I definitely would try to use the asynchronous calls if possible. The UI won't be affected by a slow callback of the other side or a connectivity error.", "markup": "markdown", "html": "<p>I definitely would try to use the asynchronous calls if possible. The UI won't be affected by a slow callback of the other side or a connectivity error.</p>", "type": "rendered"}, "created_on": "2017-06-30T23:13:33.144673+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "inline": {}, "updated_on": "2017-06-30T23:13:33.148234+00:00", "type": "pullrequest_comment", "id": 39941670}, "pull_request": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/39864833.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-39864833"}}, "parent": {"id": 39864513, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/39864513.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-39864513"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}, "content": {"raw": "That is mostly due to history, there was no ignition transport back when those were implemented. \n\nWe're trying to move to the new transport system as we implement new functionality. Unfortunately this means we don't have proper guidelines / recommendations on what should be used yet. ", "markup": "markdown", "html": "<p>That is mostly due to history, there was no ignition transport back when those were implemented. </p>\n<p>We're trying to move to the new transport system as we implement new functionality. Unfortunately this means we don't have proper guidelines / recommendations on what should be used yet. </p>", "type": "rendered"}, "created_on": "2017-06-29T23:15:20.410403+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2017-06-29T23:15:20.412579+00:00", "type": "pullrequest_comment", "id": 39864833}, "pull_request": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/39864513.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-39864513"}}, "parent": {"id": 39743438, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/39743438.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-39743438"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}, "content": {"raw": "It looks like `ModelListWidget` gets most information by subscribing to gazebo topics, so maybe that is another reason in favor of a callback-based request? I can change this to an asynchronous request if that seems reasonable to everyone.", "markup": "markdown", "html": "<p>It looks like <code>ModelListWidget</code> gets most information by subscribing to gazebo topics, so maybe that is another reason in favor of a callback-based request? I can change this to an asynchronous request if that seems reasonable to everyone.</p>", "type": "rendered"}, "created_on": "2017-06-29T23:06:22.365033+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "inline": {}, "updated_on": "2017-06-29T23:06:23.924393+00:00", "type": "pullrequest_comment", "id": 39864513}, "pull_request": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/39763706.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-39763706"}}, "parent": {"id": 39750161, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/39750161.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-39750161"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}, "content": {"raw": "All very good points. I ticketed issue #2307", "markup": "markdown", "html": "<p>All very good points. I ticketed issue <a href=\"#!/osrf/gazebo/issues/2307/enable-disable-individual-joint\" rel=\"nofollow\" title=\"Enable / disable individual joint controllers through GUI\" class=\"ap-connect-link\"><s>#2307</s></a></p>", "type": "rendered"}, "created_on": "2017-06-28T20:31:04.166334+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2017-06-28T20:31:04.169384+00:00", "type": "pullrequest_comment", "id": 39763706}, "pull_request": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/39750161.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-39750161"}}, "parent": {"id": 39748840, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/39748840.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-39748840"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}, "content": {"raw": "A checkbox/button may be preferable though because it would allow disabling individual controllers. Currently the only option is to use \"reset\" to disable all controllers.", "markup": "markdown", "html": "<p>A checkbox/button may be preferable though because it would allow disabling individual controllers. Currently the only option is to use \"reset\" to disable all controllers.</p>", "type": "rendered"}, "created_on": "2017-06-28T17:11:11.119529+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "updated_on": "2017-06-28T17:11:11.195394+00:00", "type": "pullrequest_comment", "id": 39750161}, "pull_request": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/39748840.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-39748840"}}, "parent": {"id": 39746265, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/39746265.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-39746265"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}, "content": {"raw": "I was thinking about this too. One thought was to highlight the parameters when the controller is enabled, e.g.\n\nhttps://bitbucket.org/pchorak/gazebo/commits/a8acf085e432bbc697805ed2100d4ce6f1073504?at=joint_control_menu_highlight_active\n\nI was planning to create a PR for this after sorting out this one.", "markup": "markdown", "html": "<p>I was thinking about this too. One thought was to highlight the parameters when the controller is enabled, e.g.</p>\n<p><a href=\"https://bitbucket.org/pchorak/gazebo/commits/a8acf085e432bbc697805ed2100d4ce6f1073504?at=joint_control_menu_highlight_active\" rel=\"nofollow\" class=\"ap-connect-link\">https://bitbucket.org/pchorak/gazebo/commits/a8acf085e432bbc697805ed2100d4ce6f1073504?at=joint_control_menu_highlight_active</a></p>\n<p>I was planning to create a PR for this after sorting out this one.</p>", "type": "rendered"}, "created_on": "2017-06-28T16:52:13.688862+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "updated_on": "2017-06-28T16:52:38.148497+00:00", "type": "pullrequest_comment", "id": 39748840}, "pull_request": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/39746265.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-39746265"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}, "content": {"raw": "I just noticed something which doesn't need to be tackled on this pull request, I can open a new issue for it.\n\nThe moment I open the widget for the first time and go to the position or velocity tabs, the default target value is zero, but this does not mean that the current target is zero. It would be interesting to have a way to tell the difference between \"controller disabled\" and \"target == 0\". Maybe we can have a checkbox or a checkable button to choose when the controller is enabled or not?", "markup": "markdown", "html": "<p>I just noticed something which doesn't need to be tackled on this pull request, I can open a new issue for it.</p>\n<p>The moment I open the widget for the first time and go to the position or velocity tabs, the default target value is zero, but this does not mean that the current target is zero. It would be interesting to have a way to tell the difference between \"controller disabled\" and \"target == 0\". Maybe we can have a checkbox or a checkable button to choose when the controller is enabled or not?</p>", "type": "rendered"}, "created_on": "2017-06-28T16:21:27.303576+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2017-06-28T16:21:27.307053+00:00", "type": "pullrequest_comment", "id": 39746265}, "pull_request": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/39743438.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-39743438"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}, "content": {"raw": "I worry that using a synchronous call here has the potential of freezing the UI until it gets a response. \n\nI see that the `ModelListWidget` [uses](#!/osrf/gazebo/src/ebef2bfd603d4246b0a59b16f0c1374abe19490f/gazebo/gui/ModelListWidget.cc?fileviewer=file-view-default#ModelListWidget.cc-269) an asynchronous call for plugin info. But the `IntrospectionClient` (used by `gui/plot/IntrospectionCurveHandler` for example) [uses](#!/osrf/gazebo/src/ebef2bfd603d4246b0a59b16f0c1374abe19490f/gazebo/util/IntrospectionClient.cc?fileviewer=file-view-default#IntrospectionClient.cc-126) synchronous calls with a timeout of 500 (10x shorter than here). Maybe @caguero has some thoughts on this?\n\n", "markup": "markdown", "html": "<p>I worry that using a synchronous call here has the potential of freezing the UI until it gets a response. </p>\n<p>I see that the <code>ModelListWidget</code> <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/ebef2bfd603d4246b0a59b16f0c1374abe19490f/gazebo/gui/ModelListWidget.cc?fileviewer=file-view-default#ModelListWidget.cc-269\" rel=\"nofollow\">uses</a> an asynchronous call for plugin info. But the <code>IntrospectionClient</code> (used by <code>gui/plot/IntrospectionCurveHandler</code> for example) <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/ebef2bfd603d4246b0a59b16f0c1374abe19490f/gazebo/util/IntrospectionClient.cc?fileviewer=file-view-default#IntrospectionClient.cc-126\" rel=\"nofollow\">uses</a> synchronous calls with a timeout of 500 (10x shorter than here). Maybe @caguero has some thoughts on this?</p>", "type": "rendered"}, "created_on": "2017-06-28T15:50:36.265707+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2017-06-28T15:50:36.335775+00:00", "type": "pullrequest_comment", "id": 39743438}, "pull_request": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/39742300.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-39742300"}}, "parent": {"id": 39392137, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/39392137.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-39392137"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}, "content": {"raw": "Ahh good catch about the error message. I think the difference is that there, using the deprecated topic has no effect. While here, it will still work...\n\nI'm now wondering if this message should mention ign-transport or if that would be too much.", "markup": "markdown", "html": "<p>Ahh good catch about the error message. I think the difference is that there, using the deprecated topic has no effect. While here, it will still work...</p>\n<p>I'm now wondering if this message should mention ign-transport or if that would be too much.</p>", "type": "rendered"}, "created_on": "2017-06-28T15:39:23.026475+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2017-06-28T15:39:23.029057+00:00", "type": "pullrequest_comment", "id": 39742300}, "pull_request": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/39563438.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-39563438"}}, "parent": {"id": 39479603, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/39479603.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-39479603"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}, "content": {"raw": "Thanks for catching that!", "markup": "markdown", "html": "<p>Thanks for catching that!</p>", "type": "rendered"}, "created_on": "2017-06-26T16:33:31.492664+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "inline": {}, "updated_on": "2017-06-26T16:33:31.539192+00:00", "type": "pullrequest_comment", "id": 39563438}, "pull_request": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}}, {"update": {"description": "Issue [#295](#!/osrf/gazebo/issues/295/read-controller-joint-values-in-joint) notes that Gazebo's joint control widget does not always show the current values for the corresponding joint controllers. Specifically, if you set control parameters for a model, select a different model, and then select the original model again, the joint control widget will display the default control parameters instead of the actual parameters.\r\n\r\nMy pull request fixes the issue by allowing the `JointControlWidget` to query the `JointController` for the current control parameters. I implemented this behavior with a new service `joint_cmd_req` using `ignition::transport`. I added a node to the private data containers for both the joint controller and joint control widget in order to support the service.\r\n\r\nThe joint control widget requests the current control parameters from the joint controller when the selected model changes and then updates the display accordingly, namely the Qt spin boxes. To facilitate this I added setter functions to the classes that keep track of the spin boxes: `JointForceControl`, `JointPIDPosControl`, and `JointPIDVelControl`. These are all managed by the joint control widget. The code that calls the service and then the setter functions is in `JointControlWidget::SetModelName` because it is called when a new model is selected.\r\n\r\nI added three tests:\r\n\r\n1. The joint controller unit test now checks that the (new) service `joint_cmd_req` returns the correct control parameters.\r\n\r\n2. The joint controller integration test now checks that the control parameters can be set with the `joint_cmd` topic.\r\n\r\n3. The (new) joint control widget integration test checks that the widget reloads the correct control parameters after switching to a different model and back.", "title": "Joint control menu read current values", "destination": {"commit": {"hash": "0dfd66af2dd0", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/0dfd66af2dd0.json"}, "html": {"href": "#!/osrf/gazebo/commits/0dfd66af2dd0"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo8"}}, "reason": "", "source": {"commit": {"hash": "e25433780fd7", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pchorak/gazebo/commit/e25433780fd7"}, "html": {"href": "https://bitbucket.org/pchorak/gazebo/commits/e25433780fd7"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pchorak/gazebo"}, "html": {"href": "https://bitbucket.org/pchorak/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{7130b41e-0983-4752-9e3b-9e2c12cf1268}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "pchorak/gazebo", "uuid": "{7130b41e-0983-4752-9e3b-9e2c12cf1268}"}, "branch": {"name": "joint_control_menu_read_current_values"}}, "state": "OPEN", "author": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "date": "2017-06-26T16:32:45.237235+00:00"}, "pull_request": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/39479603.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-39479603"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}, "content": {"raw": "nitpick `_p_gain` ---camel case---> `_pGain`", "markup": "markdown", "html": "<p>nitpick <code>_p_gain</code> ---camel case---&gt; <code>_pGain</code></p>", "type": "rendered"}, "created_on": "2017-06-23T19:08:27.213651+00:00", "user": {"display_name": "Shane Loretz", "uuid": "{656e3311-aad9-45a1-aaf7-b0ee0e84b287}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D"}, "html": {"href": "https://bitbucket.org/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:684383ab-ac95-4859-a350-4a6f41a94a22/c7a1ebf5-cade-4115-9f26-9d3facb776db/128"}}, "nickname": "Shane Loretz", "type": "user", "account_id": "557058:684383ab-ac95-4859-a350-4a6f41a94a22"}, "inline": {}, "updated_on": "2017-06-23T19:08:27.216235+00:00", "type": "pullrequest_comment", "id": 39479603}, "pull_request": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/39324771.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-39324771"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}, "content": {"raw": "What do you think about making this into a `gzwarn`? If I understood, the call will still work, right?\n\nAlso, just a clarification, is the intention to completely remove this on Gazebo 9 / default?", "markup": "markdown", "html": "<p>What do you think about making this into a <code>gzwarn</code>? If I understood, the call will still work, right?</p>\n<p>Also, just a clarification, is the intention to completely remove this on Gazebo 9 / default?</p>", "type": "rendered"}, "created_on": "2017-06-22T00:14:04.114159+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2017-06-22T00:14:04.116541+00:00", "type": "pullrequest_comment", "id": 39324771}, "pull_request": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}}, {"update": {"description": "Issue [#295](#!/osrf/gazebo/issues/295/read-controller-joint-values-in-joint) notes that Gazebo's joint control widget does not always show the current values for the corresponding joint controllers. Specifically, if you set control parameters for a model, select a different model, and then select the original model again, the joint control widget will display the default control parameters instead of the actual parameters.\r\n\r\nMy pull request fixes the issue by allowing the `JointControlWidget` to query the `JointController` for the current control parameters. I implemented this behavior with a new service `joint_cmd_req` using `ignition::transport`. I added a node to the private data containers for both the joint controller and joint control widget in order to support the service.\r\n\r\nThe joint control widget requests the current control parameters from the joint controller when the selected model changes and then updates the display accordingly, namely the Qt spin boxes. To facilitate this I added setter functions to the classes that keep track of the spin boxes: `JointForceControl`, `JointPIDPosControl`, and `JointPIDVelControl`. These are all managed by the joint control widget. The code that calls the service and then the setter functions is in `JointControlWidget::SetModelName` because it is called when a new model is selected.\r\n\r\nI added three tests:\r\n\r\n1. The joint controller unit test now checks that the (new) service `joint_cmd_req` returns the correct control parameters.\r\n\r\n2. The joint controller integration test now checks that the control parameters can be set with the `joint_cmd` topic.\r\n\r\n3. The (new) joint control widget integration test checks that the widget reloads the correct control parameters after switching to a different model and back.", "title": "Joint control menu read current values", "destination": {"commit": {"hash": "0a80f1091857", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/0a80f1091857.json"}, "html": {"href": "#!/osrf/gazebo/commits/0a80f1091857"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo8"}}, "reason": "", "source": {"commit": {"hash": "49ac99ce26e3", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pchorak/gazebo/commit/49ac99ce26e3"}, "html": {"href": "https://bitbucket.org/pchorak/gazebo/commits/49ac99ce26e3"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pchorak/gazebo"}, "html": {"href": "https://bitbucket.org/pchorak/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{7130b41e-0983-4752-9e3b-9e2c12cf1268}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "pchorak/gazebo", "uuid": "{7130b41e-0983-4752-9e3b-9e2c12cf1268}"}, "branch": {"name": "joint_control_menu_read_current_values"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2017-06-20T20:28:06.617167+00:00"}, "pull_request": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}}, {"update": {"description": "Issue [#295](#!/osrf/gazebo/issues/295/read-controller-joint-values-in-joint) notes that Gazebo's joint control widget does not always show the current values for the corresponding joint controllers. Specifically, if you set control parameters for a model, select a different model, and then select the original model again, the joint control widget will display the default control parameters instead of the actual parameters.\r\n\r\nMy pull request fixes the issue by allowing the `JointControlWidget` to query the `JointController` for the current control parameters. I implemented this behavior with a new service `joint_cmd_req` using `ignition::transport`. I added a node to the private data containers for both the joint controller and joint control widget in order to support the service.\r\n\r\nThe joint control widget requests the current control parameters from the joint controller when the selected model changes and then updates the display accordingly, namely the Qt spin boxes. To facilitate this I added setter functions to the classes that keep track of the spin boxes: `JointForceControl`, `JointPIDPosControl`, and `JointPIDVelControl`. These are all managed by the joint control widget. The code that calls the service and then the setter functions is in `JointControlWidget::SetModelName` because it is called when a new model is selected.\r\n\r\nI added three tests:\r\n\r\n1. The joint controller unit test now checks that the (new) service `joint_cmd_req` returns the correct control parameters.\r\n\r\n2. The joint controller integration test now checks that the control parameters can be set with the `joint_cmd` topic.\r\n\r\n3. The (new) joint control widget integration test checks that the widget reloads the correct control parameters after switching to a different model and back.", "title": "Joint control menu read current values", "destination": {"commit": {"hash": "0a80f1091857", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/0a80f1091857.json"}, "html": {"href": "#!/osrf/gazebo/commits/0a80f1091857"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo8"}}, "reason": "", "source": {"commit": {"hash": "49ac99ce26e3", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pchorak/gazebo/commit/49ac99ce26e3"}, "html": {"href": "https://bitbucket.org/pchorak/gazebo/commits/49ac99ce26e3"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pchorak/gazebo"}, "html": {"href": "https://bitbucket.org/pchorak/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{7130b41e-0983-4752-9e3b-9e2c12cf1268}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "pchorak/gazebo", "uuid": "{7130b41e-0983-4752-9e3b-9e2c12cf1268}"}, "branch": {"name": "joint_control_menu_read_current_values"}}, "state": "OPEN", "author": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "date": "2017-06-20T17:42:38.038316+00:00"}, "pull_request": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/39206275.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-39206275"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}, "content": {"raw": "whoops, while I was standing over your shoulder, I didn't notice that this entry got duplicated (it's also on line 17)", "markup": "markdown", "html": "<p>whoops, while I was standing over your shoulder, I didn't notice that this entry got duplicated (it's also on line 17)</p>", "type": "rendered"}, "created_on": "2017-06-20T17:39:25.119193+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2017-06-20T17:39:25.121521+00:00", "type": "pullrequest_comment", "id": 39206275}, "pull_request": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}}, {"update": {"description": "Issue [#295](#!/osrf/gazebo/issues/295/read-controller-joint-values-in-joint) notes that Gazebo's joint control widget does not always show the current values for the corresponding joint controllers. Specifically, if you set control parameters for a model, select a different model, and then select the original model again, the joint control widget will display the default control parameters instead of the actual parameters.\r\n\r\nMy pull request fixes the issue by allowing the `JointControlWidget` to query the `JointController` for the current control parameters. I implemented this behavior with a new service `joint_cmd_req` using `ignition::transport`. I added a node to the private data containers for both the joint controller and joint control widget in order to support the service.\r\n\r\nThe joint control widget requests the current control parameters from the joint controller when the selected model changes and then updates the display accordingly, namely the Qt spin boxes. To facilitate this I added setter functions to the classes that keep track of the spin boxes: `JointForceControl`, `JointPIDPosControl`, and `JointPIDVelControl`. These are all managed by the joint control widget. The code that calls the service and then the setter functions is in `JointControlWidget::SetModelName` because it is called when a new model is selected.\r\n\r\nI added three tests:\r\n\r\n1. The joint controller unit test now checks that the (new) service `joint_cmd_req` returns the correct control parameters.\r\n\r\n2. The joint controller integration test now checks that the control parameters can be set with the `joint_cmd` topic.\r\n\r\n3. The (new) joint control widget integration test checks that the widget reloads the correct control parameters after switching to a different model and back.", "title": "Joint control menu read current values", "destination": {"commit": {"hash": "0a80f1091857", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/0a80f1091857.json"}, "html": {"href": "#!/osrf/gazebo/commits/0a80f1091857"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo8"}}, "reason": "", "source": {"commit": {"hash": "87e01e0eb061", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pchorak/gazebo/commit/87e01e0eb061"}, "html": {"href": "https://bitbucket.org/pchorak/gazebo/commits/87e01e0eb061"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pchorak/gazebo"}, "html": {"href": "https://bitbucket.org/pchorak/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{7130b41e-0983-4752-9e3b-9e2c12cf1268}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "pchorak/gazebo", "uuid": "{7130b41e-0983-4752-9e3b-9e2c12cf1268}"}, "branch": {"name": "joint_control_menu_read_current_values"}}, "state": "OPEN", "author": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "date": "2017-06-20T17:34:03.834285+00:00"}, "pull_request": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}}, {"update": {"description": "Issue [#295](#!/osrf/gazebo/issues/295/read-controller-joint-values-in-joint) notes that Gazebo's joint control widget does not always show the current values for the corresponding joint controllers. Specifically, if you set control parameters for a model, select a different model, and then select the original model again, the joint control widget will display the default control parameters instead of the actual parameters.\r\n\r\nMy pull request fixes the issue by allowing the `JointControlWidget` to query the `JointController` for the current control parameters. I implemented this behavior with a new service `joint_cmd_req` using `ignition::transport`. I added a node to the private data containers for both the joint controller and joint control widget in order to support the service.\r\n\r\nThe joint control widget requests the current control parameters from the joint controller when the selected model changes and then updates the display accordingly, namely the Qt spin boxes. To facilitate this I added setter functions to the classes that keep track of the spin boxes: `JointForceControl`, `JointPIDPosControl`, and `JointPIDVelControl`. These are all managed by the joint control widget. The code that calls the service and then the setter functions is in `JointControlWidget::SetModelName` because it is called when a new model is selected.\r\n\r\nI added three tests:\r\n\r\n1. The joint controller unit test now checks that the (new) service `joint_cmd_req` returns the correct control parameters.\r\n\r\n2. The joint controller integration test now checks that the control parameters can be set with the `joint_cmd` topic.\r\n\r\n3. The (new) joint control widget integration test checks that the widget reloads the correct control parameters after switching to a different model and back.", "title": "Joint control menu read current values", "destination": {"commit": {"hash": "0a80f1091857", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/0a80f1091857.json"}, "html": {"href": "#!/osrf/gazebo/commits/0a80f1091857"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo8"}}, "reason": "", "source": {"commit": {"hash": "09f8d2eb141d", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pchorak/gazebo/commit/09f8d2eb141d"}, "html": {"href": "https://bitbucket.org/pchorak/gazebo/commits/09f8d2eb141d"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pchorak/gazebo"}, "html": {"href": "https://bitbucket.org/pchorak/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{7130b41e-0983-4752-9e3b-9e2c12cf1268}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "pchorak/gazebo", "uuid": "{7130b41e-0983-4752-9e3b-9e2c12cf1268}"}, "branch": {"name": "joint_control_menu_read_current_values"}}, "state": "OPEN", "author": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "date": "2017-06-20T00:51:20.298233+00:00"}, "pull_request": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/39129328.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-39129328"}}, "parent": {"id": 38693649, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/38693649.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-38693649"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}, "content": {"raw": "I have updated the `joint_control_widget` integration test to use a nested model: `nested_joint_test.world`. I confirmed that the test fails for the version before the updates to use scoped names.", "markup": "markdown", "html": "<p>I have updated the <code>joint_control_widget</code> integration test to use a nested model: <code>nested_joint_test.world</code>. I confirmed that the test fails for the version before the updates to use scoped names.</p>", "type": "rendered"}, "created_on": "2017-06-20T00:26:58.131673+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "inline": {}, "updated_on": "2017-06-20T00:26:58.199102+00:00", "type": "pullrequest_comment", "id": 39129328}, "pull_request": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}}, {"update": {"description": "Issue [#295](#!/osrf/gazebo/issues/295/read-controller-joint-values-in-joint) notes that Gazebo's joint control widget does not always show the current values for the corresponding joint controllers. Specifically, if you set control parameters for a model, select a different model, and then select the original model again, the joint control widget will display the default control parameters instead of the actual parameters.\r\n\r\nMy pull request fixes the issue by allowing the `JointControlWidget` to query the `JointController` for the current control parameters. I implemented this behavior with a new service `joint_cmd_req` using `ignition::transport`. I added a node to the private data containers for both the joint controller and joint control widget in order to support the service.\r\n\r\nThe joint control widget requests the current control parameters from the joint controller when the selected model changes and then updates the display accordingly, namely the Qt spin boxes. To facilitate this I added setter functions to the classes that keep track of the spin boxes: `JointForceControl`, `JointPIDPosControl`, and `JointPIDVelControl`. These are all managed by the joint control widget. The code that calls the service and then the setter functions is in `JointControlWidget::SetModelName` because it is called when a new model is selected.\r\n\r\nI added three tests:\r\n\r\n1. The joint controller unit test now checks that the (new) service `joint_cmd_req` returns the correct control parameters.\r\n\r\n2. The joint controller integration test now checks that the control parameters can be set with the `joint_cmd` topic.\r\n\r\n3. The (new) joint control widget integration test checks that the widget reloads the correct control parameters after switching to a different model and back.", "title": "Joint control menu read current values", "destination": {"commit": {"hash": "0a80f1091857", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/0a80f1091857.json"}, "html": {"href": "#!/osrf/gazebo/commits/0a80f1091857"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo8"}}, "reason": "", "source": {"commit": {"hash": "3d63c6e7cbb2", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pchorak/gazebo/commit/3d63c6e7cbb2"}, "html": {"href": "https://bitbucket.org/pchorak/gazebo/commits/3d63c6e7cbb2"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pchorak/gazebo"}, "html": {"href": "https://bitbucket.org/pchorak/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{7130b41e-0983-4752-9e3b-9e2c12cf1268}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "pchorak/gazebo", "uuid": "{7130b41e-0983-4752-9e3b-9e2c12cf1268}"}, "branch": {"name": "joint_control_menu_read_current_values"}}, "state": "OPEN", "author": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "date": "2017-06-20T00:14:54.682715+00:00"}, "pull_request": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730/comments/39125804.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730/_/diff#comment-39125804"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}, "content": {"raw": "@scpeters pointed out that the new `joint_cmd_req` service does not use scoped model names when constructing the service name. In fact, both the `joint_cmd` topic and `joint_cmd_req` service are defined with scoped model names in the joint control widget but non-scoped names in the joint controller, so the joint control GUI does not work for nested models.\n\nI fixed this issue in 5f493b8 and 0aa4801. I added a new `joint_cmd` topic using ignition transport and updated it and the service to use scoped names in both the joint control widget and joint controller. It is still possible to set the joint controller using the gazebo transport `joint_cmd` topic, but I added a message to indicate that it is deprecated.", "markup": "markdown", "html": "<p>@scpeters pointed out that the new <code>joint_cmd_req</code> service does not use scoped model names when constructing the service name. In fact, both the <code>joint_cmd</code> topic and <code>joint_cmd_req</code> service are defined with scoped model names in the joint control widget but non-scoped names in the joint controller, so the joint control GUI does not work for nested models.</p>\n<p>I fixed this issue in <a href=\"#!/osrf/gazebo/commits/5f493b8\" rel=\"nofollow\" class=\"ap-connect-link\">5f493b8</a> and <a href=\"#!/osrf/gazebo/commits/0aa4801\" rel=\"nofollow\" class=\"ap-connect-link\">0aa4801</a>. I added a new <code>joint_cmd</code> topic using ignition transport and updated it and the service to use scoped names in both the joint control widget and joint controller. It is still possible to set the joint controller using the gazebo transport <code>joint_cmd</code> topic, but I added a message to indicate that it is deprecated.</p>", "type": "rendered"}, "created_on": "2017-06-19T22:43:34.186322+00:00", "user": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "updated_on": "2017-06-19T22:43:34.265109+00:00", "type": "pullrequest_comment", "id": 39125804}, "pull_request": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}}, {"update": {"description": "Issue [#295](#!/osrf/gazebo/issues/295/read-controller-joint-values-in-joint) notes that Gazebo's joint control widget does not always show the current values for the corresponding joint controllers. Specifically, if you set control parameters for a model, select a different model, and then select the original model again, the joint control widget will display the default control parameters instead of the actual parameters.\r\n\r\nMy pull request fixes the issue by allowing the `JointControlWidget` to query the `JointController` for the current control parameters. I implemented this behavior with a new service `joint_cmd_req` using `ignition::transport`. I added a node to the private data containers for both the joint controller and joint control widget in order to support the service.\r\n\r\nThe joint control widget requests the current control parameters from the joint controller when the selected model changes and then updates the display accordingly, namely the Qt spin boxes. To facilitate this I added setter functions to the classes that keep track of the spin boxes: `JointForceControl`, `JointPIDPosControl`, and `JointPIDVelControl`. These are all managed by the joint control widget. The code that calls the service and then the setter functions is in `JointControlWidget::SetModelName` because it is called when a new model is selected.\r\n\r\nI added three tests:\r\n\r\n1. The joint controller unit test now checks that the (new) service `joint_cmd_req` returns the correct control parameters.\r\n\r\n2. The joint controller integration test now checks that the control parameters can be set with the `joint_cmd` topic.\r\n\r\n3. The (new) joint control widget integration test checks that the widget reloads the correct control parameters after switching to a different model and back.", "title": "Joint control menu read current values", "destination": {"commit": {"hash": "0a80f1091857", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/0a80f1091857.json"}, "html": {"href": "#!/osrf/gazebo/commits/0a80f1091857"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "branch": {"name": "gazebo8"}}, "reason": "", "source": {"commit": {"hash": "3c101eb457ac", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pchorak/gazebo/commit/3c101eb457ac"}, "html": {"href": "https://bitbucket.org/pchorak/gazebo/commits/3c101eb457ac"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pchorak/gazebo"}, "html": {"href": "https://bitbucket.org/pchorak/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{7130b41e-0983-4752-9e3b-9e2c12cf1268}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo", "full_name": "pchorak/gazebo", "uuid": "{7130b41e-0983-4752-9e3b-9e2c12cf1268}"}, "branch": {"name": "joint_control_menu_read_current_values"}}, "state": "OPEN", "author": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "date": "2017-06-19T22:05:55.742110+00:00"}, "pull_request": {"type": "pullrequest", "id": 2730, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2730.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2730"}}, "title": "Joint control menu read current values"}}], "next": "data/repositories/osrf/gazebo/pullrequests/2730/activity_ctx=GxfnrHKHA.json"}