{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/671/comments/497576.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/671/_/diff#comment-497576"}}, "parent": {"id": 496475, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/671/comments/496475.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/671/_/diff#comment-496475"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 671, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/671.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/671"}}, "title": "Update pull request tool and add quick_check script"}, "content": {"raw": "I split up the functionality because it was easier to write the REST client and json parsing in ruby, and it was easier to do the code check in bash.\n\nAlso, I've noticed that there can be a short delay between updating a pull request and seeing a response from the bitbucket command line tool. So it can be easier to manually paste in an updated changeset hash, ie:\n~~~\necho 671\tnew_changeset_hash\t0332ac8db9b7\tpullrequest_analysis | bash tools/quick_check.bash\n~~~\nOr if there are internet connectivity issues or bitbucket is down, it's nice to be able to re-run the quick check without having to ping bitbucket.\n\nWe can make a 3rd command to save typing: `easy_quick_check -s 648`\n~~~\n#!/bin/bash\nhg_root=`hg root`\n$hg_root/tools/bitbucket_pullrequests $@ | bash $hg_root/tools/quick_check.bash\n~~~", "markup": "markdown", "html": "<p>I split up the functionality because it was easier to write the REST client and json parsing in ruby, and it was easier to do the code check in bash.</p>\n<p>Also, I've noticed that there can be a short delay between updating a pull request and seeing a response from the bitbucket command line tool. So it can be easier to manually paste in an updated changeset hash, ie:</p>\n<div class=\"codehilite\"><pre><span></span>echo 671    new_changeset_hash  0332ac8db9b7    pullrequest_analysis | bash tools/quick_check.bash\n</pre></div>\n\n\n<p>Or if there are internet connectivity issues or bitbucket is down, it's nice to be able to re-run the quick check without having to ping bitbucket.</p>\n<p>We can make a 3rd command to save typing: <code>easy_quick_check -s 648</code></p>\n<div class=\"codehilite language-bash\"><pre><span></span><span class=\"ch\">#!/bin/bash</span>\n<span class=\"nv\">hg_root</span><span class=\"o\">=</span><span class=\"sb\">`</span>hg root<span class=\"sb\">`</span>\n<span class=\"nv\">$hg_root</span>/tools/bitbucket_pullrequests <span class=\"nv\">$@</span> <span class=\"p\">|</span> bash <span class=\"nv\">$hg_root</span>/tools/quick_check.bash\n</pre></div>", "type": "rendered"}, "created_on": "2013-08-23T18:27:19.156120+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2013-08-23T18:27:19.165884+00:00", "type": "pullrequest_comment", "id": 497576}