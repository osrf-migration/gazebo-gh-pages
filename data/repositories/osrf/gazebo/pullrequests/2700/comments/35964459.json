{"links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2700/comments/35964459.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2700/_/diff#comment-35964459"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2700, "links": {"self": {"href": "data/repositories/osrf/gazebo/pullrequests/2700.json"}, "html": {"href": "#!/osrf/gazebo/pull-requests/2700"}}, "title": "Remove preprocessor definition of `BUILDING_DLL`"}, "content": {"raw": "I noticed this because I was getting cryptic linking errors on VS2015, such as:\n~~~\nCreating library C:/gazebo-superbuild/build/osrf/gazebo/gazebo/common/Debug/UNIT_SphericalCoordinates_TEST.lib and object C:/gazebo-superbuild/build/osrf/gazebo/gazebo/common/Debug/UNIT_SphericalCoordinates_TEST.exp\nSphericalCoordinates_TEST.obj : error LNK2001: unresolved external symbol \"public: static class ignition::math::Angle const ignition::math::Angle::HalfPi\" (?HalfPi@Angle@math@ignition@@2V123@B) [C:\\gazebo-superbuild\\build\\osrf\\gazebo\\gazebo\\common\\UNIT_SphericalCoordinates_TEST.vcxproj]\nC:\\gazebo-superbuild\\build\\osrf\\gazebo\\gazebo\\common\\Debug\\UNIT_SphericalCoordinates_TEST.exe : fatal error LNK1120: 1 unresolved externals [C:\\gazebo-superbuild\\build\\osrf\\gazebo\\gazebo\\common\\UNIT_SphericalCoordinates_TEST.vcxproj]\nDone Building Project \"C:\\gazebo-superbuild\\build\\osrf\\gazebo\\gazebo\\common\\UNIT_SphericalCoordinates_TEST.vcxproj\" (default targets) -- FAILED.\n\nBuild FAILED.\n\n\"C:\\gazebo-superbuild\\build\\osrf\\gazebo\\gazebo\\common\\UNIT_SphericalCoordinates_TEST.vcxproj\" (default target) (1) ->\n(Link target) ->\n  SphericalCoordinates_TEST.obj : error LNK2001: unresolved external symbol \"public: static class ignition::math::Angle const ignition::math::Angle::HalfPi\" (?HalfPi@Angle@math@ignition@@2V123@B) [C:\\gazebo-superbuild\\build\\osrf\\gazebo\\gazebo\\common\\UNIT_SphericalCoordinates_TEST.vcxproj]\n  C:\\gazebo-superbuild\\build\\osrf\\gazebo\\gazebo\\common\\Debug\\UNIT_SphericalCoordinates_TEST.exe : fatal error LNK1120: 1 unresolved externals [C:\\gazebo-superbuild\\build\\osrf\\gazebo\\gazebo\\common\\UNIT_SphericalCoordinates_TEST.vcxproj]\n\n    0 Warning(s)\n    2 Error(s)\n~~~", "markup": "markdown", "html": "<p>I noticed this because I was getting cryptic linking errors on VS2015, such as:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">Creating</span> <span class=\"n\">library</span> <span class=\"nl\">C</span><span class=\"p\">:</span><span class=\"o\">/</span><span class=\"n\">gazebo</span><span class=\"o\">-</span><span class=\"n\">superbuild</span><span class=\"o\">/</span><span class=\"n\">build</span><span class=\"o\">/</span><span class=\"n\">osrf</span><span class=\"o\">/</span><span class=\"n\">gazebo</span><span class=\"o\">/</span><span class=\"n\">gazebo</span><span class=\"o\">/</span><span class=\"n\">common</span><span class=\"o\">/</span><span class=\"n\">Debug</span><span class=\"o\">/</span><span class=\"n\">UNIT_SphericalCoordinates_TEST</span><span class=\"p\">.</span><span class=\"n\">lib</span> <span class=\"n\">and</span> <span class=\"n\">object</span> <span class=\"nl\">C</span><span class=\"p\">:</span><span class=\"o\">/</span><span class=\"n\">gazebo</span><span class=\"o\">-</span><span class=\"n\">superbuild</span><span class=\"o\">/</span><span class=\"n\">build</span><span class=\"o\">/</span><span class=\"n\">osrf</span><span class=\"o\">/</span><span class=\"n\">gazebo</span><span class=\"o\">/</span><span class=\"n\">gazebo</span><span class=\"o\">/</span><span class=\"n\">common</span><span class=\"o\">/</span><span class=\"n\">Debug</span><span class=\"o\">/</span><span class=\"n\">UNIT_SphericalCoordinates_TEST</span><span class=\"p\">.</span><span class=\"n\">exp</span>\n<span class=\"n\">SphericalCoordinates_TEST</span><span class=\"p\">.</span><span class=\"nl\">obj</span> <span class=\"p\">:</span> <span class=\"n\">error</span> <span class=\"nl\">LNK2001</span><span class=\"p\">:</span> <span class=\"n\">unresolved</span> <span class=\"n\">external</span> <span class=\"n\">symbol</span> <span class=\"s\">&quot;public: static class ignition::math::Angle const ignition::math::Angle::HalfPi&quot;</span> <span class=\"p\">(</span><span class=\"o\">?</span><span class=\"n\">HalfPi</span><span class=\"p\">@</span><span class=\"n\">Angle</span><span class=\"p\">@</span><span class=\"n\">math</span><span class=\"p\">@</span><span class=\"n\">ignition</span><span class=\"p\">@</span><span class=\"mi\">@2</span><span class=\"n\">V123</span><span class=\"p\">@</span><span class=\"n\">B</span><span class=\"p\">)</span> <span class=\"p\">[</span><span class=\"nl\">C</span><span class=\"p\">:</span><span class=\"err\">\\</span><span class=\"n\">gazebo</span><span class=\"o\">-</span><span class=\"n\">superbuild</span><span class=\"err\">\\</span><span class=\"n\">build</span><span class=\"err\">\\</span><span class=\"n\">osrf</span><span class=\"err\">\\</span><span class=\"n\">gazebo</span><span class=\"err\">\\</span><span class=\"n\">gazebo</span><span class=\"err\">\\</span><span class=\"n\">common</span><span class=\"err\">\\</span><span class=\"n\">UNIT_SphericalCoordinates_TEST</span><span class=\"p\">.</span><span class=\"n\">vcxproj</span><span class=\"p\">]</span>\n<span class=\"nl\">C</span><span class=\"p\">:</span><span class=\"err\">\\</span><span class=\"n\">gazebo</span><span class=\"o\">-</span><span class=\"n\">superbuild</span><span class=\"err\">\\</span><span class=\"n\">build</span><span class=\"err\">\\</span><span class=\"n\">osrf</span><span class=\"err\">\\</span><span class=\"n\">gazebo</span><span class=\"err\">\\</span><span class=\"n\">gazebo</span><span class=\"err\">\\</span><span class=\"n\">common</span><span class=\"err\">\\</span><span class=\"n\">Debug</span><span class=\"err\">\\</span><span class=\"n\">UNIT_SphericalCoordinates_TEST</span><span class=\"p\">.</span><span class=\"nl\">exe</span> <span class=\"p\">:</span> <span class=\"n\">fatal</span> <span class=\"n\">error</span> <span class=\"nl\">LNK1120</span><span class=\"p\">:</span> <span class=\"mi\">1</span> <span class=\"n\">unresolved</span> <span class=\"n\">externals</span> <span class=\"p\">[</span><span class=\"nl\">C</span><span class=\"p\">:</span><span class=\"err\">\\</span><span class=\"n\">gazebo</span><span class=\"o\">-</span><span class=\"n\">superbuild</span><span class=\"err\">\\</span><span class=\"n\">build</span><span class=\"err\">\\</span><span class=\"n\">osrf</span><span class=\"err\">\\</span><span class=\"n\">gazebo</span><span class=\"err\">\\</span><span class=\"n\">gazebo</span><span class=\"err\">\\</span><span class=\"n\">common</span><span class=\"err\">\\</span><span class=\"n\">UNIT_SphericalCoordinates_TEST</span><span class=\"p\">.</span><span class=\"n\">vcxproj</span><span class=\"p\">]</span>\n<span class=\"n\">Done</span> <span class=\"n\">Building</span> <span class=\"n\">Project</span> <span class=\"s\">&quot;C:\\gazebo-superbuild</span><span class=\"se\">\\b</span><span class=\"s\">uild\\osrf\\gazebo\\gazebo\\common\\UNIT_SphericalCoordinates_TEST.vcxproj&quot;</span> <span class=\"p\">(</span><span class=\"k\">default</span> <span class=\"n\">targets</span><span class=\"p\">)</span> <span class=\"o\">--</span> <span class=\"n\">FAILED</span><span class=\"p\">.</span>\n\n<span class=\"n\">Build</span> <span class=\"n\">FAILED</span><span class=\"p\">.</span>\n\n<span class=\"s\">&quot;C:\\gazebo-superbuild</span><span class=\"se\">\\b</span><span class=\"s\">uild\\osrf\\gazebo\\gazebo\\common\\UNIT_SphericalCoordinates_TEST.vcxproj&quot;</span> <span class=\"p\">(</span><span class=\"k\">default</span> <span class=\"n\">target</span><span class=\"p\">)</span> <span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">)</span> <span class=\"o\">-&gt;</span>\n<span class=\"p\">(</span><span class=\"n\">Link</span> <span class=\"n\">target</span><span class=\"p\">)</span> <span class=\"o\">-&gt;</span>\n  <span class=\"n\">SphericalCoordinates_TEST</span><span class=\"p\">.</span><span class=\"nl\">obj</span> <span class=\"p\">:</span> <span class=\"n\">error</span> <span class=\"nl\">LNK2001</span><span class=\"p\">:</span> <span class=\"n\">unresolved</span> <span class=\"n\">external</span> <span class=\"n\">symbol</span> <span class=\"s\">&quot;public: static class ignition::math::Angle const ignition::math::Angle::HalfPi&quot;</span> <span class=\"p\">(</span><span class=\"o\">?</span><span class=\"n\">HalfPi</span><span class=\"p\">@</span><span class=\"n\">Angle</span><span class=\"p\">@</span><span class=\"n\">math</span><span class=\"p\">@</span><span class=\"n\">ignition</span><span class=\"p\">@</span><span class=\"mi\">@2</span><span class=\"n\">V123</span><span class=\"p\">@</span><span class=\"n\">B</span><span class=\"p\">)</span> <span class=\"p\">[</span><span class=\"nl\">C</span><span class=\"p\">:</span><span class=\"err\">\\</span><span class=\"n\">gazebo</span><span class=\"o\">-</span><span class=\"n\">superbuild</span><span class=\"err\">\\</span><span class=\"n\">build</span><span class=\"err\">\\</span><span class=\"n\">osrf</span><span class=\"err\">\\</span><span class=\"n\">gazebo</span><span class=\"err\">\\</span><span class=\"n\">gazebo</span><span class=\"err\">\\</span><span class=\"n\">common</span><span class=\"err\">\\</span><span class=\"n\">UNIT_SphericalCoordinates_TEST</span><span class=\"p\">.</span><span class=\"n\">vcxproj</span><span class=\"p\">]</span>\n  <span class=\"nl\">C</span><span class=\"p\">:</span><span class=\"err\">\\</span><span class=\"n\">gazebo</span><span class=\"o\">-</span><span class=\"n\">superbuild</span><span class=\"err\">\\</span><span class=\"n\">build</span><span class=\"err\">\\</span><span class=\"n\">osrf</span><span class=\"err\">\\</span><span class=\"n\">gazebo</span><span class=\"err\">\\</span><span class=\"n\">gazebo</span><span class=\"err\">\\</span><span class=\"n\">common</span><span class=\"err\">\\</span><span class=\"n\">Debug</span><span class=\"err\">\\</span><span class=\"n\">UNIT_SphericalCoordinates_TEST</span><span class=\"p\">.</span><span class=\"nl\">exe</span> <span class=\"p\">:</span> <span class=\"n\">fatal</span> <span class=\"n\">error</span> <span class=\"nl\">LNK1120</span><span class=\"p\">:</span> <span class=\"mi\">1</span> <span class=\"n\">unresolved</span> <span class=\"n\">externals</span> <span class=\"p\">[</span><span class=\"nl\">C</span><span class=\"p\">:</span><span class=\"err\">\\</span><span class=\"n\">gazebo</span><span class=\"o\">-</span><span class=\"n\">superbuild</span><span class=\"err\">\\</span><span class=\"n\">build</span><span class=\"err\">\\</span><span class=\"n\">osrf</span><span class=\"err\">\\</span><span class=\"n\">gazebo</span><span class=\"err\">\\</span><span class=\"n\">gazebo</span><span class=\"err\">\\</span><span class=\"n\">common</span><span class=\"err\">\\</span><span class=\"n\">UNIT_SphericalCoordinates_TEST</span><span class=\"p\">.</span><span class=\"n\">vcxproj</span><span class=\"p\">]</span>\n\n    <span class=\"mi\">0</span> <span class=\"n\">Warning</span><span class=\"p\">(</span><span class=\"n\">s</span><span class=\"p\">)</span>\n    <span class=\"mi\">2</span> <span class=\"n\">Error</span><span class=\"p\">(</span><span class=\"n\">s</span><span class=\"p\">)</span>\n</pre></div>", "type": "rendered"}, "created_on": "2017-04-29T21:29:19.057434+00:00", "user": {"display_name": "Silvio Traversaro", "uuid": "{34f404cb-5642-4f27-a032-e04c7143d776}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D"}, "html": {"href": "https://bitbucket.org/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6/578caaa1-056c-45a2-8bf9-bee94c3bebef/128"}}, "nickname": "traversaro", "type": "user", "account_id": "557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6"}, "updated_on": "2017-04-29T21:29:19.203036+00:00", "type": "pullrequest_comment", "id": 35964459}