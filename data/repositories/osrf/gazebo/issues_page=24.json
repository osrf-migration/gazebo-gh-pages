{"next": "data/repositories/osrf/gazebo/issues_page=25.json", "values": [{"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2302/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2302.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2302/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2302/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2302/gazebo-apply-force-torque-not-working-with"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2302/vote"}}, "reporter": {"display_name": "yeshasvitvs", "uuid": "{794fe1af-668d-47a4-a1b4-472721ab242c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B794fe1af-668d-47a4-a1b4-472721ab242c%7D"}, "html": {"href": "https://bitbucket.org/%7B794fe1af-668d-47a4-a1b4-472721ab242c%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b7d7fdc06daa6a33c944696c643bea49d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsY-0.png"}}, "nickname": "yeshasvitvs", "type": "user", "account_id": "557058:86b706df-ff22-48bb-ad55-e051fd800c23"}, "title": "Gazebo Apply Force/Torque not working with dart", "component": {"name": "gui::ApplyForceTorque", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/243540.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "Hi, \r\n\r\nI have a simple 2 link 1 revolute joint manipulator in gazebo (see @https://github.com/Yeshasvitvs/gazebo-yeshi/tree/master/1r_2link). I started with dart physics engine and tried to use Apply Force/Torque gui but the object has no motion. But when I tried with a plugin (see @https://github.com/Yeshasvitvs/gazebo-yarp-plugins/tree/master/plugins/multiexternalwrench) the object moves under external force and torques. I ran gazebo with verbose flag but there are not errors or warnings reported. I am not sure if the GUI is buggy with dart engine, I will look into it further but any inputs are appreciated.\r\n\r\nThank you", "markup": "markdown", "html": "<p>Hi, </p>\n<p>I have a simple 2 link 1 revolute joint manipulator in gazebo (see @<a href=\"https://github.com/Yeshasvitvs/gazebo-yeshi/tree/master/1r_2link\" rel=\"nofollow\" class=\"ap-connect-link\">https://github.com/Yeshasvitvs/gazebo-yeshi/tree/master/1r_2link</a>). I started with dart physics engine and tried to use Apply Force/Torque gui but the object has no motion. But when I tried with a plugin (see @<a href=\"https://github.com/Yeshasvitvs/gazebo-yarp-plugins/tree/master/plugins/multiexternalwrench\" rel=\"nofollow\" class=\"ap-connect-link\">https://github.com/Yeshasvitvs/gazebo-yarp-plugins/tree/master/plugins/multiexternalwrench</a>) the object moves under external force and torques. I ran gazebo with verbose flag but there are not errors or warnings reported. I am not sure if the GUI is buggy with dart engine, I will look into it further but any inputs are appreciated.</p>\n<p>Thank you</p>", "type": "rendered"}, "assignee": null, "state": "duplicate", "version": {"name": "7.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242744.json"}}}, "edited_on": null, "created_on": "2017-06-16T09:14:35.786713+00:00", "milestone": null, "updated_on": "2017-07-06T12:18:30.290023+00:00", "type": "issue", "id": 2302}, {"priority": "trivial", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2303/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2303.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2303/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2303/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2303/getname-vs-getscopedname-default-values"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2303/vote"}}, "reporter": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "title": "GetName vs GetScopedName default values", "component": null, "votes": 0, "watches": 1, "content": {"raw": "The `name` element of `gazebo::physics::Base` is initialized to \"\\_\\_default\\_\\_\" while the `scopedName` element is left as \"\". Neither are set to meaningful values until you call `Load` or `SetName` which in turn calls `ComputeScopedName`. However, it seems like the names should still default to something related (e.g. both \"\\_\\_default\\_\\_\" or both \"\"). What do you think?\r\n\r\nI noticed this because some unit tests use \"dummy\" models that have not been loaded, and thus have no scoped name.", "markup": "markdown", "html": "<p>The <code>name</code> element of <code>gazebo::physics::Base</code> is initialized to \"__default__\" while the <code>scopedName</code> element is left as \"\". Neither are set to meaningful values until you call <code>Load</code> or <code>SetName</code> which in turn calls <code>ComputeScopedName</code>. However, it seems like the names should still default to something related (e.g. both \"__default__\" or both \"\"). What do you think?</p>\n<p>I noticed this because some unit tests use \"dummy\" models that have not been loaded, and thus have no scoped name.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "all", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/225575.json"}}}, "edited_on": null, "created_on": "2017-06-19T22:23:45.884534+00:00", "milestone": null, "updated_on": "2017-06-19T22:23:45.884534+00:00", "type": "issue", "id": 2303}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2304/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2304.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2304/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2304/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2304/gzclient-segfault-on-startup-using-amd"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2304/vote"}}, "reporter": {"display_name": "tech2077", "uuid": "{281d42a6-7d7a-4ec2-84a2-a22887ba9ee6}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B281d42a6-7d7a-4ec2-84a2-a22887ba9ee6%7D"}, "html": {"href": "https://bitbucket.org/%7B281d42a6-7d7a-4ec2-84a2-a22887ba9ee6%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/d5f36fbefbf4a5f37d328ef5177794f7d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsT-5.png"}}, "nickname": "tech2077", "type": "user", "account_id": "557058:897deaa4-c17b-4d74-bc6c-f2a96e7d2e2b"}, "title": "gzclient segfault on startup using AMD graphics with Radeon Driver Ubuntu 16.04", "component": null, "votes": 6, "watches": 1, "content": {"raw": "Randomly occuring startup crash in gzclient. Occurs sporactically (~70% of the time) on all kinds of simulations, and empty world.\r\n\r\nBacktrace:\r\n```\r\nThread 1 \"gzclient\" received signal SIGSEGV, Segmentation fault.\r\n0x00007fffccf6e04e in ?? () from /usr/lib/x86_64-linux-gnu/dri/radeonsi_dri.so\r\n(gdb) bt\r\n#0  0x00007fffccf6e04e in ?? () from /usr/lib/x86_64-linux-gnu/dri/radeonsi_dri.so\r\n#1  0x00007fffccf6cc4d in ?? () from /usr/lib/x86_64-linux-gnu/dri/radeonsi_dri.so\r\n#2  0x00007fffccf75331 in ?? () from /usr/lib/x86_64-linux-gnu/dri/radeonsi_dri.so\r\n#3  0x00007fffc3c4cea0 in Ogre::GLRenderSystem::clearFrameBuffer(unsigned int, Ogre::ColourValue const&, float, unsigned short) ()\r\n   from /usr/lib/x86_64-linux-gnu/OGRE-1.9.0/RenderSystem_GL.so\r\n#4  0x00007ffff4baf30d in Ogre::SceneManager::_renderScene(Ogre::Camera*, Ogre::Viewport*, bool) () from /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.9.0\r\n#5  0x00007ffff4bebf51 in Ogre::Camera::_renderScene(Ogre::Viewport*, bool) () from /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.9.0\r\n#6  0x00007ffff4b9077a in Ogre::RenderTarget::_updateViewport(Ogre::Viewport*, bool) () from /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.9.0\r\n#7  0x00007ffff4b905cb in Ogre::RenderTarget::_updateAutoUpdatedViewports(bool) () from /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.9.0\r\n#8  0x00007ffff4b9011e in Ogre::RenderTarget::updateImpl() () from /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.9.0\r\n#9  0x00007ffff4b90ac4 in Ogre::RenderTarget::update(bool) () from /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.9.0\r\n#10 0x00007ffff5f2c0dc in gazebo::rendering::Camera::Render(bool) () from /usr/lib/x86_64-linux-gnu/libgazebo_rendering.so.7\r\n#11 0x00007ffff76aee1a in ?? () from /usr/lib/x86_64-linux-gnu/libgazebo_gui.so.7\r\n#12 0x00007ffff76a5890 in gazebo::gui::GLWidget::paintEvent(QPaintEvent*) () from /usr/lib/x86_64-linux-gnu/libgazebo_gui.so.7\r\n#13 0x00007ffff53a98d0 in QWidget::event(QEvent*) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\r\n#14 0x00007ffff5352fdc in QApplicationPrivate::notify_helper(QObject*, QEvent*) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\r\n#15 0x00007ffff5359f16 in QApplication::notify(QObject*, QEvent*) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\r\n#16 0x00007ffff720590d in QCoreApplication::notifyInternal(QObject*, QEvent*) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\r\n#17 0x00007ffff53a3f37 in QWidgetPrivate::drawWidget(QPaintDevice*, QRegion const&, QPoint const&, int, QPainter*, QWidgetBackingStore*) ()\r\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\r\n#18 0x00007ffff55768ad in QWidgetPrivate::repaint_sys(QRegion const&) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\r\n#19 0x00007ffff5396be7 in QWidgetPrivate::syncBackingStore() () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\r\n#20 0x00007ffff53a99b8 in QWidget::event(QEvent*) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\r\n#21 0x00007ffff5352fdc in QApplicationPrivate::notify_helper(QObject*, QEvent*) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\r\n#22 0x00007ffff5359f16 in QApplication::notify(QObject*, QEvent*) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\r\n#23 0x00007ffff720590d in QCoreApplication::notifyInternal(QObject*, QEvent*) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\r\n#24 0x00007ffff72093c6 in QCoreApplicationPrivate::sendPostedEvents(QObject*, int, QThreadData*) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\r\n#25 0x00007ffff723613e in ?? () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\r\n#26 0x00007ffff1f0e197 in g_main_context_dispatch () from /lib/x86_64-linux-gnu/libglib-2.0.so.0\r\n#27 0x00007ffff1f0e3f0 in ?? () from /lib/x86_64-linux-gnu/libglib-2.0.so.0\r\n#28 0x00007ffff1f0e49c in g_main_context_iteration () from /lib/x86_64-linux-gnu/libglib-2.0.so.0\r\n#29 0x00007ffff72362ae in QEventDispatcherGlib::processEvents(QFlags<QEventLoop::ProcessEventsFlag>) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\r\n#30 0x00007ffff5400616 in ?? () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\r\n#31 0x00007ffff720418f in QEventLoop::processEvents(QFlags<QEventLoop::ProcessEventsFlag>) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\r\n#32 0x00007ffff72044f5 in QEventLoop::exec(QFlags<QEventLoop::ProcessEventsFlag>) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\r\n#33 0x00007ffff720a4b9 in QCoreApplication::exec() () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\r\n#34 0x00007ffff76b7873 in gazebo::gui::run(int, char**) () from /usr/lib/x86_64-linux-gnu/libgazebo_gui.so.7\r\n#35 0x00000000004013aa in ?? ()\r\n#36 0x00007ffff6535830 in __libc_start_main (main=0x401390, argc=2, argv=0x7fffffffd9a8, init=<optimized out>, fini=<optimized out>, rtld_fini=<optimized out>, \r\n    stack_end=0x7fffffffd998) at ../csu/libc-start.c:291\r\n#37 0x0000000000401459 in _start ()\r\n\r\n```", "markup": "markdown", "html": "<p>Randomly occuring startup crash in gzclient. Occurs sporactically (~70% of the time) on all kinds of simulations, and empty world.</p>\n<p>Backtrace:</p>\n<div class=\"codehilite\"><pre><span></span>Thread 1 &quot;gzclient&quot; received signal SIGSEGV, Segmentation fault.\n0x00007fffccf6e04e in ?? () from /usr/lib/x86_64-linux-gnu/dri/radeonsi_dri.so\n(gdb) bt\n#0  0x00007fffccf6e04e in ?? () from /usr/lib/x86_64-linux-gnu/dri/radeonsi_dri.so\n#1  0x00007fffccf6cc4d in ?? () from /usr/lib/x86_64-linux-gnu/dri/radeonsi_dri.so\n#2  0x00007fffccf75331 in ?? () from /usr/lib/x86_64-linux-gnu/dri/radeonsi_dri.so\n#3  0x00007fffc3c4cea0 in Ogre::GLRenderSystem::clearFrameBuffer(unsigned int, Ogre::ColourValue const&amp;, float, unsigned short) ()\n   from /usr/lib/x86_64-linux-gnu/OGRE-1.9.0/RenderSystem_GL.so\n#4  0x00007ffff4baf30d in Ogre::SceneManager::_renderScene(Ogre::Camera*, Ogre::Viewport*, bool) () from /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.9.0\n#5  0x00007ffff4bebf51 in Ogre::Camera::_renderScene(Ogre::Viewport*, bool) () from /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.9.0\n#6  0x00007ffff4b9077a in Ogre::RenderTarget::_updateViewport(Ogre::Viewport*, bool) () from /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.9.0\n#7  0x00007ffff4b905cb in Ogre::RenderTarget::_updateAutoUpdatedViewports(bool) () from /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.9.0\n#8  0x00007ffff4b9011e in Ogre::RenderTarget::updateImpl() () from /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.9.0\n#9  0x00007ffff4b90ac4 in Ogre::RenderTarget::update(bool) () from /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.9.0\n#10 0x00007ffff5f2c0dc in gazebo::rendering::Camera::Render(bool) () from /usr/lib/x86_64-linux-gnu/libgazebo_rendering.so.7\n#11 0x00007ffff76aee1a in ?? () from /usr/lib/x86_64-linux-gnu/libgazebo_gui.so.7\n#12 0x00007ffff76a5890 in gazebo::gui::GLWidget::paintEvent(QPaintEvent*) () from /usr/lib/x86_64-linux-gnu/libgazebo_gui.so.7\n#13 0x00007ffff53a98d0 in QWidget::event(QEvent*) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#14 0x00007ffff5352fdc in QApplicationPrivate::notify_helper(QObject*, QEvent*) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#15 0x00007ffff5359f16 in QApplication::notify(QObject*, QEvent*) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#16 0x00007ffff720590d in QCoreApplication::notifyInternal(QObject*, QEvent*) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#17 0x00007ffff53a3f37 in QWidgetPrivate::drawWidget(QPaintDevice*, QRegion const&amp;, QPoint const&amp;, int, QPainter*, QWidgetBackingStore*) ()\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#18 0x00007ffff55768ad in QWidgetPrivate::repaint_sys(QRegion const&amp;) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#19 0x00007ffff5396be7 in QWidgetPrivate::syncBackingStore() () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#20 0x00007ffff53a99b8 in QWidget::event(QEvent*) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#21 0x00007ffff5352fdc in QApplicationPrivate::notify_helper(QObject*, QEvent*) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#22 0x00007ffff5359f16 in QApplication::notify(QObject*, QEvent*) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#23 0x00007ffff720590d in QCoreApplication::notifyInternal(QObject*, QEvent*) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#24 0x00007ffff72093c6 in QCoreApplicationPrivate::sendPostedEvents(QObject*, int, QThreadData*) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#25 0x00007ffff723613e in ?? () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#26 0x00007ffff1f0e197 in g_main_context_dispatch () from /lib/x86_64-linux-gnu/libglib-2.0.so.0\n#27 0x00007ffff1f0e3f0 in ?? () from /lib/x86_64-linux-gnu/libglib-2.0.so.0\n#28 0x00007ffff1f0e49c in g_main_context_iteration () from /lib/x86_64-linux-gnu/libglib-2.0.so.0\n#29 0x00007ffff72362ae in QEventDispatcherGlib::processEvents(QFlags&lt;QEventLoop::ProcessEventsFlag&gt;) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#30 0x00007ffff5400616 in ?? () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n#31 0x00007ffff720418f in QEventLoop::processEvents(QFlags&lt;QEventLoop::ProcessEventsFlag&gt;) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#32 0x00007ffff72044f5 in QEventLoop::exec(QFlags&lt;QEventLoop::ProcessEventsFlag&gt;) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#33 0x00007ffff720a4b9 in QCoreApplication::exec() () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\n#34 0x00007ffff76b7873 in gazebo::gui::run(int, char**) () from /usr/lib/x86_64-linux-gnu/libgazebo_gui.so.7\n#35 0x00000000004013aa in ?? ()\n#36 0x00007ffff6535830 in __libc_start_main (main=0x401390, argc=2, argv=0x7fffffffd9a8, init=&lt;optimized out&gt;, fini=&lt;optimized out&gt;, rtld_fini=&lt;optimized out&gt;, \n    stack_end=0x7fffffffd998) at ../csu/libc-start.c:291\n#37 0x0000000000401459 in _start ()\n</pre></div>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "7.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242744.json"}}}, "edited_on": null, "created_on": "2017-06-21T19:00:48.941885+00:00", "milestone": null, "updated_on": "2017-07-25T17:31:35.728526+00:00", "type": "issue", "id": 2304}, {"priority": "minor", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2305/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2305.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2305/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2305/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2305/joint-control-widget-integral-term-limits"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2305/vote"}}, "reporter": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "title": "Joint control widget integral term limits", "component": {"name": "gui", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122878.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "The joint control widget (GUI) does not provide a way to set the integral term limits (i.e. `iMax` and `iMin` in the PID controller).", "markup": "markdown", "html": "<p>The joint control widget (GUI) does not provide a way to set the integral term limits (i.e. <code>iMax</code> and <code>iMin</code> in the PID controller).</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2017-06-23T22:38:15.314120+00:00", "milestone": null, "updated_on": "2017-06-23T22:38:15.314120+00:00", "type": "issue", "id": 2305}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2306/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2306.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2306/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2306/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2306/model-physics-is-incollect-with-calling"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2306/vote"}}, "reporter": null, "title": "Model physics is incollect with calling SetPosition from plugin.", "component": null, "votes": 0, "watches": 1, "content": {"raw": "When you call Joint :: SetPosition () from the Model plugin, the model behaves as if the gravity became smaller.\r\n\r\nIn fact, if I drop the model with the controller on and the other from the same height at the same time, the model without the controller will land quickly.\r\n\r\nThis looks like a strange phenomenon.\r\nI tried with the same code, but it works normally with Gazebo 2.0.\r\n\r\nBelow is a minimal plugin and model file I used to reproduce this phenomenon.\r\n                                     \r\nplugin\r\n```\r\n#!c++\r\n\r\n#include <string>\r\n#include <gazebo/gazebo.hh>\r\n#include <gazebo/physics/physics.hh>\r\n#include <ros/ros.h>\r\n\r\nnamespace gazebo {\r\nclass DummyPlugin : public ModelPlugin {\r\n private:\r\n    event::ConnectionPtr update_connection_;\r\n    physics::JointPtr joint_;\r\n    physics::ModelPtr model_;\r\n    std::string joint_name_;\r\n public:\r\n  DummyPlugin() {\r\n\r\n  }\r\n\r\n  ~DummyPlugin() {\r\n    event::Events::DisconnectWorldUpdateBegin(update_connection_);\r\n  }\r\n\r\n  void Load(physics::ModelPtr _parent, sdf::ElementPtr _sdf ) {\r\n    model_ = _parent;\r\n    joint_name_ = \"joint\";\r\n    if (_sdf->HasElement(\"joint\"))\r\n      joint_name_ = _sdf->GetElement(\"joint\")->Get<std::string>();\r\n    joint_ = model_->GetJoint(joint_name_);\r\n    update_connection_ = event::Events::ConnectWorldUpdateBegin(\r\n                                                                boost::bind(&ga\\\r\nzebo::DummyPlugin::UpdateChild, this));\r\n  }\r\n\r\n  void UpdateChild() {\r\n#if GAZEBO_MAJOR_VERSION >= 4\r\n    joint_->SetPosition(0, 0.1);\r\n#else\r\n    joint_->SetAngle(0, 0.3);\r\n#endif\r\n  }\r\n};\r\nGZ_REGISTER_MODEL_PLUGIN(DummyPlugin);\r\n}  // namespace gazebo          \r\n```\r\n                                                \r\nmodel:\r\n\r\n```\r\n#!XML\r\n\r\n<?xml version=\"1.0\"?>\r\n<robot name=\"minimum_robot\">\r\n\r\n  <link name=\"base_link\">\r\n    <inertial>\r\n      <origin xyz=\"2 0 0\" />\r\n      <mass value=\"1.0\" />\r\n      <inertia  ixx=\"1.0\" ixy=\"0.0\"  ixz=\"0.0\"  iyy=\"100.0\"  iyz=\"0.0\"  izz=\"1.\\\r\n0\" />\r\n    </inertial>\r\n    <visual>\r\n      <geometry>\r\n        <sphere radius=\"0.3\"/>\r\n      </geometry>\r\n      <material name=\"green\">\r\n        <color rgba=\"0 1 0 1\"/>\r\n      </material>\r\n    </visual>\r\n    <collision>\r\n      <geometry>\r\n        <sphere radius=\"0.3\"/>\r\n      </geometry>\r\n    </collision>\r\n  </link>\r\n  <joint name=\"dummy_joint\" type=\"continuous\">\r\n    <parent link=\"base_link\"/>\r\n    <child link=\"dummy_link\"/>\r\n  </joint>\r\n  <link name=\"dummy_link\">\r\n      <inertial>\r\n      <origin xyz=\"2 0 0\" />\r\n      <mass value=\"1.0\" />\r\n      <inertia  ixx=\"1.0\" ixy=\"0.0\"  ixz=\"0.0\"  iyy=\"100.0\"  iyz=\"0.0\"  izz=\"1.\\\r\n0\" />\r\n    </inertial>\r\n  </link>\r\n  <gazebo>\r\n    <plugin name=\"ball_dummy_plugin\" filename=\"libtmc_gazebo_dummy_plugin.so\">\r\n      <joint>dummy_joint</joint>\r\n    </plugin>\r\n  </gazebo>\r\n</robot>\r\n```\r\n\r\n\r\n\r\n\r\n\r\nAlso, the environment I use is as follows.\r\nOS: Ubuntu 16.04\r\nGazebo: 7.0.0\r\nROS: kinetic\r\n\r\nThanks.", "markup": "markdown", "html": "<p>When you call Joint :: SetPosition () from the Model plugin, the model behaves as if the gravity became smaller.</p>\n<p>In fact, if I drop the model with the controller on and the other from the same height at the same time, the model without the controller will land quickly.</p>\n<p>This looks like a strange phenomenon.\nI tried with the same code, but it works normally with Gazebo 2.0.</p>\n<p>Below is a minimal plugin and model file I used to reproduce this phenomenon.</p>\n<p>plugin</p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"cp\">#include</span> <span class=\"cpf\">&lt;string&gt;</span><span class=\"cp\"></span>\n<span class=\"cp\">#include</span> <span class=\"cpf\">&lt;gazebo/gazebo.hh&gt;</span><span class=\"cp\"></span>\n<span class=\"cp\">#include</span> <span class=\"cpf\">&lt;gazebo/physics/physics.hh&gt;</span><span class=\"cp\"></span>\n<span class=\"cp\">#include</span> <span class=\"cpf\">&lt;ros/ros.h&gt;</span><span class=\"cp\"></span>\n\n<span class=\"k\">namespace</span> <span class=\"n\">gazebo</span> <span class=\"p\">{</span>\n<span class=\"k\">class</span> <span class=\"nc\">DummyPlugin</span> <span class=\"o\">:</span> <span class=\"k\">public</span> <span class=\"n\">ModelPlugin</span> <span class=\"p\">{</span>\n <span class=\"k\">private</span><span class=\"o\">:</span>\n    <span class=\"n\">event</span><span class=\"o\">::</span><span class=\"n\">ConnectionPtr</span> <span class=\"n\">update_connection_</span><span class=\"p\">;</span>\n    <span class=\"n\">physics</span><span class=\"o\">::</span><span class=\"n\">JointPtr</span> <span class=\"n\">joint_</span><span class=\"p\">;</span>\n    <span class=\"n\">physics</span><span class=\"o\">::</span><span class=\"n\">ModelPtr</span> <span class=\"n\">model_</span><span class=\"p\">;</span>\n    <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">string</span> <span class=\"n\">joint_name_</span><span class=\"p\">;</span>\n <span class=\"k\">public</span><span class=\"o\">:</span>\n  <span class=\"n\">DummyPlugin</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n\n  <span class=\"p\">}</span>\n\n  <span class=\"o\">~</span><span class=\"n\">DummyPlugin</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n    <span class=\"n\">event</span><span class=\"o\">::</span><span class=\"n\">Events</span><span class=\"o\">::</span><span class=\"n\">DisconnectWorldUpdateBegin</span><span class=\"p\">(</span><span class=\"n\">update_connection_</span><span class=\"p\">);</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"kt\">void</span> <span class=\"n\">Load</span><span class=\"p\">(</span><span class=\"n\">physics</span><span class=\"o\">::</span><span class=\"n\">ModelPtr</span> <span class=\"n\">_parent</span><span class=\"p\">,</span> <span class=\"n\">sdf</span><span class=\"o\">::</span><span class=\"n\">ElementPtr</span> <span class=\"n\">_sdf</span> <span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"n\">model_</span> <span class=\"o\">=</span> <span class=\"n\">_parent</span><span class=\"p\">;</span>\n    <span class=\"n\">joint_name_</span> <span class=\"o\">=</span> <span class=\"s\">&quot;joint&quot;</span><span class=\"p\">;</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"n\">_sdf</span><span class=\"o\">-&gt;</span><span class=\"n\">HasElement</span><span class=\"p\">(</span><span class=\"s\">&quot;joint&quot;</span><span class=\"p\">))</span>\n      <span class=\"n\">joint_name_</span> <span class=\"o\">=</span> <span class=\"n\">_sdf</span><span class=\"o\">-&gt;</span><span class=\"n\">GetElement</span><span class=\"p\">(</span><span class=\"s\">&quot;joint&quot;</span><span class=\"p\">)</span><span class=\"o\">-&gt;</span><span class=\"n\">Get</span><span class=\"o\">&lt;</span><span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">string</span><span class=\"o\">&gt;</span><span class=\"p\">();</span>\n    <span class=\"n\">joint_</span> <span class=\"o\">=</span> <span class=\"n\">model_</span><span class=\"o\">-&gt;</span><span class=\"n\">GetJoint</span><span class=\"p\">(</span><span class=\"n\">joint_name_</span><span class=\"p\">);</span>\n    <span class=\"n\">update_connection_</span> <span class=\"o\">=</span> <span class=\"n\">event</span><span class=\"o\">::</span><span class=\"n\">Events</span><span class=\"o\">::</span><span class=\"n\">ConnectWorldUpdateBegin</span><span class=\"p\">(</span>\n                                                                <span class=\"n\">boost</span><span class=\"o\">::</span><span class=\"n\">bind</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">ga</span>\\\n<span class=\"n\">zebo</span><span class=\"o\">::</span><span class=\"n\">DummyPlugin</span><span class=\"o\">::</span><span class=\"n\">UpdateChild</span><span class=\"p\">,</span> <span class=\"k\">this</span><span class=\"p\">));</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"kt\">void</span> <span class=\"n\">UpdateChild</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n<span class=\"cp\">#if GAZEBO_MAJOR_VERSION &gt;= 4</span>\n    <span class=\"n\">joint_</span><span class=\"o\">-&gt;</span><span class=\"n\">SetPosition</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mf\">0.1</span><span class=\"p\">);</span>\n<span class=\"cp\">#else</span>\n    <span class=\"n\">joint_</span><span class=\"o\">-&gt;</span><span class=\"n\">SetAngle</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mf\">0.3</span><span class=\"p\">);</span>\n<span class=\"cp\">#endif</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">};</span>\n<span class=\"n\">GZ_REGISTER_MODEL_PLUGIN</span><span class=\"p\">(</span><span class=\"n\">DummyPlugin</span><span class=\"p\">);</span>\n<span class=\"p\">}</span>  <span class=\"c1\">// namespace gazebo          </span>\n</pre></div>\n\n\n<p>model:</p>\n<div class=\"codehilite language-xml\"><pre><span></span><span class=\"cp\">&lt;?xml version=&quot;1.0&quot;?&gt;</span>\n<span class=\"nt\">&lt;robot</span> <span class=\"na\">name=</span><span class=\"s\">&quot;minimum_robot&quot;</span><span class=\"nt\">&gt;</span>\n\n  <span class=\"nt\">&lt;link</span> <span class=\"na\">name=</span><span class=\"s\">&quot;base_link&quot;</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;inertial&gt;</span>\n      <span class=\"nt\">&lt;origin</span> <span class=\"na\">xyz=</span><span class=\"s\">&quot;2 0 0&quot;</span> <span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;mass</span> <span class=\"na\">value=</span><span class=\"s\">&quot;1.0&quot;</span> <span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;inertia</span>  <span class=\"na\">ixx=</span><span class=\"s\">&quot;1.0&quot;</span> <span class=\"na\">ixy=</span><span class=\"s\">&quot;0.0&quot;</span>  <span class=\"na\">ixz=</span><span class=\"s\">&quot;0.0&quot;</span>  <span class=\"na\">iyy=</span><span class=\"s\">&quot;100.0&quot;</span>  <span class=\"na\">iyz=</span><span class=\"s\">&quot;0.0&quot;</span>  <span class=\"na\">izz=</span><span class=\"s\">&quot;1.\\</span>\n<span class=\"s\">0&quot;</span> <span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;/inertial&gt;</span>\n    <span class=\"nt\">&lt;visual&gt;</span>\n      <span class=\"nt\">&lt;geometry&gt;</span>\n        <span class=\"nt\">&lt;sphere</span> <span class=\"na\">radius=</span><span class=\"s\">&quot;0.3&quot;</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;/geometry&gt;</span>\n      <span class=\"nt\">&lt;material</span> <span class=\"na\">name=</span><span class=\"s\">&quot;green&quot;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;color</span> <span class=\"na\">rgba=</span><span class=\"s\">&quot;0 1 0 1&quot;</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;/material&gt;</span>\n    <span class=\"nt\">&lt;/visual&gt;</span>\n    <span class=\"nt\">&lt;collision&gt;</span>\n      <span class=\"nt\">&lt;geometry&gt;</span>\n        <span class=\"nt\">&lt;sphere</span> <span class=\"na\">radius=</span><span class=\"s\">&quot;0.3&quot;</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;/geometry&gt;</span>\n    <span class=\"nt\">&lt;/collision&gt;</span>\n  <span class=\"nt\">&lt;/link&gt;</span>\n  <span class=\"nt\">&lt;joint</span> <span class=\"na\">name=</span><span class=\"s\">&quot;dummy_joint&quot;</span> <span class=\"na\">type=</span><span class=\"s\">&quot;continuous&quot;</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;parent</span> <span class=\"na\">link=</span><span class=\"s\">&quot;base_link&quot;</span><span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;child</span> <span class=\"na\">link=</span><span class=\"s\">&quot;dummy_link&quot;</span><span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;/joint&gt;</span>\n  <span class=\"nt\">&lt;link</span> <span class=\"na\">name=</span><span class=\"s\">&quot;dummy_link&quot;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;inertial&gt;</span>\n      <span class=\"nt\">&lt;origin</span> <span class=\"na\">xyz=</span><span class=\"s\">&quot;2 0 0&quot;</span> <span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;mass</span> <span class=\"na\">value=</span><span class=\"s\">&quot;1.0&quot;</span> <span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;inertia</span>  <span class=\"na\">ixx=</span><span class=\"s\">&quot;1.0&quot;</span> <span class=\"na\">ixy=</span><span class=\"s\">&quot;0.0&quot;</span>  <span class=\"na\">ixz=</span><span class=\"s\">&quot;0.0&quot;</span>  <span class=\"na\">iyy=</span><span class=\"s\">&quot;100.0&quot;</span>  <span class=\"na\">iyz=</span><span class=\"s\">&quot;0.0&quot;</span>  <span class=\"na\">izz=</span><span class=\"s\">&quot;1.\\</span>\n<span class=\"s\">0&quot;</span> <span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;/inertial&gt;</span>\n  <span class=\"nt\">&lt;/link&gt;</span>\n  <span class=\"nt\">&lt;gazebo&gt;</span>\n    <span class=\"nt\">&lt;plugin</span> <span class=\"na\">name=</span><span class=\"s\">&quot;ball_dummy_plugin&quot;</span> <span class=\"na\">filename=</span><span class=\"s\">&quot;libtmc_gazebo_dummy_plugin.so&quot;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;joint&gt;</span>dummy_joint<span class=\"nt\">&lt;/joint&gt;</span>\n    <span class=\"nt\">&lt;/plugin&gt;</span>\n  <span class=\"nt\">&lt;/gazebo&gt;</span>\n<span class=\"nt\">&lt;/robot&gt;</span>\n</pre></div>\n\n\n<p>Also, the environment I use is as follows.\nOS: Ubuntu 16.04\nGazebo: 7.0.0\nROS: kinetic</p>\n<p>Thanks.</p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2017-06-28T01:34:16.815660+00:00", "milestone": null, "updated_on": "2018-02-22T01:14:19.968912+00:00", "type": "issue", "id": 2306}, {"priority": "minor", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2307/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2307.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2307/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2307/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2307/enable-disable-individual-joint"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2307/vote"}}, "reporter": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "title": "Enable / disable individual joint controllers through GUI", "component": {"name": "gui", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122878.json"}}}, "votes": 0, "watches": 2, "content": {"raw": "The joint control widget allows adding PID controllers to joints, but it's hard to tell the difference between a disabled controller and a controller with target zero.\r\n\r\nThis came up during pull request #2730", "markup": "markdown", "html": "<p>The joint control widget allows adding PID controllers to joints, but it's hard to tell the difference between a disabled controller and a controller with target zero.</p>\n<p>This came up during <a href=\"#!/osrf/gazebo/pull-requests/2730/joint-control-menu-read-current-values\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #2730</a></p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": {"name": "all", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/225575.json"}}}, "edited_on": null, "created_on": "2017-06-28T20:30:36.770759+00:00", "milestone": null, "updated_on": "2017-11-15T16:14:12.410684+00:00", "type": "issue", "id": 2307}, {"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2308/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2308.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2308/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2308/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2308/resized-object-floats-in-simbody"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2308/vote"}}, "reporter": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "title": "Resized object floats in Simbody", "component": {"name": "physics::SimbodyPhysics", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122885.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "After resizing a box it does not drop to the ground plane as expected when using Simbody as the physics engine. It does drop when using ODE and Bullet. The collision geometry appears to be updated (left pane).\r\n\r\n![floating_object.png](data/bitbucket.org/repo/jgXqbo/images/2773557911-floating_object.png)", "markup": "markdown", "html": "<p>After resizing a box it does not drop to the ground plane as expected when using Simbody as the physics engine. It does drop when using ODE and Bullet. The collision geometry appears to be updated (left pane).</p>\n<p><img alt=\"floating_object.png\" src=\"data/bitbucket.org/repo/jgXqbo/images/2773557911-floating_object.png\" /></p>", "type": "rendered"}, "assignee": null, "state": "duplicate", "version": null, "edited_on": null, "created_on": "2017-06-28T20:46:25.344777+00:00", "milestone": null, "updated_on": "2017-06-28T23:01:59.376128+00:00", "type": "issue", "id": 2308}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2309/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2309.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2309/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2309/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2309/simbody-exception-when-manipulating-object"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2309/vote"}}, "reporter": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "title": "Simbody exception when manipulating object twice while paused", "component": {"name": "physics::SimbodyPhysics", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122885.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "Gazebo crashes while manipulating (translating or rotating) objects while the simulation is paused when using Simbody as the physics engine. Manipulating objects while the simulation is playing appears to be ok though.\r\n\r\nThe exception message:\r\n~~~\r\nterminate called after throwing an instance of 'SimTK::Exception::CacheEntryOutOfDate'\r\n  what():  SimTK Exception thrown at StateImpl.h:1678:\r\n  State Cache entry was out of date at Stage Position. This entry depends on version 39497 of Stage Position but was last updated at version 39496.\r\n~~~\r\n\r\nTo reproduce the exception, try the following:\r\n\r\n1. Launch Gazebo: `gazebo -u -e simbody`\r\n\r\n1. Add a unit box to the simulation\r\n\r\n1. Click the button to enter translation mode\r\n\r\n1. Click the box and translate it up (+z) and then right (+y)\r\n\r\nI am using libsimbody3.5v5 (3.5.3+dfsg-1ubuntu1)", "markup": "markdown", "html": "<p>Gazebo crashes while manipulating (translating or rotating) objects while the simulation is paused when using Simbody as the physics engine. Manipulating objects while the simulation is playing appears to be ok though.</p>\n<p>The exception message:</p>\n<div class=\"codehilite\"><pre><span></span>terminate called after throwing an instance of &#39;SimTK::Exception::CacheEntryOutOfDate&#39;\n  what():  SimTK Exception thrown at StateImpl.h:1678:\n  State Cache entry was out of date at Stage Position. This entry depends on version 39497 of Stage Position but was last updated at version 39496.\n</pre></div>\n\n\n<p>To reproduce the exception, try the following:</p>\n<ol>\n<li>\n<p>Launch Gazebo: <code>gazebo -u -e simbody</code></p>\n</li>\n<li>\n<p>Add a unit box to the simulation</p>\n</li>\n<li>\n<p>Click the button to enter translation mode</p>\n</li>\n<li>\n<p>Click the box and translate it up (+z) and then right (+y)</p>\n</li>\n</ol>\n<p>I am using libsimbody3.5v5 (3.5.3+dfsg-1ubuntu1)</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "all", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/225575.json"}}}, "edited_on": null, "created_on": "2017-06-28T21:13:01.963767+00:00", "milestone": null, "updated_on": "2017-07-18T19:39:25.741210+00:00", "type": "issue", "id": 2309}, {"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2310/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2310.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2310/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2310/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2310/ode-getforcetorque-log-message-continually"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2310/vote"}}, "reporter": {"display_name": "Ian McMahon", "uuid": "{93545a49-be45-4652-b51b-4497d4610477}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B93545a49-be45-4652-b51b-4497d4610477%7D"}, "html": {"href": "https://bitbucket.org/%7B93545a49-be45-4652-b51b-4497d4610477%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/f151b1251ceeca20282ae19b547911e6d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsIM-0.png"}}, "nickname": "IanTheEngineer", "type": "user", "account_id": "557058:3502452e-a096-45d7-940b-ff670cbcc77f"}, "title": "ODE GetForceTorque log message continually fills ~/.gazebo/server/default.log", "component": null, "votes": 0, "watches": 0, "content": {"raw": "I think this message should be throttled (or even print only once) - considering it is a warning. Admittedly, I am naively requesting `GetForceTorque` on every joint per update cycle, regardless of its `<provide_feedback>`-ness, but it seems unreasonable for this message to eat up 3GB of log space in two hours of Gazebo running:\r\n\r\nfrom  ~/.gazebo/server/default.log:\r\n\r\n```\r\n(1498750973 402591420) [Wrn] [ODEJoint.cc:830] GetForceTorque: forgot to set <provide_feedback>?\r\n(1498750973 402707271) [Wrn] [ODEJoint.cc:830] GetForceTorque: forgot to set <provide_feedback>?\r\n(1498750973 402745856) [Wrn] [ODEJoint.cc:830] GetForceTorque: forgot to set <provide_feedback>?\r\n(1498750973 402781524) [Wrn] [ODEJoint.cc:830] GetForceTorque: forgot to set <provide_feedback>?\r\n(1498750973 402815754) [Wrn] [ODEJoint.cc:830] GetForceTorque: forgot to set <provide_feedback>?\r\n(1498750973 402849471) [Wrn] [ODEJoint.cc:830] GetForceTorque: forgot to set <provide_feedback>?\r\n(1498750973 402889039) [Wrn] [ODEJoint.cc:830] GetForceTorque: forgot to set <provide_feedback>?\r\n(1498750973 402923820) [Wrn] [ODEJoint.cc:830] GetForceTorque: forgot to set <provide_feedback>?\r\n(1498750973 404869225) [Wrn] [ODEJoint.cc:830] GetForceTorque: forgot to set <provide_feedback>?\r\n(1498750973 404923374) [Wrn] [ODEJoint.cc:830] GetForceTorque: forgot to set <provide_feedback>?\r\n(1498750973 404961731) [Wrn] [ODEJoint.cc:830] GetForceTorque: forgot to set <provide_feedback>?\r\n(1498750973 404997170) [Wrn] [ODEJoint.cc:830] GetForceTorque: forgot to set <provide_feedback>?\r\n(1498750973 405071536) [Wrn] [ODEJoint.cc:830] GetForceTorque: forgot to set <provide_feedback>?\r\n(1498750973 405105430) [Wrn] [ODEJoint.cc:830] GetForceTorque: forgot to set <provide_feedback>?\r\n```", "markup": "markdown", "html": "<p>I think this message should be throttled (or even print only once) - considering it is a warning. Admittedly, I am naively requesting <code>GetForceTorque</code> on every joint per update cycle, regardless of its <code>&lt;provide_feedback&gt;</code>-ness, but it seems unreasonable for this message to eat up 3GB of log space in two hours of Gazebo running:</p>\n<p>from  ~/.gazebo/server/default.log:</p>\n<div class=\"codehilite\"><pre><span></span>(1498750973 402591420) [Wrn] [ODEJoint.cc:830] GetForceTorque: forgot to set &lt;provide_feedback&gt;?\n(1498750973 402707271) [Wrn] [ODEJoint.cc:830] GetForceTorque: forgot to set &lt;provide_feedback&gt;?\n(1498750973 402745856) [Wrn] [ODEJoint.cc:830] GetForceTorque: forgot to set &lt;provide_feedback&gt;?\n(1498750973 402781524) [Wrn] [ODEJoint.cc:830] GetForceTorque: forgot to set &lt;provide_feedback&gt;?\n(1498750973 402815754) [Wrn] [ODEJoint.cc:830] GetForceTorque: forgot to set &lt;provide_feedback&gt;?\n(1498750973 402849471) [Wrn] [ODEJoint.cc:830] GetForceTorque: forgot to set &lt;provide_feedback&gt;?\n(1498750973 402889039) [Wrn] [ODEJoint.cc:830] GetForceTorque: forgot to set &lt;provide_feedback&gt;?\n(1498750973 402923820) [Wrn] [ODEJoint.cc:830] GetForceTorque: forgot to set &lt;provide_feedback&gt;?\n(1498750973 404869225) [Wrn] [ODEJoint.cc:830] GetForceTorque: forgot to set &lt;provide_feedback&gt;?\n(1498750973 404923374) [Wrn] [ODEJoint.cc:830] GetForceTorque: forgot to set &lt;provide_feedback&gt;?\n(1498750973 404961731) [Wrn] [ODEJoint.cc:830] GetForceTorque: forgot to set &lt;provide_feedback&gt;?\n(1498750973 404997170) [Wrn] [ODEJoint.cc:830] GetForceTorque: forgot to set &lt;provide_feedback&gt;?\n(1498750973 405071536) [Wrn] [ODEJoint.cc:830] GetForceTorque: forgot to set &lt;provide_feedback&gt;?\n(1498750973 405105430) [Wrn] [ODEJoint.cc:830] GetForceTorque: forgot to set &lt;provide_feedback&gt;?\n</pre></div>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "7.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242744.json"}}}, "edited_on": null, "created_on": "2017-06-29T17:31:47.121742+00:00", "milestone": null, "updated_on": "2017-06-29T17:31:47.121742+00:00", "type": "issue", "id": 2310}, {"priority": "minor", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2311/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2311.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2311/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2311/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2311/document-that-gazebo-uses-a-fork-of-ode"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2311/vote"}}, "reporter": {"display_name": "Silvio Traversaro", "uuid": "{34f404cb-5642-4f27-a032-e04c7143d776}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D"}, "html": {"href": "https://bitbucket.org/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6/578caaa1-056c-45a2-8bf9-bee94c3bebef/128"}}, "nickname": "traversaro", "type": "user", "account_id": "557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6"}, "title": "Document that Gazebo uses a fork of ODE rather than upstream ODE", "component": {"name": "documentation", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/141921.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "While discussing with colleagues in my institution or in collaborative projects, one of the common misconception related to the relation between Gazebo and ODE is that Gazebo uses the ODE upstream version, while Gazebo is actually using a ~5/6 years old ODE fork that has been heavily patched [1]. \r\n\r\nWhile upstream ODE and Gazebo's ODE fork still share most of the overall architecture, I think it is still valuable for users to be aware of the differences between the two, especially when they are dealing with corner cases or when debugging strange behaviors. It would be nice also to have a specific name for Gazebo's ODE fork, something such as `gazebo-ode`.\r\n\r\nThe \"Phyics Engine Support\" section of the Gazebo website (http://gazebosim.org/) may be a well exposed place on which to refer to this kind of information. \r\n\r\n[1] : https://www.osrfoundation.org/wordpress2/wp-content/uploads/2015/04/simpar2014.pdf", "markup": "markdown", "html": "<p>While discussing with colleagues in my institution or in collaborative projects, one of the common misconception related to the relation between Gazebo and ODE is that Gazebo uses the ODE upstream version, while Gazebo is actually using a ~5/6 years old ODE fork that has been heavily patched [1]. </p>\n<p>While upstream ODE and Gazebo's ODE fork still share most of the overall architecture, I think it is still valuable for users to be aware of the differences between the two, especially when they are dealing with corner cases or when debugging strange behaviors. It would be nice also to have a specific name for Gazebo's ODE fork, something such as <code>gazebo-ode</code>.</p>\n<p>The \"Phyics Engine Support\" section of the Gazebo website (<a href=\"http://gazebosim.org/\" rel=\"nofollow\" class=\"ap-connect-link\">http://gazebosim.org/</a>) may be a well exposed place on which to refer to this kind of information. </p>\n<p>[1] : <a href=\"https://www.osrfoundation.org/wordpress2/wp-content/uploads/2015/04/simpar2014.pdf\" rel=\"nofollow\" class=\"ap-connect-link\">https://www.osrfoundation.org/wordpress2/wp-content/uploads/2015/04/simpar2014.pdf</a></p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2017-06-30T05:36:12.206812+00:00", "milestone": null, "updated_on": "2017-07-05T16:59:39.765332+00:00", "type": "issue", "id": 2311}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2312/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2312.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2312/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2312/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2312/dyld-symbol-not-found-on-macos"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2312/vote"}}, "reporter": null, "title": "dyld: Symbol not found on macOS", "component": null, "votes": 0, "watches": 1, "content": {"raw": "I get this error both when trying to install gazebo via homebrew (without any specific \"with\" options) as well as via the shell script provided in the installation guide.\r\n\r\n\r\n```\r\n#!Bash\r\n\r\n==> /usr/local/Cellar/gazebo8/8.1.1_1/bin/gz sdf\r\nLast 15 lines from /Users/myUser/Library/Logs/Homebrew/gazebo8/test.01.gz:\r\n2017-07-05 15:43:39 +0200\r\n\r\n/usr/local/Cellar/gazebo8/8.1.1_1/bin/gz\r\nsdf\r\n\r\ndyld: Symbol not found: __ZN18btSliderConstraint8setParamEifi\r\n  Referenced from: /usr/local/Cellar/gazebo8/8.1.1_1/lib/libgazebo_physics.8.dylib\r\n  Expected in: /usr/local/opt/bullet/lib/libBulletDynamics.2.86.dylib\r\n in /usr/local/Cellar/gazebo8/8.1.1_1/lib/libgazebo_physics.8.dylib\r\nError: osrf/simulation/gazebo8: failed\r\nFailed executing: /usr/local/Cellar/gazebo8/8.1.1_1/bin/gz sdf\r\n/usr/local/Homebrew/Library/Homebrew/formula.rb:1804:in `block in system'\r\n/usr/local/Homebrew/Library/Homebrew/formula.rb:1742:in `open'\r\n/usr/local/Homebrew/Library/Homebrew/formula.rb:1742:in `system'\r\n/usr/local/Homebrew/Library/Taps/osrf/homebrew-simulation/gazebo8.rb:77:in `block in <class:Gazebo8>'\r\n/usr/local/Homebrew/Library/Homebrew/formula.rb:1639:in `block (2 levels) in run_test'\r\n/usr/local/Homebrew/Library/Homebrew/formula.rb:832:in `with_logging'\r\n/usr/local/Homebrew/Library/Homebrew/formula.rb:1638:in `block in run_test'\r\n/usr/local/Homebrew/Library/Homebrew/extend/fileutils.rb:14:in `block in mktemp'\r\n/usr/local/Homebrew/Library/Homebrew/extend/fileutils.rb:74:in `block in run'\r\n/usr/local/Homebrew/Library/Homebrew/extend/fileutils.rb:74:in `chdir'\r\n/usr/local/Homebrew/Library/Homebrew/extend/fileutils.rb:74:in `run'\r\n/usr/local/Homebrew/Library/Homebrew/extend/fileutils.rb:13:in `mktemp'\r\n/usr/local/Homebrew/Library/Homebrew/formula.rb:1632:in `run_test'\r\n/usr/local/Homebrew/Library/Homebrew/test.rb:28:in `block in <main>'\r\n/System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/lib/ruby/2.0.0/timeout.rb:66:in `timeout'\r\n/usr/local/Homebrew/Library/Homebrew/test.rb:27:in `<main>'\r\n```\r\n\r\nI am using macOS version 10.12.5 with xCode installed.", "markup": "markdown", "html": "<p>I get this error both when trying to install gazebo via homebrew (without any specific \"with\" options) as well as via the shell script provided in the installation guide.</p>\n<div class=\"codehilite language-bash\"><pre><span></span><span class=\"o\">==</span>&gt; /usr/local/Cellar/gazebo8/8.1.1_1/bin/gz sdf\nLast <span class=\"m\">15</span> lines from /Users/myUser/Library/Logs/Homebrew/gazebo8/test.01.gz:\n<span class=\"m\">2017</span>-07-05 <span class=\"m\">15</span>:43:39 +0200\n\n/usr/local/Cellar/gazebo8/8.1.1_1/bin/gz\nsdf\n\ndyld: Symbol not found: __ZN18btSliderConstraint8setParamEifi\n  Referenced from: /usr/local/Cellar/gazebo8/8.1.1_1/lib/libgazebo_physics.8.dylib\n  Expected in: /usr/local/opt/bullet/lib/libBulletDynamics.2.86.dylib\n in /usr/local/Cellar/gazebo8/8.1.1_1/lib/libgazebo_physics.8.dylib\nError: osrf/simulation/gazebo8: failed\nFailed executing: /usr/local/Cellar/gazebo8/8.1.1_1/bin/gz sdf\n/usr/local/Homebrew/Library/Homebrew/formula.rb:1804:in <span class=\"sb\">`</span>block in system<span class=\"s1\">&#39;</span>\n<span class=\"s1\">/usr/local/Homebrew/Library/Homebrew/formula.rb:1742:in `open&#39;</span>\n/usr/local/Homebrew/Library/Homebrew/formula.rb:1742:in <span class=\"sb\">`</span>system<span class=\"s1\">&#39;</span>\n<span class=\"s1\">/usr/local/Homebrew/Library/Taps/osrf/homebrew-simulation/gazebo8.rb:77:in `block in &lt;class:Gazebo8&gt;&#39;</span>\n/usr/local/Homebrew/Library/Homebrew/formula.rb:1639:in <span class=\"sb\">`</span>block <span class=\"o\">(</span><span class=\"m\">2</span> levels<span class=\"o\">)</span> in run_test<span class=\"s1\">&#39;</span>\n<span class=\"s1\">/usr/local/Homebrew/Library/Homebrew/formula.rb:832:in `with_logging&#39;</span>\n/usr/local/Homebrew/Library/Homebrew/formula.rb:1638:in <span class=\"sb\">`</span>block in run_test<span class=\"s1\">&#39;</span>\n<span class=\"s1\">/usr/local/Homebrew/Library/Homebrew/extend/fileutils.rb:14:in `block in mktemp&#39;</span>\n/usr/local/Homebrew/Library/Homebrew/extend/fileutils.rb:74:in <span class=\"sb\">`</span>block in run<span class=\"s1\">&#39;</span>\n<span class=\"s1\">/usr/local/Homebrew/Library/Homebrew/extend/fileutils.rb:74:in `chdir&#39;</span>\n/usr/local/Homebrew/Library/Homebrew/extend/fileutils.rb:74:in <span class=\"sb\">`</span>run<span class=\"s1\">&#39;</span>\n<span class=\"s1\">/usr/local/Homebrew/Library/Homebrew/extend/fileutils.rb:13:in `mktemp&#39;</span>\n/usr/local/Homebrew/Library/Homebrew/formula.rb:1632:in <span class=\"sb\">`</span>run_test<span class=\"s1\">&#39;</span>\n<span class=\"s1\">/usr/local/Homebrew/Library/Homebrew/test.rb:28:in `block in &lt;main&gt;&#39;</span>\n/System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/lib/ruby/2.0.0/timeout.rb:66:in <span class=\"sb\">`</span>timeout<span class=\"s1\">&#39;</span>\n<span class=\"s1\">/usr/local/Homebrew/Library/Homebrew/test.rb:27:in `&lt;main&gt;&#39;</span>\n</pre></div>\n\n\n<p>I am using macOS version 10.12.5 with xCode installed.</p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2017-07-05T13:51:39.627622+00:00", "milestone": null, "updated_on": "2017-07-06T16:31:26.203380+00:00", "type": "issue", "id": 2312}, {"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2313/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2313.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2313/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2313/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2313/composite-model-sdf-self-collision-flag"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2313/vote"}}, "reporter": {"display_name": "yeshasvitvs", "uuid": "{794fe1af-668d-47a4-a1b4-472721ab242c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B794fe1af-668d-47a4-a1b4-472721ab242c%7D"}, "html": {"href": "https://bitbucket.org/%7B794fe1af-668d-47a4-a1b4-472721ab242c%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/b7d7fdc06daa6a33c944696c643bea49d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsY-0.png"}}, "nickname": "yeshasvitvs", "type": "user", "account_id": "557058:86b706df-ff22-48bb-ad55-e051fd800c23"}, "title": "Composite model sdf : self collision flag usage", "component": null, "votes": 0, "watches": 0, "content": {"raw": "Hello, \r\n\r\nI tried to use two gazebo models in a single sdf with some of their links connected through a fixed joint. One of the models is of the iCub robot and the other is a 2 link manipulator. When launching this composite model in gazebo I noticed that iCub robot is exploding. The problem was self_collision flag is set in the manipulator sdf and it is not set in icub sdf. So when loading the composite model the flag is enabled and this leads to self collisions in iCub robot and the explosive behaviour. By setting the flag false things are normal when loading the composite model. \r\n\r\n\r\n```\r\n#!xml\r\n\r\n<?xml version='1.0'?>\r\n<sdf version='1.5'>\r\n  <model name=\"icub_1r_2link\">\r\n\r\n    <include>\r\n      <uri>model://icub</uri>\r\n    </include>\r\n\r\n    <include>\r\n      <uri>model://1r_2link</uri>\r\n      <pose>.4 0.114639 0.1 0 0 -0.43</pose>\r\n    </include>\r\n\r\n    <joint name='first_hand_joint' type='fixed'>\r\n      <child>1r_2link::first_link_handle</child>\r\n      <parent>iCub::l_hand</parent>\r\n      <axis>\r\n        <xyz>0 0 0</xyz>\r\n      </axis>\r\n    </joint>\r\n\r\n    <joint name='second_hand_joint' type='fixed'>\r\n      <child>1r_2link::second_link_handle</child>\r\n      <parent>iCub::r_hand</parent>\r\n      <axis>\r\n        <xyz>0 0 0</xyz>\r\n      </axis>\r\n    </joint>\r\n\r\n  </model>\r\n</sdf>\r\n\r\n\r\n```", "markup": "markdown", "html": "<p>Hello, </p>\n<p>I tried to use two gazebo models in a single sdf with some of their links connected through a fixed joint. One of the models is of the iCub robot and the other is a 2 link manipulator. When launching this composite model in gazebo I noticed that iCub robot is exploding. The problem was self_collision flag is set in the manipulator sdf and it is not set in icub sdf. So when loading the composite model the flag is enabled and this leads to self collisions in iCub robot and the explosive behaviour. By setting the flag false things are normal when loading the composite model. </p>\n<div class=\"codehilite language-xml\"><pre><span></span><span class=\"cp\">&lt;?xml version=&#39;1.0&#39;?&gt;</span>\n<span class=\"nt\">&lt;sdf</span> <span class=\"na\">version=</span><span class=\"s\">&#39;1.5&#39;</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;model</span> <span class=\"na\">name=</span><span class=\"s\">&quot;icub_1r_2link&quot;</span><span class=\"nt\">&gt;</span>\n\n    <span class=\"nt\">&lt;include&gt;</span>\n      <span class=\"nt\">&lt;uri&gt;</span>model://icub<span class=\"nt\">&lt;/uri&gt;</span>\n    <span class=\"nt\">&lt;/include&gt;</span>\n\n    <span class=\"nt\">&lt;include&gt;</span>\n      <span class=\"nt\">&lt;uri&gt;</span>model://1r_2link<span class=\"nt\">&lt;/uri&gt;</span>\n      <span class=\"nt\">&lt;pose&gt;</span>.4 0.114639 0.1 0 0 -0.43<span class=\"nt\">&lt;/pose&gt;</span>\n    <span class=\"nt\">&lt;/include&gt;</span>\n\n    <span class=\"nt\">&lt;joint</span> <span class=\"na\">name=</span><span class=\"s\">&#39;first_hand_joint&#39;</span> <span class=\"na\">type=</span><span class=\"s\">&#39;fixed&#39;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;child&gt;</span>1r_2link::first_link_handle<span class=\"nt\">&lt;/child&gt;</span>\n      <span class=\"nt\">&lt;parent&gt;</span>iCub::l_hand<span class=\"nt\">&lt;/parent&gt;</span>\n      <span class=\"nt\">&lt;axis&gt;</span>\n        <span class=\"nt\">&lt;xyz&gt;</span>0 0 0<span class=\"nt\">&lt;/xyz&gt;</span>\n      <span class=\"nt\">&lt;/axis&gt;</span>\n    <span class=\"nt\">&lt;/joint&gt;</span>\n\n    <span class=\"nt\">&lt;joint</span> <span class=\"na\">name=</span><span class=\"s\">&#39;second_hand_joint&#39;</span> <span class=\"na\">type=</span><span class=\"s\">&#39;fixed&#39;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;child&gt;</span>1r_2link::second_link_handle<span class=\"nt\">&lt;/child&gt;</span>\n      <span class=\"nt\">&lt;parent&gt;</span>iCub::r_hand<span class=\"nt\">&lt;/parent&gt;</span>\n      <span class=\"nt\">&lt;axis&gt;</span>\n        <span class=\"nt\">&lt;xyz&gt;</span>0 0 0<span class=\"nt\">&lt;/xyz&gt;</span>\n      <span class=\"nt\">&lt;/axis&gt;</span>\n    <span class=\"nt\">&lt;/joint&gt;</span>\n\n  <span class=\"nt\">&lt;/model&gt;</span>\n<span class=\"nt\">&lt;/sdf&gt;</span>\n</pre></div>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "7.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242744.json"}}}, "edited_on": null, "created_on": "2017-07-06T12:15:50.817266+00:00", "milestone": null, "updated_on": "2017-07-06T12:17:03.676780+00:00", "type": "issue", "id": 2313}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2314/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2314.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2314/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2314/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2314/sonar-sensor-is-not-compatible-with-ray"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2314/vote"}}, "reporter": {"display_name": "narwel_evanli", "uuid": "{747cece9-ce4a-470b-8484-b95fe43b13f3}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B747cece9-ce4a-470b-8484-b95fe43b13f3%7D"}, "html": {"href": "https://bitbucket.org/%7B747cece9-ce4a-470b-8484-b95fe43b13f3%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/541d2c224ee18e668d88ab2a5b6835b6d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsN-2.png"}}, "nickname": "narwel_evanli", "type": "user", "account_id": "557058:168a414e-dccd-4184-8d32-4d56e613ae23"}, "title": "Sonar sensor is not compatible with ray sensor", "component": {"name": "sensors::RaySensor", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122886.json"}}}, "votes": 1, "watches": 1, "content": {"raw": "Sonar is not compatible with ray sensor , attachment is example you can run with \r\n\r\n```\r\n#!bash\r\n roslaunch sonar.launch \r\n\r\n```\r\n\r\n```\r\n#!xml\r\n\r\n\r\n\r\n<?xml version=\"1.0\"?>\r\n\r\n<robot name=\"sensor\" xmlns:xacro=\"http://www.ros.org/wiki/xacro\">\r\n    <!-- camera -->\r\n\r\n\r\n    <link name=\"base_link\"/>\r\n\r\n    <joint name=\"sonar_joint\" type=\"fixed\">\r\n        <origin xyz=\"0 0 0.0\" rpy=\"0 1.5708 0\"/>\r\n        <parent link=\"base_link\"/>\r\n        <child link=\"sonar_link\"/>\r\n    </joint>\r\n\r\n    <link name=\"sonar_link\">\r\n        <inertial>\r\n            <mass value=\"0.001\"/>\r\n            <origin xyz=\"0 0 0.0\" rpy=\"0 0 0 \"/>\r\n            <inertia ixx=\"0.000000017\" ixy=\"0\" ixz=\"0\" iyy=\"0.000000017\" iyz=\"0\" izz=\"0.000000017\"/>\r\n        </inertial>\r\n        <visual>\r\n            <origin xyz=\"0 0 0.0\" rpy=\"0 0 0\"/>\r\n            <geometry>\r\n                <box size=\"0.10 0.10 0.10\"/>\r\n            </geometry>\r\n        </visual>\r\n        <collision>\r\n            <origin xyz=\"0 0 0.0\" rpy=\"0 0 0\"/>\r\n            <geometry>\r\n                <box size=\"0.10 0.10 0.10\"/>\r\n            </geometry>\r\n        </collision>\r\n    </link>\r\n\r\n    <gazebo reference=\"sonar_link\">\r\n        <sensor name=\"sonar\" type=\"sonar\">\r\n            <pose>0.0 0.10 0.6 0 0 0 0</pose>\r\n            <sonar>\r\n                <min>0</min>\r\n                <max>2.00</max>\r\n                <radius>0.3</radius>\r\n            </sonar>\r\n            <!--<always_on>true</always_on>-->\r\n            <update_rate>30</update_rate>\r\n            <visualize>true</visualize>\r\n        </sensor>\r\n\r\n\r\n    </gazebo>\r\n\r\n\r\n    <joint name=\"laser\" type=\"fixed\">\r\n        <!--<origin xyz=\"-0.122 0.00 0.09165\" rpy=\"0 0 -1.928588823\" />-->\r\n        <origin xyz=\"-0.106 0.00 0.3165\" rpy=\"0 0 0\"/>\r\n        <parent link=\"base_link\"/>\r\n        <child link=\"laser_link\"/>\r\n    </joint>\r\n\r\n    <link name=\"laser_link\">\r\n\r\n        <visual>\r\n            <origin xyz=\"0 0 0.0\" rpy=\"0 0 0\"/>\r\n            <geometry>\r\n                <box size=\"0.01 0.01 0.01\"/>\r\n            </geometry>\r\n        </visual>\r\n\r\n    </link>\r\n\r\n    <gazebo reference=\"laser_link\">\r\n        <sensor type=\"ray\" name=\"laser_sensor\">\r\n            <pose>0 0 0 0 0 0</pose>\r\n            <visualize>true</visualize>\r\n            <update_rate>10</update_rate>\r\n            <ray>\r\n                <scan>\r\n                    <horizontal>\r\n                        <samples>360</samples>\r\n                        <resolution>1</resolution>\r\n                        <min_angle>-3.1415926</min_angle>\r\n                        <max_angle>3.1415926</max_angle>\r\n\r\n                    </horizontal>\r\n                </scan>\r\n                <range>\r\n                    <min>0.0</min>\r\n                    <max>6.0</max>\r\n                    <resolution>0.01</resolution>\r\n                </range>\r\n                <noise>\r\n                    <type>none</type>\r\n                    <!-- Noise parameters based on published spec for Hokuyo laser\r\n                         achieving \"+-30mm\" accuracy at range < 10m.  A mean of 0.0m and\r\n                         stddev of 0.01m will put 99.7% of samples within 0.03m of the true\r\n                         reading. -->\r\n                    <mean>0.0</mean>\r\n                    <stddev>0.0</stddev>\r\n                </noise>\r\n            </ray>\r\n\r\n        </sensor>\r\n    </gazebo>\r\n    <!--sensor_scan parent=\"base_link\"/-->\r\n\r\n</robot>\r\n\r\n```\r\nadd some obstacle to the world , you will see the result as below:\r\n![result.png](data/bitbucket.org/repo/jgXqbo/images/2171133762-result.png)", "markup": "markdown", "html": "<p>Sonar is not compatible with ray sensor , attachment is example you can run with </p>\n<div class=\"codehilite language-bash\"><pre><span></span> roslaunch sonar.launch \n</pre></div>\n\n\n<div class=\"codehilite language-xml\"><pre><span></span><span class=\"cp\">&lt;?xml version=&quot;1.0&quot;?&gt;</span>\n\n<span class=\"nt\">&lt;robot</span> <span class=\"na\">name=</span><span class=\"s\">&quot;sensor&quot;</span> <span class=\"na\">xmlns:xacro=</span><span class=\"s\">&quot;http://www.ros.org/wiki/xacro&quot;</span><span class=\"nt\">&gt;</span>\n    <span class=\"c\">&lt;!-- camera --&gt;</span>\n\n\n    <span class=\"nt\">&lt;link</span> <span class=\"na\">name=</span><span class=\"s\">&quot;base_link&quot;</span><span class=\"nt\">/&gt;</span>\n\n    <span class=\"nt\">&lt;joint</span> <span class=\"na\">name=</span><span class=\"s\">&quot;sonar_joint&quot;</span> <span class=\"na\">type=</span><span class=\"s\">&quot;fixed&quot;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;origin</span> <span class=\"na\">xyz=</span><span class=\"s\">&quot;0 0 0.0&quot;</span> <span class=\"na\">rpy=</span><span class=\"s\">&quot;0 1.5708 0&quot;</span><span class=\"nt\">/&gt;</span>\n        <span class=\"nt\">&lt;parent</span> <span class=\"na\">link=</span><span class=\"s\">&quot;base_link&quot;</span><span class=\"nt\">/&gt;</span>\n        <span class=\"nt\">&lt;child</span> <span class=\"na\">link=</span><span class=\"s\">&quot;sonar_link&quot;</span><span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;/joint&gt;</span>\n\n    <span class=\"nt\">&lt;link</span> <span class=\"na\">name=</span><span class=\"s\">&quot;sonar_link&quot;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;inertial&gt;</span>\n            <span class=\"nt\">&lt;mass</span> <span class=\"na\">value=</span><span class=\"s\">&quot;0.001&quot;</span><span class=\"nt\">/&gt;</span>\n            <span class=\"nt\">&lt;origin</span> <span class=\"na\">xyz=</span><span class=\"s\">&quot;0 0 0.0&quot;</span> <span class=\"na\">rpy=</span><span class=\"s\">&quot;0 0 0 &quot;</span><span class=\"nt\">/&gt;</span>\n            <span class=\"nt\">&lt;inertia</span> <span class=\"na\">ixx=</span><span class=\"s\">&quot;0.000000017&quot;</span> <span class=\"na\">ixy=</span><span class=\"s\">&quot;0&quot;</span> <span class=\"na\">ixz=</span><span class=\"s\">&quot;0&quot;</span> <span class=\"na\">iyy=</span><span class=\"s\">&quot;0.000000017&quot;</span> <span class=\"na\">iyz=</span><span class=\"s\">&quot;0&quot;</span> <span class=\"na\">izz=</span><span class=\"s\">&quot;0.000000017&quot;</span><span class=\"nt\">/&gt;</span>\n        <span class=\"nt\">&lt;/inertial&gt;</span>\n        <span class=\"nt\">&lt;visual&gt;</span>\n            <span class=\"nt\">&lt;origin</span> <span class=\"na\">xyz=</span><span class=\"s\">&quot;0 0 0.0&quot;</span> <span class=\"na\">rpy=</span><span class=\"s\">&quot;0 0 0&quot;</span><span class=\"nt\">/&gt;</span>\n            <span class=\"nt\">&lt;geometry&gt;</span>\n                <span class=\"nt\">&lt;box</span> <span class=\"na\">size=</span><span class=\"s\">&quot;0.10 0.10 0.10&quot;</span><span class=\"nt\">/&gt;</span>\n            <span class=\"nt\">&lt;/geometry&gt;</span>\n        <span class=\"nt\">&lt;/visual&gt;</span>\n        <span class=\"nt\">&lt;collision&gt;</span>\n            <span class=\"nt\">&lt;origin</span> <span class=\"na\">xyz=</span><span class=\"s\">&quot;0 0 0.0&quot;</span> <span class=\"na\">rpy=</span><span class=\"s\">&quot;0 0 0&quot;</span><span class=\"nt\">/&gt;</span>\n            <span class=\"nt\">&lt;geometry&gt;</span>\n                <span class=\"nt\">&lt;box</span> <span class=\"na\">size=</span><span class=\"s\">&quot;0.10 0.10 0.10&quot;</span><span class=\"nt\">/&gt;</span>\n            <span class=\"nt\">&lt;/geometry&gt;</span>\n        <span class=\"nt\">&lt;/collision&gt;</span>\n    <span class=\"nt\">&lt;/link&gt;</span>\n\n    <span class=\"nt\">&lt;gazebo</span> <span class=\"na\">reference=</span><span class=\"s\">&quot;sonar_link&quot;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;sensor</span> <span class=\"na\">name=</span><span class=\"s\">&quot;sonar&quot;</span> <span class=\"na\">type=</span><span class=\"s\">&quot;sonar&quot;</span><span class=\"nt\">&gt;</span>\n            <span class=\"nt\">&lt;pose&gt;</span>0.0 0.10 0.6 0 0 0 0<span class=\"nt\">&lt;/pose&gt;</span>\n            <span class=\"nt\">&lt;sonar&gt;</span>\n                <span class=\"nt\">&lt;min&gt;</span>0<span class=\"nt\">&lt;/min&gt;</span>\n                <span class=\"nt\">&lt;max&gt;</span>2.00<span class=\"nt\">&lt;/max&gt;</span>\n                <span class=\"nt\">&lt;radius&gt;</span>0.3<span class=\"nt\">&lt;/radius&gt;</span>\n            <span class=\"nt\">&lt;/sonar&gt;</span>\n            <span class=\"c\">&lt;!--&lt;always_on&gt;true&lt;/always_on&gt;--&gt;</span>\n            <span class=\"nt\">&lt;update_rate&gt;</span>30<span class=\"nt\">&lt;/update_rate&gt;</span>\n            <span class=\"nt\">&lt;visualize&gt;</span>true<span class=\"nt\">&lt;/visualize&gt;</span>\n        <span class=\"nt\">&lt;/sensor&gt;</span>\n\n\n    <span class=\"nt\">&lt;/gazebo&gt;</span>\n\n\n    <span class=\"nt\">&lt;joint</span> <span class=\"na\">name=</span><span class=\"s\">&quot;laser&quot;</span> <span class=\"na\">type=</span><span class=\"s\">&quot;fixed&quot;</span><span class=\"nt\">&gt;</span>\n        <span class=\"c\">&lt;!--&lt;origin xyz=&quot;-0.122 0.00 0.09165&quot; rpy=&quot;0 0 -1.928588823&quot; /&gt;--&gt;</span>\n        <span class=\"nt\">&lt;origin</span> <span class=\"na\">xyz=</span><span class=\"s\">&quot;-0.106 0.00 0.3165&quot;</span> <span class=\"na\">rpy=</span><span class=\"s\">&quot;0 0 0&quot;</span><span class=\"nt\">/&gt;</span>\n        <span class=\"nt\">&lt;parent</span> <span class=\"na\">link=</span><span class=\"s\">&quot;base_link&quot;</span><span class=\"nt\">/&gt;</span>\n        <span class=\"nt\">&lt;child</span> <span class=\"na\">link=</span><span class=\"s\">&quot;laser_link&quot;</span><span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;/joint&gt;</span>\n\n    <span class=\"nt\">&lt;link</span> <span class=\"na\">name=</span><span class=\"s\">&quot;laser_link&quot;</span><span class=\"nt\">&gt;</span>\n\n        <span class=\"nt\">&lt;visual&gt;</span>\n            <span class=\"nt\">&lt;origin</span> <span class=\"na\">xyz=</span><span class=\"s\">&quot;0 0 0.0&quot;</span> <span class=\"na\">rpy=</span><span class=\"s\">&quot;0 0 0&quot;</span><span class=\"nt\">/&gt;</span>\n            <span class=\"nt\">&lt;geometry&gt;</span>\n                <span class=\"nt\">&lt;box</span> <span class=\"na\">size=</span><span class=\"s\">&quot;0.01 0.01 0.01&quot;</span><span class=\"nt\">/&gt;</span>\n            <span class=\"nt\">&lt;/geometry&gt;</span>\n        <span class=\"nt\">&lt;/visual&gt;</span>\n\n    <span class=\"nt\">&lt;/link&gt;</span>\n\n    <span class=\"nt\">&lt;gazebo</span> <span class=\"na\">reference=</span><span class=\"s\">&quot;laser_link&quot;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;sensor</span> <span class=\"na\">type=</span><span class=\"s\">&quot;ray&quot;</span> <span class=\"na\">name=</span><span class=\"s\">&quot;laser_sensor&quot;</span><span class=\"nt\">&gt;</span>\n            <span class=\"nt\">&lt;pose&gt;</span>0 0 0 0 0 0<span class=\"nt\">&lt;/pose&gt;</span>\n            <span class=\"nt\">&lt;visualize&gt;</span>true<span class=\"nt\">&lt;/visualize&gt;</span>\n            <span class=\"nt\">&lt;update_rate&gt;</span>10<span class=\"nt\">&lt;/update_rate&gt;</span>\n            <span class=\"nt\">&lt;ray&gt;</span>\n                <span class=\"nt\">&lt;scan&gt;</span>\n                    <span class=\"nt\">&lt;horizontal&gt;</span>\n                        <span class=\"nt\">&lt;samples&gt;</span>360<span class=\"nt\">&lt;/samples&gt;</span>\n                        <span class=\"nt\">&lt;resolution&gt;</span>1<span class=\"nt\">&lt;/resolution&gt;</span>\n                        <span class=\"nt\">&lt;min_angle&gt;</span>-3.1415926<span class=\"nt\">&lt;/min_angle&gt;</span>\n                        <span class=\"nt\">&lt;max_angle&gt;</span>3.1415926<span class=\"nt\">&lt;/max_angle&gt;</span>\n\n                    <span class=\"nt\">&lt;/horizontal&gt;</span>\n                <span class=\"nt\">&lt;/scan&gt;</span>\n                <span class=\"nt\">&lt;range&gt;</span>\n                    <span class=\"nt\">&lt;min&gt;</span>0.0<span class=\"nt\">&lt;/min&gt;</span>\n                    <span class=\"nt\">&lt;max&gt;</span>6.0<span class=\"nt\">&lt;/max&gt;</span>\n                    <span class=\"nt\">&lt;resolution&gt;</span>0.01<span class=\"nt\">&lt;/resolution&gt;</span>\n                <span class=\"nt\">&lt;/range&gt;</span>\n                <span class=\"nt\">&lt;noise&gt;</span>\n                    <span class=\"nt\">&lt;type&gt;</span>none<span class=\"nt\">&lt;/type&gt;</span>\n                    <span class=\"c\">&lt;!-- Noise parameters based on published spec for Hokuyo laser</span>\n<span class=\"c\">                         achieving &quot;+-30mm&quot; accuracy at range &lt; 10m.  A mean of 0.0m and</span>\n<span class=\"c\">                         stddev of 0.01m will put 99.7% of samples within 0.03m of the true</span>\n<span class=\"c\">                         reading. --&gt;</span>\n                    <span class=\"nt\">&lt;mean&gt;</span>0.0<span class=\"nt\">&lt;/mean&gt;</span>\n                    <span class=\"nt\">&lt;stddev&gt;</span>0.0<span class=\"nt\">&lt;/stddev&gt;</span>\n                <span class=\"nt\">&lt;/noise&gt;</span>\n            <span class=\"nt\">&lt;/ray&gt;</span>\n\n        <span class=\"nt\">&lt;/sensor&gt;</span>\n    <span class=\"nt\">&lt;/gazebo&gt;</span>\n    <span class=\"c\">&lt;!--sensor_scan parent=&quot;base_link&quot;/--&gt;</span>\n\n<span class=\"nt\">&lt;/robot&gt;</span>\n</pre></div>\n\n\n<p>add some obstacle to the world , you will see the result as below:\n<img alt=\"result.png\" src=\"data/bitbucket.org/repo/jgXqbo/images/2171133762-result.png\" /></p>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "7.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242744.json"}}}, "edited_on": null, "created_on": "2017-07-07T14:25:23.592275+00:00", "milestone": null, "updated_on": "2017-07-08T00:42:07.091841+00:00", "type": "issue", "id": 2314}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2315/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2315.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2315/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2315/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2315/user-camera-cannot-orbit-around-terrain"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2315/vote"}}, "reporter": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "title": "User camera cannot orbit around terrain skirt", "component": {"name": "rendering", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122881.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "From discussion in pull request #2688:\r\n\r\n![orbit_heightmap.gif](data/bitbucket.org/repo/jgXqbo/images/341089527-orbit_heightmap.gif)\r\n\r\n\"the terrain skirts are actually not part of the terrain surface and so the ogre terrain's ray intersection function we use doesn't return any results. We'll need write our own logic for handling this. I think it's already a problem on gazebo7 before the fix.\"", "markup": "markdown", "html": "<p>From discussion in <a href=\"#!/osrf/gazebo/pull-requests/2688/fix-orbiting-view-around-heightmap\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #2688</a>:</p>\n<p><img alt=\"orbit_heightmap.gif\" src=\"data/bitbucket.org/repo/jgXqbo/images/341089527-orbit_heightmap.gif\" /></p>\n<p>\"the terrain skirts are actually not part of the terrain surface and so the ogre terrain's ray intersection function we use doesn't return any results. We'll need write our own logic for handling this. I think it's already a problem on gazebo7 before the fix.\"</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2017-07-08T00:10:46.346366+00:00", "milestone": null, "updated_on": "2017-07-08T00:10:46.346366+00:00", "type": "issue", "id": 2315}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2316/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2316.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2316/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2316/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2316/please-help-pausing-the-physics-in-sensors"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2316/vote"}}, "reporter": {"display_name": "Hamza Merzi\u0107", "uuid": "{2100f54d-6bc6-4db0-ada5-db7be9320606}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2100f54d-6bc6-4db0-ada5-db7be9320606%7D"}, "html": {"href": "https://bitbucket.org/%7B2100f54d-6bc6-4db0-ada5-db7be9320606%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:172a2e1e-2bf2-4054-9b9b-9d541ddc8e4e/ab842f18-c8ca-4a0c-a82a-6d4d39ffdb37/128"}}, "nickname": "hamzaethz", "type": "user", "account_id": "557058:172a2e1e-2bf2-4054-9b9b-9d541ddc8e4e"}, "title": "[Please help] Pausing the physics in sensor's OnUpdate function gives \"Took over 1.0 seconds to update a sensor.\"", "component": {"name": "physics", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122876.json"}}}, "votes": 0, "watches": 0, "content": {"raw": "I am running multiple simulations on a cluster and **almost 50% of them crash** with the same issue. The exact error message is the following:\r\n\r\n```\r\n#!\r\n\r\ngzserver: /build/gazebo-nhSAPd/gazebo-7.0.0+dfsg/gazebo/sensors/SensorManager.cc:545: void gazebo::sensors::SensorManager::SensorContainer::RunLoop(): Assertion `(diffTime.sec < 1)&&(\"Took over 1.0 seconds to update a sensor.\")' failed.\r\n[2017-07-26 22:08:46,240] Traceback (most recent call last):\r\n  File \"/opt/ros/kinetic/lib/python2.7/dist-packages/rospy/impl/tcpros_base.py\", line 729, in receive_once\r\n    self.stat_bytes += recv_buff(sock, b, p.buff_size)\r\n  File \"/opt/ros/kinetic/lib/python2.7/dist-packages/rospy/impl/tcpros_base.py\", line 103, in recv_buff\r\n    d = sock.recv(buff_size)\r\nerror: [Errno 104] Connection reset by peer\r\n\r\nTraceback (most recent call last):\r\n  File \"trpo_script.py\", line 96, in <module>\r\n    main()\r\n  File \"/grasping_sim/catkin_ws/src/grasping_env/grasping_env/core.py\", line 334, in step\r\n    raise RuntimeError(err)\r\nRuntimeError: transport error completing service call: receive_once[/gazebo/unpause_physics]: unexpected error [Errno 104] Connection reset by peer\r\nAborted (core dumped)\r\n```\r\n\r\nI already posted about this issue [here](http://answers.gazebosim.org/question/16592/simulation-different-when-gzclient-is-open/), [here](http://answers.gazebosim.org/question/16772/gzclient-source-code-location/), [here](http://answers.gazebosim.org/question/16670/pausing-the-physics-in-sensors-onupdate-function-gives-took-over-10-seconds-to-update-a-sensor/) and in this thread. I also found the issue happening a few years back when using parallel physics with island threads as discussed [here](#!/osrf/gazebo/issues/1636/ode-threaded-islands-sometimes-slower-on#comment-18890423). And I spent the last few weeks going through the source code trying to figure out why this would fail and WHY DOES IT NEVER FAIL WHEN GZCLIENT IS OPEN.\r\n\r\n**What I am doing**\r\n\r\nI have an environment that I am applying reinforcement learning to. I am stepping through the environment through ROS, by making a service call to unpause the physics. ROS service server then just does `world_->SetPaused(true/false)`. The measurements that I am returning are the contacts, and to make sure that I have a single observation for every `step`, in the `OnUpdate` callback I pause the world and send the measurement back. \r\n\r\nIn short:\r\nstep from python -> rospy ROS service call -> unpause physics -> measurement received in OnUpdate -> pause physics -> send measurement back (as ROS service to make sure it is received)-> step -> ...\r\n\r\n\r\nThe paradigm is exactly depicted here, but if you think the full source code would help, I can provide it:\r\n```\r\n#!c++\r\n\r\n// I built the plugin by following the instructions here: http://gazebosim.org/tutorials?tut=contact_sensor\r\nGZ_REGISTER_SENSOR_PLUGIN(ObservationPlugin)\r\n\r\n...\r\n\r\nvoid ObservationPlugin::OnUpdate() {\r\n  if (!ros::service::exists(\"/gazebo_sim/transfer_obs\", false)) {\r\n    return;\r\n  }\r\n  // Service that is basically two float arrays, one for contact information (27 floats) and one for robot hand DOF (4 floats).\r\n  grasping_ros_msgs::Observation obs_srv;\r\n\r\n  // Retrieve the contacts and robot hand DOF.\r\n  ...\r\n  \r\n  world_->SetPaused(true);\r\n  obs_client_.call(obs_srv);  // ROS service call which forwards the observation.\r\n}\r\n```\r\n\r\n**What I tried so far**\r\n\r\nI tried a couple of things that I wrote down [here](http://answers.gazebosim.org/question/16592/simulation-different-when-gzclient-is-open/?answer=16676#post-id-16676), which is subscribing to high bandwidth topics (I added some subscribers to gazebo_ros system plugin) and by reducing the `real_time_factor`. Neither of the two helped much. \r\n\r\nPlease, if you have any insights on why this does not work, why the behavior is different when gzclient is open, or know of a better way to structure this so I can achieve what I want, and have it more stable, please don't hold back.", "markup": "markdown", "html": "<p>I am running multiple simulations on a cluster and <strong>almost 50% of them crash</strong> with the same issue. The exact error message is the following:</p>\n<div class=\"codehilite\"><pre><span></span>gzserver: /build/gazebo-nhSAPd/gazebo-7.0.0+dfsg/gazebo/sensors/SensorManager.cc:545: void gazebo::sensors::SensorManager::SensorContainer::RunLoop(): Assertion `(diffTime.sec &lt; 1)&amp;&amp;(&quot;Took over 1.0 seconds to update a sensor.&quot;)&#39; failed.\n[2017-07-26 22:08:46,240] Traceback (most recent call last):\n  File &quot;/opt/ros/kinetic/lib/python2.7/dist-packages/rospy/impl/tcpros_base.py&quot;, line 729, in receive_once\n    self.stat_bytes += recv_buff(sock, b, p.buff_size)\n  File &quot;/opt/ros/kinetic/lib/python2.7/dist-packages/rospy/impl/tcpros_base.py&quot;, line 103, in recv_buff\n    d = sock.recv(buff_size)\nerror: [Errno 104] Connection reset by peer\n\nTraceback (most recent call last):\n  File &quot;trpo_script.py&quot;, line 96, in &lt;module&gt;\n    main()\n  File &quot;/grasping_sim/catkin_ws/src/grasping_env/grasping_env/core.py&quot;, line 334, in step\n    raise RuntimeError(err)\nRuntimeError: transport error completing service call: receive_once[/gazebo/unpause_physics]: unexpected error [Errno 104] Connection reset by peer\nAborted (core dumped)\n</pre></div>\n\n\n<p>I already posted about this issue <a data-is-external-link=\"true\" href=\"http://answers.gazebosim.org/question/16592/simulation-different-when-gzclient-is-open/\" rel=\"nofollow\">here</a>, <a data-is-external-link=\"true\" href=\"http://answers.gazebosim.org/question/16772/gzclient-source-code-location/\" rel=\"nofollow\">here</a>, <a data-is-external-link=\"true\" href=\"http://answers.gazebosim.org/question/16670/pausing-the-physics-in-sensors-onupdate-function-gives-took-over-10-seconds-to-update-a-sensor/\" rel=\"nofollow\">here</a> and in this thread. I also found the issue happening a few years back when using parallel physics with island threads as discussed <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/issues/1636/ode-threaded-islands-sometimes-slower-on#comment-18890423\" rel=\"nofollow\">here</a>. And I spent the last few weeks going through the source code trying to figure out why this would fail and WHY DOES IT NEVER FAIL WHEN GZCLIENT IS OPEN.</p>\n<p><strong>What I am doing</strong></p>\n<p>I have an environment that I am applying reinforcement learning to. I am stepping through the environment through ROS, by making a service call to unpause the physics. ROS service server then just does <code>world_-&gt;SetPaused(true/false)</code>. The measurements that I am returning are the contacts, and to make sure that I have a single observation for every <code>step</code>, in the <code>OnUpdate</code> callback I pause the world and send the measurement back. </p>\n<p>In short:\nstep from python -&gt; rospy ROS service call -&gt; unpause physics -&gt; measurement received in OnUpdate -&gt; pause physics -&gt; send measurement back (as ROS service to make sure it is received)-&gt; step -&gt; ...</p>\n<p>The paradigm is exactly depicted here, but if you think the full source code would help, I can provide it:</p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"c1\">// I built the plugin by following the instructions here: http://gazebosim.org/tutorials?tut=contact_sensor</span>\n<span class=\"n\">GZ_REGISTER_SENSOR_PLUGIN</span><span class=\"p\">(</span><span class=\"n\">ObservationPlugin</span><span class=\"p\">)</span>\n\n<span class=\"p\">...</span>\n\n<span class=\"kt\">void</span> <span class=\"n\">ObservationPlugin</span><span class=\"o\">::</span><span class=\"n\">OnUpdate</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n  <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"o\">!</span><span class=\"n\">ros</span><span class=\"o\">::</span><span class=\"n\">service</span><span class=\"o\">::</span><span class=\"n\">exists</span><span class=\"p\">(</span><span class=\"s\">&quot;/gazebo_sim/transfer_obs&quot;</span><span class=\"p\">,</span> <span class=\"nb\">false</span><span class=\"p\">))</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span><span class=\"p\">;</span>\n  <span class=\"p\">}</span>\n  <span class=\"c1\">// Service that is basically two float arrays, one for contact information (27 floats) and one for robot hand DOF (4 floats).</span>\n  <span class=\"n\">grasping_ros_msgs</span><span class=\"o\">::</span><span class=\"n\">Observation</span> <span class=\"n\">obs_srv</span><span class=\"p\">;</span>\n\n  <span class=\"c1\">// Retrieve the contacts and robot hand DOF.</span>\n  <span class=\"p\">...</span>\n\n  <span class=\"n\">world_</span><span class=\"o\">-&gt;</span><span class=\"n\">SetPaused</span><span class=\"p\">(</span><span class=\"nb\">true</span><span class=\"p\">);</span>\n  <span class=\"n\">obs_client_</span><span class=\"p\">.</span><span class=\"n\">call</span><span class=\"p\">(</span><span class=\"n\">obs_srv</span><span class=\"p\">);</span>  <span class=\"c1\">// ROS service call which forwards the observation.</span>\n<span class=\"p\">}</span>\n</pre></div>\n\n\n<p><strong>What I tried so far</strong></p>\n<p>I tried a couple of things that I wrote down <a data-is-external-link=\"true\" href=\"http://answers.gazebosim.org/question/16592/simulation-different-when-gzclient-is-open/?answer=16676#post-id-16676\" rel=\"nofollow\">here</a>, which is subscribing to high bandwidth topics (I added some subscribers to gazebo_ros system plugin) and by reducing the <code>real_time_factor</code>. Neither of the two helped much. </p>\n<p>Please, if you have any insights on why this does not work, why the behavior is different when gzclient is open, or know of a better way to structure this so I can achieve what I want, and have it more stable, please don't hold back.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "7.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242744.json"}}}, "edited_on": null, "created_on": "2017-07-10T14:57:29.973927+00:00", "milestone": null, "updated_on": "2017-07-27T11:20:01.952840+00:00", "type": "issue", "id": 2316}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2317/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2317.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2317/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2317/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2317/sp_member_access-errors-all-over-use-boost"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2317/vote"}}, "reporter": {"display_name": "Brannon King", "uuid": "{3ca32111-9d7e-43e2-889d-573ee5947113}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3ca32111-9d7e-43e2-889d-573ee5947113%7D"}, "html": {"href": "https://bitbucket.org/%7B3ca32111-9d7e-43e2-889d-573ee5947113%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/d8540673c67cfdaa5c756423a1385ffdd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsBK-1.png"}}, "nickname": "brannonking", "type": "user", "account_id": "557058:04241785-a8ac-455f-9aef-7713c5e053e6"}, "title": "sp_member_access errors all over: use boost::make_shared instead", "component": null, "votes": 0, "watches": 1, "content": {"raw": "Some kind of recent update on my Ubuntu 16.04 LTS has made numerous Boost errors show up. All of my plugins broke. They give this error:\r\n```\r\nconst [with T = gazebo::transport::Connection; \r\ntypename boost::detail::sp_member_access<T>::type = gazebo::transport::Connection*]: \r\nAssertion `px != 0' failed.\r\n```\r\nThat error shows with other data types as well (search the issues list for sp_member_access). Looking into it further, it appears that the Gazebo code is not allocating shared_ptr objects according to the instructions on the Boost library. From what I was reading today, all lines that look like this:\r\n```\r\n#!c++\r\n\r\nblah = ConnectionPtr(new transport::Connection())\r\n```\r\nshould look like this instead:\r\n```\r\n#!c++\r\nblah = boost::make_shared<transport::Connection>()\r\n```\r\nThe boost `make_shared` avoids the above error. It should apply to transport::Node, transport::Connection, and others -- everywhere you have an object that uses `boost::enable_shared_from_this`. I was able to work around the error on Node because that is allocated directly in my plugin. The event connections aren't so easy. I don't know how to override their allocation from my code.\r\n\r\nAgain, my plugins haven't had this problem for long. It must be some recent Boost patch.", "markup": "markdown", "html": "<p>Some kind of recent update on my Ubuntu 16.04 LTS has made numerous Boost errors show up. All of my plugins broke. They give this error:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">const</span> <span class=\"cp\">[</span><span class=\"k\">with</span> <span class=\"n\">T</span><span class=\"o\"> =</span> <span class=\"nx\">gazebo</span><span class=\"nl\">::transport::Connection</span><span class=\"p\">;</span> \n<span class=\"nx\">typename</span> <span class=\"nx\">boost</span><span class=\"nl\">::detail::sp_member_access</span><span class=\"o\">&lt;</span><span class=\"nx\">T</span><span class=\"o\">&gt;</span><span class=\"nl\">::type</span> <span class=\"o\">=</span> <span class=\"nx\">gazebo</span><span class=\"nl\">::transport::Connection</span><span class=\"o\">*</span><span class=\"cp\">]</span><span class=\"o\">:</span> \n<span class=\"nt\">Assertion</span> <span class=\"err\">`</span><span class=\"nt\">px</span> <span class=\"o\">!=</span> <span class=\"nt\">0</span><span class=\"err\">&#39;</span> <span class=\"nt\">failed</span><span class=\"o\">.</span>\n</pre></div>\n\n\n<p>That error shows with other data types as well (search the issues list for sp_member_access). Looking into it further, it appears that the Gazebo code is not allocating shared_ptr objects according to the instructions on the Boost library. From what I was reading today, all lines that look like this:</p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"n\">blah</span> <span class=\"o\">=</span> <span class=\"n\">ConnectionPtr</span><span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"n\">transport</span><span class=\"o\">::</span><span class=\"n\">Connection</span><span class=\"p\">())</span>\n</pre></div>\n\n\n<p>should look like this instead:</p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"n\">blah</span> <span class=\"o\">=</span> <span class=\"n\">boost</span><span class=\"o\">::</span><span class=\"n\">make_shared</span><span class=\"o\">&lt;</span><span class=\"n\">transport</span><span class=\"o\">::</span><span class=\"n\">Connection</span><span class=\"o\">&gt;</span><span class=\"p\">()</span>\n</pre></div>\n\n\n<p>The boost <code>make_shared</code> avoids the above error. It should apply to transport::Node, transport::Connection, and others -- everywhere you have an object that uses <code>boost::enable_shared_from_this</code>. I was able to work around the error on Node because that is allocated directly in my plugin. The event connections aren't so easy. I don't know how to override their allocation from my code.</p>\n<p>Again, my plugins haven't had this problem for long. It must be some recent Boost patch.</p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": {"name": "8.1", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/243455.json"}}}, "edited_on": null, "created_on": "2017-07-11T04:42:03.233964+00:00", "milestone": null, "updated_on": "2017-08-23T14:48:39.641113+00:00", "type": "issue", "id": 2317}, {"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2318/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2318.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2318/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2318/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2318/gps-sensor-sdf-tag-not-supported"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2318/vote"}}, "reporter": {"display_name": "Christopher Thrasher", "uuid": "{533afee9-15f8-4fb6-85ae-e225b7bd8e99}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B533afee9-15f8-4fb6-85ae-e225b7bd8e99%7D"}, "html": {"href": "https://bitbucket.org/%7B533afee9-15f8-4fb6-85ae-e225b7bd8e99%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/321d0741569a55808e0554225c821669d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCT-3.png"}}, "nickname": "ChrisThrasher", "type": "user", "account_id": "557058:7d501142-3637-4ec5-9caa-fcb6832c521d"}, "title": "GPS Sensor SDF Tag Not Supported", "component": {"name": "sensors::GpsSensor", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/162808.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "When loading a GPS sensor via a .world file, the following warning is repeated printed:\r\n\r\n\r\n```\r\n#!\r\n[Wrn] [msgs.cc:1655] Conversion of sensor type[gps] not supported.\r\n\r\n```\r\n\r\nThis prevents the loading of a GPS plugin. The attached code was used to produce this warning and was run on Gazebo 7.0.0.", "markup": "markdown", "html": "<p>When loading a GPS sensor via a .world file, the following warning is repeated printed:</p>\n<div class=\"codehilite\"><pre><span></span>[Wrn] [msgs.cc:1655] Conversion of sensor type[gps] not supported.\n</pre></div>\n\n\n<p>This prevents the loading of a GPS plugin. The attached code was used to produce this warning and was run on Gazebo 7.0.0.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "7.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242744.json"}}}, "edited_on": null, "created_on": "2017-07-11T19:55:27.023911+00:00", "milestone": null, "updated_on": "2017-07-13T15:04:02.030498+00:00", "type": "issue", "id": 2318}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2319/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2319.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2319/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2319/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2319/race-condition-during-load-of-sonarsensor"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2319/vote"}}, "reporter": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "title": "Race condition during load of SonarSensor", "component": {"name": "sensors", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122877.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "I observerd a failure of `UNIT_SonarSensor_TEST` on the gazebo7 branch ([full details here](https://gist.github.com/scpeters/a03568207039a83e4ab159b65a8103ed)).\r\n\r\nThe test fails to run with an error message about `pure virtual method called`.\r\nThe `World::RunLoop` thread is calling `gazebo::physics::ODEPhysics::UpdateCollision` and aborts.\r\nMeanwhile, the sensor thread is still loading the sensor,\r\ncalling [MeshShape::SetScale](#!/osrf/gazebo/src/edc64bd8e855202dcba61ce729f50a07a21f1148/gazebo/physics/MeshShape.cc?at=gazebo7&fileviewer=file-view-default#MeshShape.cc-109)\r\nat [SonarSensor.cc:155](#!/osrf/gazebo/src/edc64bd8e855202dcba61ce729f50a07a21f1148/gazebo/sensors/SonarSensor.cc?at=gazebo7&fileviewer=file-view-default#SonarSensor.cc-155).\r\n\r\nConsole output:\r\n\r\n~~~\r\n273: [ RUN      ] SonarTests/SonarSensor_TEST.CreateSonar/0\r\n273: [Dbg] [SonarSensor_TEST.cc:187] Physics ode paused 0\r\n273: [Msg] Waiting for master.\r\n273: [Msg] Connected to gazebo master @ http://127.0.0.1:11345\r\n273: [Msg] Publicized address: 172.23.2.90\r\n273: [Dbg] [ServerFixture.cc:207] ServerFixture load in 1.1 seconds, timeout after 600 seconds\r\n273: Warning [parser.cc:438] Converting a deprecated SDF source[data-string].\r\n273: pure virtual method called\r\n273: terminate called without an active exception\r\n273: \r\n~~~", "markup": "markdown", "html": "<p>I observerd a failure of <code>UNIT_SonarSensor_TEST</code> on the gazebo7 branch (<a data-is-external-link=\"true\" href=\"https://gist.github.com/scpeters/a03568207039a83e4ab159b65a8103ed\" rel=\"nofollow\">full details here</a>).</p>\n<p>The test fails to run with an error message about <code>pure virtual method called</code>.\nThe <code>World::RunLoop</code> thread is calling <code>gazebo::physics::ODEPhysics::UpdateCollision</code> and aborts.\nMeanwhile, the sensor thread is still loading the sensor,\ncalling <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/edc64bd8e855202dcba61ce729f50a07a21f1148/gazebo/physics/MeshShape.cc?at=gazebo7&amp;fileviewer=file-view-default#MeshShape.cc-109\" rel=\"nofollow\">MeshShape::SetScale</a>\nat <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/edc64bd8e855202dcba61ce729f50a07a21f1148/gazebo/sensors/SonarSensor.cc?at=gazebo7&amp;fileviewer=file-view-default#SonarSensor.cc-155\" rel=\"nofollow\">SonarSensor.cc:155</a>.</p>\n<p>Console output:</p>\n<div class=\"codehilite\"><pre><span></span>273: [ RUN      ] SonarTests/SonarSensor_TEST.CreateSonar/0\n273: [Dbg] [SonarSensor_TEST.cc:187] Physics ode paused 0\n273: [Msg] Waiting for master.\n273: [Msg] Connected to gazebo master @ http://127.0.0.1:11345\n273: [Msg] Publicized address: 172.23.2.90\n273: [Dbg] [ServerFixture.cc:207] ServerFixture load in 1.1 seconds, timeout after 600 seconds\n273: Warning [parser.cc:438] Converting a deprecated SDF source[data-string].\n273: pure virtual method called\n273: terminate called without an active exception\n273: \n</pre></div>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2017-07-12T01:03:59.890615+00:00", "milestone": null, "updated_on": "2017-07-12T01:03:59.890615+00:00", "type": "issue", "id": 2319}, {"priority": "critical", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2320/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2320.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2320/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2320/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2320/performance_transport_stress-test-times"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2320/vote"}}, "reporter": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "title": "PERFORMANCE_transport_stress test times out on gazebo8/default on xenial", "component": {"name": "transport", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122882.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "Until recently, I was building the `gazebo7` branch every night on my trusty machine and running `make test` in a loop. I recently switched to running `gazebo8` on xenial and have noticed that the `PERFORMANCE_transport_stress` test fails to complete with the gazebo8 / xenial combination.\r\n\r\nFurthermore, I have noticed that this test also fails in jenkins with default / xenial. The current oldest build is from [Feb 11, 2017](https://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-performance-default-xenial-amd64/10/), and the most recent build is from [July 18, 2017](https://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-performance-default-xenial-amd64/39/), and the transport stress test failed in both cases.\r\n\r\nThe last time I ran gazebo7 / trusty was July 11, 2017, and the test passed in 8.667 seconds with the following JUnit result file:\r\n\r\n~~~\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<testsuites tests=\"2\" failures=\"0\" disabled=\"0\" errors=\"0\" timestamp=\"2017-07-12T05:32:52\" time=\"8.667\" name=\"AllTests\">\r\n  <testsuite name=\"TransportStressTest\" tests=\"2\" failures=\"0\" disabled=\"0\" errors=\"0\" time=\"8.667\">\r\n    <testcase name=\"LocalPublish\" status=\"run\" time=\"3.302\" classname=\"TransportStressTest\" />\r\n    <testcase name=\"ManyNodes\" status=\"run\" time=\"5.364\" classname=\"TransportStressTest\" />\r\n  </testsuite>\r\n</testsuites>\r\n~~~\r\n\r\nI just ran the test manually without the `make test` invocation so that it isn't subject to the timeout, and it took over 30 minutes. I'll try to do some profiling to identify what is causing the slowdown.", "markup": "markdown", "html": "<p>Until recently, I was building the <code>gazebo7</code> branch every night on my trusty machine and running <code>make test</code> in a loop. I recently switched to running <code>gazebo8</code> on xenial and have noticed that the <code>PERFORMANCE_transport_stress</code> test fails to complete with the gazebo8 / xenial combination.</p>\n<p>Furthermore, I have noticed that this test also fails in jenkins with default / xenial. The current oldest build is from <a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-performance-default-xenial-amd64/10/\" rel=\"nofollow\">Feb 11, 2017</a>, and the most recent build is from <a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/view/main/view/gazebo/job/gazebo-performance-default-xenial-amd64/39/\" rel=\"nofollow\">July 18, 2017</a>, and the transport stress test failed in both cases.</p>\n<p>The last time I ran gazebo7 / trusty was July 11, 2017, and the test passed in 8.667 seconds with the following JUnit result file:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"cp\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>\n<span class=\"nt\">&lt;testsuites</span> <span class=\"na\">tests=</span><span class=\"s\">&quot;2&quot;</span> <span class=\"na\">failures=</span><span class=\"s\">&quot;0&quot;</span> <span class=\"na\">disabled=</span><span class=\"s\">&quot;0&quot;</span> <span class=\"na\">errors=</span><span class=\"s\">&quot;0&quot;</span> <span class=\"na\">timestamp=</span><span class=\"s\">&quot;2017-07-12T05:32:52&quot;</span> <span class=\"na\">time=</span><span class=\"s\">&quot;8.667&quot;</span> <span class=\"na\">name=</span><span class=\"s\">&quot;AllTests&quot;</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;testsuite</span> <span class=\"na\">name=</span><span class=\"s\">&quot;TransportStressTest&quot;</span> <span class=\"na\">tests=</span><span class=\"s\">&quot;2&quot;</span> <span class=\"na\">failures=</span><span class=\"s\">&quot;0&quot;</span> <span class=\"na\">disabled=</span><span class=\"s\">&quot;0&quot;</span> <span class=\"na\">errors=</span><span class=\"s\">&quot;0&quot;</span> <span class=\"na\">time=</span><span class=\"s\">&quot;8.667&quot;</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;testcase</span> <span class=\"na\">name=</span><span class=\"s\">&quot;LocalPublish&quot;</span> <span class=\"na\">status=</span><span class=\"s\">&quot;run&quot;</span> <span class=\"na\">time=</span><span class=\"s\">&quot;3.302&quot;</span> <span class=\"na\">classname=</span><span class=\"s\">&quot;TransportStressTest&quot;</span> <span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;testcase</span> <span class=\"na\">name=</span><span class=\"s\">&quot;ManyNodes&quot;</span> <span class=\"na\">status=</span><span class=\"s\">&quot;run&quot;</span> <span class=\"na\">time=</span><span class=\"s\">&quot;5.364&quot;</span> <span class=\"na\">classname=</span><span class=\"s\">&quot;TransportStressTest&quot;</span> <span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;/testsuite&gt;</span>\n<span class=\"nt\">&lt;/testsuites&gt;</span>\n</pre></div>\n\n\n<p>I just ran the test manually without the <code>make test</code> invocation so that it isn't subject to the timeout, and it took over 30 minutes. I'll try to do some profiling to identify what is causing the slowdown.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2017-07-18T20:09:12.675993+00:00", "milestone": null, "updated_on": "2018-03-13T19:59:33.041016+00:00", "type": "issue", "id": 2320}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2321/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2321.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2321/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2321/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2321/gazebo-800-startup-error-on-arch-linux"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2321/vote"}}, "reporter": {"display_name": "Tim Rakowski", "uuid": "{568e53a4-2b97-42ea-929e-038af8b7825e}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B568e53a4-2b97-42ea-929e-038af8b7825e%7D"}, "html": {"href": "https://bitbucket.org/%7B568e53a4-2b97-42ea-929e-038af8b7825e%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/83d3799cfee56e3c3195419ca9fd5d06d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsTR-2.png"}}, "nickname": "Tim Rakowski", "type": "user", "account_id": "557058:34f593f6-84fc-4797-8028-c8e3412b0993"}, "title": "Gazebo 8.0.0 startup error on Arch Linux with Ogre 1.10.5 (Request for Information)", "component": {"name": "rendering::ogre_gazebo", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/153568.json"}}}, "votes": 0, "watches": 2, "content": {"raw": "Hi,\r\n\r\nI understand that you don't actively support gazebo on Arch Linux, and this is only a request for information, not a \"bug report\".\r\n\r\nWhen running \"gazebo --verbose\" (Gazebo 8.0.0) on Arch Linux, where ogre currently has version 1.10.5, we get the following error on startup:\r\n\r\n\r\n```\r\n[Err] [server_main.cc:54] Ogre Error:ItemIdentityException: Resource with the name DeferredRendering/Shadows/RSMCaster_Spot already exists. in ResourceManager::add at /build/ogre/src/ogre/OgreMain/src/OgreResourceManager.cpp (line 150)\r\n[Err] [main.cc:34] Ogre Error:ItemIdentityException: Resource with the name DeferredRendering/Shadows/RSMCaster_Spot already exists. in ResourceManager::add at /build/ogre/src/ogre/OgreMain/src/OgreResourceManager.cpp (line 150)\r\n```\r\n\r\nBuilding against an unsupported version of ogre-1.8 works, but I would like to avoid potential conflicts, especially since (\"other\") ros packages (rviz) work fine with ogre-1.10.\r\n\r\n* Should gazebo 8.0.0 work with ogre-1.10?\r\n* If not, does some other gazebo version/branch work with ogre-1.10? Is there some patch I could apply?\r\n\r\nI was only able to find #!/osrf/gazebo/pull-requests/1384/merge-haptix-branch-with-default/diff, which makes it look like gazebo should work with ogre-1.10 since quite a while.\r\n\r\nSo is this actually an Arch Linux only issue?", "markup": "markdown", "html": "<p>Hi,</p>\n<p>I understand that you don't actively support gazebo on Arch Linux, and this is only a request for information, not a \"bug report\".</p>\n<p>When running \"gazebo --verbose\" (Gazebo 8.0.0) on Arch Linux, where ogre currently has version 1.10.5, we get the following error on startup:</p>\n<div class=\"codehilite\"><pre><span></span>[Err] [server_main.cc:54] Ogre Error:ItemIdentityException: Resource with the name DeferredRendering/Shadows/RSMCaster_Spot already exists. in ResourceManager::add at /build/ogre/src/ogre/OgreMain/src/OgreResourceManager.cpp (line 150)\n[Err] [main.cc:34] Ogre Error:ItemIdentityException: Resource with the name DeferredRendering/Shadows/RSMCaster_Spot already exists. in ResourceManager::add at /build/ogre/src/ogre/OgreMain/src/OgreResourceManager.cpp (line 150)\n</pre></div>\n\n\n<p>Building against an unsupported version of ogre-1.8 works, but I would like to avoid potential conflicts, especially since (\"other\") ros packages (rviz) work fine with ogre-1.10.</p>\n<ul>\n<li>Should gazebo 8.0.0 work with ogre-1.10?</li>\n<li>If not, does some other gazebo version/branch work with ogre-1.10? Is there some patch I could apply?</li>\n</ul>\n<p>I was only able to find <a href=\"#!/osrf/gazebo/pull-requests/1384/merge-haptix-branch-with-default/diff\" rel=\"nofollow\" class=\"ap-connect-link\">#!/osrf/gazebo/pull-requests/1384/merge-haptix-branch-with-default/diff</a>, which makes it look like gazebo should work with ogre-1.10 since quite a while.</p>\n<p>So is this actually an Arch Linux only issue?</p>", "type": "rendered"}, "assignee": null, "state": "closed", "version": {"name": "8.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242745.json"}}}, "edited_on": null, "created_on": "2017-08-01T19:29:08.618055+00:00", "milestone": null, "updated_on": "2017-08-05T14:43:32.558026+00:00", "type": "issue", "id": 2321}, {"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2322/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2322.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2322/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2322/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2322/openal-not-working-on-gazebo-8"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2322/vote"}}, "reporter": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "title": "OpenAL not working on Gazebo 8", "component": {"name": "util", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/201605.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "See [this](http://answers.gazebosim.org/question/16895/how-to-playback-audio-wav-file-by-using-openalworld-file/) question.\r\n\r\nI didn't try this locally, but I checked CI and it looks like the test is not running.", "markup": "markdown", "html": "<p>See <a data-is-external-link=\"true\" href=\"http://answers.gazebosim.org/question/16895/how-to-playback-audio-wav-file-by-using-openalworld-file/\" rel=\"nofollow\">this</a> question.</p>\n<p>I didn't try this locally, but I checked CI and it looks like the test is not running.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "8.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242745.json"}}}, "edited_on": null, "created_on": "2017-08-04T16:56:04.335762+00:00", "milestone": null, "updated_on": "2017-08-04T16:56:04.335762+00:00", "type": "issue", "id": 2322}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2323/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2323.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2323/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2323/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2323/depthcamera-connectnewrgbpointcloud"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2323/vote"}}, "reporter": {"display_name": "Andrew Symington", "uuid": "{db1311fc-02e6-442e-84a1-4bb85dfee5ba}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bdb1311fc-02e6-442e-84a1-4bb85dfee5ba%7D"}, "html": {"href": "https://bitbucket.org/%7Bdb1311fc-02e6-442e-84a1-4bb85dfee5ba%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:cab3b56e-7c24-487c-b07f-05e0600adf54/8a009f21-29b8-4d43-98ed-2677428e17ff/128"}}, "nickname": "asymingt", "type": "user", "account_id": "557058:cab3b56e-7c24-487c-b07f-05e0600adf54"}, "title": "DepthCamera::ConnectNewRGBPointCloud() produces malformed point clouds", "component": {"name": "rendering", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122881.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "I profiled a plugin that used the gazebo_ros_pkgs \"kinect plugin\" for the gazebo depth sensor, and saw that about 6% of cycles were spent in the atan2() function projecting the depth image to a point cloud. So, I started looking at ways to reduce this computational overhead, since my project requires 4 depth cameras.\r\n\r\nI am using the ```DepthCamera::ConnectNewRGBPointCloud()``` connection to receive new callbacks with point cloud data. I am aware of the fact that the RGB data might be [problematic](#!/osrf/gazebo/issues/1865/rendering-depthcamera-does-not-output), but I don't mind because I only need occupancy. Looking at the Gazebo source code, I worked out that I needed to add the following block to the ```<camera>``` tag of my sensor in order for the depth camera to start pushing data:\r\n\r\n```\r\n#!xml\r\n<sensor name=\"haz_cam\" type=\"depth\">\r\n  <pose>0 0 0 0 0 0</pose>\r\n  <always_on>1</always_on>\r\n  <update_rate>5</update_rate>\r\n  <visualize>0</visualize>\r\n  <camera>\r\n    <horizontal_fov>1.0821</horizontal_fov> <!-- 62 degrees -->\r\n    <image>\r\n      <width>224</width>\r\n      <height>171</height>\r\n      <format>L8</format>\r\n    </image>\r\n    <clip>\r\n      <near>0.1</near>\r\n      <far>4</far>\r\n    </clip>\r\n    <depth_camera>\r\n      <output>points</output>\r\n    </depth_camera>\r\n  </camera>\r\n  <plugin name=\"haz_cam_ros\" filename=\"libgazebo_sensor_plugin_haz_cam.so\" />\r\n</sensor>\r\n```\r\nI have written a Sensor Plugin, which essentially converts the point cloud to a ROS ```sensor_msgs::PointCloud2``` message. The pipeline seems to work correctly and I can visualize the data in rviz. However, the data itself is wrong.  I assume that callback data  is striped into blocks of float[4] ={X, Y, Z, RGB}. However, when I try to pack it this way into the ROS message, I get a very weird / distorted point cloud in rviz (see image attached). \r\n\r\nHere is my plugin code. ```RosSensorPlugin``` is a thin abstract class that inherits from and intercepts the ```SensorPlugin::Load``` callback, creates a ROS NodeHandle, and passes it to the plugin. It's just a way of avoiding having to repeat ROS initialization boilerplate code.\r\n\r\n```\r\n#!c++\r\n\r\n// ROS includes\r\n#include <ros/ros.h>\r\n\r\n// Sensor plugin interface\r\n#include <ros_sensor_plugin/ros_sensor_plugin.h>\r\n\r\n// IMU Sensor message\r\n#include <sensor_msgs/PointCloud2.h>\r\n#include <sensor_msgs/point_cloud2_iterator.h>\r\n\r\n// STL includes\r\n#include <string>\r\n\r\nnamespace gazebo {\r\nclass GazeboSensorPluginHazCam : public RosSensorPlugin {\r\n public:\r\n  GazeboSensorPluginHazCam() : RosSensorPlugin(\"haz_cam\") {}\r\n\r\n  ~GazeboSensorPluginHazCam() {}\r\n\r\n protected:\r\n  // Called when plugin is loaded into gazebo\r\n  void LoadCallback(ros::NodeHandle *nh, sensors::SensorPtr sensor, sdf::ElementPtr sdf) {\r\n    // Get a link to the parent sensor\r\n    sensor_ = std::dynamic_pointer_cast < sensors::DepthCameraSensor > (sensor);\r\n    if (!sensor_) {\r\n      gzerr << \"GazeboSensorPluginHazCam requires a camera sensor as a parent.\\n\";\r\n      return;\r\n    }\r\n    // Create a publisher for the point cloud\r\n    point_cloud_pub_ = nh->advertise<sensor_msgs::PointCloud2>(\"/points\", 1,\r\n      boost::bind(&GazeboSensorPluginHazCam::ToggleCallback, this),\r\n      boost::bind(&GazeboSensorPluginHazCam::ToggleCallback, this));\r\n    // Basic header information\r\n    point_cloud_msg_.header.frame_id = GetFrame();  // Grabs the \r\n    point_cloud_msg_.is_bigendian = false;\r\n    point_cloud_msg_.point_step = sizeof(float) * 4;\r\n    // Declare the striped memory layout\r\n    sensor_msgs::PointField field;\r\n    field.name = \"x\";\r\n    field.offset = 0 * sizeof(float);\r\n    field.datatype = sensor_msgs::PointField::FLOAT32;\r\n    field.count = sizeof(float);\r\n    point_cloud_msg_.fields.push_back(field);\r\n    field.name = \"y\";\r\n    field.offset = 1 * sizeof(float);\r\n    field.datatype = sensor_msgs::PointField::FLOAT32;\r\n    field.count = sizeof(float);\r\n    point_cloud_msg_.fields.push_back(field);\r\n    field.name = \"z\";\r\n    field.offset = 2 * sizeof(float);\r\n    field.datatype = sensor_msgs::PointField::FLOAT32;\r\n    field.count = sizeof(float);\r\n    point_cloud_msg_.fields.push_back(field);\r\n    // Listen to the point cloud\r\n    update_ = sensor_->DepthCamera()->ConnectNewRGBPointCloud(\r\n      boost::bind(&GazeboSensorPluginHazCam::Callback, this, _1, _2, _3, _4, _5));\r\n  }\r\n\r\n  // Turn camera on or off based on topic subscription\r\n  void ToggleCallback() {\r\n    if (point_cloud_pub_.getNumSubscribers())\r\n      sensor_->SetActive(true);\r\n    else\r\n      sensor_->SetActive(false);\r\n  }\r\n \r\n  // this->dataPtr->depthBuffer, width, height, 1, \"FLOAT32\"\r\n  void Callback(const float *data, unsigned int width, unsigned height,\r\n    unsigned int len, const std::string & type) {\r\n    if (!sensor_->IsActive()) return;\r\n    gzmsg << \"Pointcloud callback!\\n\";\r\n    point_cloud_msg_.header.stamp = ros::Time::now();\r\n    point_cloud_msg_.width = width;\r\n    point_cloud_msg_.height = height;\r\n    point_cloud_msg_.row_step = point_cloud_msg_.width * point_cloud_msg_.point_step;\r\n    point_cloud_msg_.data.resize(point_cloud_msg_.row_step * point_cloud_msg_.height);\r\n    std::copy(\r\n      reinterpret_cast<const uint8_t*>(data),\r\n      reinterpret_cast<const uint8_t*>(data) + point_cloud_msg_.row_step * point_cloud_msg_.height,\r\n      point_cloud_msg_.data.begin());\r\n    point_cloud_pub_.publish(point_cloud_msg_);\r\n  }\r\n\r\n private:\r\n  // ROS variables\r\n  ros::Publisher point_cloud_pub_;\r\n  // Sensor pointer\r\n  sensors::DepthCameraSensorPtr sensor_;\r\n  // Camera and Point Cloud messages\r\n  sensor_msgs::PointCloud2 point_cloud_msg_;\r\n  // Gazebo variables\r\n  physics::WorldPtr world_;\r\n  physics::ModelPtr model_;\r\n  event::ConnectionPtr update_;\r\n  std::string frame_id_;\r\n};\r\n\r\nGZ_REGISTER_SENSOR_PLUGIN(GazeboSensorPluginHazCam)\r\n\r\n}   // namespace gazebo\r\n```", "markup": "markdown", "html": "<p>I profiled a plugin that used the gazebo_ros_pkgs \"kinect plugin\" for the gazebo depth sensor, and saw that about 6% of cycles were spent in the atan2() function projecting the depth image to a point cloud. So, I started looking at ways to reduce this computational overhead, since my project requires 4 depth cameras.</p>\n<p>I am using the <code>DepthCamera::ConnectNewRGBPointCloud()</code> connection to receive new callbacks with point cloud data. I am aware of the fact that the RGB data might be <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/issues/1865/rendering-depthcamera-does-not-output\" rel=\"nofollow\">problematic</a>, but I don't mind because I only need occupancy. Looking at the Gazebo source code, I worked out that I needed to add the following block to the <code>&lt;camera&gt;</code> tag of my sensor in order for the depth camera to start pushing data:</p>\n<div class=\"codehilite language-xml\"><pre><span></span><span class=\"nt\">&lt;sensor</span> <span class=\"na\">name=</span><span class=\"s\">&quot;haz_cam&quot;</span> <span class=\"na\">type=</span><span class=\"s\">&quot;depth&quot;</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;pose&gt;</span>0 0 0 0 0 0<span class=\"nt\">&lt;/pose&gt;</span>\n  <span class=\"nt\">&lt;always_on&gt;</span>1<span class=\"nt\">&lt;/always_on&gt;</span>\n  <span class=\"nt\">&lt;update_rate&gt;</span>5<span class=\"nt\">&lt;/update_rate&gt;</span>\n  <span class=\"nt\">&lt;visualize&gt;</span>0<span class=\"nt\">&lt;/visualize&gt;</span>\n  <span class=\"nt\">&lt;camera&gt;</span>\n    <span class=\"nt\">&lt;horizontal_fov&gt;</span>1.0821<span class=\"nt\">&lt;/horizontal_fov&gt;</span> <span class=\"c\">&lt;!-- 62 degrees --&gt;</span>\n    <span class=\"nt\">&lt;image&gt;</span>\n      <span class=\"nt\">&lt;width&gt;</span>224<span class=\"nt\">&lt;/width&gt;</span>\n      <span class=\"nt\">&lt;height&gt;</span>171<span class=\"nt\">&lt;/height&gt;</span>\n      <span class=\"nt\">&lt;format&gt;</span>L8<span class=\"nt\">&lt;/format&gt;</span>\n    <span class=\"nt\">&lt;/image&gt;</span>\n    <span class=\"nt\">&lt;clip&gt;</span>\n      <span class=\"nt\">&lt;near&gt;</span>0.1<span class=\"nt\">&lt;/near&gt;</span>\n      <span class=\"nt\">&lt;far&gt;</span>4<span class=\"nt\">&lt;/far&gt;</span>\n    <span class=\"nt\">&lt;/clip&gt;</span>\n    <span class=\"nt\">&lt;depth_camera&gt;</span>\n      <span class=\"nt\">&lt;output&gt;</span>points<span class=\"nt\">&lt;/output&gt;</span>\n    <span class=\"nt\">&lt;/depth_camera&gt;</span>\n  <span class=\"nt\">&lt;/camera&gt;</span>\n  <span class=\"nt\">&lt;plugin</span> <span class=\"na\">name=</span><span class=\"s\">&quot;haz_cam_ros&quot;</span> <span class=\"na\">filename=</span><span class=\"s\">&quot;libgazebo_sensor_plugin_haz_cam.so&quot;</span> <span class=\"nt\">/&gt;</span>\n<span class=\"nt\">&lt;/sensor&gt;</span>\n</pre></div>\n\n\n<p>I have written a Sensor Plugin, which essentially converts the point cloud to a ROS <code>sensor_msgs::PointCloud2</code> message. The pipeline seems to work correctly and I can visualize the data in rviz. However, the data itself is wrong.  I assume that callback data  is striped into blocks of float[4] ={X, Y, Z, RGB}. However, when I try to pack it this way into the ROS message, I get a very weird / distorted point cloud in rviz (see image attached). </p>\n<p>Here is my plugin code. <code>RosSensorPlugin</code> is a thin abstract class that inherits from and intercepts the <code>SensorPlugin::Load</code> callback, creates a ROS NodeHandle, and passes it to the plugin. It's just a way of avoiding having to repeat ROS initialization boilerplate code.</p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"c1\">// ROS includes</span>\n<span class=\"cp\">#include</span> <span class=\"cpf\">&lt;ros/ros.h&gt;</span><span class=\"cp\"></span>\n\n<span class=\"c1\">// Sensor plugin interface</span>\n<span class=\"cp\">#include</span> <span class=\"cpf\">&lt;ros_sensor_plugin/ros_sensor_plugin.h&gt;</span><span class=\"cp\"></span>\n\n<span class=\"c1\">// IMU Sensor message</span>\n<span class=\"cp\">#include</span> <span class=\"cpf\">&lt;sensor_msgs/PointCloud2.h&gt;</span><span class=\"cp\"></span>\n<span class=\"cp\">#include</span> <span class=\"cpf\">&lt;sensor_msgs/point_cloud2_iterator.h&gt;</span><span class=\"cp\"></span>\n\n<span class=\"c1\">// STL includes</span>\n<span class=\"cp\">#include</span> <span class=\"cpf\">&lt;string&gt;</span><span class=\"cp\"></span>\n\n<span class=\"k\">namespace</span> <span class=\"n\">gazebo</span> <span class=\"p\">{</span>\n<span class=\"k\">class</span> <span class=\"nc\">GazeboSensorPluginHazCam</span> <span class=\"o\">:</span> <span class=\"k\">public</span> <span class=\"n\">RosSensorPlugin</span> <span class=\"p\">{</span>\n <span class=\"k\">public</span><span class=\"o\">:</span>\n  <span class=\"n\">GazeboSensorPluginHazCam</span><span class=\"p\">()</span> <span class=\"o\">:</span> <span class=\"n\">RosSensorPlugin</span><span class=\"p\">(</span><span class=\"s\">&quot;haz_cam&quot;</span><span class=\"p\">)</span> <span class=\"p\">{}</span>\n\n  <span class=\"o\">~</span><span class=\"n\">GazeboSensorPluginHazCam</span><span class=\"p\">()</span> <span class=\"p\">{}</span>\n\n <span class=\"k\">protected</span><span class=\"o\">:</span>\n  <span class=\"c1\">// Called when plugin is loaded into gazebo</span>\n  <span class=\"kt\">void</span> <span class=\"n\">LoadCallback</span><span class=\"p\">(</span><span class=\"n\">ros</span><span class=\"o\">::</span><span class=\"n\">NodeHandle</span> <span class=\"o\">*</span><span class=\"n\">nh</span><span class=\"p\">,</span> <span class=\"n\">sensors</span><span class=\"o\">::</span><span class=\"n\">SensorPtr</span> <span class=\"n\">sensor</span><span class=\"p\">,</span> <span class=\"n\">sdf</span><span class=\"o\">::</span><span class=\"n\">ElementPtr</span> <span class=\"n\">sdf</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"c1\">// Get a link to the parent sensor</span>\n    <span class=\"n\">sensor_</span> <span class=\"o\">=</span> <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">dynamic_pointer_cast</span> <span class=\"o\">&lt;</span> <span class=\"n\">sensors</span><span class=\"o\">::</span><span class=\"n\">DepthCameraSensor</span> <span class=\"o\">&gt;</span> <span class=\"p\">(</span><span class=\"n\">sensor</span><span class=\"p\">);</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"o\">!</span><span class=\"n\">sensor_</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"n\">gzerr</span> <span class=\"o\">&lt;&lt;</span> <span class=\"s\">&quot;GazeboSensorPluginHazCam requires a camera sensor as a parent.</span><span class=\"se\">\\n</span><span class=\"s\">&quot;</span><span class=\"p\">;</span>\n      <span class=\"k\">return</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n    <span class=\"c1\">// Create a publisher for the point cloud</span>\n    <span class=\"n\">point_cloud_pub_</span> <span class=\"o\">=</span> <span class=\"n\">nh</span><span class=\"o\">-&gt;</span><span class=\"n\">advertise</span><span class=\"o\">&lt;</span><span class=\"n\">sensor_msgs</span><span class=\"o\">::</span><span class=\"n\">PointCloud2</span><span class=\"o\">&gt;</span><span class=\"p\">(</span><span class=\"s\">&quot;/points&quot;</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span>\n      <span class=\"n\">boost</span><span class=\"o\">::</span><span class=\"n\">bind</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">GazeboSensorPluginHazCam</span><span class=\"o\">::</span><span class=\"n\">ToggleCallback</span><span class=\"p\">,</span> <span class=\"k\">this</span><span class=\"p\">),</span>\n      <span class=\"n\">boost</span><span class=\"o\">::</span><span class=\"n\">bind</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">GazeboSensorPluginHazCam</span><span class=\"o\">::</span><span class=\"n\">ToggleCallback</span><span class=\"p\">,</span> <span class=\"k\">this</span><span class=\"p\">));</span>\n    <span class=\"c1\">// Basic header information</span>\n    <span class=\"n\">point_cloud_msg_</span><span class=\"p\">.</span><span class=\"n\">header</span><span class=\"p\">.</span><span class=\"n\">frame_id</span> <span class=\"o\">=</span> <span class=\"n\">GetFrame</span><span class=\"p\">();</span>  <span class=\"c1\">// Grabs the </span>\n    <span class=\"n\">point_cloud_msg_</span><span class=\"p\">.</span><span class=\"n\">is_bigendian</span> <span class=\"o\">=</span> <span class=\"nb\">false</span><span class=\"p\">;</span>\n    <span class=\"n\">point_cloud_msg_</span><span class=\"p\">.</span><span class=\"n\">point_step</span> <span class=\"o\">=</span> <span class=\"k\">sizeof</span><span class=\"p\">(</span><span class=\"kt\">float</span><span class=\"p\">)</span> <span class=\"o\">*</span> <span class=\"mi\">4</span><span class=\"p\">;</span>\n    <span class=\"c1\">// Declare the striped memory layout</span>\n    <span class=\"n\">sensor_msgs</span><span class=\"o\">::</span><span class=\"n\">PointField</span> <span class=\"n\">field</span><span class=\"p\">;</span>\n    <span class=\"n\">field</span><span class=\"p\">.</span><span class=\"n\">name</span> <span class=\"o\">=</span> <span class=\"s\">&quot;x&quot;</span><span class=\"p\">;</span>\n    <span class=\"n\">field</span><span class=\"p\">.</span><span class=\"n\">offset</span> <span class=\"o\">=</span> <span class=\"mi\">0</span> <span class=\"o\">*</span> <span class=\"k\">sizeof</span><span class=\"p\">(</span><span class=\"kt\">float</span><span class=\"p\">);</span>\n    <span class=\"n\">field</span><span class=\"p\">.</span><span class=\"n\">datatype</span> <span class=\"o\">=</span> <span class=\"n\">sensor_msgs</span><span class=\"o\">::</span><span class=\"n\">PointField</span><span class=\"o\">::</span><span class=\"n\">FLOAT32</span><span class=\"p\">;</span>\n    <span class=\"n\">field</span><span class=\"p\">.</span><span class=\"n\">count</span> <span class=\"o\">=</span> <span class=\"k\">sizeof</span><span class=\"p\">(</span><span class=\"kt\">float</span><span class=\"p\">);</span>\n    <span class=\"n\">point_cloud_msg_</span><span class=\"p\">.</span><span class=\"n\">fields</span><span class=\"p\">.</span><span class=\"n\">push_back</span><span class=\"p\">(</span><span class=\"n\">field</span><span class=\"p\">);</span>\n    <span class=\"n\">field</span><span class=\"p\">.</span><span class=\"n\">name</span> <span class=\"o\">=</span> <span class=\"s\">&quot;y&quot;</span><span class=\"p\">;</span>\n    <span class=\"n\">field</span><span class=\"p\">.</span><span class=\"n\">offset</span> <span class=\"o\">=</span> <span class=\"mi\">1</span> <span class=\"o\">*</span> <span class=\"k\">sizeof</span><span class=\"p\">(</span><span class=\"kt\">float</span><span class=\"p\">);</span>\n    <span class=\"n\">field</span><span class=\"p\">.</span><span class=\"n\">datatype</span> <span class=\"o\">=</span> <span class=\"n\">sensor_msgs</span><span class=\"o\">::</span><span class=\"n\">PointField</span><span class=\"o\">::</span><span class=\"n\">FLOAT32</span><span class=\"p\">;</span>\n    <span class=\"n\">field</span><span class=\"p\">.</span><span class=\"n\">count</span> <span class=\"o\">=</span> <span class=\"k\">sizeof</span><span class=\"p\">(</span><span class=\"kt\">float</span><span class=\"p\">);</span>\n    <span class=\"n\">point_cloud_msg_</span><span class=\"p\">.</span><span class=\"n\">fields</span><span class=\"p\">.</span><span class=\"n\">push_back</span><span class=\"p\">(</span><span class=\"n\">field</span><span class=\"p\">);</span>\n    <span class=\"n\">field</span><span class=\"p\">.</span><span class=\"n\">name</span> <span class=\"o\">=</span> <span class=\"s\">&quot;z&quot;</span><span class=\"p\">;</span>\n    <span class=\"n\">field</span><span class=\"p\">.</span><span class=\"n\">offset</span> <span class=\"o\">=</span> <span class=\"mi\">2</span> <span class=\"o\">*</span> <span class=\"k\">sizeof</span><span class=\"p\">(</span><span class=\"kt\">float</span><span class=\"p\">);</span>\n    <span class=\"n\">field</span><span class=\"p\">.</span><span class=\"n\">datatype</span> <span class=\"o\">=</span> <span class=\"n\">sensor_msgs</span><span class=\"o\">::</span><span class=\"n\">PointField</span><span class=\"o\">::</span><span class=\"n\">FLOAT32</span><span class=\"p\">;</span>\n    <span class=\"n\">field</span><span class=\"p\">.</span><span class=\"n\">count</span> <span class=\"o\">=</span> <span class=\"k\">sizeof</span><span class=\"p\">(</span><span class=\"kt\">float</span><span class=\"p\">);</span>\n    <span class=\"n\">point_cloud_msg_</span><span class=\"p\">.</span><span class=\"n\">fields</span><span class=\"p\">.</span><span class=\"n\">push_back</span><span class=\"p\">(</span><span class=\"n\">field</span><span class=\"p\">);</span>\n    <span class=\"c1\">// Listen to the point cloud</span>\n    <span class=\"n\">update_</span> <span class=\"o\">=</span> <span class=\"n\">sensor_</span><span class=\"o\">-&gt;</span><span class=\"n\">DepthCamera</span><span class=\"p\">()</span><span class=\"o\">-&gt;</span><span class=\"n\">ConnectNewRGBPointCloud</span><span class=\"p\">(</span>\n      <span class=\"n\">boost</span><span class=\"o\">::</span><span class=\"n\">bind</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">GazeboSensorPluginHazCam</span><span class=\"o\">::</span><span class=\"n\">Callback</span><span class=\"p\">,</span> <span class=\"k\">this</span><span class=\"p\">,</span> <span class=\"n\">_1</span><span class=\"p\">,</span> <span class=\"n\">_2</span><span class=\"p\">,</span> <span class=\"n\">_3</span><span class=\"p\">,</span> <span class=\"n\">_4</span><span class=\"p\">,</span> <span class=\"n\">_5</span><span class=\"p\">));</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"c1\">// Turn camera on or off based on topic subscription</span>\n  <span class=\"kt\">void</span> <span class=\"n\">ToggleCallback</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"n\">point_cloud_pub_</span><span class=\"p\">.</span><span class=\"n\">getNumSubscribers</span><span class=\"p\">())</span>\n      <span class=\"n\">sensor_</span><span class=\"o\">-&gt;</span><span class=\"n\">SetActive</span><span class=\"p\">(</span><span class=\"nb\">true</span><span class=\"p\">);</span>\n    <span class=\"k\">else</span>\n      <span class=\"n\">sensor_</span><span class=\"o\">-&gt;</span><span class=\"n\">SetActive</span><span class=\"p\">(</span><span class=\"nb\">false</span><span class=\"p\">);</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"c1\">// this-&gt;dataPtr-&gt;depthBuffer, width, height, 1, &quot;FLOAT32&quot;</span>\n  <span class=\"kt\">void</span> <span class=\"n\">Callback</span><span class=\"p\">(</span><span class=\"k\">const</span> <span class=\"kt\">float</span> <span class=\"o\">*</span><span class=\"n\">data</span><span class=\"p\">,</span> <span class=\"kt\">unsigned</span> <span class=\"kt\">int</span> <span class=\"n\">width</span><span class=\"p\">,</span> <span class=\"kt\">unsigned</span> <span class=\"n\">height</span><span class=\"p\">,</span>\n    <span class=\"kt\">unsigned</span> <span class=\"kt\">int</span> <span class=\"n\">len</span><span class=\"p\">,</span> <span class=\"k\">const</span> <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">string</span> <span class=\"o\">&amp;</span> <span class=\"n\">type</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"o\">!</span><span class=\"n\">sensor_</span><span class=\"o\">-&gt;</span><span class=\"n\">IsActive</span><span class=\"p\">())</span> <span class=\"k\">return</span><span class=\"p\">;</span>\n    <span class=\"n\">gzmsg</span> <span class=\"o\">&lt;&lt;</span> <span class=\"s\">&quot;Pointcloud callback!</span><span class=\"se\">\\n</span><span class=\"s\">&quot;</span><span class=\"p\">;</span>\n    <span class=\"n\">point_cloud_msg_</span><span class=\"p\">.</span><span class=\"n\">header</span><span class=\"p\">.</span><span class=\"n\">stamp</span> <span class=\"o\">=</span> <span class=\"n\">ros</span><span class=\"o\">::</span><span class=\"n\">Time</span><span class=\"o\">::</span><span class=\"n\">now</span><span class=\"p\">();</span>\n    <span class=\"n\">point_cloud_msg_</span><span class=\"p\">.</span><span class=\"n\">width</span> <span class=\"o\">=</span> <span class=\"n\">width</span><span class=\"p\">;</span>\n    <span class=\"n\">point_cloud_msg_</span><span class=\"p\">.</span><span class=\"n\">height</span> <span class=\"o\">=</span> <span class=\"n\">height</span><span class=\"p\">;</span>\n    <span class=\"n\">point_cloud_msg_</span><span class=\"p\">.</span><span class=\"n\">row_step</span> <span class=\"o\">=</span> <span class=\"n\">point_cloud_msg_</span><span class=\"p\">.</span><span class=\"n\">width</span> <span class=\"o\">*</span> <span class=\"n\">point_cloud_msg_</span><span class=\"p\">.</span><span class=\"n\">point_step</span><span class=\"p\">;</span>\n    <span class=\"n\">point_cloud_msg_</span><span class=\"p\">.</span><span class=\"n\">data</span><span class=\"p\">.</span><span class=\"n\">resize</span><span class=\"p\">(</span><span class=\"n\">point_cloud_msg_</span><span class=\"p\">.</span><span class=\"n\">row_step</span> <span class=\"o\">*</span> <span class=\"n\">point_cloud_msg_</span><span class=\"p\">.</span><span class=\"n\">height</span><span class=\"p\">);</span>\n    <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">copy</span><span class=\"p\">(</span>\n      <span class=\"k\">reinterpret_cast</span><span class=\"o\">&lt;</span><span class=\"k\">const</span> <span class=\"kt\">uint8_t</span><span class=\"o\">*&gt;</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">),</span>\n      <span class=\"k\">reinterpret_cast</span><span class=\"o\">&lt;</span><span class=\"k\">const</span> <span class=\"kt\">uint8_t</span><span class=\"o\">*&gt;</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">)</span> <span class=\"o\">+</span> <span class=\"n\">point_cloud_msg_</span><span class=\"p\">.</span><span class=\"n\">row_step</span> <span class=\"o\">*</span> <span class=\"n\">point_cloud_msg_</span><span class=\"p\">.</span><span class=\"n\">height</span><span class=\"p\">,</span>\n      <span class=\"n\">point_cloud_msg_</span><span class=\"p\">.</span><span class=\"n\">data</span><span class=\"p\">.</span><span class=\"n\">begin</span><span class=\"p\">());</span>\n    <span class=\"n\">point_cloud_pub_</span><span class=\"p\">.</span><span class=\"n\">publish</span><span class=\"p\">(</span><span class=\"n\">point_cloud_msg_</span><span class=\"p\">);</span>\n  <span class=\"p\">}</span>\n\n <span class=\"k\">private</span><span class=\"o\">:</span>\n  <span class=\"c1\">// ROS variables</span>\n  <span class=\"n\">ros</span><span class=\"o\">::</span><span class=\"n\">Publisher</span> <span class=\"n\">point_cloud_pub_</span><span class=\"p\">;</span>\n  <span class=\"c1\">// Sensor pointer</span>\n  <span class=\"n\">sensors</span><span class=\"o\">::</span><span class=\"n\">DepthCameraSensorPtr</span> <span class=\"n\">sensor_</span><span class=\"p\">;</span>\n  <span class=\"c1\">// Camera and Point Cloud messages</span>\n  <span class=\"n\">sensor_msgs</span><span class=\"o\">::</span><span class=\"n\">PointCloud2</span> <span class=\"n\">point_cloud_msg_</span><span class=\"p\">;</span>\n  <span class=\"c1\">// Gazebo variables</span>\n  <span class=\"n\">physics</span><span class=\"o\">::</span><span class=\"n\">WorldPtr</span> <span class=\"n\">world_</span><span class=\"p\">;</span>\n  <span class=\"n\">physics</span><span class=\"o\">::</span><span class=\"n\">ModelPtr</span> <span class=\"n\">model_</span><span class=\"p\">;</span>\n  <span class=\"n\">event</span><span class=\"o\">::</span><span class=\"n\">ConnectionPtr</span> <span class=\"n\">update_</span><span class=\"p\">;</span>\n  <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">string</span> <span class=\"n\">frame_id_</span><span class=\"p\">;</span>\n<span class=\"p\">};</span>\n\n<span class=\"n\">GZ_REGISTER_SENSOR_PLUGIN</span><span class=\"p\">(</span><span class=\"n\">GazeboSensorPluginHazCam</span><span class=\"p\">)</span>\n\n<span class=\"p\">}</span>   <span class=\"c1\">// namespace gazebo</span>\n</pre></div>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": {"name": "7.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242744.json"}}}, "edited_on": null, "created_on": "2017-08-05T06:59:44.382603+00:00", "milestone": null, "updated_on": "2017-08-30T21:03:02.158162+00:00", "type": "issue", "id": 2323}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2324/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2324.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2324/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2324/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2324/gzclient-shutdown-segmentation-fault-with"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2324/vote"}}, "reporter": {"display_name": "Tim Rakowski", "uuid": "{568e53a4-2b97-42ea-929e-038af8b7825e}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B568e53a4-2b97-42ea-929e-038af8b7825e%7D"}, "html": {"href": "https://bitbucket.org/%7B568e53a4-2b97-42ea-929e-038af8b7825e%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/83d3799cfee56e3c3195419ca9fd5d06d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsTR-2.png"}}, "nickname": "Tim Rakowski", "type": "user", "account_id": "557058:34f593f6-84fc-4797-8028-c8e3412b0993"}, "title": "gzclient shutdown segmentation fault with ogre 1.10", "component": {"name": "rendering::ogre_gazebo", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/153568.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "This issue is related to #!/osrf/gazebo/issues/2321/gazebo-800-startup-error-on-arch-linux. I used both patches referenced by @iche033. Just to make sure, I attached the actual patch I used.\r\n\r\n```\r\n#!\r\nThread 1 \"gzclient\" received signal SIGSEGV, Segmentation fault.\r\n0x00007ff0d62cd8ca in Ogre::SceneManagerEnumerator::shutdownAll() () from /usr/lib/libOgreMain.so.1.10.5\r\n(gdb) bt\r\n#0  0x00007ff0d62cd8ca in Ogre::SceneManagerEnumerator::shutdownAll() () at /usr/lib/libOgreMain.so.1.10.5\r\n#1  0x00007ff0d62a0ea7 in Ogre::Root::shutdown() () at /usr/lib/libOgreMain.so.1.10.5\r\n#2  0x00007ff0d62a281c in Ogre::Root::~Root() () at /usr/lib/libOgreMain.so.1.10.5\r\n#3  0x00007ff0ddb0de2f in gazebo::rendering::RenderEngine::Fini() (this=this@entry=0x7ff0df44d240 <SingletonT<gazebo::rendering::RenderEngine>::GetInstance()::t>) at /home/racko/aur/gazebo/src/gazebo-8.0.0/gazebo/rendering/RenderEngine.cc:368\r\n#4  0x00007ff0ddb16383 in gazebo::rendering::fini() () at /home/racko/aur/gazebo/src/gazebo-8.0.0/gazebo/rendering/RenderingIface.cc:66\r\n#5  0x00007ff0de8b69cd in gazebo::gui::fini() () at /home/racko/aur/gazebo/src/gazebo-8.0.0/gazebo/gui/GuiIface.cc:215\r\n#6  0x00007ff0de8b8110 in gazebo::gui::run(int, char**) (_argc=<optimized out>, _argv=0x7fffffffda48)\r\n    at /home/racko/aur/gazebo/src/gazebo-8.0.0/gazebo/gui/GuiIface.cc:370\r\n#7  0x000000010000376c in main(int, char**) (_argc=2, _argv=0x7fffffffda48) at /home/racko/aur/gazebo/src/gazebo-8.0.0/gazebo/gui/main.cc:29\r\n```\r\n\r\nHere is the gazebo code causing the seg fault:\r\n\r\n#!/osrf/gazebo/src/c1c50dc2390e9b1fc168ca41a501db5b57119212/gazebo/rendering/RenderEngine.cc?at=default&fileviewer=file-view-default#RenderEngine.cc-354\r\n\r\n\r\n```\r\n#!c++\r\n\r\n    this->dataPtr->root->shutdown();\r\n\r\n    // ...\r\n\r\n    try \r\n    {   \r\n      delete this->dataPtr->root; // SIGSEGV\r\n    }   \r\n    catch(...)\r\n    {   \r\n    }   \r\n\r\n```\r\n\r\nCalling Ogre::Root::~Root after calling Ogre::Root::shutdown seems to fail. Which is not documented, so either Ogre should fix it or it may be caused by something else gazebo does.\r\n\r\nI *think* that the this-pointer in the SceneManagerEnumerator::shutdown call (called from Root::~Root) is 0, but I honestly was not able to figure out how this can be caused by \"Root::~Root followed by Root::shutdown\":\r\n\r\n\r\n```\r\n#!\r\n\r\nDump of assembler code for function _ZN4Ogre22SceneManagerEnumerator11shutdownAllEv:\r\n   0x00007ff0d62cd8c0 <+0>:\tpush   %rbp\r\n   0x00007ff0d62cd8c1 <+1>:\tlea    0x20(%rdi),%rbp\r\n   0x00007ff0d62cd8c5 <+5>:\tpush   %rbx\r\n   0x00007ff0d62cd8c6 <+6>:\tsub    $0x8,%rsp\r\n=> 0x00007ff0d62cd8ca <+10>:\tmov    0x30(%rdi),%rbx\r\n...\r\n(gdb) p $edi\r\n$1 = 0\r\n```\r\n\r\n### Possible Solution ###\r\n\r\nAccording to https://bitbucket.org/sinbad/ogre/src/695d30368b416df2f90d570f747e4c656e0462f3/OgreMain/src/OgreRoot.cpp?at=v1-8&fileviewer=file-view-default#OgreRoot.cpp-288, \r\n Ogre::Root::~Root calls Ogre::Root::shutdown, so you might as well remove the shutdown call, which fixes the issue in my tests.\r\n\r\n### Edit ###\r\n\r\nIn hindsight I did the obvious thing and created the smallest test possible to show that Root::shutdown followed by Root::~Root leads to seg fault:\r\n\r\n\r\n```\r\n#!c++\r\n\r\n#include <OgreRoot.h>\r\n\r\nint main()\r\n{\r\n    Ogre::Root root;\r\n    root.shutdown();\r\n    return 0;\r\n}\r\n```\r\n\r\n\r\n```\r\n#!\r\n$ g++ -I/usr/include/OGRE -lOgreMain -lboost_system main.cpp\r\n$ gdb ./a.out\r\n...\r\n*-*-* OGRE Initialising\r\n*-*-* Version 1.10.5 (Xalafu)\r\n*-*-* OGRE Shutdown\r\n\r\nProgram received signal SIGSEGV, Segmentation fault.\r\n0x00007f5b574988ca in Ogre::SceneManagerEnumerator::shutdownAll() () from /usr/lib/libOgreMain.so.1.10.5\r\n(gdb) bt\r\n#0  0x00007f5b574988ca in Ogre::SceneManagerEnumerator::shutdownAll() () from /usr/lib/libOgreMain.so.1.10.5\r\n#1  0x00007f5b5746bea7 in Ogre::Root::shutdown() () from /usr/lib/libOgreMain.so.1.10.5\r\n#2  0x00007f5b5746d81c in Ogre::Root::~Root() () from /usr/lib/libOgreMain.so.1.10.5\r\n#3  0x00000001000016aa in main ()\r\n\r\n```\r\n\r\n### Edit 2 ###\r\n\r\nI was able to find the (actually quite obvious) root cause:\r\n\r\nhttps://bitbucket.org/sinbad/ogre/src/b42cf1abf81571baaefd7c6b92ebfd701896686f/OgreMain/src/OgreRoot.cpp?at=v1-10-5&fileviewer=file-view-default#OgreRoot.cpp-1030\r\n\r\n\r\n```\r\n#!c++\r\n\r\n    void Root::shutdown(void)\r\n    {\r\n        if(mActiveRenderer)\r\n            mActiveRenderer->_setViewport(NULL);\r\n\r\n        // Since background thread might be access resources,\r\n        // ensure shutdown before destroying resource manager.\r\n        mResourceBackgroundQueue->shutdown();\r\n        mWorkQueue->shutdown();\r\n\r\n        SceneManagerEnumerator::getSingleton().shutdownAll(); // uses mSceneManagerEnum\r\n        shutdownPlugins();\r\n        OGRE_DELETE mSceneManagerEnum; // <==== deletes mSceneManagerEnum\r\n\r\n        OGRE_DELETE mShadowTextureManager;\r\n        ShadowVolumeExtrudeProgram::shutdown();\r\n        ResourceGroupManager::getSingleton().shutdownAll();\r\n\r\n        // Destroy pools\r\n        ConvexBody::_destroyPool();\r\n\r\n\r\n        mIsInitialised = false;\r\n\r\n        LogManager::getSingleton().logMessage(\"*-*-* OGRE Shutdown\");\r\n    }\r\n```\r\n\r\nSo calling Root::shutdown once deletes mSceneManagerEnum, and calling it a second time will access it again. Generally, Root::shutdown must not be called twice to prevent double deletes ... But this really looks like a Ogre issue since it isn't documented.\r\n\r\nI created a ticket for this in the Ogre JIRA: https://ogre3d.atlassian.net/browse/OGRE-576", "markup": "markdown", "html": "<p>This issue is related to <a href=\"#!/osrf/gazebo/issues/2321/gazebo-800-startup-error-on-arch-linux\" rel=\"nofollow\" class=\"ap-connect-link\">#!/osrf/gazebo/issues/2321/gazebo-800-startup-error-on-arch-linux</a>. I used both patches referenced by @iche033. Just to make sure, I attached the actual patch I used.</p>\n<div class=\"codehilite\"><pre><span></span>Thread 1 &quot;gzclient&quot; received signal SIGSEGV, Segmentation fault.\n0x00007ff0d62cd8ca in Ogre::SceneManagerEnumerator::shutdownAll() () from /usr/lib/libOgreMain.so.1.10.5\n(gdb) bt\n#0  0x00007ff0d62cd8ca in Ogre::SceneManagerEnumerator::shutdownAll() () at /usr/lib/libOgreMain.so.1.10.5\n#1  0x00007ff0d62a0ea7 in Ogre::Root::shutdown() () at /usr/lib/libOgreMain.so.1.10.5\n#2  0x00007ff0d62a281c in Ogre::Root::~Root() () at /usr/lib/libOgreMain.so.1.10.5\n#3  0x00007ff0ddb0de2f in gazebo::rendering::RenderEngine::Fini() (this=this@entry=0x7ff0df44d240 &lt;SingletonT&lt;gazebo::rendering::RenderEngine&gt;::GetInstance()::t&gt;) at /home/racko/aur/gazebo/src/gazebo-8.0.0/gazebo/rendering/RenderEngine.cc:368\n#4  0x00007ff0ddb16383 in gazebo::rendering::fini() () at /home/racko/aur/gazebo/src/gazebo-8.0.0/gazebo/rendering/RenderingIface.cc:66\n#5  0x00007ff0de8b69cd in gazebo::gui::fini() () at /home/racko/aur/gazebo/src/gazebo-8.0.0/gazebo/gui/GuiIface.cc:215\n#6  0x00007ff0de8b8110 in gazebo::gui::run(int, char**) (_argc=&lt;optimized out&gt;, _argv=0x7fffffffda48)\n    at /home/racko/aur/gazebo/src/gazebo-8.0.0/gazebo/gui/GuiIface.cc:370\n#7  0x000000010000376c in main(int, char**) (_argc=2, _argv=0x7fffffffda48) at /home/racko/aur/gazebo/src/gazebo-8.0.0/gazebo/gui/main.cc:29\n</pre></div>\n\n\n<p>Here is the gazebo code causing the seg fault:</p>\n<p><a href=\"#!/osrf/gazebo/src/c1c50dc2390e9b1fc168ca41a501db5b57119212/gazebo/rendering/RenderEngine.cc?at=default&amp;fileviewer=file-view-default#RenderEngine.cc-354\" rel=\"nofollow\" class=\"ap-connect-link\">#!/osrf/gazebo/src/c1c50dc2390e9b1fc168ca41a501db5b57119212/gazebo/rendering/RenderEngine.cc?at=default&amp;fileviewer=file-view-default#RenderEngine.cc-354</a></p>\n<div class=\"codehilite language-c++\"><pre><span></span>    <span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">dataPtr</span><span class=\"o\">-&gt;</span><span class=\"n\">root</span><span class=\"o\">-&gt;</span><span class=\"n\">shutdown</span><span class=\"p\">();</span>\n\n    <span class=\"c1\">// ...</span>\n\n    <span class=\"k\">try</span> \n    <span class=\"p\">{</span>   \n      <span class=\"k\">delete</span> <span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">dataPtr</span><span class=\"o\">-&gt;</span><span class=\"n\">root</span><span class=\"p\">;</span> <span class=\"c1\">// SIGSEGV</span>\n    <span class=\"p\">}</span>   \n    <span class=\"k\">catch</span><span class=\"p\">(...)</span>\n    <span class=\"p\">{</span>   \n    <span class=\"p\">}</span>   \n</pre></div>\n\n\n<p>Calling Ogre::Root::~Root after calling Ogre::Root::shutdown seems to fail. Which is not documented, so either Ogre should fix it or it may be caused by something else gazebo does.</p>\n<p>I <em>think</em> that the this-pointer in the SceneManagerEnumerator::shutdown call (called from Root::~Root) is 0, but I honestly was not able to figure out how this can be caused by \"Root::~Root followed by Root::shutdown\":</p>\n<div class=\"codehilite\"><pre><span></span>Dump of assembler code for function _ZN4Ogre22SceneManagerEnumerator11shutdownAllEv:\n   0x00007ff0d62cd8c0 &lt;+0&gt;: push   %rbp\n   0x00007ff0d62cd8c1 &lt;+1&gt;: lea    0x20(%rdi),%rbp\n   0x00007ff0d62cd8c5 &lt;+5&gt;: push   %rbx\n   0x00007ff0d62cd8c6 &lt;+6&gt;: sub    $0x8,%rsp\n=&gt; 0x00007ff0d62cd8ca &lt;+10&gt;:    mov    0x30(%rdi),%rbx\n...\n(gdb) p $edi\n$1 = 0\n</pre></div>\n\n\n<h3 id=\"markdown-header-possible-solution\">Possible Solution</h3>\n<p>According to <a href=\"https://bitbucket.org/sinbad/ogre/src/695d30368b416df2f90d570f747e4c656e0462f3/OgreMain/src/OgreRoot.cpp?at=v1-8&amp;fileviewer=file-view-default#OgreRoot.cpp-288\" rel=\"nofollow\" class=\"ap-connect-link\">https://bitbucket.org/sinbad/ogre/src/695d30368b416df2f90d570f747e4c656e0462f3/OgreMain/src/OgreRoot.cpp?at=v1-8&amp;fileviewer=file-view-default#OgreRoot.cpp-288</a>, \n Ogre::Root::~Root calls Ogre::Root::shutdown, so you might as well remove the shutdown call, which fixes the issue in my tests.</p>\n<h3 id=\"markdown-header-edit\">Edit</h3>\n<p>In hindsight I did the obvious thing and created the smallest test possible to show that Root::shutdown followed by Root::~Root leads to seg fault:</p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"cp\">#include</span> <span class=\"cpf\">&lt;OgreRoot.h&gt;</span><span class=\"cp\"></span>\n\n<span class=\"kt\">int</span> <span class=\"nf\">main</span><span class=\"p\">()</span>\n<span class=\"p\">{</span>\n    <span class=\"n\">Ogre</span><span class=\"o\">::</span><span class=\"n\">Root</span> <span class=\"n\">root</span><span class=\"p\">;</span>\n    <span class=\"n\">root</span><span class=\"p\">.</span><span class=\"n\">shutdown</span><span class=\"p\">();</span>\n    <span class=\"k\">return</span> <span class=\"mi\">0</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span>$ g++ -I/usr/include/OGRE -lOgreMain -lboost_system main.cpp\n$ gdb ./a.out\n...\n*-*-* OGRE Initialising\n*-*-* Version <span class=\"m\">1</span>.10.5 <span class=\"o\">(</span>Xalafu<span class=\"o\">)</span>\n*-*-* OGRE Shutdown\n\nProgram received signal SIGSEGV, Segmentation fault.\n0x00007f5b574988ca in Ogre::SceneManagerEnumerator::shutdownAll<span class=\"o\">()</span> <span class=\"o\">()</span> from /usr/lib/libOgreMain.so.1.10.5\n<span class=\"o\">(</span>gdb<span class=\"o\">)</span> bt\n<span class=\"c1\">#0  0x00007f5b574988ca in Ogre::SceneManagerEnumerator::shutdownAll() () from /usr/lib/libOgreMain.so.1.10.5</span>\n<span class=\"c1\">#1  0x00007f5b5746bea7 in Ogre::Root::shutdown() () from /usr/lib/libOgreMain.so.1.10.5</span>\n<span class=\"c1\">#2  0x00007f5b5746d81c in Ogre::Root::~Root() () from /usr/lib/libOgreMain.so.1.10.5</span>\n<span class=\"c1\">#3  0x00000001000016aa in main ()</span>\n</pre></div>\n\n\n<h3 id=\"markdown-header-edit-2\">Edit 2</h3>\n<p>I was able to find the (actually quite obvious) root cause:</p>\n<p><a href=\"https://bitbucket.org/sinbad/ogre/src/b42cf1abf81571baaefd7c6b92ebfd701896686f/OgreMain/src/OgreRoot.cpp?at=v1-10-5&amp;fileviewer=file-view-default#OgreRoot.cpp-1030\" rel=\"nofollow\" class=\"ap-connect-link\">https://bitbucket.org/sinbad/ogre/src/b42cf1abf81571baaefd7c6b92ebfd701896686f/OgreMain/src/OgreRoot.cpp?at=v1-10-5&amp;fileviewer=file-view-default#OgreRoot.cpp-1030</a></p>\n<div class=\"codehilite language-c++\"><pre><span></span>    <span class=\"kt\">void</span> <span class=\"n\">Root</span><span class=\"o\">::</span><span class=\"n\">shutdown</span><span class=\"p\">(</span><span class=\"kt\">void</span><span class=\"p\">)</span>\n    <span class=\"p\">{</span>\n        <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"n\">mActiveRenderer</span><span class=\"p\">)</span>\n            <span class=\"n\">mActiveRenderer</span><span class=\"o\">-&gt;</span><span class=\"n\">_setViewport</span><span class=\"p\">(</span><span class=\"nb\">NULL</span><span class=\"p\">);</span>\n\n        <span class=\"c1\">// Since background thread might be access resources,</span>\n        <span class=\"c1\">// ensure shutdown before destroying resource manager.</span>\n        <span class=\"n\">mResourceBackgroundQueue</span><span class=\"o\">-&gt;</span><span class=\"n\">shutdown</span><span class=\"p\">();</span>\n        <span class=\"n\">mWorkQueue</span><span class=\"o\">-&gt;</span><span class=\"n\">shutdown</span><span class=\"p\">();</span>\n\n        <span class=\"n\">SceneManagerEnumerator</span><span class=\"o\">::</span><span class=\"n\">getSingleton</span><span class=\"p\">().</span><span class=\"n\">shutdownAll</span><span class=\"p\">();</span> <span class=\"c1\">// uses mSceneManagerEnum</span>\n        <span class=\"n\">shutdownPlugins</span><span class=\"p\">();</span>\n        <span class=\"n\">OGRE_DELETE</span> <span class=\"n\">mSceneManagerEnum</span><span class=\"p\">;</span> <span class=\"c1\">// &lt;==== deletes mSceneManagerEnum</span>\n\n        <span class=\"n\">OGRE_DELETE</span> <span class=\"n\">mShadowTextureManager</span><span class=\"p\">;</span>\n        <span class=\"n\">ShadowVolumeExtrudeProgram</span><span class=\"o\">::</span><span class=\"n\">shutdown</span><span class=\"p\">();</span>\n        <span class=\"n\">ResourceGroupManager</span><span class=\"o\">::</span><span class=\"n\">getSingleton</span><span class=\"p\">().</span><span class=\"n\">shutdownAll</span><span class=\"p\">();</span>\n\n        <span class=\"c1\">// Destroy pools</span>\n        <span class=\"n\">ConvexBody</span><span class=\"o\">::</span><span class=\"n\">_destroyPool</span><span class=\"p\">();</span>\n\n\n        <span class=\"n\">mIsInitialised</span> <span class=\"o\">=</span> <span class=\"nb\">false</span><span class=\"p\">;</span>\n\n        <span class=\"n\">LogManager</span><span class=\"o\">::</span><span class=\"n\">getSingleton</span><span class=\"p\">().</span><span class=\"n\">logMessage</span><span class=\"p\">(</span><span class=\"s\">&quot;*-*-* OGRE Shutdown&quot;</span><span class=\"p\">);</span>\n    <span class=\"p\">}</span>\n</pre></div>\n\n\n<p>So calling Root::shutdown once deletes mSceneManagerEnum, and calling it a second time will access it again. Generally, Root::shutdown must not be called twice to prevent double deletes ... But this really looks like a Ogre issue since it isn't documented.</p>\n<p>I created a ticket for this in the Ogre JIRA: <a href=\"https://ogre3d.atlassian.net/browse/OGRE-576\" rel=\"nofollow\" class=\"ap-connect-link\">https://ogre3d.atlassian.net/browse/OGRE-576</a></p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": {"name": "8.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242745.json"}}}, "edited_on": null, "created_on": "2017-08-06T17:24:33.612860+00:00", "milestone": null, "updated_on": "2017-08-08T20:51:45.192022+00:00", "type": "issue", "id": 2324}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2325/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2325.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2325/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2325/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2325/actor-velocity-is-0-0-0-through"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2325/vote"}}, "reporter": {"display_name": "Lei Tai", "uuid": "{ca8833c9-bbf8-4403-8470-933be2cc6f0f}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bca8833c9-bbf8-4403-8470-933be2cc6f0f%7D"}, "html": {"href": "https://bitbucket.org/%7Bca8833c9-bbf8-4403-8470-933be2cc6f0f%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/a0f02ea7225d78f1c14c5036cf47c6dcd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsLT-3.png"}}, "nickname": "onlytailei", "type": "user", "account_id": "557058:2c43c25b-a0c0-421e-a164-94fd1f9e6309"}, "title": "actor velocity is (0,0,0) through WorldLinearVel()", "component": {"name": "physics", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122876.json"}}}, "votes": 0, "watches": 2, "content": {"raw": "Through gazebo 8.0 API, the WorldLinearVel() function returns (0,0,0) for the actor.\r\n\r\nAnd the default ros topic **/gazebo/model_states** also shows the actor twist with all zero values.", "markup": "markdown", "html": "<p>Through gazebo 8.0 API, the WorldLinearVel() function returns (0,0,0) for the actor.</p>\n<p>And the default ros topic <strong>/gazebo/model_states</strong> also shows the actor twist with all zero values.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "8.1", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/243455.json"}}}, "edited_on": null, "created_on": "2017-08-10T20:38:41.409631+00:00", "milestone": null, "updated_on": "2018-06-05T16:54:56.396414+00:00", "type": "issue", "id": 2325}, {"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2326/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2326.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2326/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2326/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2326/default-joint-axis-ode"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2326/vote"}}, "reporter": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "title": "Default joint axis (ODE)", "component": null, "votes": 0, "watches": 1, "content": {"raw": "The default joint axis is incorrect for ODE. The sdformat specifies the z-axis (0, 0, 1) as the default [here](https://bitbucket.org/osrf/sdformat/src/69ed3f4b449f7f71a95e67c076f84747a344a18c/sdf/1.6/joint.sdf?at=default&fileviewer=file-view-default#joint.sdf-52) . The other physics engines are consistent with this and use the z-axis. However, ODE appears to use the x-axis as the default. This also creates an inconsistency with the visual, which shows the z-axis even though the simulation behaves as if the x-axis is the joint axis.\r\n\r\nA few related observations:\r\n\r\n1. The online [sdf specification](http://sdformat.org/spec?ver=1.6&elem=joint#axis_xyz) does not show the default values for many elements including the joint axis.\r\n\r\n1. The universal joint requires the two axes to be perpendicular. Specifying non-perpendicular axes causes different behavior depending on the physics engine used.", "markup": "markdown", "html": "<p>The default joint axis is incorrect for ODE. The sdformat specifies the z-axis (0, 0, 1) as the default <a data-is-external-link=\"true\" href=\"https://bitbucket.org/osrf/sdformat/src/69ed3f4b449f7f71a95e67c076f84747a344a18c/sdf/1.6/joint.sdf?at=default&amp;fileviewer=file-view-default#joint.sdf-52\" rel=\"nofollow\">here</a> . The other physics engines are consistent with this and use the z-axis. However, ODE appears to use the x-axis as the default. This also creates an inconsistency with the visual, which shows the z-axis even though the simulation behaves as if the x-axis is the joint axis.</p>\n<p>A few related observations:</p>\n<ol>\n<li>\n<p>The online <a data-is-external-link=\"true\" href=\"http://sdformat.org/spec?ver=1.6&amp;elem=joint#axis_xyz\" rel=\"nofollow\">sdf specification</a> does not show the default values for many elements including the joint axis.</p>\n</li>\n<li>\n<p>The universal joint requires the two axes to be perpendicular. Specifying non-perpendicular axes causes different behavior depending on the physics engine used.</p>\n</li>\n</ol>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "all", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/225575.json"}}}, "edited_on": null, "created_on": "2017-08-14T21:00:44.684085+00:00", "milestone": null, "updated_on": "2017-08-14T21:01:43.590083+00:00", "type": "issue", "id": 2326}, {"priority": "minor", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2327/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2327.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2327/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2327/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2327/toggle-the-gui-visualization-of-light"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2327/vote"}}, "reporter": {"display_name": "Andrew Symington", "uuid": "{db1311fc-02e6-442e-84a1-4bb85dfee5ba}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bdb1311fc-02e6-442e-84a1-4bb85dfee5ba%7D"}, "html": {"href": "https://bitbucket.org/%7Bdb1311fc-02e6-442e-84a1-4bb85dfee5ba%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:cab3b56e-7c24-487c-b07f-05e0600adf54/8a009f21-29b8-4d43-98ed-2677428e17ff/128"}}, "nickname": "asymingt", "type": "user", "account_id": "557058:cab3b56e-7c24-487c-b07f-05e0600adf54"}, "title": "Toggle the GUI visualization of light frustrums / green lines", "component": {"name": "gui", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122878.json"}}}, "votes": 2, "watches": 4, "content": {"raw": "I would like to be able to turn off the visualization of lights in the GUI, as I have a green laser plugin for my model that looks confusingly like the lines used to visualize all directional/spot lights! The method would be similar to the ```<visualize>``` child of ```<sensor>``` in SDF.\r\n\r\nPerhaps something along these lines:  \r\n\r\n```\r\n<light type=\"...\">\r\n  <visualize>false</visualize>\r\n  ...\r\n</light>\r\n```\r\n\r\nIn addition, since one cannot attach a ```VisualPlugin``` to a light visual, it would be extremely useful to set visibility flags in the ```msgs::Light```, so that one can programatically create / update light visibility.", "markup": "markdown", "html": "<p>I would like to be able to turn off the visualization of lights in the GUI, as I have a green laser plugin for my model that looks confusingly like the lines used to visualize all directional/spot lights! The method would be similar to the <code>&lt;visualize&gt;</code> child of <code>&lt;sensor&gt;</code> in SDF.</p>\n<p>Perhaps something along these lines:  </p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;light</span> <span class=\"na\">type=</span><span class=\"s\">&quot;...&quot;</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;visualize&gt;</span>false<span class=\"nt\">&lt;/visualize&gt;</span>\n  ...\n<span class=\"nt\">&lt;/light&gt;</span>\n</pre></div>\n\n\n<p>In addition, since one cannot attach a <code>VisualPlugin</code> to a light visual, it would be extremely useful to set visibility flags in the <code>msgs::Light</code>, so that one can programatically create / update light visibility.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2017-08-15T19:09:09.405900+00:00", "milestone": null, "updated_on": "2018-09-11T00:16:18.662646+00:00", "type": "issue", "id": 2327}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2328/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2328.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2328/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2328/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2328/programatically-updating-lights-yields-a"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2328/vote"}}, "reporter": {"display_name": "Andrew Symington", "uuid": "{db1311fc-02e6-442e-84a1-4bb85dfee5ba}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bdb1311fc-02e6-442e-84a1-4bb85dfee5ba%7D"}, "html": {"href": "https://bitbucket.org/%7Bdb1311fc-02e6-442e-84a1-4bb85dfee5ba%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:cab3b56e-7c24-487c-b07f-05e0600adf54/8a009f21-29b8-4d43-98ed-2677428e17ff/128"}}, "nickname": "asymingt", "type": "user", "account_id": "557058:cab3b56e-7c24-487c-b07f-05e0600adf54"}, "title": "Programatically updating lights yields a false error", "component": {"name": "rendering", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122881.json"}}}, "votes": 0, "watches": 2, "content": {"raw": "I have simulated a flashlight mounted to my robot by dynamically creating a light and updating its position based on the pose of the link to which it is \"attached\". For  the creation and update I use two distinct publishers:\r\n\r\n```c++\r\ntransport::PublisherPtr pub_create = gz_->Advertise<msgs::Light>(\"~/factory/light\");\r\ntransport::PublisherPtr pub_update = gz_->Advertise<msgs::Light>(\"~/light/modify\");\r\n```\r\n\r\nPublishing to  ```pub_create``` works as expected. A light is created and inserted into the world. However,  publishing to ```pub_update``` to move the world position of the light results in the following gzserver  ```-- verbose```  message every time a message is sent. \r\n\r\n```\r\n[Err] [Scene.cc:2941] Light [xyz] already exists. Use topic ~/light/modify to modify it.\r\n```\r\nStrangely enough, the light does in fact move as expected. It seems to be a false error. It's almost as if the the update publisher is incorrectly triggering the light to be created.", "markup": "markdown", "html": "<p>I have simulated a flashlight mounted to my robot by dynamically creating a light and updating its position based on the pose of the link to which it is \"attached\". For  the creation and update I use two distinct publishers:</p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"n\">transport</span><span class=\"o\">::</span><span class=\"n\">PublisherPtr</span> <span class=\"n\">pub_create</span> <span class=\"o\">=</span> <span class=\"n\">gz_</span><span class=\"o\">-&gt;</span><span class=\"n\">Advertise</span><span class=\"o\">&lt;</span><span class=\"n\">msgs</span><span class=\"o\">::</span><span class=\"n\">Light</span><span class=\"o\">&gt;</span><span class=\"p\">(</span><span class=\"s\">&quot;~/factory/light&quot;</span><span class=\"p\">);</span>\n<span class=\"n\">transport</span><span class=\"o\">::</span><span class=\"n\">PublisherPtr</span> <span class=\"n\">pub_update</span> <span class=\"o\">=</span> <span class=\"n\">gz_</span><span class=\"o\">-&gt;</span><span class=\"n\">Advertise</span><span class=\"o\">&lt;</span><span class=\"n\">msgs</span><span class=\"o\">::</span><span class=\"n\">Light</span><span class=\"o\">&gt;</span><span class=\"p\">(</span><span class=\"s\">&quot;~/light/modify&quot;</span><span class=\"p\">);</span>\n</pre></div>\n\n\n<p>Publishing to  <code>pub_create</code> works as expected. A light is created and inserted into the world. However,  publishing to <code>pub_update</code> to move the world position of the light results in the following gzserver  <code>-- verbose</code>  message every time a message is sent. </p>\n<div class=\"codehilite\"><pre><span></span>[Err] [Scene.cc:2941] Light [xyz] already exists. Use topic ~/light/modify to modify it.\n</pre></div>\n\n\n<p>Strangely enough, the light does in fact move as expected. It seems to be a false error. It's almost as if the the update publisher is incorrectly triggering the light to be created.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2017-08-15T19:23:39.046786+00:00", "milestone": null, "updated_on": "2017-12-21T13:57:13.938644+00:00", "type": "issue", "id": 2328}, {"priority": "minor", "kind": "proposal", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2329/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2329.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2329/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2329/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2329/add-a-model-plugin-for-fmi"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2329/vote"}}, "reporter": {"display_name": "James Goppert", "uuid": "{b618f3e0-62ee-44c4-bc34-e54b9f05b140}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bb618f3e0-62ee-44c4-bc34-e54b9f05b140%7D"}, "html": {"href": "https://bitbucket.org/%7Bb618f3e0-62ee-44c4-bc34-e54b9f05b140%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:169ff364-18d4-4ba3-bf5a-4fd0ab88c331/c1565592-9846-41bd-836a-8421cebab1f4/128"}}, "nickname": "jgoppert", "type": "user", "account_id": "557058:169ff364-18d4-4ba3-bf5a-4fd0ab88c331"}, "title": "Add a Model Plugin for  FMI", "component": {"name": "physics", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122876.json"}}}, "votes": 3, "watches": 1, "content": {"raw": "It would be nice to have a http://fmi-standard.org/ plugin.  This would allow gazebo to use existing vehicle dynamic models (exported from modelica/ simulink) and add some fidelity. I was considering working on one. What would the hurdles be? I assume I would need to tie into the collisions somehow.", "markup": "markdown", "html": "<p>It would be nice to have a <a href=\"http://fmi-standard.org/\" rel=\"nofollow\" class=\"ap-connect-link\">http://fmi-standard.org/</a> plugin.  This would allow gazebo to use existing vehicle dynamic models (exported from modelica/ simulink) and add some fidelity. I was considering working on one. What would the hurdles be? I assume I would need to tie into the collisions somehow.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "8.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242745.json"}}}, "edited_on": null, "created_on": "2017-08-16T11:46:01.467604+00:00", "milestone": null, "updated_on": "2018-08-08T09:00:33.213206+00:00", "type": "issue", "id": 2329}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2330/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2330.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2330/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2330/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2330/gazebo-segfaults-on-launch"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2330/vote"}}, "reporter": {"display_name": "Kenneth Blomqvist", "uuid": "{dec32ae4-915e-432e-82ae-02fac97169d7}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bdec32ae4-915e-432e-82ae-02fac97169d7%7D"}, "html": {"href": "https://bitbucket.org/%7Bdec32ae4-915e-432e-82ae-02fac97169d7%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/cb18d527fcda5280cb1dd8cd4022f796d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsKB-6.png"}}, "nickname": "kekeblom", "type": "user", "account_id": "557058:bfc335cc-22df-49ef-b37d-b460a092473c"}, "title": "Gazebo segfaults on launch", "component": null, "votes": 0, "watches": 2, "content": {"raw": "I'm launching gazebo through roslaunch using a launch file and get the following error:\r\n```\r\nSegmentation fault (core dumped)\r\n[gazebo-5] process has died died [pid ..., exit code 139 ...\r\n```\r\nIt also mentions a log file gazebo-5*.log but it does not exist.\r\n\r\nIf I run the command using the debug flag I get into gdb and I am able to recover the following backtrace: \r\n```\r\n#0  0x00007ffff621cfab in gazebo::physics::Joint::GetAngle(unsigned int) const () from /usr/lib/x86_64-linux-gnu/libgazebo_physics.so.7\r\n#1  0x00007fff22f81909 in gazebo::GazeboRosJointStatePublisher::publishJointStates() () from /opt/ros/lunar/lib/libgazebo_ros_joint_state_publisher.so\r\n#2  0x00007fff22f81d96 in gazebo::GazeboRosJointStatePublisher::OnUpdate(gazebo::common::UpdateInfo const&) () from /opt/ros/lunar/lib/libgazebo_ros_joint_state_publisher.so\r\n#3  0x00007ffff62bbd1f in ?? () from /usr/lib/x86_64-linux-gnu/libgazebo_physics.so.7\r\n#4  0x00007ffff62a62f9 in gazebo::physics::World::Update() () from /usr/lib/x86_64-linux-gnu/libgazebo_physics.so.7\r\n#5  0x00007ffff62b480f in gazebo::physics::World::Step() () from /usr/lib/x86_64-linux-gnu/libgazebo_physics.so.7\r\n#6  0x00007ffff62b4c85 in gazebo::physics::World::RunLoop() () from /usr/lib/x86_64-linux-gnu/libgazebo_physics.so.7\r\n#7  0x00007ffff3f54576 in ?? () from /usr/lib/x86_64-linux-gnu/libboost_thread.so.1.62.0\r\n#8  0x00007ffff65c06da in start_thread (arg=0x7fff4dbf8700) at pthread_create.c:456\r\n#9  0x00007ffff6bcfd7f in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:105\r\n```\r\n\r\nThe launch file I used is rather simple and is as follows:\r\n```\r\n<launch>\r\n        <arg name=\"model\" />\r\n        <arg name=\"use_gui\" value=\"true\"/>\r\n        <arg name=\"paused\" default=\"false\" />\r\n        <arg name=\"headless\" default=\"false\" />\r\n        <arg name=\"debug\" default=\"false\" />\r\n        <arg name=\"use_sim_time\" default=\"true\" />\r\n        <arg name=\"rvizconfig\" default=\"$(find ezgripper_driver)/rviz/urdf.rviz\" />\r\n\r\n        <node name=\"joint_state_publisher\" pkg=\"joint_state_publisher\" type=\"joint_state_publisher\" />\r\n        <node name=\"robot_state_publisher\" pkg=\"robot_state_publisher\" type=\"state_publisher\" />\r\n\r\n        <node name=\"rviz\" pkg=\"rviz\" type=\"rviz\" args=\"-d $(arg rvizconfig)\" required=\"true\" />\r\n\r\n        <include file=\"$(find gazebo_ros)/launch/empty_world.launch\">\r\n                <arg name=\"debug\" value=\"$(arg debug)\" />\r\n                <arg name=\"gui\" value=\"$(arg use_gui)\" />\r\n                <arg name=\"paused\" value=\"$(arg paused)\" />\r\n                <arg name=\"use_sim_time\" value=\"$(arg use_sim_time)\" />\r\n                <arg name=\"headless\" value=\"$(arg headless)\" />\r\n        </include>\r\n\r\n        <param name=\"robot_description\" command=\"xacro --inorder $(find picker)/urdf/robot.urdf.xacro\" />\r\n\r\n        <node name=\"spawn_urdf\" pkg=\"gazebo_ros\" type=\"spawn_model\" args=\"-param robot_description -urdf -model sh-125 \" />\r\n\r\n</launch>\r\n```\r\n\r\nRunning `gz sdf -p <urdf file>` of my urdf model outputs this which looks fine to me:\r\n```\r\n<sdf version='1.6'>\r\n  <model name='sh-125'>\r\n    <link name='base_link'>\r\n      <pose frame=''>0 0 0 0 -0 0</pose>\r\n      <inertial>\r\n        <pose frame=''>0 0 0 0 -0 0</pose>\r\n        <mass>4</mass>\r\n        <inertia>\r\n          <ixx>0.00443333</ixx>\r\n          <ixy>0</ixy>\r\n          <ixz>0</ixz>\r\n          <iyy>0.00443333</iyy>\r\n          <iyz>0</iyz>\r\n          <izz>0.0072</izz>\r\n        </inertia>\r\n      </inertial>\r\n      <collision name='base_link_fixed_joint_lump__ur5_base_link_collision'>\r\n        <pose frame=''>0 0 0 0 -0 0</pose>\r\n        <geometry>\r\n          <mesh>\r\n            <scale>1 1 1</scale>\r\n            <uri>model://ur_description/meshes/ur5/collision/base.stl</uri>\r\n          </mesh>\r\n        </geometry>\r\n      </collision>\r\n      <visual name='base_link_fixed_joint_lump__ur5_base_link_visual'>\r\n        <pose frame=''>0 0 0 0 -0 0</pose>\r\n        <geometry>\r\n          <mesh>\r\n            <scale>1 1 1</scale>\r\n            <uri>model://ur_description/meshes/ur5/visual/base.dae</uri>\r\n          </mesh>\r\n        </geometry>\r\n      </visual>\r\n    </link>\r\n    <link name='ur5_shoulder_link'>\r\n      <pose frame=''>0 0 0.089159 0 -0 0</pose>\r\n      <inertial>\r\n        <pose frame=''>0 0 0 0 -0 0</pose>\r\n        <mass>3.7</mass>\r\n        <inertia>\r\n          <ixx>0.0102675</ixx>\r\n          <ixy>0</ixy>\r\n          <ixz>0</ixz>\r\n          <iyy>0.0102675</iyy>\r\n          <iyz>0</iyz>\r\n          <izz>0.00666</izz>\r\n        </inertia>\r\n      </inertial>\r\n      <collision name='ur5_shoulder_link_collision'>\r\n        <pose frame=''>0 0 0 0 -0 0</pose>\r\n        <geometry>\r\n          <mesh>\r\n            <scale>1 1 1</scale>\r\n            <uri>model://ur_description/meshes/ur5/collision/shoulder.stl</uri>\r\n          </mesh>\r\n        </geometry>\r\n      </collision>\r\n      <visual name='ur5_shoulder_link_visual'>\r\n        <pose frame=''>0 0 0 0 -0 0</pose>\r\n        <geometry>\r\n          <mesh>\r\n            <scale>1 1 1</scale>\r\n            <uri>model://ur_description/meshes/ur5/visual/shoulder.dae</uri>\r\n          </mesh>\r\n        </geometry>\r\n      </visual>\r\n    </link>\r\n    <joint name='ur5_shoulder_pan_joint' type='revolute'>\r\n      <child>ur5_shoulder_link</child>\r\n      <parent>base_link</parent>\r\n      <axis>\r\n        <xyz>0 0 1</xyz>\r\n        <limit>\r\n          <lower>-6.28319</lower>\r\n          <upper>6.28319</upper>\r\n          <effort>150</effort>\r\n          <velocity>3.15</velocity>\r\n        </limit>\r\n        <dynamics>\r\n          <damping>0</damping>\r\n          <friction>0</friction>\r\n          <spring_reference>0</spring_reference>\r\n          <spring_stiffness>0</spring_stiffness>\r\n        </dynamics>\r\n        <use_parent_model_frame>1</use_parent_model_frame>\r\n      </axis>\r\n    </joint>\r\n    <link name='ur5_upper_arm_link'>\r\n      <pose frame=''>0 0.13585 0.089159 3.14159 1.57079 3.14159</pose>\r\n      <inertial>\r\n        <pose frame=''>0 0 0.28 0 -0 0</pose>\r\n        <mass>8.393</mass>\r\n        <inertia>\r\n          <ixx>0.226891</ixx>\r\n          <ixy>0</ixy>\r\n          <ixz>0</ixz>\r\n          <iyy>0.226891</iyy>\r\n          <iyz>0</iyz>\r\n          <izz>0.0151074</izz>\r\n        </inertia>\r\n      </inertial>\r\n      <collision name='ur5_upper_arm_link_collision'>\r\n        <pose frame=''>0 0 0 0 -0 0</pose>\r\n        <geometry>\r\n          <mesh>\r\n            <scale>1 1 1</scale>\r\n            <uri>model://ur_description/meshes/ur5/collision/upperarm.stl</uri>\r\n          </mesh>\r\n        </geometry>\r\n      </collision>\r\n      <visual name='ur5_upper_arm_link_visual'>\r\n        <pose frame=''>0 0 0 0 -0 0</pose>\r\n        <geometry>\r\n          <mesh>\r\n            <scale>1 1 1</scale>\r\n            <uri>model://ur_description/meshes/ur5/visual/upperarm.dae</uri>\r\n          </mesh>\r\n        </geometry>\r\n      </visual>\r\n    </link>\r\n    <joint name='ur5_shoulder_lift_joint' type='revolute'>\r\n      <child>ur5_upper_arm_link</child>\r\n      <parent>ur5_shoulder_link</parent>\r\n      <axis>\r\n        <xyz>0 1 0</xyz>\r\n        <limit>\r\n          <lower>-6.28319</lower>\r\n          <upper>6.28319</upper>\r\n          <effort>150</effort>\r\n          <velocity>3.15</velocity>\r\n        </limit>\r\n        <dynamics>\r\n          <damping>0</damping>\r\n          <friction>0</friction>\r\n          <spring_reference>0</spring_reference>\r\n          <spring_stiffness>0</spring_stiffness>\r\n        </dynamics>\r\n        <use_parent_model_frame>1</use_parent_model_frame>\r\n      </axis>\r\n    </joint>\r\n    <link name='ur5_forearm_link'>\r\n      <pose frame=''>0.425 0.01615 0.089159 3.14159 1.57079 3.14159</pose>\r\n      <inertial>\r\n        <pose frame=''>0 0 0.25 0 -0 0</pose>\r\n        <mass>2.275</mass>\r\n        <inertia>\r\n          <ixx>0.0494433</ixx>\r\n          <ixy>0</ixy>\r\n          <ixz>0</ixz>\r\n          <iyy>0.0494433</iyy>\r\n          <iyz>0</iyz>\r\n          <izz>0.004095</izz>\r\n        </inertia>\r\n      </inertial>\r\n      <collision name='ur5_forearm_link_collision'>\r\n        <pose frame=''>0 0 0 0 -0 0</pose>\r\n        <geometry>\r\n          <mesh>\r\n            <scale>1 1 1</scale>\r\n            <uri>model://ur_description/meshes/ur5/collision/forearm.stl</uri>\r\n          </mesh>\r\n        </geometry>\r\n      </collision>\r\n      <visual name='ur5_forearm_link_visual'>\r\n        <pose frame=''>0 0 0 0 -0 0</pose>\r\n        <geometry>\r\n          <mesh>\r\n            <scale>1 1 1</scale>\r\n            <uri>model://ur_description/meshes/ur5/visual/forearm.dae</uri>\r\n          </mesh>\r\n        </geometry>\r\n      </visual>\r\n    </link>\r\n    <joint name='ur5_elbow_joint' type='revolute'>\r\n      <child>ur5_forearm_link</child>\r\n      <parent>ur5_upper_arm_link</parent>\r\n      <axis>\r\n        <xyz>0 1 0</xyz>\r\n        <limit>\r\n          <lower>-6.28319</lower>\r\n          <upper>6.28319</upper>\r\n          <effort>150</effort>\r\n          <velocity>3.15</velocity>\r\n        </limit>\r\n        <dynamics>\r\n          <damping>0</damping>\r\n          <friction>0</friction>\r\n          <spring_reference>0</spring_reference>\r\n          <spring_stiffness>0</spring_stiffness>\r\n        </dynamics>\r\n        <use_parent_model_frame>1</use_parent_model_frame>\r\n      </axis>\r\n    </joint>\r\n    <link name='ur5_wrist_1_link'>\r\n      <pose frame=''>0.81725 0.01615 0.089159 3.14159 0 3.14159</pose>\r\n      <inertial>\r\n        <pose frame=''>0 0 0 0 -0 0</pose>\r\n        <mass>1.219</mass>\r\n        <inertia>\r\n          <ixx>0.111173</ixx>\r\n          <ixy>0</ixy>\r\n          <ixz>0</ixz>\r\n          <iyy>0.111173</iyy>\r\n          <iyz>0</iyz>\r\n          <izz>0.21942</izz>\r\n        </inertia>\r\n      </inertial>\r\n      <collision name='ur5_wrist_1_link_collision'>\r\n        <pose frame=''>0 0 0 0 -0 0</pose>\r\n        <geometry>\r\n          <mesh>\r\n            <scale>1 1 1</scale>\r\n            <uri>model://ur_description/meshes/ur5/collision/wrist1.stl</uri>\r\n          </mesh>\r\n        </geometry>\r\n      </collision>\r\n      <visual name='ur5_wrist_1_link_visual'>\r\n        <pose frame=''>0 0 0 0 -0 0</pose>\r\n        <geometry>\r\n          <mesh>\r\n            <scale>1 1 1</scale>\r\n            <uri>model://ur_description/meshes/ur5/visual/wrist1.dae</uri>\r\n          </mesh>\r\n        </geometry>\r\n      </visual>\r\n    </link>\r\n    <joint name='ur5_wrist_1_joint' type='revolute'>\r\n      <child>ur5_wrist_1_link</child>\r\n      <parent>ur5_forearm_link</parent>\r\n      <axis>\r\n        <xyz>0 1 0</xyz>\r\n        <limit>\r\n          <lower>-6.28319</lower>\r\n          <upper>6.28319</upper>\r\n          <effort>28</effort>\r\n          <velocity>3.2</velocity>\r\n        </limit>\r\n        <dynamics>\r\n          <damping>0</damping>\r\n          <friction>0</friction>\r\n          <spring_reference>0</spring_reference>\r\n          <spring_stiffness>0</spring_stiffness>\r\n        </dynamics>\r\n        <use_parent_model_frame>1</use_parent_model_frame>\r\n      </axis>\r\n    </joint>\r\n    <link name='ur5_wrist_2_link'>\r\n      <pose frame=''>0.81725 0.10915 0.089159 3.14159 0 3.14159</pose>\r\n      <inertial>\r\n        <pose frame=''>0 0 0 0 -0 0</pose>\r\n        <mass>1.219</mass>\r\n        <inertia>\r\n          <ixx>0.111173</ixx>\r\n          <ixy>0</ixy>\r\n          <ixz>0</ixz>\r\n          <iyy>0.111173</iyy>\r\n          <iyz>0</iyz>\r\n          <izz>0.21942</izz>\r\n        </inertia>\r\n      </inertial>\r\n      <collision name='ur5_wrist_2_link_collision'>\r\n        <pose frame=''>0 0 0 0 -0 0</pose>\r\n        <geometry>\r\n          <mesh>\r\n            <scale>1 1 1</scale>\r\n            <uri>model://ur_description/meshes/ur5/collision/wrist2.stl</uri>\r\n          </mesh>\r\n        </geometry>\r\n      </collision>\r\n      <visual name='ur5_wrist_2_link_visual'>\r\n        <pose frame=''>0 0 0 0 -0 0</pose>\r\n        <geometry>\r\n          <mesh>\r\n            <scale>1 1 1</scale>\r\n            <uri>model://ur_description/meshes/ur5/visual/wrist2.dae</uri>\r\n          </mesh>\r\n        </geometry>\r\n      </visual>\r\n    </link>\r\n    <joint name='ur5_wrist_2_joint' type='revolute'>\r\n      <child>ur5_wrist_2_link</child>\r\n      <parent>ur5_wrist_1_link</parent>\r\n      <axis>\r\n        <xyz>0 0 -1</xyz>\r\n        <limit>\r\n          <lower>-6.28319</lower>\r\n          <upper>6.28319</upper>\r\n          <effort>28</effort>\r\n          <velocity>3.2</velocity>\r\n        </limit>\r\n        <dynamics>\r\n          <damping>0</damping>\r\n          <friction>0</friction>\r\n          <spring_reference>0</spring_reference>\r\n          <spring_stiffness>0</spring_stiffness>\r\n        </dynamics>\r\n        <use_parent_model_frame>1</use_parent_model_frame>\r\n      </axis>\r\n    </joint>\r\n    <link name='ur5_wrist_3_link'>\r\n      <pose frame=''>0.81725 0.10915 -0.005491 3.14159 0 3.14159</pose>\r\n      <inertial>\r\n        <pose frame=''>0 0 0 0 -0 0</pose>\r\n        <mass>0.4879</mass>\r\n        <inertia>\r\n          <ixx>0.0271365</ixx>\r\n          <ixy>0</ixy>\r\n          <ixz>0</ixz>\r\n          <iyy>0.0271365</iyy>\r\n          <iyz>0</iyz>\r\n          <izz>0.043822</izz>\r\n        </inertia>\r\n      </inertial>\r\n      <collision name='ur5_wrist_3_link_collision'>\r\n        <pose frame=''>0 0 0 0 -0 0</pose>\r\n        <geometry>\r\n          <mesh>\r\n            <scale>1 1 1</scale>\r\n            <uri>model://ur_description/meshes/ur5/collision/wrist3.stl</uri>\r\n          </mesh>\r\n        </geometry>\r\n      </collision>\r\n      <collision name='ur5_wrist_3_link_fixed_joint_lump__tool_ezgripper_palm_link_collision_1'>\r\n        <pose frame=''>0 0 0 0 -0 0</pose>\r\n        <geometry>\r\n          <mesh>\r\n            <scale>1 1 1</scale>\r\n            <uri>model://ezgripper_driver/meshes/ezgripper_gen2/SAKE_Palm_Dual_Gen2.stl</uri>\r\n          </mesh>\r\n        </geometry>\r\n      </collision>\r\n      <collision name='ur5_wrist_3_link_fixed_joint_lump__ur5_ee_link_collision_2'>\r\n        <pose frame=''>-0 0.0723 0 0 -0 1.5708</pose>\r\n        <geometry>\r\n          <box>\r\n            <size>0.01 0.01 0.01</size>\r\n          </box>\r\n        </geometry>\r\n      </collision>\r\n      <visual name='ur5_wrist_3_link_visual'>\r\n        <pose frame=''>0 0 0 0 -0 0</pose>\r\n        <geometry>\r\n          <mesh>\r\n            <scale>1 1 1</scale>\r\n            <uri>model://ur_description/meshes/ur5/visual/wrist3.dae</uri>\r\n          </mesh>\r\n        </geometry>\r\n      </visual>\r\n      <visual name='ur5_wrist_3_link_fixed_joint_lump__tool_ezgripper_palm_link_visual_1'>\r\n        <pose frame=''>0 0 0 0 -0 0</pose>\r\n        <geometry>\r\n          <mesh>\r\n            <scale>1 1 1</scale>\r\n            <uri>model://ezgripper_driver/meshes/ezgripper_gen2/SAKE_Palm_Dual_Gen2.stl</uri>\r\n          </mesh>\r\n        </geometry>\r\n      </visual>\r\n    </link>\r\n    <joint name='ur5_wrist_3_joint' type='revolute'>\r\n      <child>ur5_wrist_3_link</child>\r\n      <parent>ur5_wrist_2_link</parent>\r\n      <axis>\r\n        <xyz>0 1 0</xyz>\r\n        <limit>\r\n          <lower>-6.28319</lower>\r\n          <upper>6.28319</upper>\r\n          <effort>28</effort>\r\n          <velocity>3.2</velocity>\r\n        </limit>\r\n        <dynamics>\r\n          <damping>0</damping>\r\n          <friction>0</friction>\r\n          <spring_reference>0</spring_reference>\r\n          <spring_stiffness>0</spring_stiffness>\r\n        </dynamics>\r\n        <use_parent_model_frame>1</use_parent_model_frame>\r\n      </axis>\r\n    </joint>\r\n    <link name='tool_ezgripper_finger_L1_1'>\r\n      <pose frame=''>0.744681 0.13915 -0.005491 1.57079 0 1.57084</pose>\r\n      <inertial>\r\n        <pose frame=''>0 0 0 0 -0 0</pose>\r\n        <mass>0.025</mass>\r\n        <inertia>\r\n          <ixx>0.01</ixx>\r\n          <ixy>0</ixy>\r\n          <ixz>0</ixz>\r\n          <iyy>0.01</iyy>\r\n          <iyz>0</iyz>\r\n          <izz>0.01</izz>\r\n        </inertia>\r\n      </inertial>\r\n      <collision name='tool_ezgripper_finger_L1_1_collision'>\r\n        <pose frame=''>0 0 0 0 -0 0</pose>\r\n        <geometry>\r\n          <mesh>\r\n            <scale>1 1 1</scale>\r\n            <uri>model://ezgripper_driver/meshes/ezgripper_gen2/SAKE_Finger_L1_Gen2.stl</uri>\r\n          </mesh>\r\n        </geometry>\r\n      </collision>\r\n      <visual name='tool_ezgripper_finger_L1_1_visual'>\r\n        <pose frame=''>0 0 0 0 -0 0</pose>\r\n        <geometry>\r\n          <mesh>\r\n            <scale>1 1 1</scale>\r\n            <uri>model://ezgripper_driver/meshes/ezgripper_gen2/SAKE_Finger_L1_Gen2.stl</uri>\r\n          </mesh>\r\n        </geometry>\r\n      </visual>\r\n    </link>\r\n    <joint name='tool_ezgripper_knuckle_palm_L1_1' type='revolute'>\r\n      <child>tool_ezgripper_finger_L1_1</child>\r\n      <parent>ur5_wrist_3_link</parent>\r\n      <axis>\r\n        <xyz>-4e-06 -0 1</xyz>\r\n        <limit>\r\n          <lower>0</lower>\r\n          <upper>1.94</upper>\r\n          <effort>1</effort>\r\n          <velocity>3.67</velocity>\r\n        </limit>\r\n        <dynamics>\r\n          <spring_reference>0</spring_reference>\r\n          <spring_stiffness>0</spring_stiffness>\r\n        </dynamics>\r\n        <use_parent_model_frame>1</use_parent_model_frame>\r\n      </axis>\r\n    </joint>\r\n    <link name='tool_ezgripper_finger_L2_1'>\r\n      <pose frame=''>0.744679 0.19115 -0.005491 1.57079 0 1.57084</pose>\r\n      <inertial>\r\n        <pose frame=''>0 0 0 0 -0 0</pose>\r\n        <mass>0.025</mass>\r\n        <inertia>\r\n          <ixx>0.01</ixx>\r\n          <ixy>0</ixy>\r\n          <ixz>0</ixz>\r\n          <iyy>0.01</iyy>\r\n          <iyz>0</iyz>\r\n          <izz>0.01</izz>\r\n        </inertia>\r\n      </inertial>\r\n      <collision name='tool_ezgripper_finger_L2_1_collision'>\r\n        <pose frame=''>0 0 0 0 -0 0</pose>\r\n        <geometry>\r\n          <mesh>\r\n            <scale>1 1 1</scale>\r\n            <uri>model://ezgripper_driver/meshes/ezgripper_gen2/SAKE_Finger_L2_Gen2.stl</uri>\r\n          </mesh>\r\n        </geometry>\r\n      </collision>\r\n      <visual name='tool_ezgripper_finger_L2_1_visual'>\r\n        <pose frame=''>0 0 0 0 -0 0</pose>\r\n        <geometry>\r\n          <mesh>\r\n            <scale>1 1 1</scale>\r\n            <uri>model://ezgripper_driver/meshes/ezgripper_gen2/SAKE_Finger_L2_Gen2.stl</uri>\r\n          </mesh>\r\n        </geometry>\r\n      </visual>\r\n    </link>\r\n    <joint name='tool_ezgripper_knuckle_L1_L2_1' type='revolute'>\r\n      <child>tool_ezgripper_finger_L2_1</child>\r\n      <parent>tool_ezgripper_finger_L1_1</parent>\r\n      <axis>\r\n        <xyz>-4e-06 -0 1</xyz>\r\n        <limit>\r\n          <lower>0</lower>\r\n          <upper>1.94</upper>\r\n          <effort>1</effort>\r\n          <velocity>3.67</velocity>\r\n        </limit>\r\n        <dynamics>\r\n          <spring_reference>0</spring_reference>\r\n          <spring_stiffness>0</spring_stiffness>\r\n        </dynamics>\r\n        <use_parent_model_frame>1</use_parent_model_frame>\r\n      </axis>\r\n    </joint>\r\n    <link name='tool_ezgripper_finger_L1_2'>\r\n      <pose frame=''>0.744681 0.07915 -0.005491 -1.57079 0 -1.57084</pose>\r\n      <inertial>\r\n        <pose frame=''>0 0 0 0 -0 0</pose>\r\n        <mass>0.025</mass>\r\n        <inertia>\r\n          <ixx>0.01</ixx>\r\n          <ixy>0</ixy>\r\n          <ixz>0</ixz>\r\n          <iyy>0.01</iyy>\r\n          <iyz>0</iyz>\r\n          <izz>0.01</izz>\r\n        </inertia>\r\n      </inertial>\r\n      <collision name='tool_ezgripper_finger_L1_2_collision'>\r\n        <pose frame=''>0 0 0 0 -0 0</pose>\r\n        <geometry>\r\n          <mesh>\r\n            <scale>1 1 1</scale>\r\n            <uri>model://ezgripper_driver/meshes/ezgripper_gen2/SAKE_Finger_L1_Gen2.stl</uri>\r\n          </mesh>\r\n        </geometry>\r\n      </collision>\r\n      <visual name='tool_ezgripper_finger_L1_2_visual'>\r\n        <pose frame=''>0 0 0 0 -0 0</pose>\r\n        <geometry>\r\n          <mesh>\r\n            <scale>1 1 1</scale>\r\n            <uri>model://ezgripper_driver/meshes/ezgripper_gen2/SAKE_Finger_L1_Gen2.stl</uri>\r\n          </mesh>\r\n        </geometry>\r\n      </visual>\r\n    </link>\r\n    <joint name='tool_ezgripper_knuckle_palm_L1_2' type='revolute'>\r\n      <child>tool_ezgripper_finger_L1_2</child>\r\n      <parent>ur5_wrist_3_link</parent>\r\n      <axis>\r\n        <xyz>4e-06 -0 -1</xyz>\r\n        <limit>\r\n          <lower>0</lower>\r\n          <upper>1.94</upper>\r\n          <effort>1</effort>\r\n          <velocity>3.67</velocity>\r\n        </limit>\r\n        <dynamics>\r\n          <spring_reference>0</spring_reference>\r\n          <spring_stiffness>0</spring_stiffness>\r\n        </dynamics>\r\n        <use_parent_model_frame>1</use_parent_model_frame>\r\n      </axis>\r\n    </joint>\r\n    <link name='tool_ezgripper_finger_L2_2'>\r\n      <pose frame=''>0.744679 0.02715 -0.005491 -1.57079 0 -1.57084</pose>\r\n      <inertial>\r\n        <pose frame=''>0 0 0 0 -0 0</pose>\r\n        <mass>0.025</mass>\r\n        <inertia>\r\n          <ixx>0.01</ixx>\r\n          <ixy>0</ixy>\r\n          <ixz>0</ixz>\r\n          <iyy>0.01</iyy>\r\n          <iyz>0</iyz>\r\n          <izz>0.01</izz>\r\n        </inertia>\r\n      </inertial>\r\n      <collision name='tool_ezgripper_finger_L2_2_collision'>\r\n        <pose frame=''>0 0 0 0 -0 0</pose>\r\n        <geometry>\r\n          <mesh>\r\n            <scale>1 1 1</scale>\r\n            <uri>model://ezgripper_driver/meshes/ezgripper_gen2/SAKE_Finger_L2_Gen2.stl</uri>\r\n          </mesh>\r\n        </geometry>\r\n      </collision>\r\n      <visual name='tool_ezgripper_finger_L2_2_visual'>\r\n        <pose frame=''>0 0 0 0 -0 0</pose>\r\n        <geometry>\r\n          <mesh>\r\n            <scale>1 1 1</scale>\r\n            <uri>model://ezgripper_driver/meshes/ezgripper_gen2/SAKE_Finger_L2_Gen2.stl</uri>\r\n          </mesh>\r\n        </geometry>\r\n      </visual>\r\n    </link>\r\n    <joint name='tool_ezgripper_knuckle_L1_L2_2' type='revolute'>\r\n      <child>tool_ezgripper_finger_L2_2</child>\r\n      <parent>tool_ezgripper_finger_L1_2</parent>\r\n      <axis>\r\n        <xyz>4e-06 -0 -1</xyz>\r\n        <limit>\r\n          <lower>0</lower>\r\n          <upper>1.94</upper>\r\n          <effort>1</effort>\r\n          <velocity>3.67</velocity>\r\n        </limit>\r\n        <dynamics>\r\n          <spring_reference>0</spring_reference>\r\n          <spring_stiffness>0</spring_stiffness>\r\n        </dynamics>\r\n        <use_parent_model_frame>1</use_parent_model_frame>\r\n      </axis>\r\n    </joint>\r\n    <plugin name='gazebo_ros_control' filename='libgazebo_ros_control.so'/>\r\n    <static>0</static>\r\n    <plugin name='joint_state_publisher' filename='libgazebo_ros_joint_state_publisher.so'>\r\n      <jointName>tool_ezgripper_knuckle_1,tool_ezgripper_knuckle_2</jointName>\r\n    </plugin>\r\n  </model>\r\n</sdf>\r\n```\r\n\r\nIf I greatly simplify my model by removing the gripper gazebo starts fine. However I am kind of stuck at this point and would appreciate any tips on how I can debug this further to figure out where the issue is.\r\n\r\nLet me know if there is anything more I can do to find the problem here. \r\n\r\nI am running gazebo version 7.5.0.", "markup": "markdown", "html": "<p>I'm launching gazebo through roslaunch using a launch file and get the following error:</p>\n<div class=\"codehilite\"><pre><span></span>Segmentation fault (core dumped)\n[gazebo-5] process has died died [pid ..., exit code 139 ...\n</pre></div>\n\n\n<p>It also mentions a log file gazebo-5*.log but it does not exist.</p>\n<p>If I run the command using the debug flag I get into gdb and I am able to recover the following backtrace: </p>\n<div class=\"codehilite\"><pre><span></span>#0  0x00007ffff621cfab in gazebo::physics::Joint::GetAngle(unsigned int) const () from /usr/lib/x86_64-linux-gnu/libgazebo_physics.so.7\n#1  0x00007fff22f81909 in gazebo::GazeboRosJointStatePublisher::publishJointStates() () from /opt/ros/lunar/lib/libgazebo_ros_joint_state_publisher.so\n#2  0x00007fff22f81d96 in gazebo::GazeboRosJointStatePublisher::OnUpdate(gazebo::common::UpdateInfo const&amp;) () from /opt/ros/lunar/lib/libgazebo_ros_joint_state_publisher.so\n#3  0x00007ffff62bbd1f in ?? () from /usr/lib/x86_64-linux-gnu/libgazebo_physics.so.7\n#4  0x00007ffff62a62f9 in gazebo::physics::World::Update() () from /usr/lib/x86_64-linux-gnu/libgazebo_physics.so.7\n#5  0x00007ffff62b480f in gazebo::physics::World::Step() () from /usr/lib/x86_64-linux-gnu/libgazebo_physics.so.7\n#6  0x00007ffff62b4c85 in gazebo::physics::World::RunLoop() () from /usr/lib/x86_64-linux-gnu/libgazebo_physics.so.7\n#7  0x00007ffff3f54576 in ?? () from /usr/lib/x86_64-linux-gnu/libboost_thread.so.1.62.0\n#8  0x00007ffff65c06da in start_thread (arg=0x7fff4dbf8700) at pthread_create.c:456\n#9  0x00007ffff6bcfd7f in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:105\n</pre></div>\n\n\n<p>The launch file I used is rather simple and is as follows:</p>\n<div class=\"codehilite\"><pre><span></span>&lt;launch&gt;\n        &lt;arg name=&quot;model&quot; /&gt;\n        &lt;arg name=&quot;use_gui&quot; value=&quot;true&quot;/&gt;\n        &lt;arg name=&quot;paused&quot; default=&quot;false&quot; /&gt;\n        &lt;arg name=&quot;headless&quot; default=&quot;false&quot; /&gt;\n        &lt;arg name=&quot;debug&quot; default=&quot;false&quot; /&gt;\n        &lt;arg name=&quot;use_sim_time&quot; default=&quot;true&quot; /&gt;\n        &lt;arg name=&quot;rvizconfig&quot; default=&quot;$(find ezgripper_driver)/rviz/urdf.rviz&quot; /&gt;\n\n        &lt;node name=&quot;joint_state_publisher&quot; pkg=&quot;joint_state_publisher&quot; type=&quot;joint_state_publisher&quot; /&gt;\n        &lt;node name=&quot;robot_state_publisher&quot; pkg=&quot;robot_state_publisher&quot; type=&quot;state_publisher&quot; /&gt;\n\n        &lt;node name=&quot;rviz&quot; pkg=&quot;rviz&quot; type=&quot;rviz&quot; args=&quot;-d $(arg rvizconfig)&quot; required=&quot;true&quot; /&gt;\n\n        &lt;include file=&quot;$(find gazebo_ros)/launch/empty_world.launch&quot;&gt;\n                &lt;arg name=&quot;debug&quot; value=&quot;$(arg debug)&quot; /&gt;\n                &lt;arg name=&quot;gui&quot; value=&quot;$(arg use_gui)&quot; /&gt;\n                &lt;arg name=&quot;paused&quot; value=&quot;$(arg paused)&quot; /&gt;\n                &lt;arg name=&quot;use_sim_time&quot; value=&quot;$(arg use_sim_time)&quot; /&gt;\n                &lt;arg name=&quot;headless&quot; value=&quot;$(arg headless)&quot; /&gt;\n        &lt;/include&gt;\n\n        &lt;param name=&quot;robot_description&quot; command=&quot;xacro --inorder $(find picker)/urdf/robot.urdf.xacro&quot; /&gt;\n\n        &lt;node name=&quot;spawn_urdf&quot; pkg=&quot;gazebo_ros&quot; type=&quot;spawn_model&quot; args=&quot;-param robot_description -urdf -model sh-125 &quot; /&gt;\n\n&lt;/launch&gt;\n</pre></div>\n\n\n<p>Running <code>gz sdf -p &lt;urdf file&gt;</code> of my urdf model outputs this which looks fine to me:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;sdf</span> <span class=\"na\">version=</span><span class=\"s\">&#39;1.6&#39;</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;model</span> <span class=\"na\">name=</span><span class=\"s\">&#39;sh-125&#39;</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;link</span> <span class=\"na\">name=</span><span class=\"s\">&#39;base_link&#39;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;pose</span> <span class=\"na\">frame=</span><span class=\"s\">&#39;&#39;</span><span class=\"nt\">&gt;</span>0 0 0 0 -0 0<span class=\"nt\">&lt;/pose&gt;</span>\n      <span class=\"nt\">&lt;inertial&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">frame=</span><span class=\"s\">&#39;&#39;</span><span class=\"nt\">&gt;</span>0 0 0 0 -0 0<span class=\"nt\">&lt;/pose&gt;</span>\n        <span class=\"nt\">&lt;mass&gt;</span>4<span class=\"nt\">&lt;/mass&gt;</span>\n        <span class=\"nt\">&lt;inertia&gt;</span>\n          <span class=\"nt\">&lt;ixx&gt;</span>0.00443333<span class=\"nt\">&lt;/ixx&gt;</span>\n          <span class=\"nt\">&lt;ixy&gt;</span>0<span class=\"nt\">&lt;/ixy&gt;</span>\n          <span class=\"nt\">&lt;ixz&gt;</span>0<span class=\"nt\">&lt;/ixz&gt;</span>\n          <span class=\"nt\">&lt;iyy&gt;</span>0.00443333<span class=\"nt\">&lt;/iyy&gt;</span>\n          <span class=\"nt\">&lt;iyz&gt;</span>0<span class=\"nt\">&lt;/iyz&gt;</span>\n          <span class=\"nt\">&lt;izz&gt;</span>0.0072<span class=\"nt\">&lt;/izz&gt;</span>\n        <span class=\"nt\">&lt;/inertia&gt;</span>\n      <span class=\"nt\">&lt;/inertial&gt;</span>\n      <span class=\"nt\">&lt;collision</span> <span class=\"na\">name=</span><span class=\"s\">&#39;base_link_fixed_joint_lump__ur5_base_link_collision&#39;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">frame=</span><span class=\"s\">&#39;&#39;</span><span class=\"nt\">&gt;</span>0 0 0 0 -0 0<span class=\"nt\">&lt;/pose&gt;</span>\n        <span class=\"nt\">&lt;geometry&gt;</span>\n          <span class=\"nt\">&lt;mesh&gt;</span>\n            <span class=\"nt\">&lt;scale&gt;</span>1 1 1<span class=\"nt\">&lt;/scale&gt;</span>\n            <span class=\"nt\">&lt;uri&gt;</span>model://ur_description/meshes/ur5/collision/base.stl<span class=\"nt\">&lt;/uri&gt;</span>\n          <span class=\"nt\">&lt;/mesh&gt;</span>\n        <span class=\"nt\">&lt;/geometry&gt;</span>\n      <span class=\"nt\">&lt;/collision&gt;</span>\n      <span class=\"nt\">&lt;visual</span> <span class=\"na\">name=</span><span class=\"s\">&#39;base_link_fixed_joint_lump__ur5_base_link_visual&#39;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">frame=</span><span class=\"s\">&#39;&#39;</span><span class=\"nt\">&gt;</span>0 0 0 0 -0 0<span class=\"nt\">&lt;/pose&gt;</span>\n        <span class=\"nt\">&lt;geometry&gt;</span>\n          <span class=\"nt\">&lt;mesh&gt;</span>\n            <span class=\"nt\">&lt;scale&gt;</span>1 1 1<span class=\"nt\">&lt;/scale&gt;</span>\n            <span class=\"nt\">&lt;uri&gt;</span>model://ur_description/meshes/ur5/visual/base.dae<span class=\"nt\">&lt;/uri&gt;</span>\n          <span class=\"nt\">&lt;/mesh&gt;</span>\n        <span class=\"nt\">&lt;/geometry&gt;</span>\n      <span class=\"nt\">&lt;/visual&gt;</span>\n    <span class=\"nt\">&lt;/link&gt;</span>\n    <span class=\"nt\">&lt;link</span> <span class=\"na\">name=</span><span class=\"s\">&#39;ur5_shoulder_link&#39;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;pose</span> <span class=\"na\">frame=</span><span class=\"s\">&#39;&#39;</span><span class=\"nt\">&gt;</span>0 0 0.089159 0 -0 0<span class=\"nt\">&lt;/pose&gt;</span>\n      <span class=\"nt\">&lt;inertial&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">frame=</span><span class=\"s\">&#39;&#39;</span><span class=\"nt\">&gt;</span>0 0 0 0 -0 0<span class=\"nt\">&lt;/pose&gt;</span>\n        <span class=\"nt\">&lt;mass&gt;</span>3.7<span class=\"nt\">&lt;/mass&gt;</span>\n        <span class=\"nt\">&lt;inertia&gt;</span>\n          <span class=\"nt\">&lt;ixx&gt;</span>0.0102675<span class=\"nt\">&lt;/ixx&gt;</span>\n          <span class=\"nt\">&lt;ixy&gt;</span>0<span class=\"nt\">&lt;/ixy&gt;</span>\n          <span class=\"nt\">&lt;ixz&gt;</span>0<span class=\"nt\">&lt;/ixz&gt;</span>\n          <span class=\"nt\">&lt;iyy&gt;</span>0.0102675<span class=\"nt\">&lt;/iyy&gt;</span>\n          <span class=\"nt\">&lt;iyz&gt;</span>0<span class=\"nt\">&lt;/iyz&gt;</span>\n          <span class=\"nt\">&lt;izz&gt;</span>0.00666<span class=\"nt\">&lt;/izz&gt;</span>\n        <span class=\"nt\">&lt;/inertia&gt;</span>\n      <span class=\"nt\">&lt;/inertial&gt;</span>\n      <span class=\"nt\">&lt;collision</span> <span class=\"na\">name=</span><span class=\"s\">&#39;ur5_shoulder_link_collision&#39;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">frame=</span><span class=\"s\">&#39;&#39;</span><span class=\"nt\">&gt;</span>0 0 0 0 -0 0<span class=\"nt\">&lt;/pose&gt;</span>\n        <span class=\"nt\">&lt;geometry&gt;</span>\n          <span class=\"nt\">&lt;mesh&gt;</span>\n            <span class=\"nt\">&lt;scale&gt;</span>1 1 1<span class=\"nt\">&lt;/scale&gt;</span>\n            <span class=\"nt\">&lt;uri&gt;</span>model://ur_description/meshes/ur5/collision/shoulder.stl<span class=\"nt\">&lt;/uri&gt;</span>\n          <span class=\"nt\">&lt;/mesh&gt;</span>\n        <span class=\"nt\">&lt;/geometry&gt;</span>\n      <span class=\"nt\">&lt;/collision&gt;</span>\n      <span class=\"nt\">&lt;visual</span> <span class=\"na\">name=</span><span class=\"s\">&#39;ur5_shoulder_link_visual&#39;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">frame=</span><span class=\"s\">&#39;&#39;</span><span class=\"nt\">&gt;</span>0 0 0 0 -0 0<span class=\"nt\">&lt;/pose&gt;</span>\n        <span class=\"nt\">&lt;geometry&gt;</span>\n          <span class=\"nt\">&lt;mesh&gt;</span>\n            <span class=\"nt\">&lt;scale&gt;</span>1 1 1<span class=\"nt\">&lt;/scale&gt;</span>\n            <span class=\"nt\">&lt;uri&gt;</span>model://ur_description/meshes/ur5/visual/shoulder.dae<span class=\"nt\">&lt;/uri&gt;</span>\n          <span class=\"nt\">&lt;/mesh&gt;</span>\n        <span class=\"nt\">&lt;/geometry&gt;</span>\n      <span class=\"nt\">&lt;/visual&gt;</span>\n    <span class=\"nt\">&lt;/link&gt;</span>\n    <span class=\"nt\">&lt;joint</span> <span class=\"na\">name=</span><span class=\"s\">&#39;ur5_shoulder_pan_joint&#39;</span> <span class=\"na\">type=</span><span class=\"s\">&#39;revolute&#39;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;child&gt;</span>ur5_shoulder_link<span class=\"nt\">&lt;/child&gt;</span>\n      <span class=\"nt\">&lt;parent&gt;</span>base_link<span class=\"nt\">&lt;/parent&gt;</span>\n      <span class=\"nt\">&lt;axis&gt;</span>\n        <span class=\"nt\">&lt;xyz&gt;</span>0 0 1<span class=\"nt\">&lt;/xyz&gt;</span>\n        <span class=\"nt\">&lt;limit&gt;</span>\n          <span class=\"nt\">&lt;lower&gt;</span>-6.28319<span class=\"nt\">&lt;/lower&gt;</span>\n          <span class=\"nt\">&lt;upper&gt;</span>6.28319<span class=\"nt\">&lt;/upper&gt;</span>\n          <span class=\"nt\">&lt;effort&gt;</span>150<span class=\"nt\">&lt;/effort&gt;</span>\n          <span class=\"nt\">&lt;velocity&gt;</span>3.15<span class=\"nt\">&lt;/velocity&gt;</span>\n        <span class=\"nt\">&lt;/limit&gt;</span>\n        <span class=\"nt\">&lt;dynamics&gt;</span>\n          <span class=\"nt\">&lt;damping&gt;</span>0<span class=\"nt\">&lt;/damping&gt;</span>\n          <span class=\"nt\">&lt;friction&gt;</span>0<span class=\"nt\">&lt;/friction&gt;</span>\n          <span class=\"nt\">&lt;spring_reference&gt;</span>0<span class=\"nt\">&lt;/spring_reference&gt;</span>\n          <span class=\"nt\">&lt;spring_stiffness&gt;</span>0<span class=\"nt\">&lt;/spring_stiffness&gt;</span>\n        <span class=\"nt\">&lt;/dynamics&gt;</span>\n        <span class=\"nt\">&lt;use_parent_model_frame&gt;</span>1<span class=\"nt\">&lt;/use_parent_model_frame&gt;</span>\n      <span class=\"nt\">&lt;/axis&gt;</span>\n    <span class=\"nt\">&lt;/joint&gt;</span>\n    <span class=\"nt\">&lt;link</span> <span class=\"na\">name=</span><span class=\"s\">&#39;ur5_upper_arm_link&#39;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;pose</span> <span class=\"na\">frame=</span><span class=\"s\">&#39;&#39;</span><span class=\"nt\">&gt;</span>0 0.13585 0.089159 3.14159 1.57079 3.14159<span class=\"nt\">&lt;/pose&gt;</span>\n      <span class=\"nt\">&lt;inertial&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">frame=</span><span class=\"s\">&#39;&#39;</span><span class=\"nt\">&gt;</span>0 0 0.28 0 -0 0<span class=\"nt\">&lt;/pose&gt;</span>\n        <span class=\"nt\">&lt;mass&gt;</span>8.393<span class=\"nt\">&lt;/mass&gt;</span>\n        <span class=\"nt\">&lt;inertia&gt;</span>\n          <span class=\"nt\">&lt;ixx&gt;</span>0.226891<span class=\"nt\">&lt;/ixx&gt;</span>\n          <span class=\"nt\">&lt;ixy&gt;</span>0<span class=\"nt\">&lt;/ixy&gt;</span>\n          <span class=\"nt\">&lt;ixz&gt;</span>0<span class=\"nt\">&lt;/ixz&gt;</span>\n          <span class=\"nt\">&lt;iyy&gt;</span>0.226891<span class=\"nt\">&lt;/iyy&gt;</span>\n          <span class=\"nt\">&lt;iyz&gt;</span>0<span class=\"nt\">&lt;/iyz&gt;</span>\n          <span class=\"nt\">&lt;izz&gt;</span>0.0151074<span class=\"nt\">&lt;/izz&gt;</span>\n        <span class=\"nt\">&lt;/inertia&gt;</span>\n      <span class=\"nt\">&lt;/inertial&gt;</span>\n      <span class=\"nt\">&lt;collision</span> <span class=\"na\">name=</span><span class=\"s\">&#39;ur5_upper_arm_link_collision&#39;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">frame=</span><span class=\"s\">&#39;&#39;</span><span class=\"nt\">&gt;</span>0 0 0 0 -0 0<span class=\"nt\">&lt;/pose&gt;</span>\n        <span class=\"nt\">&lt;geometry&gt;</span>\n          <span class=\"nt\">&lt;mesh&gt;</span>\n            <span class=\"nt\">&lt;scale&gt;</span>1 1 1<span class=\"nt\">&lt;/scale&gt;</span>\n            <span class=\"nt\">&lt;uri&gt;</span>model://ur_description/meshes/ur5/collision/upperarm.stl<span class=\"nt\">&lt;/uri&gt;</span>\n          <span class=\"nt\">&lt;/mesh&gt;</span>\n        <span class=\"nt\">&lt;/geometry&gt;</span>\n      <span class=\"nt\">&lt;/collision&gt;</span>\n      <span class=\"nt\">&lt;visual</span> <span class=\"na\">name=</span><span class=\"s\">&#39;ur5_upper_arm_link_visual&#39;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">frame=</span><span class=\"s\">&#39;&#39;</span><span class=\"nt\">&gt;</span>0 0 0 0 -0 0<span class=\"nt\">&lt;/pose&gt;</span>\n        <span class=\"nt\">&lt;geometry&gt;</span>\n          <span class=\"nt\">&lt;mesh&gt;</span>\n            <span class=\"nt\">&lt;scale&gt;</span>1 1 1<span class=\"nt\">&lt;/scale&gt;</span>\n            <span class=\"nt\">&lt;uri&gt;</span>model://ur_description/meshes/ur5/visual/upperarm.dae<span class=\"nt\">&lt;/uri&gt;</span>\n          <span class=\"nt\">&lt;/mesh&gt;</span>\n        <span class=\"nt\">&lt;/geometry&gt;</span>\n      <span class=\"nt\">&lt;/visual&gt;</span>\n    <span class=\"nt\">&lt;/link&gt;</span>\n    <span class=\"nt\">&lt;joint</span> <span class=\"na\">name=</span><span class=\"s\">&#39;ur5_shoulder_lift_joint&#39;</span> <span class=\"na\">type=</span><span class=\"s\">&#39;revolute&#39;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;child&gt;</span>ur5_upper_arm_link<span class=\"nt\">&lt;/child&gt;</span>\n      <span class=\"nt\">&lt;parent&gt;</span>ur5_shoulder_link<span class=\"nt\">&lt;/parent&gt;</span>\n      <span class=\"nt\">&lt;axis&gt;</span>\n        <span class=\"nt\">&lt;xyz&gt;</span>0 1 0<span class=\"nt\">&lt;/xyz&gt;</span>\n        <span class=\"nt\">&lt;limit&gt;</span>\n          <span class=\"nt\">&lt;lower&gt;</span>-6.28319<span class=\"nt\">&lt;/lower&gt;</span>\n          <span class=\"nt\">&lt;upper&gt;</span>6.28319<span class=\"nt\">&lt;/upper&gt;</span>\n          <span class=\"nt\">&lt;effort&gt;</span>150<span class=\"nt\">&lt;/effort&gt;</span>\n          <span class=\"nt\">&lt;velocity&gt;</span>3.15<span class=\"nt\">&lt;/velocity&gt;</span>\n        <span class=\"nt\">&lt;/limit&gt;</span>\n        <span class=\"nt\">&lt;dynamics&gt;</span>\n          <span class=\"nt\">&lt;damping&gt;</span>0<span class=\"nt\">&lt;/damping&gt;</span>\n          <span class=\"nt\">&lt;friction&gt;</span>0<span class=\"nt\">&lt;/friction&gt;</span>\n          <span class=\"nt\">&lt;spring_reference&gt;</span>0<span class=\"nt\">&lt;/spring_reference&gt;</span>\n          <span class=\"nt\">&lt;spring_stiffness&gt;</span>0<span class=\"nt\">&lt;/spring_stiffness&gt;</span>\n        <span class=\"nt\">&lt;/dynamics&gt;</span>\n        <span class=\"nt\">&lt;use_parent_model_frame&gt;</span>1<span class=\"nt\">&lt;/use_parent_model_frame&gt;</span>\n      <span class=\"nt\">&lt;/axis&gt;</span>\n    <span class=\"nt\">&lt;/joint&gt;</span>\n    <span class=\"nt\">&lt;link</span> <span class=\"na\">name=</span><span class=\"s\">&#39;ur5_forearm_link&#39;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;pose</span> <span class=\"na\">frame=</span><span class=\"s\">&#39;&#39;</span><span class=\"nt\">&gt;</span>0.425 0.01615 0.089159 3.14159 1.57079 3.14159<span class=\"nt\">&lt;/pose&gt;</span>\n      <span class=\"nt\">&lt;inertial&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">frame=</span><span class=\"s\">&#39;&#39;</span><span class=\"nt\">&gt;</span>0 0 0.25 0 -0 0<span class=\"nt\">&lt;/pose&gt;</span>\n        <span class=\"nt\">&lt;mass&gt;</span>2.275<span class=\"nt\">&lt;/mass&gt;</span>\n        <span class=\"nt\">&lt;inertia&gt;</span>\n          <span class=\"nt\">&lt;ixx&gt;</span>0.0494433<span class=\"nt\">&lt;/ixx&gt;</span>\n          <span class=\"nt\">&lt;ixy&gt;</span>0<span class=\"nt\">&lt;/ixy&gt;</span>\n          <span class=\"nt\">&lt;ixz&gt;</span>0<span class=\"nt\">&lt;/ixz&gt;</span>\n          <span class=\"nt\">&lt;iyy&gt;</span>0.0494433<span class=\"nt\">&lt;/iyy&gt;</span>\n          <span class=\"nt\">&lt;iyz&gt;</span>0<span class=\"nt\">&lt;/iyz&gt;</span>\n          <span class=\"nt\">&lt;izz&gt;</span>0.004095<span class=\"nt\">&lt;/izz&gt;</span>\n        <span class=\"nt\">&lt;/inertia&gt;</span>\n      <span class=\"nt\">&lt;/inertial&gt;</span>\n      <span class=\"nt\">&lt;collision</span> <span class=\"na\">name=</span><span class=\"s\">&#39;ur5_forearm_link_collision&#39;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">frame=</span><span class=\"s\">&#39;&#39;</span><span class=\"nt\">&gt;</span>0 0 0 0 -0 0<span class=\"nt\">&lt;/pose&gt;</span>\n        <span class=\"nt\">&lt;geometry&gt;</span>\n          <span class=\"nt\">&lt;mesh&gt;</span>\n            <span class=\"nt\">&lt;scale&gt;</span>1 1 1<span class=\"nt\">&lt;/scale&gt;</span>\n            <span class=\"nt\">&lt;uri&gt;</span>model://ur_description/meshes/ur5/collision/forearm.stl<span class=\"nt\">&lt;/uri&gt;</span>\n          <span class=\"nt\">&lt;/mesh&gt;</span>\n        <span class=\"nt\">&lt;/geometry&gt;</span>\n      <span class=\"nt\">&lt;/collision&gt;</span>\n      <span class=\"nt\">&lt;visual</span> <span class=\"na\">name=</span><span class=\"s\">&#39;ur5_forearm_link_visual&#39;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">frame=</span><span class=\"s\">&#39;&#39;</span><span class=\"nt\">&gt;</span>0 0 0 0 -0 0<span class=\"nt\">&lt;/pose&gt;</span>\n        <span class=\"nt\">&lt;geometry&gt;</span>\n          <span class=\"nt\">&lt;mesh&gt;</span>\n            <span class=\"nt\">&lt;scale&gt;</span>1 1 1<span class=\"nt\">&lt;/scale&gt;</span>\n            <span class=\"nt\">&lt;uri&gt;</span>model://ur_description/meshes/ur5/visual/forearm.dae<span class=\"nt\">&lt;/uri&gt;</span>\n          <span class=\"nt\">&lt;/mesh&gt;</span>\n        <span class=\"nt\">&lt;/geometry&gt;</span>\n      <span class=\"nt\">&lt;/visual&gt;</span>\n    <span class=\"nt\">&lt;/link&gt;</span>\n    <span class=\"nt\">&lt;joint</span> <span class=\"na\">name=</span><span class=\"s\">&#39;ur5_elbow_joint&#39;</span> <span class=\"na\">type=</span><span class=\"s\">&#39;revolute&#39;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;child&gt;</span>ur5_forearm_link<span class=\"nt\">&lt;/child&gt;</span>\n      <span class=\"nt\">&lt;parent&gt;</span>ur5_upper_arm_link<span class=\"nt\">&lt;/parent&gt;</span>\n      <span class=\"nt\">&lt;axis&gt;</span>\n        <span class=\"nt\">&lt;xyz&gt;</span>0 1 0<span class=\"nt\">&lt;/xyz&gt;</span>\n        <span class=\"nt\">&lt;limit&gt;</span>\n          <span class=\"nt\">&lt;lower&gt;</span>-6.28319<span class=\"nt\">&lt;/lower&gt;</span>\n          <span class=\"nt\">&lt;upper&gt;</span>6.28319<span class=\"nt\">&lt;/upper&gt;</span>\n          <span class=\"nt\">&lt;effort&gt;</span>150<span class=\"nt\">&lt;/effort&gt;</span>\n          <span class=\"nt\">&lt;velocity&gt;</span>3.15<span class=\"nt\">&lt;/velocity&gt;</span>\n        <span class=\"nt\">&lt;/limit&gt;</span>\n        <span class=\"nt\">&lt;dynamics&gt;</span>\n          <span class=\"nt\">&lt;damping&gt;</span>0<span class=\"nt\">&lt;/damping&gt;</span>\n          <span class=\"nt\">&lt;friction&gt;</span>0<span class=\"nt\">&lt;/friction&gt;</span>\n          <span class=\"nt\">&lt;spring_reference&gt;</span>0<span class=\"nt\">&lt;/spring_reference&gt;</span>\n          <span class=\"nt\">&lt;spring_stiffness&gt;</span>0<span class=\"nt\">&lt;/spring_stiffness&gt;</span>\n        <span class=\"nt\">&lt;/dynamics&gt;</span>\n        <span class=\"nt\">&lt;use_parent_model_frame&gt;</span>1<span class=\"nt\">&lt;/use_parent_model_frame&gt;</span>\n      <span class=\"nt\">&lt;/axis&gt;</span>\n    <span class=\"nt\">&lt;/joint&gt;</span>\n    <span class=\"nt\">&lt;link</span> <span class=\"na\">name=</span><span class=\"s\">&#39;ur5_wrist_1_link&#39;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;pose</span> <span class=\"na\">frame=</span><span class=\"s\">&#39;&#39;</span><span class=\"nt\">&gt;</span>0.81725 0.01615 0.089159 3.14159 0 3.14159<span class=\"nt\">&lt;/pose&gt;</span>\n      <span class=\"nt\">&lt;inertial&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">frame=</span><span class=\"s\">&#39;&#39;</span><span class=\"nt\">&gt;</span>0 0 0 0 -0 0<span class=\"nt\">&lt;/pose&gt;</span>\n        <span class=\"nt\">&lt;mass&gt;</span>1.219<span class=\"nt\">&lt;/mass&gt;</span>\n        <span class=\"nt\">&lt;inertia&gt;</span>\n          <span class=\"nt\">&lt;ixx&gt;</span>0.111173<span class=\"nt\">&lt;/ixx&gt;</span>\n          <span class=\"nt\">&lt;ixy&gt;</span>0<span class=\"nt\">&lt;/ixy&gt;</span>\n          <span class=\"nt\">&lt;ixz&gt;</span>0<span class=\"nt\">&lt;/ixz&gt;</span>\n          <span class=\"nt\">&lt;iyy&gt;</span>0.111173<span class=\"nt\">&lt;/iyy&gt;</span>\n          <span class=\"nt\">&lt;iyz&gt;</span>0<span class=\"nt\">&lt;/iyz&gt;</span>\n          <span class=\"nt\">&lt;izz&gt;</span>0.21942<span class=\"nt\">&lt;/izz&gt;</span>\n        <span class=\"nt\">&lt;/inertia&gt;</span>\n      <span class=\"nt\">&lt;/inertial&gt;</span>\n      <span class=\"nt\">&lt;collision</span> <span class=\"na\">name=</span><span class=\"s\">&#39;ur5_wrist_1_link_collision&#39;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">frame=</span><span class=\"s\">&#39;&#39;</span><span class=\"nt\">&gt;</span>0 0 0 0 -0 0<span class=\"nt\">&lt;/pose&gt;</span>\n        <span class=\"nt\">&lt;geometry&gt;</span>\n          <span class=\"nt\">&lt;mesh&gt;</span>\n            <span class=\"nt\">&lt;scale&gt;</span>1 1 1<span class=\"nt\">&lt;/scale&gt;</span>\n            <span class=\"nt\">&lt;uri&gt;</span>model://ur_description/meshes/ur5/collision/wrist1.stl<span class=\"nt\">&lt;/uri&gt;</span>\n          <span class=\"nt\">&lt;/mesh&gt;</span>\n        <span class=\"nt\">&lt;/geometry&gt;</span>\n      <span class=\"nt\">&lt;/collision&gt;</span>\n      <span class=\"nt\">&lt;visual</span> <span class=\"na\">name=</span><span class=\"s\">&#39;ur5_wrist_1_link_visual&#39;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">frame=</span><span class=\"s\">&#39;&#39;</span><span class=\"nt\">&gt;</span>0 0 0 0 -0 0<span class=\"nt\">&lt;/pose&gt;</span>\n        <span class=\"nt\">&lt;geometry&gt;</span>\n          <span class=\"nt\">&lt;mesh&gt;</span>\n            <span class=\"nt\">&lt;scale&gt;</span>1 1 1<span class=\"nt\">&lt;/scale&gt;</span>\n            <span class=\"nt\">&lt;uri&gt;</span>model://ur_description/meshes/ur5/visual/wrist1.dae<span class=\"nt\">&lt;/uri&gt;</span>\n          <span class=\"nt\">&lt;/mesh&gt;</span>\n        <span class=\"nt\">&lt;/geometry&gt;</span>\n      <span class=\"nt\">&lt;/visual&gt;</span>\n    <span class=\"nt\">&lt;/link&gt;</span>\n    <span class=\"nt\">&lt;joint</span> <span class=\"na\">name=</span><span class=\"s\">&#39;ur5_wrist_1_joint&#39;</span> <span class=\"na\">type=</span><span class=\"s\">&#39;revolute&#39;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;child&gt;</span>ur5_wrist_1_link<span class=\"nt\">&lt;/child&gt;</span>\n      <span class=\"nt\">&lt;parent&gt;</span>ur5_forearm_link<span class=\"nt\">&lt;/parent&gt;</span>\n      <span class=\"nt\">&lt;axis&gt;</span>\n        <span class=\"nt\">&lt;xyz&gt;</span>0 1 0<span class=\"nt\">&lt;/xyz&gt;</span>\n        <span class=\"nt\">&lt;limit&gt;</span>\n          <span class=\"nt\">&lt;lower&gt;</span>-6.28319<span class=\"nt\">&lt;/lower&gt;</span>\n          <span class=\"nt\">&lt;upper&gt;</span>6.28319<span class=\"nt\">&lt;/upper&gt;</span>\n          <span class=\"nt\">&lt;effort&gt;</span>28<span class=\"nt\">&lt;/effort&gt;</span>\n          <span class=\"nt\">&lt;velocity&gt;</span>3.2<span class=\"nt\">&lt;/velocity&gt;</span>\n        <span class=\"nt\">&lt;/limit&gt;</span>\n        <span class=\"nt\">&lt;dynamics&gt;</span>\n          <span class=\"nt\">&lt;damping&gt;</span>0<span class=\"nt\">&lt;/damping&gt;</span>\n          <span class=\"nt\">&lt;friction&gt;</span>0<span class=\"nt\">&lt;/friction&gt;</span>\n          <span class=\"nt\">&lt;spring_reference&gt;</span>0<span class=\"nt\">&lt;/spring_reference&gt;</span>\n          <span class=\"nt\">&lt;spring_stiffness&gt;</span>0<span class=\"nt\">&lt;/spring_stiffness&gt;</span>\n        <span class=\"nt\">&lt;/dynamics&gt;</span>\n        <span class=\"nt\">&lt;use_parent_model_frame&gt;</span>1<span class=\"nt\">&lt;/use_parent_model_frame&gt;</span>\n      <span class=\"nt\">&lt;/axis&gt;</span>\n    <span class=\"nt\">&lt;/joint&gt;</span>\n    <span class=\"nt\">&lt;link</span> <span class=\"na\">name=</span><span class=\"s\">&#39;ur5_wrist_2_link&#39;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;pose</span> <span class=\"na\">frame=</span><span class=\"s\">&#39;&#39;</span><span class=\"nt\">&gt;</span>0.81725 0.10915 0.089159 3.14159 0 3.14159<span class=\"nt\">&lt;/pose&gt;</span>\n      <span class=\"nt\">&lt;inertial&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">frame=</span><span class=\"s\">&#39;&#39;</span><span class=\"nt\">&gt;</span>0 0 0 0 -0 0<span class=\"nt\">&lt;/pose&gt;</span>\n        <span class=\"nt\">&lt;mass&gt;</span>1.219<span class=\"nt\">&lt;/mass&gt;</span>\n        <span class=\"nt\">&lt;inertia&gt;</span>\n          <span class=\"nt\">&lt;ixx&gt;</span>0.111173<span class=\"nt\">&lt;/ixx&gt;</span>\n          <span class=\"nt\">&lt;ixy&gt;</span>0<span class=\"nt\">&lt;/ixy&gt;</span>\n          <span class=\"nt\">&lt;ixz&gt;</span>0<span class=\"nt\">&lt;/ixz&gt;</span>\n          <span class=\"nt\">&lt;iyy&gt;</span>0.111173<span class=\"nt\">&lt;/iyy&gt;</span>\n          <span class=\"nt\">&lt;iyz&gt;</span>0<span class=\"nt\">&lt;/iyz&gt;</span>\n          <span class=\"nt\">&lt;izz&gt;</span>0.21942<span class=\"nt\">&lt;/izz&gt;</span>\n        <span class=\"nt\">&lt;/inertia&gt;</span>\n      <span class=\"nt\">&lt;/inertial&gt;</span>\n      <span class=\"nt\">&lt;collision</span> <span class=\"na\">name=</span><span class=\"s\">&#39;ur5_wrist_2_link_collision&#39;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">frame=</span><span class=\"s\">&#39;&#39;</span><span class=\"nt\">&gt;</span>0 0 0 0 -0 0<span class=\"nt\">&lt;/pose&gt;</span>\n        <span class=\"nt\">&lt;geometry&gt;</span>\n          <span class=\"nt\">&lt;mesh&gt;</span>\n            <span class=\"nt\">&lt;scale&gt;</span>1 1 1<span class=\"nt\">&lt;/scale&gt;</span>\n            <span class=\"nt\">&lt;uri&gt;</span>model://ur_description/meshes/ur5/collision/wrist2.stl<span class=\"nt\">&lt;/uri&gt;</span>\n          <span class=\"nt\">&lt;/mesh&gt;</span>\n        <span class=\"nt\">&lt;/geometry&gt;</span>\n      <span class=\"nt\">&lt;/collision&gt;</span>\n      <span class=\"nt\">&lt;visual</span> <span class=\"na\">name=</span><span class=\"s\">&#39;ur5_wrist_2_link_visual&#39;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">frame=</span><span class=\"s\">&#39;&#39;</span><span class=\"nt\">&gt;</span>0 0 0 0 -0 0<span class=\"nt\">&lt;/pose&gt;</span>\n        <span class=\"nt\">&lt;geometry&gt;</span>\n          <span class=\"nt\">&lt;mesh&gt;</span>\n            <span class=\"nt\">&lt;scale&gt;</span>1 1 1<span class=\"nt\">&lt;/scale&gt;</span>\n            <span class=\"nt\">&lt;uri&gt;</span>model://ur_description/meshes/ur5/visual/wrist2.dae<span class=\"nt\">&lt;/uri&gt;</span>\n          <span class=\"nt\">&lt;/mesh&gt;</span>\n        <span class=\"nt\">&lt;/geometry&gt;</span>\n      <span class=\"nt\">&lt;/visual&gt;</span>\n    <span class=\"nt\">&lt;/link&gt;</span>\n    <span class=\"nt\">&lt;joint</span> <span class=\"na\">name=</span><span class=\"s\">&#39;ur5_wrist_2_joint&#39;</span> <span class=\"na\">type=</span><span class=\"s\">&#39;revolute&#39;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;child&gt;</span>ur5_wrist_2_link<span class=\"nt\">&lt;/child&gt;</span>\n      <span class=\"nt\">&lt;parent&gt;</span>ur5_wrist_1_link<span class=\"nt\">&lt;/parent&gt;</span>\n      <span class=\"nt\">&lt;axis&gt;</span>\n        <span class=\"nt\">&lt;xyz&gt;</span>0 0 -1<span class=\"nt\">&lt;/xyz&gt;</span>\n        <span class=\"nt\">&lt;limit&gt;</span>\n          <span class=\"nt\">&lt;lower&gt;</span>-6.28319<span class=\"nt\">&lt;/lower&gt;</span>\n          <span class=\"nt\">&lt;upper&gt;</span>6.28319<span class=\"nt\">&lt;/upper&gt;</span>\n          <span class=\"nt\">&lt;effort&gt;</span>28<span class=\"nt\">&lt;/effort&gt;</span>\n          <span class=\"nt\">&lt;velocity&gt;</span>3.2<span class=\"nt\">&lt;/velocity&gt;</span>\n        <span class=\"nt\">&lt;/limit&gt;</span>\n        <span class=\"nt\">&lt;dynamics&gt;</span>\n          <span class=\"nt\">&lt;damping&gt;</span>0<span class=\"nt\">&lt;/damping&gt;</span>\n          <span class=\"nt\">&lt;friction&gt;</span>0<span class=\"nt\">&lt;/friction&gt;</span>\n          <span class=\"nt\">&lt;spring_reference&gt;</span>0<span class=\"nt\">&lt;/spring_reference&gt;</span>\n          <span class=\"nt\">&lt;spring_stiffness&gt;</span>0<span class=\"nt\">&lt;/spring_stiffness&gt;</span>\n        <span class=\"nt\">&lt;/dynamics&gt;</span>\n        <span class=\"nt\">&lt;use_parent_model_frame&gt;</span>1<span class=\"nt\">&lt;/use_parent_model_frame&gt;</span>\n      <span class=\"nt\">&lt;/axis&gt;</span>\n    <span class=\"nt\">&lt;/joint&gt;</span>\n    <span class=\"nt\">&lt;link</span> <span class=\"na\">name=</span><span class=\"s\">&#39;ur5_wrist_3_link&#39;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;pose</span> <span class=\"na\">frame=</span><span class=\"s\">&#39;&#39;</span><span class=\"nt\">&gt;</span>0.81725 0.10915 -0.005491 3.14159 0 3.14159<span class=\"nt\">&lt;/pose&gt;</span>\n      <span class=\"nt\">&lt;inertial&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">frame=</span><span class=\"s\">&#39;&#39;</span><span class=\"nt\">&gt;</span>0 0 0 0 -0 0<span class=\"nt\">&lt;/pose&gt;</span>\n        <span class=\"nt\">&lt;mass&gt;</span>0.4879<span class=\"nt\">&lt;/mass&gt;</span>\n        <span class=\"nt\">&lt;inertia&gt;</span>\n          <span class=\"nt\">&lt;ixx&gt;</span>0.0271365<span class=\"nt\">&lt;/ixx&gt;</span>\n          <span class=\"nt\">&lt;ixy&gt;</span>0<span class=\"nt\">&lt;/ixy&gt;</span>\n          <span class=\"nt\">&lt;ixz&gt;</span>0<span class=\"nt\">&lt;/ixz&gt;</span>\n          <span class=\"nt\">&lt;iyy&gt;</span>0.0271365<span class=\"nt\">&lt;/iyy&gt;</span>\n          <span class=\"nt\">&lt;iyz&gt;</span>0<span class=\"nt\">&lt;/iyz&gt;</span>\n          <span class=\"nt\">&lt;izz&gt;</span>0.043822<span class=\"nt\">&lt;/izz&gt;</span>\n        <span class=\"nt\">&lt;/inertia&gt;</span>\n      <span class=\"nt\">&lt;/inertial&gt;</span>\n      <span class=\"nt\">&lt;collision</span> <span class=\"na\">name=</span><span class=\"s\">&#39;ur5_wrist_3_link_collision&#39;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">frame=</span><span class=\"s\">&#39;&#39;</span><span class=\"nt\">&gt;</span>0 0 0 0 -0 0<span class=\"nt\">&lt;/pose&gt;</span>\n        <span class=\"nt\">&lt;geometry&gt;</span>\n          <span class=\"nt\">&lt;mesh&gt;</span>\n            <span class=\"nt\">&lt;scale&gt;</span>1 1 1<span class=\"nt\">&lt;/scale&gt;</span>\n            <span class=\"nt\">&lt;uri&gt;</span>model://ur_description/meshes/ur5/collision/wrist3.stl<span class=\"nt\">&lt;/uri&gt;</span>\n          <span class=\"nt\">&lt;/mesh&gt;</span>\n        <span class=\"nt\">&lt;/geometry&gt;</span>\n      <span class=\"nt\">&lt;/collision&gt;</span>\n      <span class=\"nt\">&lt;collision</span> <span class=\"na\">name=</span><span class=\"s\">&#39;ur5_wrist_3_link_fixed_joint_lump__tool_ezgripper_palm_link_collision_1&#39;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">frame=</span><span class=\"s\">&#39;&#39;</span><span class=\"nt\">&gt;</span>0 0 0 0 -0 0<span class=\"nt\">&lt;/pose&gt;</span>\n        <span class=\"nt\">&lt;geometry&gt;</span>\n          <span class=\"nt\">&lt;mesh&gt;</span>\n            <span class=\"nt\">&lt;scale&gt;</span>1 1 1<span class=\"nt\">&lt;/scale&gt;</span>\n            <span class=\"nt\">&lt;uri&gt;</span>model://ezgripper_driver/meshes/ezgripper_gen2/SAKE_Palm_Dual_Gen2.stl<span class=\"nt\">&lt;/uri&gt;</span>\n          <span class=\"nt\">&lt;/mesh&gt;</span>\n        <span class=\"nt\">&lt;/geometry&gt;</span>\n      <span class=\"nt\">&lt;/collision&gt;</span>\n      <span class=\"nt\">&lt;collision</span> <span class=\"na\">name=</span><span class=\"s\">&#39;ur5_wrist_3_link_fixed_joint_lump__ur5_ee_link_collision_2&#39;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">frame=</span><span class=\"s\">&#39;&#39;</span><span class=\"nt\">&gt;</span>-0 0.0723 0 0 -0 1.5708<span class=\"nt\">&lt;/pose&gt;</span>\n        <span class=\"nt\">&lt;geometry&gt;</span>\n          <span class=\"nt\">&lt;box&gt;</span>\n            <span class=\"nt\">&lt;size&gt;</span>0.01 0.01 0.01<span class=\"nt\">&lt;/size&gt;</span>\n          <span class=\"nt\">&lt;/box&gt;</span>\n        <span class=\"nt\">&lt;/geometry&gt;</span>\n      <span class=\"nt\">&lt;/collision&gt;</span>\n      <span class=\"nt\">&lt;visual</span> <span class=\"na\">name=</span><span class=\"s\">&#39;ur5_wrist_3_link_visual&#39;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">frame=</span><span class=\"s\">&#39;&#39;</span><span class=\"nt\">&gt;</span>0 0 0 0 -0 0<span class=\"nt\">&lt;/pose&gt;</span>\n        <span class=\"nt\">&lt;geometry&gt;</span>\n          <span class=\"nt\">&lt;mesh&gt;</span>\n            <span class=\"nt\">&lt;scale&gt;</span>1 1 1<span class=\"nt\">&lt;/scale&gt;</span>\n            <span class=\"nt\">&lt;uri&gt;</span>model://ur_description/meshes/ur5/visual/wrist3.dae<span class=\"nt\">&lt;/uri&gt;</span>\n          <span class=\"nt\">&lt;/mesh&gt;</span>\n        <span class=\"nt\">&lt;/geometry&gt;</span>\n      <span class=\"nt\">&lt;/visual&gt;</span>\n      <span class=\"nt\">&lt;visual</span> <span class=\"na\">name=</span><span class=\"s\">&#39;ur5_wrist_3_link_fixed_joint_lump__tool_ezgripper_palm_link_visual_1&#39;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">frame=</span><span class=\"s\">&#39;&#39;</span><span class=\"nt\">&gt;</span>0 0 0 0 -0 0<span class=\"nt\">&lt;/pose&gt;</span>\n        <span class=\"nt\">&lt;geometry&gt;</span>\n          <span class=\"nt\">&lt;mesh&gt;</span>\n            <span class=\"nt\">&lt;scale&gt;</span>1 1 1<span class=\"nt\">&lt;/scale&gt;</span>\n            <span class=\"nt\">&lt;uri&gt;</span>model://ezgripper_driver/meshes/ezgripper_gen2/SAKE_Palm_Dual_Gen2.stl<span class=\"nt\">&lt;/uri&gt;</span>\n          <span class=\"nt\">&lt;/mesh&gt;</span>\n        <span class=\"nt\">&lt;/geometry&gt;</span>\n      <span class=\"nt\">&lt;/visual&gt;</span>\n    <span class=\"nt\">&lt;/link&gt;</span>\n    <span class=\"nt\">&lt;joint</span> <span class=\"na\">name=</span><span class=\"s\">&#39;ur5_wrist_3_joint&#39;</span> <span class=\"na\">type=</span><span class=\"s\">&#39;revolute&#39;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;child&gt;</span>ur5_wrist_3_link<span class=\"nt\">&lt;/child&gt;</span>\n      <span class=\"nt\">&lt;parent&gt;</span>ur5_wrist_2_link<span class=\"nt\">&lt;/parent&gt;</span>\n      <span class=\"nt\">&lt;axis&gt;</span>\n        <span class=\"nt\">&lt;xyz&gt;</span>0 1 0<span class=\"nt\">&lt;/xyz&gt;</span>\n        <span class=\"nt\">&lt;limit&gt;</span>\n          <span class=\"nt\">&lt;lower&gt;</span>-6.28319<span class=\"nt\">&lt;/lower&gt;</span>\n          <span class=\"nt\">&lt;upper&gt;</span>6.28319<span class=\"nt\">&lt;/upper&gt;</span>\n          <span class=\"nt\">&lt;effort&gt;</span>28<span class=\"nt\">&lt;/effort&gt;</span>\n          <span class=\"nt\">&lt;velocity&gt;</span>3.2<span class=\"nt\">&lt;/velocity&gt;</span>\n        <span class=\"nt\">&lt;/limit&gt;</span>\n        <span class=\"nt\">&lt;dynamics&gt;</span>\n          <span class=\"nt\">&lt;damping&gt;</span>0<span class=\"nt\">&lt;/damping&gt;</span>\n          <span class=\"nt\">&lt;friction&gt;</span>0<span class=\"nt\">&lt;/friction&gt;</span>\n          <span class=\"nt\">&lt;spring_reference&gt;</span>0<span class=\"nt\">&lt;/spring_reference&gt;</span>\n          <span class=\"nt\">&lt;spring_stiffness&gt;</span>0<span class=\"nt\">&lt;/spring_stiffness&gt;</span>\n        <span class=\"nt\">&lt;/dynamics&gt;</span>\n        <span class=\"nt\">&lt;use_parent_model_frame&gt;</span>1<span class=\"nt\">&lt;/use_parent_model_frame&gt;</span>\n      <span class=\"nt\">&lt;/axis&gt;</span>\n    <span class=\"nt\">&lt;/joint&gt;</span>\n    <span class=\"nt\">&lt;link</span> <span class=\"na\">name=</span><span class=\"s\">&#39;tool_ezgripper_finger_L1_1&#39;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;pose</span> <span class=\"na\">frame=</span><span class=\"s\">&#39;&#39;</span><span class=\"nt\">&gt;</span>0.744681 0.13915 -0.005491 1.57079 0 1.57084<span class=\"nt\">&lt;/pose&gt;</span>\n      <span class=\"nt\">&lt;inertial&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">frame=</span><span class=\"s\">&#39;&#39;</span><span class=\"nt\">&gt;</span>0 0 0 0 -0 0<span class=\"nt\">&lt;/pose&gt;</span>\n        <span class=\"nt\">&lt;mass&gt;</span>0.025<span class=\"nt\">&lt;/mass&gt;</span>\n        <span class=\"nt\">&lt;inertia&gt;</span>\n          <span class=\"nt\">&lt;ixx&gt;</span>0.01<span class=\"nt\">&lt;/ixx&gt;</span>\n          <span class=\"nt\">&lt;ixy&gt;</span>0<span class=\"nt\">&lt;/ixy&gt;</span>\n          <span class=\"nt\">&lt;ixz&gt;</span>0<span class=\"nt\">&lt;/ixz&gt;</span>\n          <span class=\"nt\">&lt;iyy&gt;</span>0.01<span class=\"nt\">&lt;/iyy&gt;</span>\n          <span class=\"nt\">&lt;iyz&gt;</span>0<span class=\"nt\">&lt;/iyz&gt;</span>\n          <span class=\"nt\">&lt;izz&gt;</span>0.01<span class=\"nt\">&lt;/izz&gt;</span>\n        <span class=\"nt\">&lt;/inertia&gt;</span>\n      <span class=\"nt\">&lt;/inertial&gt;</span>\n      <span class=\"nt\">&lt;collision</span> <span class=\"na\">name=</span><span class=\"s\">&#39;tool_ezgripper_finger_L1_1_collision&#39;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">frame=</span><span class=\"s\">&#39;&#39;</span><span class=\"nt\">&gt;</span>0 0 0 0 -0 0<span class=\"nt\">&lt;/pose&gt;</span>\n        <span class=\"nt\">&lt;geometry&gt;</span>\n          <span class=\"nt\">&lt;mesh&gt;</span>\n            <span class=\"nt\">&lt;scale&gt;</span>1 1 1<span class=\"nt\">&lt;/scale&gt;</span>\n            <span class=\"nt\">&lt;uri&gt;</span>model://ezgripper_driver/meshes/ezgripper_gen2/SAKE_Finger_L1_Gen2.stl<span class=\"nt\">&lt;/uri&gt;</span>\n          <span class=\"nt\">&lt;/mesh&gt;</span>\n        <span class=\"nt\">&lt;/geometry&gt;</span>\n      <span class=\"nt\">&lt;/collision&gt;</span>\n      <span class=\"nt\">&lt;visual</span> <span class=\"na\">name=</span><span class=\"s\">&#39;tool_ezgripper_finger_L1_1_visual&#39;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">frame=</span><span class=\"s\">&#39;&#39;</span><span class=\"nt\">&gt;</span>0 0 0 0 -0 0<span class=\"nt\">&lt;/pose&gt;</span>\n        <span class=\"nt\">&lt;geometry&gt;</span>\n          <span class=\"nt\">&lt;mesh&gt;</span>\n            <span class=\"nt\">&lt;scale&gt;</span>1 1 1<span class=\"nt\">&lt;/scale&gt;</span>\n            <span class=\"nt\">&lt;uri&gt;</span>model://ezgripper_driver/meshes/ezgripper_gen2/SAKE_Finger_L1_Gen2.stl<span class=\"nt\">&lt;/uri&gt;</span>\n          <span class=\"nt\">&lt;/mesh&gt;</span>\n        <span class=\"nt\">&lt;/geometry&gt;</span>\n      <span class=\"nt\">&lt;/visual&gt;</span>\n    <span class=\"nt\">&lt;/link&gt;</span>\n    <span class=\"nt\">&lt;joint</span> <span class=\"na\">name=</span><span class=\"s\">&#39;tool_ezgripper_knuckle_palm_L1_1&#39;</span> <span class=\"na\">type=</span><span class=\"s\">&#39;revolute&#39;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;child&gt;</span>tool_ezgripper_finger_L1_1<span class=\"nt\">&lt;/child&gt;</span>\n      <span class=\"nt\">&lt;parent&gt;</span>ur5_wrist_3_link<span class=\"nt\">&lt;/parent&gt;</span>\n      <span class=\"nt\">&lt;axis&gt;</span>\n        <span class=\"nt\">&lt;xyz&gt;</span>-4e-06 -0 1<span class=\"nt\">&lt;/xyz&gt;</span>\n        <span class=\"nt\">&lt;limit&gt;</span>\n          <span class=\"nt\">&lt;lower&gt;</span>0<span class=\"nt\">&lt;/lower&gt;</span>\n          <span class=\"nt\">&lt;upper&gt;</span>1.94<span class=\"nt\">&lt;/upper&gt;</span>\n          <span class=\"nt\">&lt;effort&gt;</span>1<span class=\"nt\">&lt;/effort&gt;</span>\n          <span class=\"nt\">&lt;velocity&gt;</span>3.67<span class=\"nt\">&lt;/velocity&gt;</span>\n        <span class=\"nt\">&lt;/limit&gt;</span>\n        <span class=\"nt\">&lt;dynamics&gt;</span>\n          <span class=\"nt\">&lt;spring_reference&gt;</span>0<span class=\"nt\">&lt;/spring_reference&gt;</span>\n          <span class=\"nt\">&lt;spring_stiffness&gt;</span>0<span class=\"nt\">&lt;/spring_stiffness&gt;</span>\n        <span class=\"nt\">&lt;/dynamics&gt;</span>\n        <span class=\"nt\">&lt;use_parent_model_frame&gt;</span>1<span class=\"nt\">&lt;/use_parent_model_frame&gt;</span>\n      <span class=\"nt\">&lt;/axis&gt;</span>\n    <span class=\"nt\">&lt;/joint&gt;</span>\n    <span class=\"nt\">&lt;link</span> <span class=\"na\">name=</span><span class=\"s\">&#39;tool_ezgripper_finger_L2_1&#39;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;pose</span> <span class=\"na\">frame=</span><span class=\"s\">&#39;&#39;</span><span class=\"nt\">&gt;</span>0.744679 0.19115 -0.005491 1.57079 0 1.57084<span class=\"nt\">&lt;/pose&gt;</span>\n      <span class=\"nt\">&lt;inertial&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">frame=</span><span class=\"s\">&#39;&#39;</span><span class=\"nt\">&gt;</span>0 0 0 0 -0 0<span class=\"nt\">&lt;/pose&gt;</span>\n        <span class=\"nt\">&lt;mass&gt;</span>0.025<span class=\"nt\">&lt;/mass&gt;</span>\n        <span class=\"nt\">&lt;inertia&gt;</span>\n          <span class=\"nt\">&lt;ixx&gt;</span>0.01<span class=\"nt\">&lt;/ixx&gt;</span>\n          <span class=\"nt\">&lt;ixy&gt;</span>0<span class=\"nt\">&lt;/ixy&gt;</span>\n          <span class=\"nt\">&lt;ixz&gt;</span>0<span class=\"nt\">&lt;/ixz&gt;</span>\n          <span class=\"nt\">&lt;iyy&gt;</span>0.01<span class=\"nt\">&lt;/iyy&gt;</span>\n          <span class=\"nt\">&lt;iyz&gt;</span>0<span class=\"nt\">&lt;/iyz&gt;</span>\n          <span class=\"nt\">&lt;izz&gt;</span>0.01<span class=\"nt\">&lt;/izz&gt;</span>\n        <span class=\"nt\">&lt;/inertia&gt;</span>\n      <span class=\"nt\">&lt;/inertial&gt;</span>\n      <span class=\"nt\">&lt;collision</span> <span class=\"na\">name=</span><span class=\"s\">&#39;tool_ezgripper_finger_L2_1_collision&#39;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">frame=</span><span class=\"s\">&#39;&#39;</span><span class=\"nt\">&gt;</span>0 0 0 0 -0 0<span class=\"nt\">&lt;/pose&gt;</span>\n        <span class=\"nt\">&lt;geometry&gt;</span>\n          <span class=\"nt\">&lt;mesh&gt;</span>\n            <span class=\"nt\">&lt;scale&gt;</span>1 1 1<span class=\"nt\">&lt;/scale&gt;</span>\n            <span class=\"nt\">&lt;uri&gt;</span>model://ezgripper_driver/meshes/ezgripper_gen2/SAKE_Finger_L2_Gen2.stl<span class=\"nt\">&lt;/uri&gt;</span>\n          <span class=\"nt\">&lt;/mesh&gt;</span>\n        <span class=\"nt\">&lt;/geometry&gt;</span>\n      <span class=\"nt\">&lt;/collision&gt;</span>\n      <span class=\"nt\">&lt;visual</span> <span class=\"na\">name=</span><span class=\"s\">&#39;tool_ezgripper_finger_L2_1_visual&#39;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">frame=</span><span class=\"s\">&#39;&#39;</span><span class=\"nt\">&gt;</span>0 0 0 0 -0 0<span class=\"nt\">&lt;/pose&gt;</span>\n        <span class=\"nt\">&lt;geometry&gt;</span>\n          <span class=\"nt\">&lt;mesh&gt;</span>\n            <span class=\"nt\">&lt;scale&gt;</span>1 1 1<span class=\"nt\">&lt;/scale&gt;</span>\n            <span class=\"nt\">&lt;uri&gt;</span>model://ezgripper_driver/meshes/ezgripper_gen2/SAKE_Finger_L2_Gen2.stl<span class=\"nt\">&lt;/uri&gt;</span>\n          <span class=\"nt\">&lt;/mesh&gt;</span>\n        <span class=\"nt\">&lt;/geometry&gt;</span>\n      <span class=\"nt\">&lt;/visual&gt;</span>\n    <span class=\"nt\">&lt;/link&gt;</span>\n    <span class=\"nt\">&lt;joint</span> <span class=\"na\">name=</span><span class=\"s\">&#39;tool_ezgripper_knuckle_L1_L2_1&#39;</span> <span class=\"na\">type=</span><span class=\"s\">&#39;revolute&#39;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;child&gt;</span>tool_ezgripper_finger_L2_1<span class=\"nt\">&lt;/child&gt;</span>\n      <span class=\"nt\">&lt;parent&gt;</span>tool_ezgripper_finger_L1_1<span class=\"nt\">&lt;/parent&gt;</span>\n      <span class=\"nt\">&lt;axis&gt;</span>\n        <span class=\"nt\">&lt;xyz&gt;</span>-4e-06 -0 1<span class=\"nt\">&lt;/xyz&gt;</span>\n        <span class=\"nt\">&lt;limit&gt;</span>\n          <span class=\"nt\">&lt;lower&gt;</span>0<span class=\"nt\">&lt;/lower&gt;</span>\n          <span class=\"nt\">&lt;upper&gt;</span>1.94<span class=\"nt\">&lt;/upper&gt;</span>\n          <span class=\"nt\">&lt;effort&gt;</span>1<span class=\"nt\">&lt;/effort&gt;</span>\n          <span class=\"nt\">&lt;velocity&gt;</span>3.67<span class=\"nt\">&lt;/velocity&gt;</span>\n        <span class=\"nt\">&lt;/limit&gt;</span>\n        <span class=\"nt\">&lt;dynamics&gt;</span>\n          <span class=\"nt\">&lt;spring_reference&gt;</span>0<span class=\"nt\">&lt;/spring_reference&gt;</span>\n          <span class=\"nt\">&lt;spring_stiffness&gt;</span>0<span class=\"nt\">&lt;/spring_stiffness&gt;</span>\n        <span class=\"nt\">&lt;/dynamics&gt;</span>\n        <span class=\"nt\">&lt;use_parent_model_frame&gt;</span>1<span class=\"nt\">&lt;/use_parent_model_frame&gt;</span>\n      <span class=\"nt\">&lt;/axis&gt;</span>\n    <span class=\"nt\">&lt;/joint&gt;</span>\n    <span class=\"nt\">&lt;link</span> <span class=\"na\">name=</span><span class=\"s\">&#39;tool_ezgripper_finger_L1_2&#39;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;pose</span> <span class=\"na\">frame=</span><span class=\"s\">&#39;&#39;</span><span class=\"nt\">&gt;</span>0.744681 0.07915 -0.005491 -1.57079 0 -1.57084<span class=\"nt\">&lt;/pose&gt;</span>\n      <span class=\"nt\">&lt;inertial&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">frame=</span><span class=\"s\">&#39;&#39;</span><span class=\"nt\">&gt;</span>0 0 0 0 -0 0<span class=\"nt\">&lt;/pose&gt;</span>\n        <span class=\"nt\">&lt;mass&gt;</span>0.025<span class=\"nt\">&lt;/mass&gt;</span>\n        <span class=\"nt\">&lt;inertia&gt;</span>\n          <span class=\"nt\">&lt;ixx&gt;</span>0.01<span class=\"nt\">&lt;/ixx&gt;</span>\n          <span class=\"nt\">&lt;ixy&gt;</span>0<span class=\"nt\">&lt;/ixy&gt;</span>\n          <span class=\"nt\">&lt;ixz&gt;</span>0<span class=\"nt\">&lt;/ixz&gt;</span>\n          <span class=\"nt\">&lt;iyy&gt;</span>0.01<span class=\"nt\">&lt;/iyy&gt;</span>\n          <span class=\"nt\">&lt;iyz&gt;</span>0<span class=\"nt\">&lt;/iyz&gt;</span>\n          <span class=\"nt\">&lt;izz&gt;</span>0.01<span class=\"nt\">&lt;/izz&gt;</span>\n        <span class=\"nt\">&lt;/inertia&gt;</span>\n      <span class=\"nt\">&lt;/inertial&gt;</span>\n      <span class=\"nt\">&lt;collision</span> <span class=\"na\">name=</span><span class=\"s\">&#39;tool_ezgripper_finger_L1_2_collision&#39;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">frame=</span><span class=\"s\">&#39;&#39;</span><span class=\"nt\">&gt;</span>0 0 0 0 -0 0<span class=\"nt\">&lt;/pose&gt;</span>\n        <span class=\"nt\">&lt;geometry&gt;</span>\n          <span class=\"nt\">&lt;mesh&gt;</span>\n            <span class=\"nt\">&lt;scale&gt;</span>1 1 1<span class=\"nt\">&lt;/scale&gt;</span>\n            <span class=\"nt\">&lt;uri&gt;</span>model://ezgripper_driver/meshes/ezgripper_gen2/SAKE_Finger_L1_Gen2.stl<span class=\"nt\">&lt;/uri&gt;</span>\n          <span class=\"nt\">&lt;/mesh&gt;</span>\n        <span class=\"nt\">&lt;/geometry&gt;</span>\n      <span class=\"nt\">&lt;/collision&gt;</span>\n      <span class=\"nt\">&lt;visual</span> <span class=\"na\">name=</span><span class=\"s\">&#39;tool_ezgripper_finger_L1_2_visual&#39;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">frame=</span><span class=\"s\">&#39;&#39;</span><span class=\"nt\">&gt;</span>0 0 0 0 -0 0<span class=\"nt\">&lt;/pose&gt;</span>\n        <span class=\"nt\">&lt;geometry&gt;</span>\n          <span class=\"nt\">&lt;mesh&gt;</span>\n            <span class=\"nt\">&lt;scale&gt;</span>1 1 1<span class=\"nt\">&lt;/scale&gt;</span>\n            <span class=\"nt\">&lt;uri&gt;</span>model://ezgripper_driver/meshes/ezgripper_gen2/SAKE_Finger_L1_Gen2.stl<span class=\"nt\">&lt;/uri&gt;</span>\n          <span class=\"nt\">&lt;/mesh&gt;</span>\n        <span class=\"nt\">&lt;/geometry&gt;</span>\n      <span class=\"nt\">&lt;/visual&gt;</span>\n    <span class=\"nt\">&lt;/link&gt;</span>\n    <span class=\"nt\">&lt;joint</span> <span class=\"na\">name=</span><span class=\"s\">&#39;tool_ezgripper_knuckle_palm_L1_2&#39;</span> <span class=\"na\">type=</span><span class=\"s\">&#39;revolute&#39;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;child&gt;</span>tool_ezgripper_finger_L1_2<span class=\"nt\">&lt;/child&gt;</span>\n      <span class=\"nt\">&lt;parent&gt;</span>ur5_wrist_3_link<span class=\"nt\">&lt;/parent&gt;</span>\n      <span class=\"nt\">&lt;axis&gt;</span>\n        <span class=\"nt\">&lt;xyz&gt;</span>4e-06 -0 -1<span class=\"nt\">&lt;/xyz&gt;</span>\n        <span class=\"nt\">&lt;limit&gt;</span>\n          <span class=\"nt\">&lt;lower&gt;</span>0<span class=\"nt\">&lt;/lower&gt;</span>\n          <span class=\"nt\">&lt;upper&gt;</span>1.94<span class=\"nt\">&lt;/upper&gt;</span>\n          <span class=\"nt\">&lt;effort&gt;</span>1<span class=\"nt\">&lt;/effort&gt;</span>\n          <span class=\"nt\">&lt;velocity&gt;</span>3.67<span class=\"nt\">&lt;/velocity&gt;</span>\n        <span class=\"nt\">&lt;/limit&gt;</span>\n        <span class=\"nt\">&lt;dynamics&gt;</span>\n          <span class=\"nt\">&lt;spring_reference&gt;</span>0<span class=\"nt\">&lt;/spring_reference&gt;</span>\n          <span class=\"nt\">&lt;spring_stiffness&gt;</span>0<span class=\"nt\">&lt;/spring_stiffness&gt;</span>\n        <span class=\"nt\">&lt;/dynamics&gt;</span>\n        <span class=\"nt\">&lt;use_parent_model_frame&gt;</span>1<span class=\"nt\">&lt;/use_parent_model_frame&gt;</span>\n      <span class=\"nt\">&lt;/axis&gt;</span>\n    <span class=\"nt\">&lt;/joint&gt;</span>\n    <span class=\"nt\">&lt;link</span> <span class=\"na\">name=</span><span class=\"s\">&#39;tool_ezgripper_finger_L2_2&#39;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;pose</span> <span class=\"na\">frame=</span><span class=\"s\">&#39;&#39;</span><span class=\"nt\">&gt;</span>0.744679 0.02715 -0.005491 -1.57079 0 -1.57084<span class=\"nt\">&lt;/pose&gt;</span>\n      <span class=\"nt\">&lt;inertial&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">frame=</span><span class=\"s\">&#39;&#39;</span><span class=\"nt\">&gt;</span>0 0 0 0 -0 0<span class=\"nt\">&lt;/pose&gt;</span>\n        <span class=\"nt\">&lt;mass&gt;</span>0.025<span class=\"nt\">&lt;/mass&gt;</span>\n        <span class=\"nt\">&lt;inertia&gt;</span>\n          <span class=\"nt\">&lt;ixx&gt;</span>0.01<span class=\"nt\">&lt;/ixx&gt;</span>\n          <span class=\"nt\">&lt;ixy&gt;</span>0<span class=\"nt\">&lt;/ixy&gt;</span>\n          <span class=\"nt\">&lt;ixz&gt;</span>0<span class=\"nt\">&lt;/ixz&gt;</span>\n          <span class=\"nt\">&lt;iyy&gt;</span>0.01<span class=\"nt\">&lt;/iyy&gt;</span>\n          <span class=\"nt\">&lt;iyz&gt;</span>0<span class=\"nt\">&lt;/iyz&gt;</span>\n          <span class=\"nt\">&lt;izz&gt;</span>0.01<span class=\"nt\">&lt;/izz&gt;</span>\n        <span class=\"nt\">&lt;/inertia&gt;</span>\n      <span class=\"nt\">&lt;/inertial&gt;</span>\n      <span class=\"nt\">&lt;collision</span> <span class=\"na\">name=</span><span class=\"s\">&#39;tool_ezgripper_finger_L2_2_collision&#39;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">frame=</span><span class=\"s\">&#39;&#39;</span><span class=\"nt\">&gt;</span>0 0 0 0 -0 0<span class=\"nt\">&lt;/pose&gt;</span>\n        <span class=\"nt\">&lt;geometry&gt;</span>\n          <span class=\"nt\">&lt;mesh&gt;</span>\n            <span class=\"nt\">&lt;scale&gt;</span>1 1 1<span class=\"nt\">&lt;/scale&gt;</span>\n            <span class=\"nt\">&lt;uri&gt;</span>model://ezgripper_driver/meshes/ezgripper_gen2/SAKE_Finger_L2_Gen2.stl<span class=\"nt\">&lt;/uri&gt;</span>\n          <span class=\"nt\">&lt;/mesh&gt;</span>\n        <span class=\"nt\">&lt;/geometry&gt;</span>\n      <span class=\"nt\">&lt;/collision&gt;</span>\n      <span class=\"nt\">&lt;visual</span> <span class=\"na\">name=</span><span class=\"s\">&#39;tool_ezgripper_finger_L2_2_visual&#39;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">frame=</span><span class=\"s\">&#39;&#39;</span><span class=\"nt\">&gt;</span>0 0 0 0 -0 0<span class=\"nt\">&lt;/pose&gt;</span>\n        <span class=\"nt\">&lt;geometry&gt;</span>\n          <span class=\"nt\">&lt;mesh&gt;</span>\n            <span class=\"nt\">&lt;scale&gt;</span>1 1 1<span class=\"nt\">&lt;/scale&gt;</span>\n            <span class=\"nt\">&lt;uri&gt;</span>model://ezgripper_driver/meshes/ezgripper_gen2/SAKE_Finger_L2_Gen2.stl<span class=\"nt\">&lt;/uri&gt;</span>\n          <span class=\"nt\">&lt;/mesh&gt;</span>\n        <span class=\"nt\">&lt;/geometry&gt;</span>\n      <span class=\"nt\">&lt;/visual&gt;</span>\n    <span class=\"nt\">&lt;/link&gt;</span>\n    <span class=\"nt\">&lt;joint</span> <span class=\"na\">name=</span><span class=\"s\">&#39;tool_ezgripper_knuckle_L1_L2_2&#39;</span> <span class=\"na\">type=</span><span class=\"s\">&#39;revolute&#39;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;child&gt;</span>tool_ezgripper_finger_L2_2<span class=\"nt\">&lt;/child&gt;</span>\n      <span class=\"nt\">&lt;parent&gt;</span>tool_ezgripper_finger_L1_2<span class=\"nt\">&lt;/parent&gt;</span>\n      <span class=\"nt\">&lt;axis&gt;</span>\n        <span class=\"nt\">&lt;xyz&gt;</span>4e-06 -0 -1<span class=\"nt\">&lt;/xyz&gt;</span>\n        <span class=\"nt\">&lt;limit&gt;</span>\n          <span class=\"nt\">&lt;lower&gt;</span>0<span class=\"nt\">&lt;/lower&gt;</span>\n          <span class=\"nt\">&lt;upper&gt;</span>1.94<span class=\"nt\">&lt;/upper&gt;</span>\n          <span class=\"nt\">&lt;effort&gt;</span>1<span class=\"nt\">&lt;/effort&gt;</span>\n          <span class=\"nt\">&lt;velocity&gt;</span>3.67<span class=\"nt\">&lt;/velocity&gt;</span>\n        <span class=\"nt\">&lt;/limit&gt;</span>\n        <span class=\"nt\">&lt;dynamics&gt;</span>\n          <span class=\"nt\">&lt;spring_reference&gt;</span>0<span class=\"nt\">&lt;/spring_reference&gt;</span>\n          <span class=\"nt\">&lt;spring_stiffness&gt;</span>0<span class=\"nt\">&lt;/spring_stiffness&gt;</span>\n        <span class=\"nt\">&lt;/dynamics&gt;</span>\n        <span class=\"nt\">&lt;use_parent_model_frame&gt;</span>1<span class=\"nt\">&lt;/use_parent_model_frame&gt;</span>\n      <span class=\"nt\">&lt;/axis&gt;</span>\n    <span class=\"nt\">&lt;/joint&gt;</span>\n    <span class=\"nt\">&lt;plugin</span> <span class=\"na\">name=</span><span class=\"s\">&#39;gazebo_ros_control&#39;</span> <span class=\"na\">filename=</span><span class=\"s\">&#39;libgazebo_ros_control.so&#39;</span><span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;static&gt;</span>0<span class=\"nt\">&lt;/static&gt;</span>\n    <span class=\"nt\">&lt;plugin</span> <span class=\"na\">name=</span><span class=\"s\">&#39;joint_state_publisher&#39;</span> <span class=\"na\">filename=</span><span class=\"s\">&#39;libgazebo_ros_joint_state_publisher.so&#39;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;jointName&gt;</span>tool_ezgripper_knuckle_1,tool_ezgripper_knuckle_2<span class=\"nt\">&lt;/jointName&gt;</span>\n    <span class=\"nt\">&lt;/plugin&gt;</span>\n  <span class=\"nt\">&lt;/model&gt;</span>\n<span class=\"nt\">&lt;/sdf&gt;</span>\n</pre></div>\n\n\n<p>If I greatly simplify my model by removing the gripper gazebo starts fine. However I am kind of stuck at this point and would appreciate any tips on how I can debug this further to figure out where the issue is.</p>\n<p>Let me know if there is anything more I can do to find the problem here. </p>\n<p>I am running gazebo version 7.5.0.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "7.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242744.json"}}}, "edited_on": null, "created_on": "2017-08-16T17:31:51.312505+00:00", "milestone": null, "updated_on": "2017-08-17T13:19:07.954522+00:00", "type": "issue", "id": 2330}, {"priority": "major", "kind": "proposal", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2331/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2331.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2331/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2331/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2331/migrate-request-response-behavior-to"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2331/vote"}}, "reporter": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "title": "Migrate ~/request, ~/response behavior to ignition services", "component": {"name": "transport", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122882.json"}}}, "votes": 1, "watches": 2, "content": {"raw": "The `~/request` and `~/response` topics in gazebo transport are being used like services, but they are not as reliable. I believe the goal is to migrate all functionality from gazebo transport to ignition transport, but I think migrating these topics to services will provide an immediate improvement to reliability.\r\n\r\nI'll mark this as an IssueForNewDevelopers, but it would be helpful if we could make one pull request as an example for this migration path.", "markup": "markdown", "html": "<p>The <code>~/request</code> and <code>~/response</code> topics in gazebo transport are being used like services, but they are not as reliable. I believe the goal is to migrate all functionality from gazebo transport to ignition transport, but I think migrating these topics to services will provide an immediate improvement to reliability.</p>\n<p>I'll mark this as an IssueForNewDevelopers, but it would be helpful if we could make one pull request as an example for this migration path.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2017-08-16T19:09:21.051964+00:00", "milestone": null, "updated_on": "2017-08-28T20:13:11.884223+00:00", "type": "issue", "id": 2331}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2332/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2332.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2332/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2332/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2332/possible-race-condition-in-eventhh-causing"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2332/vote"}}, "reporter": {"display_name": "J\u00f8rgen Nordmoen", "uuid": "{53155142-7a18-42b2-b368-bd692191b31f}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B53155142-7a18-42b2-b368-bd692191b31f%7D"}, "html": {"href": "https://bitbucket.org/%7B53155142-7a18-42b2-b368-bd692191b31f%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/e8b2ec664d74e45e16bb639df6c1f884d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJN-5.png"}}, "nickname": "jorgehn", "type": "user", "account_id": "557058:7650baa8-82ea-4be9-a15a-9ecf390c16b6"}, "title": "Possible race condition in Event.hh causing Segmentation Fault", "component": {"name": "common", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/138866.json"}}}, "votes": 3, "watches": 0, "content": {"raw": "This problem relates to [this question](http://answers.gazebosim.org/question/16397/roslaunch-gazebo-2-process-has-died-pid-7605-exit-code-139/) which basically boils down to Gazebo segfaulting.\r\n\r\nI have tried to debug the problem to the best of my abilities and have found that the problem occurs in `Event.hh`. See stack trace below:\r\n\r\n```bash\r\n(gdb) bt\r\n#0  std::atomic<bool>::operator bool (this=0x0) at /home/jorgehn/gazebo/gazebo/physics/World.cc:740\r\n#1  gazebo::event::EventT<void (gazebo::common::UpdateInfo const&)>::Signal<gazebo::common::UpdateInfo>(gazebo::common::UpdateInfo const&) (_p=..., this=<optimized out>)\r\n    at /home/jorgehn/gazebo/gazebo/common/Event.hh:381\r\n#2  gazebo::event::EventT<void (gazebo::common::UpdateInfo const&)>::operator()<gazebo::common::UpdateInfo>(gazebo::common::UpdateInfo const&) (_p=..., this=<optimized out>)\r\n    at /home/jorgehn/gazebo/gazebo/common/Event.hh:216\r\n#3  gazebo::physics::World::Update (this=this@entry=0xbd7950) at /home/jorgehn/gazebo/gazebo/physics/World.cc:740\r\n#4  0x00007ffff62bf6cf in gazebo::physics::World::Step (this=this@entry=0xbd7950) at /home/jorgehn/gazebo/gazebo/physics/World.cc:672\r\n#5  0x00007ffff62bfb45 in gazebo::physics::World::RunLoop (this=0xbd7950) at /home/jorgehn/gazebo/gazebo/physics/World.cc:481\r\n#6  0x00007ffff40745d5 in ?? () from /usr/lib/x86_64-linux-gnu/libboost_thread.so.1.58.0\r\n#7  0x00007ffff65dd6ba in start_thread (arg=0x7fff6e3fa700) at pthread_create.c:333\r\n#8  0x00007ffff6be63dd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:109\r\n(gdb) whatis iter.second->on Attempt to take address of value not located in memory.\r\n```\r\nI do not know the cause of this null pointer, my suspicion is that I reset the world quite often which causes a race condition to eventually manifest in a null pointer dereference.\r\nThe reason I suspect this is that in the `EventT<T>::Cleanup` method of `Event.hh` there is a mutex. The mutex seems to be designed to protect, `connections`, but the mutex is not used in any other method. This lead me to believe that the race condition happens when `connections` is altered during world reset. To test this I put a `std::lock_guard` in every method in `Event.hh` and ran my program again. This time the race condition never happened (I ran the program for several hours). To semi verify I removed the `std::lock_guard` again and the program crashed within 20 minutes of running.\r\n\r\nThe mutex in `Event.hh` is present from Gazebo 7.0.0 (which is the version I first tried) and is still present on master in this repository. However, no other method in `EventT<T>` uses this mutex.\r\n\r\nBecause Gazebo is such a complicated and large software I have not been able to verify that this absolutely solves the problem. I hope someone more knowledgeable about Gazebo can take a look and see if the problem is realistic (could there ever be a race condition with `Signal`?) and how should the problem be solved (`std::lock_guard`s all over the place is error prone as demonstrated by this problem if that is indeed the problem).\r\n\r\nThe \"fix\" I tested is based on parent `28214:a29d8dabed9a gazebo7_7.0.0`:\r\n```bashof\r\ndiff -r a29d8dabed9a gazebo/common/Event.hh\r\n--- a/gazebo/common/Event.hh\tTue Jan 26 01:05:38 2016 +0100\r\n+++ b/gazebo/common/Event.hh\tThu Aug 17 10:49:33 2017 +0200\r\n@@ -358,6 +358,7 @@\r\n       {\r\n         this->Cleanup();\r\n \r\n+\tstd::lock_guard<std::mutex> lock(this->myDataPtr->mutex);\r\n         this->myDataPtr->signaled = true;\r\n         for (auto iter: this->myDataPtr->connections)\r\n         {\r\n@@ -373,6 +374,7 @@\r\n       {\r\n         this->Cleanup();\r\n \r\n+\tstd::lock_guard<std::mutex> lock(this->myDataPtr->mutex);\r\n         this->myDataPtr->signaled = true;\r\n         for (auto iter: this->myDataPtr->connections)\r\n         {\r\n@@ -389,6 +391,7 @@\r\n       {\r\n         this->Cleanup();\r\n \r\n+\tstd::lock_guard<std::mutex> lock(this->myDataPtr->mutex);\r\n         this->myDataPtr->signaled = true;\r\n         for (auto iter: this->myDataPtr->connections)\r\n         {\r\n@@ -406,6 +409,7 @@\r\n       {\r\n         this->Cleanup();\r\n \r\n+\tstd::lock_guard<std::mutex> lock(this->myDataPtr->mutex);\r\n         this->myDataPtr->signaled = true;\r\n         for (auto iter: this->myDataPtr->connections)\r\n         {\r\n@@ -425,6 +429,7 @@\r\n       {\r\n         this->Cleanup();\r\n \r\n+\tstd::lock_guard<std::mutex> lock(this->myDataPtr->mutex);\r\n         this->myDataPtr->signaled = true;\r\n         for (auto iter: this->myDataPtr->connections)\r\n         {\r\n@@ -446,6 +451,7 @@\r\n       {\r\n         this->Cleanup();\r\n \r\n+\tstd::lock_guard<std::mutex> lock(this->myDataPtr->mutex);\r\n         this->myDataPtr->signaled = true;\r\n         for (auto iter: this->myDataPtr->connections)\r\n         {\r\n@@ -468,6 +474,7 @@\r\n       {\r\n         this->Cleanup();\r\n \r\n+\tstd::lock_guard<std::mutex> lock(this->myDataPtr->mutex);\r\n         this->myDataPtr->signaled = true;\r\n         for (auto iter: this->myDataPtr->connections)\r\n         {\r\n@@ -491,6 +498,7 @@\r\n       {\r\n         this->Cleanup();\r\n \r\n+\tstd::lock_guard<std::mutex> lock(this->myDataPtr->mutex);\r\n         this->myDataPtr->signaled = true;\r\n         for (auto iter: this->myDataPtr->connections.begin())\r\n         {\r\n@@ -516,6 +524,7 @@\r\n       {\r\n         this->Cleanup();\r\n \r\n+\tstd::lock_guard<std::mutex> lock(this->myDataPtr->mutex);\r\n         this->myDataPtr->signaled = true;\r\n         for (auto iter: this->myDataPtr->connections)\r\n         {\r\n@@ -545,6 +554,7 @@\r\n       {\r\n         this->Cleanup();\r\n \r\n+\tstd::lock_guard<std::mutex> lock(this->myDataPtr->mutex);\r\n         this->myDataPtr->signaled = true;\r\n         for (auto iter: this->myDataPtr->connections)\r\n         {\r\n@@ -576,6 +586,7 @@\r\n       {\r\n         this->Cleanup();\r\n \r\n+\tstd::lock_guard<std::mutex> lock(this->myDataPtr->mutex);\r\n         this->myDataPtr->signaled = true;\r\n         for (auto iter: this->myDataPtr->connections)\r\n         {\r\n@@ -616,6 +627,7 @@\r\n     template<typename T>\r\n     ConnectionPtr EventT<T>::Connect(const boost::function<T> &_subscriber)\r\n     {\r\n+      std::lock_guard<std::mutex> lock(this->myDataPtr->mutex);\r\n       int index = 0;\r\n       if (!this->myDataPtr->connections.empty())\r\n       {\r\n@@ -645,6 +657,7 @@\r\n     template<typename T>\r\n     unsigned int EventT<T>::ConnectionCount() const\r\n     {\r\n+      std::lock_guard<std::mutex> lock(this->myDataPtr->mutex);\r\n       return this->myDataPtr->connections.size();\r\n     }\r\n \r\n@@ -653,6 +666,7 @@\r\n     template<typename T>\r\n     void EventT<T>::Disconnect(int _id)\r\n     {\r\n+      std::lock_guard<std::mutex> lock(this->myDataPtr->mutex);\r\n       // Find the connection\r\n       auto const &it = this->myDataPtr->connections.find(_id);\r\n```\r\n\r\nI have not been able to test this on master or with Gazebo8 because of an [unrelated bug](https://github.com/ros-simulation/gazebo_ros_pkgs/issues/596) which stops my setup from running.", "markup": "markdown", "html": "<p>This problem relates to <a data-is-external-link=\"true\" href=\"http://answers.gazebosim.org/question/16397/roslaunch-gazebo-2-process-has-died-pid-7605-exit-code-139/\" rel=\"nofollow\">this question</a> which basically boils down to Gazebo segfaulting.</p>\n<p>I have tried to debug the problem to the best of my abilities and have found that the problem occurs in <code>Event.hh</code>. See stack trace below:</p>\n<div class=\"codehilite language-bash\"><pre><span></span><span class=\"o\">(</span>gdb<span class=\"o\">)</span> bt\n<span class=\"c1\">#0  std::atomic&lt;bool&gt;::operator bool (this=0x0) at /home/jorgehn/gazebo/gazebo/physics/World.cc:740</span>\n<span class=\"c1\">#1  gazebo::event::EventT&lt;void (gazebo::common::UpdateInfo const&amp;)&gt;::Signal&lt;gazebo::common::UpdateInfo&gt;(gazebo::common::UpdateInfo const&amp;) (_p=..., this=&lt;optimized out&gt;)</span>\n    at /home/jorgehn/gazebo/gazebo/common/Event.hh:381\n<span class=\"c1\">#2  gazebo::event::EventT&lt;void (gazebo::common::UpdateInfo const&amp;)&gt;::operator()&lt;gazebo::common::UpdateInfo&gt;(gazebo::common::UpdateInfo const&amp;) (_p=..., this=&lt;optimized out&gt;)</span>\n    at /home/jorgehn/gazebo/gazebo/common/Event.hh:216\n<span class=\"c1\">#3  gazebo::physics::World::Update (this=this@entry=0xbd7950) at /home/jorgehn/gazebo/gazebo/physics/World.cc:740</span>\n<span class=\"c1\">#4  0x00007ffff62bf6cf in gazebo::physics::World::Step (this=this@entry=0xbd7950) at /home/jorgehn/gazebo/gazebo/physics/World.cc:672</span>\n<span class=\"c1\">#5  0x00007ffff62bfb45 in gazebo::physics::World::RunLoop (this=0xbd7950) at /home/jorgehn/gazebo/gazebo/physics/World.cc:481</span>\n<span class=\"c1\">#6  0x00007ffff40745d5 in ?? () from /usr/lib/x86_64-linux-gnu/libboost_thread.so.1.58.0</span>\n<span class=\"c1\">#7  0x00007ffff65dd6ba in start_thread (arg=0x7fff6e3fa700) at pthread_create.c:333</span>\n<span class=\"c1\">#8  0x00007ffff6be63dd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:109</span>\n<span class=\"o\">(</span>gdb<span class=\"o\">)</span> whatis iter.second-&gt;on Attempt to take address of value not located in memory.\n</pre></div>\n\n\n<p>I do not know the cause of this null pointer, my suspicion is that I reset the world quite often which causes a race condition to eventually manifest in a null pointer dereference.\nThe reason I suspect this is that in the <code>EventT&lt;T&gt;::Cleanup</code> method of <code>Event.hh</code> there is a mutex. The mutex seems to be designed to protect, <code>connections</code>, but the mutex is not used in any other method. This lead me to believe that the race condition happens when <code>connections</code> is altered during world reset. To test this I put a <code>std::lock_guard</code> in every method in <code>Event.hh</code> and ran my program again. This time the race condition never happened (I ran the program for several hours). To semi verify I removed the <code>std::lock_guard</code> again and the program crashed within 20 minutes of running.</p>\n<p>The mutex in <code>Event.hh</code> is present from Gazebo 7.0.0 (which is the version I first tried) and is still present on master in this repository. However, no other method in <code>EventT&lt;T&gt;</code> uses this mutex.</p>\n<p>Because Gazebo is such a complicated and large software I have not been able to verify that this absolutely solves the problem. I hope someone more knowledgeable about Gazebo can take a look and see if the problem is realistic (could there ever be a race condition with <code>Signal</code>?) and how should the problem be solved (<code>std::lock_guard</code>s all over the place is error prone as demonstrated by this problem if that is indeed the problem).</p>\n<p>The \"fix\" I tested is based on parent <code>28214:a29d8dabed9a gazebo7_7.0.0</code>:</p>\n<div class=\"codehilite language-bashof\"><pre><span></span><span class=\"gh\">diff -r a29d8dabed9a gazebo/common/Event.hh</span>\n<span class=\"gd\">--- a/gazebo/common/Event.hh    Tue Jan 26 01:05:38 2016 +0100</span>\n<span class=\"gi\">+++ b/gazebo/common/Event.hh    Thu Aug 17 10:49:33 2017 +0200</span>\n<span class=\"gu\">@@ -358,6 +358,7 @@</span>\n       {\n         this-&gt;Cleanup();\n\n<span class=\"gi\">+   std::lock_guard&lt;std::mutex&gt; lock(this-&gt;myDataPtr-&gt;mutex);</span>\n         this-&gt;myDataPtr-&gt;signaled = true;\n         for (auto iter: this-&gt;myDataPtr-&gt;connections)\n         {\n<span class=\"gu\">@@ -373,6 +374,7 @@</span>\n       {\n         this-&gt;Cleanup();\n\n<span class=\"gi\">+   std::lock_guard&lt;std::mutex&gt; lock(this-&gt;myDataPtr-&gt;mutex);</span>\n         this-&gt;myDataPtr-&gt;signaled = true;\n         for (auto iter: this-&gt;myDataPtr-&gt;connections)\n         {\n<span class=\"gu\">@@ -389,6 +391,7 @@</span>\n       {\n         this-&gt;Cleanup();\n\n<span class=\"gi\">+   std::lock_guard&lt;std::mutex&gt; lock(this-&gt;myDataPtr-&gt;mutex);</span>\n         this-&gt;myDataPtr-&gt;signaled = true;\n         for (auto iter: this-&gt;myDataPtr-&gt;connections)\n         {\n<span class=\"gu\">@@ -406,6 +409,7 @@</span>\n       {\n         this-&gt;Cleanup();\n\n<span class=\"gi\">+   std::lock_guard&lt;std::mutex&gt; lock(this-&gt;myDataPtr-&gt;mutex);</span>\n         this-&gt;myDataPtr-&gt;signaled = true;\n         for (auto iter: this-&gt;myDataPtr-&gt;connections)\n         {\n<span class=\"gu\">@@ -425,6 +429,7 @@</span>\n       {\n         this-&gt;Cleanup();\n\n<span class=\"gi\">+   std::lock_guard&lt;std::mutex&gt; lock(this-&gt;myDataPtr-&gt;mutex);</span>\n         this-&gt;myDataPtr-&gt;signaled = true;\n         for (auto iter: this-&gt;myDataPtr-&gt;connections)\n         {\n<span class=\"gu\">@@ -446,6 +451,7 @@</span>\n       {\n         this-&gt;Cleanup();\n\n<span class=\"gi\">+   std::lock_guard&lt;std::mutex&gt; lock(this-&gt;myDataPtr-&gt;mutex);</span>\n         this-&gt;myDataPtr-&gt;signaled = true;\n         for (auto iter: this-&gt;myDataPtr-&gt;connections)\n         {\n<span class=\"gu\">@@ -468,6 +474,7 @@</span>\n       {\n         this-&gt;Cleanup();\n\n<span class=\"gi\">+   std::lock_guard&lt;std::mutex&gt; lock(this-&gt;myDataPtr-&gt;mutex);</span>\n         this-&gt;myDataPtr-&gt;signaled = true;\n         for (auto iter: this-&gt;myDataPtr-&gt;connections)\n         {\n<span class=\"gu\">@@ -491,6 +498,7 @@</span>\n       {\n         this-&gt;Cleanup();\n\n<span class=\"gi\">+   std::lock_guard&lt;std::mutex&gt; lock(this-&gt;myDataPtr-&gt;mutex);</span>\n         this-&gt;myDataPtr-&gt;signaled = true;\n         for (auto iter: this-&gt;myDataPtr-&gt;connections.begin())\n         {\n<span class=\"gu\">@@ -516,6 +524,7 @@</span>\n       {\n         this-&gt;Cleanup();\n\n<span class=\"gi\">+   std::lock_guard&lt;std::mutex&gt; lock(this-&gt;myDataPtr-&gt;mutex);</span>\n         this-&gt;myDataPtr-&gt;signaled = true;\n         for (auto iter: this-&gt;myDataPtr-&gt;connections)\n         {\n<span class=\"gu\">@@ -545,6 +554,7 @@</span>\n       {\n         this-&gt;Cleanup();\n\n<span class=\"gi\">+   std::lock_guard&lt;std::mutex&gt; lock(this-&gt;myDataPtr-&gt;mutex);</span>\n         this-&gt;myDataPtr-&gt;signaled = true;\n         for (auto iter: this-&gt;myDataPtr-&gt;connections)\n         {\n<span class=\"gu\">@@ -576,6 +586,7 @@</span>\n       {\n         this-&gt;Cleanup();\n\n<span class=\"gi\">+   std::lock_guard&lt;std::mutex&gt; lock(this-&gt;myDataPtr-&gt;mutex);</span>\n         this-&gt;myDataPtr-&gt;signaled = true;\n         for (auto iter: this-&gt;myDataPtr-&gt;connections)\n         {\n<span class=\"gu\">@@ -616,6 +627,7 @@</span>\n     template&lt;typename T&gt;\n     ConnectionPtr EventT&lt;T&gt;::Connect(const boost::function&lt;T&gt; &amp;_subscriber)\n     {\n<span class=\"gi\">+      std::lock_guard&lt;std::mutex&gt; lock(this-&gt;myDataPtr-&gt;mutex);</span>\n       int index = 0;\n       if (!this-&gt;myDataPtr-&gt;connections.empty())\n       {\n<span class=\"gu\">@@ -645,6 +657,7 @@</span>\n     template&lt;typename T&gt;\n     unsigned int EventT&lt;T&gt;::ConnectionCount() const\n     {\n<span class=\"gi\">+      std::lock_guard&lt;std::mutex&gt; lock(this-&gt;myDataPtr-&gt;mutex);</span>\n       return this-&gt;myDataPtr-&gt;connections.size();\n     }\n\n<span class=\"gu\">@@ -653,6 +666,7 @@</span>\n     template&lt;typename T&gt;\n     void EventT&lt;T&gt;::Disconnect(int _id)\n     {\n<span class=\"gi\">+      std::lock_guard&lt;std::mutex&gt; lock(this-&gt;myDataPtr-&gt;mutex);</span>\n       // Find the connection\n       auto const &amp;it = this-&gt;myDataPtr-&gt;connections.find(_id);\n</pre></div>\n\n\n<p>I have not been able to test this on master or with Gazebo8 because of an <a data-is-external-link=\"true\" href=\"https://github.com/ros-simulation/gazebo_ros_pkgs/issues/596\" rel=\"nofollow\">unrelated bug</a> which stops my setup from running.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "7.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242744.json"}}}, "edited_on": null, "created_on": "2017-08-17T09:00:32.052907+00:00", "milestone": null, "updated_on": "2018-04-02T11:20:31.659210+00:00", "type": "issue", "id": 2332}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2333/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2333.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2333/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2333/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2333/contact-sensor-in-gazebo-8"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2333/vote"}}, "reporter": {"display_name": "foolyc", "uuid": "{adbdc1fa-aa7c-47f7-b448-b9f4d983ba49}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Badbdc1fa-aa7c-47f7-b448-b9f4d983ba49%7D"}, "html": {"href": "https://bitbucket.org/%7Badbdc1fa-aa7c-47f7-b448-b9f4d983ba49%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/83a98a932ae9d53a066aa8963f8bc11dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsF-1.png"}}, "nickname": "foolyc", "type": "user", "account_id": "557058:d6908220-9a5b-451c-a1a4-63851a7c91e7"}, "title": "contact sensor in gazebo 8", "component": {"name": "sensors", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122877.json"}}}, "votes": 1, "watches": 0, "content": {"raw": "", "markup": "markdown", "html": "", "type": "rendered"}, "assignee": null, "state": "closed", "version": {"name": "8.1", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/243455.json"}}}, "edited_on": null, "created_on": "2017-08-17T13:32:01.254601+00:00", "milestone": null, "updated_on": "2017-08-19T06:35:48.218901+00:00", "type": "issue", "id": 2333}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2334/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2334.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2334/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2334/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2334/physicsengines-factorytestcylinder-3-dart"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2334/vote"}}, "reporter": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "title": "PhysicsEngines/FactoryTest.Cylinder/3 (dart) test time can vary widely", "component": {"name": "physics::DARTPhysics", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/139387.json"}}}, "votes": 0, "watches": 2, "content": {"raw": "The time required to run the PhysicsEngines/FactoryTest.Cylinder/3 test (for dart) can [vary widely](https://build.osrfoundation.org/view/upstream-dart/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/31/testReport/(root)/PhysicsEngines_FactoryTest/Cylinder_3/history/), from 25 seconds to well over 2 minutes. I don't know why it sometimes takes so long, but it pushes the total test time very close to the timeout of 500 seconds ([over 8 minutes / 480 seconds](https://build.osrfoundation.org/view/upstream-dart/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/31/testReport/(root)/PhysicsEngines_FactoryTest/history/)), and it [often does timeout](https://build.osrfoundation.org/view/upstream-dart/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/39/testReport/junit/(root)/INTEGRATION_factory/test_ran/history/).", "markup": "markdown", "html": "<p>The time required to run the PhysicsEngines/FactoryTest.Cylinder/3 test (for dart) can <a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/view/upstream-dart/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/31/testReport/(root)/PhysicsEngines_FactoryTest/Cylinder_3/history/\" rel=\"nofollow\">vary widely</a>, from 25 seconds to well over 2 minutes. I don't know why it sometimes takes so long, but it pushes the total test time very close to the timeout of 500 seconds (<a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/view/upstream-dart/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/31/testReport/(root)/PhysicsEngines_FactoryTest/history/\" rel=\"nofollow\">over 8 minutes / 480 seconds</a>), and it <a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/view/upstream-dart/job/gazebo-any_dart4-devel-xenial-amd64-gpu-nvidia_docker/39/testReport/junit/(root)/INTEGRATION_factory/test_ran/history/\" rel=\"nofollow\">often does timeout</a>.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2017-08-18T00:48:33.338518+00:00", "milestone": null, "updated_on": "2017-08-18T00:48:33.338518+00:00", "type": "issue", "id": 2334}, {"priority": "critical", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2335/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2335.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2335/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2335/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2335/how-to-set-the-friction-of-ballbot-the"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2335/vote"}}, "reporter": {"display_name": "Bob Wong", "uuid": "{84422dbc-8b33-48c2-8615-c74c86dd01f5}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B84422dbc-8b33-48c2-8615-c74c86dd01f5%7D"}, "html": {"href": "https://bitbucket.org/%7B84422dbc-8b33-48c2-8615-c74c86dd01f5%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/6cdb3cc771457d30c284881dc3ae8cd4d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsBW-4.png"}}, "nickname": "Bob_Wong", "type": "user", "account_id": "557058:df1f736e-2767-4351-8a9d-13f4ad357636"}, "title": "How to set the friction of ballbot, the friction between ball and wheel, and the direction of friction (parameter fdir1)", "component": {"name": "physics::ODEPhysics", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122883.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "Recently, we try to control the ball robot, but the model we constructed seems wrong,especially the friction between the ball and wheel. When we try to make the ballbot stand, the wheels seem slipping on the ball, making it hard for us to stable the robot. So we believe that we set the wheel friction parameters in a wrong way, maybe the direction of  friction. Then we make the robot stable through changing the stiffness and damping parameter of contact of the ball. But it is still a little bit weird.  I really need help for setting the friction parameter of the wheel. Thank you.", "markup": "markdown", "html": "<p>Recently, we try to control the ball robot, but the model we constructed seems wrong,especially the friction between the ball and wheel. When we try to make the ballbot stand, the wheels seem slipping on the ball, making it hard for us to stable the robot. So we believe that we set the wheel friction parameters in a wrong way, maybe the direction of  friction. Then we make the robot stable through changing the stiffness and damping parameter of contact of the ball. But it is still a little bit weird.  I really need help for setting the friction parameter of the wheel. Thank you.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "7.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242744.json"}}}, "edited_on": null, "created_on": "2017-08-18T02:45:20.171140+00:00", "milestone": null, "updated_on": "2018-10-18T14:34:39.210034+00:00", "type": "issue", "id": 2335}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2336/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2336.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2336/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2336/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2336/handling-multiple-harness-joints"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2336/vote"}}, "reporter": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "title": "Handling multiple harness joints", "component": null, "votes": 0, "watches": 1, "content": {"raw": "The new ability to reattach a harness (pull request #2697) raises the question of how to treat harnesses with multiple joints. Currently, only one joint can be identified as detachable. Any other harness joints will remain after the harness is detached. If the harness is reattached, Gazebo will crash when the plugin fails to create the harness joints that still exist.", "markup": "markdown", "html": "<p>The new ability to reattach a harness (<a href=\"#!/osrf/gazebo/pull-requests/2697/harnessplugin-pimpl-and-allow-re-attaching\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #2697</a>) raises the question of how to treat harnesses with multiple joints. Currently, only one joint can be identified as detachable. Any other harness joints will remain after the harness is detached. If the harness is reattached, Gazebo will crash when the plugin fails to create the harness joints that still exist.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2017-08-18T16:16:44.200228+00:00", "milestone": null, "updated_on": "2017-08-18T16:31:37.854652+00:00", "type": "issue", "id": 2336}, {"priority": "critical", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2337/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2337.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2337/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2337/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2337/gazebo_ros_pkgs-can-not-be-used"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2337/vote"}}, "reporter": {"display_name": "Bob Wong", "uuid": "{84422dbc-8b33-48c2-8615-c74c86dd01f5}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B84422dbc-8b33-48c2-8615-c74c86dd01f5%7D"}, "html": {"href": "https://bitbucket.org/%7B84422dbc-8b33-48c2-8615-c74c86dd01f5%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/6cdb3cc771457d30c284881dc3ae8cd4d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsBW-4.png"}}, "nickname": "Bob_Wong", "type": "user", "account_id": "557058:df1f736e-2767-4351-8a9d-13f4ad357636"}, "title": "gazebo_ros_pkgs can not be used", "component": null, "votes": 0, "watches": 0, "content": {"raw": "I hope to install an updated version gazebo,as it solves the bug of `reference frame` of `fdir1`.  I am using ros-kinetic now, however, there is no `ros-kinetic-gazebo9-ros-pkgs` yet. I had to install `ros-kinetic-gazbeo8-ros-pkgs`, which could not work. I don't know how to solve the problem, do I need to uninstall gazebo9 and install gazebo8?? Thank you.\r\nHere is the wrong.\r\n```\r\n#!linux\r\n\r\nSegmentation fault (core dumped)\r\n/opt/ros/kinetic/lib/gazebo_ros/gazebo: 46: kill: invalid signal number or name: SIGINT\r\n\r\n```", "markup": "markdown", "html": "<p>I hope to install an updated version gazebo,as it solves the bug of <code>reference frame</code> of <code>fdir1</code>.  I am using ros-kinetic now, however, there is no <code>ros-kinetic-gazebo9-ros-pkgs</code> yet. I had to install <code>ros-kinetic-gazbeo8-ros-pkgs</code>, which could not work. I don't know how to solve the problem, do I need to uninstall gazebo9 and install gazebo8?? Thank you.\nHere is the wrong.</p>\n<div class=\"codehilite language-linux\"><pre><span></span>Segmentation fault (core dumped)\n/opt/ros/kinetic/lib/gazebo_ros/gazebo: 46: kill: invalid signal number or name: SIGINT\n</pre></div>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "9.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242746.json"}}}, "edited_on": null, "created_on": "2017-08-20T10:48:55.329066+00:00", "milestone": null, "updated_on": "2017-08-20T10:48:55.329066+00:00", "type": "issue", "id": 2337}, {"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2338/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2338.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2338/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2338/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2338/joint-visual-remains-after-harness"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2338/vote"}}, "reporter": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "title": "Joint visual remains after harness detaches", "component": null, "votes": 0, "watches": 1, "content": {"raw": "The joint visual remains after a harness has been detached and the joint [removed](#!/osrf/gazebo/src/1054201b80f7768d4f163a73df137a7ecc9e2e3e/plugins/HarnessPlugin.cc?at=default&fileviewer=file-view-default#HarnessPlugin.cc-436).\r\n\r\nExample `worlds/harness.world`:\r\n\r\n![test.gif](data/bitbucket.org/repo/jgXqbo/images/4139477799-test.gif)", "markup": "markdown", "html": "<p>The joint visual remains after a harness has been detached and the joint <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/1054201b80f7768d4f163a73df137a7ecc9e2e3e/plugins/HarnessPlugin.cc?at=default&amp;fileviewer=file-view-default#HarnessPlugin.cc-436\" rel=\"nofollow\">removed</a>.</p>\n<p>Example <code>worlds/harness.world</code>:</p>\n<p><img alt=\"test.gif\" src=\"data/bitbucket.org/repo/jgXqbo/images/4139477799-test.gif\" /></p>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "all", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/225575.json"}}}, "edited_on": null, "created_on": "2017-08-22T00:06:32.654360+00:00", "milestone": null, "updated_on": "2017-08-22T00:07:03.293508+00:00", "type": "issue", "id": 2338}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2339/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2339.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2339/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2339/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2339/pr2-with-dart-physics"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2339/vote"}}, "reporter": {"display_name": "Peter Horak", "uuid": "{c72abe74-c12a-4128-a6fc-94f3844ac8ef}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D"}, "html": {"href": "https://bitbucket.org/%7Bc72abe74-c12a-4128-a6fc-94f3844ac8ef%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a/87d803b7-3e50-40c1-8159-a5c20abd84ea/128"}}, "nickname": "pchorak", "type": "user", "account_id": "557058:451ed60b-3cfa-4a97-b4d3-a3fc34c2b21a"}, "title": "PR2 with DART physics", "component": null, "votes": 0, "watches": 1, "content": {"raw": "If you load the PR2 model while using DART physics, the model eventually collapses (`inf` or `nan` pose values) and the simulation may crash. The problem has to do with the weld constraints added to simulate the kinematic loops in the PR2 (see pull request #2756). Part of the cause is the LCP solver ([issue #892](https://github.com/dartsim/dart/issues/892)). However, even if using the projected Gauss-Seidel solver, the simulation still fails albeit after more time.\r\n\r\nThe main problem is that some of the weld constraints are set with non-identity [relative transforms](https://github.com/dartsim/dart/blob/master/dart/constraint/WeldJointConstraint.cpp#L64) because [an assumption](#!/osrf/gazebo/src/1054201b80f7768d4f163a73df137a7ecc9e2e3e/gazebo/physics/dart/DARTModelPrivate.hh?at=default&fileviewer=file-view-default#DARTModelPrivate.hh-160) in the code for creating loop joints is violated. Part of the assumption is true: if a link has multiple parent joints, it will not have a free joint parent (which may have an initialized/non-identity transform). However, the pose of the link also depends on any earlier ancestor joints, which may include free joints with initialized transforms.\r\n\r\nSometimes a model only has one kinematic tree (and thus one root/free joint). In this case, all parent joints of the link share that one free joint as an ancestor, so the weld constraint relative transforms are identity as they should be. However, the `*_gripper_*_parallel_link` links of the PR2 have no parents links, so they are all given free joints initialized with different transforms  by the time that weld constraints are created for their shared children (which form kinematic loops). Later, once all the normal joints (revolute, prismatic, etc.) are initialized, the constraints are violated before the simulation even begins.\r\n\r\n* The bug could be solved by initializing the free joints with all the other joints instead of [when first created](#!/osrf/gazebo/src/1054201b80f7768d4f163a73df137a7ecc9e2e3e/gazebo/physics/dart/DARTModelPrivate.hh?at=default&fileviewer=file-view-default#DARTModelPrivate.hh-189). This would require keeping track of the free joints after they are created.\r\n\r\n* I believe a more elegant solution would be to explicitly set the relative transforms of any weld constraints to identity. This would ensure that they are set correctly regardless of the poses of body nodes at the time of creation. However, this would require a change to DART (proposed in [issue #903](https://github.com/dartsim/dart/issues/903)).", "markup": "markdown", "html": "<p>If you load the PR2 model while using DART physics, the model eventually collapses (<code>inf</code> or <code>nan</code> pose values) and the simulation may crash. The problem has to do with the weld constraints added to simulate the kinematic loops in the PR2 (see <a href=\"#!/osrf/gazebo/pull-requests/2756/dart-kinematic-loops\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #2756</a>). Part of the cause is the LCP solver (<a data-is-external-link=\"true\" href=\"https://github.com/dartsim/dart/issues/892\" rel=\"nofollow\">issue #892</a>). However, even if using the projected Gauss-Seidel solver, the simulation still fails albeit after more time.</p>\n<p>The main problem is that some of the weld constraints are set with non-identity <a data-is-external-link=\"true\" href=\"https://github.com/dartsim/dart/blob/master/dart/constraint/WeldJointConstraint.cpp#L64\" rel=\"nofollow\">relative transforms</a> because <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/1054201b80f7768d4f163a73df137a7ecc9e2e3e/gazebo/physics/dart/DARTModelPrivate.hh?at=default&amp;fileviewer=file-view-default#DARTModelPrivate.hh-160\" rel=\"nofollow\">an assumption</a> in the code for creating loop joints is violated. Part of the assumption is true: if a link has multiple parent joints, it will not have a free joint parent (which may have an initialized/non-identity transform). However, the pose of the link also depends on any earlier ancestor joints, which may include free joints with initialized transforms.</p>\n<p>Sometimes a model only has one kinematic tree (and thus one root/free joint). In this case, all parent joints of the link share that one free joint as an ancestor, so the weld constraint relative transforms are identity as they should be. However, the <code>*_gripper_*_parallel_link</code> links of the PR2 have no parents links, so they are all given free joints initialized with different transforms  by the time that weld constraints are created for their shared children (which form kinematic loops). Later, once all the normal joints (revolute, prismatic, etc.) are initialized, the constraints are violated before the simulation even begins.</p>\n<ul>\n<li>\n<p>The bug could be solved by initializing the free joints with all the other joints instead of <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/1054201b80f7768d4f163a73df137a7ecc9e2e3e/gazebo/physics/dart/DARTModelPrivate.hh?at=default&amp;fileviewer=file-view-default#DARTModelPrivate.hh-189\" rel=\"nofollow\">when first created</a>. This would require keeping track of the free joints after they are created.</p>\n</li>\n<li>\n<p>I believe a more elegant solution would be to explicitly set the relative transforms of any weld constraints to identity. This would ensure that they are set correctly regardless of the poses of body nodes at the time of creation. However, this would require a change to DART (proposed in <a data-is-external-link=\"true\" href=\"https://github.com/dartsim/dart/issues/903\" rel=\"nofollow\">issue #903</a>).</p>\n</li>\n</ul>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "9.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242746.json"}}}, "edited_on": null, "created_on": "2017-08-24T23:09:53.279803+00:00", "milestone": null, "updated_on": "2017-08-25T00:14:03.014726+00:00", "type": "issue", "id": 2339}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2340/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2340.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2340/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2340/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2340/logical-camera-always-contains-ground"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2340/vote"}}, "reporter": {"display_name": "Shane Loretz", "uuid": "{656e3311-aad9-45a1-aaf7-b0ee0e84b287}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D"}, "html": {"href": "https://bitbucket.org/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:684383ab-ac95-4859-a350-4a6f41a94a22/c7a1ebf5-cade-4115-9f26-9d3facb776db/128"}}, "nickname": "Shane Loretz", "type": "user", "account_id": "557058:684383ab-ac95-4859-a350-4a6f41a94a22"}, "title": "Logical Camera Always contains ground plane", "component": null, "votes": 0, "watches": 1, "content": {"raw": "gazebo 7.8.1\r\n\r\nThe logical camera output always includes the ground plane. I think this might be caused by the bounding box on the ground plane. `model->GetBoundingBox().Ign()` on the ground plane returns a box with all side lengths `inf`. The logical camera uses the bounding box to when testing if the model is within its frustum.\r\n\r\nAttached world shows the issue. The logical camera should not be including the ground_plane.", "markup": "markdown", "html": "<p>gazebo 7.8.1</p>\n<p>The logical camera output always includes the ground plane. I think this might be caused by the bounding box on the ground plane. <code>model-&gt;GetBoundingBox().Ign()</code> on the ground plane returns a box with all side lengths <code>inf</code>. The logical camera uses the bounding box to when testing if the model is within its frustum.</p>\n<p>Attached world shows the issue. The logical camera should not be including the ground_plane.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "7.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242744.json"}}}, "edited_on": null, "created_on": "2017-08-28T22:42:29.946392+00:00", "milestone": null, "updated_on": "2017-08-28T22:42:29.946392+00:00", "type": "issue", "id": 2340}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2341/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2341.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2341/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2341/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2341/logical-camera-detects-model-outside-of"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2341/vote"}}, "reporter": {"display_name": "Shane Loretz", "uuid": "{656e3311-aad9-45a1-aaf7-b0ee0e84b287}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D"}, "html": {"href": "https://bitbucket.org/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:684383ab-ac95-4859-a350-4a6f41a94a22/c7a1ebf5-cade-4115-9f26-9d3facb776db/128"}}, "nickname": "Shane Loretz", "type": "user", "account_id": "557058:684383ab-ac95-4859-a350-4a6f41a94a22"}, "title": "Logical camera detects model outside of visualized frustum", "component": {"name": "sensors", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122877.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "Gazebo 7.8.1\r\n\r\nThe logical camera detects a unit box outside of the visualized frustum. The box in the attached world is a model named \"target\" and either it should not appear in the output, or the visualized frustum should intersect with it.\r\n\r\n![logical_camera_overreach.png](data/bitbucket.org/repo/jgXqbo/images/3025690979-logical_camera_overreach.png)", "markup": "markdown", "html": "<p>Gazebo 7.8.1</p>\n<p>The logical camera detects a unit box outside of the visualized frustum. The box in the attached world is a model named \"target\" and either it should not appear in the output, or the visualized frustum should intersect with it.</p>\n<p><img alt=\"logical_camera_overreach.png\" src=\"data/bitbucket.org/repo/jgXqbo/images/3025690979-logical_camera_overreach.png\" /></p>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "7.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242744.json"}}}, "edited_on": null, "created_on": "2017-08-28T23:11:54.625865+00:00", "milestone": null, "updated_on": "2017-09-19T19:48:32.282844+00:00", "type": "issue", "id": 2341}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2342/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2342.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2342/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2342/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2342/logical-camera-does-not-detect-nested"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2342/vote"}}, "reporter": {"display_name": "Shane Loretz", "uuid": "{656e3311-aad9-45a1-aaf7-b0ee0e84b287}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D"}, "html": {"href": "https://bitbucket.org/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:684383ab-ac95-4859-a350-4a6f41a94a22/c7a1ebf5-cade-4115-9f26-9d3facb776db/128"}}, "nickname": "Shane Loretz", "type": "user", "account_id": "557058:684383ab-ac95-4859-a350-4a6f41a94a22"}, "title": "Logical camera does not detect nested models", "component": {"name": "sensors", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122877.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "gazebo 7.8.1\r\n\r\nThe logical camera does not see nested models. The attached world has a model with a nested model (purple) that is inside the frustum of the logical camera.\r\n\r\n![logical_camera_nested_model.png](data/bitbucket.org/repo/jgXqbo/images/3668089066-logical_camera_nested_model.png)\r\n\r\nI would expect either the logical camera would report the scoped name of the nested model `base_target::nested_target`, or it would report the parent model `base_target`.", "markup": "markdown", "html": "<p>gazebo 7.8.1</p>\n<p>The logical camera does not see nested models. The attached world has a model with a nested model (purple) that is inside the frustum of the logical camera.</p>\n<p><img alt=\"logical_camera_nested_model.png\" src=\"data/bitbucket.org/repo/jgXqbo/images/3668089066-logical_camera_nested_model.png\" /></p>\n<p>I would expect either the logical camera would report the scoped name of the nested model <code>base_target::nested_target</code>, or it would report the parent model <code>base_target</code>.</p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": {"name": "7.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242744.json"}}}, "edited_on": null, "created_on": "2017-08-29T23:02:44.218258+00:00", "milestone": null, "updated_on": "2017-10-11T15:22:26.234954+00:00", "type": "issue", "id": 2342}, {"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2343/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2343.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2343/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2343/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2343/symbol-collision-for-build_type_-variables"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2343/vote"}}, "reporter": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "title": "Symbol collision for `BUILD_TYPE_*` variables with dart", "component": {"name": "physics::DARTPhysics", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/139387.json"}}}, "votes": 0, "watches": 3, "content": {"raw": "We recently started [installing dart for gazebo CI jobs on Ubuntu](https://bitbucket.org/osrf/release-tools/pull-requests/431/install-dart-packages-for-gazebo-ci-on/diff), and I just noticed a [new compiler warning in the Release build of the default branch](https://bitbucket.org/osrf/release-tools/pull-requests/431/install-dart-packages-for-gazebo-ci-on/diff):\r\n\r\n~~~\r\n\"BUILD_TYPE_RELEASE\" redefined\r\n~~~\r\n\r\nI believe this occurs because these variables are exposed in similar header files generated by cmake for both gazebo and dart:\r\n\r\n* [dart/config.hpp.in](https://github.com/dartsim/dart/blob/master/dart/config.hpp.in#L47-L50)\r\n* [cmake/gazebo_config.h.in](#!/osrf/gazebo/src/f9d84fa63ffb0a6473e0c3142767e858f6766b9e/cmake/gazebo_config.h.in?at=default&fileviewer=file-view-default#gazebo_config.h.in-15:18)\r\n\r\nWe usually don't see this conflict because gazebo uses the `RelWithDebInfo` build type by default, but the conflict occurs when both build in Release mode.\r\n\r\nI think there may be some other symbol collisions as well, like `HAVE_BULLET`.", "markup": "markdown", "html": "<p>We recently started <a data-is-external-link=\"true\" href=\"https://bitbucket.org/osrf/release-tools/pull-requests/431/install-dart-packages-for-gazebo-ci-on/diff\" rel=\"nofollow\">installing dart for gazebo CI jobs on Ubuntu</a>, and I just noticed a <a data-is-external-link=\"true\" href=\"https://bitbucket.org/osrf/release-tools/pull-requests/431/install-dart-packages-for-gazebo-ci-on/diff\" rel=\"nofollow\">new compiler warning in the Release build of the default branch</a>:</p>\n<div class=\"codehilite\"><pre><span></span>&quot;BUILD_TYPE_RELEASE&quot; redefined\n</pre></div>\n\n\n<p>I believe this occurs because these variables are exposed in similar header files generated by cmake for both gazebo and dart:</p>\n<ul>\n<li><a data-is-external-link=\"true\" href=\"https://github.com/dartsim/dart/blob/master/dart/config.hpp.in#L47-L50\" rel=\"nofollow\">dart/config.hpp.in</a></li>\n<li><a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/f9d84fa63ffb0a6473e0c3142767e858f6766b9e/cmake/gazebo_config.h.in?at=default&amp;fileviewer=file-view-default#gazebo_config.h.in-15:18\" rel=\"nofollow\">cmake/gazebo_config.h.in</a></li>\n</ul>\n<p>We usually don't see this conflict because gazebo uses the <code>RelWithDebInfo</code> build type by default, but the conflict occurs when both build in Release mode.</p>\n<p>I think there may be some other symbol collisions as well, like <code>HAVE_BULLET</code>.</p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2017-08-30T21:08:17.201246+00:00", "milestone": null, "updated_on": "2018-01-10T22:11:39.968606+00:00", "type": "issue", "id": 2343}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2344/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2344.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2344/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2344/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2344/mainwindow_test-menubar-test-failed"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2344/vote"}}, "reporter": {"display_name": "Ying Lu", "uuid": "{11ec131e-4af6-4228-beaf-167b1c8d1c2c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D"}, "html": {"href": "https://bitbucket.org/%7B11ec131e-4af6-4228-beaf-167b1c8d1c2c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:659bfe31-d941-44f5-aa6d-00058b070ea8/c88d5925-8a09-40c7-8684-c02aeafe0f59/128"}}, "nickname": "rosebudflyaway", "type": "user", "account_id": "557058:659bfe31-d941-44f5-aa6d-00058b070ea8"}, "title": "MainWindow_TEST menuBar test failed", "component": null, "votes": 0, "watches": 0, "content": {"raw": "The link to the failure is [here](https://build.osrfoundation.org/view/main/view/BuildCopTests/job/gazebo-ci-default-homebrew-amd64/lastBuild/testReport/(root)/MainWindow_TEST/MenuBar/)\r\n\r\nThe Error Message is quite obscure \r\n\r\n``` \r\nUnknown file:0 :: Received a fatal error.\r\n``` \r\n\r\nIt has been failing consistently on homebrew-amd64", "markup": "markdown", "html": "<p>The link to the failure is <a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/view/main/view/BuildCopTests/job/gazebo-ci-default-homebrew-amd64/lastBuild/testReport/(root)/MainWindow_TEST/MenuBar/\" rel=\"nofollow\">here</a></p>\n<p>The Error Message is quite obscure </p>\n<div class=\"codehilite\"><pre><span></span>Unknown file:0 :: Received a fatal error.\n</pre></div>\n\n\n<p>It has been failing consistently on homebrew-amd64</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2017-08-30T22:45:05.936399+00:00", "milestone": null, "updated_on": "2017-08-30T22:45:50.884954+00:00", "type": "issue", "id": 2344}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2345/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2345.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2345/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2345/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2345/logical-camera-data-does-not-include-the"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2345/vote"}}, "reporter": {"display_name": "Shane Loretz", "uuid": "{656e3311-aad9-45a1-aaf7-b0ee0e84b287}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D"}, "html": {"href": "https://bitbucket.org/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:684383ab-ac95-4859-a350-4a6f41a94a22/c7a1ebf5-cade-4115-9f26-9d3facb776db/128"}}, "nickname": "Shane Loretz", "type": "user", "account_id": "557058:684383ab-ac95-4859-a350-4a6f41a94a22"}, "title": "Logical Camera data does not include the time the data was generated", "component": {"name": "sensors", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122877.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "The logical camera has two interfaces for getting data: [LogicalCamera::Image()](#!/osrf/gazebo/src/f9d84fa63ffb0a6473e0c3142767e858f6766b9e/gazebo/sensors/LogicalCameraSensor.hh?at=default&fileviewer=file-view-default#LogicalCameraSensor.hh-87) and a [gazebo transport topic](#!/osrf/gazebo/src/f9d84fa63ffb0a6473e0c3142767e858f6766b9e/gazebo/sensors/LogicalCameraSensor.cc?at=default&fileviewer=file-view-default#LogicalCameraSensor.cc-83). Both of these methods offer an instance of [LogicalCameraImage.proto](#!/osrf/gazebo/src/f9d84fa63ffb0a6473e0c3142767e858f6766b9e/gazebo/msgs/logical_camera_image.proto?at=default&fileviewer=file-view-default).\r\n\r\nThis message does not contain any time information. It is impossible to know the simulated time of when the logical camera sensor data was generated both as a sensor plugin and as a standalone program using gazebo transport. This would be a problem for a user who wants to do something with the poses where the sensor or models may be moving.", "markup": "markdown", "html": "<p>The logical camera has two interfaces for getting data: <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/f9d84fa63ffb0a6473e0c3142767e858f6766b9e/gazebo/sensors/LogicalCameraSensor.hh?at=default&amp;fileviewer=file-view-default#LogicalCameraSensor.hh-87\" rel=\"nofollow\">LogicalCamera::Image()</a> and a <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/f9d84fa63ffb0a6473e0c3142767e858f6766b9e/gazebo/sensors/LogicalCameraSensor.cc?at=default&amp;fileviewer=file-view-default#LogicalCameraSensor.cc-83\" rel=\"nofollow\">gazebo transport topic</a>. Both of these methods offer an instance of <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/f9d84fa63ffb0a6473e0c3142767e858f6766b9e/gazebo/msgs/logical_camera_image.proto?at=default&amp;fileviewer=file-view-default\" rel=\"nofollow\">LogicalCameraImage.proto</a>.</p>\n<p>This message does not contain any time information. It is impossible to know the simulated time of when the logical camera sensor data was generated both as a sensor plugin and as a standalone program using gazebo transport. This would be a problem for a user who wants to do something with the poses where the sensor or models may be moving.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "7.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242744.json"}}}, "edited_on": null, "created_on": "2017-08-31T20:45:58.597423+00:00", "milestone": null, "updated_on": "2017-08-31T20:45:58.597423+00:00", "type": "issue", "id": 2345}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2346/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2346.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2346/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2346/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2346/gpu_ray-sensor-number-in-a-gazebo-world-is"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2346/vote"}}, "reporter": {"display_name": "daniel m", "uuid": "{9e38dcaa-1cad-4902-be94-142ceb352515}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9e38dcaa-1cad-4902-be94-142ceb352515%7D"}, "html": {"href": "https://bitbucket.org/%7B9e38dcaa-1cad-4902-be94-142ceb352515%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/141d5de72bf293ab85d5f5b757c97f4fd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsDM-4.png"}}, "nickname": "dmeltz1", "type": "user", "account_id": "557058:6f0f3bc9-2add-4c0b-b6d8-dc9aecdc573a"}, "title": "gpu_ray sensor number in a gazebo world is limited", "component": {"name": "sensors::RaySensor", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122886.json"}}}, "votes": 2, "watches": 1, "content": {"raw": "It seems that there's a limitation to the number of the allowed gpu_ray sensors in gazebo world:\r\n\r\nI have created a Velodyne sensor plugin that reads data from 36 tilted, spinning, ray sensors, and produces ROS a point cloud message.  \r\n\r\nIf i use regular ray sensors, things are working fine, But if i switch to gpu_ray, and use more than 16 gpu_ray sensors some of them, do not produce any data, and if i use more than 24 gazebo is crashes\r\n\r\nI am using :    \r\nGazebo 8   (also happens with Gazebo 5 and 7)    \r\nUbuntu 16.04     \r\nCPU :  i7-7700K CPU @ 4.20GHz \u00d7 8  (also happens with Xeon(R) E5-1620 v3 @ 3.50GHz \u00d7 8 )\r\nRAM : 16G   \r\nGPU : Nvidea Gefoce GTX1080 (also happens with Quadro K2200 and Quadro M5000 )    \r\n\r\n(i have also raised this issue in [gazebo answers](http://answers.gazebosim.org/question/17145/why-the-gpu_ray-sensor-number-in-a-world-is-limited/) )", "markup": "markdown", "html": "<p>It seems that there's a limitation to the number of the allowed gpu_ray sensors in gazebo world:</p>\n<p>I have created a Velodyne sensor plugin that reads data from 36 tilted, spinning, ray sensors, and produces ROS a point cloud message.  </p>\n<p>If i use regular ray sensors, things are working fine, But if i switch to gpu_ray, and use more than 16 gpu_ray sensors some of them, do not produce any data, and if i use more than 24 gazebo is crashes</p>\n<p>I am using :  <br />\nGazebo 8   (also happens with Gazebo 5 and 7)  <br />\nUbuntu 16.04   <br />\nCPU :  i7-7700K CPU @ 4.20GHz \u00d7 8  (also happens with Xeon(R) E5-1620 v3 @ 3.50GHz \u00d7 8 )\nRAM : 16G <br />\nGPU : Nvidea Gefoce GTX1080 (also happens with Quadro K2200 and Quadro M5000 )    </p>\n<p>(i have also raised this issue in <a data-is-external-link=\"true\" href=\"http://answers.gazebosim.org/question/17145/why-the-gpu_ray-sensor-number-in-a-world-is-limited/\" rel=\"nofollow\">gazebo answers</a> )</p>", "type": "rendered"}, "assignee": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "state": "new", "version": {"name": "8.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242745.json"}}}, "edited_on": null, "created_on": "2017-09-03T07:07:32.927234+00:00", "milestone": null, "updated_on": "2020-03-16T17:10:42.073426+00:00", "type": "issue", "id": 2346}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2347/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2347.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2347/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2347/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2347/gazebo-failing-to-load-model-due-to"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2347/vote"}}, "reporter": null, "title": "Gazebo failing to load model due to comment in sdf", "component": {"name": "transport", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122882.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "Gazebo7 with ROS Kinetic (not sure  if relevant).\r\nWorking with some plugins I commented out one of them in model sdf file like that:\r\n\r\n\r\n```\r\n#!xml\r\n\r\n</joint>\r\n<!--plugin name=\"abc\" filename=\"abc.so\"/-->\r\n</model>\r\n</sdf>\r\n```\r\n\r\n\r\nthen I spent next 1.5h to figure out why Gazebo is failing to  spawn model with following error:\r\n\r\n\r\n```\r\n#!\r\n\r\nService call failed: transport error completing service call: unable to receive data from sender, check sender's logs for details. Segmentation fault (core dumped) \r\n[gazebo-1] process has died \r\n```\r\n\r\n\r\nIs there any particular reason that this can fail?", "markup": "markdown", "html": "<p>Gazebo7 with ROS Kinetic (not sure  if relevant).\nWorking with some plugins I commented out one of them in model sdf file like that:</p>\n<div class=\"codehilite language-xml\"><pre><span></span><span class=\"nt\">&lt;/joint&gt;</span>\n<span class=\"c\">&lt;!--plugin name=&quot;abc&quot; filename=&quot;abc.so&quot;/--&gt;</span>\n<span class=\"nt\">&lt;/model&gt;</span>\n<span class=\"nt\">&lt;/sdf&gt;</span>\n</pre></div>\n\n\n<p>then I spent next 1.5h to figure out why Gazebo is failing to  spawn model with following error:</p>\n<div class=\"codehilite\"><pre><span></span>Service call failed: transport error completing service call: unable to receive data from sender, check sender&#39;s logs for details. Segmentation fault (core dumped) \n[gazebo-1] process has died \n</pre></div>\n\n\n<p>Is there any particular reason that this can fail?</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "7.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242744.json"}}}, "edited_on": null, "created_on": "2017-09-11T02:53:26.876647+00:00", "milestone": null, "updated_on": "2017-09-11T16:08:10.239347+00:00", "type": "issue", "id": 2347}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2348/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2348.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2348/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2348/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2348/lack-of-documentation-about-communication"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2348/vote"}}, "reporter": {"display_name": "Thorsten von Eicken", "uuid": "{0ff9d3b2-9573-4d70-848b-ce02db9a9fc2}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0ff9d3b2-9573-4d70-848b-ce02db9a9fc2%7D"}, "html": {"href": "https://bitbucket.org/%7B0ff9d3b2-9573-4d70-848b-ce02db9a9fc2%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/a3e4107049591e0e7c23697527db7598d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsTE-4.png"}}, "nickname": "tvoneicken", "type": "user", "account_id": "557058:e0666f32-689f-41fe-9875-18723e1a18d6"}, "title": "Lack of documentation about communication requirements", "component": null, "votes": 0, "watches": 0, "content": {"raw": "There is quite a lack of documentation about the communication requirements between gzserver and gzclient.\r\n\r\n* What connects to what using what forms of transport.\r\n* Which functionality maps to which transport. For example, how is a user supposed to tell that the marker functionality uses ign transport and as a consequence while gzserver and gzclient seem to work fine markers may not work if they're not on the same lan?\r\n* How to run gzserver and gzclient of different machines.\r\n* What GAZEBO_MASTER_URI affects and doesn't affect.\r\n* The difference and roles of gazebo transport vs. ignition transport.\r\n* How to troubleshoot each one, e.g. how can one tell whether gzserver and gzclient manage to communicate via ign transport.\r\n* How does gzweb work with all this?", "markup": "markdown", "html": "<p>There is quite a lack of documentation about the communication requirements between gzserver and gzclient.</p>\n<ul>\n<li>What connects to what using what forms of transport.</li>\n<li>Which functionality maps to which transport. For example, how is a user supposed to tell that the marker functionality uses ign transport and as a consequence while gzserver and gzclient seem to work fine markers may not work if they're not on the same lan?</li>\n<li>How to run gzserver and gzclient of different machines.</li>\n<li>What GAZEBO_MASTER_URI affects and doesn't affect.</li>\n<li>The difference and roles of gazebo transport vs. ignition transport.</li>\n<li>How to troubleshoot each one, e.g. how can one tell whether gzserver and gzclient manage to communicate via ign transport.</li>\n<li>How does gzweb work with all this?</li>\n</ul>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2017-09-12T15:07:04.323655+00:00", "milestone": null, "updated_on": "2017-09-12T15:07:29.662275+00:00", "type": "issue", "id": 2348}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2349/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2349.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2349/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2349/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2349/markers-should-use-gazebo-transport"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2349/vote"}}, "reporter": {"display_name": "Thorsten von Eicken", "uuid": "{0ff9d3b2-9573-4d70-848b-ce02db9a9fc2}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0ff9d3b2-9573-4d70-848b-ce02db9a9fc2%7D"}, "html": {"href": "https://bitbucket.org/%7B0ff9d3b2-9573-4d70-848b-ce02db9a9fc2%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/a3e4107049591e0e7c23697527db7598d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsTE-4.png"}}, "nickname": "tvoneicken", "type": "user", "account_id": "557058:e0666f32-689f-41fe-9875-18723e1a18d6"}, "title": "markers should use gazebo transport", "component": null, "votes": 0, "watches": 2, "content": {"raw": "The marker functionality uses ignition transport. It should also be available using gazebo transport to allow for remote operation. Creating markers from model and world plugins is immensely useful to visualize forces and other properties that are calculated by the plugins and by using ignition transport that functionality cannot be used when client & server are not on the same lan. I don't understand why markers use ignition transport and thus whether they can be switched to gazebo transport, but perhaps adding the option to use gz transport would provide the best of both worlds.", "markup": "markdown", "html": "<p>The marker functionality uses ignition transport. It should also be available using gazebo transport to allow for remote operation. Creating markers from model and world plugins is immensely useful to visualize forces and other properties that are calculated by the plugins and by using ignition transport that functionality cannot be used when client &amp; server are not on the same lan. I don't understand why markers use ignition transport and thus whether they can be switched to gazebo transport, but perhaps adding the option to use gz transport would provide the best of both worlds.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2017-09-12T15:31:41.529779+00:00", "milestone": null, "updated_on": "2017-09-20T15:18:17.218093+00:00", "type": "issue", "id": 2349}, {"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2350/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2350.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2350/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2350/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2350/gazebo-crashes-if-a-logplaybackcontrol"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2350/vote"}}, "reporter": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "title": "Gazebo crashes if a LogPlaybackControl message is received during simulation mode", "component": {"name": "util::Logging-Playback", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/283119.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "Gazebo  shouldn't be [subscribing](#!/osrf/gazebo/src/58fbe39d9e90bcfabc9f4a2ba911ce934b29b66a/gazebo/physics/World.cc?fileviewer=file-view-default#World.cc-213) to `~/playback_control` unless it's playing back a log.\r\n\r\nIf a playback control  message is received during simulation mode, the message is received by the world, logplay is called... No one realizes there is a problem until the whole thing crashes with this backtrace:\r\n\r\n~~~\r\nThread 12 \"gzserver\" received signal SIGSEGV, Segmentation fault.\r\n[Switching to Thread 0x7fffaf4c9700 (LWP 10225)]\r\n0x00007ffff2676c34 in tinyxml2::XMLNode::LastChildElement(char const*) const () from /usr/lib/x86_64-linux-gnu/libtinyxml2.so.2\r\n(gdb) bt\r\n#0  0x00007ffff2676c34 in tinyxml2::XMLNode::LastChildElement(char const*) const () from /usr/lib/x86_64-linux-gnu/libtinyxml2.so.2\r\n#1  0x00007ffff71a814b in tinyxml2::XMLNode::LastChildElement (value=0x7ffff71c89e9 \"chunk\", this=<optimized out>)\r\n    at /usr/include/tinyxml2.h:739\r\n#2  gazebo::util::LogPlay::Forward (this=this@entry=0x7ffff7dd54e0 <SingletonT<gazebo::util::LogPlay>::GetInstance()::t>)\r\n    at /media/louise/TERA/code/gazebo8/gazebo/util/LogPlay.cc:580\r\n#3  0x00007ffff71a89fa in gazebo::util::LogPlay::Seek (this=0x7ffff7dd54e0 <SingletonT<gazebo::util::LogPlay>::GetInstance()::t>, \r\n    _time=...) at /media/louise/TERA/code/gazebo8/gazebo/util/LogPlay.cc:605\r\n#4  0x00007ffff5a60ae3 in gazebo::physics::World::OnPlaybackControl (this=0x1437de0, _data=...)\r\n    at /media/louise/TERA/code/gazebo8/gazebo/physics/World.cc:1559\r\n#5  0x00007ffff5a781e2 in boost::function1<void, boost::shared_ptr<gazebo::msgs::LogPlaybackControl const> const&>::operator() (a0=..., \r\n    this=0x122b930) at /usr/include/boost/function/function_template.hpp:773\r\n#6  gazebo::transport::CallbackHelperT<gazebo::msgs::LogPlaybackControl>::HandleData(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, boost::function<void (unsigned int)>, unsigned int) (this=0x122b8f0, \r\n    _newdata=\"\\b\\000*\\005\\b\\234\\001\\020\", _cb=..., _id=0) at /media/louise/TERA/code/gazebo8/gazebo/transport/CallbackHelper.hh:149\r\n#7  0x00007ffff5342b56 in gazebo::transport::Node::ProcessIncoming (this=0x13fd1e0)\r\n    at /media/louise/TERA/code/gazebo8/gazebo/transport/Node.cc:223\r\n#8  0x00007ffff5351017 in gazebo::transport::TopicManager::ProcessNodes (\r\n    this=this@entry=0x7ffff7dd5500 <SingletonT<gazebo::transport::TopicManager>::GetInstance()::t>, _onlyOut=_onlyOut@entry=false)\r\n    at /media/louise/TERA/code/gazebo8/gazebo/transport/TopicManager.cc:197\r\n#9  0x00007ffff5339003 in gazebo::transport::ConnectionManager::RunUpdate (\r\n    this=this@entry=0x7ffff7dd52a0 <SingletonT<gazebo::transport::ConnectionManager>::GetInstance()::t>)\r\n    at /media/louise/TERA/code/gazebo8/gazebo/transport/ConnectionManager.cc:283\r\n#10 0x00007ffff5339318 in gazebo::transport::ConnectionManager::Run (\r\n    this=0x7ffff7dd52a0 <SingletonT<gazebo::transport::ConnectionManager>::GetInstance()::t>)\r\n    at /media/louise/TERA/code/gazebo8/gazebo/transport/ConnectionManager.cc:314\r\n#11 0x00007ffff32705d5 in ?? () from /usr/lib/x86_64-linux-gnu/libboost_thread.so.1.58.0\r\n#12 0x00007ffff5dc56ba in start_thread (arg=0x7fffaf4c9700) at pthread_create.c:333\r\n#13 0x00007ffff63d23dd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:109\r\n~~~\r\n\r\nIssueForNewDevelopers", "markup": "markdown", "html": "<p>Gazebo  shouldn't be <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/58fbe39d9e90bcfabc9f4a2ba911ce934b29b66a/gazebo/physics/World.cc?fileviewer=file-view-default#World.cc-213\" rel=\"nofollow\">subscribing</a> to <code>~/playback_control</code> unless it's playing back a log.</p>\n<p>If a playback control  message is received during simulation mode, the message is received by the world, logplay is called... No one realizes there is a problem until the whole thing crashes with this backtrace:</p>\n<div class=\"codehilite\"><pre><span></span>Thread 12 &quot;gzserver&quot; received signal SIGSEGV, Segmentation fault.\n[Switching to Thread 0x7fffaf4c9700 (LWP 10225)]\n0x00007ffff2676c34 in tinyxml2::XMLNode::LastChildElement(char const*) const () from /usr/lib/x86_64-linux-gnu/libtinyxml2.so.2\n(gdb) bt\n#0  0x00007ffff2676c34 in tinyxml2::XMLNode::LastChildElement(char const*) const () from /usr/lib/x86_64-linux-gnu/libtinyxml2.so.2\n#1  0x00007ffff71a814b in tinyxml2::XMLNode::LastChildElement (value=0x7ffff71c89e9 &quot;chunk&quot;, this=&lt;optimized out&gt;)\n    at /usr/include/tinyxml2.h:739\n#2  gazebo::util::LogPlay::Forward (this=this@entry=0x7ffff7dd54e0 &lt;SingletonT&lt;gazebo::util::LogPlay&gt;::GetInstance()::t&gt;)\n    at /media/louise/TERA/code/gazebo8/gazebo/util/LogPlay.cc:580\n#3  0x00007ffff71a89fa in gazebo::util::LogPlay::Seek (this=0x7ffff7dd54e0 &lt;SingletonT&lt;gazebo::util::LogPlay&gt;::GetInstance()::t&gt;, \n    _time=...) at /media/louise/TERA/code/gazebo8/gazebo/util/LogPlay.cc:605\n#4  0x00007ffff5a60ae3 in gazebo::physics::World::OnPlaybackControl (this=0x1437de0, _data=...)\n    at /media/louise/TERA/code/gazebo8/gazebo/physics/World.cc:1559\n#5  0x00007ffff5a781e2 in boost::function1&lt;void, boost::shared_ptr&lt;gazebo::msgs::LogPlaybackControl const&gt; const&amp;&gt;::operator() (a0=..., \n    this=0x122b930) at /usr/include/boost/function/function_template.hpp:773\n#6  gazebo::transport::CallbackHelperT&lt;gazebo::msgs::LogPlaybackControl&gt;::HandleData(std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;, boost::function&lt;void (unsigned int)&gt;, unsigned int) (this=0x122b8f0, \n    _newdata=&quot;\\b\\000*\\005\\b\\234\\001\\020&quot;, _cb=..., _id=0) at /media/louise/TERA/code/gazebo8/gazebo/transport/CallbackHelper.hh:149\n#7  0x00007ffff5342b56 in gazebo::transport::Node::ProcessIncoming (this=0x13fd1e0)\n    at /media/louise/TERA/code/gazebo8/gazebo/transport/Node.cc:223\n#8  0x00007ffff5351017 in gazebo::transport::TopicManager::ProcessNodes (\n    this=this@entry=0x7ffff7dd5500 &lt;SingletonT&lt;gazebo::transport::TopicManager&gt;::GetInstance()::t&gt;, _onlyOut=_onlyOut@entry=false)\n    at /media/louise/TERA/code/gazebo8/gazebo/transport/TopicManager.cc:197\n#9  0x00007ffff5339003 in gazebo::transport::ConnectionManager::RunUpdate (\n    this=this@entry=0x7ffff7dd52a0 &lt;SingletonT&lt;gazebo::transport::ConnectionManager&gt;::GetInstance()::t&gt;)\n    at /media/louise/TERA/code/gazebo8/gazebo/transport/ConnectionManager.cc:283\n#10 0x00007ffff5339318 in gazebo::transport::ConnectionManager::Run (\n    this=0x7ffff7dd52a0 &lt;SingletonT&lt;gazebo::transport::ConnectionManager&gt;::GetInstance()::t&gt;)\n    at /media/louise/TERA/code/gazebo8/gazebo/transport/ConnectionManager.cc:314\n#11 0x00007ffff32705d5 in ?? () from /usr/lib/x86_64-linux-gnu/libboost_thread.so.1.58.0\n#12 0x00007ffff5dc56ba in start_thread (arg=0x7fffaf4c9700) at pthread_create.c:333\n#13 0x00007ffff63d23dd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:109\n</pre></div>\n\n\n<p>IssueForNewDevelopers</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "all", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/225575.json"}}}, "edited_on": null, "created_on": "2017-09-15T02:52:11.875254+00:00", "milestone": null, "updated_on": "2017-09-15T02:52:11.875254+00:00", "type": "issue", "id": 2350}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2351/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2351.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2351/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2351/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2351/gazebo-issues-on-windows-subsystem-for"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2351/vote"}}, "reporter": {"display_name": "Silvio Traversaro", "uuid": "{34f404cb-5642-4f27-a032-e04c7143d776}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D"}, "html": {"href": "https://bitbucket.org/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6/578caaa1-056c-45a2-8bf9-bee94c3bebef/128"}}, "nickname": "traversaro", "type": "user", "account_id": "557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6"}, "title": "Gazebo issues on Windows Subsystem for Linux (WSL)", "component": null, "votes": 0, "watches": 1, "content": {"raw": "I recently discover that a few users of `gazebo-yarp-plugins` are using Gazebo on WSL (a.k.a. Ubuntu on Windows, https://msdn.microsoft.com/en-us/commandline/wsl/about ). \r\nSee #!/osrf/gazebo_tutorials/pull-requests/364/tutorial-for-installing-on-ubuntu-on/diff for a tutorial on how to run Gazebo on WSL. \r\n\r\nFor middleware that support Windows such as YARP, this is an interesting alternative to get Gazebo running on Windows, because it permits to have just the minimum amount of Gazebo-related code running under WSL, while the rest of the software can run on the actual Windows system, communicating with WSL-processes using regular network sockets. \r\n\r\nHowever, I noticed some WSL-specific problem in Gazebo, that I think it is worth reporting (even if most of them are actually WSL bugs).\r\n\r\n# Error setting socket option (IP_MULTICAST_IF)\r\nRelated WSL issue: https://github.com/Microsoft/BashOnWindows/issues/990 \r\n\r\n## Problem\r\nAll code using ignition-transport (including Gazebo 8 and 9) fails on the regular WSL with the following error:\r\n~~~\r\nError setting socket option (IP_MULTICAST_IF).\r\nError setting socket option (IP_MULTICAST_IF).\r\nDid you set the environment variable IGN_IP with a correct IP address?\r\n  [192.168.1.100] seems an invalid local IP address.\r\n  Using 127.0.0.1 as hostname.\r\nterminate called after throwing an instance of 'std::out_of_range'\r\n  what():  vector::_M_range_check: __n (which is 0) >= this->size() (which is 0)\r\nAborted (core dumped)\r\n~~~\r\nThis is due to the fact that the `IP_MULTICAST_IF` socket option is not supported in the released version of WSL, and support for it have been introduced only in Windows build `16176` ( https://github.com/Microsoft/BashOnWindows/issues/990 ) that is currently only available if you use the \"Insider\" version of Windows.\r\n\r\n## Possible solutions\r\nI am not an expert of the schedule of Windows update, but I think waiting for the fix to be released is the easiest option. People interested in running the latest version of Gazebo in the meanwhile can update to the \"Insider\" version of Windows.\r\n\r\n# clock_nanosleep with clockid CLOCK_REALTIME fails with error EINVAL\r\nRelated WSL issue: https://github.com/Microsoft/BashOnWindows/issues/2503\r\n\r\nRelated Gazebo issue: #!/osrf/gazebo/issues/2058/use-clock_monotonic-in-sleep-and-timer\r\n\r\n## Problem\r\nBoth the `gazebo::common::Time::Sleep(...)` and `ign::common::Time::Sleep(...)` methods use the system call `clock_nanosleep(CLOCK_REALTIME, ... )` to sleep the current thread. However, clock_nanosleep in WSL works only with the clock `CLOCK_MONOTONIC`.  I opened an issue for this on WSL issue tracker https://github.com/Microsoft/BashOnWindows/issues/2503 , but I don't it will be solved anytime soon. \r\n\r\n## Possible solutions\r\n~~One possible solution is to check if `clock_nanosleep(CLOCK_REALTIME, ...)` is supported during the Time class initialization, and switch otherwise to use `clock_nanosleep(CLOCK_MONOTONIC, ...)` . A more complicated possible solution is to migrate the Time classes to the new C++11 `<chrono>` functions, that seem to work fine also on WSL (even if I imagine that they are internally implemented using the `clock_nanosleep` system calls.~~\r\nApparently switching to `CLOCK_MONOTONIC` was already planned to avoid problems with system clock reset (see #!/osrf/gazebo/issues/2058/use-clock_monotonic-in-sleep-and-timer) so that would be the easier solution.", "markup": "markdown", "html": "<p>I recently discover that a few users of <code>gazebo-yarp-plugins</code> are using Gazebo on WSL (a.k.a. Ubuntu on Windows, <a href=\"https://msdn.microsoft.com/en-us/commandline/wsl/about\" rel=\"nofollow\" class=\"ap-connect-link\">https://msdn.microsoft.com/en-us/commandline/wsl/about</a> ). \nSee <a href=\"#!/osrf/gazebo_tutorials/pull-requests/364/tutorial-for-installing-on-ubuntu-on/diff\" rel=\"nofollow\" class=\"ap-connect-link\">#!/osrf/gazebo_tutorials/pull-requests/364/tutorial-for-installing-on-ubuntu-on/diff</a> for a tutorial on how to run Gazebo on WSL. </p>\n<p>For middleware that support Windows such as YARP, this is an interesting alternative to get Gazebo running on Windows, because it permits to have just the minimum amount of Gazebo-related code running under WSL, while the rest of the software can run on the actual Windows system, communicating with WSL-processes using regular network sockets. </p>\n<p>However, I noticed some WSL-specific problem in Gazebo, that I think it is worth reporting (even if most of them are actually WSL bugs).</p>\n<h1 id=\"markdown-header-error-setting-socket-option-ip_multicast_if\">Error setting socket option (IP_MULTICAST_IF)</h1>\n<p>Related WSL issue: <a href=\"https://github.com/Microsoft/BashOnWindows/issues/990\" rel=\"nofollow\" class=\"ap-connect-link\">https://github.com/Microsoft/BashOnWindows/issues/990</a> </p>\n<h2 id=\"markdown-header-problem\">Problem</h2>\n<p>All code using ignition-transport (including Gazebo 8 and 9) fails on the regular WSL with the following error:</p>\n<div class=\"codehilite\"><pre><span></span>Error setting socket option (IP_MULTICAST_IF).\nError setting socket option (IP_MULTICAST_IF).\nDid you set the environment variable IGN_IP with a correct IP address?\n  [192.168.1.100] seems an invalid local IP address.\n  Using 127.0.0.1 as hostname.\nterminate called after throwing an instance of &#39;std::out_of_range&#39;\n  what():  vector::_M_range_check: __n (which is 0) &gt;= this-&gt;size() (which is 0)\nAborted (core dumped)\n</pre></div>\n\n\n<p>This is due to the fact that the <code>IP_MULTICAST_IF</code> socket option is not supported in the released version of WSL, and support for it have been introduced only in Windows build <code>16176</code> ( <a href=\"https://github.com/Microsoft/BashOnWindows/issues/990\" rel=\"nofollow\" class=\"ap-connect-link\">https://github.com/Microsoft/BashOnWindows/issues/990</a> ) that is currently only available if you use the \"Insider\" version of Windows.</p>\n<h2 id=\"markdown-header-possible-solutions\">Possible solutions</h2>\n<p>I am not an expert of the schedule of Windows update, but I think waiting for the fix to be released is the easiest option. People interested in running the latest version of Gazebo in the meanwhile can update to the \"Insider\" version of Windows.</p>\n<h1 id=\"markdown-header-clock_nanosleep-with-clockid-clock_realtime-fails-with-error-einval\">clock_nanosleep with clockid CLOCK_REALTIME fails with error EINVAL</h1>\n<p>Related WSL issue: <a href=\"https://github.com/Microsoft/BashOnWindows/issues/2503\" rel=\"nofollow\" class=\"ap-connect-link\">https://github.com/Microsoft/BashOnWindows/issues/2503</a></p>\n<p>Related Gazebo issue: <a href=\"#!/osrf/gazebo/issues/2058/use-clock_monotonic-in-sleep-and-timer\" rel=\"nofollow\" class=\"ap-connect-link\">#!/osrf/gazebo/issues/2058/use-clock_monotonic-in-sleep-and-timer</a></p>\n<h2 id=\"markdown-header-problem_1\">Problem</h2>\n<p>Both the <code>gazebo::common::Time::Sleep(...)</code> and <code>ign::common::Time::Sleep(...)</code> methods use the system call <code>clock_nanosleep(CLOCK_REALTIME, ... )</code> to sleep the current thread. However, clock_nanosleep in WSL works only with the clock <code>CLOCK_MONOTONIC</code>.  I opened an issue for this on WSL issue tracker <a href=\"https://github.com/Microsoft/BashOnWindows/issues/2503\" rel=\"nofollow\" class=\"ap-connect-link\">https://github.com/Microsoft/BashOnWindows/issues/2503</a> , but I don't it will be solved anytime soon. </p>\n<h2 id=\"markdown-header-possible-solutions_1\">Possible solutions</h2>\n<p><del>One possible solution is to check if <code>clock_nanosleep(CLOCK_REALTIME, ...)</code> is supported during the Time class initialization, and switch otherwise to use <code>clock_nanosleep(CLOCK_MONOTONIC, ...)</code> . A more complicated possible solution is to migrate the Time classes to the new C++11 <code>&lt;chrono&gt;</code> functions, that seem to work fine also on WSL (even if I imagine that they are internally implemented using the <code>clock_nanosleep</code> system calls.</del>\nApparently switching to <code>CLOCK_MONOTONIC</code> was already planned to avoid problems with system clock reset (see <a href=\"#!/osrf/gazebo/issues/2058/use-clock_monotonic-in-sleep-and-timer\" rel=\"nofollow\" class=\"ap-connect-link\">#!/osrf/gazebo/issues/2058/use-clock_monotonic-in-sleep-and-timer</a>) so that would be the easier solution.</p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2017-09-23T15:53:28.862772+00:00", "milestone": null, "updated_on": "2020-02-28T08:39:11.768482+00:00", "type": "issue", "id": 2351}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2352/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2352.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2352/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2352/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2352/compilation-failed-with-ogre-110-on-arch"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2352/vote"}}, "reporter": {"display_name": "Jerry Lin", "uuid": "{2a34ef15-ff0e-46f7-8991-e234c653cf7b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2a34ef15-ff0e-46f7-8991-e234c653cf7b%7D"}, "html": {"href": "https://bitbucket.org/%7B2a34ef15-ff0e-46f7-8991-e234c653cf7b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/f4765aefcd3e023ea5582b65240e4e64d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJL-4.png"}}, "nickname": "jerry73204", "type": "user", "account_id": "557058:aa76ac90-e917-4cc6-84ac-9e69a89c29b0"}, "title": "Compilation failed with ogre 1.10 on Arch Linux", "component": null, "votes": 0, "watches": 1, "content": {"raw": "I tried to compile gazebo 8.0.0 with ogre 1.10 installed and got this error\r\n```\r\n/tmp/makepkg/gazebo/src/gazebo-8.0.0/gazebo/rendering/skyx/src/MeshManager.cpp: In constructor \u2018SkyX::MeshManager::MeshManager(SkyX::SkyX*)\u2019:\r\n/tmp/makepkg/gazebo/src/gazebo-8.0.0/gazebo/rendering/skyx/src/MeshManager.cpp:46:31: error: no matching function for call to \u2018Ogre::SharedPtr<Ogre::HardwareVertexBuffer>::SharedPtr(int)\u2019\r\n       , mMaterialName(\"_NULL_\")\r\n```\r\n\r\nBy checking with `make VERBOSE=1 -j1`, it shows the error is caused by this cmd.\r\n```\r\n#!sh\r\ncd /tmp/makepkg/gazebo/src/gazebo-8.0.0/build/gazebo/rendering && /usr/bin/c++  -DBUILDING_DLL -DBUILDING_DLL_GZ_RENDERING -DHAVE_OPENGL -DLIBBULLET_VERSION=0.0 -DSKYX_LIB -Dgazebo_rendering_EXPORTS -I/tmp/makepkg/gazebo/src/gazebo-8.0.0/test/gtest/include -I/tmp/makepkg/gazebo/src/gazebo-8.0.0 -I/tmp/makepkg/gazebo/src/gazebo-8.0.0/build -isystem /tmp/makepkg/gazebo/src/gazebo-8.0.0/gazebo/rendering/skyx -isystem /tmp/makepkg/gazebo/src/gazebo-8.0.0/gazebo/rendering/skyx/include -I/usr/include/libusb-1.0 -isystem /usr/include/ignition/msgs0 -isystem /usr/include/ignition/math3 -I/usr/include/ignition/transport3 -I/usr/include/uuid -isystem /usr/include/OGRE/RTShaderSystem -isystem /usr/include/OGRE -isystem /usr/include/OGRE/Terrain -isystem /usr/include/OGRE/Paging -isystem /usr/include/OGRE/Overlay -isystem /usr/include/sdformat-5.2  -march=x86-64 -mtune=generic -O2 -pipe -fstack-protector-strong -std=c++11  -Wall -Wextra -Wno-long-long -Wno-unused-value -Wfloat-equal -Wshadow -Wswitch-default -Wmissing-include-dirs -pedantic -fvisibility=hidden -fvisibility-inlines-hidden -std=c++11  -s -O3 -DNDEBUG -mssse3 -msse3 -mfpmath=sse -msse -msse2  -fPIC   -fPIC -std=c++11 -o CMakeFiles/gazebo_rendering.dir/skyx/src/MeshManager.cpp.o -c /tmp/makepkg/gazebo/src/gazebo-8.0.0/gazebo/rendering/skyx/src/MeshManager.cpp\r\n```\r\n\r\nThere is a patch in gazebo-ogre-1.10 on AUR. (Download tar.gz from \"Download snapshot\" link and ogre-1.10.patch is inside) This patch can resolve this issue.\r\n[https://aur.archlinux.org/packages/gazebo-ogre-1.10/](\r\nhttps://aur.archlinux.org/packages/gazebo-ogre-1.10/)", "markup": "markdown", "html": "<p>I tried to compile gazebo 8.0.0 with ogre 1.10 installed and got this error</p>\n<div class=\"codehilite\"><pre><span></span>/tmp/makepkg/gazebo/src/gazebo-8.0.0/gazebo/rendering/skyx/src/MeshManager.cpp: In constructor \u2018SkyX::MeshManager::MeshManager(SkyX::SkyX*)\u2019:\n/tmp/makepkg/gazebo/src/gazebo-8.0.0/gazebo/rendering/skyx/src/MeshManager.cpp:46:31: error: no matching function for call to \u2018Ogre::SharedPtr&lt;Ogre::HardwareVertexBuffer&gt;::SharedPtr(int)\u2019\n       , mMaterialName(&quot;_NULL_&quot;)\n</pre></div>\n\n\n<p>By checking with <code>make VERBOSE=1 -j1</code>, it shows the error is caused by this cmd.</p>\n<div class=\"codehilite language-sh\"><pre><span></span><span class=\"nb\">cd</span> /tmp/makepkg/gazebo/src/gazebo-8.0.0/build/gazebo/rendering <span class=\"o\">&amp;&amp;</span> /usr/bin/c++  -DBUILDING_DLL -DBUILDING_DLL_GZ_RENDERING -DHAVE_OPENGL -DLIBBULLET_VERSION<span class=\"o\">=</span><span class=\"m\">0</span>.0 -DSKYX_LIB -Dgazebo_rendering_EXPORTS -I/tmp/makepkg/gazebo/src/gazebo-8.0.0/test/gtest/include -I/tmp/makepkg/gazebo/src/gazebo-8.0.0 -I/tmp/makepkg/gazebo/src/gazebo-8.0.0/build -isystem /tmp/makepkg/gazebo/src/gazebo-8.0.0/gazebo/rendering/skyx -isystem /tmp/makepkg/gazebo/src/gazebo-8.0.0/gazebo/rendering/skyx/include -I/usr/include/libusb-1.0 -isystem /usr/include/ignition/msgs0 -isystem /usr/include/ignition/math3 -I/usr/include/ignition/transport3 -I/usr/include/uuid -isystem /usr/include/OGRE/RTShaderSystem -isystem /usr/include/OGRE -isystem /usr/include/OGRE/Terrain -isystem /usr/include/OGRE/Paging -isystem /usr/include/OGRE/Overlay -isystem /usr/include/sdformat-5.2  -march<span class=\"o\">=</span>x86-64 -mtune<span class=\"o\">=</span>generic -O2 -pipe -fstack-protector-strong -std<span class=\"o\">=</span>c++11  -Wall -Wextra -Wno-long-long -Wno-unused-value -Wfloat-equal -Wshadow -Wswitch-default -Wmissing-include-dirs -pedantic -fvisibility<span class=\"o\">=</span>hidden -fvisibility-inlines-hidden -std<span class=\"o\">=</span>c++11  -s -O3 -DNDEBUG -mssse3 -msse3 -mfpmath<span class=\"o\">=</span>sse -msse -msse2  -fPIC   -fPIC -std<span class=\"o\">=</span>c++11 -o CMakeFiles/gazebo_rendering.dir/skyx/src/MeshManager.cpp.o -c /tmp/makepkg/gazebo/src/gazebo-8.0.0/gazebo/rendering/skyx/src/MeshManager.cpp\n</pre></div>\n\n\n<p>There is a patch in gazebo-ogre-1.10 on AUR. (Download tar.gz from \"Download snapshot\" link and ogre-1.10.patch is inside) This patch can resolve this issue.\n<a data-is-external-link=\"true\" href=\"https://aur.archlinux.org/packages/gazebo-ogre-1.10/\" rel=\"nofollow\">https://aur.archlinux.org/packages/gazebo-ogre-1.10/</a></p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2017-09-24T08:32:45.699707+00:00", "milestone": null, "updated_on": "2017-09-25T02:08:05.949205+00:00", "type": "issue", "id": 2352}, {"priority": "minor", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2353/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2353.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2353/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2353/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2353/test-plugins-are-built-even-if-test"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2353/vote"}}, "reporter": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "title": "Test plugins are built even if test compilation is disabled (Gazebo 7)", "component": {"name": "testing", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/128164.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "On Gazebo <= 7, test compilation can be disabled by setting a cmake variable:\r\n\r\n`cmake .. -DENABLE_TESTS_COMPILATION=false`\r\n\r\nBut plugins under `test/plugins` are built anyway. We could add a check like [this](#!/osrf/gazebo/src/2c4ce8c3a38acaa6c214a0943e2cd28f6635a3a5/test/integration/CMakeLists.txt?at=gazebo7&fileviewer=file-view-default#CMakeLists.txt-123):\r\n\r\n`if (ENABLE_TESTS_COMPILATION)`\r\n\r\nIssueForNewDevelopers", "markup": "markdown", "html": "<p>On Gazebo &lt;= 7, test compilation can be disabled by setting a cmake variable:</p>\n<p><code>cmake .. -DENABLE_TESTS_COMPILATION=false</code></p>\n<p>But plugins under <code>test/plugins</code> are built anyway. We could add a check like <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/2c4ce8c3a38acaa6c214a0943e2cd28f6635a3a5/test/integration/CMakeLists.txt?at=gazebo7&amp;fileviewer=file-view-default#CMakeLists.txt-123\" rel=\"nofollow\">this</a>:</p>\n<p><code>if (ENABLE_TESTS_COMPILATION)</code></p>\n<p>IssueForNewDevelopers</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "7.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242744.json"}}}, "edited_on": null, "created_on": "2017-09-25T20:06:04.637251+00:00", "milestone": null, "updated_on": "2017-09-25T20:06:04.637251+00:00", "type": "issue", "id": 2353}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2354/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2354.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2354/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2354/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2354/clarification-of-return-type-of"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2354/vote"}}, "reporter": {"display_name": "Jordan Lack", "uuid": "{a47ca146-169c-4fcf-b59f-8410d9f676ff}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Ba47ca146-169c-4fcf-b59f-8410d9f676ff%7D"}, "html": {"href": "https://bitbucket.org/%7Ba47ca146-169c-4fcf-b59f-8410d9f676ff%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:82c7a832-85b7-45f4-86fc-e63688f35a2d/e5a6704f-a784-4c66-94ff-f7a9c914403a/128"}}, "nickname": "jordanlack", "type": "user", "account_id": "557058:82c7a832-85b7-45f4-86fc-e63688f35a2d"}, "title": "Clarification of return type of GetRelativeAngularVel()", "component": null, "votes": 0, "watches": 0, "content": {"raw": "Does anybody know if the return of `GetRelativeAngularVel()` returns the rate of change of the Euler angles or if the return is the instantaneous angular velocities of the body frame(like a gyro would return). The documentation for this is really poor and i've not been able to figure it out by going through the code. Thanks.", "markup": "markdown", "html": "<p>Does anybody know if the return of <code>GetRelativeAngularVel()</code> returns the rate of change of the Euler angles or if the return is the instantaneous angular velocities of the body frame(like a gyro would return). The documentation for this is really poor and i've not been able to figure it out by going through the code. Thanks.</p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2017-09-25T22:38:20.279055+00:00", "milestone": null, "updated_on": "2017-09-26T14:15:39.536404+00:00", "type": "issue", "id": 2354}, {"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2355/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2355.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2355/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2355/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2355/remove-spurious-warnings-on-startup-in"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2355/vote"}}, "reporter": {"display_name": "Piyush Khandelwal", "uuid": "{0aafe920-14b3-4b46-927d-421c6f4e90f2}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0aafe920-14b3-4b46-927d-421c6f4e90f2%7D"}, "html": {"href": "https://bitbucket.org/%7B0aafe920-14b3-4b46-927d-421c6f4e90f2%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4c0a1652789850a7953553e6d883eb06d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPK-1.png"}}, "nickname": "piyushk", "type": "user", "account_id": "557058:f6cfe420-cf98-45d4-b1ff-8a554ca13fd0"}, "title": "Remove spurious warnings on startup in verbose mode.", "component": {"name": "msgs", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122880.json"}}}, "votes": 0, "watches": 0, "content": {"raw": "As per this thread: https://bitbucket.org/osrf/srcsim/issues/68/gpu_ray-not-supported-with-nvidia-1050, gazebo prints spurious warnings of the form:\r\n```\r\n[Wrn] [msgs.cc:1655] Conversion of sensor type[gpu_ray] not suppported.\r\n[Wrn] [msgs.cc:1655] Conversion of sensor type[depth] not suppported.\r\n```\r\n\r\nThe sensors work exactly as expected. Would it be possible to get rid of these warnings?", "markup": "markdown", "html": "<p>As per this thread: <a href=\"https://bitbucket.org/osrf/srcsim/issues/68/gpu_ray-not-supported-with-nvidia-1050\" rel=\"nofollow\" class=\"ap-connect-link\">https://bitbucket.org/osrf/srcsim/issues/68/gpu_ray-not-supported-with-nvidia-1050</a>, gazebo prints spurious warnings of the form:</p>\n<div class=\"codehilite\"><pre><span></span>[Wrn] [msgs.cc:1655] Conversion of sensor type[gpu_ray] not suppported.\n[Wrn] [msgs.cc:1655] Conversion of sensor type[depth] not suppported.\n</pre></div>\n\n\n<p>The sensors work exactly as expected. Would it be possible to get rid of these warnings?</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2017-09-29T21:25:25.815236+00:00", "milestone": null, "updated_on": "2017-09-29T21:25:25.815236+00:00", "type": "issue", "id": 2355}, {"priority": "critical", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2356/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2356.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2356/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2356/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2356/build-with-boost-1580-error"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2356/vote"}}, "reporter": null, "title": "Build with boost 1.58.0 error", "component": null, "votes": 0, "watches": 2, "content": {"raw": "I built gazebo 7 from source  for  oculus  support.  But I got the following errors,\r\n```\r\nusr/include/boost/type_traits/detail/has_binary_operator.hp:50: Parse error at \"BOOST_JOIN\"\r\n```\r\n\r\nMy system configuration  is,\r\n```\r\nUbuntu 16.04\r\nROS version : kinetic\r\nQt :  Qt4: /usr/bin/qmake-qt4 (found version \"4.8.7\") \r\n```", "markup": "markdown", "html": "<p>I built gazebo 7 from source  for  oculus  support.  But I got the following errors,</p>\n<div class=\"codehilite\"><pre><span></span>usr/include/boost/type_traits/detail/has_binary_operator.hp:50: Parse error at &quot;BOOST_JOIN&quot;\n</pre></div>\n\n\n<p>My system configuration  is,</p>\n<div class=\"codehilite\"><pre><span></span>Ubuntu 16.04\nROS version : kinetic\nQt :  Qt4: /usr/bin/qmake-qt4 (found version &quot;4.8.7&quot;) \n</pre></div>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2017-10-07T04:08:03.651936+00:00", "milestone": null, "updated_on": "2017-10-18T17:23:11.711970+00:00", "type": "issue", "id": 2356}, {"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2357/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2357.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2357/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2357/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2357/hoop-red-initial-pose"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2357/vote"}}, "reporter": {"display_name": "Mohamd Ayman", "uuid": "{72e87935-5983-4f36-8505-0c88a6493930}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B72e87935-5983-4f36-8505-0c88a6493930%7D"}, "html": {"href": "https://bitbucket.org/%7B72e87935-5983-4f36-8505-0c88a6493930%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:53a1879d-b572-46c9-97d3-8fa52b2ff8a7/d5d765e0-f86b-4c0d-93ed-c67429f1f465/128"}}, "nickname": "Mohamd Ayman", "type": "user", "account_id": "557058:53a1879d-b572-46c9-97d3-8fa52b2ff8a7"}, "title": "hoop red initial pose.", "component": null, "votes": 0, "watches": 1, "content": {"raw": "The `hoop_red` model has a weird initial position when spawned, it is floating.\r\n\r\n![hoodred_floating.png](data/bitbucket.org/repo/jgXqbo/images/1793013796-hoodred_floating.png)\r\n\r\nIs this intended?", "markup": "markdown", "html": "<p>The <code>hoop_red</code> model has a weird initial position when spawned, it is floating.</p>\n<p><img alt=\"hoodred_floating.png\" src=\"data/bitbucket.org/repo/jgXqbo/images/1793013796-hoodred_floating.png\" /></p>\n<p>Is this intended?</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2017-10-08T01:58:54.609620+00:00", "milestone": null, "updated_on": "2017-10-09T14:27:55.688953+00:00", "type": "issue", "id": 2357}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2358/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2358.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2358/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2358/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2358/how-to-make-gazebo-which-was-recompiled"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2358/vote"}}, "reporter": {"display_name": "Jack Liu", "uuid": "{81945f98-d7ff-46f8-a856-bcfe6bcce018}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B81945f98-d7ff-46f8-a856-bcfe6bcce018%7D"}, "html": {"href": "https://bitbucket.org/%7B81945f98-d7ff-46f8-a856-bcfe6bcce018%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17e5b42085cfb1e0593692b4e30e9ed6d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJL-0.png"}}, "nickname": "jacknlliu", "type": "user", "account_id": "557058:4ff52431-cce6-42f3-bf55-fefe6d5678ce"}, "title": "How to make gazebo which was recompiled from source works with ROS-desktop-full", "component": null, "votes": 0, "watches": 1, "content": {"raw": "I recompiled gazebo from source for oculus support, but in this process, we should remove `*gazebo*` packages which will remove all ROS packages along with ubuntu package `ros-kinetic-desktop-full`.\r\n\r\nHow to make gazebo and ros works together again?", "markup": "markdown", "html": "<p>I recompiled gazebo from source for oculus support, but in this process, we should remove <code>*gazebo*</code> packages which will remove all ROS packages along with ubuntu package <code>ros-kinetic-desktop-full</code>.</p>\n<p>How to make gazebo and ros works together again?</p>", "type": "rendered"}, "assignee": null, "state": "invalid", "version": null, "edited_on": null, "created_on": "2017-10-08T06:09:56.258088+00:00", "milestone": null, "updated_on": "2017-10-09T14:23:32.465761+00:00", "type": "issue", "id": 2358}, {"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2359/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2359.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2359/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2359/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2359/minimum-cmake-version"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2359/vote"}}, "reporter": {"display_name": "Martin Pecka", "uuid": "{41691c43-4ae0-49ba-ba45-3c36439f5af2}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B41691c43-4ae0-49ba-ba45-3c36439f5af2%7D"}, "html": {"href": "https://bitbucket.org/%7B41691c43-4ae0-49ba-ba45-3c36439f5af2%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/d1ad32a09564f856909994613fdbc37cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMP-1.png"}}, "nickname": "peci1", "type": "user", "account_id": "557058:434ecab2-e510-4ede-8f9a-1c2a5a4032e1"}, "title": "Minimum CMake version?", "component": {"name": "build", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/132954.json"}}}, "votes": 0, "watches": 0, "content": {"raw": "In the `CMakesLists.txt` throughout the project, the minimum CMake version is said to be 2.8 .\r\n\r\nI'm testing gazebo8 branch on Ubuntu Trusty, which comes with CMake 3.2, and I have problems linking these integration tests: collada_visualization, insert_model, mouse_pick, visual_pose.\r\n\r\nThe linking error is always the same:\r\n\r\n```\r\nLinking CXX executable INTEGRATION_collada_visualization\r\nCMakeFiles/INTEGRATION_collada_visualization.dir/collada_visualization.cc.o: In function `QTestFixture::~QTestFixture()':\r\n/home/peci1/tradr-git/drivers/gazebo7-ws/src/gazebo/gazebo/gui/QTestFixture.hh:37: undefined reference to `vtable for QTestFixture'\r\nCMakeFiles/INTEGRATION_collada_visualization.dir/collada_visualization.cc.o: In function `ColladaVisualization::ColladaVisualization()':\r\n/home/peci1/tradr-git/drivers/gazebo7-ws/src/gazebo/test/integration/collada_visualization.hh:24: undefined reference to `vtable for ColladaVisualization'\r\nCMakeFiles/INTEGRATION_collada_visualization.dir/collada_visualization.cc.o: In function `ColladaVisualization::~ColladaVisualization()':\r\n/home/peci1/tradr-git/drivers/gazebo7-ws/src/gazebo/test/integration/collada_visualization.hh:24: undefined reference to `vtable for ColladaVisualization'\r\nCMakeFiles/INTEGRATION_collada_visualization.dir/__/__/gazebo/gui/QTestFixture.cc.o: In function `QTestFixture::QTestFixture()':\r\n/home/peci1/tradr-git/drivers/gazebo7-ws/src/gazebo/gazebo/gui/QTestFixture.cc:39: undefined reference to `vtable for QTestFixture'\r\ncollect2: error: ld returned 1 exit status\r\nmake[3]: *** [test/integration/INTEGRATION_collada_visualization] Error 1\r\n```\r\nAfter a while of googling, I think it is because automoc is not called on these files. But I don't know why. The automoc targets for these tests are not even generated by CMake.\r\n\r\nBut when I use CMake bundled with my IDE (CMake 3.9), the automoc/autogen targets are generated and I can successfully link these tests.\r\n\r\nI've noticed there were some changes regarding automoc in CMake 3.8 and 3.9. But the default version on Xenial is 3.5, and I assume building of the tests works fine on Xenial.\r\n\r\nSo maybe it's time to increase the minimum CMake version to at least 3.5?", "markup": "markdown", "html": "<p>In the <code>CMakesLists.txt</code> throughout the project, the minimum CMake version is said to be 2.8 .</p>\n<p>I'm testing gazebo8 branch on Ubuntu Trusty, which comes with CMake 3.2, and I have problems linking these integration tests: collada_visualization, insert_model, mouse_pick, visual_pose.</p>\n<p>The linking error is always the same:</p>\n<div class=\"codehilite\"><pre><span></span>Linking CXX executable INTEGRATION_collada_visualization\nCMakeFiles/INTEGRATION_collada_visualization.dir/collada_visualization.cc.o: In function `QTestFixture::~QTestFixture()&#39;:\n/home/peci1/tradr-git/drivers/gazebo7-ws/src/gazebo/gazebo/gui/QTestFixture.hh:37: undefined reference to `vtable for QTestFixture&#39;\nCMakeFiles/INTEGRATION_collada_visualization.dir/collada_visualization.cc.o: In function `ColladaVisualization::ColladaVisualization()&#39;:\n/home/peci1/tradr-git/drivers/gazebo7-ws/src/gazebo/test/integration/collada_visualization.hh:24: undefined reference to `vtable for ColladaVisualization&#39;\nCMakeFiles/INTEGRATION_collada_visualization.dir/collada_visualization.cc.o: In function `ColladaVisualization::~ColladaVisualization()&#39;:\n/home/peci1/tradr-git/drivers/gazebo7-ws/src/gazebo/test/integration/collada_visualization.hh:24: undefined reference to `vtable for ColladaVisualization&#39;\nCMakeFiles/INTEGRATION_collada_visualization.dir/__/__/gazebo/gui/QTestFixture.cc.o: In function `QTestFixture::QTestFixture()&#39;:\n/home/peci1/tradr-git/drivers/gazebo7-ws/src/gazebo/gazebo/gui/QTestFixture.cc:39: undefined reference to `vtable for QTestFixture&#39;\ncollect2: error: ld returned 1 exit status\nmake[3]: *** [test/integration/INTEGRATION_collada_visualization] Error 1\n</pre></div>\n\n\n<p>After a while of googling, I think it is because automoc is not called on these files. But I don't know why. The automoc targets for these tests are not even generated by CMake.</p>\n<p>But when I use CMake bundled with my IDE (CMake 3.9), the automoc/autogen targets are generated and I can successfully link these tests.</p>\n<p>I've noticed there were some changes regarding automoc in CMake 3.8 and 3.9. But the default version on Xenial is 3.5, and I assume building of the tests works fine on Xenial.</p>\n<p>So maybe it's time to increase the minimum CMake version to at least 3.5?</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "8.1", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/243455.json"}}}, "edited_on": null, "created_on": "2017-10-11T18:45:46.454262+00:00", "milestone": null, "updated_on": "2017-10-11T18:45:46.454262+00:00", "type": "issue", "id": 2359}, {"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2360/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2360.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2360/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2360/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2360/imu-sensor-orientation-convention"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2360/vote"}}, "reporter": {"display_name": "Jordan Lack", "uuid": "{a47ca146-169c-4fcf-b59f-8410d9f676ff}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Ba47ca146-169c-4fcf-b59f-8410d9f676ff%7D"}, "html": {"href": "https://bitbucket.org/%7Ba47ca146-169c-4fcf-b59f-8410d9f676ff%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:82c7a832-85b7-45f4-86fc-e63688f35a2d/e5a6704f-a784-4c66-94ff-f7a9c914403a/128"}}, "nickname": "jordanlack", "type": "user", "account_id": "557058:82c7a832-85b7-45f4-86fc-e63688f35a2d"}, "title": "IMU sensor orientation convention", "component": null, "votes": 0, "watches": 0, "content": {"raw": "The common convention with actual IMU sensors is the orientation given by the sensor is such that it rotates 3d vectors from the sensor frame to world frame. I'm wondering if Gazebo IMU's follow the same convention or if it might be the opposite?", "markup": "markdown", "html": "<p>The common convention with actual IMU sensors is the orientation given by the sensor is such that it rotates 3d vectors from the sensor frame to world frame. I'm wondering if Gazebo IMU's follow the same convention or if it might be the opposite?</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2017-10-12T13:59:13.102967+00:00", "milestone": null, "updated_on": "2017-10-12T14:23:13.225257+00:00", "type": "issue", "id": 2360}, {"priority": "major", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2361/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2361.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2361/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2361/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2361/3d-visualization-for-non-standard-cameras"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2361/vote"}}, "reporter": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "title": "3D visualization for non-standard cameras", "component": {"name": "rendering", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122881.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "While the standard `camera` sensor has 3D visualization, other types such as `wideanglecamera`, `multicamera` and `depth` don't.\r\n\r\nAlso see [this](http://answers.gazebosim.org/question/17519/how-to-display-the-view-of-camera-in-gazebo-window-not-in-another-window-like-the-tutorial/) question on Gazebo Answers.\r\n\r\nThe sensor visualizations are updated on [Scene::ProcessSensorMsg](#!/osrf/gazebo/src/85a2417b8ffcf8284812977cc630b859b083d1bc/gazebo/rendering/Scene.cc?fileviewer=file-view-default#Scene.cc-2057).\r\n\r\nIssueForNewDevelopers", "markup": "markdown", "html": "<p>While the standard <code>camera</code> sensor has 3D visualization, other types such as <code>wideanglecamera</code>, <code>multicamera</code> and <code>depth</code> don't.</p>\n<p>Also see <a data-is-external-link=\"true\" href=\"http://answers.gazebosim.org/question/17519/how-to-display-the-view-of-camera-in-gazebo-window-not-in-another-window-like-the-tutorial/\" rel=\"nofollow\">this</a> question on Gazebo Answers.</p>\n<p>The sensor visualizations are updated on <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/85a2417b8ffcf8284812977cc630b859b083d1bc/gazebo/rendering/Scene.cc?fileviewer=file-view-default#Scene.cc-2057\" rel=\"nofollow\">Scene::ProcessSensorMsg</a>.</p>\n<p>IssueForNewDevelopers</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "all", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/225575.json"}}}, "edited_on": null, "created_on": "2017-10-16T15:45:57.874060+00:00", "milestone": null, "updated_on": "2017-10-16T15:45:57.874060+00:00", "type": "issue", "id": 2361}, {"priority": "major", "kind": "proposal", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2362/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2362.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2362/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2362/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2362/flowchart-of-gazebo-initialization-and"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2362/vote"}}, "reporter": {"display_name": "daniel m", "uuid": "{9e38dcaa-1cad-4902-be94-142ceb352515}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9e38dcaa-1cad-4902-be94-142ceb352515%7D"}, "html": {"href": "https://bitbucket.org/%7B9e38dcaa-1cad-4902-be94-142ceb352515%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/141d5de72bf293ab85d5f5b757c97f4fd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsDM-4.png"}}, "nickname": "dmeltz1", "type": "user", "account_id": "557058:6f0f3bc9-2add-4c0b-b6d8-dc9aecdc573a"}, "title": "Flowchart of Gazebo initialization and iteration steps", "component": null, "votes": 0, "watches": 1, "content": {"raw": "Flowchart of Gazebo initialization and iteration steps does not exist yet, but will surely be very useful especially for people that are trying to figure out how things work\r\n\r\ni have asked about it in Gazebo Answers, [here](http://answers.gazebosim.org/question/17536/flowchart-of-gazebo-initialization-and-iteration-steps/)", "markup": "markdown", "html": "<p>Flowchart of Gazebo initialization and iteration steps does not exist yet, but will surely be very useful especially for people that are trying to figure out how things work</p>\n<p>i have asked about it in Gazebo Answers, <a data-is-external-link=\"true\" href=\"http://answers.gazebosim.org/question/17536/flowchart-of-gazebo-initialization-and-iteration-steps/\" rel=\"nofollow\">here</a></p>", "type": "rendered"}, "assignee": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "state": "new", "version": {"name": "all", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/225575.json"}}}, "edited_on": null, "created_on": "2017-10-19T16:02:03.384221+00:00", "milestone": null, "updated_on": "2017-11-27T06:34:52.229777+00:00", "type": "issue", "id": 2362}, {"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2363/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2363.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2363/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2363/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2363/linear-velocity_decay-not-included-in-link"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2363/vote"}}, "reporter": null, "title": "Linear velocity_decay not included in Link::GetWorldLinearAccel", "component": {"name": "physics", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122876.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "To model a quadrotor I used a linear velocity_decay on its main link as a simple drag model. However, when measuring the link's linear acceleration using GetWorldLinearAccel(), this velocity decay is not taken into account: the function returns a positive acceleration even when the model has reached its steady-state velocity. Is this the intended behavior (since the velocity_decay is not a force) or a bug?", "markup": "markdown", "html": "<p>To model a quadrotor I used a linear velocity_decay on its main link as a simple drag model. However, when measuring the link's linear acceleration using GetWorldLinearAccel(), this velocity decay is not taken into account: the function returns a positive acceleration even when the model has reached its steady-state velocity. Is this the intended behavior (since the velocity_decay is not a force) or a bug?</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "8.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242745.json"}}}, "edited_on": null, "created_on": "2017-10-20T10:15:40.206093+00:00", "milestone": null, "updated_on": "2017-10-24T08:00:08.717486+00:00", "type": "issue", "id": 2363}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2364/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2364.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2364/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2364/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2364/multiplependulumworldstep-test-fails"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2364/vote"}}, "reporter": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "title": "MultiplePendulumWorldStep test fails consistently on homebrew", "component": {"name": "os::osx", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/126618.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "The [MultiplePendulumWorldStep test](#!/osrf/gazebo/pull-requests/2775/parallelize-ode-physics-with-threaded/diff#Ltest/integration/speed_thread_islands.ccT160) added in pull request #2775 passes on Ubuntu but fails consistently on homebrew.", "markup": "markdown", "html": "<p>The <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/pull-requests/2775/parallelize-ode-physics-with-threaded/diff#Ltest/integration/speed_thread_islands.ccT160\" rel=\"nofollow\">MultiplePendulumWorldStep test</a> added in <a href=\"#!/osrf/gazebo/pull-requests/2775/parallelize-ode-physics-with-threaded\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #2775</a> passes on Ubuntu but fails consistently on homebrew.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2017-10-23T21:37:31.485257+00:00", "milestone": null, "updated_on": "2017-10-23T21:47:37.435170+00:00", "type": "issue", "id": 2364}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2365/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2365.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2365/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2365/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2365/shadows-does-not-take-the-trasparency-into"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2365/vote"}}, "reporter": {"display_name": "jaeyoonyoo", "uuid": "{7b50180f-b27e-46b7-ac05-3362971f3feb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B7b50180f-b27e-46b7-ac05-3362971f3feb%7D"}, "html": {"href": "https://bitbucket.org/%7B7b50180f-b27e-46b7-ac05-3362971f3feb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/f49e0fa1d1deb520913126376d3886ccd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJ-2.png"}}, "nickname": "jaeyoonyoo", "type": "user", "account_id": "557058:8f25c99f-ece0-4679-8c85-b47c77d1d618"}, "title": "Shadows does not take the trasparency into account", "component": {"name": "rendering", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122881.json"}}}, "votes": 0, "watches": 2, "content": {"raw": "To make some model such as tree in Blender, using transparency is useful. However, when import the dae model, the planes themselves are loaded well with appropriate transparency but the shadow does not reflect the transparency. Shadows look like the original mesh without transparency. How can I make shadow realistic?\r\n\r\nMore detail is here: http://answers.gazebosim.org/question/17588/gazebo-shadow-with-transparent-texture/", "markup": "markdown", "html": "<p>To make some model such as tree in Blender, using transparency is useful. However, when import the dae model, the planes themselves are loaded well with appropriate transparency but the shadow does not reflect the transparency. Shadows look like the original mesh without transparency. How can I make shadow realistic?</p>\n<p>More detail is here: <a href=\"http://answers.gazebosim.org/question/17588/gazebo-shadow-with-transparent-texture/\" rel=\"nofollow\" class=\"ap-connect-link\">http://answers.gazebosim.org/question/17588/gazebo-shadow-with-transparent-texture/</a></p>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "all", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/225575.json"}}}, "edited_on": null, "created_on": "2017-10-25T10:39:34.245947+00:00", "milestone": null, "updated_on": "2017-11-09T20:07:13.921842+00:00", "type": "issue", "id": 2365}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2366/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2366.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2366/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2366/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2366/error-using-depth-sensor-plugin-sensor-in"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2366/vote"}}, "reporter": null, "title": "Error using depth sensor plugin sensor in Gazebo 7 with ROS kinetic", "component": {"name": "plugins", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/332959.json"}}}, "votes": 0, "watches": null, "content": {"raw": "Hi all!\r\n\r\nI am using Ros kinetic, with Ubuntu 16.04. I am running Gazebo 7, trying to use the turtlebot demo (http://wiki.ros.org/turtlebot_gazebo). I ran the simulation using the following command: \r\n\r\n$ roslaunch turtlebot_gazebo turtlebot_world.launch\r\n\r\nSadly, the simulation crashes when I am try to read the rgbd sensor data... for example using image_view program. I got the following error:\r\n\r\ngzserver: /build/ogre-1.9-mqY1wq/ogre-1.9-1.9.0+dfsg1/OgreMain/src/OgreRenderSystem.cpp:546: virtual void Ogre::RenderSystem::setDepthBufferFor(Ogre::RenderTarget*): Assertion `bAttached && \"A new DepthBuffer for a RenderTarget was created, but after creation\" \"it says it's incompatible with that RT\"' failed.\r\nAborted (core dumped)\r\n[gazebo-2] process has died [pid 28958, exit code 134, cmd /opt/ros/kinetic/lib/gazebo_ros/gzserver -e ode /opt/ros/kinetic/share/turtlebot_gazebo/worlds/playground.world __name:=gazebo __log:=/home/jcacace/.ros/log/36b089ba-b996-11e7-b5cd-4ccc6a9b3c41/gazebo-2.log].\r\nlog file: /home/jcacace/.ros/log/36b089ba-b996-11e7-b5cd-4ccc6a9b3c41/gazebo-2*.log\r\n\r\nThank you!", "markup": "markdown", "html": "<p>Hi all!</p>\n<p>I am using Ros kinetic, with Ubuntu 16.04. I am running Gazebo 7, trying to use the turtlebot demo (<a href=\"http://wiki.ros.org/turtlebot_gazebo\" rel=\"nofollow\" class=\"ap-connect-link\">http://wiki.ros.org/turtlebot_gazebo</a>). I ran the simulation using the following command: </p>\n<p>$ roslaunch turtlebot_gazebo turtlebot_world.launch</p>\n<p>Sadly, the simulation crashes when I am try to read the rgbd sensor data... for example using image_view program. I got the following error:</p>\n<p>gzserver: /build/ogre-1.9-mqY1wq/ogre-1.9-1.9.0+dfsg1/OgreMain/src/OgreRenderSystem.cpp:546: virtual void Ogre::RenderSystem::setDepthBufferFor(Ogre::RenderTarget<em>): Assertion `bAttached &amp;&amp; \"A new DepthBuffer for a RenderTarget was created, but after creation\" \"it says it's incompatible with that RT\"' failed.\nAborted (core dumped)\n[gazebo-2] process has died [pid 28958, exit code 134, cmd /opt/ros/kinetic/lib/gazebo_ros/gzserver -e ode /opt/ros/kinetic/share/turtlebot_gazebo/worlds/playground.world <strong>name:=gazebo </strong>log:=/home/jcacace/.ros/log/36b089ba-b996-11e7-b5cd-4ccc6a9b3c41/gazebo-2.log].\nlog file: /home/jcacace/.ros/log/36b089ba-b996-11e7-b5cd-4ccc6a9b3c41/gazebo-2</em>.log</p>\n<p>Thank you!</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "7.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242744.json"}}}, "edited_on": null, "created_on": "2017-10-25T13:15:16.773949+00:00", "milestone": null, "updated_on": "2017-10-25T20:49:54.142499+00:00", "type": "issue", "id": 2366}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2367/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2367.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2367/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2367/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2367/physicsengines-factorytestclone-1-failing"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2367/vote"}}, "reporter": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "title": "PhysicsEngines/FactoryTest.Clone/1 failing on gazebo8 and default", "component": {"name": "physics::BulletPhysics", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122884.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "In `INTEGRATION_factory`, the `Clone` subtest for bullet has been failing on gazebo8 and default since pull request #2773 and pull request #2774 were merged.\r\n\r\n* https://build.osrfoundation.org/job/gazebo-ci-gazebo8-xenial-amd64-gpu-nvidia/lastCompletedBuild/testReport/(root)/PhysicsEngines_FactoryTest/Clone_1/\r\n* https://build.osrfoundation.org/job/gazebo-ci-default-xenial-amd64-gpu-nvidia/lastCompletedBuild/testReport/(root)/PhysicsEngines_FactoryTest/Clone_1/\r\n* https://build.osrfoundation.org/job/gazebo-ci-gazebo8-xenial-amd64-gpu-nvidia/45/\r\n* https://build.osrfoundation.org/job/gazebo-ci-default-xenial-amd64-gpu-nvidia/79/", "markup": "markdown", "html": "<p>In <code>INTEGRATION_factory</code>, the <code>Clone</code> subtest for bullet has been failing on gazebo8 and default since <a href=\"#!/osrf/gazebo/pull-requests/2773/merge-7-8\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #2773</a> and <a href=\"#!/osrf/gazebo/pull-requests/2774/merge-8-default\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #2774</a> were merged.</p>\n<ul>\n<li><a href=\"https://build.osrfoundation.org/job/gazebo-ci-gazebo8-xenial-amd64-gpu-nvidia/lastCompletedBuild/testReport/(root)/PhysicsEngines_FactoryTest/Clone_1/\" rel=\"nofollow\" class=\"ap-connect-link\">https://build.osrfoundation.org/job/gazebo-ci-gazebo8-xenial-amd64-gpu-nvidia/lastCompletedBuild/testReport/(root)/PhysicsEngines_FactoryTest/Clone_1/</a></li>\n<li><a href=\"https://build.osrfoundation.org/job/gazebo-ci-default-xenial-amd64-gpu-nvidia/lastCompletedBuild/testReport/(root)/PhysicsEngines_FactoryTest/Clone_1/\" rel=\"nofollow\" class=\"ap-connect-link\">https://build.osrfoundation.org/job/gazebo-ci-default-xenial-amd64-gpu-nvidia/lastCompletedBuild/testReport/(root)/PhysicsEngines_FactoryTest/Clone_1/</a></li>\n<li><a href=\"https://build.osrfoundation.org/job/gazebo-ci-gazebo8-xenial-amd64-gpu-nvidia/45/\" rel=\"nofollow\" class=\"ap-connect-link\">https://build.osrfoundation.org/job/gazebo-ci-gazebo8-xenial-amd64-gpu-nvidia/45/</a></li>\n<li><a href=\"https://build.osrfoundation.org/job/gazebo-ci-default-xenial-amd64-gpu-nvidia/79/\" rel=\"nofollow\" class=\"ap-connect-link\">https://build.osrfoundation.org/job/gazebo-ci-default-xenial-amd64-gpu-nvidia/79/</a></li>\n</ul>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2017-10-26T17:38:57.954984+00:00", "milestone": null, "updated_on": "2018-02-12T18:52:21.767522+00:00", "type": "issue", "id": 2367}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2368/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2368.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2368/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2368/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2368/camerasensorigntransportworldreset-failing"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2368/vote"}}, "reporter": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "title": "CameraSensorIgnTransport.WorldReset failing on default", "component": {"name": "sensors", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122877.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "In `INTEGRATION_camera_sensor_igntransport`, the `WorldReset` test has been failing since pull request #2781 was merged:\r\n\r\n* https://build.osrfoundation.org/job/gazebo-ci-default-homebrew-amd64/268/\r\n* https://build.osrfoundation.org/job/gazebo-ci-default-xenial-amd64-gpu-nvidia/83\r\n\r\nHere's an example of the console output:\r\n\r\n~~~\r\n497: [ RUN      ] CameraSensorIgnTransport.WorldReset\r\n497: [Msg] Waiting for master.\r\n497: [Msg] Connected to gazebo master @ http://127.0.0.1:11345\r\n497: [Msg] Publicized address: 172.17.0.4\r\n497: [Dbg] [ServerFixture.cc:209] ServerFixture load in 0.8 seconds, timeout after 600 seconds\r\n497: /var/lib/jenkins/workspace/gazebo-ci-default-xenial-amd64-gpu-nvidia/gazebo/test/integration/camera_sensor_igntransport.cc:102: Failure\r\n497: Expected: (imageCount) >= (kTotalImages), actual: 0 vs 20\r\n497: /var/lib/jenkins/workspace/gazebo-ci-default-xenial-amd64-gpu-nvidia/gazebo/test/integration/camera_sensor_igntransport.cc:104: Failure\r\n497: Expected: (dt.Double()) < (3.0), actual: 4.00951 vs 3\r\n497: [Dbg] [ServerFixture.cc:135] ServerFixture::Unload\r\n497: [  FAILED  ] CameraSensorIgnTransport.WorldReset (5069 ms)\r\n~~~\r\n\r\n* https://build.osrfoundation.org/job/gazebo-ci-default-xenial-amd64-gpu-nvidia/85/consoleFull\r\n* https://build.osrfoundation.org/job/gazebo-ci-default-xenial-amd64-gpu-nvidia/85/testReport/junit/(root)/CameraSensorIgnTransport/WorldReset/", "markup": "markdown", "html": "<p>In <code>INTEGRATION_camera_sensor_igntransport</code>, the <code>WorldReset</code> test has been failing since <a href=\"#!/osrf/gazebo/pull-requests/2781/replace-ignition-msgs-imagestamped-with\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #2781</a> was merged:</p>\n<ul>\n<li><a href=\"https://build.osrfoundation.org/job/gazebo-ci-default-homebrew-amd64/268/\" rel=\"nofollow\" class=\"ap-connect-link\">https://build.osrfoundation.org/job/gazebo-ci-default-homebrew-amd64/268/</a></li>\n<li><a href=\"https://build.osrfoundation.org/job/gazebo-ci-default-xenial-amd64-gpu-nvidia/83\" rel=\"nofollow\" class=\"ap-connect-link\">https://build.osrfoundation.org/job/gazebo-ci-default-xenial-amd64-gpu-nvidia/83</a></li>\n</ul>\n<p>Here's an example of the console output:</p>\n<div class=\"codehilite\"><pre><span></span>497: [ RUN      ] CameraSensorIgnTransport.WorldReset\n497: [Msg] Waiting for master.\n497: [Msg] Connected to gazebo master @ http://127.0.0.1:11345\n497: [Msg] Publicized address: 172.17.0.4\n497: [Dbg] [ServerFixture.cc:209] ServerFixture load in 0.8 seconds, timeout after 600 seconds\n497: /var/lib/jenkins/workspace/gazebo-ci-default-xenial-amd64-gpu-nvidia/gazebo/test/integration/camera_sensor_igntransport.cc:102: Failure\n497: Expected: (imageCount) &gt;= (kTotalImages), actual: 0 vs 20\n497: /var/lib/jenkins/workspace/gazebo-ci-default-xenial-amd64-gpu-nvidia/gazebo/test/integration/camera_sensor_igntransport.cc:104: Failure\n497: Expected: (dt.Double()) &lt; (3.0), actual: 4.00951 vs 3\n497: [Dbg] [ServerFixture.cc:135] ServerFixture::Unload\n497: [  FAILED  ] CameraSensorIgnTransport.WorldReset (5069 ms)\n</pre></div>\n\n\n<ul>\n<li><a href=\"https://build.osrfoundation.org/job/gazebo-ci-default-xenial-amd64-gpu-nvidia/85/consoleFull\" rel=\"nofollow\" class=\"ap-connect-link\">https://build.osrfoundation.org/job/gazebo-ci-default-xenial-amd64-gpu-nvidia/85/consoleFull</a></li>\n<li><a href=\"https://build.osrfoundation.org/job/gazebo-ci-default-xenial-amd64-gpu-nvidia/85/testReport/junit/(root)/CameraSensorIgnTransport/WorldReset/\" rel=\"nofollow\" class=\"ap-connect-link\">https://build.osrfoundation.org/job/gazebo-ci-default-xenial-amd64-gpu-nvidia/85/testReport/junit/(root)/CameraSensorIgnTransport/WorldReset/</a></li>\n</ul>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2017-10-27T17:21:36.926353+00:00", "milestone": null, "updated_on": "2017-10-27T17:21:36.926353+00:00", "type": "issue", "id": 2368}, {"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2369/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2369.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2369/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2369/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2369/collada-fails-to-find-texture-with-space"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2369/vote"}}, "reporter": {"display_name": "Shane Loretz", "uuid": "{656e3311-aad9-45a1-aaf7-b0ee0e84b287}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D"}, "html": {"href": "https://bitbucket.org/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:684383ab-ac95-4859-a350-4a6f41a94a22/c7a1ebf5-cade-4115-9f26-9d3facb776db/128"}}, "nickname": "Shane Loretz", "type": "user", "account_id": "557058:684383ab-ac95-4859-a350-4a6f41a94a22"}, "title": "Collada fails to find texture with space in file name", "component": null, "votes": 0, "watches": 1, "content": {"raw": "In gazebo 7 on ubuntu xenial a model with a collada mesh will not show a texture if it has a space in the filename. (Model attached)\r\n\r\nThe following lines appear running gazebo verbose.\r\n```\r\n[Err] [Material.cc:100] Unable to find texture[Material%20Ambient.png] in path[/other/dir/textured_mesh/meshes]\r\n[Err] [SystemPaths.cc:410] File or path does not exist[\"/other/dir/textured_mesh/meshes/../materials/textures/Material%20Ambient.png\"]\r\n[Err] [RenderEngine.cc:483] URI doesn't exist[/other/dir/textured_mesh/meshes/../materials/textures/Material%20Ambient.png]\r\n[Err] [Material.cc:100] Unable to find texture[Material%20Ambient.png] in path[/other/dir/textured_mesh/meshes]\r\n```\r\n\r\nIt looks like the loader did not convert the `%20` to a space. If I change it to an underscore the texture is correctly applied. The filename of a texture in a collada file is specified using the tag [<init_from>](https://www.khronos.org/files/collada_spec_1_4.pdf) which has the type [xs:anyURI](http://www.datypic.com/sc/xsd/t-xsd_anyURI.html) which requires characters like spaces escaped with a `%`. The code responsible for fetching a material will need to un-escape the filename before searching for it.", "markup": "markdown", "html": "<p>In gazebo 7 on ubuntu xenial a model with a collada mesh will not show a texture if it has a space in the filename. (Model attached)</p>\n<p>The following lines appear running gazebo verbose.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">[Err] [Material.cc:100] Unable to find texture[Material%20Ambient.png] in path[/other/dir/textured_mesh/meshes]</span>\n<span class=\"k\">[Err] [SystemPaths.cc:410] File or path does not exist[&quot;/other/dir/textured_mesh/meshes/../materials/textures/Material%20Ambient.png&quot;]</span>\n<span class=\"k\">[Err] [RenderEngine.cc:483] URI doesn&#39;t exist[/other/dir/textured_mesh/meshes/../materials/textures/Material%20Ambient.png]</span>\n<span class=\"k\">[Err] [Material.cc:100] Unable to find texture[Material%20Ambient.png] in path[/other/dir/textured_mesh/meshes]</span>\n</pre></div>\n\n\n<p>It looks like the loader did not convert the <code>%20</code> to a space. If I change it to an underscore the texture is correctly applied. The filename of a texture in a collada file is specified using the tag <a data-is-external-link=\"true\" href=\"https://www.khronos.org/files/collada_spec_1_4.pdf\" rel=\"nofollow\">&lt;init_from&gt;</a> which has the type <a data-is-external-link=\"true\" href=\"http://www.datypic.com/sc/xsd/t-xsd_anyURI.html\" rel=\"nofollow\">xs:anyURI</a> which requires characters like spaces escaped with a <code>%</code>. The code responsible for fetching a material will need to un-escape the filename before searching for it.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "7.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242744.json"}}}, "edited_on": null, "created_on": "2017-10-27T19:06:05.619561+00:00", "milestone": null, "updated_on": "2017-10-27T19:06:05.619561+00:00", "type": "issue", "id": 2369}, {"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2370/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2370.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2370/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2370/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2370/collada-with-concave-mesh-interpretted"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2370/vote"}}, "reporter": {"display_name": "Shane Loretz", "uuid": "{656e3311-aad9-45a1-aaf7-b0ee0e84b287}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D"}, "html": {"href": "https://bitbucket.org/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:684383ab-ac95-4859-a350-4a6f41a94a22/c7a1ebf5-cade-4115-9f26-9d3facb776db/128"}}, "nickname": "Shane Loretz", "type": "user", "account_id": "557058:684383ab-ac95-4859-a350-4a6f41a94a22"}, "title": "Collada with Concave Mesh interpretted incorrectly", "component": null, "votes": 0, "watches": 1, "content": {"raw": "I made a concave mesh in blender, exported it as a collada file. The top of the mesh in gazebo appears to have an edge between the wrong two vertices. It's not just a rendering issue; when used as a collision the mesh has the same issue.\r\n\r\n**Blender**\r\n\r\n![blender_concave_collada.gif](data/bitbucket.org/repo/jgXqbo/images/793504884-blender_concave_collada.gif)\r\n\r\n**Gazebo 7.8.1**\r\n\r\n![gazebo_concave_collada.gif](data/bitbucket.org/repo/jgXqbo/images/1616296265-gazebo_concave_collada.gif)\r\n\r\nThe model is attached", "markup": "markdown", "html": "<p>I made a concave mesh in blender, exported it as a collada file. The top of the mesh in gazebo appears to have an edge between the wrong two vertices. It's not just a rendering issue; when used as a collision the mesh has the same issue.</p>\n<p><strong>Blender</strong></p>\n<p><img alt=\"blender_concave_collada.gif\" src=\"data/bitbucket.org/repo/jgXqbo/images/793504884-blender_concave_collada.gif\" /></p>\n<p><strong>Gazebo 7.8.1</strong></p>\n<p><img alt=\"gazebo_concave_collada.gif\" src=\"data/bitbucket.org/repo/jgXqbo/images/1616296265-gazebo_concave_collada.gif\" /></p>\n<p>The model is attached</p>", "type": "rendered"}, "assignee": null, "state": "invalid", "version": {"name": "7.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242744.json"}}}, "edited_on": null, "created_on": "2017-10-27T19:21:22.091134+00:00", "milestone": null, "updated_on": "2017-10-27T20:39:00.698352+00:00", "type": "issue", "id": 2370}, {"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2371/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2371.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2371/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2371/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2371/line-of-center-of-mass-visual-for-iss-are"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2371/vote"}}, "reporter": {"display_name": "Mohamd Ayman", "uuid": "{72e87935-5983-4f36-8505-0c88a6493930}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B72e87935-5983-4f36-8505-0c88a6493930%7D"}, "html": {"href": "https://bitbucket.org/%7B72e87935-5983-4f36-8505-0c88a6493930%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:53a1879d-b572-46c9-97d3-8fa52b2ff8a7/d5d765e0-f86b-4c0d-93ed-c67429f1f465/128"}}, "nickname": "Mohamd Ayman", "type": "user", "account_id": "557058:53a1879d-b572-46c9-97d3-8fa52b2ff8a7"}, "title": "Line of center of mass visual for ISS are not intersecting.", "component": {"name": "rendering", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122881.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "![isshalf_com.png](data/bitbucket.org/repo/jgXqbo/images/538722078-isshalf_com.png)", "markup": "markdown", "html": "<p><img alt=\"isshalf_com.png\" src=\"data/bitbucket.org/repo/jgXqbo/images/538722078-isshalf_com.png\" /></p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2017-11-01T04:50:26.988014+00:00", "milestone": null, "updated_on": "2017-11-01T16:16:39.458414+00:00", "type": "issue", "id": 2371}, {"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2372/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2372.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2372/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2372/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2372/orbit-view-controller-movement-swapped-for"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2372/vote"}}, "reporter": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "title": "Orbit view controller movement swapped for X/Y hotkeys", "component": {"name": "rendering", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122881.json"}}}, "votes": 0, "watches": 3, "content": {"raw": "While panning the user camera, holding x / y / z can be used to constrain the movement to one of these axes.\r\n\r\nThe motion when holding Z seems to work consistently with the normal panning mode - the orbit target is translated in the same direction the mouse is being dragged.\r\n\r\nHowever, the motion with the X/Y hotkeys moves on the opposite direction.\r\n\r\nAxis | No key pressed | Key pressed\r\n-- | -- | --\r\nX | ![x.gif](data/bitbucket.org/repo/jgXqbo/images/3609909739-x.gif) | ![x_key.gif](data/bitbucket.org/repo/jgXqbo/images/882367768-x_key.gif)\r\nY | ![y_nokey.gif](data/bitbucket.org/repo/jgXqbo/images/3820968052-y_nokey.gif) | ![y_key.gif](data/bitbucket.org/repo/jgXqbo/images/1901135605-y_key.gif)\r\nZ | ![z_nokey.gif](data/bitbucket.org/repo/jgXqbo/images/178862421-z_nokey.gif) | ![z_key.gif](data/bitbucket.org/repo/jgXqbo/images/1522391899-z_key.gif)\r\n\r\n\r\nIssueForNewDevelopers", "markup": "markdown", "html": "<p>While panning the user camera, holding x / y / z can be used to constrain the movement to one of these axes.</p>\n<p>The motion when holding Z seems to work consistently with the normal panning mode - the orbit target is translated in the same direction the mouse is being dragged.</p>\n<p>However, the motion with the X/Y hotkeys moves on the opposite direction.</p>\n<table>\n<thead>\n<tr>\n<th>Axis</th>\n<th>No key pressed</th>\n<th>Key pressed</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>X</td>\n<td><img alt=\"x.gif\" src=\"data/bitbucket.org/repo/jgXqbo/images/3609909739-x.gif\" /></td>\n<td><img alt=\"x_key.gif\" src=\"data/bitbucket.org/repo/jgXqbo/images/882367768-x_key.gif\" /></td>\n</tr>\n<tr>\n<td>Y</td>\n<td><img alt=\"y_nokey.gif\" src=\"data/bitbucket.org/repo/jgXqbo/images/3820968052-y_nokey.gif\" /></td>\n<td><img alt=\"y_key.gif\" src=\"data/bitbucket.org/repo/jgXqbo/images/1901135605-y_key.gif\" /></td>\n</tr>\n<tr>\n<td>Z</td>\n<td><img alt=\"z_nokey.gif\" src=\"data/bitbucket.org/repo/jgXqbo/images/178862421-z_nokey.gif\" /></td>\n<td><img alt=\"z_key.gif\" src=\"data/bitbucket.org/repo/jgXqbo/images/1522391899-z_key.gif\" /></td>\n</tr>\n</tbody>\n</table>\n<p>IssueForNewDevelopers</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "all", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/225575.json"}}}, "edited_on": null, "created_on": "2017-11-03T21:06:30.507932+00:00", "milestone": null, "updated_on": "2018-03-21T21:30:13.435596+00:00", "type": "issue", "id": 2372}, {"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2373/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2373.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2373/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2373/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2373/unit_renderinglight_test-fails-with-ogre"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2373/vote"}}, "reporter": {"display_name": "Tim Rakowski", "uuid": "{568e53a4-2b97-42ea-929e-038af8b7825e}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B568e53a4-2b97-42ea-929e-038af8b7825e%7D"}, "html": {"href": "https://bitbucket.org/%7B568e53a4-2b97-42ea-929e-038af8b7825e%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/83d3799cfee56e3c3195419ca9fd5d06d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsTR-2.png"}}, "nickname": "Tim Rakowski", "type": "user", "account_id": "557058:34f593f6-84fc-4797-8028-c8e3412b0993"}, "title": "UNIT_RenderingLight_TEST fails with Ogre 1.10", "component": {"name": "rendering", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122881.json"}}}, "votes": 0, "watches": 0, "content": {"raw": "gazebo/rendering/RenderingLight_TEST.cc, \"CastShadows\" fails on the second call to rendering::Light::LoadFromMsg:\r\n\r\nItemIdentityException: Resource with the name `__default___seletion_MATERIAL_Gazebo/White` already exists. in ResourceManager::add at /build/ogre/src/ogre/OgreMain/src/OgreResourceManager.cpp (line 156)\r\n\r\n```\r\n#!\r\n#1  0x00007ffff6b29ab5 in Ogre::ResourceManager::addImpl(Ogre::SharedPtr<Ogre::Resource>&) () from /usr/lib/libOgreMain.so.1.10.8\r\n#2  0x00007ffff6b27259 in Ogre::ResourceManager::createResource(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, bool, Ogre::ManualResourceLoader*, std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const*) () from /usr/lib/libOgreMain.so.1.10.8\r\n#3  0x00007ffff6a45bfd in Ogre::MaterialManager::create(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, bool, Ogre::ManualResourceLoader*, std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const*) () from /usr/lib/libOgreMain.so.1.10.8\r\n#4  0x00007ffff6a42d12 in Ogre::Material::clone(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, bool, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) const () from /usr/lib/libOgreMain.so.1.10.8\r\n#5  0x00007ffff73d346f in gazebo::rendering::Visual::AttachObject(Ogre::MovableObject*) () from /home/racko/aur/gazebo/src/gazebo-8.1.1/build/gazebo/rendering/libgazebo_rendering.so.8\r\n#6  0x00007ffff73df573 in gazebo::rendering::Visual::AttachMesh(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, bool, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) () from /home/racko/aur/gazebo/src/gazebo-8.1.1/build/gazebo/rendering/libgazebo_rendering.so.8\r\n#7  0x00007ffff735bbaa in gazebo::rendering::Light::CreateVisual() () from /home/racko/aur/gazebo/src/gazebo-8.1.1/build/gazebo/rendering/libgazebo_rendering.so.8\r\n#8  0x00007ffff735ef32 in gazebo::rendering::Light::Load() () from /home/racko/aur/gazebo/src/gazebo-8.1.1/build/gazebo/rendering/libgazebo_rendering.so.8\r\n#9  0x00007ffff735f83b in gazebo::rendering::Light::LoadFromMsg(gazebo::msgs::Light const&) () from /home/racko/aur/gazebo/src/gazebo-8.1.1/build/gazebo/rendering/libgazebo_rendering.so.8\r\n\r\n```\r\n\r\n../gazebo/rendering/Visual.cc:634 gazebo::rendering::Visual::AttachObject (frame 5) has the following comment:\r\n\r\n`// update to use unique materials`\r\n\r\nCould this be the problem?\r\n\r\nI don't know enough about gazebo or ogre to fix this. I just stumbled upon this by accident :)", "markup": "markdown", "html": "<p>gazebo/rendering/RenderingLight_TEST.cc, \"CastShadows\" fails on the second call to rendering::Light::LoadFromMsg:</p>\n<p>ItemIdentityException: Resource with the name <code>__default___seletion_MATERIAL_Gazebo/White</code> already exists. in ResourceManager::add at /build/ogre/src/ogre/OgreMain/src/OgreResourceManager.cpp (line 156)</p>\n<div class=\"codehilite\"><pre><span></span>#1  0x00007ffff6b29ab5 in Ogre::ResourceManager::addImpl(Ogre::SharedPtr&lt;Ogre::Resource&gt;&amp;) () from /usr/lib/libOgreMain.so.1.10.8\n#2  0x00007ffff6b27259 in Ogre::ResourceManager::createResource(std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;, std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;, bool, Ogre::ManualResourceLoader*, std::map&lt;std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;, std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;, std::less&lt;std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; &gt;, std::allocator&lt;std::pair&lt;std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const, std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; &gt; &gt; &gt; const*) () from /usr/lib/libOgreMain.so.1.10.8\n#3  0x00007ffff6a45bfd in Ogre::MaterialManager::create(std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;, std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;, bool, Ogre::ManualResourceLoader*, std::map&lt;std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;, std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;, std::less&lt;std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; &gt;, std::allocator&lt;std::pair&lt;std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const, std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; &gt; &gt; &gt; const*) () from /usr/lib/libOgreMain.so.1.10.8\n#4  0x00007ffff6a42d12 in Ogre::Material::clone(std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;, bool, std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;) const () from /usr/lib/libOgreMain.so.1.10.8\n#5  0x00007ffff73d346f in gazebo::rendering::Visual::AttachObject(Ogre::MovableObject*) () from /home/racko/aur/gazebo/src/gazebo-8.1.1/build/gazebo/rendering/libgazebo_rendering.so.8\n#6  0x00007ffff73df573 in gazebo::rendering::Visual::AttachMesh(std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;, std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;, bool, std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;) () from /home/racko/aur/gazebo/src/gazebo-8.1.1/build/gazebo/rendering/libgazebo_rendering.so.8\n#7  0x00007ffff735bbaa in gazebo::rendering::Light::CreateVisual() () from /home/racko/aur/gazebo/src/gazebo-8.1.1/build/gazebo/rendering/libgazebo_rendering.so.8\n#8  0x00007ffff735ef32 in gazebo::rendering::Light::Load() () from /home/racko/aur/gazebo/src/gazebo-8.1.1/build/gazebo/rendering/libgazebo_rendering.so.8\n#9  0x00007ffff735f83b in gazebo::rendering::Light::LoadFromMsg(gazebo::msgs::Light const&amp;) () from /home/racko/aur/gazebo/src/gazebo-8.1.1/build/gazebo/rendering/libgazebo_rendering.so.8\n</pre></div>\n\n\n<p>../gazebo/rendering/Visual.cc:634 gazebo::rendering::Visual::AttachObject (frame 5) has the following comment:</p>\n<p><code>// update to use unique materials</code></p>\n<p>Could this be the problem?</p>\n<p>I don't know enough about gazebo or ogre to fix this. I just stumbled upon this by accident :)</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "8.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242745.json"}}}, "edited_on": null, "created_on": "2017-11-04T14:51:41.913830+00:00", "milestone": null, "updated_on": "2017-11-04T14:52:19.107488+00:00", "type": "issue", "id": 2373}, {"priority": "trivial", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2374/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2374.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2374/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2374/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2374/how-to-get-the-joint-axis-in-body-frame"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2374/vote"}}, "reporter": null, "title": "How to get the joint axis in body frame?", "component": null, "votes": 0, "watches": 1, "content": {"raw": "For example if I have a single revolute joint that, in the urdf, I have '<axis>0 0 1</axis>` I would like a function like, GetJointAxis() or something that returns a Vector3 that is just (0.,0.,1.). I feel like this should already be doable but can't figure it out from the given API.", "markup": "markdown", "html": "<p>For example if I have a single revolute joint that, in the urdf, I have '&lt;axis&gt;0 0 1&lt;/axis&gt;` I would like a function like, GetJointAxis() or something that returns a Vector3 that is just (0.,0.,1.). I feel like this should already be doable but can't figure it out from the given API.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2017-11-07T16:00:55.460041+00:00", "milestone": null, "updated_on": "2017-11-11T16:57:47.360899+00:00", "type": "issue", "id": 2374}, {"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2375/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2375.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2375/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2375/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2375/camera-fps-view-control-backing-up-changes"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2375/vote"}}, "reporter": {"display_name": "Shane Loretz", "uuid": "{656e3311-aad9-45a1-aaf7-b0ee0e84b287}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D"}, "html": {"href": "https://bitbucket.org/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:684383ab-ac95-4859-a350-4a6f41a94a22/c7a1ebf5-cade-4115-9f26-9d3facb776db/128"}}, "nickname": "Shane Loretz", "type": "user", "account_id": "557058:684383ab-ac95-4859-a350-4a6f41a94a22"}, "title": "Camera \"FPS View Control\" backing up changes to the Scale tool", "component": {"name": "gui", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122878.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "Observed in gazebo 7.8.1 and default, so it's probably in gazebo 8 too.\r\n\r\nFPS View Control uses the keys `w`, `a`, `s`, and `d` to control the camera. The `s` key is also a shortcut to the scale tool. Moving the camera backwards cause the scale tool to be selected at the same time, which can result in some accidental scaling.", "markup": "markdown", "html": "<p>Observed in gazebo 7.8.1 and default, so it's probably in gazebo 8 too.</p>\n<p>FPS View Control uses the keys <code>w</code>, <code>a</code>, <code>s</code>, and <code>d</code> to control the camera. The <code>s</code> key is also a shortcut to the scale tool. Moving the camera backwards cause the scale tool to be selected at the same time, which can result in some accidental scaling.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "7.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242744.json"}}}, "edited_on": null, "created_on": "2017-11-09T22:54:37.781871+00:00", "milestone": null, "updated_on": "2017-11-09T22:54:37.781871+00:00", "type": "issue", "id": 2375}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2376/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2376.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2376/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2376/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2376/cannot-edit-nested-models"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2376/vote"}}, "reporter": {"display_name": "Shane Loretz", "uuid": "{656e3311-aad9-45a1-aaf7-b0ee0e84b287}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D"}, "html": {"href": "https://bitbucket.org/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:684383ab-ac95-4859-a350-4a6f41a94a22/c7a1ebf5-cade-4115-9f26-9d3facb776db/128"}}, "nickname": "Shane Loretz", "type": "user", "account_id": "557058:684383ab-ac95-4859-a350-4a6f41a94a22"}, "title": "Cannot edit nested models", "component": {"name": "gui::ModelEditor", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/222472.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "Seen in gazebo 7.8.1\r\n\r\nThe model editor does not allow editing nested models. Attempting to edit the nested model opens up the editor on the parent model instead.\r\n\r\nTo reproduce\r\n\r\n* `gazebo --verbose src/gazebo/worlds/nested_model_detailed.world`\r\n* In the left panel right click `model_0::model_1` and click `Edit Model`\r\n    * The model editor will appear, but the model `model_0` is being edited instead. The nested model joint cannot be seen.", "markup": "markdown", "html": "<p>Seen in gazebo 7.8.1</p>\n<p>The model editor does not allow editing nested models. Attempting to edit the nested model opens up the editor on the parent model instead.</p>\n<p>To reproduce</p>\n<ul>\n<li><code>gazebo --verbose src/gazebo/worlds/nested_model_detailed.world</code></li>\n<li>In the left panel right click <code>model_0::model_1</code> and click <code>Edit Model</code><ul>\n<li>The model editor will appear, but the model <code>model_0</code> is being edited instead. The nested model joint cannot be seen.</li>\n</ul>\n</li>\n</ul>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "7.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242744.json"}}}, "edited_on": null, "created_on": "2017-11-09T23:46:45.342073+00:00", "milestone": null, "updated_on": "2017-11-10T00:02:20.412527+00:00", "type": "issue", "id": 2376}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2377/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2377.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2377/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2377/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2377/segfault-in-gazebo-gui-modellistwidgetcc"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2377/vote"}}, "reporter": null, "title": "Segfault in gazebo/gui/ModelListWidget.cc when right-clicking an empty left panel", "component": {"name": "gui", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122878.json"}}}, "votes": 0, "watches": null, "content": {"raw": "I ran into this using Gazebo 7, but looking at the code there isn't anything significantly different between the source for the version I have and what's on git. The problem, specifically, seems to be that in [gazebo/gui/ModelListWidget.cc:656](#!/osrf/gazebo/src/72a532821519f3ad0d7a8191e4832510bc349854/gazebo/gui/ModelListWidget.cc?at=default&fileviewer=file-view-default#ModelListWidget.cc-656) that itemAt is returning NULL, which blows up in [gazebo/gui/ModelListWidget.cc:678](#!/osrf/gazebo/src/72a532821519f3ad0d7a8191e4832510bc349854/gazebo/gui/ModelListWidget.cc?at=default&fileviewer=file-view-default#ModelListWidget.cc-678), where that item variable isn't checked for NULL before use.", "markup": "markdown", "html": "<p>I ran into this using Gazebo 7, but looking at the code there isn't anything significantly different between the source for the version I have and what's on git. The problem, specifically, seems to be that in <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/72a532821519f3ad0d7a8191e4832510bc349854/gazebo/gui/ModelListWidget.cc?at=default&amp;fileviewer=file-view-default#ModelListWidget.cc-656\" rel=\"nofollow\">gazebo/gui/ModelListWidget.cc:656</a> that itemAt is returning NULL, which blows up in <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/72a532821519f3ad0d7a8191e4832510bc349854/gazebo/gui/ModelListWidget.cc?at=default&amp;fileviewer=file-view-default#ModelListWidget.cc-678\" rel=\"nofollow\">gazebo/gui/ModelListWidget.cc:678</a>, where that item variable isn't checked for NULL before use.</p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": {"name": "7.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242744.json"}}}, "edited_on": null, "created_on": "2017-11-10T01:32:31.536454+00:00", "milestone": null, "updated_on": "2017-11-13T19:59:31.903268+00:00", "type": "issue", "id": 2377}, {"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2378/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2378.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2378/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2378/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2378/issue-with-cameracc"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2378/vote"}}, "reporter": null, "title": "issue with Camera.cc", "component": null, "votes": 0, "watches": null, "content": {"raw": "/home/hrostrog/Documents/NRP/gazebo/gazebo/rendering/Camera.cc: In member function \u2018void gazebo::rendering::Camera::SetFSAA(int)\u2019:\r\n/home/hrostrog/Documents/NRP/gazebo/gazebo/rendering/Camera.cc:2251:41: warning: \u2018std::__cxx11::string gazebo::rendering::Camera::GetName() const\u2019 is deprecated [-Wdeprecated-declarations]\r\n     gzdbg << \"Camera \" << this->GetName() << \": Set FSAA = \" << this->dataPtr->fsaa <<\r\n                                         ^\r\n/home/hrostrog/Documents/NRP/gazebo/gazebo/rendering/Camera.cc:1209:13: note: declared here\r\n std::string Camera::GetName() const\r\n             ^\r\nc++: internal compiler error: Killed (program cc1plus)\r\nPlease submit a full bug report,\r\nwith preprocessed source if appropriate.\r\nSee <file:///usr/share/doc/gcc-5/README.Bugs> for instructions.\r\ngazebo/rendering/CMakeFiles/gazebo_rendering.dir/build.make:134: recipe for target 'gazebo/rendering/CMakeFiles/gazebo_rendering.dir/Camera.cc.o' failed\r\nmake[2]: *** [gazebo/rendering/CMakeFiles/gazebo_rendering.dir/Camera.cc.o] Error 4\r\nCMakeFiles/Makefile2:1064: recipe for target 'gazebo/rendering/CMakeFiles/gazebo_rendering.dir/all' failed\r\nmake[1]: *** [gazebo/rendering/CMakeFiles/gazebo_rendering.dir/all] Error 2\r\nMakefile:160: recipe for target 'all' failed\r\nmake: *** [all] Error 2", "markup": "markdown", "html": "<p>/home/hrostrog/Documents/NRP/gazebo/gazebo/rendering/Camera.cc: In member function \u2018void gazebo::rendering::Camera::SetFSAA(int)\u2019:\n/home/hrostrog/Documents/NRP/gazebo/gazebo/rendering/Camera.cc:2251:41: warning: \u2018std::__cxx11::string gazebo::rendering::Camera::GetName() const\u2019 is deprecated [-Wdeprecated-declarations]\n     gzdbg &lt;&lt; \"Camera \" &lt;&lt; this-&gt;GetName() &lt;&lt; \": Set FSAA = \" &lt;&lt; this-&gt;dataPtr-&gt;fsaa &lt;&lt;\n                                         ^\n/home/hrostrog/Documents/NRP/gazebo/gazebo/rendering/Camera.cc:1209:13: note: declared here\n std::string Camera::GetName() const\n             ^\nc++: internal compiler error: Killed (program cc1plus)\nPlease submit a full bug report,\nwith preprocessed source if appropriate.\nSee &lt;file:///usr/share/doc/gcc-5/README.Bugs&gt; for instructions.\ngazebo/rendering/CMakeFiles/gazebo_rendering.dir/build.make:134: recipe for target 'gazebo/rendering/CMakeFiles/gazebo_rendering.dir/Camera.cc.o' failed\nmake[2]: <strong><em> [gazebo/rendering/CMakeFiles/gazebo_rendering.dir/Camera.cc.o] Error 4\nCMakeFiles/Makefile2:1064: recipe for target 'gazebo/rendering/CMakeFiles/gazebo_rendering.dir/all' failed\nmake[1]: </em></strong> [gazebo/rendering/CMakeFiles/gazebo_rendering.dir/all] Error 2\nMakefile:160: recipe for target 'all' failed\nmake: *** [all] Error 2</p>", "type": "rendered"}, "assignee": null, "state": "invalid", "version": null, "edited_on": null, "created_on": "2017-11-16T10:36:55.877473+00:00", "milestone": null, "updated_on": "2017-11-16T15:57:10.254766+00:00", "type": "issue", "id": 2378}, {"priority": "critical", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2379/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2379.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2379/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2379/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2379/issue-with-libraries-requirements"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2379/vote"}}, "reporter": {"display_name": "Jonathan Lopes Flor\u00eancio", "uuid": "{662dc635-55a1-4e32-8ce0-bc405fbca604}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B662dc635-55a1-4e32-8ce0-bc405fbca604%7D"}, "html": {"href": "https://bitbucket.org/%7B662dc635-55a1-4e32-8ce0-bc405fbca604%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/c3303d049bffe9134d7dcbc1f74b7669d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJF-5.png"}}, "nickname": "reddylopes", "type": "user", "account_id": "5a16afd64e4af91417f1729a"}, "title": "Issue with libraries requirements", "component": null, "votes": 0, "watches": 0, "content": {"raw": "Hello.\r\n\r\nI'm using a Ubuntu 16.04 Xenial and have installed ros-kinetic-ros-base only, without any GUI.\r\nWhen installing Gazebo 7.0 via [this tutorial](http://gazebosim.org/tutorials?tut=install_ubuntu&ver=7.0), I am not able to open it via console.\r\nWhen typing gazebo in the console, the following message appears:\r\n\r\n```\r\n#!bash\r\ngzserver: error while loading shared libraries: libgazebo.so.9: cannot open shared object file: No such file or directory\r\n```", "markup": "markdown", "html": "<p>Hello.</p>\n<p>I'm using a Ubuntu 16.04 Xenial and have installed ros-kinetic-ros-base only, without any GUI.\nWhen installing Gazebo 7.0 via <a data-is-external-link=\"true\" href=\"http://gazebosim.org/tutorials?tut=install_ubuntu&amp;ver=7.0\" rel=\"nofollow\">this tutorial</a>, I am not able to open it via console.\nWhen typing gazebo in the console, the following message appears:</p>\n<div class=\"codehilite language-bash\"><pre><span></span>gzserver: error <span class=\"k\">while</span> loading shared libraries: libgazebo.so.9: cannot open shared object file: No such file or directory\n</pre></div>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "7.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242744.json"}}}, "edited_on": null, "created_on": "2017-11-23T11:32:56.566535+00:00", "milestone": null, "updated_on": "2017-11-23T11:55:14.853636+00:00", "type": "issue", "id": 2379}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2380/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2380.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2380/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2380/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2380/should-not-crash-when-trying-to-load"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2380/vote"}}, "reporter": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "title": "Should not crash when trying to load unsupported mesh files", "component": {"name": "rendering", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122881.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "See [this](http://answers.gazebosim.org/question/18014/gazebo-7-ambulance-model-and-other-invalid-mesh-filename-extension-crash/) question about trying to load OBJ on Gazebo < 7.4", "markup": "markdown", "html": "<p>See <a data-is-external-link=\"true\" href=\"http://answers.gazebosim.org/question/18014/gazebo-7-ambulance-model-and-other-invalid-mesh-filename-extension-crash/\" rel=\"nofollow\">this</a> question about trying to load OBJ on Gazebo &lt; 7.4</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2017-12-04T16:45:36.379909+00:00", "milestone": null, "updated_on": "2017-12-05T02:53:04.343935+00:00", "type": "issue", "id": 2380}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2381/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2381.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2381/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2381/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2381/gpu_ray-doesnt-publish-data-when-running"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2381/vote"}}, "reporter": {"display_name": "michele Hallak-Stamler", "uuid": "{20f1565f-db07-4f5f-8819-c9605981435d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20f1565f-db07-4f5f-8819-c9605981435d%7D"}, "html": {"href": "https://bitbucket.org/%7B20f1565f-db07-4f5f-8819-c9605981435d%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/3a0e86f695117f506df906556b6ee57ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMH-5.png"}}, "nickname": "mhallakstamler", "type": "user", "account_id": "557058:6bbe240b-05f9-4c73-9000-3cccd50d2454"}, "title": "GPU_RAY doesn't publish data when running only gzserver", "component": null, "votes": 0, "watches": 0, "content": {"raw": "If we run only gzserver, sensors of type gpu_ray don't publish data.\r\n\r\nWorse, if we just set the tag <visualize> to false, there is no data either.", "markup": "markdown", "html": "<p>If we run only gzserver, sensors of type gpu_ray don't publish data.</p>\n<p>Worse, if we just set the tag &lt;visualize&gt; to false, there is no data either.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "8.1", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/243455.json"}}}, "edited_on": null, "created_on": "2017-12-06T15:59:20.861586+00:00", "milestone": null, "updated_on": "2017-12-06T16:04:29.775984+00:00", "type": "issue", "id": 2381}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2382/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2382.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2382/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2382/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2382/sensors-failed-to-initialize-when-loading"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2382/vote"}}, "reporter": {"display_name": "Piyush Khandelwal", "uuid": "{0aafe920-14b3-4b46-927d-421c6f4e90f2}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0aafe920-14b3-4b46-927d-421c6f4e90f2%7D"}, "html": {"href": "https://bitbucket.org/%7B0aafe920-14b3-4b46-927d-421c6f4e90f2%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4c0a1652789850a7953553e6d883eb06d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPK-1.png"}}, "nickname": "piyushk", "type": "user", "account_id": "557058:f6cfe420-cf98-45d4-b1ff-8a554ca13fd0"}, "title": "Sensors failed to initialize when loading model", "component": null, "votes": 2, "watches": 0, "content": {"raw": "Seen on: ROS Kinetic, Ubuntu 16.04, and Gazebo 7.0.0 compiled from source inside a docker environment.\r\n\r\nI'm seeing the following error somewhat non-deterministically (typically on slower machines and cold starts). I'm running gazebo inside docker, which may also be exacerbating the issue.\r\n```\r\n[Err] [Model.cc:921] Sensors failed to initialize when loading model[<model name>] via the factory mechanism.Plugins for the model will not be loaded.\r\n```\r\n\r\nI haven't debugged this error myself much, but it appears because `sensors::SensorManager::Instance()->SensorsInitialized()` returns false for the hardcoded 50 iterations.\r\n\r\nAny thoughts would be appreciated. I'm compiling gazebo from source already, so I will attempt to increase 50 to a higher value when I can find some time to play with my docker setup. However, I'd like to better understand the ramifications of increasing this value, if that is indeed a solution.", "markup": "markdown", "html": "<p>Seen on: ROS Kinetic, Ubuntu 16.04, and Gazebo 7.0.0 compiled from source inside a docker environment.</p>\n<p>I'm seeing the following error somewhat non-deterministically (typically on slower machines and cold starts). I'm running gazebo inside docker, which may also be exacerbating the issue.</p>\n<div class=\"codehilite\"><pre><span></span>[Err] [Model.cc:921] Sensors failed to initialize when loading model[&lt;model name&gt;] via the factory mechanism.Plugins for the model will not be loaded.\n</pre></div>\n\n\n<p>I haven't debugged this error myself much, but it appears because <code>sensors::SensorManager::Instance()-&gt;SensorsInitialized()</code> returns false for the hardcoded 50 iterations.</p>\n<p>Any thoughts would be appreciated. I'm compiling gazebo from source already, so I will attempt to increase 50 to a higher value when I can find some time to play with my docker setup. However, I'd like to better understand the ramifications of increasing this value, if that is indeed a solution.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "7.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242744.json"}}}, "edited_on": null, "created_on": "2017-12-07T20:17:30.195287+00:00", "milestone": null, "updated_on": "2019-07-25T16:45:25.145709+00:00", "type": "issue", "id": 2382}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2383/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2383.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2383/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2383/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2383/gazebo-78-79-breaks-dynamic-lighting"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2383/vote"}}, "reporter": {"display_name": "Andrew Symington", "uuid": "{db1311fc-02e6-442e-84a1-4bb85dfee5ba}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bdb1311fc-02e6-442e-84a1-4bb85dfee5ba%7D"}, "html": {"href": "https://bitbucket.org/%7Bdb1311fc-02e6-442e-84a1-4bb85dfee5ba%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:cab3b56e-7c24-487c-b07f-05e0600adf54/8a009f21-29b8-4d43-98ed-2677428e17ff/128"}}, "nickname": "asymingt", "type": "user", "account_id": "557058:cab3b56e-7c24-487c-b07f-05e0600adf54"}, "title": "Gazebo 7.8 -> 7.9 breaks dynamic lighting", "component": {"name": "rendering", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122881.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "I previously wrote a Gazebo plugin to dynamically add spot lights, which are attached to  a moving robot. The code is available here:\r\n\r\nhttps://github.com/nasa/astrobee/blob/master/simulation/astrobee_gazebo/src/gazebo_model_plugin_flashlights/gazebo_model_plugin_flashlights.cc\r\n\r\nThis code worked well on Gazebo 7.8. Now, in 7.9 when the plugin is loaded the entire scene goes black. I can still see the lights listed in the Gazebo GUI, as well as their frustrums, but no light is emited from them.", "markup": "markdown", "html": "<p>I previously wrote a Gazebo plugin to dynamically add spot lights, which are attached to  a moving robot. The code is available here:</p>\n<p><a href=\"https://github.com/nasa/astrobee/blob/master/simulation/astrobee_gazebo/src/gazebo_model_plugin_flashlights/gazebo_model_plugin_flashlights.cc\" rel=\"nofollow\" class=\"ap-connect-link\">https://github.com/nasa/astrobee/blob/master/simulation/astrobee_gazebo/src/gazebo_model_plugin_flashlights/gazebo_model_plugin_flashlights.cc</a></p>\n<p>This code worked well on Gazebo 7.8. Now, in 7.9 when the plugin is loaded the entire scene goes black. I can still see the lights listed in the Gazebo GUI, as well as their frustrums, but no light is emited from them.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "7.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242744.json"}}}, "edited_on": null, "created_on": "2017-12-08T00:03:41.747370+00:00", "milestone": null, "updated_on": "2017-12-08T18:15:30.126505+00:00", "type": "issue", "id": 2383}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2384/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2384.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2384/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2384/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2384/gzclient-crash-when-inserting-cessna-model"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2384/vote"}}, "reporter": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "title": "gzclient crash when inserting Cessna model", "component": {"name": "rendering", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122881.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "Backtrace:\r\n\r\n~~~\r\nterminate called after throwing an instance of 'gazebo::common::Exception'\r\n[New Thread 0x7fff461f8700 (LWP 21742)]\r\n\r\nThread 1 \"gzclient\" received signal SIGABRT, Aborted.\r\n0x00007ffff3368428 in __GI_raise (sig=sig@entry=6)\r\n    at ../sysdeps/unix/sysv/linux/raise.c:54\r\n54\t../sysdeps/unix/sysv/linux/raise.c: No such file or directory.\r\n(gdb) bt\r\n#0  0x00007ffff3368428 in __GI_raise (sig=sig@entry=6) at ../sysdeps/unix/sysv/linux/raise.c:54\r\n#1  0x00007ffff336a02a in __GI_abort () at abort.c:89\r\n#2  0x00007ffff39a284d in __gnu_cxx::__verbose_terminate_handler() () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\r\n#3  0x00007ffff39a06b6 in ?? () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\r\n#4  0x00007ffff39a0701 in std::terminate() () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\r\n#5  0x00007ffff39a0919 in __cxa_throw () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\r\n#6  0x00007ffff4e40ac3 in gazebo::common::SubMesh::Vertex (this=0x6bfacb0, _i=32)\r\n    at /media/louise/TERA/code/gazeboA/gazebo/common/Mesh.cc:560\r\n#7  0x00007ffff24788d0 in gazebo::rendering::RayQuery::SelectMeshTriangle (this=0x7fffffffc780, _x=973, _y=376, _visual=\r\n    std::shared_ptr (count 4, weak 2) 0x5db7640, _intersect=..., _triangle=...)\r\n    at /media/louise/TERA/code/gazeboA/gazebo/rendering/RayQuery.cc:94\r\n#8  0x00007ffff24e8b5f in gazebo::rendering::Scene::FirstContact (this=0x1b7c7c0, _camera=..., _mousePos=..., _position=...)\r\n    at /media/louise/TERA/code/gazeboA/gazebo/rendering/Scene.cc:1159\r\n#9  0x00007ffff24501e4 in gazebo::rendering::OrbitViewController::HandleMouseEvent (this=0x3825aa0, _event=...)\r\n    at /media/louise/TERA/code/gazeboA/gazebo/rendering/OrbitViewController.cc:171\r\n~~~\r\n\r\nNot sure if it is related, but `RayQuery::SelectMeshTriangle` was changed on pull request #2688", "markup": "markdown", "html": "<p>Backtrace:</p>\n<div class=\"codehilite\"><pre><span></span>terminate called after throwing an instance of &#39;gazebo::common::Exception&#39;\n[New Thread 0x7fff461f8700 (LWP 21742)]\n\nThread 1 &quot;gzclient&quot; received signal SIGABRT, Aborted.\n0x00007ffff3368428 in __GI_raise (sig=sig@entry=6)\n    at ../sysdeps/unix/sysv/linux/raise.c:54\n54  ../sysdeps/unix/sysv/linux/raise.c: No such file or directory.\n(gdb) bt\n#0  0x00007ffff3368428 in __GI_raise (sig=sig@entry=6) at ../sysdeps/unix/sysv/linux/raise.c:54\n#1  0x00007ffff336a02a in __GI_abort () at abort.c:89\n#2  0x00007ffff39a284d in __gnu_cxx::__verbose_terminate_handler() () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#3  0x00007ffff39a06b6 in ?? () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#4  0x00007ffff39a0701 in std::terminate() () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#5  0x00007ffff39a0919 in __cxa_throw () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#6  0x00007ffff4e40ac3 in gazebo::common::SubMesh::Vertex (this=0x6bfacb0, _i=32)\n    at /media/louise/TERA/code/gazeboA/gazebo/common/Mesh.cc:560\n#7  0x00007ffff24788d0 in gazebo::rendering::RayQuery::SelectMeshTriangle (this=0x7fffffffc780, _x=973, _y=376, _visual=\n    std::shared_ptr (count 4, weak 2) 0x5db7640, _intersect=..., _triangle=...)\n    at /media/louise/TERA/code/gazeboA/gazebo/rendering/RayQuery.cc:94\n#8  0x00007ffff24e8b5f in gazebo::rendering::Scene::FirstContact (this=0x1b7c7c0, _camera=..., _mousePos=..., _position=...)\n    at /media/louise/TERA/code/gazeboA/gazebo/rendering/Scene.cc:1159\n#9  0x00007ffff24501e4 in gazebo::rendering::OrbitViewController::HandleMouseEvent (this=0x3825aa0, _event=...)\n    at /media/louise/TERA/code/gazeboA/gazebo/rendering/OrbitViewController.cc:171\n</pre></div>\n\n\n<p>Not sure if it is related, but <code>RayQuery::SelectMeshTriangle</code> was changed on <a href=\"#!/osrf/gazebo/pull-requests/2688/fix-orbiting-view-around-heightmap\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #2688</a></p>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "9.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242746.json"}}}, "edited_on": null, "created_on": "2017-12-13T00:52:17.241084+00:00", "milestone": null, "updated_on": "2017-12-16T06:06:38.462863+00:00", "type": "issue", "id": 2384}, {"priority": "minor", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2385/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2385.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2385/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2385/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2385/step-by-step-simulation-c-with-gazebo"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2385/vote"}}, "reporter": {"display_name": "Brice Clement", "uuid": "{9a316ad8-04e2-4a05-980f-44dbbd5b3897}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9a316ad8-04e2-4a05-980f-44dbbd5b3897%7D"}, "html": {"href": "https://bitbucket.org/%7B9a316ad8-04e2-4a05-980f-44dbbd5b3897%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/76dc97e4a0367def37518e4f907f2f4ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsBC-0.png"}}, "nickname": "Brice_clement", "type": "user", "account_id": "5a2feea09f1e433e479775b0"}, "title": "Step by step simulation c++ with gazebo", "component": null, "votes": 0, "watches": 1, "content": {"raw": "HI,\r\n\r\nWe are trying to use gazebo in a step by step way, because we have a controller running at some frequency, and we want to avoid asynchronous issue.\r\n\r\nSo we looked at the example of your Custom main, and we found that your are using :\r\n\r\n```\r\n#!c++\r\n\r\ngazebo::runWorld(world, iterations);\r\n```\r\nWhere iteration is the number of iteration to perform.\r\nBut this function can't be used like this :\r\n\r\n```\r\n#!c++\r\n while (!stop) {\r\n    gazebo::runWorld(world, 1);\r\n    //  do some stuff\r\n  }\r\n\r\n```\r\nBecause it seems like it's reseting everythings from scratch.\r\n\r\nSo we would like to use the world->Step() function which is private, to run step by step the simulation.\r\n\r\nBest regards,", "markup": "markdown", "html": "<p>HI,</p>\n<p>We are trying to use gazebo in a step by step way, because we have a controller running at some frequency, and we want to avoid asynchronous issue.</p>\n<p>So we looked at the example of your Custom main, and we found that your are using :</p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"n\">gazebo</span><span class=\"o\">::</span><span class=\"n\">runWorld</span><span class=\"p\">(</span><span class=\"n\">world</span><span class=\"p\">,</span> <span class=\"n\">iterations</span><span class=\"p\">);</span>\n</pre></div>\n\n\n<p>Where iteration is the number of iteration to perform.\nBut this function can't be used like this :</p>\n<div class=\"codehilite language-c++\"><pre><span></span> <span class=\"k\">while</span> <span class=\"p\">(</span><span class=\"o\">!</span><span class=\"n\">stop</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"n\">gazebo</span><span class=\"o\">::</span><span class=\"n\">runWorld</span><span class=\"p\">(</span><span class=\"n\">world</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">);</span>\n    <span class=\"c1\">//  do some stuff</span>\n  <span class=\"p\">}</span>\n</pre></div>\n\n\n<p>Because it seems like it's reseting everythings from scratch.</p>\n<p>So we would like to use the world-&gt;Step() function which is private, to run step by step the simulation.</p>\n<p>Best regards,</p>", "type": "rendered"}, "assignee": null, "state": "open", "version": {"name": "8.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242745.json"}}}, "edited_on": null, "created_on": "2017-12-13T13:40:45.895187+00:00", "milestone": null, "updated_on": "2018-04-20T10:23:26.888731+00:00", "type": "issue", "id": 2385}, {"priority": "critical", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2386/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2386.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2386/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2386/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2386/gui-test-failures-on-homebrew-after"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2386/vote"}}, "reporter": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "title": "GUI test failures on homebrew after upgrade to qt 5.10.0", "component": {"name": "os::osx", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/126618.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "Qt 5.10.0 was recently [released into homebrew](https://github.com/Homebrew/homebrew-core/pull/21435), and now many GUI tests on gazebo8 and default are failing:\r\n\r\nbefore:\r\n\r\n* https://build.osrfoundation.org/job/gazebo-ci-gazebo8-homebrew-amd64/71/testReport/\r\n* https://build.osrfoundation.org/job/gazebo-ci-default-homebrew-amd64/279/testReport/\r\n\r\nafter:\r\n\r\n* https://build.osrfoundation.org/job/gazebo-ci-gazebo8-homebrew-amd64/72/testReport/\r\n* https://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/1283/testReport/\r\n* https://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/1286/testReport/\r\n\r\nNewly failing tests include:\r\n\r\n~~~\r\n INTEGRATION_marker.test_ran\r\n INTEGRATION_model_editor.test_ran\r\n INTEGRATION_model_editor_undo.test_ran\r\n INTEGRATION_model_manipulation.test_ran\r\n INTEGRATION_mouse_pick.test_ran\r\n INTEGRATION_undo.test_ran\r\n INTEGRATION_view_angle.test_ran\r\n ModelListWidget_TEST.ModelProperties\r\n UNIT_ApplyWrenchDialog_TEST.test_ran\r\n UNIT_MainWindow_TEST.test_ran\r\n UNIT_ModelCreator_TEST.test_ran\r\n UNIT_TimeWidget_TEST.test_ran\r\n UNIT_ViewAngleWidget_TEST.test_ran\r\n~~~\r\n\r\nMany of these tests are now failing via timeout of 240 seconds (4 minutes). Furthermore, failing tests are repeated on homebrew, which has roughly doubled the time required for a gazebo8 or default branch build from 2 -> 4 hours. I'm increasing the priority of this bug since it impacts our CI time so much.", "markup": "markdown", "html": "<p>Qt 5.10.0 was recently <a data-is-external-link=\"true\" href=\"https://github.com/Homebrew/homebrew-core/pull/21435\" rel=\"nofollow\">released into homebrew</a>, and now many GUI tests on gazebo8 and default are failing:</p>\n<p>before:</p>\n<ul>\n<li><a href=\"https://build.osrfoundation.org/job/gazebo-ci-gazebo8-homebrew-amd64/71/testReport/\" rel=\"nofollow\" class=\"ap-connect-link\">https://build.osrfoundation.org/job/gazebo-ci-gazebo8-homebrew-amd64/71/testReport/</a></li>\n<li><a href=\"https://build.osrfoundation.org/job/gazebo-ci-default-homebrew-amd64/279/testReport/\" rel=\"nofollow\" class=\"ap-connect-link\">https://build.osrfoundation.org/job/gazebo-ci-default-homebrew-amd64/279/testReport/</a></li>\n</ul>\n<p>after:</p>\n<ul>\n<li><a href=\"https://build.osrfoundation.org/job/gazebo-ci-gazebo8-homebrew-amd64/72/testReport/\" rel=\"nofollow\" class=\"ap-connect-link\">https://build.osrfoundation.org/job/gazebo-ci-gazebo8-homebrew-amd64/72/testReport/</a></li>\n<li><a href=\"https://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/1283/testReport/\" rel=\"nofollow\" class=\"ap-connect-link\">https://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/1283/testReport/</a></li>\n<li><a href=\"https://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/1286/testReport/\" rel=\"nofollow\" class=\"ap-connect-link\">https://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/1286/testReport/</a></li>\n</ul>\n<p>Newly failing tests include:</p>\n<div class=\"codehilite\"><pre><span></span> INTEGRATION_marker.test_ran\n INTEGRATION_model_editor.test_ran\n INTEGRATION_model_editor_undo.test_ran\n INTEGRATION_model_manipulation.test_ran\n INTEGRATION_mouse_pick.test_ran\n INTEGRATION_undo.test_ran\n INTEGRATION_view_angle.test_ran\n ModelListWidget_TEST.ModelProperties\n UNIT_ApplyWrenchDialog_TEST.test_ran\n UNIT_MainWindow_TEST.test_ran\n UNIT_ModelCreator_TEST.test_ran\n UNIT_TimeWidget_TEST.test_ran\n UNIT_ViewAngleWidget_TEST.test_ran\n</pre></div>\n\n\n<p>Many of these tests are now failing via timeout of 240 seconds (4 minutes). Furthermore, failing tests are repeated on homebrew, which has roughly doubled the time required for a gazebo8 or default branch build from 2 -&gt; 4 hours. I'm increasing the priority of this bug since it impacts our CI time so much.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2017-12-13T20:21:37.013574+00:00", "milestone": null, "updated_on": "2018-01-23T23:08:50.464585+00:00", "type": "issue", "id": 2386}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2387/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2387.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2387/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2387/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2387/racecondition-in-gazebo-transport"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2387/vote"}}, "reporter": {"display_name": "Hendrik Skubch", "uuid": "{d62fe323-ea01-47f4-8dff-efd154484a38}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd62fe323-ea01-47f4-8dff-efd154484a38%7D"}, "html": {"href": "https://bitbucket.org/%7Bd62fe323-ea01-47f4-8dff-efd154484a38%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:d6d73ff7-399d-4b16-801d-4a82bb4026d2/17c90ba9-bbd5-43e6-95e2-542c32f63ffd/128"}}, "nickname": "RedundantEntry", "type": "user", "account_id": "557058:d6d73ff7-399d-4b16-801d-4a82bb4026d2"}, "title": "Racecondition in gazebo::transport::Connection::EnqueueMsg(const std::string &_buffer,     boost::function<void(uint32_t)> _cb, uint32_t _id, bool _force)", "component": {"name": "transport", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122882.json"}}}, "votes": 0, "watches": 2, "content": {"raw": "headerBuffer is subject to a racecondition if multiple writer threads exist (Concurrent calls to EnqueueMsg).\r\nThis appears to be the case when a model is deleted via a ros-maintained plugin.\r\n\r\nReproduction steps:\r\n\r\n1.  Start a gazebo simulation inside a docker container. Add and remove robots continuously via ros plugin and service.\r\n2. Repeat step 1 until system load is saturated (e.g., 6 simulations on a quad core).\r\n3. Wait until crash caused by partial messages being parsed and rejected (protobuffer's IsInitialized() fails).\r\n\r\nSuggested solution: \r\n Apply attached patch. It moves the contest array (9 bytes) from the heap to the stack.", "markup": "markdown", "html": "<p>headerBuffer is subject to a racecondition if multiple writer threads exist (Concurrent calls to EnqueueMsg).\nThis appears to be the case when a model is deleted via a ros-maintained plugin.</p>\n<p>Reproduction steps:</p>\n<ol>\n<li>Start a gazebo simulation inside a docker container. Add and remove robots continuously via ros plugin and service.</li>\n<li>Repeat step 1 until system load is saturated (e.g., 6 simulations on a quad core).</li>\n<li>Wait until crash caused by partial messages being parsed and rejected (protobuffer's IsInitialized() fails).</li>\n</ol>\n<p>Suggested solution: \n Apply attached patch. It moves the contest array (9 bytes) from the heap to the stack.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "all", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/225575.json"}}}, "edited_on": null, "created_on": "2017-12-14T08:43:17.275489+00:00", "milestone": null, "updated_on": "2017-12-15T05:45:02.137973+00:00", "type": "issue", "id": 2387}, {"priority": "blocker", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2388/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2388.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2388/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2388/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2388/gazebo-8-heightmap-objects-clipping"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2388/vote"}}, "reporter": {"display_name": "Rasmus Iila", "uuid": "{b90601a3-2e12-4dac-9dc1-408ae3d1aaf4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bb90601a3-2e12-4dac-9dc1-408ae3d1aaf4%7D"}, "html": {"href": "https://bitbucket.org/%7Bb90601a3-2e12-4dac-9dc1-408ae3d1aaf4%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/76d16692c95bd13d90635e0c30075820d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRI-3.png"}}, "nickname": "Raskkii", "type": "user", "account_id": "557058:a0e442f7-5f38-4584-9323-24d39158ac3d"}, "title": "Gazebo 8 Heightmap objects clipping through collision", "component": null, "votes": 0, "watches": 1, "content": {"raw": "I was asked to ticket an issue to follow up on my question here: http://answers.gazebosim.org/question/18088/gazebo-8-heightmap-objects-clipping-through-collision/ \r\n\r\nAs you can see, the heightmap seems to have an issue with objects clipping through the edge of the slope.\r\n\r\nNow, I've done some additional testing regarding this issue. I've created a simple example that illustrates the problem, which can be found in the atttachments. I've also included a README file in the attachments to provide instructions on how to run the example.\r\n\r\nI've tested the issue with spheres of different sizes and positions.\r\nI've concluded, that a sphere with a radius of 0.38 m or below falls through, while a sphere with a radius of 0.39 m or above does not fall through. \r\nWhen the sphere has a radius of 0.38 m, the window of falling through the collision is about 0.04 m (on x-axis on my example). The window does not seem to vary when moving the spheres along the y-axis. \r\nHowever, interestingly, when reducing the radiuses of the spheres, the window of falling through also decreases. For example, a sphere with a radius of 0.05 m has a window of only about 0.002 m. \r\nSo to conclude, the window increases as the sphere radius increases, up until a radius of 0.39 m at which point the sphere does not fall through any more (though a part of it still clips through so the sphere starts rolling sideways even when it shouldn't).\r\n\r\nI've set the priority as blocker as this bug prevents us from working with wheeled vehicles on slopy surfaces (such as driving up a ramp). The wheel radius of our vehicle is about 0.2 m so right about in the middle as far as the window of falling through goes.\r\n\r\nI've also added two screenshots in the attachments of what happens when I unpause.", "markup": "markdown", "html": "<p>I was asked to ticket an issue to follow up on my question here: <a href=\"http://answers.gazebosim.org/question/18088/gazebo-8-heightmap-objects-clipping-through-collision/\" rel=\"nofollow\" class=\"ap-connect-link\">http://answers.gazebosim.org/question/18088/gazebo-8-heightmap-objects-clipping-through-collision/</a> </p>\n<p>As you can see, the heightmap seems to have an issue with objects clipping through the edge of the slope.</p>\n<p>Now, I've done some additional testing regarding this issue. I've created a simple example that illustrates the problem, which can be found in the atttachments. I've also included a README file in the attachments to provide instructions on how to run the example.</p>\n<p>I've tested the issue with spheres of different sizes and positions.\nI've concluded, that a sphere with a radius of 0.38 m or below falls through, while a sphere with a radius of 0.39 m or above does not fall through. \nWhen the sphere has a radius of 0.38 m, the window of falling through the collision is about 0.04 m (on x-axis on my example). The window does not seem to vary when moving the spheres along the y-axis. \nHowever, interestingly, when reducing the radiuses of the spheres, the window of falling through also decreases. For example, a sphere with a radius of 0.05 m has a window of only about 0.002 m. \nSo to conclude, the window increases as the sphere radius increases, up until a radius of 0.39 m at which point the sphere does not fall through any more (though a part of it still clips through so the sphere starts rolling sideways even when it shouldn't).</p>\n<p>I've set the priority as blocker as this bug prevents us from working with wheeled vehicles on slopy surfaces (such as driving up a ramp). The wheel radius of our vehicle is about 0.2 m so right about in the middle as far as the window of falling through goes.</p>\n<p>I've also added two screenshots in the attachments of what happens when I unpause.</p>", "type": "rendered"}, "assignee": null, "state": "duplicate", "version": {"name": "8.1", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/243455.json"}}}, "edited_on": null, "created_on": "2017-12-14T09:31:16.679051+00:00", "milestone": null, "updated_on": "2017-12-16T10:27:59.170637+00:00", "type": "issue", "id": 2388}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2389/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2389.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2389/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2389/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2389/linkstate-stores-angular-velocities-as"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2389/vote"}}, "reporter": {"display_name": "Guillaume Matheron", "uuid": "{9f1a587b-5c72-4b03-8500-98e10add803c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9f1a587b-5c72-4b03-8500-98e10add803c%7D"}, "html": {"href": "https://bitbucket.org/%7B9f1a587b-5c72-4b03-8500-98e10add803c%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/8679bdeb68cdd7bae460e81a1ca902c1d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsGM-5.png"}}, "nickname": "gmatheron", "type": "user", "account_id": "557058:eda51b76-248d-479e-a278-05fe26e7876b"}, "title": "LinkState stores angular velocities as Quaternions, so they overflow when higher than pi rad/s", "component": {"name": "physics", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122876.json"}}}, "votes": 2, "watches": 1, "content": {"raw": "In gazebo/physics/LinkState.cc, this code stores angular velocities in a Quaternion. If the velocity is more than pi rad/s, it overflows back to -pi rad/s.\r\n\r\n\r\n```\r\n#!undefined\r\n\r\nthis->velocity = math::Pose(_link->GetWorldLinearVel(),\r\n                   math::Quaternion(_link->GetWorldAngularVel()));\r\n```\r\n\r\nA minimal example is attached.\r\n\r\nTo use it, build the module using cmake, then run the attached sdf file with gazebo. Each second, the world is saved and immediately restored.\r\n\r\nIn gazebo, apply a torque to the object, until its angular velocity reaches pi rad/s. The object will change rotation direction as the angular velocity is mapped back to -pi rad/s in WorldState.\r\n\r\nThis was tested using gazebo7\r\n\r\n\r\nFrom the module output :\r\nState restored to <state world_name='default'>...<model name='minimal'>...<link name='link'><pose>...</pose><velocity>0 0 0 3.017 -0 0 </velocity></link></model></state>\r\nState restored to <state world_name='default'>...<model name='minimal'>...<link name='link'><pose>...</pose><velocity>0 0 0 -2.966 -0 0 </velocity></link></model></state>", "markup": "markdown", "html": "<p>In gazebo/physics/LinkState.cc, this code stores angular velocities in a Quaternion. If the velocity is more than pi rad/s, it overflows back to -pi rad/s.</p>\n<div class=\"codehilite language-undefined\"><pre><span></span><span class=\"nt\">this-</span><span class=\"o\">&gt;</span><span class=\"nt\">velocity</span> <span class=\"o\">=</span> <span class=\"nt\">math</span><span class=\"p\">::</span><span class=\"nd\">Pose</span><span class=\"o\">(</span><span class=\"nt\">_link-</span><span class=\"o\">&gt;</span><span class=\"nt\">GetWorldLinearVel</span><span class=\"o\">(),</span>\n                   <span class=\"nt\">math</span><span class=\"p\">::</span><span class=\"nd\">Quaternion</span><span class=\"o\">(</span><span class=\"nt\">_link-</span><span class=\"o\">&gt;</span><span class=\"nt\">GetWorldAngularVel</span><span class=\"o\">()));</span>\n</pre></div>\n\n\n<p>A minimal example is attached.</p>\n<p>To use it, build the module using cmake, then run the attached sdf file with gazebo. Each second, the world is saved and immediately restored.</p>\n<p>In gazebo, apply a torque to the object, until its angular velocity reaches pi rad/s. The object will change rotation direction as the angular velocity is mapped back to -pi rad/s in WorldState.</p>\n<p>This was tested using gazebo7</p>\n<p>From the module output :\nState restored to &lt;state world_name='default'&gt;...&lt;model name='minimal'&gt;...&lt;link name='link'&gt;&lt;pose&gt;...&lt;/pose&gt;&lt;velocity&gt;0 0 0 3.017 -0 0 &lt;/velocity&gt;&lt;/link&gt;&lt;/model&gt;&lt;/state&gt;\nState restored to &lt;state world_name='default'&gt;...&lt;model name='minimal'&gt;...&lt;link name='link'&gt;&lt;pose&gt;...&lt;/pose&gt;&lt;velocity&gt;0 0 0 -2.966 -0 0 &lt;/velocity&gt;&lt;/link&gt;&lt;/model&gt;&lt;/state&gt;</p>", "type": "rendered"}, "assignee": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "state": "new", "version": {"name": "7.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242744.json"}}}, "edited_on": null, "created_on": "2017-12-14T15:48:43.161521+00:00", "milestone": null, "updated_on": "2018-03-12T02:34:50.597646+00:00", "type": "issue", "id": 2389}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2390/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2390.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2390/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2390/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2390/deprecate-gazebo-common-color-in-favor-of"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2390/vote"}}, "reporter": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "title": "Deprecate gazebo::common::Color in favor of ignition::math::Color", "component": {"name": "common", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/138866.json"}}}, "votes": 0, "watches": 2, "content": {"raw": "This was started on pull request #2786 and continued on pull request #2818.\r\n\r\n### Remaining public API:\r\n\r\nGUI\r\n\r\n* `gazebo::gui::ConfigWidget`\r\n    * `SetColorWidgetValue`\r\n    * `ColorWidgetValue`\r\n    * `ColorValueChanged`\r\n\r\nRendering\r\n\r\n* `gazebo::rendering::Camera`\r\n    * `SetBackgroundColor`\r\n* `gazebo::rendering::DynamicLines`\r\n    * `AddPoint`\r\n    * `AddPoint`\r\n    * `SetColor`\r\n* `gazebo::rendering::Grid`\r\n    * `Grid`\r\n    * `SetColor`\r\n    * `Color`\r\n* `gazebo::rendering::LaserVisual`\r\n    * `SetEmissive`\r\n* `gazebo::rendering::Light`\r\n    * `SetDiffuseColor`\r\n    * `DiffuseColor`\r\n    * `SetSpecularColor`\r\n    * `SpecularColor`\r\n* `gazebo::rendering::MovableText`\r\n    * `Load`\r\n    * `SetColor`\r\n    * `GetColor`\r\n* `gazebo::rendering::Scene`\r\n    * `SetAmbientColor`\r\n    * `AmbientColor`\r\n    * `SetBackgroundColor`\r\n    * `BackgroundColor`\r\n    * `CreateGrid`\r\n    * `SetFog`\r\n* `gazebo::rendering::WideAngleCamera`\r\n    * `SetBackgroundColor`", "markup": "markdown", "html": "<p>This was started on <a href=\"#!/osrf/gazebo/pull-requests/2786/fix-compile-error-due-gazebo-common-color\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #2786</a> and continued on <a href=\"#!/osrf/gazebo/pull-requests/2818/deprecate-some-common-color-in-favor-of\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #2818</a>.</p>\n<h3 id=\"markdown-header-remaining-public-api\">Remaining public API:</h3>\n<p>GUI</p>\n<ul>\n<li><code>gazebo::gui::ConfigWidget</code><ul>\n<li><code>SetColorWidgetValue</code></li>\n<li><code>ColorWidgetValue</code></li>\n<li><code>ColorValueChanged</code></li>\n</ul>\n</li>\n</ul>\n<p>Rendering</p>\n<ul>\n<li><code>gazebo::rendering::Camera</code><ul>\n<li><code>SetBackgroundColor</code></li>\n</ul>\n</li>\n<li><code>gazebo::rendering::DynamicLines</code><ul>\n<li><code>AddPoint</code></li>\n<li><code>AddPoint</code></li>\n<li><code>SetColor</code></li>\n</ul>\n</li>\n<li><code>gazebo::rendering::Grid</code><ul>\n<li><code>Grid</code></li>\n<li><code>SetColor</code></li>\n<li><code>Color</code></li>\n</ul>\n</li>\n<li><code>gazebo::rendering::LaserVisual</code><ul>\n<li><code>SetEmissive</code></li>\n</ul>\n</li>\n<li><code>gazebo::rendering::Light</code><ul>\n<li><code>SetDiffuseColor</code></li>\n<li><code>DiffuseColor</code></li>\n<li><code>SetSpecularColor</code></li>\n<li><code>SpecularColor</code></li>\n</ul>\n</li>\n<li><code>gazebo::rendering::MovableText</code><ul>\n<li><code>Load</code></li>\n<li><code>SetColor</code></li>\n<li><code>GetColor</code></li>\n</ul>\n</li>\n<li><code>gazebo::rendering::Scene</code><ul>\n<li><code>SetAmbientColor</code></li>\n<li><code>AmbientColor</code></li>\n<li><code>SetBackgroundColor</code></li>\n<li><code>BackgroundColor</code></li>\n<li><code>CreateGrid</code></li>\n<li><code>SetFog</code></li>\n</ul>\n</li>\n<li><code>gazebo::rendering::WideAngleCamera</code><ul>\n<li><code>SetBackgroundColor</code></li>\n</ul>\n</li>\n</ul>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": {"name": "9.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242746.json"}}}, "edited_on": null, "created_on": "2017-12-18T21:00:46.785363+00:00", "milestone": null, "updated_on": "2018-11-18T07:02:14.978109+00:00", "type": "issue", "id": 2390}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2391/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2391.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2391/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2391/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2391/classes-not-using-pimpl"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2391/vote"}}, "reporter": {"display_name": "Shane Loretz", "uuid": "{656e3311-aad9-45a1-aaf7-b0ee0e84b287}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D"}, "html": {"href": "https://bitbucket.org/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:684383ab-ac95-4859-a350-4a6f41a94a22/c7a1ebf5-cade-4115-9f26-9d3facb776db/128"}}, "nickname": "Shane Loretz", "type": "user", "account_id": "557058:684383ab-ac95-4859-a350-4a6f41a94a22"}, "title": "Classes not using PIMPL", "component": null, "votes": 0, "watches": 1, "content": {"raw": "Follow up to today's meeting, these headers do not contain the text \"dataPtr\". This ticket is to add a private member `std::unique_ptr<*Private> dataPtr;` and forward declaration for all of them so that it is easier to fix bugs between major releases.\r\n\r\nFirst I created a list with the command\r\n\r\n```\r\nfind . -name \"*.hh\" -not -name \"*TEST.hh\" -not -name \"*Private.hh\" -exec grep --color=auto -e \"dataPtr\" -L \"{}\" \"+\" > /tmp/pimpl.txt\r\n```\r\n\r\nThen I manually checked and removed some files whose names suggested they wouldn't contain a class (like \"*Types.hh\", or \"*Iface.hh\").  I have not checked every file here.\r\n\r\n\r\nRendering\r\n\r\n```\r\n./rendering/JointVisual.hh\r\n./rendering/selection_buffer/MaterialSwitcher.hh\r\n./rendering/selection_buffer/SelectionRenderListener.hh\r\n./rendering/FPSViewController.hh\r\n./rendering/RFIDTagVisual.hh\r\n./rendering/ApplyWrenchVisual.hh\r\n./rendering/MovableText.hh\r\n./rendering/TransmitterVisual.hh\r\n./rendering/InertiaVisual.hh\r\n./rendering/ArrowVisual.hh\r\n./rendering/WrenchVisual.hh\r\n./rendering/Road2d.hh\r\n./rendering/ViewController.hh\r\n./rendering/DynamicRenderable.hh\r\n./rendering/OrbitViewController.hh\r\n./rendering/MarkerVisual.hh\r\n./rendering/CameraVisual.hh\r\n./rendering/SonarVisual.hh\r\n./rendering/LogicalCameraVisual.hh\r\n./rendering/OriginVisual.hh\r\n./rendering/RenderEvents.hh\r\n./rendering/VideoVisual.hh\r\n./rendering/LinkFrameVisual.hh\r\n./rendering/ContactVisual.hh\r\n./rendering/Projector.hh\r\n./rendering/Material.hh\r\n./rendering/COMVisual.hh\r\n./rendering/SelectionObj.hh\r\n./rendering/deferred_shading/DeferredLight.hh\r\n./rendering/deferred_shading/DeferredLightCP.hh\r\n./rendering/deferred_shading/LightMaterialGenerator.hh\r\n./rendering/deferred_shading/GBufferSchemeHandler.hh\r\n./rendering/deferred_shading/MaterialGenerator.hh\r\n./rendering/deferred_shading/TechniqueDefinitions.hh\r\n./rendering/deferred_shading/MergeMaterialGenerator.hh\r\n./rendering/deferred_shading/MergeSchemeHandler.hh\r\n./rendering/deferred_shading/NullSchemeHandler.hh\r\n./rendering/deferred_shading/SSAOLogic.hh\r\n./rendering/deferred_shading/MergeCP.hh\r\n./rendering/deferred_shading/AmbientLight.hh\r\n./rendering/deferred_shading/GBufferMaterialGenerator.hh\r\n./rendering/deferred_shading/ListenerFactoryLogic.hh\r\n./rendering/LaserVisual.hh\r\n./rendering/RFIDVisual.hh\r\n```\r\n\r\nCommon\r\n\r\n```\r\n./common/Exception.hh\r\n./common/MeshExporter.hh\r\n./common/ImageHeightmap.hh\r\n./common/MeshLoader.hh\r\n./common/Event.hh\r\n./common/MaterialDensity.hh\r\n./common/SkeletonAnimation.hh\r\n./common/Console.hh\r\n./common/MeshManager.hh\r\n./common/Animation.hh\r\n./common/SystemPaths.hh\r\n./common/Mesh.hh\r\n./common/Timer.hh\r\n./common/Image.hh\r\n./common/STLLoader.hh\r\n./common/KeyEvent.hh\r\n./common/Video.hh\r\n./common/Skeleton.hh\r\n./common/Time.hh\r\n./common/HeightmapData.hh\r\n./common/GTSMeshUtils.hh\r\n./common/Material.hh\r\n./common/UpdateInfo.hh\r\n./common/BVHLoader.hh\r\n./common/MeshCSG.hh\r\n./common/AudioDecoder.hh\r\n./common/KeyFrame.hh\r\n./common/PID.hh\r\n./common/Plugin.hh\r\n./common/Color.hh\r\n```\r\n\r\nPhysics\r\n\r\n```\r\n./physics/Contact.hh\r\n./physics/MapShape.hh\r\n./physics/PlaneShape.hh\r\n./physics/HingeJoint.hh\r\n./physics/ModelState.hh\r\n./physics/Light.hh\r\n./physics/Entity.hh\r\n./physics/Model.hh\r\n./physics/JointState.hh\r\n./physics/Joint.hh\r\n./physics/bullet/BulletSphereShape.hh\r\n./physics/bullet/BulletMeshShape.hh\r\n./physics/bullet/BulletHingeJoint.hh\r\n./physics/bullet/BulletLink.hh\r\n./physics/bullet/BulletUniversalJoint.hh\r\n./physics/bullet/BulletMotionState.hh\r\n./physics/bullet/BulletJoint.hh\r\n./physics/bullet/BulletRayShape.hh\r\n./physics/bullet/BulletFixedJoint.hh\r\n./physics/bullet/BulletScrewJoint.hh\r\n./physics/bullet/BulletMesh.hh\r\n./physics/bullet/BulletPhysics.hh\r\n./physics/bullet/BulletMultiRayShape.hh\r\n./physics/bullet/gzBtUniversalConstraint.hh\r\n./physics/bullet/BulletPlaneShape.hh\r\n./physics/bullet/BulletPolylineShape.hh\r\n./physics/bullet/BulletSliderJoint.hh\r\n./physics/bullet/BulletCollision.hh\r\n./physics/bullet/BulletHinge2Joint.hh\r\n./physics/bullet/BulletSurfaceParams.hh\r\n./physics/bullet/BulletBoxShape.hh\r\n./physics/bullet/BulletCylinderShape.hh\r\n./physics/bullet/BulletHeightmapShape.hh\r\n./physics/bullet/BulletBallJoint.hh\r\n./physics/ode/ODECylinderShape.hh\r\n./physics/ode/ODEHingeJoint.hh\r\n./physics/ode/ODEMeshShape.hh\r\n./physics/ode/ODEFixedJoint.hh\r\n./physics/ode/ODESliderJoint.hh\r\n./physics/ode/ODEUniversalJoint.hh\r\n./physics/ode/ODEPolylineShape.hh\r\n./physics/ode/ODEMesh.hh\r\n./physics/ode/ODEMultiRayShape.hh\r\n./physics/ode/ODEBoxShape.hh\r\n./physics/ode/ODEPlaneShape.hh\r\n./physics/ode/ODEHeightmapShape.hh\r\n./physics/ode/ODERayShape.hh\r\n./physics/ode/ODEScrewJoint.hh\r\n./physics/ode/ODEHinge2Joint.hh\r\n./physics/ode/ODEBallJoint.hh\r\n./physics/ode/ODELink.hh\r\n./physics/ode/ODEGearboxJoint.hh\r\n./physics/ode/ODECollision.hh\r\n./physics/ode/ODESurfaceParams.hh\r\n./physics/ode/ODESphereShape.hh\r\n./physics/ode/ODEJoint.hh\r\n./physics/Base.hh\r\n./physics/AtmosphereFactory.hh\r\n./physics/WorldState.hh\r\n./physics/FixedJoint.hh\r\n./physics/SurfaceParams.hh\r\n./physics/RayShape.hh\r\n./physics/State.hh\r\n./physics/BallJoint.hh\r\n./physics/Actor.hh\r\n./physics/UniversalJoint.hh\r\n./physics/JointWrench.hh\r\n./physics/SliderJoint.hh\r\n./physics/ContactManager.hh\r\n./physics/BoxShape.hh\r\n./physics/MeshShape.hh\r\n./physics/simbody/SimbodyPolylineShape.hh\r\n./physics/simbody/SimbodyLink.hh\r\n./physics/simbody/SimbodyCollision.hh\r\n./physics/simbody/SimbodyMultiRayShape.hh\r\n./physics/simbody/SimbodyModel.hh\r\n./physics/simbody/SimbodyCylinderShape.hh\r\n./physics/simbody/SimbodyHingeJoint.hh\r\n./physics/simbody/SimbodyFixedJoint.hh\r\n./physics/simbody/SimbodyBoxShape.hh\r\n./physics/simbody/SimbodyRayShape.hh\r\n./physics/simbody/SimbodyMeshShape.hh\r\n./physics/simbody/SimbodyJoint.hh\r\n./physics/simbody/SimbodyScrewJoint.hh\r\n./physics/simbody/SimbodyMesh.hh\r\n./physics/simbody/SimbodyUniversalJoint.hh\r\n./physics/simbody/SimbodyHinge2Joint.hh\r\n./physics/simbody/SimbodyBallJoint.hh\r\n./physics/simbody/SimbodySphereShape.hh\r\n./physics/simbody/SimbodyPlaneShape.hh\r\n./physics/simbody/SimbodyHeightmapShape.hh\r\n./physics/simbody/SimbodySliderJoint.hh\r\n./physics/simbody/SimbodyPhysics.hh\r\n./physics/GearboxJoint.hh\r\n./physics/PolylineShape.hh\r\n./physics/SphereShape.hh\r\n./physics/HeightmapShape.hh\r\n./physics/Shape.hh\r\n./physics/Collision.hh\r\n./physics/Road.hh\r\n./physics/ScrewJoint.hh\r\n./physics/PhysicsFactory.hh\r\n./physics/dart/DARTHingeJoint.hh\r\n./physics/dart/DARTBallJoint.hh\r\n./physics/dart/DARTSliderJoint.hh\r\n./physics/dart/DARTFixedJoint.hh\r\n./physics/dart/DARTUniversalJoint.hh\r\n./physics/dart/DARTHinge2Joint.hh\r\n./physics/dart/DARTScrewJoint.hh\r\n./physics/CollisionState.hh\r\n./physics/Link.hh\r\n./physics/PhysicsEngine.hh\r\n./physics/MultiRayShape.hh\r\n./physics/CylinderShape.hh\r\n./physics/LightState.hh\r\n./physics/Hinge2Joint.hh\r\n./physics/LinkState.hh\r\n```\r\n\r\nTransport\r\n\r\n```\r\n./transport/SubscribeOptions.hh\r\n./transport/IOManager.hh\r\n./transport/PublicationTransport.hh\r\n./transport/Publication.hh\r\n./transport/TransportTypes.hh\r\n./transport/Node.hh\r\n./transport/CallbackHelper.hh\r\n./transport/Subscriber.hh\r\n./transport/Connection.hh\r\n./transport/Publisher.hh\r\n./transport/ConnectionManager.hh\r\n./transport/TopicManager.hh\r\n./transport/SubscriptionTransport.hh\r\n```\r\n\r\nSensors\r\n\r\n```\r\n./sensors/WirelessTransceiver.hh\r\n./sensors/SensorManager.hh\r\n./sensors/GaussianNoiseModel.hh\r\n./sensors/Noise.hh\r\n./sensors/SensorFactory.hh\r\n```\r\n\r\nGUI\r\n\r\n```\r\n./gui/Actions.hh\r\n./gui/GuiPlugin.hh\r\n./gui/MouseEventHandler.hh\r\n./gui/OculusWindow.hh\r\n./gui/model/GraphScene.hh\r\n./gui/model/GraphView.hh\r\n./gui/model/ModelEditorEvents.hh\r\n./gui/model/ModelTreeWidget.hh\r\n./gui/model/EditorMaterialSwitcher.hh\r\n./gui/model/LinkConfig.hh\r\n./gui/model/VisualConfig.hh\r\n./gui/model/ImportDialog.hh\r\n./gui/model/SchematicViewWidget.hh\r\n./gui/model/CollisionConfig.hh\r\n./gui/model/ModelData.hh\r\n./gui/TopicSelector.hh\r\n./gui/ModelRightMenu.hh\r\n./gui/RenderWidget.hh\r\n./gui/ToolsWidget.hh\r\n./gui/viewers/TopicView.hh\r\n./gui/viewers/ViewFactory.hh\r\n./gui/viewers/TextView.hh\r\n./gui/viewers/LaserView.hh\r\n./gui/Editor.hh\r\n./gui/building/BuildingEditor.hh\r\n./gui/building/EditorView.hh\r\n./gui/EntityMaker.hh\r\n\r\n```", "markup": "markdown", "html": "<p>Follow up to today's meeting, these headers do not contain the text \"dataPtr\". This ticket is to add a private member <code>std::unique_ptr&lt;*Private&gt; dataPtr;</code> and forward declaration for all of them so that it is easier to fix bugs between major releases.</p>\n<p>First I created a list with the command</p>\n<div class=\"codehilite\"><pre><span></span>find . -name &quot;*.hh&quot; -not -name &quot;*TEST.hh&quot; -not -name &quot;*Private.hh&quot; -exec grep --color=auto -e &quot;dataPtr&quot; -L &quot;{}&quot; &quot;+&quot; &gt; /tmp/pimpl.txt\n</pre></div>\n\n\n<p>Then I manually checked and removed some files whose names suggested they wouldn't contain a class (like \"<em>Types.hh\", or \"</em>Iface.hh\").  I have not checked every file here.</p>\n<p>Rendering</p>\n<div class=\"codehilite\"><pre><span></span>./rendering/JointVisual.hh\n./rendering/selection_buffer/MaterialSwitcher.hh\n./rendering/selection_buffer/SelectionRenderListener.hh\n./rendering/FPSViewController.hh\n./rendering/RFIDTagVisual.hh\n./rendering/ApplyWrenchVisual.hh\n./rendering/MovableText.hh\n./rendering/TransmitterVisual.hh\n./rendering/InertiaVisual.hh\n./rendering/ArrowVisual.hh\n./rendering/WrenchVisual.hh\n./rendering/Road2d.hh\n./rendering/ViewController.hh\n./rendering/DynamicRenderable.hh\n./rendering/OrbitViewController.hh\n./rendering/MarkerVisual.hh\n./rendering/CameraVisual.hh\n./rendering/SonarVisual.hh\n./rendering/LogicalCameraVisual.hh\n./rendering/OriginVisual.hh\n./rendering/RenderEvents.hh\n./rendering/VideoVisual.hh\n./rendering/LinkFrameVisual.hh\n./rendering/ContactVisual.hh\n./rendering/Projector.hh\n./rendering/Material.hh\n./rendering/COMVisual.hh\n./rendering/SelectionObj.hh\n./rendering/deferred_shading/DeferredLight.hh\n./rendering/deferred_shading/DeferredLightCP.hh\n./rendering/deferred_shading/LightMaterialGenerator.hh\n./rendering/deferred_shading/GBufferSchemeHandler.hh\n./rendering/deferred_shading/MaterialGenerator.hh\n./rendering/deferred_shading/TechniqueDefinitions.hh\n./rendering/deferred_shading/MergeMaterialGenerator.hh\n./rendering/deferred_shading/MergeSchemeHandler.hh\n./rendering/deferred_shading/NullSchemeHandler.hh\n./rendering/deferred_shading/SSAOLogic.hh\n./rendering/deferred_shading/MergeCP.hh\n./rendering/deferred_shading/AmbientLight.hh\n./rendering/deferred_shading/GBufferMaterialGenerator.hh\n./rendering/deferred_shading/ListenerFactoryLogic.hh\n./rendering/LaserVisual.hh\n./rendering/RFIDVisual.hh\n</pre></div>\n\n\n<p>Common</p>\n<div class=\"codehilite\"><pre><span></span>./common/Exception.hh\n./common/MeshExporter.hh\n./common/ImageHeightmap.hh\n./common/MeshLoader.hh\n./common/Event.hh\n./common/MaterialDensity.hh\n./common/SkeletonAnimation.hh\n./common/Console.hh\n./common/MeshManager.hh\n./common/Animation.hh\n./common/SystemPaths.hh\n./common/Mesh.hh\n./common/Timer.hh\n./common/Image.hh\n./common/STLLoader.hh\n./common/KeyEvent.hh\n./common/Video.hh\n./common/Skeleton.hh\n./common/Time.hh\n./common/HeightmapData.hh\n./common/GTSMeshUtils.hh\n./common/Material.hh\n./common/UpdateInfo.hh\n./common/BVHLoader.hh\n./common/MeshCSG.hh\n./common/AudioDecoder.hh\n./common/KeyFrame.hh\n./common/PID.hh\n./common/Plugin.hh\n./common/Color.hh\n</pre></div>\n\n\n<p>Physics</p>\n<div class=\"codehilite\"><pre><span></span>./physics/Contact.hh\n./physics/MapShape.hh\n./physics/PlaneShape.hh\n./physics/HingeJoint.hh\n./physics/ModelState.hh\n./physics/Light.hh\n./physics/Entity.hh\n./physics/Model.hh\n./physics/JointState.hh\n./physics/Joint.hh\n./physics/bullet/BulletSphereShape.hh\n./physics/bullet/BulletMeshShape.hh\n./physics/bullet/BulletHingeJoint.hh\n./physics/bullet/BulletLink.hh\n./physics/bullet/BulletUniversalJoint.hh\n./physics/bullet/BulletMotionState.hh\n./physics/bullet/BulletJoint.hh\n./physics/bullet/BulletRayShape.hh\n./physics/bullet/BulletFixedJoint.hh\n./physics/bullet/BulletScrewJoint.hh\n./physics/bullet/BulletMesh.hh\n./physics/bullet/BulletPhysics.hh\n./physics/bullet/BulletMultiRayShape.hh\n./physics/bullet/gzBtUniversalConstraint.hh\n./physics/bullet/BulletPlaneShape.hh\n./physics/bullet/BulletPolylineShape.hh\n./physics/bullet/BulletSliderJoint.hh\n./physics/bullet/BulletCollision.hh\n./physics/bullet/BulletHinge2Joint.hh\n./physics/bullet/BulletSurfaceParams.hh\n./physics/bullet/BulletBoxShape.hh\n./physics/bullet/BulletCylinderShape.hh\n./physics/bullet/BulletHeightmapShape.hh\n./physics/bullet/BulletBallJoint.hh\n./physics/ode/ODECylinderShape.hh\n./physics/ode/ODEHingeJoint.hh\n./physics/ode/ODEMeshShape.hh\n./physics/ode/ODEFixedJoint.hh\n./physics/ode/ODESliderJoint.hh\n./physics/ode/ODEUniversalJoint.hh\n./physics/ode/ODEPolylineShape.hh\n./physics/ode/ODEMesh.hh\n./physics/ode/ODEMultiRayShape.hh\n./physics/ode/ODEBoxShape.hh\n./physics/ode/ODEPlaneShape.hh\n./physics/ode/ODEHeightmapShape.hh\n./physics/ode/ODERayShape.hh\n./physics/ode/ODEScrewJoint.hh\n./physics/ode/ODEHinge2Joint.hh\n./physics/ode/ODEBallJoint.hh\n./physics/ode/ODELink.hh\n./physics/ode/ODEGearboxJoint.hh\n./physics/ode/ODECollision.hh\n./physics/ode/ODESurfaceParams.hh\n./physics/ode/ODESphereShape.hh\n./physics/ode/ODEJoint.hh\n./physics/Base.hh\n./physics/AtmosphereFactory.hh\n./physics/WorldState.hh\n./physics/FixedJoint.hh\n./physics/SurfaceParams.hh\n./physics/RayShape.hh\n./physics/State.hh\n./physics/BallJoint.hh\n./physics/Actor.hh\n./physics/UniversalJoint.hh\n./physics/JointWrench.hh\n./physics/SliderJoint.hh\n./physics/ContactManager.hh\n./physics/BoxShape.hh\n./physics/MeshShape.hh\n./physics/simbody/SimbodyPolylineShape.hh\n./physics/simbody/SimbodyLink.hh\n./physics/simbody/SimbodyCollision.hh\n./physics/simbody/SimbodyMultiRayShape.hh\n./physics/simbody/SimbodyModel.hh\n./physics/simbody/SimbodyCylinderShape.hh\n./physics/simbody/SimbodyHingeJoint.hh\n./physics/simbody/SimbodyFixedJoint.hh\n./physics/simbody/SimbodyBoxShape.hh\n./physics/simbody/SimbodyRayShape.hh\n./physics/simbody/SimbodyMeshShape.hh\n./physics/simbody/SimbodyJoint.hh\n./physics/simbody/SimbodyScrewJoint.hh\n./physics/simbody/SimbodyMesh.hh\n./physics/simbody/SimbodyUniversalJoint.hh\n./physics/simbody/SimbodyHinge2Joint.hh\n./physics/simbody/SimbodyBallJoint.hh\n./physics/simbody/SimbodySphereShape.hh\n./physics/simbody/SimbodyPlaneShape.hh\n./physics/simbody/SimbodyHeightmapShape.hh\n./physics/simbody/SimbodySliderJoint.hh\n./physics/simbody/SimbodyPhysics.hh\n./physics/GearboxJoint.hh\n./physics/PolylineShape.hh\n./physics/SphereShape.hh\n./physics/HeightmapShape.hh\n./physics/Shape.hh\n./physics/Collision.hh\n./physics/Road.hh\n./physics/ScrewJoint.hh\n./physics/PhysicsFactory.hh\n./physics/dart/DARTHingeJoint.hh\n./physics/dart/DARTBallJoint.hh\n./physics/dart/DARTSliderJoint.hh\n./physics/dart/DARTFixedJoint.hh\n./physics/dart/DARTUniversalJoint.hh\n./physics/dart/DARTHinge2Joint.hh\n./physics/dart/DARTScrewJoint.hh\n./physics/CollisionState.hh\n./physics/Link.hh\n./physics/PhysicsEngine.hh\n./physics/MultiRayShape.hh\n./physics/CylinderShape.hh\n./physics/LightState.hh\n./physics/Hinge2Joint.hh\n./physics/LinkState.hh\n</pre></div>\n\n\n<p>Transport</p>\n<div class=\"codehilite\"><pre><span></span>./transport/SubscribeOptions.hh\n./transport/IOManager.hh\n./transport/PublicationTransport.hh\n./transport/Publication.hh\n./transport/TransportTypes.hh\n./transport/Node.hh\n./transport/CallbackHelper.hh\n./transport/Subscriber.hh\n./transport/Connection.hh\n./transport/Publisher.hh\n./transport/ConnectionManager.hh\n./transport/TopicManager.hh\n./transport/SubscriptionTransport.hh\n</pre></div>\n\n\n<p>Sensors</p>\n<div class=\"codehilite\"><pre><span></span>./sensors/WirelessTransceiver.hh\n./sensors/SensorManager.hh\n./sensors/GaussianNoiseModel.hh\n./sensors/Noise.hh\n./sensors/SensorFactory.hh\n</pre></div>\n\n\n<p>GUI</p>\n<div class=\"codehilite\"><pre><span></span>./gui/Actions.hh\n./gui/GuiPlugin.hh\n./gui/MouseEventHandler.hh\n./gui/OculusWindow.hh\n./gui/model/GraphScene.hh\n./gui/model/GraphView.hh\n./gui/model/ModelEditorEvents.hh\n./gui/model/ModelTreeWidget.hh\n./gui/model/EditorMaterialSwitcher.hh\n./gui/model/LinkConfig.hh\n./gui/model/VisualConfig.hh\n./gui/model/ImportDialog.hh\n./gui/model/SchematicViewWidget.hh\n./gui/model/CollisionConfig.hh\n./gui/model/ModelData.hh\n./gui/TopicSelector.hh\n./gui/ModelRightMenu.hh\n./gui/RenderWidget.hh\n./gui/ToolsWidget.hh\n./gui/viewers/TopicView.hh\n./gui/viewers/ViewFactory.hh\n./gui/viewers/TextView.hh\n./gui/viewers/LaserView.hh\n./gui/Editor.hh\n./gui/building/BuildingEditor.hh\n./gui/building/EditorView.hh\n./gui/EntityMaker.hh\n</pre></div>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2017-12-18T21:37:56.631246+00:00", "milestone": null, "updated_on": "2017-12-18T23:51:33.139903+00:00", "type": "issue", "id": 2391}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2392/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2392.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2392/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2392/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2392/gazebo-8-depthcamera-imagedata-returns-all"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2392/vote"}}, "reporter": {"display_name": "Andrew Somerville", "uuid": "{6e688fce-ecd5-4517-a670-db13bbe74734}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B6e688fce-ecd5-4517-a670-db13bbe74734%7D"}, "html": {"href": "https://bitbucket.org/%7B6e688fce-ecd5-4517-a670-db13bbe74734%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/2cd9d402946952185010cdb5e8b9de0dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsAS-3.png"}}, "nickname": "catskul", "type": "user", "account_id": "557058:f57b46a1-f72f-42ee-8288-cb96fee71a8c"}, "title": "Gazebo 8 DepthCamera ImageData returns all gray image for config and code that worked in gazebo7", "component": {"name": "sensors", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122877.json"}}}, "votes": 0, "watches": 2, "content": {"raw": "In Gazebo8 Calls to DepthCamera()->ImageData() (DepthCameraSensor::ImageData) from a  return an image with values that hover around 128.\r\n\r\nIdentical configuration and code using Gazebo7 returned a valid image which is the same as it would be with a normal CameraSensor.\r\n\r\nDuplicating the camera in the sdf (one as type \"camera\" and one as type \"depth\") results in functional camera which works as a workaround to the apparently broken ImageData interface of the DepthCameraSensor.\r\n\r\nI checked the history of rendering/DepthCamera.cc and rendering/Camera.cc and didn't see any smoking guns. sensors/DepthCameraSensor.cc and sensors/CameraSensor.cc were harder \r\n\r\nBug can be exercised by adding \"<save enabled=1><path>./images</path></save>\" below the \"camera\" tag of any currently working sdf sensor type=\"depth\". Saved images will all be gray.", "markup": "markdown", "html": "<p>In Gazebo8 Calls to DepthCamera()-&gt;ImageData() (DepthCameraSensor::ImageData) from a  return an image with values that hover around 128.</p>\n<p>Identical configuration and code using Gazebo7 returned a valid image which is the same as it would be with a normal CameraSensor.</p>\n<p>Duplicating the camera in the sdf (one as type \"camera\" and one as type \"depth\") results in functional camera which works as a workaround to the apparently broken ImageData interface of the DepthCameraSensor.</p>\n<p>I checked the history of rendering/DepthCamera.cc and rendering/Camera.cc and didn't see any smoking guns. sensors/DepthCameraSensor.cc and sensors/CameraSensor.cc were harder </p>\n<p>Bug can be exercised by adding \"&lt;save enabled=1&gt;&lt;path&gt;./images&lt;/path&gt;&lt;/save&gt;\" below the \"camera\" tag of any currently working sdf sensor type=\"depth\". Saved images will all be gray.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "8.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242745.json"}}}, "edited_on": null, "created_on": "2017-12-20T03:52:10.459877+00:00", "milestone": null, "updated_on": "2018-01-17T05:28:21.743606+00:00", "type": "issue", "id": 2392}, {"priority": "major", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2393/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2393.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2393/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2393/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2393/modelname-joint_cmd-warnings-in"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2393/vote"}}, "reporter": {"display_name": "Andrew Somerville", "uuid": "{6e688fce-ecd5-4517-a670-db13bbe74734}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B6e688fce-ecd5-4517-a670-db13bbe74734%7D"}, "html": {"href": "https://bitbucket.org/%7B6e688fce-ecd5-4517-a670-db13bbe74734%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/2cd9d402946952185010cdb5e8b9de0dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsAS-3.png"}}, "nickname": "catskul", "type": "user", "account_id": "557058:f57b46a1-f72f-42ee-8288-cb96fee71a8c"}, "title": "~/[modelName]/joint_cmd warnings in JointController.cc are too frequent", "component": {"name": "physics", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122876.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "Deprecated topic \"~/[modelName]/joint_cmd\" sends out warnings for each message received which can put it at a frequency which makes using it unbearable for those otherwise using console output.\r\n\r\nIf possible it would be great to set a frequency limit on these messages to make it possible to still use gazebo8 with the deprecated topic and still log output.", "markup": "markdown", "html": "<p>Deprecated topic \"~/[modelName]/joint_cmd\" sends out warnings for each message received which can put it at a frequency which makes using it unbearable for those otherwise using console output.</p>\n<p>If possible it would be great to set a frequency limit on these messages to make it possible to still use gazebo8 with the deprecated topic and still log output.</p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": {"name": "8.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242745.json"}}}, "edited_on": null, "created_on": "2017-12-20T21:39:17.514537+00:00", "milestone": null, "updated_on": "2018-09-19T00:08:26.644845+00:00", "type": "issue", "id": 2393}, {"priority": "minor", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2394/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2394.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2394/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2394/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2394/adding-enu-velocity-related-member"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2394/vote"}}, "reporter": {"display_name": "Kunal Tyagi", "uuid": "{549058f2-c154-4c9c-a8ac-be524224888a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B549058f2-c154-4c9c-a8ac-be524224888a%7D"}, "html": {"href": "https://bitbucket.org/%7B549058f2-c154-4c9c-a8ac-be524224888a%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:9066091b-9d3b-4f74-a7fe-d994c559b147/d36dc15c-fc09-4288-8b57-d6b17b9f6036/128"}}, "nickname": "kunaltyagi", "type": "user", "account_id": "557058:9066091b-9d3b-4f74-a7fe-d994c559b147"}, "title": "Adding ENU Velocity related member functions in sensors::GpsSensor", "component": {"name": "sensors::GpsSensor", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/162808.json"}}}, "votes": 0, "watches": 2, "content": {"raw": "`sensors::GpsSensor` class has getters for latitude, longitude and altitude, however, in keeping with `msg.GPS`, there should be 3 more getters (for ENU velocities).\r\n\r\nThis is trivial-ish to add. Should this be added or not? Also if yes, which branch should I send the PR to? (I do have a patch ready, but it'll drop by Tuesday)\r\n\r\nMerry Christmas folks\r\n:christmas_tree: :santa:", "markup": "markdown", "html": "<p><code>sensors::GpsSensor</code> class has getters for latitude, longitude and altitude, however, in keeping with <code>msg.GPS</code>, there should be 3 more getters (for ENU velocities).</p>\n<p>This is trivial-ish to add. Should this be added or not? Also if yes, which branch should I send the PR to? (I do have a patch ready, but it'll drop by Tuesday)</p>\n<p>Merry Christmas folks\n<img class=\"emoji\" src=\"data/pf-emoji-service--cdn.us-east-1.prod.public.atl-paas.net/standard/551c9814-1d37-4573-819d-afab3afeaf32/48x48/1f384.png\" alt=\"\ud83c\udf84\" title=\":christmas_tree:\" data-emoji-short-name=\":christmas_tree:\" /> <img class=\"emoji\" src=\"data/pf-emoji-service--cdn.us-east-1.prod.public.atl-paas.net/standard/551c9814-1d37-4573-819d-afab3afeaf32/48x48/1f385.png\" alt=\"\ud83c\udf85\" title=\":santa:\" data-emoji-short-name=\":santa:\" /></p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": {"name": "7.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242744.json"}}}, "edited_on": null, "created_on": "2017-12-22T09:28:00.931966+00:00", "milestone": null, "updated_on": "2018-02-02T16:43:54.227059+00:00", "type": "issue", "id": 2394}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2395/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2395.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2395/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2395/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2395/implement-missing-functions-in-movabletext"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2395/vote"}}, "reporter": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "title": "Implement missing functions in MovableText", "component": {"name": "rendering", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122881.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "Most `Get` functions in `rendering::MovableText` are declared but not implemented. \r\n\r\nPull request #2839 implemented them for Gazebo 9; we should backport just the implementation of existing functions, and possibly the new tests, to Gazebo 7.", "markup": "markdown", "html": "<p>Most <code>Get</code> functions in <code>rendering::MovableText</code> are declared but not implemented. </p>\n<p><a href=\"#!/osrf/gazebo/pull-requests/2839/updates-to-movabletext\" rel=\"nofollow\" class=\"ap-connect-link\">Pull request #2839</a> implemented them for Gazebo 9; we should backport just the implementation of existing functions, and possibly the new tests, to Gazebo 7.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": {"name": "7.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242744.json"}}}, "edited_on": null, "created_on": "2018-01-05T21:52:10.558267+00:00", "milestone": null, "updated_on": "2018-03-08T22:26:56.936396+00:00", "type": "issue", "id": 2395}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2396/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2396.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2396/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2396/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2396/gz-sdf-p-modelsdf-prints-the-sdf"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2396/vote"}}, "reporter": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "title": "`gz sdf -p model.sdf` prints the sdf description, not a file in the current folder", "component": {"name": "tools", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/132355.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "I was trying to print a model file in the current folder with `gz sdf -p model.sdf`, but I kept seeing errors like:\r\n\r\n~~~\r\nError [parser_urdf.cc:3474] Unable to call parseURDF on robot model\r\nError [parser.cc:313] parse as old deprecated model file failed.\r\n~~~\r\n\r\nIf I moved up to the parent folder, then I am able to print them properly with `gz sdf -p model_folder/model.sdf`.\r\n\r\nThe [gz sdf -p code](#!/osrf/gazebo/src/63bf55c324210f0ac2c12879953d4222fbf8aef5/tools/gz.cc?fileviewer=file-view-default#gz.cc-1050) first verifies that the path exists, then calls `sdf::readFile`, but it seems that `sdf::readFile` has its own logic when searching for file matches. So it's probably safer to read the file as a string and call `sdf::readString`.\r\n\r\nThis could be fixed in gazebo7 and merged forwards.\r\n\r\nIssueForNewDevelopers", "markup": "markdown", "html": "<p>I was trying to print a model file in the current folder with <code>gz sdf -p model.sdf</code>, but I kept seeing errors like:</p>\n<div class=\"codehilite\"><pre><span></span>Error [parser_urdf.cc:3474] Unable to call parseURDF on robot model\nError [parser.cc:313] parse as old deprecated model file failed.\n</pre></div>\n\n\n<p>If I moved up to the parent folder, then I am able to print them properly with <code>gz sdf -p model_folder/model.sdf</code>.</p>\n<p>The <a data-is-external-link=\"true\" href=\"#!/osrf/gazebo/src/63bf55c324210f0ac2c12879953d4222fbf8aef5/tools/gz.cc?fileviewer=file-view-default#gz.cc-1050\" rel=\"nofollow\">gz sdf -p code</a> first verifies that the path exists, then calls <code>sdf::readFile</code>, but it seems that <code>sdf::readFile</code> has its own logic when searching for file matches. So it's probably safer to read the file as a string and call <code>sdf::readString</code>.</p>\n<p>This could be fixed in gazebo7 and merged forwards.</p>\n<p>IssueForNewDevelopers</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2018-01-06T02:08:04.136259+00:00", "milestone": null, "updated_on": "2018-01-06T02:09:07.763603+00:00", "type": "issue", "id": 2396}, {"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2397/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2397.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2397/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2397/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2397/gzserver-doesnt-close-disconnected-sockets"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2397/vote"}}, "reporter": {"display_name": "Timo K", "uuid": "{d509ae58-0a71-467f-b700-e477ed1f9c63}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd509ae58-0a71-467f-b700-e477ed1f9c63%7D"}, "html": {"href": "https://bitbucket.org/%7Bd509ae58-0a71-467f-b700-e477ed1f9c63%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/56c1a0e520281669442223efbb000ae4d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsTK-2.png"}}, "nickname": "tik0", "type": "user", "account_id": "5a5373aa186ca229522221fa"}, "title": "gzserver doesn't close disconnected sockets", "component": {"name": "transport", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122882.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "This is not a repost of #689, but has exactly the same outcome.\r\n\r\nInstruction to let the bug occur:\r\n\r\n1. Run `gazebo --verbose`\r\n2. Place a box randomly with model name `unit_box`\r\n3. Run the following command in another terminal: `for idx in $(seq 1 1000000); do echo \"idx: $idx\"; gz model -m unit_box -x $(( $idx % 5)) -y 0 -z 0.5 -R 0 -P 0 -Y 0; done`\r\n\r\nAfter exactly 1024 calls (which is the maximum allowable number of open files investigated by `ulimit -n`) gzserver quits with the following message:\r\n\r\n```\r\ngetifaddres: Too many open files\r\n[Err] [Connection.cc:738] EXCEPTION: Unable to get local interface addresses\r\n\r\nterminate called after throwing an instance of 'gazebo::common::Exception'\r\n```\r\n\r\nVia `lsof | grep gzserver | wc` or `netstat -p | grep gzserver | wc` one can see, that the connections just increase.\r\n\r\nTested with `Gazebo multi-robot simulator, version 7.9.0` from official ROS Kinetic package repository for `Ubuntu 16.04`.", "markup": "markdown", "html": "<p>This is not a repost of <a href=\"#!/osrf/gazebo/issues/689/gazebo-master-doesnt-close-disconnected\" rel=\"nofollow\" title=\"gazebo master doesn&#39;t close disconnected sockets\" class=\"ap-connect-link\"><s>#689</s></a>, but has exactly the same outcome.</p>\n<p>Instruction to let the bug occur:</p>\n<ol>\n<li>Run <code>gazebo --verbose</code></li>\n<li>Place a box randomly with model name <code>unit_box</code></li>\n<li>Run the following command in another terminal: <code>for idx in $(seq 1 1000000); do echo \"idx: $idx\"; gz model -m unit_box -x $(( $idx % 5)) -y 0 -z 0.5 -R 0 -P 0 -Y 0; done</code></li>\n</ol>\n<p>After exactly 1024 calls (which is the maximum allowable number of open files investigated by <code>ulimit -n</code>) gzserver quits with the following message:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">getifaddres</span><span class=\"o\">:</span> <span class=\"n\">Too</span> <span class=\"n\">many</span> <span class=\"n\">open</span> <span class=\"n\">files</span>\n<span class=\"o\">[</span><span class=\"n\">Err</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"n\">Connection</span><span class=\"o\">.</span><span class=\"na\">cc</span><span class=\"o\">:</span><span class=\"mi\">738</span><span class=\"o\">]</span> <span class=\"n\">EXCEPTION</span><span class=\"o\">:</span> <span class=\"n\">Unable</span> <span class=\"n\">to</span> <span class=\"kd\">get</span> <span class=\"n\">local</span> <span class=\"kd\">interface</span> <span class=\"n\">addresses</span>\n\n<span class=\"n\">terminate</span> <span class=\"n\">called</span> <span class=\"n\">after</span> <span class=\"n\">throwing</span> <span class=\"n\">an</span> <span class=\"n\">instance</span> <span class=\"n\">of</span> <span class=\"s1\">&#39;gazebo::common::Exception&#39;</span>\n</pre></div>\n\n\n<p>Via <code>lsof | grep gzserver | wc</code> or <code>netstat -p | grep gzserver | wc</code> one can see, that the connections just increase.</p>\n<p>Tested with <code>Gazebo multi-robot simulator, version 7.9.0</code> from official ROS Kinetic package repository for <code>Ubuntu 16.04</code>.</p>", "type": "rendered"}, "assignee": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "state": "new", "version": {"name": "7.0", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/242744.json"}}}, "edited_on": null, "created_on": "2018-01-08T13:53:21.212669+00:00", "milestone": null, "updated_on": "2018-01-08T13:53:21.212669+00:00", "type": "issue", "id": 2397}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2398/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2398.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2398/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2398/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2398/installation-problem-on-windows-due-to"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2398/vote"}}, "reporter": {"display_name": "Michele Colledanchise", "uuid": "{9f9eaf6c-4413-47a5-8e3a-b33130ad3132}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9f9eaf6c-4413-47a5-8e3a-b33130ad3132%7D"}, "html": {"href": "https://bitbucket.org/%7B9f9eaf6c-4413-47a5-8e3a-b33130ad3132%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:02ef2bae-0895-4e61-b08a-76c97f2d5dde/c9da7a56-a915-4c4a-ab36-eff6bc1df3de/128"}}, "nickname": "miccol", "type": "user", "account_id": "557058:02ef2bae-0895-4e61-b08a-76c97f2d5dde"}, "title": "Installation problem on Windows due to some boost libraries", "component": null, "votes": 0, "watches": 0, "content": {"raw": "Hello, I am installing Gazebo for windows using the instructions given [here](http://gazebosim.org/tutorials?tut=install_on_windows)  \r\n\r\nHowever, I am getting this error\r\n\r\n\r\n```\r\n#!CMake\r\n\r\nBoost version: 1.56.0\r\n\r\n  Boost include path: C:/Users/mcolledanchise/gz-ws/boost_1_56_0\r\n\r\n  Could not find the following Boost libraries:\r\n\r\n          boost_thread\r\n          boost_signals\r\n          boost_system\r\n          boost_filesystem\r\n          boost_program_options\r\n          boost_regex\r\n          boost_iostreams\r\n          boost_date_time\r\n```\r\n\r\nI checked a bit the configure file and I saw that it is looking for the libraries in \r\n```\r\n#!c++\r\n\r\nC:\\Users\\mcolledanchise\\gz-ws\\boost_1_56_0\\lib64-msvc-12.0\r\n```\r\n\r\n\r\nthe funny thing is that I can find the dlls and libs files there. \r\nWhat could cause the problem?\r\n\r\nCheers\r\nMichele", "markup": "markdown", "html": "<p>Hello, I am installing Gazebo for windows using the instructions given <a data-is-external-link=\"true\" href=\"http://gazebosim.org/tutorials?tut=install_on_windows\" rel=\"nofollow\">here</a>  </p>\n<p>However, I am getting this error</p>\n<div class=\"codehilite language-cmake\"><pre><span></span><span class=\"err\">Boost</span> <span class=\"err\">version:</span> <span class=\"err\">1.56.0</span>\n\n  <span class=\"err\">Boost</span> <span class=\"err\">include</span> <span class=\"err\">path:</span> <span class=\"err\">C:/Users/mcolledanchise/gz-ws/boost_1_56_0</span>\n\n  <span class=\"err\">Could</span> <span class=\"err\">not</span> <span class=\"err\">find</span> <span class=\"err\">the</span> <span class=\"err\">following</span> <span class=\"err\">Boost</span> <span class=\"err\">libraries:</span>\n\n          <span class=\"err\">boost_thread</span>\n          <span class=\"err\">boost_signals</span>\n          <span class=\"err\">boost_system</span>\n          <span class=\"err\">boost_filesystem</span>\n          <span class=\"err\">boost_program_options</span>\n          <span class=\"err\">boost_regex</span>\n          <span class=\"err\">boost_iostreams</span>\n          <span class=\"err\">boost_date_time</span>\n</pre></div>\n\n\n<p>I checked a bit the configure file and I saw that it is looking for the libraries in </p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"nl\">C</span><span class=\"p\">:</span><span class=\"err\">\\</span><span class=\"n\">Users</span><span class=\"err\">\\</span><span class=\"n\">mcolledanchise</span><span class=\"err\">\\</span><span class=\"n\">gz</span><span class=\"o\">-</span><span class=\"n\">ws</span><span class=\"err\">\\</span><span class=\"n\">boost_1_56_0</span><span class=\"err\">\\</span><span class=\"n\">lib64</span><span class=\"o\">-</span><span class=\"n\">msvc</span><span class=\"o\">-</span><span class=\"mf\">12.0</span>\n</pre></div>\n\n\n<p>the funny thing is that I can find the dlls and libs files there. \nWhat could cause the problem?</p>\n<p>Cheers\nMichele</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2018-01-11T11:57:50.594892+00:00", "milestone": null, "updated_on": "2018-01-11T11:57:50.594892+00:00", "type": "issue", "id": 2398}, {"priority": "critical", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2399/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2399.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2399/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2399/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2399/dependency-problem-with-ros-kinetic"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2399/vote"}}, "reporter": null, "title": "Dependency Problem with ros-kinetic-gazebo8-ros and libgazebo7", "component": null, "votes": 2, "watches": 2, "content": {"raw": "ros-kinetic-gazebo8-ros now depends on libgazebo7, but it should be libgazebo8.", "markup": "markdown", "html": "<p>ros-kinetic-gazebo8-ros now depends on libgazebo7, but it should be libgazebo8.</p>", "type": "rendered"}, "assignee": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "state": "resolved", "version": null, "edited_on": null, "created_on": "2018-01-13T15:19:32.016594+00:00", "milestone": null, "updated_on": "2018-01-15T01:00:35.870595+00:00", "type": "issue", "id": 2399}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2400/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2400.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2400/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2400/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2400/contact-problem-between-a-pushrod-and"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2400/vote"}}, "reporter": {"display_name": "Mohit Mehndiratta", "uuid": "{61b3aa2f-6e8f-4b08-95be-f569ef6c0e4e}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B61b3aa2f-6e8f-4b08-95be-f569ef6c0e4e%7D"}, "html": {"href": "https://bitbucket.org/%7B61b3aa2f-6e8f-4b08-95be-f569ef6c0e4e%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/83d06ffed308ca8d4981e279d0544b35d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMM-1.png"}}, "nickname": "mohit005", "type": "user", "account_id": "5a5b8f2463086069b1d529e3"}, "title": "Contact problem between a pushrod and suspended weight.", "component": {"name": "physics::ODEPhysics", "links": {"self": {"href": "data/repositories/osrf/gazebo/components/122883.json"}}}, "votes": 1, "watches": 1, "content": {"raw": "Dear Gazebo Community,\r\n\r\nI am in the process of developing a gazebo model of a UAV that incorporates a mechanism to drop certain weight blocks. All the weight blocks are designed with hooks which are positioned within slots enclosed at the bottom of the UAV base.  The linear motion of the pushrod (controlled via gazebo plugin) opens the interlocking for the blocks (as visualized from Fig.).\r\nWhile running the simulation, the problem that I am encountering is the wobbly/bouncy motion of the weight block when it is suspended from the pushrod. Even the pushrod oscillates back and forth, which eventually opens the interlocking for the hook and it gets dropped even without commanding. I suspect the problem lies within the contact definition between the weight block and the pushrod. Whenever a contact is detected, a significant reaction force is applied to the hook of the weight block that results in its bouncy motion. I tried increasing damping for the contact by changing  <kp> and <kd>  parameters within the <contact> tag of the sdf file, but with no success. Another thing that I noticed, when I make the pushrod joint to be 'fixed' (by specifying zero values for <upper> and <lower> limits), the weight block although oscillates, but does not get dropped. To me it implied that there might be something wrong with the controller of the pushrod. So, I tried playing with the PID parameters but still it didn't solve the problem. After few moments of hover flight, the block drops due to rapid wobbling. Below is the snippet of my sdf code for the pushrod and weight block definitions:\r\n\r\n**Pushrod SDF**\r\n<link name='push_rod_link'>\r\n      <pose frame=''>0.06807 0 -0.04150 0 0 0</pose>\r\n      <inertial>\r\n        <pose frame=''>-0.08 0 0 0 0 0</pose>\r\n        <mass>0.130</mass>\r\n        <inertia>\r\n          <ixx>3.741E-06</ixx>\r\n          <ixy>0</ixy>\r\n          <ixz>0</ixz>\r\n          <iyy>7.658E-04</iyy>\r\n          <iyz>0</iyz>\r\n          <izz>7.658E-04</izz>\r\n        </inertia>\r\n      </inertial>\r\n      <collision name='push_rod_link_collision'>\r\n        <pose frame=''>0 0 0 0 0 0</pose>\r\n        <geometry>\r\n          <mesh>\r\n\t    <scale>1 1 1</scale>\r\n            <uri>model://tricopter_weightdrop/meshes/Push_Rod.STL</uri>\r\n\t  </mesh>\r\n        </geometry>\r\n        <surface>\r\n          <contact>\r\n            <ode/>\r\n          </contact>\r\n          <friction>\r\n            <ode>\r\n\t      <mu>1</mu>\r\n\t      <mu2>1</mu2>\r\n\t    </ode>\r\n          </friction>\r\n        </surface>\r\n      </collision>\r\n      <visual name='push_rod_link_visual'>\r\n        <pose frame=''>0 0 0 0 0 0</pose>\r\n        <geometry>\r\n          <mesh>\r\n            <scale>1 1 1</scale>\r\n            <uri>model://tricopter_weightdrop/meshes/Push_Rod.STL</uri>\r\n          </mesh>\r\n        </geometry>\r\n        <material>\r\n          <script>\r\n            <name>Gazebo/White</name>\r\n            <uri>file://media/materials/scripts/gazebo.material</uri>\r\n          </script>\r\n        </material>\r\n      </visual>\r\n      <gravity>1</gravity>\r\n      <velocity_decay/>\r\n      <self_collide>0</self_collide>\r\n    </link>\r\n    <joint name='push_rod_joint' type='prismatic'>\r\n      <pose frame=''>0 0 0 0 0 0</pose>\r\n      <child>push_rod_link</child>\r\n      <parent>base_frame_link</parent>\r\n      <axis>\r\n        <xyz>1 0 0</xyz>\r\n        <limit>\r\n\t  <lower>-0.052</lower>\r\n          <upper>0.0</upper>\r\n\t  <effort>1000</effort>\r\n\t  <velocity>10</velocity>\r\n        </limit>\r\n        <dynamics>\r\n          <spring_reference>0</spring_reference>\r\n          <spring_stiffness>0</spring_stiffness>\r\n\t  <damping>0.007</damping>\r\n        </dynamics>\r\n        <use_parent_model_frame>1</use_parent_model_frame>\r\n      </axis>\r\n    </joint>\r\n\r\n**Weight block SDF**\r\n<link name='weight_block_1_link'>\r\n      <pose frame=''>0.05126 0 -0.04130 0 0 0</pose>\r\n      <inertial>\r\n        <pose frame=''>0 0 -0.013 0 0 0</pose>\r\n        <mass>0.055</mass>\r\n        <inertia>\r\n          <ixx>3.613E-05</ixx>\r\n          <ixy>0</ixy>\r\n          <ixz>0</ixz>\r\n          <iyy>4.9E-06</iyy>\r\n          <iyz>0</iyz>\r\n          <izz>3.190E-05</izz>\r\n        </inertia>\r\n      </inertial>\r\n      <collision name='weight_block_1_link_collision'>\r\n\t<max_contacts>1</max_contacts>\r\n        <pose frame=''>0 0 0 0 0 0</pose>\r\n        <geometry>\r\n          <mesh>\r\n\t    <scale>1 1 1</scale>\r\n            <uri>model://weight_blocks/meshes/weight_block_small_0.STL</uri>\r\n\t  </mesh>\r\n        </geometry>\r\n        <surface>\r\n          <contact>\r\n            <ode>\r\n\t      <kp>100000000</kp>\r\n\t      <kd>1000</kd>\r\n\t      <max_vel>0</max_vel>\r\n\t      <min_depth>0.0001</min_depth>\r\n            </ode>\r\n            <bullet>\r\n\t      <split_impulse>0</split_impulse>\r\n            </bullet>\r\n          </contact>\r\n          <friction>\r\n            <ode>\r\n\t      <mu>2</mu>\r\n\t      <mu2>2</mu2>\r\n\t    </ode>\r\n          </friction>\r\n \t  <soft_contact>\r\n            <dart>\r\n\t      <damping>100</damping>\r\n            </dart>\r\n          </soft_contact>\r\n        </surface>\r\n      </collision>\r\n      <visual name='weight_block_1_link_visual'>\r\n        <pose frame=''>0 0 0 0 0 0</pose>\r\n        <geometry>\r\n          <mesh>\r\n            <scale>1 1 1</scale>\r\n            <uri>model://weight_blocks/meshes/weight_block_small_0.STL</uri>\r\n          </mesh>\r\n        </geometry>\r\n        <material>\r\n          <script>\r\n            <name>Gazebo/White</name>\r\n            <uri>file://media/materials/scripts/gazebo.material</uri>\r\n          </script>\r\n        </material>\r\n      </visual>\r\n      <gravity>1</gravity>\r\n      <velocity_decay/>\r\n      <self_collide>0</self_collide>\r\n    </link>\r\n\r\nAlso, I have defined the physics in the world file as:\r\n\r\n**World file**\r\n<physics name='default_physics' default='0' type='ode'>\r\n      <gravity>0 0 -9.8066</gravity>\r\n      <ode>\r\n        <solver>\r\n          <type>quick</type>\r\n          <iters>100</iters>\r\n          <sor>1.3</sor>\r\n          <use_dynamic_moi_rescaling>0</use_dynamic_moi_rescaling>\r\n        </solver>\r\n        <constraints>\r\n          <cfm>0</cfm>\r\n          <erp>0.5</erp>\r\n          <contact_max_correcting_vel>100</contact_max_correcting_vel>\r\n          <contact_surface_layer>0.001</contact_surface_layer>\r\n        </constraints>\r\n      </ode>\r\n      <max_step_size>0.002</max_step_size>\r\n      <real_time_factor>1</real_time_factor>\r\n      <real_time_update_rate>500</real_time_update_rate>\r\n      <magnetic_field>6e-06 2.3e-05 -4.2e-05</magnetic_field>\r\n</physics>\r\n\r\nMy PID controller definition for the pushrod is:\r\n  <p>0.9</p>\r\n  <i>0.05</i>\r\n  <d>0.4</d>\r\n  <iMax>0.1</iMax>\r\n  <iMin>-0.1</iMin>\r\n  <cmdMax>2.7</cmdMax>\r\n  <cmdMin>-2.7</cmdMin>\r\n\r\nI have spent some time in finding a similar issue, however, couldn't find one. Any of your help is highly appreciated.\r\n\r\nMohit\r\nP.S. I am not sure whether is it a bug, so please pardon me if I made a wrong classification.", "markup": "markdown", "html": "<p>Dear Gazebo Community,</p>\n<p>I am in the process of developing a gazebo model of a UAV that incorporates a mechanism to drop certain weight blocks. All the weight blocks are designed with hooks which are positioned within slots enclosed at the bottom of the UAV base.  The linear motion of the pushrod (controlled via gazebo plugin) opens the interlocking for the blocks (as visualized from Fig.).\nWhile running the simulation, the problem that I am encountering is the wobbly/bouncy motion of the weight block when it is suspended from the pushrod. Even the pushrod oscillates back and forth, which eventually opens the interlocking for the hook and it gets dropped even without commanding. I suspect the problem lies within the contact definition between the weight block and the pushrod. Whenever a contact is detected, a significant reaction force is applied to the hook of the weight block that results in its bouncy motion. I tried increasing damping for the contact by changing  &lt;kp&gt; and &lt;kd&gt;  parameters within the &lt;contact&gt; tag of the sdf file, but with no success. Another thing that I noticed, when I make the pushrod joint to be 'fixed' (by specifying zero values for &lt;upper&gt; and &lt;lower&gt; limits), the weight block although oscillates, but does not get dropped. To me it implied that there might be something wrong with the controller of the pushrod. So, I tried playing with the PID parameters but still it didn't solve the problem. After few moments of hover flight, the block drops due to rapid wobbling. Below is the snippet of my sdf code for the pushrod and weight block definitions:</p>\n<p><strong>Pushrod SDF</strong>\n&lt;link name='push_rod_link'&gt;\n      &lt;pose frame=''&gt;0.06807 0 -0.04150 0 0 0&lt;/pose&gt;\n      &lt;inertial&gt;\n        &lt;pose frame=''&gt;-0.08 0 0 0 0 0&lt;/pose&gt;\n        &lt;mass&gt;0.130&lt;/mass&gt;\n        &lt;inertia&gt;\n          &lt;ixx&gt;3.741E-06&lt;/ixx&gt;\n          &lt;ixy&gt;0&lt;/ixy&gt;\n          &lt;ixz&gt;0&lt;/ixz&gt;\n          &lt;iyy&gt;7.658E-04&lt;/iyy&gt;\n          &lt;iyz&gt;0&lt;/iyz&gt;\n          &lt;izz&gt;7.658E-04&lt;/izz&gt;\n        &lt;/inertia&gt;\n      &lt;/inertial&gt;\n      &lt;collision name='push_rod_link_collision'&gt;\n        &lt;pose frame=''&gt;0 0 0 0 0 0&lt;/pose&gt;\n        &lt;geometry&gt;\n          &lt;mesh&gt;\n        &lt;scale&gt;1 1 1&lt;/scale&gt;\n            &lt;uri&gt;model://tricopter_weightdrop/meshes/Push_Rod.STL&lt;/uri&gt;\n      &lt;/mesh&gt;\n        &lt;/geometry&gt;\n        &lt;surface&gt;\n          &lt;contact&gt;\n            &lt;ode/&gt;\n          &lt;/contact&gt;\n          &lt;friction&gt;\n            &lt;ode&gt;\n          &lt;mu&gt;1&lt;/mu&gt;\n          &lt;mu2&gt;1&lt;/mu2&gt;\n        &lt;/ode&gt;\n          &lt;/friction&gt;\n        &lt;/surface&gt;\n      &lt;/collision&gt;\n      &lt;visual name='push_rod_link_visual'&gt;\n        &lt;pose frame=''&gt;0 0 0 0 0 0&lt;/pose&gt;\n        &lt;geometry&gt;\n          &lt;mesh&gt;\n            &lt;scale&gt;1 1 1&lt;/scale&gt;\n            &lt;uri&gt;model://tricopter_weightdrop/meshes/Push_Rod.STL&lt;/uri&gt;\n          &lt;/mesh&gt;\n        &lt;/geometry&gt;\n        &lt;material&gt;\n          &lt;script&gt;\n            &lt;name&gt;Gazebo/White&lt;/name&gt;\n            &lt;uri&gt;file://media/materials/scripts/gazebo.material&lt;/uri&gt;\n          &lt;/script&gt;\n        &lt;/material&gt;\n      &lt;/visual&gt;\n      &lt;gravity&gt;1&lt;/gravity&gt;\n      &lt;velocity_decay/&gt;\n      &lt;self_collide&gt;0&lt;/self_collide&gt;\n    &lt;/link&gt;\n    &lt;joint name='push_rod_joint' type='prismatic'&gt;\n      &lt;pose frame=''&gt;0 0 0 0 0 0&lt;/pose&gt;\n      &lt;child&gt;push_rod_link&lt;/child&gt;\n      &lt;parent&gt;base_frame_link&lt;/parent&gt;\n      &lt;axis&gt;\n        &lt;xyz&gt;1 0 0&lt;/xyz&gt;\n        &lt;limit&gt;\n      &lt;lower&gt;-0.052&lt;/lower&gt;\n          &lt;upper&gt;0.0&lt;/upper&gt;\n      &lt;effort&gt;1000&lt;/effort&gt;\n      &lt;velocity&gt;10&lt;/velocity&gt;\n        &lt;/limit&gt;\n        &lt;dynamics&gt;\n          &lt;spring_reference&gt;0&lt;/spring_reference&gt;\n          &lt;spring_stiffness&gt;0&lt;/spring_stiffness&gt;\n      &lt;damping&gt;0.007&lt;/damping&gt;\n        &lt;/dynamics&gt;\n        &lt;use_parent_model_frame&gt;1&lt;/use_parent_model_frame&gt;\n      &lt;/axis&gt;\n    &lt;/joint&gt;</p>\n<p><strong>Weight block SDF</strong>\n&lt;link name='weight_block_1_link'&gt;\n      &lt;pose frame=''&gt;0.05126 0 -0.04130 0 0 0&lt;/pose&gt;\n      &lt;inertial&gt;\n        &lt;pose frame=''&gt;0 0 -0.013 0 0 0&lt;/pose&gt;\n        &lt;mass&gt;0.055&lt;/mass&gt;\n        &lt;inertia&gt;\n          &lt;ixx&gt;3.613E-05&lt;/ixx&gt;\n          &lt;ixy&gt;0&lt;/ixy&gt;\n          &lt;ixz&gt;0&lt;/ixz&gt;\n          &lt;iyy&gt;4.9E-06&lt;/iyy&gt;\n          &lt;iyz&gt;0&lt;/iyz&gt;\n          &lt;izz&gt;3.190E-05&lt;/izz&gt;\n        &lt;/inertia&gt;\n      &lt;/inertial&gt;\n      &lt;collision name='weight_block_1_link_collision'&gt;\n    &lt;max_contacts&gt;1&lt;/max_contacts&gt;\n        &lt;pose frame=''&gt;0 0 0 0 0 0&lt;/pose&gt;\n        &lt;geometry&gt;\n          &lt;mesh&gt;\n        &lt;scale&gt;1 1 1&lt;/scale&gt;\n            &lt;uri&gt;model://weight_blocks/meshes/weight_block_small_0.STL&lt;/uri&gt;\n      &lt;/mesh&gt;\n        &lt;/geometry&gt;\n        &lt;surface&gt;\n          &lt;contact&gt;\n            &lt;ode&gt;\n          &lt;kp&gt;<a href=\"#!/osrf/gazebo/commits/100000000\" rel=\"nofollow\" class=\"ap-connect-link\">100000000</a>&lt;/kp&gt;\n          &lt;kd&gt;1000&lt;/kd&gt;\n          &lt;max_vel&gt;0&lt;/max_vel&gt;\n          &lt;min_depth&gt;0.0001&lt;/min_depth&gt;\n            &lt;/ode&gt;\n            &lt;bullet&gt;\n          &lt;split_impulse&gt;0&lt;/split_impulse&gt;\n            &lt;/bullet&gt;\n          &lt;/contact&gt;\n          &lt;friction&gt;\n            &lt;ode&gt;\n          &lt;mu&gt;2&lt;/mu&gt;\n          &lt;mu2&gt;2&lt;/mu2&gt;\n        &lt;/ode&gt;\n          &lt;/friction&gt;\n      &lt;soft_contact&gt;\n            &lt;dart&gt;\n          &lt;damping&gt;100&lt;/damping&gt;\n            &lt;/dart&gt;\n          &lt;/soft_contact&gt;\n        &lt;/surface&gt;\n      &lt;/collision&gt;\n      &lt;visual name='weight_block_1_link_visual'&gt;\n        &lt;pose frame=''&gt;0 0 0 0 0 0&lt;/pose&gt;\n        &lt;geometry&gt;\n          &lt;mesh&gt;\n            &lt;scale&gt;1 1 1&lt;/scale&gt;\n            &lt;uri&gt;model://weight_blocks/meshes/weight_block_small_0.STL&lt;/uri&gt;\n          &lt;/mesh&gt;\n        &lt;/geometry&gt;\n        &lt;material&gt;\n          &lt;script&gt;\n            &lt;name&gt;Gazebo/White&lt;/name&gt;\n            &lt;uri&gt;file://media/materials/scripts/gazebo.material&lt;/uri&gt;\n          &lt;/script&gt;\n        &lt;/material&gt;\n      &lt;/visual&gt;\n      &lt;gravity&gt;1&lt;/gravity&gt;\n      &lt;velocity_decay/&gt;\n      &lt;self_collide&gt;0&lt;/self_collide&gt;\n    &lt;/link&gt;</p>\n<p>Also, I have defined the physics in the world file as:</p>\n<p><strong>World file</strong>\n&lt;physics name='default_physics' default='0' type='ode'&gt;\n      &lt;gravity&gt;0 0 -9.8066&lt;/gravity&gt;\n      &lt;ode&gt;\n        &lt;solver&gt;\n          &lt;type&gt;quick&lt;/type&gt;\n          &lt;iters&gt;100&lt;/iters&gt;\n          &lt;sor&gt;1.3&lt;/sor&gt;\n          &lt;use_dynamic_moi_rescaling&gt;0&lt;/use_dynamic_moi_rescaling&gt;\n        &lt;/solver&gt;\n        &lt;constraints&gt;\n          &lt;cfm&gt;0&lt;/cfm&gt;\n          &lt;erp&gt;0.5&lt;/erp&gt;\n          &lt;contact_max_correcting_vel&gt;100&lt;/contact_max_correcting_vel&gt;\n          &lt;contact_surface_layer&gt;0.001&lt;/contact_surface_layer&gt;\n        &lt;/constraints&gt;\n      &lt;/ode&gt;\n      &lt;max_step_size&gt;0.002&lt;/max_step_size&gt;\n      &lt;real_time_factor&gt;1&lt;/real_time_factor&gt;\n      &lt;real_time_update_rate&gt;500&lt;/real_time_update_rate&gt;\n      &lt;magnetic_field&gt;6e-06 2.3e-05 -4.2e-05&lt;/magnetic_field&gt;\n&lt;/physics&gt;</p>\n<p>My PID controller definition for the pushrod is:\n  &lt;p&gt;0.9&lt;/p&gt;\n  &lt;i&gt;0.05&lt;/i&gt;\n  &lt;d&gt;0.4&lt;/d&gt;\n  &lt;iMax&gt;0.1&lt;/iMax&gt;\n  &lt;iMin&gt;-0.1&lt;/iMin&gt;\n  &lt;cmdMax&gt;2.7&lt;/cmdMax&gt;\n  &lt;cmdMin&gt;-2.7&lt;/cmdMin&gt;</p>\n<p>I have spent some time in finding a similar issue, however, couldn't find one. Any of your help is highly appreciated.</p>\n<p>Mohit\nP.S. I am not sure whether is it a bug, so please pardon me if I made a wrong classification.</p>", "type": "rendered"}, "assignee": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "state": "new", "version": {"name": "8.1", "links": {"self": {"href": "data/repositories/osrf/gazebo/versions/243455.json"}}}, "edited_on": null, "created_on": "2018-01-14T18:25:00.058220+00:00", "milestone": null, "updated_on": "2018-01-14T18:41:19.740132+00:00", "type": "issue", "id": 2400}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo.json"}, "html": {"href": "#!/osrf/gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}ts=1694483"}}, "type": "repository", "name": "gazebo", "full_name": "osrf/gazebo", "uuid": "{51a0cd5d-8697-4eb1-8b08-e919ee881e1c}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo/issues/2401/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo/issues/2401.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2401/watch"}, "comments": {"href": "data/repositories/osrf/gazebo/issues/2401/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo/issues/2401/not-working-correctly-in-combination-with"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo/issues/2401/vote"}}, "reporter": {"display_name": "Andreas Bihlmaier", "uuid": "{5937f01e-6c0d-4cfd-b8d2-6276f312c74c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5937f01e-6c0d-4cfd-b8d2-6276f312c74c%7D"}, "html": {"href": "https://bitbucket.org/%7B5937f01e-6c0d-4cfd-b8d2-6276f312c74c%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/0a70ca141ff43b3d9385a1823f4c265ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsAB-3.png"}}, "nickname": "andreasBihlmaier", "type": "user", "account_id": "557058:32bae45c-b312-4f18-8f77-d15bd9d6f68b"}, "title": "<joint> <axis> not working correctly in combination with <include> inside <model> (nested model) in sdf >= 1.5 unless old behaviour (sdf <= 1.4) is restored via <use_parent_model_frame>", "component": null, "votes": 3, "watches": 2, "content": {"raw": "Hi everyone,\r\n\r\nI found an issue regarding the \"new\" (SDF >= 1.5) behavior of <joint><axis> in combination with <include>:\r\nThe axis of all models that are <include>d with a <pose> are wrong. To be more precise, it appears that they do not take the <include><pose> into account and thus turn up wrong with respect to all other coordinate systems in the <include>d model.\r\nThe issue is easily reproducible in Gazebo 7 and 8. A minimal example follows (and is attached) together with three screenshots that show the issue using the \"Demo Joint Types\" model from the online repository. \r\nAs there is simply a coordinate transform missing *somewhere*, I'd estimate someone more familiar with this part of the Gazebo code base, will be able to quickly fix it. I would highly appreciate it.\r\n\r\n```\r\n#!xml\r\n\r\n<?xml version=\"1.0\" ?>\r\n<sdf version=\"1.6\">\r\n  <model name=\"broken_joint_axis_include_demo\">\r\n\r\n    <include>\r\n      <uri>model://demo_joint_types</uri>\r\n      <name>model1</name>\r\n    </include>\r\n\r\n    <include>\r\n      <uri>model://demo_joint_types</uri>\r\n      <name>model2</name>\r\n      <pose>\r\n        2 0 0\r\n        0 0 1.57079 \r\n      </pose>\r\n    </include>\r\n\r\n    <joint name=\"rd_drive_torque_to_beer_joint\" type=\"fixed\">\r\n      <parent>model1::heavy_base</parent>\r\n      <child>model2::heavy_base</child>\r\n    </joint>\r\n    \r\n  </model>\r\n</sdf>\r\n```\r\n\r\nThe combined model:\r\n![gazebo_joint_axis_include_bug01.png](data/bitbucket.org/repo/jgXqbo/images/1879317020-gazebo_joint_axis_include_bug01.png)\r\n\r\nCorrect <joint><axis>:\r\n![gazebo_joint_axis_include_bug03.png](data/bitbucket.org/repo/jgXqbo/images/642108975-gazebo_joint_axis_include_bug03.png)\r\n\r\nWrong <joint><axis> in <include>d model:\r\n![gazebo_joint_axis_include_bug02.png](data/bitbucket.org/repo/jgXqbo/images/1071516660-gazebo_joint_axis_include_bug02.png)\r\n\r\nNote: Everything works if all joints in the <include>d model use <use_parent_model_frame>1</use_parent_model_frame>, but then we are back at the non-intuitive way <axis> is defined (to model instead of child frame).", "markup": "markdown", "html": "<p>Hi everyone,</p>\n<p>I found an issue regarding the \"new\" (SDF &gt;= 1.5) behavior of &lt;joint&gt;&lt;axis&gt; in combination with &lt;include&gt;:\nThe axis of all models that are &lt;include&gt;d with a &lt;pose&gt; are wrong. To be more precise, it appears that they do not take the &lt;include&gt;&lt;pose&gt; into account and thus turn up wrong with respect to all other coordinate systems in the &lt;include&gt;d model.\nThe issue is easily reproducible in Gazebo 7 and 8. A minimal example follows (and is attached) together with three screenshots that show the issue using the \"Demo Joint Types\" model from the online repository. \nAs there is simply a coordinate transform missing <em>somewhere</em>, I'd estimate someone more familiar with this part of the Gazebo code base, will be able to quickly fix it. I would highly appreciate it.</p>\n<div class=\"codehilite language-xml\"><pre><span></span><span class=\"cp\">&lt;?xml version=&quot;1.0&quot; ?&gt;</span>\n<span class=\"nt\">&lt;sdf</span> <span class=\"na\">version=</span><span class=\"s\">&quot;1.6&quot;</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;model</span> <span class=\"na\">name=</span><span class=\"s\">&quot;broken_joint_axis_include_demo&quot;</span><span class=\"nt\">&gt;</span>\n\n    <span class=\"nt\">&lt;include&gt;</span>\n      <span class=\"nt\">&lt;uri&gt;</span>model://demo_joint_types<span class=\"nt\">&lt;/uri&gt;</span>\n      <span class=\"nt\">&lt;name&gt;</span>model1<span class=\"nt\">&lt;/name&gt;</span>\n    <span class=\"nt\">&lt;/include&gt;</span>\n\n    <span class=\"nt\">&lt;include&gt;</span>\n      <span class=\"nt\">&lt;uri&gt;</span>model://demo_joint_types<span class=\"nt\">&lt;/uri&gt;</span>\n      <span class=\"nt\">&lt;name&gt;</span>model2<span class=\"nt\">&lt;/name&gt;</span>\n      <span class=\"nt\">&lt;pose&gt;</span>\n        2 0 0\n        0 0 1.57079 \n      <span class=\"nt\">&lt;/pose&gt;</span>\n    <span class=\"nt\">&lt;/include&gt;</span>\n\n    <span class=\"nt\">&lt;joint</span> <span class=\"na\">name=</span><span class=\"s\">&quot;rd_drive_torque_to_beer_joint&quot;</span> <span class=\"na\">type=</span><span class=\"s\">&quot;fixed&quot;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;parent&gt;</span>model1::heavy_base<span class=\"nt\">&lt;/parent&gt;</span>\n      <span class=\"nt\">&lt;child&gt;</span>model2::heavy_base<span class=\"nt\">&lt;/child&gt;</span>\n    <span class=\"nt\">&lt;/joint&gt;</span>\n\n  <span class=\"nt\">&lt;/model&gt;</span>\n<span class=\"nt\">&lt;/sdf&gt;</span>\n</pre></div>\n\n\n<p>The combined model:\n<img alt=\"gazebo_joint_axis_include_bug01.png\" src=\"data/bitbucket.org/repo/jgXqbo/images/1879317020-gazebo_joint_axis_include_bug01.png\" /></p>\n<p>Correct &lt;joint&gt;&lt;axis&gt;:\n<img alt=\"gazebo_joint_axis_include_bug03.png\" src=\"data/bitbucket.org/repo/jgXqbo/images/642108975-gazebo_joint_axis_include_bug03.png\" /></p>\n<p>Wrong &lt;joint&gt;&lt;axis&gt; in &lt;include&gt;d model:\n<img alt=\"gazebo_joint_axis_include_bug02.png\" src=\"data/bitbucket.org/repo/jgXqbo/images/1071516660-gazebo_joint_axis_include_bug02.png\" /></p>\n<p>Note: Everything works if all joints in the &lt;include&gt;d model use &lt;use_parent_model_frame&gt;1&lt;/use_parent_model_frame&gt;, but then we are back at the non-intuitive way &lt;axis&gt; is defined (to model instead of child frame).</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2018-01-16T14:31:43.702174+00:00", "milestone": null, "updated_on": "2018-09-24T16:24:50.679803+00:00", "type": "issue", "id": 2401}], "pagelen": 100, "size": 2710, "page": 24, "previous": "data/repositories/osrf/gazebo/issues_page=23.json"}