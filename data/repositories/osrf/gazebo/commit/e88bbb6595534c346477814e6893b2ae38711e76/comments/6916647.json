{"links": {"self": {"href": "data/repositories/osrf/gazebo/commit/e88bbb6595534c346477814e6893b2ae38711e76/comments/6916647.json"}, "html": {"href": "#!/osrf/gazebo/commits/e88bbb6595534c346477814e6893b2ae38711e76#comment-6916647"}}, "deleted": false, "content": {"raw": "It might be worth pointing out that the [ArduCopterPlugin.cc](http://ArduCopterPlugin.cc) and [ArduPilotPlugin.cc](http://ArduPilotPlugin.cc) depends on\n\nstd::vector<std::string> Model::GetSensorScopedName\\( const std::string \\_name\\) const\n\nfrom Model.hh and [Model.cc](http://Model.cc) .\n\nWhile trying to compile I encountered build errors that the following member function is not know to Physics::Model\n\n    this->dataPtr->model->GetSensorScopedName(imuName);\n\nand fixed them by reintroducing deleted function declaration in model.hh and function definition in model.cc of the commits cd8102f and e88bbb6.  \n  \n**//EDIT: As pointed out by Steven Peters the function that was mentioned as a duplicate was referring GetSensorScopedName to SensorScopedName, hence the plugin files ArduCopterPlugin.cc and** [**ArduPilotPlugin.cc**](http://ArduPilotPlugin.cc) **should be changed to SensorScopedName. \\(I didn\u2019t verify the successful compilation of this suggestion\\)**\n\nCommit cd8102f deletes below line 487 in /gazebo/physics/Model.hh the declaration:\n\n          public: std::vector<std::string> GetSensorScopedName(\n    \n            const std::string _name) const;\n\nCommit e88bbb6 deletes below line 1235 in [Model.cc](http://Model.cc)\n\n    std::vector<std::string> Model::GetSensorScopedName(\n    \n      const std::string _name) const\n    \n    {\n    \n      std::vector<std::string> names;\n    \n      for (Link_V::const_iterator iter = this->links.begin();\n    \n           iter != this->links.end(); ++iter)\n    \n      {\n    \n        for (unsigned int j = 0; j < (*iter)->GetSensorCount(); ++j)\n    \n        {\n    \n          if ((*iter)->GetSensorName(j).size() < _name.size())\n    \n          {\n    \n            continue;\n    \n          }\n    \n          if ((*iter)->GetSensorName(j).substr(\n    \n                (*iter)->GetSensorName(j).size()\n    \n                - _name.size(), _name.size()) ==\n    \n              _name)\n    \n          {\n    \n            names.push_back((*iter)->GetSensorName(j));\n    \n          }\n    \n        }\n    \n      }\n    \n    \n      return names;\n    \n    }\n    \n    \n    //////////////////////////////////////////////////\n\nIn case somebody experienced the same issue, I wanted to share this solution. I am not sure what the purpose of the deletion was, so you may want to reintroduce the aforementioned code blocks or adapt the plugin files of [ArduCopterPlugin.cc](http://ArduCopterPlugin.cc) and [ArduPilotPlugin.cc](http://ArduPilotPlugin.cc) accordingly.", "markup": "markdown", "html": "<p>It might be worth pointing out that the <a data-is-external-link=\"true\" href=\"http://ArduCopterPlugin.cc\" rel=\"nofollow\">ArduCopterPlugin.cc</a> and <a data-is-external-link=\"true\" href=\"http://ArduPilotPlugin.cc\" rel=\"nofollow\">ArduPilotPlugin.cc</a> depends on</p>\n<p>std::vector&lt;std::string&gt; Model::GetSensorScopedName( const std::string _name) const</p>\n<p>from Model.hh and <a data-is-external-link=\"true\" href=\"http://Model.cc\" rel=\"nofollow\">Model.cc</a> .</p>\n<p>While trying to compile I encountered build errors that the following member function is not know to Physics::Model</p>\n<div class=\"codehilite\"><pre><span></span>this-&gt;dataPtr-&gt;model-&gt;GetSensorScopedName(imuName);\n</pre></div>\n\n\n<p>and fixed them by reintroducing deleted function declaration in model.hh and function definition in model.cc of the commits <a href=\"#!/osrf/gazebo/commits/cd8102f\" rel=\"nofollow\" class=\"ap-connect-link\">cd8102f</a> and <a href=\"#!/osrf/gazebo/commits/e88bbb6\" rel=\"nofollow\" class=\"ap-connect-link\">e88bbb6</a>.  </p>\n<p><strong>//EDIT: As pointed out by Steven Peters the function that was mentioned as a duplicate was referring GetSensorScopedName to SensorScopedName, hence the plugin files ArduCopterPlugin.cc and</strong> <a data-is-external-link=\"true\" href=\"http://ArduPilotPlugin.cc\" rel=\"nofollow\"><strong>ArduPilotPlugin.cc</strong></a> <strong>should be changed to SensorScopedName. (I didn\u2019t verify the successful compilation of this suggestion)</strong></p>\n<p>Commit <a href=\"#!/osrf/gazebo/commits/cd8102f\" rel=\"nofollow\" class=\"ap-connect-link\">cd8102f</a> deletes below line 487 in /gazebo/physics/Model.hh the declaration:</p>\n<div class=\"codehilite\"><pre><span></span>      <span class=\"nt\">public</span><span class=\"o\">:</span> <span class=\"nt\">std</span><span class=\"p\">::</span><span class=\"nd\">vector</span><span class=\"o\">&lt;</span><span class=\"nt\">std</span><span class=\"p\">::</span><span class=\"nd\">string</span><span class=\"o\">&gt;</span> <span class=\"nt\">GetSensorScopedName</span><span class=\"o\">(</span>\n\n        <span class=\"nt\">const</span> <span class=\"nt\">std</span><span class=\"p\">::</span><span class=\"nd\">string</span> <span class=\"nt\">_name</span><span class=\"o\">)</span> <span class=\"nt\">const</span><span class=\"o\">;</span>\n</pre></div>\n\n\n<p>Commit <a href=\"#!/osrf/gazebo/commits/e88bbb6\" rel=\"nofollow\" class=\"ap-connect-link\">e88bbb6</a> deletes below line 1235 in <a data-is-external-link=\"true\" href=\"http://Model.cc\" rel=\"nofollow\">Model.cc</a></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">std</span><span class=\"p\">::</span><span class=\"nd\">vector</span><span class=\"o\">&lt;</span><span class=\"nt\">std</span><span class=\"p\">::</span><span class=\"nd\">string</span><span class=\"o\">&gt;</span> <span class=\"nt\">Model</span><span class=\"p\">::</span><span class=\"nd\">GetSensorScopedName</span><span class=\"o\">(</span>\n\n  <span class=\"nt\">const</span> <span class=\"nt\">std</span><span class=\"p\">::</span><span class=\"nd\">string</span> <span class=\"nt\">_name</span><span class=\"o\">)</span> <span class=\"nt\">const</span>\n\n<span class=\"p\">{</span>\n\n  <span class=\"n\">std</span><span class=\"p\">:</span><span class=\"o\">:</span><span class=\"n\">vector</span><span class=\"o\">&lt;</span><span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">string</span><span class=\"o\">&gt;</span> <span class=\"n\">names</span><span class=\"p\">;</span>\n\n  <span class=\"err\">for</span> <span class=\"err\">(</span><span class=\"n\">Link_V</span><span class=\"p\">:</span><span class=\"o\">:</span><span class=\"n\">const_iterator</span> <span class=\"n\">iter</span> <span class=\"o\">=</span> <span class=\"n\">this-</span><span class=\"o\">&gt;</span><span class=\"n\">links</span><span class=\"o\">.</span><span class=\"nf\">begin</span><span class=\"p\">();</span>\n\n       <span class=\"err\">iter</span> <span class=\"err\">!=</span> <span class=\"err\">this-&gt;links.end()</span><span class=\"p\">;</span> <span class=\"err\">++iter)</span>\n\n  <span class=\"err\">{</span>\n\n    <span class=\"err\">for</span> <span class=\"err\">(unsigned</span> <span class=\"err\">int</span> <span class=\"err\">j</span> <span class=\"err\">=</span> <span class=\"err\">0</span><span class=\"p\">;</span> <span class=\"err\">j</span> <span class=\"err\">&lt;</span> <span class=\"err\">(*iter)-&gt;GetSensorCount()</span><span class=\"p\">;</span> <span class=\"err\">++j)</span>\n\n    <span class=\"err\">{</span>\n\n      <span class=\"err\">if</span> <span class=\"err\">((*iter)-&gt;GetSensorName(j).size()</span> <span class=\"err\">&lt;</span> <span class=\"err\">_name.size())</span>\n\n      <span class=\"err\">{</span>\n\n        <span class=\"err\">continue</span><span class=\"p\">;</span>\n\n      <span class=\"p\">}</span>\n\n      <span class=\"nt\">if</span> <span class=\"o\">((*</span><span class=\"nt\">iter</span><span class=\"o\">)</span><span class=\"nt\">-</span><span class=\"o\">&gt;</span><span class=\"nt\">GetSensorName</span><span class=\"o\">(</span><span class=\"nt\">j</span><span class=\"o\">)</span><span class=\"p\">.</span><span class=\"nc\">substr</span><span class=\"o\">(</span>\n\n            <span class=\"o\">(*</span><span class=\"nt\">iter</span><span class=\"o\">)</span><span class=\"nt\">-</span><span class=\"o\">&gt;</span><span class=\"nt\">GetSensorName</span><span class=\"o\">(</span><span class=\"nt\">j</span><span class=\"o\">)</span><span class=\"p\">.</span><span class=\"nc\">size</span><span class=\"o\">()</span>\n\n            <span class=\"nt\">-</span> <span class=\"nt\">_name</span><span class=\"p\">.</span><span class=\"nc\">size</span><span class=\"o\">(),</span> <span class=\"nt\">_name</span><span class=\"p\">.</span><span class=\"nc\">size</span><span class=\"o\">())</span> <span class=\"o\">==</span>\n\n          <span class=\"nt\">_name</span><span class=\"o\">)</span>\n\n      <span class=\"p\">{</span>\n\n        <span class=\"err\">names.push_back((*iter)-&gt;GetSensorName(j))</span><span class=\"p\">;</span>\n\n      <span class=\"p\">}</span>\n\n    <span class=\"err\">}</span>\n\n  <span class=\"err\">}</span>\n\n\n  <span class=\"nt\">return</span> <span class=\"nt\">names</span><span class=\"o\">;</span>\n\n<span class=\"err\">}</span>\n\n\n<span class=\"o\">//////////////////////////////////////////////////</span>\n</pre></div>\n\n\n<p>In case somebody experienced the same issue, I wanted to share this solution. I am not sure what the purpose of the deletion was, so you may want to reintroduce the aforementioned code blocks or adapt the plugin files of <a data-is-external-link=\"true\" href=\"http://ArduCopterPlugin.cc\" rel=\"nofollow\">ArduCopterPlugin.cc</a> and <a data-is-external-link=\"true\" href=\"http://ArduPilotPlugin.cc\" rel=\"nofollow\">ArduPilotPlugin.cc</a> accordingly.</p>", "type": "rendered"}, "created_on": "2018-12-06T23:21:46.394135+00:00", "user": {"display_name": "Philipp Rothenh\u00e4usler", "uuid": "{bb513470-dc1d-4fe0-80e7-e61805d9767c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bbb513470-dc1d-4fe0-80e7-e61805d9767c%7D"}, "html": {"href": "https://bitbucket.org/%7Bbb513470-dc1d-4fe0-80e7-e61805d9767c%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/e825d509770088e589ba389754c0d86fd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPR-4.png"}}, "nickname": "prothen", "type": "user", "account_id": "5c099eb6d272d71605b8b15b"}, "commit": {"hash": "e88bbb6595534c346477814e6893b2ae38711e76", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo/commit/e88bbb6595534c346477814e6893b2ae38711e76.json"}, "html": {"href": "#!/osrf/gazebo/commits/e88bbb6595534c346477814e6893b2ae38711e76"}}}, "updated_on": "2018-12-06T23:46:00.054965+00:00", "type": "commit_comment", "id": 6916647}